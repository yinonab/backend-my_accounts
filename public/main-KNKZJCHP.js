var u0=Object.defineProperty,BO=Object.defineProperties;var $O=Object.getOwnPropertyDescriptors;var Kc=Object.getOwnPropertySymbols;var d0=Object.prototype.hasOwnProperty,f0=Object.prototype.propertyIsEnumerable;var l0=(t,e,n)=>e in t?u0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})d0.call(e,n)&&l0(t,n,e[n]);if(Kc)for(var n of Kc(e))f0.call(e,n)&&l0(t,n,e[n]);return t},U=(t,e)=>BO(t,$O(e));var Ah=(t,e)=>{var n={};for(var r in t)d0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Kc)for(var r of Kc(t))e.indexOf(r)<0&&f0.call(t,r)&&(n[r]=t[r]);return n};var p=(t,e)=>()=>(t&&(e=t(t=0)),e);var HO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),zO=(t,e)=>{for(var n in e)u0(t,n,{get:e[n],enumerable:!0})};var I=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function h0(t,e){return Object.is(t,e)}function me(t){let e=tt;return tt=t,e}function p0(){return tt}function Rh(t){if(Yc)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(t);let e=tt.nextProducerIndex++;if(el(tt),e<tt.producerNode.length&&tt.producerNode[e]!==t&&ta(tt)){let n=tt.producerNode[e];Xc(n,tt.producerIndexOfThis[e])}tt.producerNode[e]!==t&&(tt.producerNode[e]=t,tt.producerIndexOfThis[e]=ta(tt)?y0(t,tt,e):0),tt.producerLastReadVersion[e]=t.version}function qO(){Qc++}function g0(t){if(!(ta(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qc)){if(!t.producerMustRecompute(t)&&!Lh(t)){t.dirty=!1,t.lastCleanEpoch=Qc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Qc}}function m0(t){if(t.liveConsumerNode===void 0)return;let e=Yc;Yc=!0;try{for(let n of t.liveConsumerNode)n.dirty||WO(n)}finally{Yc=e}}function v0(){return tt?.consumerAllowSignalWrites!==!1}function WO(t){t.dirty=!0,m0(t),t.consumerMarkedDirty?.(t)}function Jc(t){return t&&(t.nextProducerIndex=0),me(t)}function Fh(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ta(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Lh(t){el(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(g0(n),r!==n.version))return!0}return!1}function Vh(t){if(el(t),ta(t))for(let e=0;e<t.producerNode.length;e++)Xc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function y0(t,e,n){if(_0(t),t.liveConsumerNode.length===0&&C0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=y0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xc(t,e){if(_0(t),t.liveConsumerNode.length===1&&C0(t))for(let r=0;r<t.producerNode.length;r++)Xc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];el(i),i.producerIndexOfThis[r]=e}}function ta(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function el(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function C0(t){return t.producerNode!==void 0}function b0(t){let e=Object.create(GO);e.computation=t;let n=()=>{if(g0(e),Rh(e),e.value===Zc)throw e.error;return e.value};return n[hr]=e,n}function KO(){throw new Error}function E0(){w0()}function D0(t){w0=t}function M0(t){let e=Object.create(I0);e.value=t;let n=()=>(Rh(e),e.value);return n[hr]=e,n}function jh(t,e){v0()||E0(),t.equal(t.value,e)||(t.value=e,QO(t))}function S0(t,e){v0()||E0(),jh(t,e(t.value))}function QO(t){t.version++,qO(),m0(t),YO?.()}var tt,Yc,Qc,hr,na,Nh,kh,Zc,GO,w0,YO,I0,x0=p(()=>{"use strict";tt=null,Yc=!1,Qc=1,hr=Symbol("SIGNAL");na={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Nh=Symbol("UNSET"),kh=Symbol("COMPUTING"),Zc=Symbol("ERRORED"),GO=U(E({},na),{value:Nh,dirty:!0,error:null,equal:h0,producerMustRecompute(t){return t.value===Nh||t.value===kh},producerRecomputeValue(t){if(t.value===kh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=kh;let n=Jc(t),r;try{r=t.computation()}catch(i){r=Zc,t.error=i}finally{Fh(t,n)}if(e!==Nh&&e!==Zc&&r!==Zc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});w0=KO;YO=null;I0=U(E({},na),{equal:h0,value:void 0})});function H(t){return typeof t=="function"}var qe=p(()=>{"use strict"});function Do(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tl=p(()=>{"use strict"});var nl,O0=p(()=>{"use strict";tl();nl=Do(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n})});function xi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var rl=p(()=>{"use strict"});function il(t){return t instanceof Fe||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function T0(t){H(t)?t():t.unsubscribe()}var Fe,Uh,Oi=p(()=>{"use strict";qe();O0();rl();Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof nl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{T0(o)}catch(s){e=e??[],s instanceof nl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)T0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xi(n,e)}remove(e){let{_finalizers:n}=this;n&&xi(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();Uh=Fe.EMPTY});var Sn,ra=p(()=>{"use strict";Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Mo,Bh=p(()=>{"use strict";Mo={setTimeout(t,e,...n){let{delegate:r}=Mo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Mo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0}});function ol(t){Mo.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(t);else throw t})}var $h=p(()=>{"use strict";ra();Bh()});function pr(){}var ia=p(()=>{"use strict"});function A0(t){return Hh("E",void 0,t)}function N0(t){return Hh("N",t,void 0)}function Hh(t,e,n){return{kind:t,value:e,error:n}}var P0,k0=p(()=>{"use strict";P0=Hh("C",void 0,void 0)});function So(t){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!Ti;if(e&&(Ti={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ti;if(Ti=null,n)throw r}}else t()}function R0(t){Sn.useDeprecatedSynchronousErrorHandling&&Ti&&(Ti.errorThrown=!0,Ti.error=t)}var Ti,sl=p(()=>{"use strict";ra();Ti=null});function zh(t,e){return ZO.call(t,e)}function al(t){Sn.useDeprecatedSynchronousErrorHandling?R0(t):ol(t)}function JO(t){throw t}function qh(t,e){let{onStoppedNotification:n}=Sn;n&&Mo.setTimeout(()=>n(t,e))}var Pi,ZO,Wh,qr,XO,cl=p(()=>{"use strict";qe();Oi();ra();$h();ia();k0();Bh();sl();Pi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,il(e)&&e.add(this)):this.destination=XO}static create(e,n,r){return new qr(e,n,r)}next(e){this.isStopped?qh(N0(e),this):this._next(e)}error(e){this.isStopped?qh(A0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qh(P0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZO=Function.prototype.bind;Wh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){al(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){al(r)}else al(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){al(n)}}},qr=class extends Pi{constructor(e,n,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zh(e.next,o),error:e.error&&zh(e.error,o),complete:e.complete&&zh(e.complete,o)}):i=e}this.destination=new Wh(i)}};XO={closed:!0,next:pr,error:JO,complete:pr}});var Io,ll=p(()=>{"use strict";Io=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function ft(t){return t}var gr=p(()=>{"use strict"});function Gh(...t){return Kh(t)}function Kh(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Yh=p(()=>{"use strict";gr()});function F0(t){var e;return(e=t??Sn.Promise)!==null&&e!==void 0?e:Promise}function eT(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function tT(t){return t&&t instanceof Pi||eT(t)&&il(t)}var J,ot=p(()=>{"use strict";cl();Oi();ll();Yh();ra();qe();sl();J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=tT(n)?n:new qr(n,r,i);return So(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=F0(r),new r((i,o)=>{let s=new qr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Io](){return this}pipe(...n){return Kh(n)(this)}toPromise(n){return n=F0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})()});function Qh(t){return H(t?.lift)}function X(t){return e=>{if(Qh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Le=p(()=>{"use strict";qe()});function Z(t,e,n,r,i){return new Zh(t,e,n,r,i)}var Zh,He=p(()=>{"use strict";cl();Zh=class extends Pi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function xo(){return X((t,e)=>{let n=null;t._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Jh=p(()=>{"use strict";Le();He()});var Wr,Xh=p(()=>{"use strict";ot();Oi();Jh();He();Le();Wr=class extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(Z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return xo()(this)}}});var L0,V0=p(()=>{"use strict";tl();L0=Do(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var he,ul,oa=p(()=>{"use strict";ot();Oi();V0();rl();sl();he=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ul(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new L0}next(n){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Uh:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,xi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return t.create=(e,n)=>new ul(e,n),t})(),ul=class extends he{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Uh}}});var ve,j0=p(()=>{"use strict";oa();ve=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var ep,U0=p(()=>{"use strict";ep={now(){return(ep.delegate||Date).now()},delegate:void 0}});var dl,B0=p(()=>{"use strict";Oi();dl=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}}});var sa,$0=p(()=>{"use strict";sa={setInterval(t,e,...n){let{delegate:r}=sa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=sa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0}});var fl,H0=p(()=>{"use strict";B0();$0();rl();fl=class extends dl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&sa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}});var Oo,z0=p(()=>{"use strict";U0();Oo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Oo.now=ep.now});var hl,q0=p(()=>{"use strict";z0();hl=class extends Oo{constructor(e,n=Oo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}});var aa,W0,pl=p(()=>{"use strict";H0();q0();aa=new hl(fl),W0=aa});var Mt,ca=p(()=>{"use strict";ot();Mt=new J(t=>t.complete())});function gl(t){return t&&H(t.schedule)}var tp=p(()=>{"use strict";qe()});function np(t){return t[t.length-1]}function ml(t){return H(np(t))?t.pop():void 0}function Wn(t){return gl(np(t))?t.pop():void 0}function G0(t,e){return typeof np(t)=="number"?t.pop():e}var Ai=p(()=>{"use strict";qe();tp()});function Y0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function K0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function Q0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(w){return new Promise(function(O,j){o.push([g,w,O,j])>1||c(g,w)})},_&&(i[g]=_(i[g])))}function c(g,_){try{l(r[g](_))}catch(w){m(o[0][3],w)}}function l(g){g.value instanceof Ni?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Z0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof K0=="function"?K0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var rp=p(()=>{"use strict"});var To,vl=p(()=>{"use strict";To=t=>t&&typeof t.length=="number"&&typeof t!="function"});function yl(t){return H(t?.then)}var ip=p(()=>{"use strict";qe()});function _l(t){return H(t[Io])}var op=p(()=>{"use strict";ll();qe()});function Cl(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}var sp=p(()=>{"use strict";qe()});function bl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var ap=p(()=>{"use strict"});function nT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wl,cp=p(()=>{"use strict";wl=nT()});function El(t){return H(t?.[wl])}var lp=p(()=>{"use strict";cp();qe()});function Dl(t){return Q0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ni(n.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{n.releaseLock()}})}function Ml(t){return H(t?.getReader)}var Sl=p(()=>{"use strict";rp();qe()});function we(t){if(t instanceof J)return t;if(t!=null){if(_l(t))return rT(t);if(To(t))return iT(t);if(yl(t))return oT(t);if(Cl(t))return J0(t);if(El(t))return sT(t);if(Ml(t))return aT(t)}throw bl(t)}function rT(t){return new J(e=>{let n=t[Io]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iT(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function oT(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ol)})}function sT(t){return new J(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function J0(t){return new J(e=>{cT(t,e).catch(n=>e.error(n))})}function aT(t){return J0(Dl(t))}function cT(t,e){var n,r,i,o;return Y0(this,void 0,void 0,function*(){try{for(n=Z0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}var mt=p(()=>{"use strict";rp();vl();ip();ot();op();sp();ap();lp();Sl();qe();$h();ll()});function jt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}var Po=p(()=>{"use strict"});function Il(t,e=0){return X((n,r)=>{n.subscribe(Z(r,i=>jt(r,t,()=>r.next(i),e),()=>jt(r,t,()=>r.complete(),e),i=>jt(r,t,()=>r.error(i),e)))})}var up=p(()=>{"use strict";Po();Le();He()});function xl(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}var dp=p(()=>{"use strict";Le()});function X0(t,e){return we(t).pipe(xl(e),Il(e))}var eC=p(()=>{"use strict";mt();up();dp()});function tC(t,e){return we(t).pipe(xl(e),Il(e))}var nC=p(()=>{"use strict";mt();up();dp()});function rC(t,e){return new J(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}var iC=p(()=>{"use strict";ot()});function oC(t,e){return new J(n=>{let r;return jt(n,e,()=>{r=t[wl](),jt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var sC=p(()=>{"use strict";ot();cp();qe();Po()});function Ol(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{jt(n,e,()=>{let r=t[Symbol.asyncIterator]();jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}var fp=p(()=>{"use strict";ot();Po()});function aC(t,e){return Ol(Dl(t),e)}var cC=p(()=>{"use strict";fp();Sl()});function lC(t,e){if(t!=null){if(_l(t))return X0(t,e);if(To(t))return rC(t,e);if(yl(t))return tC(t,e);if(Cl(t))return Ol(t,e);if(El(t))return oC(t,e);if(Ml(t))return aC(t,e)}throw bl(t)}var uC=p(()=>{"use strict";eC();nC();iC();sC();fp();op();ip();vl();lp();sp();ap();Sl();cC()});function W(t,e){return e?lC(t,e):we(t)}var Ao=p(()=>{"use strict";uC();mt()});function F(...t){let e=Wn(t);return W(t,e)}var dC=p(()=>{"use strict";Ai();Ao()});function nt(t,e){let n=H(t)?t:()=>t,r=i=>i.error(n());return new J(e?i=>e.schedule(r,0,i):r)}var fC=p(()=>{"use strict";ot();qe()});function hp(t){return!!t&&(t instanceof J||H(t.lift)&&H(t.subscribe))}var hC=p(()=>{"use strict";ot();qe()});var In,No=p(()=>{"use strict";tl();In=Do(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"})});function ki(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new qr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new In)}});t.subscribe(o)})}var pC=p(()=>{"use strict";No();cl()});function gC(t){return t instanceof Date&&!isNaN(t)}var mC=p(()=>{"use strict"});function L(t,e){return X((n,r)=>{let i=0;n.subscribe(Z(r,o=>{r.next(t.call(e,o,i++))}))})}var ko=p(()=>{"use strict";Le();He()});function uT(t,e){return lT(e)?t(...e):t(e)}function Ro(t){return L(e=>uT(t,e))}var lT,Tl=p(()=>{"use strict";ko();({isArray:lT}=Array)});function Pl(t){if(t.length===1){let e=t[0];if(dT(e))return{args:e,keys:null};if(gT(e)){let n=pT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function gT(t){return t&&typeof t=="object"&&fT(t)===hT}var dT,fT,hT,pT,pp=p(()=>{"use strict";({isArray:dT}=Array),{getPrototypeOf:fT,prototype:hT,keys:pT}=Object});function Al(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}var gp=p(()=>{"use strict"});function la(...t){let e=Wn(t),n=ml(t),{args:r,keys:i}=Pl(t);if(r.length===0)return W([],e);let o=new J(mT(r,e,i?s=>Al(i,s):ft));return n?o.pipe(Ro(n)):o}function mT(t,e,n=ft){return r=>{vC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)vC(e,()=>{let l=W(t[c],e),u=!1;l.subscribe(Z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vC(t,e,n){t?jt(n,t,e):e()}var yC=p(()=>{"use strict";ot();pp();Ao();gr();Tl();Ai();gp();He();Po()});function _C(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?_(w):c.push(w),_=w=>{o&&e.next(w),l++;let O=!1;we(n(w,u++)).subscribe(Z(e,j=>{i?.(j),o?g(j):e.next(j)},()=>{O=!0},void 0,()=>{if(O)try{for(l--;c.length&&l<r;){let j=c.shift();s?jt(e,s,()=>_(j)):_(j)}m()}catch(j){e.error(j)}}))};return t.subscribe(Z(e,g,()=>{d=!0,m()})),()=>{a?.()}}var CC=p(()=>{"use strict";mt();Po();He()});function Ve(t,e,n=1/0){return H(e)?Ve((r,i)=>L((o,s)=>e(r,o,i,s))(we(t(r,i))),n):(typeof e=="number"&&(n=e),X((r,i)=>_C(r,i,t,n)))}var Fo=p(()=>{"use strict";ko();mt();Le();CC();qe()});function Gn(t=1/0){return Ve(ft,t)}var Nl=p(()=>{"use strict";Fo();gr()});function bC(){return Gn(1)}var wC=p(()=>{"use strict";Nl()});function Kn(...t){return bC()(W(t,Wn(t)))}var kl=p(()=>{"use strict";wC();Ai();Ao()});function Ri(t){return new J(e=>{we(t()).subscribe(e)})}var EC=p(()=>{"use strict";ot();mt()});function mp(...t){let e=ml(t),{args:n,keys:r}=Pl(t),i=new J(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;we(n[u]).subscribe(Z(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Al(r,a):a),o.complete())}))}});return e?i.pipe(Ro(e)):i}var DC=p(()=>{"use strict";ot();pp();mt();Ai();He();Tl();gp()});function Lo(t,e,n,r){if(H(n)&&(r=n,n=void 0),r)return Lo(t,e,n).pipe(Ro(r));let[i,o]=wT(t)?yT.map(s=>a=>t[s](e,a,n)):CT(t)?vT.map(MC(t,e)):bT(t)?_T.map(MC(t,e)):[];if(!i&&To(t))return Ve(s=>Lo(s,e,n))(we(t));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function MC(t,e){return n=>r=>t[n](e,r)}function CT(t){return H(t.addListener)&&H(t.removeListener)}function bT(t){return H(t.on)&&H(t.off)}function wT(t){return H(t.addEventListener)&&H(t.removeEventListener)}var vT,yT,_T,SC=p(()=>{"use strict";mt();ot();Fo();vl();qe();Tl();vT=["addListener","removeListener"],yT=["addEventListener","removeEventListener"],_T=["on","off"]});function Rl(t=0,e,n=W0){let r=-1;return e!=null&&(gl(e)?n=e:r=e),new J(i=>{let o=gC(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var vp=p(()=>{"use strict";ot();pl();tp();mC()});function Fl(...t){let e=Wn(t),n=G0(t,1/0),r=t;return r.length?r.length===1?we(r[0]):Gn(n)(W(r,e)):Mt}var IC=p(()=>{"use strict";Nl();mt();ca();Ai();Ao()});var Fi,xC=p(()=>{"use strict";ot();ia();Fi=new J(pr)});function je(t,e){return X((n,r)=>{let i=0;n.subscribe(Z(r,o=>t.call(e,o,i++)&&r.next(o)))})}var ua=p(()=>{"use strict";Le();He()});var OC=p(()=>{"use strict"});function de(t){return X((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Z(n,void 0,void 0,s=>{o=we(t(s,de(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}var yp=p(()=>{"use strict";mt();He();Le()});function TC(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Z(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var PC=p(()=>{"use strict";He()});function cn(t,e){return H(e)?Ve(t,e,1):Ve(t,1)}var _p=p(()=>{"use strict";Fo();qe()});function AC(t){return new J(e=>t.subscribe(e))}var NC=p(()=>{"use strict";ot()});function Ll(t,e=ET){let{connector:n}=e;return X((r,i)=>{let o=n();we(t(AC(o))).subscribe(i),i.add(r.subscribe(o))})}var ET,Cp=p(()=>{"use strict";oa();mt();Le();NC();ET={connector:()=>new he}});function bp(t,e=aa){return X((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(Z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var kC=p(()=>{"use strict";pl();Le();He()});function Gr(t){return X((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}var Vl=p(()=>{"use strict";Le();He()});function Te(t){return t<=0?()=>Mt:X((e,n)=>{let r=0;e.subscribe(Z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}var da=p(()=>{"use strict";ca();Le();He()});function RC(){return X((t,e)=>{t.subscribe(Z(e,pr))})}var FC=p(()=>{"use strict";Le();He();ia()});function fa(t){return L(()=>t)}var wp=p(()=>{"use strict";ko()});function Ep(t,e){return e?n=>Kn(e.pipe(Te(1),RC()),n.pipe(Ep(t))):Ve((n,r)=>we(t(n,r)).pipe(Te(1),fa(n)))}var LC=p(()=>{"use strict";kl();da();FC();wp();Fo();mt()});function ln(t,e=aa){let n=Rl(t,e);return Ep(()=>n)}var Dp=p(()=>{"use strict";pl();LC();vp()});function mr(t,e=ft){return t=t??DT,X((n,r)=>{let i,o=!0;n.subscribe(Z(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function DT(t,e){return t===e}var VC=p(()=>{"use strict";gr();Le();He()});function jl(t=MT){return X((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function MT(){return new In}var Mp=p(()=>{"use strict";No();Le();He()});function Wt(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var Sp=p(()=>{"use strict";Le()});function Yn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?je((i,o)=>t(i,o,r)):ft,Te(1),n?Gr(e):jl(()=>new In))}var jC=p(()=>{"use strict";No();ua();da();Vl();Mp();gr()});function Vo(t){return t<=0?()=>Mt:X((e,n)=>{let r=[];e.subscribe(Z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}var Ip=p(()=>{"use strict";ca();Le();He()});function xp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?je((i,o)=>t(i,o,r)):ft,Vo(1),n?Gr(e):jl(()=>new In))}var UC=p(()=>{"use strict";No();ua();Ip();Mp();Vl();gr()});function BC(t,e){let n=H(t)?t:()=>t;return H(e)?Ll(e,{connector:n}):r=>new Wr(r,n)}var $C=p(()=>{"use strict";Xh();qe();Cp()});function Op(t){return t?e=>Ll(t)(e):e=>BC(new he)(e)}var HC=p(()=>{"use strict";oa();$C();Cp()});function st(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:n=1/0,delay:r,resetOnSuccess:i=!1}=e;return n<=0?ft:X((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(Z(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<n){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Rl(r):we(r(d,a)),_=Z(s,()=>{_.unsubscribe(),m()},()=>{s.complete()});g.subscribe(_)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Tp=p(()=>{"use strict";Le();He();gr();vp();mt()});function Pp(t,e){return X(TC(t,e,arguments.length>=2,!0))}var zC=p(()=>{"use strict";Le();PC()});function Ap(...t){let e=Wn(t);return X((n,r)=>{(e?Kn(t,n,e):Kn(t,n)).subscribe(r)})}var qC=p(()=>{"use strict";kl();Ai();Le()});function Ue(t,e){return X((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Z(r,c=>{i?.unsubscribe();let l=0,u=o++;we(t(c,u)).subscribe(i=Z(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Np=p(()=>{"use strict";mt();Le();He()});function Qn(t){return X((e,n)=>{we(t).subscribe(Z(n,()=>n.complete(),pr)),!n.closed&&e.subscribe(n)})}var kp=p(()=>{"use strict";Le();He();mt();ia()});function ne(t,e,n){let r=H(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ft}var Rp=p(()=>{"use strict";qe();Le();He();gr()});var Ee=p(()=>{"use strict";ot();Xh();oa();j0();Oi();Yh();hC();pC();No();yC();kl();EC();DC();Ao();SC();IC();dC();fC();ca();xC();OC();yp();_p();kC();Dp();VC();ua();Sp();ko();Tp();Np();da();kp();Rp()});var Kr=p(()=>{"use strict";yp();_p();Vl();Dp();ua();Sp();jC();UC();ko();wp();Nl();Fo();HC();Tp();Jh();zC();qC();Np();da();Ip();kp();Rp()});function Iu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function wa(t){return{toString:t}.toString()}function ST(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Tb(t,e,n){return wa(()=>{let r=ST(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ul)?c[Ul]:Object.defineProperty(c,Ul,{value:[]})[Ul];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function IT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(xt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Qp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}function rr(t){return t.__forward_ref__=rr,t.toString=function(){return xt(this())},t}function It(t){return Pb(t)?t():t}function Pb(t){return typeof t=="function"&&t.hasOwnProperty(xT)&&t.__forward_ref__===rr}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ge(t){return{providers:t.providers||[],imports:t.imports||[]}}function xu(t){return WC(t,Nb)||WC(t,kb)}function Ab(t){return xu(t)!==null}function WC(t,e){return t.hasOwnProperty(e)?t[e]:null}function OT(t){let e=t&&(t[Nb]||t[kb]);return e||null}function GC(t){return t&&(t.hasOwnProperty(KC)||t.hasOwnProperty(TT))?t[KC]:null}function Rb(t){return t&&!!t.\u0275providers}function Ou(t){return typeof t=="string"?t:t==null?"":String(t)}function RT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ou(t)}function FT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new M(-200,t)}function zg(t,e){throw new M(-201,!1)}function Fb(){return Zp}function Ut(t){let e=Zp;return Zp=t,e}function Lb(t,e,n){let r=xu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;zg(t,"Injector")}function BT(){return Ho}function Yr(t){let e=Ho;return Ho=t,e}function $T(t,e=ae.Default){if(Ho===void 0)throw new M(-203,!1);return Ho===null?Lb(t,void 0,e):Ho.get(t,e&ae.Optional?null:void 0,e)}function A(t,e=ae.Default){return(Fb()||$T)(It(t),e)}function v(t,e=ae.Default){return A(t,Tu(e))}function Tu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xp(t){let e=[];for(let n=0;n<t.length;n++){let r=It(t[n]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=HT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function Vb(t,e){return t[Jp]=e,t.prototype[Jp]=e,t}function HT(t){return t[Jp]}function zT(t,e,n,r){let i=t[Jl];throw e[QC]&&i.unshift(e[QC]),t.message=qT(`
`+t.message,i,n,r),t[VT]=i,t[Jl]=null,t}function qT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UT?t.slice(2):t;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jT,`
  `)}`}function ji(t,e){let n=t.hasOwnProperty(Zl);return n?t[Zl]:null}function WT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function GT(t){return t.flat(Number.POSITIVE_INFINITY)}function Wg(t,e){t.forEach(n=>Array.isArray(n)?Wg(n,e):e(n))}function jb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Gg(t,e,n){let r=Ea(t,e);return r>=0?t[r|1]=n:(r=~r,KT(t,r,e,n)),r}function Fp(t,e){let n=Ea(t,e);if(n>=0)return t[n|1]}function Ea(t,e){return YT(t,e,1)}function YT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function QT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function eg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ZT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Hb(t){return t===3||t===4||t===6}function ZT(t){return t.charCodeAt(0)===64}function va(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ZC(t,n,i,null,e[++r]):ZC(t,n,i,null,null))}}return t}function ZC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}function JT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Kg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Kg(t){return t.type===4&&t.value!==zb}function XT(t,e,n){let r=t.type===4&&!n?zb:t.value;return e===r}function eP(t,e,n){let r=4,i=t.attrs,o=i!==null?rP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!xn(r)&&!xn(c))return!1;if(s&&xn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!XT(t,c,n)||c===""&&e.length===1){if(xn(r))return!1;s=!0}}else if(r&8){if(i===null||!JT(t,i,c,n)){if(xn(r))return!1;s=!0}}else{let l=e[++a],u=tP(c,i,Kg(t),n);if(u===-1){if(xn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(xn(r))return!1;s=!0}}}}return xn(r)||s}function xn(t){return(t&1)===0}function tP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iP(e,t)}function nP(t,e,n=!1){for(let r=0;r<e.length;r++)if(eP(t,e[r],n))return!0;return!1}function rP(t){for(let e=0;e<t.length;e++){let n=t[e];if(Hb(n))return e}return t.length}function iP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function JC(t,e){return t?":not("+e.trim()+")":e}function oP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xn(s)&&(e+=JC(o,i),i=""),r=s,o=o||!xn(r);n++}return i!==""&&(e+=JC(o,i)),e}function sP(t){return t.map(oP).join(",")}function aP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!xn(i))break;i=o}r++}return{attrs:e,classes:n}}function ee(t){return wa(()=>{let e=Yb(t),n=U(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$b.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xn.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""});Qb(n);let r=t.dependencies;return n.directiveDefs=tu(r,!1),n.pipeDefs=tu(r,!0),n.id=uP(n),n})}function cP(t){return Xr(t)||qb(t)}function lP(t){return t!==null}function Ke(t){return wa(()=>({type:t.type,bootstrap:t.bootstrap||Bt,declarations:t.declarations||Bt,imports:t.imports||Bt,exports:t.exports||Bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XC(t,e){if(t==null)return qo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Jr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Jr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function pe(t){return wa(()=>{let e=Yb(t);return Qb(e),e})}function Yg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Xr(t){return t[PT]||null}function qb(t){return t[AT]||null}function Wb(t){return t[NT]||null}function Gb(t){let e=Xr(t)||qb(t)||Wb(t);return e!==null?e.standalone:!1}function Kb(t,e){let n=t[kT]||null;if(!n&&e===!0)throw new Error(`Type ${xt(t)} does not have '\u0275mod' property.`);return n}function Yb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XC(t.inputs,e),outputs:XC(t.outputs),debugInfo:null}}function Qb(t){t.features?.forEach(e=>e(t))}function tu(t,e){if(!t)return null;let n=e?Wb:cP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(lP)}function uP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ts(t){return{\u0275providers:t}}function dP(...t){return{\u0275providers:Zb(!0,t),\u0275fromNgModule:!0}}function Zb(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Wg(e,s=>{let a=s;tg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jb(i,o),n}function Jb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Qg(i,o=>{e(o,r)})}}function tg(t,e,n,r){if(t=It(t),!t)return!1;let i=null,o=GC(t),s=!o&&Xr(t);if(!o&&!s){let c=t.ngModule;if(o=GC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)tg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Wg(o.imports,u=>{tg(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Jb(l,e)}if(!a){let l=ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:Bb,useValue:i,multi:!0},i),e({provide:Wo,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Qg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Qg(t,e){for(let n of t)Rb(n)&&(n=n.\u0275providers),Array.isArray(n)?Qg(n,e):e(n)}function Xb(t){return t!==null&&typeof t=="object"&&fP in t}function hP(t){return!!(t&&t.useExisting)}function pP(t){return!!(t&&t.useFactory)}function Go(t){return typeof t=="function"}function gP(t){return!!t.useClass}function Zg(){return Lp===void 0&&(Lp=new eu),Lp}function ng(t){let e=xu(t),n=e!==null?e.factory:ji(t);if(n!==null)return n;if(t instanceof k)throw new M(204,!1);if(t instanceof Function)return vP(t);throw new M(204,!1)}function vP(t){if(t.length>0)throw new M(204,!1);let n=OT(t);return n!==null?()=>n.factory(t):()=>new t}function yP(t){if(Xb(t))return jo(void 0,t.useValue);{let e=ew(t);return jo(e,Wl)}}function ew(t,e,n){let r;if(Go(t)){let i=It(t);return ji(i)||ng(i)}else if(Xb(t))r=()=>It(t.useValue);else if(pP(t))r=()=>t.useFactory(...Xp(t.deps||[]));else if(hP(t))r=()=>A(It(t.useExisting));else{let i=It(t&&(t.useClass||t.provide));if(_P(t))r=()=>new i(...Xp(t.deps));else return ji(i)||ng(i)}return r}function jo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _P(t){return!!t.deps}function CP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function bP(t){return typeof t=="function"||typeof t=="object"&&t instanceof k}function rg(t,e){for(let n of t)Array.isArray(n)?rg(n,e):n&&Rb(n)?rg(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof ya&&t.assertNotDestroyed();let n,r=Yr(t),i=Ut(void 0);try{return e()}finally{Yr(r),Ut(i)}}function tw(){return Fb()!==void 0||BT()!=null}function Jg(t){if(!tw())throw new M(-203,!1)}function wP(t){let e=St.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function EP(t){return typeof t=="function"}function Zr(t){return Array.isArray(t)&&typeof t[rw]=="object"}function wr(t){return Array.isArray(t)&&t[rw]===!0}function Xg(t){return(t.flags&4)!==0}function ku(t){return t.componentOffset>-1}function Ru(t){return(t.flags&1)===1}function ei(t){return!!t.template}function ig(t){return(t[Y]&512)!==0}function iw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Nn(){return ow}function ow(t){return t.type.prototype.ngOnChanges&&(t.setInput=MP),DP}function DP(){let t=aw(this),e=t?.current;if(e){let n=t.previous;if(n===qo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function MP(t,e,n,r,i){let o=this.declaredInputs[r],s=aw(t)||SP(t,{previous:qo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new og(l&&l.currentValue,n,c===qo),iw(t,e,i,n)}function aw(t){return t[sw]||null}function SP(t,e){return t[sw]=e}function nr(t){for(;Array.isArray(t);)t=t[br];return t}function cw(t,e){return nr(e[t])}function fn(t,e){return nr(e[t.index])}function lw(t,e){return t.data[e]}function em(t,e){return t[e]}function ii(t,e){let n=e[t];return Zr(n)?n:n[br]}function OP(t){return(t[Y]&4)===4}function tm(t){return(t[Y]&128)===128}function TP(t){return wr(t[vt])}function Qo(t,e){return e==null?null:t[e]}function uw(t){t[Uo]=0}function dw(t){t[Y]&1024||(t[Y]|=1024,tm(t)&&Lu(t))}function PP(t,e){for(;t>0;)e=e[ns],t--;return e}function Fu(t){return!!(t[Y]&9216||t[un]?.dirty)}function sg(t){t[er].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),Fu(t)&&Lu(t)}function Lu(t){t[er].changeDetectionScheduler?.notify(0);let e=$i(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!tm(e)));)e=$i(e)}function fw(t,e){if((t[Y]&256)===256)throw new M(911,!1);t[Qr]===null&&(t[Qr]=[]),t[Qr].push(e)}function AP(t,e){if(t[Qr]===null)return;let n=t[Qr].indexOf(e);n!==-1&&t[Qr].splice(n,1)}function $i(t){let e=t[vt];return wr(e)?e[vt]:e}function NP(){return ce.lFrame.elementDepthCount}function kP(){ce.lFrame.elementDepthCount++}function RP(){ce.lFrame.elementDepthCount--}function pw(){return ce.bindingsEnabled}function FP(){return ce.skipHydrationRootTNode!==null}function LP(t){return ce.skipHydrationRootTNode===t}function VP(){ce.skipHydrationRootTNode=null}function le(){return ce.lFrame.lView}function Je(){return ce.lFrame.tView}function B(t){return ce.lFrame.contextLView=t,t[Pn]}function $(t){return ce.lFrame.contextLView=null,t}function ht(){let t=gw();for(;t!==null&&t.type===64;)t=t.parent;return t}function gw(){return ce.lFrame.currentTNode}function jP(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yi(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function nm(){return ce.lFrame.isParent}function mw(){ce.lFrame.isParent=!1}function UP(){return ce.lFrame.contextLView}function vw(){return hw}function nb(t){hw=t}function Da(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function BP(t){return ce.lFrame.bindingIndex=t}function Vu(){return ce.lFrame.bindingIndex++}function yw(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $P(){return ce.lFrame.inI18n}function HP(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,ag(e)}function zP(){return ce.lFrame.currentDirectiveIndex}function ag(t){ce.lFrame.currentDirectiveIndex=t}function qP(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function _w(){return ce.lFrame.currentQueryIndex}function rm(t){ce.lFrame.currentQueryIndex=t}function WP(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[An]:null}function Cw(t,e,n){if(n&ae.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=WP(o),i===null||(o=o[ns],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=bw();return r.currentTNode=e,r.lView=t,!0}function im(t){let e=bw(),n=t[re];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bw(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?ww(t):e}function ww(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ew(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}function om(){let t=Ew();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function GP(t){return(ce.lFrame.contextLView=PP(t,ce.lFrame.contextLView))[Pn]}function Qi(){return ce.lFrame.selectedIndex}function Hi(t){ce.lFrame.selectedIndex=t}function sm(){let t=ce.lFrame;return lw(t.tView,t.selectedIndex)}function KP(){return ce.lFrame.currentNamespace}function ju(){return Mw}function Uu(t){Mw=t}function YP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ow(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Bu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Gl(t,e,n){Sw(t,e,3,n)}function Kl(t,e,n,r){(t[Y]&3)===n&&Sw(t,e,n,r)}function jp(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function Sw(t,e,n,r){let i=r!==void 0?t[Uo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Uo]+=65536),(a<o||o==-1)&&(QP(t,n,e,c),t[Uo]=(t[Uo]&4294901760)+c+2),c++}function rb(t,e){Zn(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),Zn(5,t,e)}}function QP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[Uo]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,rb(a,o)):rb(a,o)}function ZP(t){return t instanceof zi}function JP(t){return(t.flags&8)!==0}function XP(t){return(t.flags&16)!==0}function Iw(t){return t!==zo}function su(t){return t&32767}function eA(t){return t>>16}function au(t,e){let n=eA(t),r=e;for(;n>0;)r=r[ns],n--;return r}function cu(t){let e=lg;return lg=t,e}function rA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(pa)&&(r=n[pa]),r==null&&(r=n[pa]=nA++);let i=r&xw,o=1<<i;e.data[t+(i>>Ow)]|=o}function lu(t,e){let n=Tw(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,Bp(r.data,t),Bp(e,null),Bp(r.blueprint,null));let i=am(t,e),o=t.injectorIndex;if(Iw(i)){let s=su(i),a=au(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Bp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Tw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function am(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Rw(i),r===null)return zo;if(n++,i=i[ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zo}function ug(t,e,n){rA(t,e,n)}function iA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Hb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Pw(t,e,n){if(n&ae.Optional||t!==void 0)return t;zg(e,"NodeInjector")}function Aw(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[Ko],o=Ut(void 0);try{return i?i.get(e,r,n&ae.Optional):Lb(e,r,n&ae.Optional)}finally{Ut(o)}}return Pw(r,e,n)}function Nw(t,e,n,r=ae.Default,i){if(t!==null){if(e[Y]&2048&&!(r&ae.Self)){let s=cA(t,e,n,r,Jn);if(s!==Jn)return s}let o=kw(t,e,n,r,Jn);if(o!==Jn)return o}return Aw(e,n,r,i)}function kw(t,e,n,r,i){let o=sA(n);if(typeof o=="function"){if(!Cw(e,t,r))return r&ae.Host?Pw(i,n,r):Aw(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))zg(n);else return s}finally{Dw()}}else if(typeof o=="number"){let s=null,a=Tw(t,e),c=zo,l=r&ae.Host?e[tr][An]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?am(t,e):e[a+8],c===zo||!ob(r,!1)?a=-1:(s=e[re],a=su(c),e=au(c,e)));a!==-1;){let u=e[re];if(ib(o,a,u.data)){let d=oA(a,e,n,s,r,l);if(d!==Jn)return d}c=e[a+8],c!==zo&&ob(r,e[re].data[a+8]===l)&&ib(o,a,e)?(s=u,a=su(c),e=au(c,e)):a=-1}}return i}function oA(t,e,n,r,i,o){let s=e[re],a=s.data[t+8],c=r==null?ku(a)&&lg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,u=Yl(a,s,n,c,l);return u!==null?qi(e,s,u,a):Jn}function Yl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let _=s[g];if(g<c&&n===_||g>=c&&_.type===n)return g}if(i){let g=s[c];if(g&&ei(g)&&g.type===n)return c}return null}function qi(t,e,n,r){let i=t[n],o=e.data;if(ZP(i)){let s=i;s.resolving&&FT(RT(o[n]));let a=cu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ut(s.injectImpl):null,u=Cw(t,r,ae.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&YP(n,o[n],e)}finally{l!==null&&Ut(l),cu(a),s.resolving=!1,Dw()}}return i}function sA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(pa)?t[pa]:void 0;return typeof e=="number"?e>=0?e&xw:aA:e}function ib(t,e,n){let r=1<<t;return!!(n[e+(t>>Ow)]&r)}function ob(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}function aA(){return new Vi(ht(),le())}function Zi(t){return wa(()=>{let e=t.prototype.constructor,n=e[Zl]||dg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Zl]||dg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dg(t){return Pb(t)?()=>{let e=dg(It(t));return e&&e()}:ji(t)}function cA(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=kw(o,s,n,r|ae.Self,Jn);if(a!==Jn)return a;let c=o.parent;if(!c){let l=s[nw];if(l){let u=l.get(n,Jn,r);if(u!==Jn)return u}c=Rw(s),s=s[ns]}o=c}return i}function Rw(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[An]:null}function cm(t){return iA(ht(),t)}function sb(t,e=null,n=null,r){let i=Fw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Fw(t,e=null,n=null,r,i=new Set){let o=[n||Bt,dP(t)];return r=r||(typeof t=="object"?void 0:xt(t)),new ya(o,e||Zg(),r||null,i)}function $p(t){return t[uA]}function dA(){return new fg(le())}function uu(...t){}function Vw(t){let e,n;function r(){t=uu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ab(t){return queueMicrotask(()=>t()),()=>{t=uu}}function um(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pA(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Vw(()=>{t.callbackScheduled=!1,pg(t),t.isCheckStableRunning=!0,um(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),pg(t)}function gA(t){let e=()=>{pA(t)},n=fA++;t._inner=t._inner.fork({name:"angular",properties:{[lm]:!0,[du]:n,[du+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(mA(c))return r.invokeTask(o,s,a,c);try{return cb(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lb(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return cb(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!vA(c)&&e(),lb(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,pg(t),um(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function pg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function cb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lb(t){t._nesting--,um(t)}function mA(t){return jw(t,"__ignore_ng_zone__")}function vA(t){return jw(t,"__scheduler_tick__")}function jw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function yA(t="zone.js",e){return t==="noop"?new fu:t==="zone.js"?new ye(e):t}function CA(){return rs(ht(),le())}function rs(t,e){return new Pt(fn(t,e))}function bA(t){return t instanceof Pt?t.nativeElement:t}function wA(){return this._results[Symbol.iterator]()}function Uw(t){return(t.flags&128)===128}function DA(){return EA++}function MA(t){Bw.set(t[Nu],t)}function mg(t){Bw.delete(t[Nu])}function ti(t,e){Zr(e)?(t[ub]=e[Nu],MA(e)):t[ub]=e}function $w(t){return zw(t[_a])}function Hw(t){return zw(t[Tn])}function zw(t){for(;t!==null&&!wr(t);)t=t[Tn];return t}function qw(t){vg=t}function SA(){if(vg!==void 0)return vg;if(typeof document<"u")return document;throw new M(210,!1)}function pm(t,e,n=!1){return TA(t,e,n)}function AA(){if(Bl===void 0&&(Bl=null,St.trustedTypes))try{Bl=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bl}function db(t){return AA()?.createScriptURL(t)||t}function is(t){return t instanceof hu?t.changingThisBreaksApplicationSecurity:t}function gm(t,e){let n=NA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ob})`)}return n===e}function NA(t){return t instanceof hu&&t.getTypeName()||null}function Gw(t){return t=String(t),t.match(kA)?t:"unsafe:"+t}function At(t){let e=Yw();return e?e.sanitize(Hu.URL,t)||"":gm(t,"URL")?is(t):Gw(Ou(t))}function RA(t){let e=Yw();if(e)return db(e.sanitize(Hu.RESOURCE_URL,t)||"");if(gm(t,"ResourceURL"))return db(is(t));throw new M(904,!1)}function FA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?RA:At}function Kw(t,e,n){return FA(e,n)(t)}function Yw(){let t=le();return t&&t[er].sanitizer}function UA(t){return t.replace(LA,e=>e.replace(VA,jA))}function Qw(t){return t instanceof Function?t():t}function BA(t){return(t??v(Ze)).get(Yt)==="browser"}function mm(t,e){return $A(t,e)}function Bo(t,e,n,r,i){if(r!=null){let o,s=!1;wr(r)?o=r:Zr(r)&&(s=!0,r=r[br]);let a=nr(r);t===0&&n!==null?i==null?tE(e,n,a):pu(e,n,a,i||null,!0):t===1&&n!==null?pu(e,n,a,i||null,!0):t===2?i1(e,a,s):t===3&&e.destroyNode(a),o!=null&&s1(e,t,o,n,i)}}function HA(t,e){return t.createText(e)}function zA(t,e,n){t.setValue(e,n)}function qA(t,e){return t.createComment(UA(e))}function Zw(t,e,n){return t.createElement(e,n)}function WA(t,e){Jw(t,e),e[br]=null,e[An]=null}function GA(t,e,n,r,i,o){r[br]=i,r[An]=e,qu(t,r,n,1,i,o)}function Jw(t,e){e[er].changeDetectionScheduler?.notify(9),qu(t,e,e[We],2,null,null)}function KA(t){let e=t[_a];if(!e)return Hp(t[re],t);for(;e;){let n=null;if(Zr(e))n=e[_a];else{let r=e[Gt];r&&(n=r)}if(!n){for(;e&&!e[Tn]&&e!==t;)Zr(e)&&Hp(e[re],e),e=e[vt];e===null&&(e=t),Zr(e)&&Hp(e[re],e),n=e&&e[Tn]}e=n}}function YA(t,e,n,r){let i=Gt+r,o=n.length;r>0&&(n[i-1][Tn]=e),r<o-Gt?(e[Tn]=n[i],jb(n,Gt+r,e)):(n.push(e),e[Tn]=null),e[vt]=n;let s=e[Ui];s!==null&&n!==s&&Xw(s,e);let a=e[vr];a!==null&&a.insertView(t),sg(e),e[Y]|=128}function Xw(t,e){let n=t[Yo],r=e[vt];if(Zr(r))t[Y]|=ou.HasTransplantedViews;else{let i=r[vt][tr];e[tr]!==i&&(t[Y]|=ou.HasTransplantedViews)}n===null?t[Yo]=[e]:n.push(e)}function vm(t,e){let n=t[Yo],r=n.indexOf(e);n.splice(r,1)}function yg(t,e){if(t.length<=Gt)return;let n=Gt+e,r=t[n];if(r){let i=r[Ui];i!==null&&i!==t&&vm(i,r),e>0&&(t[n-1][Tn]=r[Tn]);let o=Xl(t,Gt+e);WA(r[re],r);let s=o[vr];s!==null&&s.detachView(o[re]),r[vt]=null,r[Tn]=null,r[Y]&=-129}return r}function eE(t,e){if(!(e[Y]&256)){let n=e[We];n.destroyNode&&qu(t,e,n,3,null,null),KA(e)}}function Hp(t,e){if(e[Y]&256)return;let n=me(null);try{e[Y]&=-129,e[Y]|=256,e[un]&&Vh(e[un]),ZA(t,e),QA(t,e),e[re].type===1&&e[We].destroy();let r=e[Ui];if(r!==null&&wr(e[vt])){r!==e[vt]&&vm(r,e);let i=e[vr];i!==null&&i.detachView(t)}mg(e)}finally{me(n)}}function QA(t,e){let n=t.cleanup,r=e[ru];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ru]=null);let i=e[Qr];if(i!==null){e[Qr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function ZA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Zn(4,a,c);try{c.call(a)}finally{Zn(5,a,c)}}else{Zn(4,i,o);try{o.call(i)}finally{Zn(5,i,o)}}}}}function JA(t,e,n){return XA(t,e.parent,n)}function XA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[br];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Xn.None||o===Xn.Emulated)return null}return fn(r,n)}}function pu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function tE(t,e,n){t.appendChild(e,n)}function fb(t,e,n,r,i){r!==null?pu(t,e,n,r,i):tE(t,e,n)}function nE(t,e){return t.parentNode(e)}function e1(t,e){return t.nextSibling(e)}function t1(t,e,n){return r1(t,e,n)}function n1(t,e,n){return t.type&40?fn(t,n):null}function zu(t,e,n,r){let i=JA(t,r,e),o=e[We],s=r.parent||e[An],a=t1(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)fb(o,i,n[c],a,!1);else fb(o,i,n,a,!1);hb!==void 0&&hb(o,r,e,n,i)}function ha(t,e){if(e!==null){let n=e.type;if(n&3)return fn(e,t);if(n&4)return _g(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ha(t,r);{let i=t[e.index];return wr(i)?_g(-1,i):nr(i)}}else{if(n&128)return ha(t,e.next);if(n&32)return mm(e,t)()||nr(t[e.index]);{let r=rE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$i(t[tr]);return ha(i,r)}else return ha(t,e.next)}}}return null}function rE(t,e){if(e!==null){let r=t[tr][An],i=e.projection;return r.projection[i]}return null}function _g(t,e){let n=Gt+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return ha(r,i)}return e[Bi]}function i1(t,e,n){t.removeChild(null,e,n)}function ym(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ti(nr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)ym(t,e,n.child,r,i,o,!1),Bo(e,t,i,a,o);else if(c&32){let l=mm(n,r),u;for(;u=l();)Bo(e,t,i,u,o);Bo(e,t,i,a,o)}else c&16?o1(t,e,r,n,i,o):Bo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function qu(t,e,n,r,i,o){ym(n,r,t.firstChild,e,i,o,!1)}function o1(t,e,n,r,i,o){let s=n[tr],c=s[An].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Bo(e,t,i,u,o)}else{let l=c,u=s[vt];Uw(r)&&(l.flags|=128),ym(t,e,l,u,i,o,!0)}}function s1(t,e,n,r,i){let o=n[Bi],s=nr(n);o!==s&&Bo(e,t,r,o,i);for(let a=Gt;a<n.length;a++){let c=n[a];qu(c[re],c,t,e,r,o)}}function a1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:_r.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_r.Important),t.setStyle(n,r,i,o))}}function c1(t,e,n){t.setAttribute(e,"style",n)}function iE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&eg(t,e,r),i!==null&&iE(t,e,i),o!==null&&c1(t,e,o)}function C(t=1){sE(Je(),le(),Qi()+t,!1)}function sE(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Kl(e,o,0,n)}Hi(n)}function D(t,e=ae.Default){let n=le();if(n===null)return A(t,e);let r=ht();return Nw(r,n,It(t),e)}function aE(){let t="invalid";throw new Error(t)}function cE(t,e,n,r,i,o){let s=me(null);try{let a=null;i&Jr.SignalBased&&(a=e[r][hr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Jr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):iw(e,a,r,o)}finally{me(s)}}function l1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hi(~i);else{let o=i,s=n[++r],a=n[++r];HP(s,o);let c=e[o];a(2,c)}}}finally{Hi(-1)}}function Wu(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[br]=i,d[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(d[Y]|=2048),uw(d),d[vt]=d[ns]=t,d[Pn]=n,d[er]=s||t&&t[er],d[We]=a||t&&t[We],d[Ko]=c||t&&t[Ko]||null,d[An]=o,d[Nu]=DA(),d[nu]=u,d[nw]=l,d[tr]=e.type==2?t[tr]:d,d}function Ma(t,e,n,r,i){let o=t.data[e];if(o===null)o=u1(t,e,n,r,i),$P()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=jP();o.injectorIndex=s===null?-1:s.injectorIndex}return Yi(o,!0),o}function u1(t,e,n,r,i){let o=gw(),s=nm(),a=s?o:o&&o.parent,c=t.data[e]=m1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function lE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uE(t,e,n,r,i){let o=Qi(),s=r&2;try{Hi(-1),s&&e.length>Kt&&sE(t,e,Kt,!1),Zn(s?2:0,i),n(r,i)}finally{Hi(o),Zn(s?3:1,i)}}function _m(t,e,n){if(Xg(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{me(r)}}}function Cm(t,e,n){pw()&&(w1(t,e,n,fn(n,e)),(n.flags&64)===64&&pE(t,e,n))}function bm(t,e,n=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function dE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wm(t,e,n,r,i,o,s,a,c,l,u){let d=Kt+r,m=d+i,g=d1(d,m),_=typeof l=="function"?l():l;return g[re]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function d1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ir);return n}function f1(t,e,n,r){let o=r.get(PA,Ww)||n===Xn.ShadowDom,s=t.selectRootElement(e,o);return h1(s),s}function h1(t){p1(t)}function g1(t,e,n,r){let i=vE(e);i.push(n),t.firstCreatePass&&yE(t).push(r,i.length-1)}function m1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return FP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pb(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Jr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?gb(r,n,l,a,c):gb(r,n,l,a)}return r}function gb(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function v1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=n?n.get(d):null,g=m?m.inputs:null,_=m?m.outputs:null;c=pb(0,d.inputs,u,c,g),l=pb(1,d.outputs,u,l,_);let w=c!==null&&s!==null&&!Kg(e)?N1(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function y1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fE(t,e,n,r,i,o,s,a){let c=fn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Dm(t,n,u,r,i),ku(e)&&_1(n,e.index)):e.type&3?(r=y1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function _1(t,e){let n=ii(e,t);n[Y]&16||(n[Y]|=64)}function Em(t,e,n,r){if(pw()){let i=r===null?null:{"":-1},o=D1(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&hE(t,e,n,s,i,a),i&&M1(n,r,i)}n.mergedAttrs=va(n.mergedAttrs,n.attrs)}function hE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ug(lu(n,e),t,r[l].type);I1(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=lE(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=va(n.mergedAttrs,u.hostAttrs),x1(t,n,e,c,u),S1(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}v1(t,n,o)}function C1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;b1(s)!=a&&s.push(a),s.push(n,r,o)}}function b1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function w1(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ku(n)&&O1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||lu(n,e),ti(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=qi(e,t,a,n);if(ti(l,e),s!==null&&A1(e,a-i,l,c,n,s),ei(c)){let u=ii(n.index,e);u[Pn]=qi(e,t,a,n)}}}function pE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zP();try{Hi(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];ag(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&E1(c,l)}}finally{Hi(-1),ag(s)}}function E1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function D1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(nP(e,s.selectors,!1))if(r||(r=[]),ei(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Cg(t,e,c)}else r.unshift(s),Cg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Cg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function M1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function S1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ei(e)&&(n[""]=t)}}function I1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function x1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ji(i.type,!0)),s=new zi(o,ei(i),D);t.blueprint[r]=s,n[r]=s,C1(t,e,r,lE(t,n,i.hostVars,ir),i)}function O1(t,e,n){let r=fn(e,t),i=dE(n),o=t[er].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Gu(t,Wu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function T1(t,e,n,r,i,o){let s=fn(t,e);P1(e[We],s,o,t.value,n,r,i)}function P1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ou(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function A1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];cE(r,n,c,l,u,d)}}function N1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function gE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mE(t,e){let n=t.contentQueries;if(n!==null){let r=me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];rm(o),a.contentQueries(2,e[s],s)}}}finally{me(r)}}}function Gu(t,e){return t[_a]?t[eb][Tn]=e:t[_a]=e,t[eb]=e,e}function bg(t,e,n){rm(0);let r=me(null);try{e(t,n)}finally{me(r)}}function vE(t){return t[ru]??=[]}function yE(t){return t.cleanup??=[]}function _E(t,e){let n=t[Ko],r=n?n.get(yr,null):null;r&&r.handleError(e)}function Dm(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];cE(u,l,r,a,c,i)}}function k1(t,e,n){let r=cw(e,t);zA(t[We],r,n)}function R1(t,e){let n=ii(e,t),r=n[re];F1(r,n);let i=n[br];i!==null&&n[nu]===null&&(n[nu]=pm(i,n[Ko])),Mm(r,n,n[Pn])}function F1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Mm(t,e,n){im(e);try{let r=t.viewQuery;r!==null&&bg(1,r,n);let i=t.template;i!==null&&uE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[vr]?.finishViewCreation(t),t.staticContentQueries&&mE(t,e),t.staticViewQueries&&bg(2,t.viewQuery,n);let o=t.components;o!==null&&L1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,om()}}function L1(t,e){for(let n=0;n<e.length;n++)R1(t,e[n])}function V1(t,e,n,r){let i=me(null);try{let o=e.tView,a=t[Y]&4096?4096:16,c=Wu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ui]=l;let u=t[vr];return u!==null&&(c[vr]=u.createEmbeddedView(o)),Mm(o,c,n),c}finally{me(i)}}function mb(t,e){return!e||e.firstChild===null||Uw(t)}function j1(t,e,n,r=!0){let i=e[re];if(YA(i,e,t,n),r){let s=_g(n,t),a=e[We],c=nE(a,t[Bi]);c!==null&&GA(i,t[An],a,e,c,s)}let o=e[nu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(nr(o)),wr(o)&&U1(o,r);let s=n.type;if(s&8)gu(t,e,n.child,r);else if(s&32){let a=mm(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=rE(e,n);if(Array.isArray(a))r.push(...a);else{let c=$i(e[tr]);gu(c[re],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function U1(t,e){for(let n=Gt;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&gu(r[re],r,i,e)}t[Bi]!==t[br]&&e.push(t[Bi])}function B1(t){return t[un]??$1(t)}function $1(t){let e=CE.pop()??Object.create(z1);return e.lView=t,e}function H1(t){t.lView[un]!==t&&(t.lView=null,CE.push(t))}function q1(t){let e=t[un]??Object.create(W1);return e.lView=t,e}function bE(t){return t.type!==2}function wE(t,e=!0,n=0){let r=t[er],i=r.rendererFactory,o=!1;o||i.begin?.();try{K1(t,n)}catch(s){throw e&&_E(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function K1(t,e){let n=vw();try{nb(!0),wg(t,e);let r=0;for(;Fu(t);){if(r===G1)throw new M(103,!1);r++,wg(t,1)}}finally{nb(n)}}function Y1(t,e,n,r){let i=e[Y];if((i&256)===256)return;let o=!1,s=!1;!o&&e[er].inlineEffectRunner?.flush(),im(e);let a=!0,c=null,l=null;o||(bE(t)?(l=B1(e),c=Jc(l)):p0()===null?(a=!1,l=q1(e),c=Jc(l)):e[un]&&(Vh(e[un]),e[un]=null));try{uw(e),BP(t.bindingStartIndex),n!==null&&uE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let g=t.preOrderCheckHooks;g!==null&&Gl(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Kl(e,g,0,null),jp(e,0)}if(s||Q1(e),EE(e,0),t.contentQueries!==null&&mE(t,e),!o)if(u){let g=t.contentCheckHooks;g!==null&&Gl(e,g)}else{let g=t.contentHooks;g!==null&&Kl(e,g,1),jp(e,1)}l1(t,e);let d=t.components;d!==null&&ME(e,d,0);let m=t.viewQuery;if(m!==null&&bg(2,m,r),!o)if(u){let g=t.viewCheckHooks;g!==null&&Gl(e,g)}else{let g=t.viewHooks;g!==null&&Kl(e,g,2),jp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vp]){for(let g of e[Vp])g();e[Vp]=null}o||(e[Y]&=-73)}catch(u){throw o||Lu(e),u}finally{l!==null&&(Fh(l,c),a&&H1(l)),om()}}function EE(t,e){for(let n=$w(t);n!==null;n=Hw(n))for(let r=Gt;r<n.length;r++){let i=n[r];DE(i,e)}}function Q1(t){for(let e=$w(t);e!==null;e=Hw(e)){if(!(e[Y]&ou.HasTransplantedViews))continue;let n=e[Yo];for(let r=0;r<n.length;r++){let i=n[r];dw(i)}}}function Z1(t,e,n){let r=ii(e,t);DE(r,n)}function DE(t,e){tm(t)&&wg(t,e)}function wg(t,e){let r=t[re],i=t[Y],o=t[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Lh(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)Y1(r,t,r.template,t[Pn]);else if(i&8192){EE(t,1);let a=r.components;a!==null&&ME(t,a,1)}}function ME(t,e,n){for(let r=0;r<e.length;r++)Z1(t,e[r],n)}function Sm(t,e){let n=vw()?64:1088;for(t[er].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=$i(t);if(ig(t)&&!r)return t;t=r}return null}function eN(){return Ku(ht(),le())}function Ku(t,e){return t.type&4?new X1(e,t,rs(t,e)):null}function vb(t,e){return tN(t,e)}function nN(t){let e=Error(`No component factory found for ${xt(t)}.`);return e[rN]=t,e}function iN(){let t=le(),e=ht(),n=ii(e.index,t);return(Zr(n)?n:t)[We]}function vu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Qp(i,a);else if(o==2){let c=a,l=e[++s];r=Qp(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yb(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Jr.None;e?n.push({propName:s,templateName:r,isSignal:(a&Jr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function sN(t){let e=t.toLowerCase();return e==="svg"?IP:e==="math"?xP:null}function aN(t,e){let n=t[re],r=Kt;return t[r]=e,Ma(n,r,2,"#host",null)}function cN(t,e,n,r,i,o,s){let a=i[re];lN(r,t,e,s);let c=null;e!==null&&(c=pm(e,i[Ko]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Wu(i,dE(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Cg(a,t,r.length-1),Gu(i,d),i[t.index]=d}function lN(t,e,n,r){for(let i of t)e.mergedAttrs=va(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(vu(e,e.mergedAttrs,!0),n!==null&&oE(r,n,e))}function uN(t,e,n,r,i,o){let s=ht(),a=i[re],c=fn(s,i);hE(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,m=qi(i,a,d,s);ti(m,i)}pE(a,i,s),c&&ti(c,i);let l=qi(i,a,s.directiveStart+s.componentOffset,s);if(t[Pn]=i[Pn]=l,o!==null)for(let u of o)u(l,e);return _m(a,s,i),l}function dN(t,e,n,r){if(r)eg(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=aP(e.selectors[0]);i&&eg(t,n,i),o&&o.length>0&&iE(t,n,o.join(" "))}}function fN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function hN(){let t=ht();Bu(le()[re],t)}function pN(){let t=ht();return OE(t,le())}function _b(t){return t[iu]}function zp(t){return t[iu]||(t[iu]=[])}function OE(t,e){let n,r=e[t.index];return wr(r)?n=r:(n=gE(r,e,null,t),e[t.index]=n,Gu(e,n)),vN(n,e,t,r),new xE(n,t,e)}function mN(t,e){let n=t[We],r=n.createComment(""),i=fn(e,t),o=nE(n,i);return pu(n,o,r,e1(n,i),!1),r}function _N(t,e,n){return yN(t,e,n)}function CN(t,e,n,r){if(t[Bi])return;let i;n.type&8?i=nr(r):i=mN(e,n),t[Bi]=i}function bN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function wN(t,e){return t.type&11?rs(t,e):t.type&4?Ku(t,e):null}function EN(t,e,n,r){return n===-1?wN(e,t):n===-2?DN(t,e,r):qi(t,t[re],n,e)}function DN(t,e,n){if(n===Pt)return rs(e,t);if(n===Gi)return Ku(e,t);if(n===oi)return OE(e,t)}function TE(t,e,n,r){let i=e[vr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(EN(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Tg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=TE(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Gt;d<u.length;d++){let m=u[d];m[Ui]===m[vt]&&Tg(m[re],m,l,r)}if(u[Yo]!==null){let d=u[Yo];for(let m=0;m<d.length;m++){let g=d[m];Tg(g[re],g,l,r)}}}}}return r}function MN(t,e){return t[vr].queries[e].queryList}function PE(t,e,n){let r=new gg((n&4)===4);return g1(t,e,r,r.destroy),(e[vr]??=new Ig).queries.push(new Sg(r))-1}function SN(t,e,n){let r=Je();return r.firstCreatePass&&(AE(r,new _u(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),PE(r,le(),e)}function IN(t,e,n,r){let i=Je();if(i.firstCreatePass){let o=ht();AE(i,new _u(e,n,r),o.index),ON(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return PE(i,le(),n)}function xN(t){return t.split(",").map(e=>e.trim())}function AE(t,e,n){t.queries===null&&(t.queries=new xg),t.queries.track(new Og(e,n))}function ON(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function xm(t,e){return t.queries.getByIndex(e)}function TN(t,e){let n=t[re],r=xm(n,e);return r.crossesNgTemplate?Tg(n,t,e,[]):TE(n,t,r,e)}function Ji(t){Cb.has(t)||(Cb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function PN(t){return typeof t=="function"&&t[hr]!==void 0}function Xi(t,e){Ji("NgSignals");let n=M0(t),r=n[hr];return e?.equal&&(r.equal=e.equal),n.set=i=>jh(r,i),n.update=i=>S0(r,i),n.asReadonly=AN.bind(n),n}function AN(){let t=this[hr];if(t.readonlyFn===void 0){let e=()=>this();e[hr]=t,t.readonlyFn=e}return t.readonlyFn}function NE(t){return PN(t)&&typeof t.set=="function"}function NN(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(LN))}return o}return Cu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>VN(o));e.push(c)}),RN(),Promise.all(e).then(()=>{})}function RN(){let t=Cu;return Cu=new Map,t}function FN(){return Cu.size===0}function LN(t){return typeof t=="string"?t:t.text()}function VN(t){kN.delete(t)}function jN(t){return Object.getPrototypeOf(t.prototype).constructor}function hn(t){let e=jN(t.type),n=!0,r=[t];for(;e;){let i;if(ei(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=$l(t.inputs),s.inputTransforms=$l(t.inputTransforms),s.declaredInputs=$l(t.declaredInputs),s.outputs=$l(t.outputs);let a=i.hostBindings;a&&zN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&$N(t,c),l&&HN(t,l),UN(t,i),IT(t.outputs,i.outputs),ei(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===hn&&(n=!1)}}e=Object.getPrototypeOf(e)}BN(r)}function UN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function BN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=va(i.hostAttrs,n=va(n,i.hostAttrs))}}function $l(t){return t===qo?{}:t===Bt?[]:t}function $N(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function HN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function zN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Om(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}function qN(t,e,n){return new bu(t,e,n,!1)}function Yu(t,e,n=null){return new Pg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function kE(t){return GN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function WN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function GN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Tm(t,e,n){return t[e]=n}function KN(t,e){return t[e]}function Cr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function YN(t,e,n,r){let i=Cr(t,e,n);return Cr(t,e+1,r)||i}function QN(t){return(t.flags&32)===32}function ZN(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Ma(e,t,4,s||null,a||null);Em(e,n,u,Qo(l,c)),Bu(e,u);let d=u.tView=wm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function JN(t,e,n,r,i,o,s,a,c,l){let u=n+Kt,d=e.firstCreatePass?ZN(u,e,t,r,i,o,s,a,c):e.data[u];Yi(d,!1);let m=XN(e,t,d,n);ju()&&zu(e,t,m,d),ti(m,t);let g=gE(m,t,m,d);return t[u]=g,Gu(t,g),_N(g,d,t),Ru(d)&&Cm(e,t,d),c!=null&&bm(t,d,l),d}function N(t,e,n,r,i,o,s,a){let c=le(),l=Je(),u=Qo(l.consts,o);return JN(c,l,t,e,n,r,i,u,s,a),N}function ek(t,e,n,r){return Uu(!0),e[We].createComment("")}function Pm(t,e){!e?.injector&&Jg(Pm);let n=e?.injector??v(Ze);return BA(n)?(Ji("NgAfterNextRender"),nk(t,n,e,!0)):rk}function tk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function nk(t,e,n,r){let i=e.get(RE);i.impl??=e.get(Ag);let o=n?.phase??$o.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(Tt):null,a=new Ng(i.impl,tk(t,o),r,s);return i.impl.register(a),a}function os(t,e,n,r){let i=le(),o=Vu();if(Cr(i,o,e)){let s=Je(),a=sm();T1(a,i,t,e,n,r)}return os}function FE(t,e,n,r){return Cr(t,Vu(),n)?e+Ou(n)+r:ir}function Hl(t,e){return t<<17|e<<2}function Ki(t){return t>>17&32767}function ik(t){return(t&2)==2}function ok(t,e){return t&131071|e<<17}function kg(t){return t|2}function es(t){return(t&131068)>>2}function qp(t,e){return t&-131069|e<<2}function sk(t){return(t&1)===1}function Rg(t){return t|1}function ak(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ki(s),c=es(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ea(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let m=Ki(t[a+1]);t[r+1]=Hl(m,a),m!==0&&(t[m+1]=qp(t[m+1],r)),t[a+1]=ok(t[a+1],r)}else t[r+1]=Hl(a,0),a!==0&&(t[a+1]=qp(t[a+1],r)),a=r;else t[r+1]=Hl(c,0),a===0?a=r:t[c+1]=qp(t[c+1],r),c=r;l&&(t[r+1]=kg(t[r+1])),bb(t,u,r,!0),bb(t,u,r,!1),ck(e,u,t,r,o),s=Hl(a,c),o?e.classBindings=s:e.styleBindings=s}function ck(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ea(o,e)>=0&&(n[r+1]=Rg(n[r+1]))}function bb(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ki(i):es(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];lk(c,e)&&(a=!0,t[s+1]=r?Rg(l):kg(l)),s=r?Ki(l):es(l)}a&&(t[n+1]=r?kg(i):Rg(i))}function lk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ea(t,e)>=0:!1}function uk(t){return t.substring(On.key,On.keyEnd)}function dk(t){return fk(t),LE(t,VE(t,0,On.textEnd))}function LE(t,e){let n=On.textEnd;return n===e?-1:(e=On.keyEnd=hk(t,On.key=e,n),VE(t,e,n))}function fk(t){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=t.length}function VE(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function hk(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function b(t,e,n){let r=le(),i=Vu();if(Cr(r,i,e)){let o=Je(),s=sm();fE(o,s,r,t,e,r[We],n,!1)}return b}function Fg(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Dm(t,n,o[s],s,r)}function Qu(t,e){return gk(t,e,null,!0),Qu}function pk(t,e){for(let n=dk(e);n>=0;n=LE(e,n))Gg(t,uk(e),!0)}function gk(t,e,n,r){let i=le(),o=Je(),s=yw(2);if(o.firstUpdatePass&&UE(o,t,s,r),e!==ir&&Cr(i,s,e)){let a=o.data[Qi()];BE(o,a,i,i[We],t,i[s+1]=Ek(e,n),r,s)}}function mk(t,e,n,r){let i=Je(),o=yw(2);i.firstUpdatePass&&UE(i,null,o,r);let s=le();if(n!==ir&&Cr(s,o,n)){let a=i.data[Qi()];if($E(a,r)&&!jE(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Qp(c,n||"")),Fg(i,a,s,n,r)}else wk(i,a,s,s[We],s[o+1],s[o+1]=bk(t,e,n),r,o)}}function jE(t,e){return e>=t.expandoStartIndex}function UE(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Qi()],s=jE(t,n);$E(o,r)&&e===null&&!s&&(e=!1),e=vk(i,o,e,r),ak(i,o,e,n,s,r)}}function vk(t,e,n,r){let i=qP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wp(null,t,e,n,r),n=ba(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Wp(i,t,e,n,r),o===null){let c=yk(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Wp(null,t,e,c[1],r),c=ba(c,e.attrs,r),_k(t,e,r,c))}else o=Ck(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function yk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(es(r)!==0)return t[Ki(r)]}function _k(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ki(i)]=r}function Ck(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ba(r,s,n)}return ba(r,e.attrs,n)}function Wp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ba(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ba(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Gg(t,s,n?!0:e[++o]))}return t===void 0?null:t}function bk(t,e,n){if(n==null||n==="")return Bt;let r=[],i=is(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function wk(t,e,n,r,i,o,s,a){i===ir&&(i=Bt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,_=null,w;u===d?(c+=2,l+=2,m!==g&&(_=d,w=g)):d===null||u!==null&&u<d?(c+=2,_=u):(l+=2,_=d,w=g),_!==null&&BE(t,e,n,r,_,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function BE(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=sk(l)?wb(c,e,n,i,es(l),s):void 0;if(!Eu(u)){Eu(o)||ik(l)&&(o=wb(c,null,n,i,a,s));let d=cw(Qi(),n);a1(r,s,d,i,o)}}function wb(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=n[i+1];m===ir&&(m=d?Bt:void 0);let g=d?Fp(m,r):u===r?m:void 0;if(l&&!Eu(g)&&(g=Fp(c,r)),Eu(g)&&(a=g,s))return a;let _=t[i+1];i=s?Ki(_):es(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Fp(c,r))}return a}function Eu(t){return t!==void 0}function Ek(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=xt(is(t)))),t}function $E(t,e){return(t.flags&(e?8:16))!==0}function HE(t,e,n){let r=le(),i=FE(r,t,e,n);mk(Gg,pk,i,!0)}function Dk(t,e,n,r,i,o){let s=e.consts,a=Qo(s,i),c=Ma(e,t,2,r,a);return Em(e,n,c,Qo(s,o)),c.attrs!==null&&vu(c,c.attrs,!1),c.mergedAttrs!==null&&vu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(t,e,n,r){let i=le(),o=Je(),s=Kt+t,a=i[We],c=o.firstCreatePass?Dk(s,o,i,e,n,r):o.data[s],l=Mk(o,i,c,a,e,t);i[s]=l;let u=Ru(c);return Yi(c,!0),oE(a,l,c),!QN(c)&&ju()&&zu(o,i,l,c),NP()===0&&ti(l,i),kP(),u&&(Cm(o,i,c),_m(o,c,i)),r!==null&&bm(i,c),h}function f(){let t=ht();nm()?mw():(t=t.parent,Yi(t,!1));let e=t;LP(e)&&VP(),RP();let n=Je();return n.firstCreatePass&&(Bu(n,t),Xg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&JP(e)&&Fg(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&XP(e)&&Fg(n,e,le(),e.stylesWithoutHost,!1),f}function R(t,e,n,r){return h(t,e,n,r),f(),R}function Sk(t,e,n,r,i){let o=e.consts,s=Qo(o,r),a=Ma(e,t,8,"ng-container",s);s!==null&&vu(a,s,!0);let c=Qo(o,i);return Em(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function yt(t,e,n){let r=le(),i=Je(),o=t+Kt,s=i.firstCreatePass?Sk(o,i,r,e,n):i.data[o];Yi(s,!0);let a=Ik(i,r,s,t);return r[o]=a,ju()&&zu(i,r,a,s),ti(a,r),Ru(s)&&(Cm(i,r,s),_m(i,s,r)),n!=null&&bm(r,s),yt}function _t(){let t=ht(),e=Je();return nm()?mw():(t=t.parent,Yi(t,!1)),e.firstCreatePass&&(Bu(e,t),Xg(t)&&e.queries.elementEnd(t)),_t}function Q(){return le()}function xk(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}function pn(t){let e=Tk(t),n=Eb(e);if(n)return n;let r=e.split("-")[0];if(n=Eb(r),n)return n;if(r==="en")return Ok;throw new M(701,!1)}function Eb(t){return t in Gp||(Gp[t]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[t]),Gp[t]}function Tk(t){return t.toLowerCase().replace(/_/g,"-")}function Ak(t){typeof t=="string"&&(Pk=t.toLowerCase().replace(/_/g,"-"))}function P(t,e,n,r){let i=le(),o=Je(),s=ht();return zE(o,i,i[We],s,t,e,r),P}function kk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ru],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function zE(t,e,n,r,i,o,s){let a=Ru(r),l=t.firstCreatePass&&yE(t),u=e[Pn],d=vE(e),m=!0;if(r.type&3||s){let w=fn(r,e),O=s?s(w):w,j=d.length,oe=s?ue=>s(nr(ue[r.index])):r.index,K=null;if(!s&&a&&(K=kk(t,e,i,r.index)),K!==null){let ue=K.__ngLastListenerFn__||K;ue.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,m=!1}else{o=Mb(r,e,u,o),Nk(w,i,o);let ue=n.listen(O,i,o);d.push(o,ue),l&&l.push(i,oe,j,j+1)}}else o=Mb(r,e,u,o);let g=r.outputs,_;if(m&&g!==null&&(_=g[i])){let w=_.length;if(w)for(let O=0;O<w;O+=2){let j=_[O],oe=_[O+1],ze=e[j][oe].subscribe(o),be=d.length;d.push(o,ze),l&&l.push(i,r.index,be,-(be+1))}}}function Db(t,e,n,r){let i=me(null);try{return Zn(6,e,n),n(r)!==!1}catch(o){return _E(t,o),!1}finally{Zn(7,e,n),me(i)}}function Mb(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?ii(t.index,e):e;Sm(s,5);let a=Db(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Db(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function T(t=1){return GP(t)}function qE(t,e,n,r){IN(t,e,n,r)}function Am(t,e,n){SN(t,e,n)}function Sa(t){let e=le(),n=Je(),r=_w();rm(r+1);let i=xm(n,r);if(t.dirty&&OP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=TN(e,r);t.reset(o,bA),t.notifyOnChanges()}return!0}return!1}function Ia(){return MN(le(),_w())}function Rk(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ct(t){let e=UP();return em(e,Kt+t)}function y(t,e=""){let n=le(),r=Je(),i=t+Kt,o=r.firstCreatePass?Ma(r,i,1,e,null):r.data[i],s=Fk(r,n,o,e,t);n[i]=s,ju()&&zu(r,n,s,o),Yi(o,!1)}function pt(t){return Ie("",t,""),pt}function Ie(t,e,n){let r=le(),i=FE(r,t,e,n);return i!==ir&&k1(r,Qi(),i),Ie}function gn(t,e,n){NE(e)&&(e=e());let r=le(),i=Vu();if(Cr(r,i,e)){let o=Je(),s=sm();fE(o,s,r,t,e,r[We],n,!1)}return gn}function kn(t,e){let n=NE(t);return n&&t.set(e),n}function mn(t,e){let n=le(),r=Je(),i=ht();return zE(r,n,n[We],i,t,e),mn}function Lk(t,e,n){let r=Je();if(r.firstCreatePass){let i=ei(t);Lg(n,r.data,r.blueprint,i,!0),Lg(e,r.data,r.blueprint,i,!1)}}function Lg(t,e,n,r,i){if(t=It(t),Array.isArray(t))for(let o=0;o<t.length;o++)Lg(t[o],e,n,r,i);else{let o=Je(),s=le(),a=ht(),c=Go(t)?t:It(t.provide),l=ew(t),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(Go(t)||!t.multi){let g=new zi(l,i,D),_=Yp(c,e,i?u:u+m,d);_===-1?(ug(lu(a,s),o,c),Kp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{let g=Yp(c,e,u+m,d),_=Yp(c,e,u,u+m),w=g>=0&&n[g],O=_>=0&&n[_];if(i&&!O||!i&&!w){ug(lu(a,s),o,c);let j=Uk(i?jk:Vk,n.length,i,r,l);!i&&O&&(n[_].providerFactory=j),Kp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=WE(n[i?_:g],l,!i&&r);Kp(o,t,g>-1?g:_,j)}!i&&r&&O&&n[_].componentProviders++}}}function Kp(t,e,n,r){let i=Go(e),o=gP(e);if(i||o){let c=(o?It(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function WE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Yp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Vk(t,e,n,r){return Vg(this.multi,[])}function jk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=qi(n,n[re],this.providerFactory.index,r);o=a.slice(0,s),Vg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Vg(i,o);return o}function Vg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Uk(t,e,n,r,i){let o=new zi(t,n,D);return o.multi=[],o.index=e,o.componentProviders=0,WE(o,i,r&&!n),o}function at(t,e=[]){return n=>{n.providersResolver=(r,i)=>Lk(r,i?i(t):t,e)}}function GE(t){Ji("NgStandalone"),t.getStandaloneInjector=e=>e.get(Bk).getOrCreateStandaloneInjector(t)}function KE(t,e,n){let r=t.\u0275cmp;r.directiveDefs=tu(e,!1),r.pipeDefs=tu(n,!0)}function ss(t,e,n){let r=Da()+t,i=le();return i[r]===ir?Tm(i,r,n?e.call(n):e()):KN(i,r)}function as(t,e,n,r){return ZE(le(),Da(),t,e,n,r)}function YE(t,e,n,r,i){return JE(le(),Da(),t,e,n,r,i)}function QE(t,e){let n=t[e];return n===ir?void 0:n}function ZE(t,e,n,r,i,o){let s=e+n;return Cr(t,s,i)?Tm(t,s+1,o?r.call(o,i):r(i)):QE(t,s+1)}function JE(t,e,n,r,i,o,s){let a=e+n;return YN(t,a,i,o)?Tm(t,a+2,s?r.call(s,i,o):r(i,o)):QE(t,a+2)}function Nt(t,e){let n=Je(),r,i=t+Kt;n.firstCreatePass?(r=$k(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ji(r.type,!0)),s,a=Ut(D);try{let c=cu(!1),l=o();return cu(c),Rk(n,le(),i,l),l}finally{Ut(a)}}function $k(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function $t(t,e,n){let r=t+Kt,i=le(),o=em(i,r);return eD(i,r)?ZE(i,Da(),e,o.transform,n,o):o.transform(n)}function XE(t,e,n,r){let i=t+Kt,o=le(),s=em(o,i);return eD(o,i)?JE(o,Da(),e,s.transform,n,r,s):s.transform(n,r)}function eD(t,e){return t[re].data[e].pure}function or(t,e){return Ku(t,e)}function Hk(t){zl!==null&&(t.defaultEncapsulation!==zl.defaultEncapsulation||t.preserveWhitespaces!==zl.preserveWhitespaces)||(zl=t)}function zk(t){km=t}function si(t){return!!t&&typeof t.then=="function"}function Rm(t){return!!t&&typeof t.subscribe=="function"}function qk(){D0(()=>{throw new M(600,!1)})}function Wk(t){return t.isBoundToModule}function Kk(t,e,n){try{let r=n();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function nD(t,e){return Array.isArray(e)?e.reduce(nD,t):E(E({},t),e)}function Ql(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Yk(t,e,n,r){if(!n&&!Fu(t))return;wE(t,e,n&&!r?0:1)}function Zk(t,e,n){let r=new wu(n);return Promise.resolve(r)}function Sb(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}function Xk({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(U(E({},rD()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:Wo,multi:!0,useFactory:()=>{let r=v(Jk,{optional:!0});return()=>r.initialize()}},{provide:Wo,multi:!0,useFactory:()=>{let r=v(eR);return()=>{r.initialize()}}},e===!0?{provide:SE,useValue:!0}:[],{provide:IE,useValue:n??Lw}]}function rD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function nR(){return typeof $localize<"u"&&$localize.locale||Du}function ql(t){return!t.moduleRef}function rR(t){let e=ql(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{ql(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(yr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ql(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Mu);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Mu);s.add(o),t.moduleRef.onDestroy(()=>{Ql(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Kk(r,n,()=>{let o=e.get(tD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(nd,Du);if(Ak(s||Du),ql(t)){let a=e.get(vn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return iR(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function iR(t,e){let n=t.injector.get(vn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new M(-403,!1);e.push(t)}function oR(t){if(ga&&!ga.get(oD,!1))throw new M(400,!1);qk(),ga=t;let e=t.get(iD);return cR(t),e}function Fm(t,e,n=[]){let r=`Platform: ${e}`,i=new k(r);return(o=[])=>{let s=sD();if(!s||s.injector.get(oD,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):oR(sR(a,r))}return aR(i)}}function sR(t=[],e){return Ze.create({name:e,providers:[{provide:Au,useValue:"platform"},{provide:Mu,useValue:new Set([()=>ga=null])},...t]})}function aR(t){let e=sD();if(!e)throw new M(401,!1);return e}function sD(){return ga?.get(iD)??null}function cR(t){t.get(dm,null)?.forEach(n=>n())}function lR(t){return uR(ht(),le(),(t&16)===16)}function uR(t,e,n){if(ku(t)&&!n){let r=ii(t.index,e);return new Wi(r,r)}else if(t.type&175){let r=e[tr];return new Wi(r,e)}return null}function Ib(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function xb(){return new Lm([new Ug])}function ai(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function eo(t,e){Ji("NgSignals");let n=b0(t);return e?.equal&&(n[hr].equal=e.equal),n}function Qt(t){let e=me(null);try{return t()}finally{me(e)}}function lD(t){let e=Xr(t);if(!e)return null;let n=new Xo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ob,M,Ul,St,xT,Nb,KC,kb,TT,k,PT,AT,NT,kT,Zl,pa,YC,ae,Zp,LT,ma,Jp,Jl,VT,jT,UT,QC,Ho,Pu,qg,qo,Bt,Wo,Ub,Bb,eu,$b,Xn,Jr,zb,fP,Au,Wl,mP,Lp,Ot,ya,br,re,Y,vt,Tn,An,nu,ru,Pn,Ko,er,We,_a,eb,ns,tr,Ui,Uo,vr,Nu,nw,Qr,Vp,un,Kt,rw,Bi,iu,Yo,Gt,ou,og,sw,tb,Zn,IP,xP,ce,hw,Dw,Mw,zo,zi,Up,cg,lg,tA,xw,Ow,nA,Jn,Vi,Ze,lA,uA,Lw,Tt,fg,Er,hg,se,lm,du,fA,ye,hA,fu,yr,_A,Pt,gg,Bw,EA,ub,vg,$u,IA,dm,Yt,fm,hm,xA,OA,TA,Ww,PA,Bl,hu,kA,Hu,LA,VA,jA,_r,$A,r1,hb,ir,p1,CE,z1,W1,G1,Wi,Gi,J1,X1,KG,tN,Zo,Im,SE,IE,Eg,mu,rN,Dg,Jo,ni,Dr,oN,yu,Xo,Mg,oi,gN,xE,vN,yN,Sg,Ig,_u,xg,Og,Cb,Cu,kN,ri,Ca,bu,wu,Pg,XN,$o,RE,Ag,Ng,rk,On,Mk,Ik,Li,Ok,Gp,Ye,Du,Pk,Nk,Fk,Bk,zl,Zu,Nm,xa,Ju,Xu,km,cs,tD,ed,Gk,vn,jg,td,Qk,Jk,eR,tR,nd,Mu,iD,ga,oD,Mr,Ug,dR,Bg,$g,Hg,Su,Lm,aD,cD,x=p(()=>{"use strict";x0();Ee();Kr();Ob="https://g.co/ng/security#xss",M=class extends Error{constructor(e,n){super(Iu(e,n)),this.code=e}};Ul="__parameters__";St=globalThis;xT=Pe({__forward_ref__:Pe});Nb=Pe({\u0275prov:Pe}),KC=Pe({\u0275inj:Pe}),kb=Pe({ngInjectableDef:Pe}),TT=Pe({ngInjectorDef:Pe}),k=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};PT=Pe({\u0275cmp:Pe}),AT=Pe({\u0275dir:Pe}),NT=Pe({\u0275pipe:Pe}),kT=Pe({\u0275mod:Pe}),Zl=Pe({\u0275fac:Pe}),pa=Pe({__NG_ELEMENT_ID__:Pe}),YC=Pe({__NG_ENV_ID__:Pe});ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{});LT={},ma=LT,Jp="__NG_DI_FLAG__",Jl="ngTempTokenPath",VT="ngTokenPath",jT=/\n/gm,UT="\u0275",QC="__source";Pu=Vb(Tb("Optional"),8),qg=Vb(Tb("SkipSelf"),4);qo={},Bt=[],Wo=new k(""),Ub=new k("",-1),Bb=new k(""),eu=class{get(e,n=ma){if(n===ma){let r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return n}},$b=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($b||{}),Xn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xn||{}),Jr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Jr||{});zb="ng-template";fP=Pe({provide:String,useValue:Pe});Au=new k(""),Wl={},mP={};Ot=class{},ya=class extends Ot{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rg(e,s=>this.processProvider(s)),this.records.set(Ub,jo(void 0,this)),i.has("environment")&&this.records.set(Ot,jo(void 0,this));let o=this.records.get(Au);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bb,Bt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yr(this),r=Ut(void 0),i;try{return e()}finally{Yr(n),Ut(r)}}get(e,n=ma,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(YC))return e[YC](this);r=Tu(r);let i,o=Yr(this),s=Ut(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=bP(e)&&xu(e);l&&this.injectableDefInScope(l)?c=jo(ng(e),Wl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?Zg():this.parent;return n=r&ae.Optional&&n===ma?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Jl]=a[Jl]||[]).unshift(xt(e)),o)throw a;return zT(a,e,"R3InjectorError",this.source)}else throw a}finally{Ut(s),Yr(o)}}resolveInjectorInitializers(){let e=me(null),n=Yr(this),r=Ut(void 0),i;try{let o=this.get(Wo,Bt,ae.Self);for(let s of o)s()}finally{Yr(n),Ut(r),me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=It(e);let n=Go(e)?e:It(e&&e.provide),r=yP(e);if(!Go(e)&&e.multi===!0){let i=this.records.get(n);i||(i=jo(void 0,Wl,!0),i.factory=()=>Xp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=me(null);try{return n.value===Wl&&(n.value=mP,n.value=n.factory()),typeof n.value=="object"&&n.value&&CP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=It(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};br=0,re=1,Y=2,vt=3,Tn=4,An=5,nu=6,ru=7,Pn=8,Ko=9,er=10,We=11,_a=12,eb=13,ns=14,tr=15,Ui=16,Uo=17,vr=18,Nu=19,nw=20,Qr=21,Vp=22,un=23,Kt=25,rw=1,Bi=7,iu=8,Yo=9,Gt=10,ou=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ou||{});og=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};Nn.ngInherit=!0;sw="__ngSimpleChanges__";tb=null,Zn=function(t,e,n){tb?.(t,e,n)},IP="svg",xP="math";ce={lFrame:ww(null),bindingsEnabled:!0,skipHydrationRootTNode:null},hw=!1;Dw=Ew;Mw=!0;zo=-1,zi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};Up={},cg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Tu(r);let i=this.injector.get(e,Up,r);return i!==Up||n===Up?i:this.parentInjector.get(e,n,r)}};lg=!0;tA=256,xw=tA-1,Ow=5,nA=0,Jn={};Vi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Nw(this._tNode,this._lView,e,Tu(r),n)}};Ze=class t{static{this.THROW_IF_NOT_FOUND=ma}static{this.NULL=new eu}static create(e,n){if(Array.isArray(e))return sb({name:""},n,e,"");{let r=e.name??"";return sb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=S({token:t,providedIn:"any",factory:()=>A(Ub)})}static{this.__NG_ELEMENT_ID__=-1}};lA=new k("");lA.__NG_ELEMENT_ID__=t=>{let e=ht();if(e===null)throw new M(204,!1);if(e.type&2)return e.value;if(t&ae.Optional)return null;throw new M(204,!1)};uA="ngOriginalError";Lw=!0,Tt=(()=>{class t{static{this.__NG_ELEMENT_ID__=dA}static{this.__NG_ENV_ID__=n=>n}}return t})(),fg=class extends Tt{constructor(e){super(),this._lView=e}onDestroy(e){return fw(this._lView,e),()=>AP(this._lView,e)}};Er=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}}return t})(),hg=class extends he{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,tw()&&(this.destroyRef=v(Tt,{optional:!0})??void 0,this.pendingTasks=v(Er,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=hg;lm="isAngularZone",du=lm+"_ID",fA=0,ye=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Lw}=e;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,gA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new M(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hA,uu,uu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hA={};fu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};yr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$p(e);for(;n&&$p(n);)n=$p(n);return n||null}},_A=new k("",{providedIn:"root",factory:()=>{let t=v(ye),e=v(yr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});Pt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=CA}}return t})();gg=class t{get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=wA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=GT(e);(this._changesDetected=!WT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};Bw=new Map,EA=0;ub="__ngContext__";$u=new k("",{providedIn:"root",factory:()=>IA}),IA="ng",dm=new k(""),Yt=new k("",{providedIn:"platform",factory:()=>"unknown"}),fm=new k(""),hm=new k("",{providedIn:"root",factory:()=>SA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),xA="h",OA="b",TA=()=>null;Ww=!1,PA=new k("",{providedIn:"root",factory:()=>Ww});hu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ob})`}};kA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;Hu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hu||{});LA=/^>|^->|<!--|-->|--!>|<!-$/g,VA=/(<|>)/g,jA="\u200B$1\u200B";_r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(_r||{});r1=n1;ir={};p1=()=>null;CE=[];z1=U(E({},na),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Lu(t.lView)},consumerOnSignalRead(){this.lView[un]=this}});W1=U(E({},na),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=$i(t.lView);for(;e&&!bE(e[re]);)e=$i(e);e&&dw(e)},consumerOnSignalRead(){this.lView[un]=this}});G1=100;Wi=class{get rootNodes(){let e=this._lView,n=e[re];return gu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(e){this._lView[Pn]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(wr(e)){let n=e[iu],r=n?n.indexOf(this):-1;r>-1&&(yg(e,r),Xl(n,r))}this._attachedToViewContainer=!1}eE(this._lView[re],this._lView)}onDestroy(e){fw(this._lView,e)}markForCheck(){Sm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){sg(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,wE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ig(this._lView),n=this._lView[Ui];n!==null&&!e&&vm(n,this._lView),Jw(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e;let n=ig(this._lView),r=this._lView[Ui];r!==null&&!n&&Xw(r,this._lView),sg(this._lView)}},Gi=(()=>{class t{static{this.__NG_ELEMENT_ID__=eN}}return t})(),J1=Gi,X1=class extends J1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=V1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Wi(i)}};KG=new RegExp(`^(\\d+)*(${OA}|${xA})*(.*)`),tN=()=>null;Zo=class{},Im=new k("",{providedIn:"root",factory:()=>!1}),SE=new k(""),IE=new k(""),Eg=class{},mu=class{};rN="ngComponent",Dg=class{resolveComponentFactory(e){throw nN(e)}},Jo=class{static{this.NULL=new Dg}},ni=class{},Dr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>iN()}}return t})();oN=(()=>{class t{static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>null})}}return t})();yu=class extends Jo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xr(e);return new Xo(n,this.ngModule)}};Xo=class extends mu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=yb(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return yb(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof Ot?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new cg(e,s):e,c=a.get(ni,null);if(c===null)throw new M(407,!1);let l=a.get(oN,null),u=a.get(Zo,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?f1(m,r,this.componentDef.encapsulation,a):Zw(m,g,sN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let O=null;_!==null&&(O=pm(_,a,!0));let j=wm(0,null,null,1,0,null,null,null,null,null,null),oe=Wu(null,j,null,w,null,null,d,m,a,null,O);im(oe);let K,ue,ze=null;try{let be=this.componentDef,Re,rt=null;be.findHostDirectiveDefs?(Re=[],rt=new Map,be.findHostDirectiveDefs(be,Re,rt),Re.push(be)):Re=[be];let fr=aN(oe,_);ze=cN(fr,_,be,Re,oe,d,m),ue=lw(j,Kt),_&&dN(m,be,_,r),n!==void 0&&fN(ue,this.ngContentSelectors,n),K=uN(ze,be,Re,rt,oe,[hN]),Mm(j,oe,null)}catch(be){throw ze!==null&&mg(ze),mg(oe),be}finally{om()}return new Mg(this.componentType,K,rs(ue,oe),oe,ue)}finally{me(o)}}},Mg=class extends Eg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Dm(o[re],o,i,e,n),this.previousInputValues.set(e,n);let s=ii(this._tNode.index,o);Sm(s,1)}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};oi=(()=>{class t{static{this.__NG_ELEMENT_ID__=pN}}return t})();gN=oi,xE=class extends gN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return rs(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){let e=am(this._hostTNode,this._hostLView);if(Iw(e)){let n=au(e,this._hostLView),r=su(e),i=n[re].data[r+8];return new Vi(i,n)}else return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_b(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,mb(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!EP(e),a;if(s)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new Xo(Xr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Ot,null);w&&(o=w)}let u=Xr(c.componentType??{}),d=vb(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,mb(this._hostTNode,d)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(TP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[vt],l=new xE(c,c[An],c[vt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return j1(s,i,o,r),e.attachToViewContainerRef(),jb(zp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_b(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=yg(this._lContainer,n);r&&(Xl(zp(this._lContainer),n),eE(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=yg(this._lContainer,n);return r&&Xl(zp(this._lContainer),n)!=null?new Wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};vN=CN,yN=()=>!1;Sg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ig=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)xm(e,n).matches!==null&&this.queries[n].setDirty()}},_u=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=xN(e):this.predicate=e}},xg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Og=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,bN(n,o)),this.matchTNodeWithReadOption(e,n,Yl(n,e,o,!1,!1))}else r===Gi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Yl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Pt||i===oi||i===Gi&&n.type&4)this.addMatch(n.index,-2);else{let o=Yl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};Cb=new Set;Cu=new Map,kN=new Set;ri=class{},Ca=class{},bu=class extends ri{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yu(this);let o=Kb(e);this._bootstrapComponents=Qw(o.bootstrap),this._r3Injector=Fw(e,n,[{provide:ri,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wu=class extends Ca{constructor(e){super(),this.moduleType=e}create(e){return new bu(this.moduleType,e,[])}};Pg=class extends ri{constructor(e){super(),this.componentFactoryResolver=new yu(this),this.instance=null;let n=new ya([...e.providers,{provide:ri,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],e.parent||Zg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};XN=ek;$o=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}($o||{}),RE=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Ag=class t{constructor(){this.ngZone=v(ye),this.scheduler=v(Zo),this.errorHandler=v(yr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[$o.EarlyRead,$o.Write,$o.MixedReadWrite,$o.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}},Ng=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};rk={destroy(){}};On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};Mk=(t,e,n,r,i,o)=>(Uu(!0),Zw(r,i,KP()));Ik=(t,e,n,r)=>(Uu(!0),qA(e[We],""));Li=void 0;Ok=["en",[["a","p"],["AM","PM"],Li],[["AM","PM"],Li,Li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Li,"{1} 'at' {0}",Li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xk],Gp={};Ye=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ye||{});Du="en-US",Pk=Du;Nk=(t,e,n)=>{};Fk=(t,e,n,r,i)=>(Uu(!0),HA(e[We],r));Bk=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Zb(!1,n.type),i=r.length>0?Yu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=S({token:t,providedIn:"environment",factory:()=>new t(A(Ot))})}}return t})();zl=null;Zu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Nm=new k(""),xa=new k(""),Ju=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,km||(zk(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(A(ye),A(Xu),A(xa))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),Xu=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return km?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();cs=new k(""),tD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=v(cs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(si(o))n.push(o);else if(Rm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ed=new k("");Gk=10;vn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(_A),this.afterRenderManager=v(RE),this.zonelessEnabled=v(Im),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new he,this.afterTick=new he,this.componentTypes=[],this.components=[],this.isStable=v(Er).hasPendingTasks.pipe(L(n=>!n)),this._injector=v(Ot)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof mu;if(!this._injector.get(tD).done){let m=!i&&Gb(n),g=!1;throw new M(405,g)}let s;i?s=n:s=this._injector.get(Jo).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Wk(s)?void 0:this._injector.get(ri),c=r||s.selector,l=s.create(Ze.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Nm,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Ql(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);let n=me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,me(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ni,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Gk;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Yk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ql(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ed,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ql(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new M(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();jg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},td=(()=>{class t{compileModuleSync(n){return new wu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Kb(n),o=Qw(i.declarations).reduce((s,a)=>{let c=Xr(a);return c&&s.push(new Xo(c)),s},[]);return new jg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Qk=new k("");Jk=(()=>{class t{constructor(){this.zone=v(ye),this.changeDetectionScheduler=v(Zo),this.applicationRef=v(vn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();eR=(()=>{class t{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=v(ye),this.pendingTasks=v(Er)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tR=(()=>{class t{constructor(){this.appRef=v(vn),this.taskService=v(Er),this.ngZone=v(ye),this.zonelessEnabled=v(Im),this.disableScheduling=v(SE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(du):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(IE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ab:Vw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(du+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ab(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();nd=new k("",{providedIn:"root",factory:()=>v(nd,ae.Optional|ae.SkipSelf)||nR()}),Mu=new k("");iD=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let i=r?.scheduleInRootZone,o=()=>yA(r?.ngZone,U(E({},rD({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[Xk({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Zo,useExisting:tR}],c=qN(n.moduleType,this.injector,a);return rR({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){let i=nD({},r);return Zk(this.injector,i,n).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(Mu,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)(A(Ze))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),ga=null,oD=new k("");Mr=(()=>{class t{static{this.__NG_ELEMENT_ID__=lR}}return t})();Ug=class{constructor(){}supports(e){return kE(e)}create(e){return new Bg(e)}},dR=(t,e)=>e,Bg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Ib(r,i,o)?n:r,a=Ib(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;u<=_&&_<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!kE(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,WN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new $g(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Su),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Su),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$g=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Hg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Su=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Hg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};Lm=(()=>{class t{static{this.\u0275prov=S({token:t,providedIn:"root",factory:xb})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||xb()),deps:[[t,new qg,new Pu]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new M(901,!1)}}return t})(),aD=Fm(null,"core",[]),cD=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(A(vn))}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({})}}return t})()});function sr(){return mD}function vD(t){mD??=t}function Qm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function uD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ir(t){return t&&t[0]!=="?"?"?"+t:t}function pR(){return new us(A(Or))}function gR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dD(t){return t.replace(/\/index.html$/,"")}function mR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function vR(t){return pn(t)[Ye.LocaleId]}function yR(t,e,n){let r=pn(t),i=[r[Ye.DayPeriodsFormat],r[Ye.DayPeriodsStandalone]],o=yn(i,e);return yn(o,n)}function _R(t,e,n){let r=pn(t),i=[r[Ye.DaysFormat],r[Ye.DaysStandalone]],o=yn(i,e);return yn(o,n)}function CR(t,e,n){let r=pn(t),i=[r[Ye.MonthsFormat],r[Ye.MonthsStandalone]],o=yn(i,e);return yn(o,n)}function bR(t,e){let r=pn(t)[Ye.Eras];return yn(r,e)}function rd(t,e){let n=pn(t);return yn(n[Ye.DateFormat],e)}function id(t,e){let n=pn(t);return yn(n[Ye.TimeFormat],e)}function od(t,e){let r=pn(t)[Ye.DateTimeFormat];return yn(r,e)}function hd(t,e){let n=pn(t),r=n[Ye.NumberSymbols][e];if(typeof r>"u"){if(e===ci.CurrencyDecimal)return n[Ye.NumberSymbols][ci.Decimal];if(e===ci.CurrencyGroup)return n[Ye.NumberSymbols][ci.Group]}return r}function bD(t){if(!t[Ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wR(t){let e=pn(t);return bD(e),(e[Ye.ExtraData][2]||[]).map(r=>typeof r=="string"?Vm(r):[Vm(r[0]),Vm(r[1])])}function ER(t,e,n){let r=pn(t);bD(r);let i=[r[Ye.ExtraData][0],r[Ye.ExtraData][1]],o=yn(i,e)||[];return yn(o,n)||[]}function yn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Vm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function SR(t,e,n,r){let i=RR(t);e=Sr(n,e)||e;let s=[],a;for(;e;)if(a=MR.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=ED(r,c),i=kR(i,r,!0));let l="";return s.forEach(u=>{let d=AR(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function fd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Sr(t,e){let n=vR(t);if(sd[n]??={},sd[n][e])return sd[n][e];let r="";switch(e){case"shortDate":r=rd(t,Zt.Short);break;case"mediumDate":r=rd(t,Zt.Medium);break;case"longDate":r=rd(t,Zt.Long);break;case"fullDate":r=rd(t,Zt.Full);break;case"shortTime":r=id(t,Zt.Short);break;case"mediumTime":r=id(t,Zt.Medium);break;case"longTime":r=id(t,Zt.Long);break;case"fullTime":r=id(t,Zt.Full);break;case"short":let i=Sr(t,"shortTime"),o=Sr(t,"shortDate");r=ad(od(t,Zt.Short),[i,o]);break;case"medium":let s=Sr(t,"mediumTime"),a=Sr(t,"mediumDate");r=ad(od(t,Zt.Medium),[s,a]);break;case"long":let c=Sr(t,"longTime"),l=Sr(t,"longDate");r=ad(od(t,Zt.Long),[c,l]);break;case"full":let u=Sr(t,"fullTime"),d=Sr(t,"fullDate");r=ad(od(t,Zt.Full),[u,d]);break}return r&&(sd[n][e]=r),r}function ad(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Rn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function IR(t,e){return Rn(t,3).substring(0,e)}function Xe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=xR(t,o);if((n>0||a>-n)&&(a+=n),t===Ce.Hours)a===0&&n===-12&&(a=12);else if(t===Ce.FractionalSeconds)return IR(a,e);let c=hd(s,ci.MinusSign);return Rn(a,e,c,r,i)}}function xR(t,e){switch(t){case Ce.FullYear:return e.getFullYear();case Ce.Month:return e.getMonth();case Ce.Date:return e.getDate();case Ce.Hours:return e.getHours();case Ce.Minutes:return e.getMinutes();case Ce.Seconds:return e.getSeconds();case Ce.FractionalSeconds:return e.getMilliseconds();case Ce.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ne(t,e,n=kt.Format,r=!1){return function(i,o){return OR(i,o,t,e,n,r)}}function OR(t,e,n,r,i,o){switch(n){case _e.Months:return CR(e,i,r)[t.getMonth()];case _e.Days:return _R(e,i,r)[t.getDay()];case _e.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=wR(e),u=ER(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,_]=m,w=s>=g.hours&&a>=g.minutes,O=s<_.hours||s===_.hours&&a<_.minutes;if(g.hours<_.hours){if(w&&O)return!0}else if(w||O)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return yR(e,i,r)[s<12?0:1];case _e.Eras:return bR(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function cd(t){return function(e,n,r){let i=-1*r,o=hd(n,ci.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case xr.Short:return(i>=0?"+":"")+Rn(s,2,o)+Rn(Math.abs(i%60),2,o);case xr.ShortGMT:return"GMT"+(i>=0?"+":"")+Rn(s,1,o);case xr.Long:return"GMT"+(i>=0?"+":"")+Rn(s,2,o)+":"+Rn(Math.abs(i%60),2,o);case xr.Extended:return r===0?"Z":(i>=0?"+":"")+Rn(s,2,o)+":"+Rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function PR(t){let e=fd(t,TR,1).getDay();return fd(t,0,1+(e<=ud?ud:ud+7)-e)}function wD(t){let e=t.getDay(),n=e===0?-3:ud-e;return fd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function jm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=wD(n),s=PR(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Rn(i,t,hd(r,ci.MinusSign))}}function ld(t,e=!1){return function(n,r){let o=wD(n).getFullYear();return Rn(o,t,hd(r,ci.MinusSign),e)}}function AR(t){if(Um[t])return Um[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(_e.Eras,Ae.Abbreviated);break;case"GGGG":e=Ne(_e.Eras,Ae.Wide);break;case"GGGGG":e=Ne(_e.Eras,Ae.Narrow);break;case"y":e=Xe(Ce.FullYear,1,0,!1,!0);break;case"yy":e=Xe(Ce.FullYear,2,0,!0,!0);break;case"yyy":e=Xe(Ce.FullYear,3,0,!1,!0);break;case"yyyy":e=Xe(Ce.FullYear,4,0,!1,!0);break;case"Y":e=ld(1);break;case"YY":e=ld(2,!0);break;case"YYY":e=ld(3);break;case"YYYY":e=ld(4);break;case"M":case"L":e=Xe(Ce.Month,1,1);break;case"MM":case"LL":e=Xe(Ce.Month,2,1);break;case"MMM":e=Ne(_e.Months,Ae.Abbreviated);break;case"MMMM":e=Ne(_e.Months,Ae.Wide);break;case"MMMMM":e=Ne(_e.Months,Ae.Narrow);break;case"LLL":e=Ne(_e.Months,Ae.Abbreviated,kt.Standalone);break;case"LLLL":e=Ne(_e.Months,Ae.Wide,kt.Standalone);break;case"LLLLL":e=Ne(_e.Months,Ae.Narrow,kt.Standalone);break;case"w":e=jm(1);break;case"ww":e=jm(2);break;case"W":e=jm(1,!0);break;case"d":e=Xe(Ce.Date,1);break;case"dd":e=Xe(Ce.Date,2);break;case"c":case"cc":e=Xe(Ce.Day,1);break;case"ccc":e=Ne(_e.Days,Ae.Abbreviated,kt.Standalone);break;case"cccc":e=Ne(_e.Days,Ae.Wide,kt.Standalone);break;case"ccccc":e=Ne(_e.Days,Ae.Narrow,kt.Standalone);break;case"cccccc":e=Ne(_e.Days,Ae.Short,kt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(_e.Days,Ae.Abbreviated);break;case"EEEE":e=Ne(_e.Days,Ae.Wide);break;case"EEEEE":e=Ne(_e.Days,Ae.Narrow);break;case"EEEEEE":e=Ne(_e.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Ne(_e.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Ne(_e.DayPeriods,Ae.Wide);break;case"aaaaa":e=Ne(_e.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Ne(_e.DayPeriods,Ae.Abbreviated,kt.Standalone,!0);break;case"bbbb":e=Ne(_e.DayPeriods,Ae.Wide,kt.Standalone,!0);break;case"bbbbb":e=Ne(_e.DayPeriods,Ae.Narrow,kt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(_e.DayPeriods,Ae.Abbreviated,kt.Format,!0);break;case"BBBB":e=Ne(_e.DayPeriods,Ae.Wide,kt.Format,!0);break;case"BBBBB":e=Ne(_e.DayPeriods,Ae.Narrow,kt.Format,!0);break;case"h":e=Xe(Ce.Hours,1,-12);break;case"hh":e=Xe(Ce.Hours,2,-12);break;case"H":e=Xe(Ce.Hours,1);break;case"HH":e=Xe(Ce.Hours,2);break;case"m":e=Xe(Ce.Minutes,1);break;case"mm":e=Xe(Ce.Minutes,2);break;case"s":e=Xe(Ce.Seconds,1);break;case"ss":e=Xe(Ce.Seconds,2);break;case"S":e=Xe(Ce.FractionalSeconds,1);break;case"SS":e=Xe(Ce.FractionalSeconds,2);break;case"SSS":e=Xe(Ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=cd(xr.Short);break;case"ZZZZZ":e=cd(xr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=cd(xr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=cd(xr.Long);break;default:return null}return Um[t]=e,e}function ED(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function NR(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function kR(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=ED(e,i);return NR(t,r*(o-i))}function RR(t){if(fD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return fd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(DR))return FR(r)}let e=new Date(t);if(!fD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function FR(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function fD(t){return t instanceof Date&&!isNaN(t.valueOf())}function pd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function pD(t,e){t.context.$implicit=e.item}function gD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${xt(e)}'.`)}function DD(t,e){return new M(2100,!1)}function gd(t){return t===Jm}function md(t){return t===$R}function HR(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var mD,dd,ct,Ym,yD,hR,Or,_D,Zm,CD,us,kt,Ae,Zt,ci,DR,sd,MR,xr,Ce,_e,TR,ud,Um,Bm,hD,ds,$m,fs,De,Hm,zm,qm,LR,VR,Ht,jR,UR,BR,hs,MD,Jm,$R,SD,Wm,Gm,ls,xe=p(()=>{"use strict";x();x();mD=null;dd=class{},ct=new k(""),Ym=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>v(hR),providedIn:"platform"})}}return t})(),yD=new k(""),hR=(()=>{class t extends Ym{constructor(){super(),this._doc=v(ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sr().getBaseHref(this._doc)}onPopState(n){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();Or=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>v(Zm),providedIn:"root"})}}return t})(),_D=new k(""),Zm=(()=>{class t extends Or{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(A(Ym),A(_D,8))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CD=(()=>{class t extends Or{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Qm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(A(Ym),A(_D,8))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),us=(()=>{class t{constructor(n){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=mR(uD(dD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ir(r))}normalize(n){return t.stripTrailingSlash(gR(this._basePath,dD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ir}static{this.joinWithSlash=Qm}static{this.stripTrailingSlash=uD}static{this.\u0275fac=function(r){return new(r||t)(A(Or))}}static{this.\u0275prov=S({token:t,factory:()=>pR(),providedIn:"root"})}}return t})();kt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(kt||{}),Ae=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ae||{}),Zt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Zt||{}),ci={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};DR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sd={},MR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(xr||{}),Ce=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ce||{}),_e=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(_e||{});TR=0,ud=4;Um={};Bm=/\s+/,hD=[],ds=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=hD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Bm):hD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Bm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Bm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(D(Pt),D(Dr))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})(),$m=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fs=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $m(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),pD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);pD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(D(oi),D(Gi),D(Lm))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();De=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Hm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){gD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){gD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(D(oi),D(Gi))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Hm=class{constructor(){this.$implicit=null,this.ngIf=null}};zm=class{createSubscription(e,n){return Qt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Qt(()=>e.unsubscribe())}},qm=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},LR=new qm,VR=new zm,Ht=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(si(n))return LR;if(Rm(n))return VR;throw DD(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(D(Mr,16))}}static{this.\u0275pipe=Yg({name:"async",type:t,pure:!1,standalone:!0})}}return t})(),jR="mediumDate",UR=new k(""),BR=new k(""),hs=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??jR,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return SR(n,s,o||this.locale,a)}catch(s){throw DD(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(D(nd,16),D(UR,24),D(BR,24))}}static{this.\u0275pipe=Yg({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),MD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({})}}return t})(),Jm="browser",$R="server";SD=(()=>{class t{static{this.\u0275prov=S({token:t,providedIn:"root",factory:()=>gd(v(Yt))?new Wm(v(ct),window):new Gm})}}return t})(),Wm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=HR(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};Gm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ls=class{}});function zR(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}function ID(t){return encodeURIComponent(t).replace(qR,(e,n)=>WR[n]??e)}function vd(t){return`${t}`}function GR(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OD(t){return typeof Blob<"u"&&t instanceof Blob}function TD(t){return typeof FormData<"u"&&t instanceof FormData}function KR(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function Xm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}function PD(t){if(t.url)return t.url;let e=ZR.toLocaleLowerCase();return t.headers.get(e)}function rv(){}function XR(t){t.then(rv,rv)}function FD(t,e){return e(t)}function eF(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function tF(t,e,n){return(r,i)=>dn(n,()=>e(r,o=>t(o,i)))}function iF(){let t=null;return(e,n)=>{t===null&&(t=(v(nF,{optional:!0})??[]).reduceRight(eF,FD));let r=v(Er);if(v(LD)){let o=r.add();return t(e,n).pipe(Wt(()=>r.remove(o)))}else return t(e,n)}}function sF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}function fF(t,e){let n=t.url.toLowerCase();if(!v(VD)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=v(Cd).getToken(),i=v(uF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function hF(t,e){return{\u0275kind:t,\u0275providers:e}}function pF(...t){let e=[to,ND,AD,{provide:Ta,useExisting:AD},{provide:yd,useFactory:()=>v(JR,{optional:!0})??v(ND)},{provide:iv,useValue:fF,multi:!0},{provide:VD,useValue:!0},{provide:Cd,useClass:dF}];for(let n of t)e.push(...n.\u0275providers);return ts(e)}function gF(){return hF(jD.LegacyInterceptors,[{provide:kD,useFactory:iF},{provide:iv,useExisting:kD,multi:!0}])}var Ta,yd,Tr,ev,qR,WR,ui,tv,Oa,di,Pa,_d,Aa,li,RD,YR,to,QR,ZR,JR,nv,nF,iv,rF,LD,AD,oF,ND,VD,aF,cF,lF,uF,Cd,dF,jD,kD,UD,Na=p(()=>{"use strict";x();x();Ee();Kr();xe();xe();Ta=class{},yd=class{},Tr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}},ev=class{encodeKey(e){return ID(e)}encodeValue(e){return ID(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};qR=/%(\d[a-f0-9])/gi,WR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};ui=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ev,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=zR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(vd):[vd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(vd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(vd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},tv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};Oa=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(GR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Tr,this.context??=new tv,!this.params)this.params=new ui,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xD(this.body)||OD(this.body)||TD(this.body)||KR(this.body)?this.body:this.body instanceof ui?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||TD(this.body)?null:OD(this.body)?this.body.type||null:xD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ui?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},di=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(di||{}),Pa=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Tr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},_d=class t extends Pa{constructor(e={}){super(e),this.type=di.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Aa=class t extends Pa{constructor(e={}){super(e),this.type=di.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},li=class extends Pa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},RD=200,YR=204;to=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Oa)o=n;else{let c;i.headers instanceof Tr?c=i.headers:c=new Tr(i.headers);let l;i.params&&(i.params instanceof ui?l=i.params:l=new ui({fromObject:i.params})),o=new Oa(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=F(o).pipe(cn(c=>this.handler.handle(c)));if(n instanceof Oa||i.observe==="events")return s;let a=s.pipe(je(c=>c instanceof Aa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(L(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(L(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ui().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Xm(i,r))}post(n,r,i={}){return this.request("POST",n,Xm(i,r))}put(n,r,i={}){return this.request("PUT",n,Xm(i,r))}static{this.\u0275fac=function(r){return new(r||t)(A(Ta))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),QR=/^\)\]\}',?\n/,ZR="X-Request-URL";JR=(()=>{class t{constructor(){this.fetchImpl=v(nv,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=v(ye)}handle(n){return new J(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(rv,o=>r.error(new li({error:o}))),()=>i.abort()})}doRequest(n,r,i){return I(this,null,function*(){let o=this.createRequestInit(n),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,E({signal:r},o)));XR(g),i.next({type:di.Sent}),s=yield g}catch(g){i.error(new li({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let a=new Tr(s.headers),c=s.statusText,l=PD(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&i.next(new _d({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),_=[],w=s.body.getReader(),O=0,j,oe,K=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:ze,value:be}=yield w.read();if(ze)break;if(_.push(be),O+=be.length,n.reportProgress){oe=n.responseType==="text"?(oe??"")+(j??=new TextDecoder).decode(be,{stream:!0}):void 0;let Re=()=>i.next({type:di.DownloadProgress,total:g?+g:void 0,loaded:O,partialText:oe});K?K.run(Re):Re()}}}));let ue=this.concatChunks(_,O);try{let ze=s.headers.get("Content-Type")??"";d=this.parseBody(n,ue,ze)}catch(ze){i.error(new li({error:ze,headers:new Tr(s.headers),status:s.status,statusText:s.statusText,url:PD(s)??n.urlWithParams}));return}}u===0&&(u=d?RD:0),u>=200&&u<300?(i.next(new Aa({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new li({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(QR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),nv=class{};nF=new k(""),iv=new k(""),rF=new k(""),LD=new k("",{providedIn:"root",factory:()=>!0});AD=(()=>{class t extends Ta{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=v(Er),this.contributeToStability=v(LD)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(iv),...this.injector.get(rF,[])]));this.chain=r.reduceRight((i,o)=>tF(i,o,this.injector),FD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Wt(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(A(yd),A(Ot))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),oF=/^\)\]\}',?\n/;ND=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new M(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?W(r.\u0275loadImpl()):F(null)).pipe(Ue(()=>new J(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((w,O)=>s.setRequestHeader(w,O.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",O=new Tr(s.getAllResponseHeaders()),j=sF(s)||n.url;return c=new _d({headers:O,status:s.status,statusText:w,url:j}),c},u=()=>{let{headers:w,status:O,statusText:j,url:oe}=l(),K=null;O!==YR&&(K=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=K?RD:0);let ue=O>=200&&O<300;if(n.responseType==="json"&&typeof K=="string"){let ze=K;K=K.replace(oF,"");try{K=K!==""?JSON.parse(K):null}catch(be){K=ze,ue&&(ue=!1,K={error:be,text:K})}}ue?(o.next(new Aa({body:K,headers:w,status:O,statusText:j,url:oe||void 0})),o.complete()):o.error(new li({error:K,headers:w,status:O,statusText:j,url:oe||void 0}))},d=w=>{let{url:O}=l(),j=new li({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(j)},m=!1,g=w=>{m||(o.next(l()),m=!0);let O={type:di.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(O.total=w.total),n.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},_=w=>{let O={type:di.UploadProgress,loaded:w.loaded};w.lengthComputable&&(O.total=w.total),o.next(O)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:di.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(A(ls))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),VD=new k(""),aF="XSRF-TOKEN",cF=new k("",{providedIn:"root",factory:()=>aF}),lF="X-XSRF-TOKEN",uF=new k("",{providedIn:"root",factory:()=>lF}),Cd=class{},dF=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=pd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(A(ct),A(Yt),A(cF))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();jD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(jD||{});kD=new k("");UD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({providers:[pF(gF())]})}}return t})()});function mF(){return ka=ka||document.querySelector("base"),ka?ka.getAttribute("href"):null}function vF(t){return new URL(t,document.baseURI).pathname}function EF(t){return CF.replace(hv,t)}function DF(t){return _F.replace(hv,t)}function WD(t,e){return e.map(n=>n.replace(hv,t))}function BD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}function OF(){lv.makeCurrent()}function TF(){return new yr}function PF(){return qw(document),document}var cv,lv,ka,uv,yF,dv,HD,bd,sv,zD,av,hv,qD,_F,CF,bF,wF,wd,Ra,fv,Fa,Ed,MF,$D,SF,IF,xF,AF,GD,NF,kF,RF,Dd,KD,La=p(()=>{"use strict";xe();x();x();cv=class extends dd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},lv=class t extends cv{static makeCurrent(){vD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mF();return n==null?null:vF(n)}resetBaseElement(){ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pd(document.cookie,e)}},ka=null;uv=class{addToWindow(e){St.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new M(5103,!1);return o},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=St.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?sr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},yF=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),dv=new k(""),HD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(A(dv),A(ye))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),bd=class{constructor(e){this._doc=e}},sv="ng-app-id",zD=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=md(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${sv}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(sv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(sv,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(A(ct),A($u),A(hm,8),A(Yt))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),av={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hv=/%COMP%/g,qD="%COMP%",_F=`_nghost-${qD}`,CF=`_ngcontent-${qD}`,bF=!0,wF=new k("",{providedIn:"root",factory:()=>bF});wd=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=md(a),this.defaultRenderer=new Ra(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xn.ShadowDom&&(r=U(E({},r),{encapsulation:Xn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ed?i.applyToHost(n):i instanceof Fa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Xn.Emulated:o=new Ed(c,l,r,this.appId,u,s,a,d);break;case Xn.ShadowDom:return new fv(c,l,n,r,s,a,this.nonce,d);default:o=new Fa(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(A(HD),A(zD),A($u),A(wF),A(ct),A(Yt),A(ye),A(hm))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),Ra=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(av[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(BD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(BD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=av[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=av[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(_r.DashCase|_r.Important)?e.style.setProperty(n,r,i&_r.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&_r.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};fv=class extends Ra{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=WD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fa=class extends Ra{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?WD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ed=class extends Fa{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=EF(l),this.hostAttr=DF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},MF=(()=>{class t extends bd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(A(ct))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),$D=["alt","control","meta","shift"],SF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xF=(()=>{class t extends bd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$D.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=SF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$D.forEach(s=>{if(s!==i){let a=IF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(A(ct))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();AF=[{provide:Yt,useValue:Jm},{provide:dm,useValue:OF,multi:!0},{provide:ct,useFactory:PF,deps:[]}],GD=Fm(aD,"browser",AF),NF=new k(""),kF=[{provide:xa,useClass:uv,deps:[]},{provide:Nm,useClass:Ju,deps:[ye,Xu,xa]},{provide:Ju,useClass:Ju,deps:[ye,Xu,xa]}],RF=[{provide:Au,useValue:"root"},{provide:yr,useFactory:TF,deps:[]},{provide:dv,useClass:MF,multi:!0,deps:[ct,ye,Yt]},{provide:dv,useClass:xF,multi:!0,deps:[ct]},wd,zD,HD,{provide:ni,useExisting:wd},{provide:ls,useClass:yF,deps:[]},[]],Dd=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:$u,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(A(NF,12))}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({providers:[...RF,...kF],imports:[MD,cD]})}}return t})(),KD=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(A(ct))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()});function _s(t){return new yv(t)}function FF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ar(t[n],e[n]))return!1;return!0}function ar(t,e){let n=t?_v(t):void 0,r=e?_v(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sM(t[i],e[i]))return!1;return!0}function _v(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function aM(t){return t.length>0?t[t.length-1]:null}function hi(t){return hp(t)?t:si(t)?W(Promise.resolve(t)):F(t)}function QD(t,e,n){return VF[n.paths](t.root,e.root,n.matrixParams)&&cM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jF(t,e){return ar(t,e)}function lM(t,e,n){if(!ro(t.segments,e.segments)||!Id(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!lM(t.children[r],e.children[r],n))return!1;return!0}function UF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sM(t[n],e[n]))}function uM(t,e,n){return dM(t,e,e.segments,n)}function dM(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ro(i,n)||e.hasChildren()||!Id(i,n,r))}else if(t.segments.length===n.length){if(!ro(t.segments,n)||!Id(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uM(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ro(t.segments,i)||!Id(t.segments,i,r)||!t.children[ie]?!1:dM(t.children[ie],e,o,r)}}function Id(t,e,n){return e.every((r,i)=>cM[n](t[i].parameters,r.parameters))}function BF(t,e){return ro(t,e)&&t.every((n,r)=>ar(n.parameters,e[r].parameters))}function ro(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $F(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}function xd(t){return t.segments.map(e=>hM(e)).join("/")}function Va(t,e){if(!t.hasChildren())return xd(t);if(e){let n=t.children[ie]?Va(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Va(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$F(t,(r,i)=>i===ie?[Va(t.children[ie],!1)]:[`${i}:${Va(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${xd(t)}/${n[0]}`:`${xd(t)}/(${n.join("//")})`}}function fM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Md(t){return fM(t).replace(/%3B/gi,";")}function zF(t){return encodeURI(t)}function Cv(t){return fM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Od(t){return decodeURIComponent(t)}function ZD(t){return Od(t.replace(/\+/g,"%20"))}function hM(t){return`${Cv(t.path)}${qF(t.parameters)}`}function qF(t){return Object.entries(t).map(([e,n])=>`;${Cv(e)}=${Cv(n)}`).join("")}function WF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Md(n)}=${Md(i)}`).join("&"):`${Md(n)}=${Md(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}function pv(t){let e=t.match(GF);return e?e[0]:""}function YF(t){let e=t.match(KF);return e?e[0]:""}function ZF(t){let e=t.match(QF);return e?e[0]:""}function XF(t){let e=t.match(JF);return e?e[0]:""}function pM(t){return t.segments.length>0?new Me([],{[ie]:t}):t}function gM(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=gM(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Me(t.segments,e);return eL(n)}function eL(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Me(t.segments.concat(e.segments),e.children)}return t}function io(t){return t instanceof Ar}function tL(t,e,n=null,r=null){let i=mM(t);return vM(i,e,n,r)}function mM(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=pM(r);return e??i}function vM(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return gv(i,i,i,n,r);let o=nL(e);if(o.toRoot())return gv(i,i,new Me([],{}),n,r);let s=rL(o,i,t),a=s.processChildren?Ba(s.segmentGroup,s.index,o.commands):_M(s.segmentGroup,s.index,o.commands);return gv(i,s.segmentGroup,a,n,r)}function Td(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function za(t){return typeof t=="object"&&t!=null&&t.outlets}function gv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=yM(t,e,n);let a=pM(gM(s));return new Ar(a,o,i)}function yM(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=yM(o,e,n)}),new Me(t.segments,r)}function nL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pd(n,e,r)}function rL(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=Td(t.commands[0])?0:1,i=n.segments.length-1+r;return iL(n,i,t.numberOfDoubleDots)}function iL(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new ms(r,!1,i-o)}function oL(t){return za(t[0])?t[0].outlets:{[ie]:t}}function _M(t,e,n){if(t??=new Me([],{}),t.segments.length===0&&t.hasChildren())return Ba(t,e,n);let r=sL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Me(t.segments.slice(0,r.pathIndex),{});return o.children[ie]=new Me(t.segments.slice(r.pathIndex),t.children),Ba(o,0,i)}else return r.match&&i.length===0?new Me(t.segments,{}):r.match&&!t.hasChildren()?wv(t,e,n):r.match?Ba(t,0,i):wv(t,e,n)}function Ba(t,e,n){if(n.length===0)return new Me(t.segments,{});{let r=oL(n),i={};if(Object.keys(r).some(o=>o!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let o=Ba(t.children[ie],e,n);return new Me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_M(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Me(t.segments,i)}}function sL(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(za(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!XD(c,l,s))return o;r+=2}else{if(!XD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(za(o)){let c=aL(o.outlets);return new Me(r,c)}if(i===0&&Td(n[0])){let c=t.segments[e];r.push(new no(c.path,JD(n[0]))),i++;continue}let s=za(o)?o.outlets[ie]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Td(a)?(r.push(new no(s,JD(a))),i+=2):(r.push(new no(s,{})),i++)}return new Me(r,{})}function aL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=wv(new Me([],{}),0,r))}),e}function JD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function XD(t,e,n){return t==n.path&&ar(e,n.parameters)}function cL(t,e){return t.providers&&!t._injector&&(t._injector=Yu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Fn(t){return t.outlet||ie}function lL(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function Xa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}function kv(t,e){if(t===e.value)return e;for(let n of e.children){let r=kv(t,n);if(r)return r}return null}function Rv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rv(t,n);if(r.length)return r.unshift(e),r}return[]}function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}function CM(t){let e=uL(t),n=new ve([new no("",{})]),r=new ve({}),i=new ve({}),o=new ve({}),s=new ve(""),a=new Rt(n,r,o,s,i,ie,t,e.root);return a.snapshot=e.root,new Fd(new Jt(a,[]),e)}function uL(t){let e={},n={},r={},i="",o=new vs([],e,r,i,n,ie,t,null,{});return new Vd("",new Jt(o,[]))}function Ld(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&wM(i)&&(r.resolve[Za]=i.title),r}function zv(t,e){e.value._routerState=t,e.children.forEach(n=>zv(t,n))}function bM(t){let e=t.children.length>0?` { ${t.children.map(bM).join(", ")} } `:"";return`${t.value}${e}`}function mv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ar(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ar(e.params,n.params)||t.paramsSubject.next(n.params),LF(e.url,n.url)||t.urlSubject.next(n.url),ar(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fv(t,e){let n=ar(t.params,e.params)&&BF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Fv(t.parent,e.parent))}function wM(t){return typeof t.title=="string"||t.title===null}function dL(t,e,n){let r=Ga(t,e._root,n?n._root:void 0);return new Fd(r,e)}function Ga(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fL(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ga(t,a)),s}}let r=hL(e.value),i=e.children.map(o=>Ga(t,o));return new Jt(r,i)}}function fL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ga(t,r,i);return Ga(t,r)})}function hL(t){return new Rt(new ve(t.url),new ve(t.params),new ve(t.queryParams),new ve(t.fragment),new ve(t.data),t.outlet,t.component,t)}function jd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=io(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DM(!1,Xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function DM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[EM]=!0,n.cancellationCode=e,n}function pL(t){return MM(t)&&io(t.url)}function MM(t){return!!t&&t[EM]}function mL(t,e,n){let r=t._root,i=e?e._root:null;return ja(r,i,n,[r.value])}function vL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ds(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ab(t)?t:e.get(t):r}function ja(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gs(e);return t.children.forEach(s=>{yL(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ha(a,n.getContext(s),i)),i}function yL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_L(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ud(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ja(t,e,a?a.children:null,r,i):ja(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ys(a.outlet.component,s))}else s&&Ha(e,a,i),i.canActivateChecks.push(new Ud(r)),o.component?ja(t,null,a?a.children:null,r,i):ja(t,null,n,r,i);return i}function _L(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ro(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ro(t.url,e.url)||!ar(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fv(t,e)||!ar(t.queryParams,e.queryParams);case"paramsChange":default:return!Fv(t,e)}}function Ha(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ha(s,e.children.getContext(o),n):Ha(s,null,n):Ha(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ys(e.outlet.component,i)):n.canDeactivateChecks.push(new ys(null,i)):n.canDeactivateChecks.push(new ys(null,i))}function tc(t){return typeof t=="function"}function CL(t){return typeof t=="boolean"}function bL(t){return t&&tc(t.canLoad)}function wL(t){return t&&tc(t.canActivate)}function EL(t){return t&&tc(t.canActivateChild)}function DL(t){return t&&tc(t.canDeactivate)}function ML(t){return t&&tc(t.canMatch)}function SM(t){return t instanceof In||t?.name==="EmptyError"}function Es(){return Ue(t=>la(t.map(e=>e.pipe(Te(1),Ap(Sd)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===Sd)return Sd;if(n===!1||SL(n))return n}return!0}),je(e=>e!==Sd),Te(1)))}function SL(t){return io(t)||t instanceof Ka}function IL(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?F(U(E({},n),{guardsResult:!0})):xL(s,r,i,t).pipe(Ve(a=>a&&CL(a)?OL(r,o,t,e):F(a)),L(a=>U(E({},n),{guardsResult:a})))})}function xL(t,e,n,r){return W(t).pipe(Ve(i=>kL(i.component,i.route,n,e,r)),Yn(i=>i!==!0,!0))}function OL(t,e,n,r){return W(e).pipe(cn(i=>Kn(PL(i.route.parent,r),TL(i.route,r),NL(t,i.path,n),AL(t,i.route,n))),Yn(i=>i!==!0,!0))}function TL(t,e){return t!==null&&e&&e(new Pv(t)),F(!0)}function PL(t,e){return t!==null&&e&&e(new Ov(t)),F(!0)}function AL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>Ri(()=>{let s=Xa(e)??n,a=Ds(o,s),c=wL(a)?a.canActivate(e,t):dn(s,()=>a(e,t));return hi(c).pipe(Yn())}));return F(i).pipe(Es())}function NL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>vL(s)).filter(s=>s!==null).map(s=>Ri(()=>{let a=s.guards.map(c=>{let l=Xa(s.node)??n,u=Ds(c,l),d=EL(u)?u.canActivateChild(r,t):dn(l,()=>u(r,t));return hi(d).pipe(Yn())});return F(a).pipe(Es())}));return F(o).pipe(Es())}function kL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=Xa(e)??i,l=Ds(a,c),u=DL(l)?l.canDeactivate(t,e,n,r):dn(c,()=>l(t,e,n,r));return hi(u).pipe(Yn())});return F(s).pipe(Es())}function RL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=Ds(s,t),c=bL(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return hi(c)});return F(o).pipe(Es(),IM(r))}function IM(t){return Gh(ne(e=>{if(typeof e!="boolean")throw jd(t,e)}),L(e=>e===!0))}function FL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=Ds(s,t),c=ML(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return hi(c)});return F(o).pipe(Es(),IM(r))}function ps(t){return nt(new Ya(t))}function LL(t){return nt(new M(4e3,!1))}function VL(t){return nt(DM(!1,Xt.GuardRejected))}function jL(t,e,n,r,i){let o=xM(t,e,n);return o.matched?(r=cL(e,r),FL(r,e,n,i).pipe(L(s=>s===!0?o:E({},Uv)))):F(o)}function xM(t,e,n){if(e.path==="**")return UL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Uv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FF)(n,t,e);if(!i)return E({},Uv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function UL(t){return{matched:!0,parameters:t.length>0?aM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tM(t,e,n,r){return n.length>0&&HL(t,n,r)?{segmentGroup:new Me(e,$L(r,new Me(n,t.children))),slicedSegments:[]}:n.length===0&&zL(t,n,r)?{segmentGroup:new Me(t.segments,BL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Me(t.segments,t.children),slicedSegments:n}}function BL(t,e,n,r){let i={};for(let o of n)if(zd(t,e,o)&&!r[Fn(o)]){let s=new Me([],{});i[Fn(o)]=s}return E(E({},r),i)}function $L(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&Fn(r)!==ie){let i=new Me([],{});n[Fn(r)]=i}return n}function HL(t,e,n){return n.some(r=>zd(t,e,r)&&Fn(r)!==ie)}function zL(t,e,n){return n.some(r=>zd(t,e,r))}function zd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qL(t,e,n){return e.length===0&&!t.children[n]}function WL(t,e,n,r,i,o,s="emptyOnly"){return new $v(t,e,n,r,i,s,o).recognize()}function KL(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function YL(t){let e=t.value.routeConfig;return e&&e.path===""}function OM(t){let e=[],n=new Set;for(let r of t){if(!YL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=OM(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function nM(t){return t.data||{}}function rM(t){return t.resolve||{}}function QL(t,e,n,r,i,o){return Ve(s=>WL(t,e,n,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>U(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function ZL(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of TM(c))s.add(l);let a=0;return W(s).pipe(cn(c=>o.has(c)?JL(c,r,t,e):(c.data=Ld(c,c.parent,t).resolve,F(void 0))),ne(()=>a++),Vo(1),Ve(c=>a===s.size?F(n):Mt))})}function TM(t){let e=t.children.map(n=>TM(n)).flat();return[t,...e]}function JL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!wM(i)&&(o[Za]=i.title),XL(o,t,e,r).pipe(L(s=>(t._resolvedData=s,t.data=Ld(t,t.parent,n).resolve,null)))}function XL(t,e,n,r){let i=_v(t);if(i.length===0)return F({});let o={};return W(i).pipe(Ve(s=>eV(t[s],e,n,r).pipe(Yn(),ne(a=>{if(a instanceof Ka)throw jd(new Cs,a);o[s]=a}))),Vo(1),fa(o),de(s=>SM(s)?Mt:nt(s)))}function eV(t,e,n,r){let i=Xa(e)??r,o=Ds(t,i),s=o.resolve?o.resolve(e,n):dn(i,()=>o(e,n));return hi(s)}function vv(t){return Ue(e=>{let n=t(e);return n?W(n).pipe(L(()=>e)):F(e)})}function qv(t){let e=t.children&&t.children.map(qv),n=e?U(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=nV),n}function rV(t,e,n,r){return hi(t.loadChildren()).pipe(L(AM),Ve(i=>i instanceof Ca||Array.isArray(i)?F(i):W(e.compileModuleAsync(i))),L(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Bd,[],{optional:!0,self:!0}).flat()),{routes:s.map(qv),injector:o}}))}function iV(t){return t&&typeof t=="object"&&"default"in t}function AM(t){return iV(t)?t.default:t}function sV(t,e,n){let r=t.get(kM),i=t.get(ct);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),aV(t))),{onViewTransitionCreated:c}=r;return c&&dn(t,()=>c({transition:a,from:e,to:n})),s})}function aV(t){return new Promise(e=>{Pm({read:()=>setTimeout(e)},{injector:t})})}function lV(t){return t!==$a}function FM(t,e){t.events.pipe(je(n=>n instanceof en||n instanceof Pr||n instanceof qa||n instanceof fi),L(n=>n instanceof en||n instanceof fi?Ua.COMPLETE:(n instanceof Pr?n.code===Xt.Redirect||n.code===Xt.SupersededByNewNavigation:!1)?Ua.REDIRECTING:Ua.FAILED),je(n=>n!==Ua.REDIRECTING),Te(1)).subscribe(()=>{e()})}function hV(t){throw t}function mV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new M(4008,!1)}function vV(t){return!(t instanceof Wa)&&!(t instanceof ws)}function yV(t){return!!t.paths}function bV(t){return t.routerState.root}function rc(t,e){return{\u0275kind:t,\u0275providers:e}}function wV(){let t=v(Ze);return e=>{let n=t.get(vn);if(e!==n.components[0])return;let r=t.get(Oe),i=t.get(jM);t.get(Yv)===1&&r.initialNavigation(),t.get(UM,null,ae.Optional)?.setUpPreloading(),t.get(VM,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function EV(){return rc(2,[{provide:Yv,useValue:0},{provide:cs,multi:!0,deps:[Ze],useFactory:e=>{let n=e.get(yD,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Oe),o=e.get(jM);FM(i,()=>{r(!0)}),e.get(Kv).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}])}function DV(){return rc(3,[{provide:cs,multi:!0,useFactory:()=>{let e=v(Oe);return()=>{e.setUpLocationChangeListener()}}},{provide:Yv,useValue:2}])}function MV(t){return rc(0,[{provide:UM,useExisting:_V},{provide:$d,useExisting:t}])}function SV(){return rc(8,[eM,{provide:Hd,useExisting:eM}])}function IV(t){let e=[{provide:NM,useValue:sV},{provide:kM,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return rc(9,e)}function OV(){return{provide:VM,useFactory:()=>{let t=v(SD),e=v(ye),n=v(nc),r=v(Kv),i=v(Ja);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CV(i,r,t,e,n)}}}function TV(){return{provide:Or,useClass:CD}}function PV(){return{provide:Or,useClass:Zm}}function AV(t){return"guarded"}function NV(t){return[t.initialNavigation==="disabled"?DV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?EV().\u0275providers:[]]}function kV(){return[{provide:oM,useFactory:wV},{provide:ed,multi:!0,useExisting:oM}]}var ie,Za,yv,VF,cM,Ar,Me,no,Ja,Cs,HF,GF,KF,QF,JF,bv,Pd,ms,$a,lt,_n,bs,en,Xt,Ad,Pr,fi,qa,Nd,Ev,Dv,Mv,Sv,Iv,xv,Ov,Tv,Pv,Av,kd,Wa,ws,Nv,ec,Rd,Jt,Fd,Rt,vs,Vd,Ln,Lv,Hd,eM,Ka,EM,gL,Vv,Ud,ys,Sd,Ya,Qa,jv,Uv,Bv,GL,$v,PM,tV,nc,nV,Bd,Wv,Gv,oV,NM,kM,cV,Kv,uV,Hv,dV,RM,fV,Ua,pV,gV,Oe,Cn,LM,$d,_V,VM,CV,jM,Yv,UM,iM,xV,Qv,oM,ut=p(()=>{"use strict";x();x();Ee();xe();xe();Kr();La();ie="primary",Za=Symbol("RouteTitle"),yv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};VF={exact:lM,subset:uM},cM={exact:jF,subset:UF,ignored:()=>!0};Ar=class{constructor(e=new Me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return HF.serialize(this)}},Me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xd(this)}},no=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return hM(this)}};Ja=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>new Cs,providedIn:"root"})}}return t})(),Cs=class{parse(e){let n=new bv(e);return new Ar(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Va(e.root,!0)}`,r=WF(e.queryParams),i=typeof e.fragment=="string"?`#${zF(e.fragment)}`:"";return`${n}${r}${i}`}},HF=new Cs;GF=/^[^\/()?;#]+/;KF=/^[^\/()?;=#]+/;QF=/^[^=?&#]+/;JF=/^[^&#]+/;bv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Me(e,n)),r}parseSegment(){let e=pv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new no(Od(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=YF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=pv(this.remaining);i&&(r=i,this.capture(r))}e[Od(n)]=Od(r)}parseQueryParam(e){let n=ZF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=XF(this.remaining);s&&(r=s,this.capture(r))}let i=ZD(n),o=ZD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ie]:new Me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};Pd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Td(r[0]))throw new M(4003,!1);let i=r.find(za);if(i&&i!==aM(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};$a="imperative",lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(lt||{}),_n=class{constructor(e,n){this.id=e,this.url=n}},bs=class extends _n{constructor(e,n,r="imperative",i=null){super(e,n),this.type=lt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends _n{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Xt||{}),Ad=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ad||{}),Pr=class extends _n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends _n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=lt.NavigationSkipped}},qa=class extends _n{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nd=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ev=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dv=class extends _n{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mv=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sv=class extends _n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xv=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ov=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tv=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pv=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Av=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=lt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Wa=class{},ws=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};Nv=class{get injector(){return Xa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ec(this.rootInjector),this.attachRef=null}},ec=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Nv(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(A(Ot))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=kv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=kv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rv(e,this._root).map(n=>n.value)}};Jt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};Fd=class extends Rd{constructor(e,n){super(e),this.snapshot=n,zv(this,e)}toString(){return this.snapshot.toString()}};Rt=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Za]))??F(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};vs=class{get title(){return this.data?.[Za]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vd=class extends Rd{constructor(e,n){super(n),this.url=e,zv(this,n)}toString(){return bM(this._root)}};Ln=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=v(ec),this.location=v(oi),this.changeDetector=v(Mr),this.inputBinder=v(Hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Lv(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nn]})}}return t})(),Lv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Rt?this.route:e===ec?this.childContexts:this.parent.get(e,n)}},Hd=new k(""),eM=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=la([r.queryParams,r.params,r.data]).pipe(Ue(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=lD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();Ka=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},EM="ngNavigationCancelingError";gL=(t,e,n,r)=>L(i=>(new Vv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vv=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=gs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Av(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(mv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ud=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ys=class{constructor(e,n){this.component=e,this.route=n}};Sd=Symbol("INITIAL_VALUE");Ya=class{constructor(e){this.segmentGroup=e||null}},Qa=class extends Error{constructor(e){super(),this.urlTree=e}};jv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[ie])return LL(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:_,title:w}=i,O=dn(o,()=>a({params:g,data:_,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:w}));if(O instanceof Ar)throw new Qa(O);n=O}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Qa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ar(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Uv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};Bv=class{};GL=31,$v=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=tM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:n,rootSnapshot:r})=>{let i=new Jt(r,n),o=new Vd("",i),s=tL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new vs([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(L(r=>({children:r,rootSnapshot:n})),de(r=>{if(r instanceof Qa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ya?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(L(s=>s instanceof Jt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return W(o).pipe(cn(s=>{let a=r.children[s],c=lL(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Pp((s,a)=>(s.push(...a),s)),Gr(null),xp(),Ve(s=>{if(s===null)return ps(r);let a=OM(s);return KL(a),F(a)}))}processSegment(e,n,r,i,o,s,a){return W(n).pipe(cn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(de(l=>{if(l instanceof Ya)return F(null);throw l}))),Yn(c=>!!c),de(c=>{if(SM(c))return qL(r,i,o)?F(new Bv):ps(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Fn(r)!==s&&(s===ie||!zd(i,o,r))?ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=xM(n,i,o);if(!c)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GL&&(this.allowRedirects=!1));let g=new vs(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,nM(i),Fn(i),i.component??i._loadedComponent??null,i,rM(i)),_=Ld(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ve(O=>this.processSegment(e,r,n,O.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=jL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ue(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ue(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,_=new vs(m,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,nM(r),Fn(r),r.component??r._loadedComponent??null,r,rM(r)),w=Ld(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:O,slicedSegments:j}=tM(n,m,g,l);if(j.length===0&&O.hasChildren())return this.processChildren(u,l,O,_).pipe(L(K=>new Jt(_,K)));if(l.length===0&&j.length===0)return F(new Jt(_,[]));let oe=Fn(r)===o;return this.processSegment(u,l,O,j,oe?ie:o,!0,_).pipe(L(K=>new Jt(_,K instanceof Jt?[K]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?F({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?F({routes:n._loadedRoutes,injector:n._loadedInjector}):RL(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):VL(n))):F({routes:[],injector:e})}};PM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Za]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>v(tV),providedIn:"root"})}}return t})(),tV=(()=>{class t extends PM{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(A(KD))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nc=new k("",{providedIn:"root",factory:()=>({})}),nV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=ee({type:t,selectors:[["ng-component"]],standalone:!0,features:[GE],decls:1,vars:0,template:function(r,i){r&1&&R(0,"router-outlet")},dependencies:[Ln],encapsulation:2})}}return t})();Bd=new k(""),Wv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(td)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=hi(n.loadComponent()).pipe(L(AM),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Wt(()=>{this.componentLoaders.delete(n)})),i=new Wr(r,()=>new he).pipe(xo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=rV(r,this.compiler,n,this.onLoadEndListener).pipe(Wt(()=>{this.childrenLoaders.delete(r)})),s=new Wr(o,()=>new he).pipe(xo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();Gv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>v(oV),providedIn:"root"})}}return t})(),oV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NM=new k(""),kM=new k("");cV=new k(""),Kv=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=v(Wv),this.environmentInjector=v(Ot),this.urlSerializer=v(Ja),this.rootContexts=v(ec),this.location=v(us),this.inputBindingEnabled=v(Hd,{optional:!0})!==null,this.titleStrategy=v(PM),this.options=v(nc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Gv),this.createViewTransition=v(NM,{optional:!0}),this.navigationErrorHandler=v(cV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Iv(i)),r=i=>this.events.next(new xv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(U(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ve({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$a,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(je(o=>o.id!==0),L(o=>U(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{let s=!1,a=!1;return F(o).pipe(Ue(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),Mt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?U(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.rawUrl),d,Ad.IgnoredSameUrlNavigation)),c.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(Ue(d=>{let m=this.transitions?.getValue();return this.events.next(new bs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Mt:Promise.resolve(d)}),QL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=U(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Nd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:_,extras:w}=c,O=new bs(d,this.urlSerializer.serialize(m),g,_);this.events.next(O);let j=CM(this.rootComponentType).snapshot;return this.currentTransition=o=U(E({},c),{targetSnapshot:j,urlAfterRedirects:m,extras:U(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,F(o)}else{let d="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Ad.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Mt}}),ne(c=>{let l=new Ev(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),L(c=>(this.currentTransition=o=U(E({},c),{guards:mL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),IL(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw jd(this.urlSerializer,c.guardsResult);let l=new Dv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),je(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Xt.GuardRejected),!1)),vv(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(ne(l=>{let u=new Mv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ue(l=>{let u=!1;return F(l).pipe(ZL(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),ne(l=>{let u=new Sv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),vv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(m=>{u.component=m}),L(()=>{})));for(let m of u.children)d.push(...l(m));return d};return la(l(c.targetSnapshot.root)).pipe(Gr(null),Te(1))}),vv(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?W(u).pipe(L(()=>o)):F(o)}),L(c=>{let l=dL(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=U(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new Wa)}),gL(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Te(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Qn(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),Wt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),de(c=>{if(a=!0,MM(c))this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),pL(c)?this.events.next(new ws(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new qa(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ka){let{message:d,cancellationCode:m}=jd(this.urlSerializer,u);this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new ws(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Mt}))}))}cancelNavigationTransition(n,r,i){let o=new Pr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();uV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>v(dV),providedIn:"root"})}}return t})(),Hv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dV=(()=>{class t extends Hv{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zi(t)))(i||t)}})()}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RM=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:()=>v(fV),providedIn:"root"})}}return t})(),fV=(()=>{class t extends RM{constructor(){super(...arguments),this.location=v(us),this.urlSerializer=v(Ja),this.options=v(nc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Gv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof bs)this.stateMemento=this.createStateMemento();else if(n instanceof fi)this.rawUrlTree=r.initialUrl;else if(n instanceof Nd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Wa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Pr&&(n.code===Xt.GuardRejected||n.code===Xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof qa?this.restoreHistory(r,!0):n instanceof en&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Ar?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zi(t)))(i||t)}})()}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ua=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ua||{});pV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oe=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=v(Zu),this.stateManager=v(RM),this.options=v(nc,{optional:!0})||{},this.pendingTasks=v(Er),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(Kv),this.urlSerializer=v(Ja),this.location=v(us),this.urlHandlingStrategy=v(Gv),this._events=new he,this.errorHandler=this.options.errorHandler||hV,this.navigated=!1,this.routeReuseStrategy=v(uV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Bd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(Hd,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof en)this.navigated=!0;else if(r instanceof ws){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lV(i.source)},s);this.scheduleNavigation(a,$a,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$a,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(qv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=mM(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return vM(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=io(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$a,null,r)}navigate(n,r={skipLocationChange:!1}){return mV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},pV):r===!1?i=E({},gV):i=r,io(n))return QD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return QD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return FM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();Cn=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(io(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Kw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:io(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(D(Oe),D(Rt),cm("tabindex"),D(Dr),D(Pt),D(Or))}}static{this.\u0275dir=pe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&P("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&os("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ai],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ai],replaceUrl:[2,"replaceUrl","replaceUrl",ai],routerLink:"routerLink"},standalone:!0,features:[Om,Nn]})}}return t})(),LM=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new se,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof en&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(Gn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=W(n).pipe(Gn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=yV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||t)(D(Oe),D(Pt),D(Dr),D(Mr),D(Cn,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&qE(o,Cn,5),r&2){let s;Sa(s=Ia())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Nn]})}}return t})();$d=class{},_V=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(je(n=>n instanceof en),cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Yu(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return W(i).pipe(Gn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=F(null);let o=i.pipe(Ve(s=>s===null?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return W([o,s]).pipe(Gn())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(A(Oe),A(td),A(Ot),A($d),A(Wv))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VM=new k(""),CV=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof bs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof en?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof fi&&n.code===Ad.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof kd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){aE()}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();jM=new k("",{factory:()=>new he}),Yv=new k("",{providedIn:"root",factory:()=>1});UM=new k("");iM=new k("ROUTER_FORROOT_GUARD"),xV=[us,{provide:Ja,useClass:Cs},Oe,ec,{provide:Rt,useFactory:bV,deps:[Oe]},Wv,[]],Qv=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[xV,[],{provide:Bd,multi:!0,useValue:n},{provide:iM,useFactory:AV,deps:[[Oe,new Pu,new qg]]},{provide:nc,useValue:r||{}},r?.useHash?TV():PV(),OV(),r?.preloadingStrategy?MV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?NV(r):[],r?.bindToComponentInputs?SV().\u0275providers:[],r?.enableViewTransitions?IV().\u0275providers:[],kV()]}}static forChild(n){return{ngModule:t,providers:[{provide:Bd,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(A(iM,8))}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({})}}return t})();oM=new k("")});var qd,BM=p(()=>{"use strict";Kr();Ee();x();Na();qd=class t{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(st(1),de(e=>(console.log("err:",e),nt(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(st(1),de(e=>(console.log("err:",e),nt(()=>e))))}static \u0275fac=function(n){return new(n||t)(A(to))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var RV,FV,bt,Wd=p(()=>{"use strict";RV=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],FV=!RV.includes(window.location.hostname),bt={baseURL:FV?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function ic(){let e=document.cookie.split("; ").find(n=>n.startsWith("loginToken="));return e?e.split("=")[1]:null}var $M=p(()=>{"use strict"});function sc(t,e=200){return I(this,null,function*(){if(oc){let n=ic();console.log("loginToken:",n);let r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`);let i=`${bt.baseURL}/${t}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${t}: ${o.statusText}`);return o.json()}else{let n=JSON.parse(localStorage.getItem(t))||[];return new Promise(r=>setTimeout(()=>r(n),e))}})}function LV(t,e){return I(this,null,function*(){if(oc){let n=yield fetch(`${bt.baseURL}/${t}/${e}`);if(!n.ok)throw new Error(`Failed to get entity with id ${e}: ${n.statusText}`);return n.json()}else{let r=(yield sc(t)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${t}`);return r}})}function VV(t,e){return I(this,null,function*(){let n=`${bt.baseURL}/${t}`,r=yield fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function jV(t,e,n){return I(this,null,function*(){if(oc){let r=n?`${bt.baseURL}/${n}`:`${bt.baseURL}/${t}`,i={"Content-Type":"application/json"},o=ic();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=U(E({},e),{_id:$V()}),i=yield sc(t);return i.push(r),Zv(t,i),r}throw new Error("Local storage operations require `_id` field.")}})}function UV(t,e){return I(this,null,function*(){if(oc){let n=`${bt.baseURL}/${t}/${e._id}`,r={"Content-Type":"application/json"},i=ic();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(n,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let n=yield sc(t),r=n.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${t}`);return n.splice(r,1,e),Zv(t,n),e}})}function BV(t,e){return I(this,null,function*(){if(oc){let n=ic();console.log("loginToken:",n);let r={"Content-Type":"application/json"};n&&(r.Authorization=`Bearer ${n}`);let i=`${bt.baseURL}/${t}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let n=yield sc(t),r=n.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${t}`);n.splice(r,1),Zv(t,n)}})}function Zv(t,e){localStorage.setItem(t,JSON.stringify(e))}function $V(t=5){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var dt,oc,Jv=p(()=>{"use strict";Wd();$M();dt={post:jV,get:LV,put:UV,remove:BV,query:sc,login:VV},oc=!0});var HM,HV,zV,Xv,zM=p(()=>{"use strict";HM="dzqnyehxn",HV="fuhrsp2z",zV=`https://api.cloudinary.com/v1_1/${HM}/image/upload`,Xv={CLOUD_NAME:HM,UPLOAD_PRESET:HV,UPLOAD_URL:zV}});var Ms,ey=p(()=>{"use strict";zM();Ee();x();Ms=class t{uploadUrl=Xv.UPLOAD_URL;constructor(){}uploadImage(e){let n=new FormData;return n.append("file",e),n.append("upload_preset",Xv.UPLOAD_PRESET),W(fetch(this.uploadUrl,{method:"POST",body:n}).then(r=>{if(!r.ok)throw new Error(`Upload failed: ${r.statusText}`);return r.json()}).then(r=>r.secure_url))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var jn,ac,cc,Gd=p(()=>{"use strict";jn=Object.create(null);jn.open="0";jn.close="1";jn.ping="2";jn.pong="3";jn.message="4";jn.upgrade="5";jn.noop="6";ac=Object.create(null);Object.keys(jn).forEach(t=>{ac[jn[t]]=t});cc={type:"error",data:"parser error"}});function GM(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function ZM(t,e){if(KM&&t.data instanceof Blob)return t.data.arrayBuffer().then(GM).then(e);if(YM&&(t.data instanceof ArrayBuffer||QM(t.data)))return e(GM(t.data));lc(t,!1,n=>{ty||(ty=new TextEncoder),e(ty.encode(n))})}var KM,YM,QM,lc,WM,ty,JM=p(()=>{"use strict";Gd();KM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",YM=typeof ArrayBuffer=="function",QM=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,lc=({type:t,data:e},n,r)=>KM&&e instanceof Blob?n?r(e):WM(e,r):YM&&(e instanceof ArrayBuffer||QM(e))?n?r(e):WM(new Blob([e]),r):r(jn[t]+(e||"")),WM=(t,e)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)}});var XM,uc,eS,tS=p(()=>{"use strict";XM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<XM.length;t++)uc[XM.charCodeAt(t)]=t;eS=t=>{let e=t.length*.75,n=t.length,r,i=0,o,s,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)o=uc[t.charCodeAt(r)],s=uc[t.charCodeAt(r+1)],a=uc[t.charCodeAt(r+2)],c=uc[t.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var qV,dc,WV,nS,rS=p(()=>{"use strict";Gd();tS();qV=typeof ArrayBuffer=="function",dc=(t,e)=>{if(typeof t!="string")return{type:"message",data:nS(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:WV(t.substring(1),e)}:ac[n]?t.length>1?{type:ac[n],data:t.substring(1)}:{type:ac[n]}:cc},WV=(t,e)=>{if(qV){let n=eS(t);return nS(n,e)}else return{base64:!0,data:t}},nS=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});function aS(){return new TransformStream({transform(t,e){ZM(t,n=>{let r=n.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}function Kd(t){return t.reduce((e,n)=>e+n.length,0)}function Yd(t,e){if(t[0].length===e)return t.shift();let n=new Uint8Array(e),r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function cS(t,e){ny||(ny=new TextDecoder);let n=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(Kd(n)<1)break;let c=Yd(n,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Kd(n)<2)break;let c=Yd(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Kd(n)<8)break;let c=Yd(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(cc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Kd(n)<i)break;let c=Yd(n,i);a.enqueue(dc(o?c:ny.decode(c),e)),r=0}if(i===0||i>t){a.enqueue(cc);break}}}})}var iS,oS,sS,ny,ry,Ss=p(()=>{"use strict";JM();rS();Gd();iS="",oS=(t,e)=>{let n=t.length,r=new Array(n),i=0;t.forEach((o,s)=>{lc(o,!1,a=>{r[s]=a,++i===n&&e(r.join(iS))})})},sS=(t,e)=>{let n=t.split(iS),r=[];for(let i=0;i<n.length;i++){let o=dc(n[i],e);if(r.push(o),o.type==="error")break}return r};ry=4});function ke(t){if(t)return GV(t)}function GV(t){for(var e in ke.prototype)t[e]=ke.prototype[e];return t}var oo=p(()=>{"use strict";ke.prototype.on=ke.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ke.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ke.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ke.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Nr,Ft,lS,so=p(()=>{"use strict";Nr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ft=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),lS="arraybuffer"});function Qd(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function kr(t,e){e.useNativeTimers?(t.setTimeoutFn=KV.bind(Ft),t.clearTimeoutFn=YV.bind(Ft)):(t.setTimeoutFn=Ft.setTimeout.bind(Ft),t.clearTimeoutFn=Ft.clearTimeout.bind(Ft))}function uS(t){return typeof t=="string"?ZV(t):Math.ceil((t.byteLength||t.size)*QV)}function ZV(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Zd(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var KV,YV,QV,ao=p(()=>{"use strict";so();KV=Ft.setTimeout,YV=Ft.clearTimeout;QV=1.33});function dS(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function fS(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var iy=p(()=>{"use strict"});var Jd,Rr,fc=p(()=>{"use strict";Ss();oo();ao();iy();Jd=class extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}},Rr=class extends ke{constructor(e){super(),this.writable=!1,kr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Jd(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let n=dc(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let n=dS(e);return n.length?"?"+n:""}}});var hc,oy=p(()=>{"use strict";fc();ao();Ss();hc=class extends Rr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};sS(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,oS(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Zd()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}});var hS,pS,gS=p(()=>{"use strict";hS=!1;try{hS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}pS=hS});function JV(){}function mS(){for(let t in Xd.requests)Xd.requests.hasOwnProperty(t)&&Xd.requests[t].abort()}function vS(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||pS))return new XMLHttpRequest}catch{}if(!e)try{return new Ft[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var sy,Xd,XV,pi,ef=p(()=>{"use strict";oy();oo();ao();so();gS();sy=class extends hc{constructor(e){if(super(e),typeof location<"u"){let n=location.protocol==="https:",r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){let r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}},Xd=(()=>{class t extends ke{constructor(n,r,i){super(),this.createRequest=n,kr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var n;let r=Qd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=JV,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){let n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",mS);else if(typeof addEventListener=="function"){let t="onpagehide"in Ft?"pagehide":"unload";addEventListener(t,mS,!1)}}XV=function(){let t=vS({xdomain:!1});return t&&t.responseType!==null}(),pi=class extends sy{constructor(e){super(e);let n=e&&e.forceBase64;this.supportsBinary=XV&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Xd(vS,this.uri(),e)}}});var yS,cy,ay,gi,tf=p(()=>{"use strict";fc();ao();Ss();so();yS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",cy=class extends Rr{get name(){return"websocket"}doOpen(){let e=this.uri(),n=this.opts.protocols,r=yS?{}:Qd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;lc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Zd()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}},ay=Ft.WebSocket||Ft.MozWebSocket,gi=class extends cy{createSocket(e,n,r){return yS?new ay(e,n,r):n?new ay(e,n):new ay(e)}doWrite(e,n){this.ws.send(n)}}});var Is,ly=p(()=>{"use strict";fc();so();Ss();Is=class extends Rr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let n=cS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=aS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var uy,dy=p(()=>{"use strict";ef();tf();ly();uy={websocket:gi,webtransport:Is,polling:pi}});function xs(t){if(t.length>8e3)throw"URI too long";let e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=e2.exec(t||""),o={},s=14;for(;s--;)o[t2[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=n2(o,o.path),o.queryKey=r2(o,o.query),o}function n2(t,e){let n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function r2(t,e){let n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}var e2,t2,fy=p(()=>{"use strict";e2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,t2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var hy,nf,rf,of,Os,py=p(()=>{"use strict";dy();ao();iy();fy();oo();Ss();so();hy=typeof addEventListener=="function"&&typeof removeEventListener=="function",nf=[];hy&&addEventListener("offline",()=>{nf.forEach(t=>t())},!1);rf=(()=>{class t extends ke{constructor(n,r){if(super(),this.binaryType=lS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){let i=xs(n);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=xs(r.host).host);kr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=fS(this.opts.query)),hy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},nf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){let r=Object.assign({},this.opts.query);r.EIO=ry,r.transport=n,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let n=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=uS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Nr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,i){return this._sendPacket("message",n,r,i),this}send(n,r,i){return this._sendPacket("message",n,r,i),this}_sendPacket(n,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:n,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}_onError(n){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),hy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=nf.indexOf(this._offlineEventListener);i!==-1&&nf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}return t.protocol=ry,t})(),of=class extends rf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;rf.priorWebsocketSuccess=!1;let i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;rf.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=n.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){n&&d.name!==n.name&&o()}let u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}},Os=class extends of{constructor(e,n={}){let r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>uy[i]).filter(i=>!!i)),super(e,r)}}});var _S=p(()=>{"use strict";oy()});var AK,sf=p(()=>{"use strict";py();py();fc();dy();ao();fy();so();_S();ef();ef();tf();tf();ly();AK=Os.protocol});function CS(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=xs(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}var bS=p(()=>{"use strict";sf()});function gc(t){return o2&&(t instanceof ArrayBuffer||s2(t))||a2&&t instanceof Blob||c2&&t instanceof File}function pc(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(pc(t[n]))return!0;return!1}if(gc(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return pc(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&pc(t[n]))return!0;return!1}var o2,s2,wS,a2,c2,gy=p(()=>{"use strict";o2=typeof ArrayBuffer=="function",s2=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,wS=Object.prototype.toString,a2=typeof Blob=="function"||typeof Blob<"u"&&wS.call(Blob)==="[object BlobConstructor]",c2=typeof File=="function"||typeof File<"u"&&wS.call(File)==="[object FileConstructor]"});function ES(t){let e=[],n=t.data,r=t;return r.data=my(n,e),r.attachments=e.length,{packet:r,buffers:e}}function my(t,e){if(!t)return t;if(gc(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=my(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=my(t[r],e));return n}return t}function DS(t,e){return t.data=vy(t.data,e),delete t.attachments,t}function vy(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=vy(t[n],e);else if(typeof t=="object")for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=vy(t[n],e));return t}var MS=p(()=>{"use strict";gy()});var by={};zO(by,{Decoder:()=>_y,Encoder:()=>yy,PacketType:()=>fe,protocol:()=>IS});function SS(t){return Object.prototype.toString.call(t)==="[object Object]"}var l2,IS,fe,yy,_y,Cy,af=p(()=>{"use strict";oo();MS();gy();l2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],IS=5,fe=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(fe||{}),yy=class{constructor(e){this.replacer=e}encode(e){return(e.type===fe.EVENT||e.type===fe.ACK)&&pc(e)?this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){let n=ES(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};_y=class t extends ke{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);let r=n.type===fe.BINARY_EVENT;r||n.type===fe.BINARY_ACK?(n.type=r?fe.EVENT:fe.ACK,this.reconstructor=new Cy(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(gc(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,r={type:Number(e.charAt(0))};if(fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){let o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let s=e.substring(o,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";let i=e.charAt(n+1);if(i!==""&&Number(i)==i){let o=n+1;for(;++n;){let s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){let o=this.tryParse(e.substr(n));if(t.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case fe.CONNECT:return SS(n);case fe.DISCONNECT:return n===void 0;case fe.CONNECT_ERROR:return typeof n=="string"||SS(n);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&l2.indexOf(n[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Cy=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=DS(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function tn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var wy=p(()=>{"use strict"});var u2,Ts,Ey=p(()=>{"use strict";af();wy();oo();u2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ts=class extends ke{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[tn(e,"open",this.onopen.bind(this)),tn(e,"packet",this.onpacket.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(u2.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let s={type:fe.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let u=this.ids++,d=n.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let n=this,r=!1;return function(...i){r||(r=!0,n.packet({type:fe.ACK,id:e,data:i}))}}onack(e){let n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let r of n)r.apply(this,e.data)}}}});function co(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}var xS=p(()=>{"use strict";co.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};co.prototype.reset=function(){this.attempts=0};co.prototype.setMin=function(t){this.ms=t};co.prototype.setMax=function(t){this.max=t};co.prototype.setJitter=function(t){this.jitter=t}});var Ps,OS=p(()=>{"use strict";sf();Ey();af();wy();xS();oo();Ps=class extends ke{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,kr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new co({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let i=n.parser||by;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Os(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=tn(n,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=tn(n,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(tn(e,"ping",this.onping.bind(this)),tn(e,"data",this.ondata.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Nr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ts(this,e,n),this.nsps[e]=r),r}_destroy(e){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active)return;this._close()}_packet(e){let n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function vc(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=CS(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=mc[i]&&o in mc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Ps(r,e):(mc[i]||(mc[i]=new Ps(r,e)),c=mc[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}var mc,TS=p(()=>{"use strict";bS();OS();Ey();af();sf();mc={};Object.assign(vc,{Manager:Ps,Socket:Ts,io:vc,connect:vc})});var As,Dy=p(()=>{"use strict";x();As=class t{logs=[];log(e,n){let r=`${new Date().toISOString()} - ${e} ${n?JSON.stringify(n):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});function AS(){let t=window.env?.NODE_ENV||"development",n=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${t}`),n?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var bY,d2,f2,h2,p2,g2,m2,v2,cr,yc=p(()=>{"use strict";TS();Lt();x();Dy();bY=AS(),d2="chat-add-msg",f2="chat-add-private-msg",h2="chat-send-msg",p2="chat-set-topic",g2="chat-send-private-msg",m2="set-user-socket",v2="unset-user-socket",cr=class t{constructor(e,n){this.errorLogger=n;this.injector=e}socket=null;injector;privateMessagesBuffer=[];get userService(){return this.injector.get(Se)}setup(){if(this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=AS(),n={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:n});try{this.socket=vc(e,n),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection()}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,n){this.socket?.on(e,n)}off(e,n){this.socket&&(n?this.socket.off(e,n):this.socket.removeAllListeners(e))}emit(e,n){this.socket?.emit(e,n)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(p2,e)}sendMessage(e){console.log("asdfasdasdasd"),this.socket||this.setup();let n=this.userService?.getLoggedInUser();if(console.log(`user: ${n}`),!n)return;let r={text:e};this.socket?.emit(h2,r),console.log(`user: ${n}`),console.log(`message: ${r}`)}sendPrivateMessage(e,n){this.socket||this.setup();let r=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",r),!r||!e||!n.trim()){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:r,toUserId:e,msg:n});return}let i={sender:r._id,senderName:r.username,text:n,toUserId:e};this.addToBuffer(U(E({},i),{senderName:"Me"})),console.log("\u2705 Sending private message:",i),this.socket?.emit(g2,{toUserId:e,text:n,sender:r._id,senderName:r.username})}addToBuffer(e){this.privateMessagesBuffer.some(n=>n.text===e.text&&n.sender===e.sender&&n.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let n=this.userService.getLoggedInUser();this.socket?.emit(m2,{userId:e,username:n?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(d2,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(f2,n=>{this.errorLogger.log("Private message received",n),console.log("\u{1F4E9} Private message received:",n);let r=U(E({},n),{toUserId:n.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(v2)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(n){return new(n||t)(A(Ze),A(As))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var _c,lo,NS,kS,Se,Lt=p(()=>{"use strict";Ee();Jv();x();ey();yc();_c="user",lo="loggedInUser",NS="facebookId",kS="facebookAccessToken",Se=class t{constructor(e,n){this.cloudinaryService=e;this.socketService=n;this._loadUsersFromDB();let r=JSON.parse(localStorage.getItem(lo)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new ve([]);users$=this._users$.asObservable();_filterBy$=new ve("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new ve(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){W(dt.query(_c)).pipe(ne(e=>{this._users$.next(this._sort(e))}),de(this._handleError)).subscribe()}login(e,n){let r={username:e,password:n};return W(dt.login("auth/login",r)).pipe(ne(i=>{this._loggedInUser$.next(i),localStorage.setItem(lo,JSON.stringify(i)),this.socketService.login(i._id)}),de(this._handleError))}loginWithFacebook(e){return W(dt.login("auth/facebook",e)).pipe(ne(n=>{this._loggedInUser$.next(n),localStorage.setItem(lo,JSON.stringify(n)),localStorage.setItem(NS,e.facebookId),localStorage.setItem(kS,e.accessToken),this.socketService.login(n._id)}),de(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(lo),localStorage.removeItem(NS),localStorage.removeItem(kS),this.socketService.logout()}getLoggedInUser(){return JSON.parse(localStorage.getItem(lo)||"null")}loadUsers(){return W(dt.query(_c)).pipe(L(e=>{let n=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(n))}),ne(e=>this._users$.next(e)),st(3),de(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(Te(1)).subscribe()}deleteUser(e){return W(dt.remove(_c,e)).pipe(ne(()=>{let n=this._users$.value.filter(r=>r._id!==e);this._users$.next(n)}),st(2),de(this._handleError))}getUserById(e){return W(dt.get(_c,e)).pipe(st(3),de(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((n,r)=>n.username.localeCompare(r.username))}_addUser(e){let n=U(E({},e),{_id:this._getRandomId()});return W(dt.post("auth/signup",n)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),st(3),de(this._handleError))}_updateUser(e){return W(dt.put(_c,e)).pipe(ne(n=>{let r=this._users$.value.map(i=>i._id===n._id?n:i);this._users$.next(r)}),st(3),de(this._handleError))}setLoggedInUser(e){this._loggedInUser$.next(e),localStorage.setItem(lo,JSON.stringify(e))}_getRandomId(e=8){let n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)n+=r.charAt(Math.floor(Math.random()*r.length));return n}_handleError(e){return console.error("An error occurred:",e),nt(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?W(dt.put("user/updateProfile",e)).pipe(ne(n=>{this._loggedInUser$.next(n),localStorage.setItem(lo,JSON.stringify(n))}),de(this._handleError)):nt(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Ue(n=>{console.log("Image URL from Cloudinary:",n);let r=this.getLoggedInUser();if(!r)return nt(()=>new Error("No logged-in user found. Please log in."));let i=U(E({},r),{img:n});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o)}))}),de(n=>(console.error("Error updating user image:",n.message||n),nt(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(n){return new(n||t)(A(Ms),A(cr))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});function cf(t,e){return{type:te.Trigger,name:t,definitions:e,options:{}}}function wc(t,e=null){return{type:te.Animate,styles:e,timings:t}}function RS(t,e=null){return{type:te.Sequence,steps:t,options:e}}function Un(t){return{type:te.Style,styles:t,offset:null}}function Sy(t,e,n){return{type:te.State,name:t,styles:e,options:n}}function Ec(t,e,n=null){return{type:te.Transition,expr:t,animation:e,options:n}}var te,lr,mi,bc,lf,uf=p(()=>{"use strict";te=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(te||{}),lr="*";mi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},bc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},lf="!"});var Dc,Vt,vi=p(()=>{"use strict";Ee();Jv();x();Dc="contact",Vt=class t{_contacts$=new ve([]);contacts$=this._contacts$.asObservable();_filterBy$=new ve({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){W(dt.query(Dc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),de(this._handleError)).subscribe()}updateContactImage(e,n){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return nt(()=>new Error("Contact not found"));let i=U(E({},r),{img:n});return W(dt.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),de(o=>this._handleError(o)))}loadContacts(){return W(dt.query(Dc)).pipe(ne(e=>{let n=this._filterBy$.value;e=e.map(r=>U(E({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),n&&n.name&&(e=this._filter(e,n.name)),e=e.filter(r=>r.name.toLowerCase().includes(n.name.toLowerCase())),this._contacts$.next(this._sort(e))}),st(1),de(this._handleError))}deleteContact(e){return W(dt.remove(Dc,e)).pipe(ne(()=>{let n=this._contacts$.value;n=n.filter(r=>r._id!==e),this._contacts$.next(n)}),st(1),de(this._handleError))}saveContact(e){let n=this._contacts$.value.find(r=>r._id===e._id);return n&&!e.img&&(e.img=n.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(Te(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return W(dt.get(Dc,e)).pipe(st(1),de(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),W(dt.put("contact/edit",e)).pipe(ne(n=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===n._id?n:i)])}),st(1),de(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),W(dt.post(Dc,e)).pipe(ne(n=>{console.log("New contact added successfully:",n);let r=this._contacts$.value;this._contacts$.next([...r,n])}),st(1),de(this._handleError))}_sort(e){return e.sort((n,r)=>n.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:n.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,n){return n=n.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(n)||r.phone.toLocaleLowerCase().includes(n)||r.email.toLocaleLowerCase().includes(n))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),nt(()=>e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var Ns,Iy=p(()=>{"use strict";x();Ns=class t{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,n,r){let i=e.createElement(n),o=e.getElementsByTagName(n)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((n,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?n(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});function zt(t){t||(Jg(zt),t=v(Tt));let e=new J(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(Qn(e))}var ks=p(()=>{"use strict";x();Ee();Kr();});var wt,yi=p(()=>{"use strict";x();Ee();ks();x();wt=class t{destroyRef=v(Tt);_msg=new ve(null);msg$=this._msg.asObservable().pipe(mr());_msgQueue$=new he;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(cn(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?F(null):(this._currentMsg=e,F(e).pipe(ne(()=>this._msg.next(e)),ln(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(zt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var Et,_i=p(()=>{"use strict";x();Et=class t{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=pe({type:t,selectors:[["","evStop",""]],hostBindings:function(n,r){n&1&&P("click",function(o){return r.onClick(o)})}})}});function y2(t,e){if(t&1&&(yt(0),h(1,"h1"),y(2),f(),R(3,"img",3),_t()),t&2){let n=T();C(2),Ie("Hello: ",n.logdinUser.username,"!"),C(),b("src",n.logdinUser.img?n.logdinUser.img:"../../../assets/images/contact.png",At)}}function _2(t,e){if(t&1){let n=Q();h(0,"h1"),y(1," Welcome!"),R(2,"br"),y(3," Please login or sign up"),R(4,"br"),h(5,"span",4),R(6,"img",5),f()(),h(7,"section",6)(8,"a",7),y(9,"Login"),f(),h(10,"a",8),y(11,"Sign Up"),f(),h(12,"button",9),P("click",function(){B(n);let i=T();return $(i.loginWithFacebook())}),R(13,"img",10),h(14,"span",11),y(15,"Login with Facebook"),f()()()}}var df,LS=p(()=>{"use strict";x();BM();Ee();Lt();uf();vi();x();Iy();yi();ut();xe();_i();df=class t{constructor(e,n,r){this.facebookService=e;this.msgService=n;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=v(qd);userService=v(Se);logdinUser=this.userService.getLoggedInUser();contactService=v(Vt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let n=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:n};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(Te(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(n){return new(n||t)(D(Ns),D(wt),D(Oe))};static \u0275cmp=ee({type:t,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(n,r){if(n&1&&(h(0,"section",1),N(1,y2,4,2,"ng-container",2)(2,_2,16,0,"ng-template",null,0,or),f()),n&2){let i=Ct(3);C(),b("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[De,Cn,Et],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[cf("bounceArrow",[Sy("up",Un({transform:"translateY(-10px)"})),Sy("down",Un({transform:"translateY(10px)"})),Ec("up <=> down",[wc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var bn,Ls=p(()=>{"use strict";x();x();bn=class t{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new se;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let n=e.target;!this.hostEl.contains(n)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(n){return new(n||t)(D(Pt))};static \u0275dir=pe({type:t,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function C2(t,e){if(t&1){let n=Q();h(0,"div",1)(1,"div",2),P("clickOutsideCapture",function(){B(n);let i=T();return $(i.cancel())}),h(2,"p"),y(3),f(),h(4,"div",3)(5,"button",4),P("click",function(){B(n);let i=T();return $(i.confirm())}),y(6,"Yes"),f(),h(7,"button",4),P("click",function(){B(n);let i=T();return $(i.cancel())}),y(8,"No"),f()()()()}if(t&2){let n=T();C(3),pt(n.message)}}var Vs,xy=p(()=>{"use strict";x();x();xe();_i();Ls();Vs=class t{isVisible=!1;message="";confirmed=new se;canceled=new se;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(n,r){n&1&&N(0,C2,9,1,"div",0),n&2&&b("ngIf",r.isVisible)},dependencies:[De,Et,bn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var jS,b2,hf,US=p(()=>{"use strict";x();x();ut();yi();Iy();xe();xy();_i();jS=t=>({"long-name":t}),b2=t=>["/contact/edit",t],hf=class t{constructor(e,n,r){this.router=e;this.msgService=n;this.facebookService=r}contact;remove=new se;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let n=localStorage.getItem("facebookToken");if(n){this.redirectToFacebookPage(n);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let n=`https://facebook.com/me?access_token=${e}`;window.open(n,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(n){return new(n||t)(D(Oe),D(wt),D(Ns))};static \u0275cmp=ee({type:t,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:16,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",3,"src"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"contact-last-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(n,r){n&1&&(h(0,"article",0),P("click",function(){return r.onPreviewClick()}),R(1,"img",1),h(2,"div",2)(3,"h1",3),y(4),f(),h(5,"h1",4),y(6),f()(),h(7,"div",5)(8,"button",6),P("click",function(){return r.onDeleteClick()}),R(9,"img",7),f(),h(10,"button",8),P("click",function(){return r.onEditClick()}),R(11,"img",9),f(),h(12,"button",10),P("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),R(13,"img",11),f()()(),h(14,"app-modal",12),P("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),R(15,"router-outlet")),n&2&&(C(),b("src",r.contact.img?r.contact.img:"../../../assets/images/contact.png",At),C(2),b("ngClass",as(8,jS,r.isLongName)),C(),Ie(" ",r.contact.name," "),C(),b("ngClass",as(10,jS,r.isLongName)),C(),Ie(" ",r.contact.lastName," "),C(4),b("routerLink",as(12,b2,r.contact._id)),C(4),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[ds,Ln,Cn,Vs,Et],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:300px;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 70px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0 auto;font-size:1.25rem;color:#1c284e;cursor:pointer;font-weight:700;text-align:center;min-width:100px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;min-width:unset}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]})}});function E2(t,e){if(t&1){let n=Q();h(0,"contact-preview",2),P("remove",function(){let i=B(n).$implicit,o=T();return $(o.remove.emit(i._id))}),f()}if(t&2){let n=e.$implicit;b("contact",n)}}var pf,BS=p(()=>{"use strict";x();ut();Ee();x();ut();xe();US();pf=class t{constructor(e){this.router=e}contacts;remove=new se;destroy$=new he;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(je(e=>e instanceof en)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)(D(Oe))};static \u0275cmp=ee({type:t,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(n,r){n&1&&(h(0,"section",0),N(1,E2,1,1,"contact-preview",1),f()),n&2&&(C(),b("ngForOf",r.contacts))},dependencies:[fs,hf],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function I2(){let t=sr()?sr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}function Ci(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ZS(t){return t!=null&&typeof t.length=="number"}function T2(t){return e=>{if(Ci(e.value)||Ci(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function P2(t){return e=>{if(Ci(e.value)||Ci(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function JS(t){return Ci(t.value)?{required:!0}:null}function A2(t){return t.value===!0?null:{required:!0}}function N2(t){return Ci(t.value)||O2.test(t.value)?null:{email:!0}}function XS(t){return e=>Ci(e.value)||!ZS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function k2(t){return e=>ZS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function R2(t){if(!t)return mf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ci(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function mf(t){return null}function eI(t){return t!=null}function tI(t){return si(t)?W(t):t}function nI(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function rI(t,e){return e.map(n=>n(t))}function F2(t){return!t.validate}function iI(t){return t.map(e=>F2(e)?e:n=>e.validate(n))}function oI(t){if(!t)return null;let e=t.filter(eI);return e.length==0?null:function(n){return nI(rI(n,e))}}function Ry(t){return t!=null?oI(iI(t)):null}function sI(t){if(!t)return null;let e=t.filter(eI);return e.length==0?null:function(n){let r=rI(n,e).map(tI);return mp(r).pipe(L(nI))}}function Fy(t){return t!=null?sI(iI(t)):null}function $S(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aI(t){return t._rawValidators}function cI(t){return t._rawAsyncValidators}function Oy(t){return t?Array.isArray(t)?t:[t]:[]}function vf(t,e){return Array.isArray(t)?t.includes(e):t===e}function HS(t,e){let n=Oy(e);return Oy(t).forEach(i=>{vf(n,i)||n.push(i)}),n}function zS(t,e){return Oy(e).filter(n=>!vf(t,n))}function Ly(t){return(Df(t)?t.validators:t)||null}function V2(t){return Array.isArray(t)?Ry(t):t||null}function Vy(t,e){return(Df(e)?e.asyncValidators:t)||null}function j2(t){return Array.isArray(t)?Fy(t):t||null}function Df(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function lI(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[n])throw new M(1001,"")}function uI(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new M(1002,"")})}function dI(t,e){return[...e.path,t]}function bf(t,e,n=Mf){jy(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),B2(t,e),H2(t,e),$2(t,e),U2(t,e)}function qS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ef(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function wf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function U2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function jy(t,e){let n=aI(t);e.validator!==null?t.setValidators($S(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=cI(t);e.asyncValidator!==null?t.setAsyncValidators($S(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();wf(e._rawValidators,i),wf(e._rawAsyncValidators,i)}function Ef(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=aI(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=cI(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return wf(e._rawValidators,r),wf(e._rawAsyncValidators,r),n}function B2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fI(t,e)})}function $2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function H2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function hI(t,e){t==null,jy(t,e)}function z2(t,e){return Ef(t,e)}function pI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function q2(t){return Object.getPrototypeOf(t.constructor)===M2}function gI(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mI(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===wn?n=o:q2(o)?r=o:i=o}),i||r||n||null}function W2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}function J2(t){return typeof t=="number"?t:parseInt(t,10)}function YS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var QS,M2,ky,S2,x2,wn,En,Hs,O2,Bn,yf,Fr,uo,_f,L2,zQ,ur,zs,Mc,gf,js,Sc,bi,Cf,xc,Oc,Us,Ty,Py,Bs,$s,Ay,Pc,Mf,G2,Ic,Ac,Tc,K2,Y2,KS,Lr,qs,vI,Q2,Uy,Z2,By,yI,X2,$y,ej,Hy,_I,Ny,CI,bI,wI,nn=p(()=>{"use strict";x();x();xe();Ee();Kr();QS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(D(Dr),D(Pt))}}static{this.\u0275dir=pe({type:t})}}return t})(),M2=(()=>{class t extends QS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zi(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,features:[hn]})}}return t})(),ky=new k(""),S2={provide:ky,useExisting:rr(()=>wn),multi:!0};x2=new k(""),wn=(()=>{class t extends QS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!I2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(D(Dr),D(Pt),D(x2,8))}}static{this.\u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&P("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[at([S2]),hn]})}}return t})();En=new k(""),Hs=new k(""),O2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bn=class{static min(e){return T2(e)}static max(e){return P2(e)}static required(e){return JS(e)}static requiredTrue(e){return A2(e)}static email(e){return N2(e)}static minLength(e){return XS(e)}static maxLength(e){return k2(e)}static pattern(e){return R2(e)}static nullValidator(e){return mf(e)}static compose(e){return oI(e)}static composeAsync(e){return sI(e)}};yf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ry(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Fr=class extends yf{get formDirective(){return null}get path(){return null}},uo=class extends yf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},_f=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},L2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zQ=U(E({},L2),{"[class.ng-submitted]":"isSubmitted"}),ur=(()=>{class t extends _f{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(D(uo,2))}}static{this.\u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Qu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[hn]})}}return t})(),zs=(()=>{class t extends _f{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(D(Fr,10))}}static{this.\u0275dir=pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Qu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[hn]})}}return t})(),Mc="VALID",gf="INVALID",js="PENDING",Sc="DISABLED",bi=class{},Cf=class extends bi{constructor(e,n){super(),this.value=e,this.source=n}},xc=class extends bi{constructor(e,n){super(),this.pristine=e,this.source=n}},Oc=class extends bi{constructor(e,n){super(),this.touched=e,this.source=n}},Us=class extends bi{constructor(e,n){super(),this.status=e,this.source=n}},Ty=class extends bi{constructor(e){super(),this.source=e}},Py=class extends bi{constructor(e){super(),this.source=e}};Bs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=eo(()=>this.statusReactive()),this.statusReactive=Xi(void 0),this._pristine=eo(()=>this.pristineReactive()),this.pristineReactive=Xi(!0),this._touched=eo(()=>this.touchedReactive()),this.touchedReactive=Xi(!1),this._events=new he,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qt(this.statusReactive)}set status(e){Qt(()=>this.statusReactive.set(e))}get valid(){return this.status===Mc}get invalid(){return this.status===gf}get pending(){return this.status==js}get disabled(){return this.status===Sc}get enabled(){return this.status!==Sc}get pristine(){return Qt(this.pristineReactive)}set pristine(e){Qt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qt(this.touchedReactive)}set touched(e){Qt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zS(e,this._rawAsyncValidators))}hasValidator(e){return vf(this._rawValidators,e)}hasAsyncValidator(e){return vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(U(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(U(E({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new xc(!0,r))}markAsPending(e={}){this.status=js;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Us(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(U(E({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sc,this.errors=null,this._forEachChild(i=>{i.disable(U(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.value,r)),this._events.next(new Us(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this._forEachChild(r=>{r.enable(U(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(U(E({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mc||this.status===js)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.value,n)),this._events.next(new Us(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(U(E({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sc:Mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=js,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=tI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Us(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Sc:this.errors?gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(js)?js:this._anyControlsHaveStatus(gf)?gf:Mc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new xc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Oc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Df(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=V2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=j2(this._rawAsyncValidators)}},$s=class extends Bs{constructor(e,n,r){super(Ly(n),Vy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){uI(this,!0,e),Object.keys(e).forEach(r=>{lI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Ay=class extends $s{},Pc=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Mf}),Mf="always";G2={provide:Fr,useExisting:rr(()=>Ac)},Ic=Promise.resolve(),Ac=(()=>{class t extends Fr{get submitted(){return Qt(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=eo(()=>this.submittedReactive()),this.submittedReactive=Xi(!1),this._directives=new Set,this.ngSubmit=new se,this.form=new $s({},Ry(n),Fy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ic.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),bf(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ic.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ic.then(()=>{let r=this._findContainer(n.path),i=new $s({});hI(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ic.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ic.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),gI(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(D(En,10),D(Hs,10),D(Pc,8))}}static{this.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&P("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([G2]),hn]})}}return t})();Tc=class extends Bs{constructor(e=null,n,r){super(Ly(n),Vy(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Df(n)&&(n.nonNullable||n.initialValueIsDefault)&&(GS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){GS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},K2=t=>t instanceof Tc,Y2={provide:uo,useExisting:rr(()=>Lr)},KS=Promise.resolve(),Lr=(()=>{class t extends uo{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Tc,this._registered=!1,this.name="",this.update=new se,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mI(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),pI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ai(r);KS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?dI(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(D(Fr,9),D(En,10),D(Hs,10),D(ky,10),D(Mr,8),D(Pc,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[at([Y2]),hn,Nn]})}}return t})(),qs=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),vI=new k(""),Q2={provide:Fr,useExisting:rr(()=>Uy)},Uy=(()=>{class t extends Fr{get submitted(){return Qt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=eo(()=>this._submittedReactive()),this._submittedReactive=Xi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ef(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return bf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){qS(n.control||null,n,!1),W2(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),gI(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Ty(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Py(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(qS(r||null,n),K2(i)&&(bf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);hI(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&z2(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jy(this.form,this),this._oldForm&&Ef(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(D(En,10),D(Hs,10),D(Pc,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&P("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([Q2]),hn,Nn]})}}return t})(),Z2={provide:uo,useExisting:rr(()=>By)},By=(()=>{class t extends uo{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mI(this,o)}ngOnChanges(n){this._added||this._setUpControl(),pI(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return dI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(D(Fr,13),D(En,10),D(Hs,10),D(ky,10),D(vI,8))}}static{this.\u0275dir=pe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[at([Z2]),hn,Nn]})}}return t})();yI=(()=>{class t{constructor(){this._validator=mf}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=pe({type:t,features:[Nn]})}}return t})(),X2={provide:En,useExisting:rr(()=>$y),multi:!0},$y=(()=>{class t extends yI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ai,this.createValidator=n=>JS}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zi(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&os("required",i._enabled?"":null)},inputs:{required:"required"},features:[at([X2]),hn]})}}return t})(),ej={provide:En,useExisting:rr(()=>Hy),multi:!0},Hy=(()=>{class t extends yI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>J2(n),this.createValidator=n=>XS(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zi(t)))(i||t)}})()}static{this.\u0275dir=pe({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&os("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[at([ej]),hn]})}}return t})(),_I=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({})}}return t})(),Ny=class extends Bs{constructor(e,n,r){super(Ly(n),Vy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){uI(this,!1,e),e.forEach((r,i)=>{lI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};CI=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return YS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new $s(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Ay(i,r)}control(n,r,i){let o={};return this.useNonNullable?(YS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Tc(n,U(E({},o),{nonNullable:!0}))):new Tc(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Ny(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Tc)return n;if(n instanceof Bs)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bI=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Pc,useValue:n.callSetDisabledState??Mf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({imports:[_I]})}}return t})(),wI=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:vI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Pc,useValue:n.callSetDisabledState??Mf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({imports:[_I]})}}return t})()});function tj(t,e){if(t&1){let n=Q();h(0,"button",4),P("click",function(){B(n);let i=T();return $(i.onClearFilter())}),y(1," \u2716 "),f()}}var Sf,EI=p(()=>{"use strict";x();Ee();ks();vi();x();xe();nn();Sf=class t{contactService=v(Vt);filterBy;filterSubject$=new he;destroyRef=v(Tt);ngOnInit(){this.contactService.filterBy$.pipe(zt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(mr(),zt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(n,r){n&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),mn("ngModelChange",function(o){return kn(r.filterBy.name,o)||(r.filterBy.name=o),o}),P("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,tj,2,0,"button",3),f()()),n&2&&(C(2),gn("ngModel",r.filterBy.name),C(),b("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[De,wn,ur,Lr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var If,DI=p(()=>{"use strict";x();ks();vi();x();ut();BS();EI();xe();If=class t{contactService=v(Vt);contacts$;destroyRef=v(Tt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(zt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:n=>console.error("Failed to delete contact:",n)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(n,r){n&1&&(h(0,"section",0)(1,"contact-filter"),R(2,"input",1),f(),h(3,"button",2),R(4,"img",3),h(5,"span"),y(6,"Add Contact"),f()(),h(7,"contact-list",4),Nt(8,"async"),P("remove",function(o){return r.onRemoveContact(o)}),f()()),n&2&&(C(7),b("contacts",$t(8,1,r.contacts$)))},dependencies:[Cn,pf,Sf,Ht],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});function rj(t,e){if(t&1&&(h(0,"p")(1,"strong"),y(2,"Last Name:"),f(),y(3),f()),t&2){let n=T().ngIf;C(3),Ie(" ",n.lastName,"")}}function ij(t,e){if(t&1){let n=Q();h(0,"section",2),P("clickOutsideCapture",function(){B(n);let i=T();return $(i.onBack())}),h(1,"section",3)(2,"button",4),P("click",function(){B(n);let i=T();return $(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),y(5,"Contact Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),y(11,"Name:"),f(),y(12),f(),N(13,rj,4,1,"p",9),h(14,"p")(15,"strong"),y(16,"Phone:"),f(),y(17),f(),h(18,"p")(19,"strong"),y(20,"Email:"),f(),y(21),f(),h(22,"p")(23,"strong"),y(24,"Birthday:"),f(),y(25),Nt(26,"date"),f()()()}if(t&2){let n=e.ngIf;C(7),b("src",n.img?n.img:"../../../assets/images/contact.png",At),C(5),Ie(" ",n.name,""),C(),b("ngIf",n.lastName),C(4),Ie(" ",n.phone,""),C(4),Ie(" ",n.email,""),C(4),Ie(" ",XE(26,6,n.birthday,"longDate"),"")}}var xf,MI=p(()=>{"use strict";x();Ee();ut();x();xe();ut();_i();Ls();xf=class t{router=v(Oe);route=v(Rt);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(L(e=>{let n=e.contact;return n&&U(E({},n),{lastName:n.lastName,birthday:n.birth})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,n){return e?e.length>n:!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"contact-image-container"],["alt","contact-image",3,"src"],[1,"contact-fields"],[4,"ngIf"]],template:function(n,r){n&1&&(R(0,"div",0),N(1,ij,27,9,"section",1),Nt(2,"async"),R(3,"router-outlet")),n&2&&(C(),b("ngIf",$t(2,1,r.contact$)))},dependencies:[De,Ln,Et,bn,Ht,hs],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var wi,Of=p(()=>{"use strict";Ee();x();wi=class t{isLoadingSubject=new ve(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var zy,SI=p(()=>{"use strict";x();vi();Ee();Of();zy=(t,e)=>{let n=t.params.id,r=v(wi),i=v(Vt);return r.show(),!n||n.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getById(n).pipe(ln(250),de(o=>(console.error("Error fetching contact:",o),F(null))),Wt(()=>r.hide()))}});var Gs,qy=p(()=>{"use strict";x();x();ey();nn();Gs=class t{constructor(e){this.cloudinaryService=e}imageUploaded=new se;uploadError=new se;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let n=e.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0])}onUpload(){this.selectedFile&&(this.isLoading=!0,this.cloudinaryService.uploadImage(this.selectedFile).subscribe({next:e=>{console.log("Uploaded image URL:",e),this.imageUploaded.emit(e),this.isLoading=!1},error:e=>{console.error("Error uploading the image:",e),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1}}))}static \u0275fac=function(n){return new(n||t)(D(Ms))};static \u0275cmp=ee({type:t,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:2,consts:[[3,"submit"],["type","file",3,"change"],["type","submit",3,"disabled"]],template:function(n,r){n&1&&(h(0,"form",0),P("submit",function(){return r.onUpload()}),h(1,"label")(2,"input",1),P("change",function(o){return r.onFileSelect(o)}),f()(),h(3,"button",2),y(4),f()()),n&2&&(C(3),b("disabled",r.isLoading||!r.selectedFile),C(),Ie(" ",r.isLoading?"Uploading...":"Upload Image"," "))},dependencies:[qs,zs,Ac],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-upload[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1rem;max-width:300px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})}});function sj(t,e){if(t&1){let n=Q();h(0,"button",29),P("click",function(){B(n);let i=T(2);return $(i.onDeleteClick())}),R(1,"img",30),f()}}function aj(t,e){if(t&1){let n=Q();h(0,"img",31),P("click",function(){B(n);let i=T(2);return $(i.toggleImageUpload())}),f()}if(t&2){let n=T(2);b("src",n.contact.img,At)}}function cj(t,e){if(t&1){let n=Q();h(0,"div",33),P("click",function(){B(n);let i=T(3);return $(i.toggleImageUpload())}),y(1),f()}if(t&2){let n=T(3);C(),Ie(" ",n.getInitials(n.contact.name)," ")}}function lj(t,e){if(t&1){let n=Q();h(0,"img",34),P("click",function(){B(n);let i=T(3);return $(i.toggleImageUpload())}),f()}}function uj(t,e){if(t&1&&N(0,cj,2,1,"div",32)(1,lj,1,0,"ng-template",null,1,or),t&2){let n=Ct(2),r=T(2);b("ngIf",r.contact.name)("ngIfElse",n)}}function dj(t,e){if(t&1){let n=Q();h(0,"div",35)(1,"image-upload",36),P("imageUploaded",function(i){B(n);let o=T(2);return $(o.onImageUploaded(i))})("uploadError",function(i){B(n);let o=T(2);return $(o.onUploadError(i))}),f()()}}function fj(t,e){t&1&&(h(0,"span"),y(1,"Name is required!"),f())}function hj(t,e){t&1&&(h(0,"span"),y(1,"Name must be at least 3 characters long!"),f())}function pj(t,e){if(t&1&&(h(0,"p",38),N(1,fj,2,0,"span",18)(2,hj,2,0,"span",18),f()),t&2){let n=T().ngIf;C(),b("ngIf",n.errors.required),C(),b("ngIf",n.errors.minlength)}}function gj(t,e){if(t&1&&(yt(0),N(1,pj,3,2,"p",37),_t()),t&2){let n=e.ngIf;C(),b("ngIf",n.errors&&n.touched)}}function mj(t,e){t&1&&(h(0,"div",15)(1,"label",39),y(2,"Last Name"),f(),R(3,"input",40),f())}function vj(t,e){t&1&&(h(0,"span"),y(1,"Last name is required!"),f())}function yj(t,e){t&1&&(h(0,"span"),y(1,"Last name must be at least 3 characters long!"),f())}function _j(t,e){if(t&1&&(h(0,"p",38),N(1,vj,2,0,"span",18)(2,yj,2,0,"span",18),f()),t&2){let n=T().ngIf;C(),b("ngIf",n.errors.required),C(),b("ngIf",n.errors.minlength)}}function Cj(t,e){if(t&1&&(yt(0),N(1,_j,3,2,"p",37),_t()),t&2){let n=e.ngIf;C(),b("ngIf",n.errors&&n.touched)}}function bj(t,e){t&1&&(h(0,"span"),y(1,"Phone number is required!"),f())}function wj(t,e){t&1&&(h(0,"span"),y(1,"Phone number is not valid!"),f())}function Ej(t,e){if(t&1&&(h(0,"p",38),N(1,bj,2,0,"span",18)(2,wj,2,0,"span",18),f()),t&2){let n=T().ngIf;C(),b("ngIf",n.errors.required),C(),b("ngIf",n.errors.pattern)}}function Dj(t,e){if(t&1&&(yt(0),N(1,Ej,3,2,"p",37),_t()),t&2){let n=e.ngIf;C(),b("ngIf",n.errors&&n.touched)}}function Mj(t,e){t&1&&(h(0,"span"),y(1,"Email is required!"),f())}function Sj(t,e){t&1&&(h(0,"span"),y(1," Email is not valid! "),f())}function Ij(t,e){if(t&1&&(h(0,"p",38),N(1,Mj,2,0,"span",18)(2,Sj,2,0,"span",18),f()),t&2){let n=T().ngIf;C(),b("ngIf",n.errors.required),C(),b("ngIf",!n.errors.nonEnglishLetters&&n.errors.email)}}function xj(t,e){if(t&1&&(yt(0),N(1,Ij,3,2,"p",37),_t()),t&2){let n=e.ngIf;C(),b("ngIf",n.errors&&n.touched)}}function Oj(t,e){t&1&&(h(0,"span"),y(1,"Birth date is required!"),f())}function Tj(t,e){if(t&1&&(h(0,"p",38),N(1,Oj,2,0,"span",18),f()),t&2){let n=T().ngIf;C(),b("ngIf",n.errors.required)}}function Pj(t,e){if(t&1&&(yt(0),N(1,Tj,2,1,"p",37),_t()),t&2){let n=e.ngIf;C(),b("ngIf",n.errors&&n.touched)}}function Aj(t,e){if(t&1){let n=Q();h(0,"div",41)(1,"label",42)(2,"input",43),P("change",function(i){B(n);let o=T(2);return $(o.onToggleLastName(i))}),f(),R(3,"span",44),f(),h(4,"span",45),y(5,"Add Last Name"),f()()}if(t&2){let n=T(2);C(2),b("checked",n.IsLastName||n.contact.lastName)}}function Nj(t,e){if(t&1){let n=Q();h(0,"div",4)(1,"section",5),P("clickOutsideCapture",function(){B(n);let i=T();return $(i.onBack())}),h(2,"section",6)(3,"a",7),R(4,"img",8),f(),N(5,sj,2,0,"button",9),f(),h(6,"div",10),N(7,aj,1,1,"img",11)(8,uj,3,2,"ng-template",null,0,or)(10,dj,2,0,"div",12),f(),h(11,"form",13),P("ngSubmit",function(){B(n);let i=T();return $(i.onSaveContact())}),h(12,"h2"),y(13),f(),h(14,"div",14)(15,"div",15)(16,"label",16),y(17,"Name"),f(),R(18,"input",17),f(),N(19,gj,2,1,"ng-container",18)(20,mj,4,0,"div",19)(21,Cj,2,1,"ng-container",18),h(22,"div",15)(23,"label",20),y(24,"Phone"),f(),R(25,"input",21),f(),N(26,Dj,2,1,"ng-container",18),h(27,"div",15)(28,"label",22),y(29,"Email"),f(),R(30,"input",23),f(),N(31,xj,2,1,"ng-container",18),h(32,"div",15)(33,"label",24),y(34,"Birth"),f(),R(35,"input",25),f(),N(36,Pj,2,1,"ng-container",18),h(37,"div",26),N(38,Aj,6,1,"div",27),h(39,"button",28),y(40," Save "),f()()()()()()}if(t&2){let n=Ct(9),r=T();C(5),b("ngIf",r.contact._id),C(2),b("ngIf",r.contact.img)("ngIfElse",n),C(3),b("ngIf",r.showImageUpload),C(),b("formGroup",r.form),C(2),Ie("",r.contact._id?"Edit":"Add"," Contact"),C(6),b("ngIf",r.form.controls.name),C(),b("ngIf",r.IsLastName||r.contact.lastName),C(),b("ngIf",r.form.controls.lastName),C(5),b("ngIf",r.form.controls.phone),C(5),b("ngIf",r.form.controls.email),C(5),b("ngIf",r.form.controls.birth),C(2),b("ngIf",!r.contact.lastName),C(),b("disabled",r.form.invalid)}}var Nc,xI=p(()=>{"use strict";x();vi();ut();Ee();nn();xe();x();nn();xe();yi();ut();xy();_i();Ls();qy();Nc=class t{constructor(e,n,r){this.fb=e;this.datePipe=n;this.msgService=r}IsLastName=!1;showImageUpload=!1;form;showDeleteModal=!1;formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}contactService=v(Vt);contact=this.contactService.getEmptyContact();router=v(Oe);route=v(Rt);destroySubject$=new he;ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Bn.required,Bn.minLength(3)]],lastName:[e?this.contact.lastName:"",[Bn.minLength(3)]],phone:[e?this.contact.phone:"",[Bn.required,Bn.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Bn.required,Bn.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date),[Bn.required]],img:[e?this.contact.img:""],_id:[e?this.contact._id:null]}),this.route.data.pipe(L(n=>n.contact),je(n=>!!n),Qn(this.destroySubject$)).subscribe(n=>{this.contact=n;let r=n.birthday?this.formatDate(new Date(n.birthday)):this.formatDate(new Date);this.form.patchValue(U(E({},n),{birth:r}))})}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let n=e.target;this.IsLastName=n.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(Qn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=E({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),this.contactService.saveContact(e).pipe(Qn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:n=>{console.log("Error saving contact:",n)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:n=>{console.log("Contact image updated successfully:",n),this.contact=n,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:n=>{console.error("Failed to update contact image:",n),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}static \u0275fac=function(n){return new(n||t)(D(CI),D(hs),D(wt))};static \u0275cmp=ee({type:t,selectors:[["contact-edit"]],features:[at([hs])],decls:3,vars:3,consts:[["fallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"contact-image-container"],["alt","Contact Image","class","contact-image",3,"src","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","form-input",4,"ngIf"],["for","phone"],["formControlName","phone","placeholder","Phone number","id","phone"],["for","email"],["formControlName","email","placeholder","Contact Email","id","email"],["for","birthday"],["type","date","formControlName","birth","id","birthday"],["evStop","",1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],["alt","Contact Image",1,"contact-image",3,"click","src"],["class","default-avatar",3,"click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click"],["src","../../../assets/images/contact.png","alt","Default Contact Image",1,"contact-image",3,"click"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["class","errors",4,"ngIf"],[1,"errors"],["for","lastName"],["formControlName","lastName","placeholder","Contact Last Name","id","lastName"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(n,r){n&1&&(N(0,Nj,41,14,"div",2),h(1,"section")(2,"app-modal",3),P("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),n&2&&(b("ngIf",r.contact),C(2),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[De,Cn,qs,wn,ur,zs,Uy,By,Vs,Et,bn,Gs],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:25em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:#bdc3c7;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:700;color:#34495e;border:3px solid #f1c40f;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px;margin-top:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}']})}});function OI(){let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let n=e.value;return n?t.test(n)?null:{email:!0}:null}}function TI(t){return e=>e.value?new Promise(n=>{e.valueChanges.pipe(bp(200),mr(),Ue(r=>t.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());n(i?{emailTaken:!0}:null)},error:()=>{n(null)}})}):Promise.resolve(null)}function PI(){return t=>{let e=t.value;if(!e)return null;let n=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<n&&(o.minlength={requiredLength:n,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Tf=p(()=>{"use strict";Ee();vi()});var Pf,AI=p(()=>{"use strict";nn();Tf();x();Pf=class t{validate(e){return OI()(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=pe({type:t,selectors:[["","appEmailValidator",""]],features:[at([{provide:En,useExisting:t,multi:!0}])]})}});var Af,NI=p(()=>{"use strict";nn();Tf();x();Lt();Af=class t{constructor(e){this.userService=e}validate(e){return TI(this.userService)(e)}static \u0275fac=function(n){return new(n||t)(D(Se))};static \u0275dir=pe({type:t,selectors:[["","appEmailTaken",""]],features:[at([{provide:Hs,useExisting:t,multi:!0}])]})}});var Nf,kI=p(()=>{"use strict";nn();Tf();x();Nf=class t{validate(e){return PI()(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=pe({type:t,selectors:[["","appPasswordValidator",""]],features:[at([{provide:En,useExisting:t,multi:!0}])]})}});var kf,RI=p(()=>{"use strict";nn();x();kf=class t{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(n){return new(n||t)};static \u0275dir=pe({type:t,selectors:[["","appFullNameValidator",""]],features:[at([{provide:En,useExisting:t,multi:!0}])]})}});function jj(t,e){t&1&&(h(0,"span"),y(1,"Username is required."),f())}function Uj(t,e){t&1&&(h(0,"span"),y(1," Username must be at least 3 characters long. "),f())}function Bj(t,e){if(t&1&&(h(0,"div",14),N(1,jj,2,0,"span",11)(2,Uj,2,0,"span",11),h(3,"span"),y(4,"Enter your full name (first name and last name)."),f()()),t&2){T();let n=Ct(8);C(),b("ngIf",n.errors==null?null:n.errors.required),C(),b("ngIf",n.errors==null?null:n.errors.minlength)}}function $j(t,e){t&1&&(h(0,"span"),y(1,"Password is required."),f())}function Hj(t,e){t&1&&(h(0,"span"),y(1,"Password must be at least 6 characters long."),f())}function zj(t,e){t&1&&(h(0,"span"),y(1,"Password must contain at least one capital letter."),f())}function qj(t,e){t&1&&(h(0,"span"),y(1,"Password must contain at least one special character."),f())}function Wj(t,e){if(t&1&&(h(0,"div",14),N(1,$j,2,0,"span",11)(2,Hj,2,0,"span",11)(3,zj,2,0,"span",11)(4,qj,2,0,"span",11),f()),t&2){T();let n=Ct(14);C(),b("ngIf",n.errors==null?null:n.errors.required),C(),b("ngIf",n.errors==null?null:n.errors.minlength),C(),b("ngIf",n.errors==null?null:n.errors.noCapitalLetter),C(),b("ngIf",n.errors==null?null:n.errors.noSpecialChar)}}function Gj(t,e){t&1&&(h(0,"span"),y(1,"Email is required."),f())}function Kj(t,e){t&1&&(h(0,"span"),y(1,"Please enter a valid email address."),f())}function Yj(t,e){t&1&&(h(0,"span"),y(1,"This email is already registered."),f())}function Qj(t,e){if(t&1&&(h(0,"div",14),N(1,Gj,2,0,"span",11)(2,Kj,2,0,"span",11)(3,Yj,2,0,"span",11),f()),t&2){T();let n=Ct(4);C(),b("ngIf",n.errors==null?null:n.errors.required),C(),b("ngIf",n.errors==null?null:n.errors.email),C(),b("ngIf",n.errors==null?null:n.errors.emailTaken)}}function Zj(t,e){t&1&&(h(0,"div",18),y(1," Checking email availability... "),f())}function Jj(t,e){if(t&1){let n=Q();yt(0),h(1,"label",15),y(2,"Email:"),f(),h(3,"input",16,3),mn("ngModelChange",function(i){B(n);let o=T();return kn(o.user.email,i)||(o.user.email=i),$(i)}),f(),N(5,Qj,4,3,"div",8)(6,Zj,2,0,"div",17),R(7,"br"),_t()}if(t&2){let n=Ct(4),r=T();C(3),gn("ngModel",r.user.email),b("ngModelOptions",ss(5,Vj))("ngModel",r.user.email),C(2),b("ngIf",n.touched&&n.invalid),C(),b("ngIf",n.pending)}}function Xj(t,e){if(t&1&&(h(0,"p",14),y(1),f()),t&2){let n=T();C(),pt(n.errorMessage)}}var Vj,kc,FI=p(()=>{"use strict";x();Lt();ut();yi();xe();nn();AI();NI();kI();RI();Vj=()=>({updateOn:"change"});kc=class t{constructor(e,n,r,i){this.userService=e;this.router=n;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,n){this.user=U(E({},this.user),{[e]:n})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(n){return new(n||t)(D(Se),D(Oe),D(wt),D(Rt))};static \u0275cmp=ee({type:t,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(n,r){if(n&1){let i=Q();h(0,"div",4)(1,"h4"),y(2),f(),h(3,"form",5,0),P("ngSubmit",function(){return B(i),$(r.onSubmit())}),h(5,"label",6),y(6,"Username:"),f(),h(7,"input",7,1),mn("ngModelChange",function(s){return B(i),kn(r.user.username,s)||(r.user.username=s),$(s)}),f(),N(9,Bj,5,2,"div",8),R(10,"br"),h(11,"label",9),y(12,"Password:"),f(),h(13,"input",10,2),mn("ngModelChange",function(s){return B(i),kn(r.user.password,s)||(r.user.password=s),$(s)}),f(),N(15,Wj,5,4,"div",8),R(16,"br"),N(17,Jj,8,6,"ng-container",11),h(18,"button",12),y(19),f(),h(20,"p"),y(21),h(22,"a",13),P("click",function(s){return B(i),r.toggleMode(),$(s.preventDefault())}),y(23),f()(),R(24,"br"),f(),N(25,Xj,2,1,"p",8),f()}if(n&2){let i=Ct(4),o=Ct(8),s=Ct(14);C(2),pt(r.isSignupMode?"Create an Account":"Sign In"),C(5),gn("ngModel",r.user.username),C(2),b("ngIf",o.touched&&o.invalid),C(4),gn("ngModel",r.user.password),C(2),b("ngIf",s.touched&&s.invalid),C(2),b("ngIf",r.isSignupMode),C(),b("disabled",i.invalid),C(),Ie(" ",r.isSignupMode?"Sign Up":"Log In"," "),C(2),Ie(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),C(2),Ie(" ",r.isSignupMode?"Sign in here":"Create an account"," "),C(2),b("ngIf",r.errorMessage)}},dependencies:[De,qs,wn,ur,zs,$y,Hy,Lr,Ac,Pf,Af,Nf,kf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var fo,LI=p(()=>{"use strict";x();ut();Lt();Ee();yi();fo=(t,e)=>{let n=v(Se),r=v(Oe),i=v(wt);return n.loggedInUser$.pipe(ln(100),L(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var Rf,VI=p(()=>{"use strict";x();Rf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(n,r){n&1&&(h(0,"html",0)(1,"head"),R(2,"meta",1)(3,"meta",2),h(4,"title"),y(5,"Privacy Policy - My Accounts App"),f(),R(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),y(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),y(19,"Effective Date:"),f(),y(20," 07/02/2025"),f(),h(21,"p"),y(22,"Welcome to "),h(23,"strong"),y(24,"My Accounts App"),f(),y(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),y(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),y(31,"Personal Information:"),f(),y(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),y(35,"Usage Data:"),f(),y(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),y(39,"Device Information:"),f(),y(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),y(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),y(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),y(47,"Personalize your experience."),f(),h(48,"li"),y(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),y(51,"Comply with legal requirements."),f()(),h(52,"h2"),y(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),y(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),y(59,"Service Providers:"),f(),y(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),y(63,"Legal Authorities:"),f(),y(64," When required by law or to protect our rights."),f()(),h(65,"h2"),y(66,"4. Data Retention & Security"),f(),h(67,"p"),y(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),y(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),y(73,"Access and review your personal data."),f(),h(74,"li"),y(75,"Request correction or deletion of your information."),f(),h(76,"li"),y(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),y(79,"6. Third-Party Links"),f(),h(80,"p"),y(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),y(83,"7. Changes to This Policy"),f(),h(84,"p"),y(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),y(87,"8. Contact Us"),f(),h(88,"p"),y(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),y(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}"]})}});function tU(t,e){if(t&1){let n=Q();h(0,"user-list",6),P("remove",function(i){B(n);let o=T();return $(o.onRemoveUser(i))}),f()}if(t&2){let n,r=e.ngIf;b("users",(n=r)!==null&&n!==void 0?n:ss(1,eU))}}function nU(t,e){if(t&1){let n=Q();h(0,"div",7),P("clickOutsideCapture",function(){B(n);let i=T();return $(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),P("click",function(){B(n);let i=T();return $(i.closeChat("group"))}),y(3,"\xD7"),f(),R(4,"app-chat",10),f()()}t&2&&(C(4),b("chatType","group"))}function rU(t,e){if(t&1){let n=Q();h(0,"div",11)(1,"div",8)(2,"span",9),P("click",function(){B(n);let i=T();return $(i.closeChat("private"))}),y(3,"\xD7"),f(),R(4,"app-chat",10),f()()}t&2&&(C(4),b("chatType","private"))}var eU,Ei,Ff=p(()=>{"use strict";x();ks();Ee();Lt();yc();x();eU=()=>[];Ei=class t{userService=v(Se);socketService=v(cr);users$;destroyRef=v(Tt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new ve(0));let n=this.unreadMessagesMap.get(e.sender);n&&n.next(n.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(zt(this.destroyRef),L(e=>e.sort((n,r)=>{let i=this.unreadMessagesTimestamps.get(n._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new ve(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(zt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let n=document.querySelector("app-chat");n&&n.openChat&&n.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,n){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:n})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:n=>console.error("Failed to delete user:",n)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["user-index"]],decls:8,vars:5,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","chat-modal",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType"],[1,"chat-modal"]],template:function(n,r){n&1&&(h(0,"section",0),R(1,"user-filter",1),N(2,tU,1,2,"user-list",2),Nt(3,"async"),f(),h(4,"button",3),P("click",function(){return r.openChat("group")}),y(5,"Group Chat"),f(),N(6,nU,5,1,"div",4)(7,rU,5,1,"div",5)),n&2&&(C(2),b("ngIf",$t(3,3,r.users$)),C(4),b("ngIf",r.isGroupChatOpen),C(),b("ngIf",r.isPrivateChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background-color:#007bff}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.group-chat-btn[_ngcontent-%COMP%]{right:100px}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function oU(t,e){if(t&1&&(h(0,"span"),y(1),f()),t&2){let n=T().ngIf;C(),pt(n.username)}}function sU(t,e){if(t&1&&(h(0,"span"),y(1),f()),t&2){let n=T().ngIf;C(),Ie("",n.username.substring(0,15),"...")}}function aU(t,e){if(t&1&&(h(0,"span"),y(1),f()),t&2){let n=T().ngIf;C(),pt(n.email)}}function cU(t,e){if(t&1&&(h(0,"span"),y(1),f()),t&2){let n=T().ngIf;C(),Ie("",n.email.substring(0,20),"...")}}function lU(t,e){if(t&1){let n=Q();h(0,"section",2)(1,"section",3)(2,"button",4),P("click",function(){B(n);let i=T();return $(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),y(5,"User Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),y(11,"Username:"),f(),N(12,oU,2,1,"span",9)(13,sU,2,1,"span",9),f(),h(14,"p")(15,"strong"),y(16,"Email:"),f(),N(17,aU,2,1,"span",9)(18,cU,2,1,"span",9),f()()()}if(t&2){let n=e.ngIf,r=T();C(7),b("src",n.img?n.img:"../../../assets/images/contact.png",At),C(5),b("ngIf",!r.isLongField(n.username,15)),C(),b("ngIf",r.isLongField(n.username,15)),C(4),b("ngIf",!r.isLongField(n.email,20)),C(),b("ngIf",r.isLongField(n.email,20))}}var Lf,jI=p(()=>{"use strict";x();Ee();ut();Lt();x();xe();ut();Lf=class t{router=v(Oe);route=v(Rt);subscription;userService=v(Se);user$;ngOnInit(){this.user$=this.route.data.pipe(L(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,n){return e?e.length>n:!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(n,r){n&1&&(h(0,"div",0),P("click",function(){return r.onBack()}),f(),N(1,lU,19,5,"section",1),Nt(2,"async"),R(3,"router-outlet")),n&2&&(C(),b("ngIf",$t(2,1,r.user$)))},dependencies:[De,Ln,Ht],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var UI,BI=p(()=>{"use strict";x();Lt();Ee();Of();UI=(t,e)=>{let n=t.params.id,r=v(wi),i=v(Se);return r.show(),!n||n.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getUserById(n).pipe(ln(250),de(o=>(console.error("Error fetching user:",o),F(null))),Wt(()=>r.hide()))}});var uU,Vf,$I=p(()=>{"use strict";ut();LS();DI();MI();SI();xI();FI();LI();VI();Ff();jI();BI();x();uU=[{path:"contact",component:If,canActivate:[fo],children:[{path:"edit",component:Nc,canActivate:[fo]},{path:"edit/:id",component:Nc,resolve:{contact:zy},canActivate:[fo]}]},{path:"contact/:id",component:xf,outlet:"modal",resolve:{contact:zy},canActivate:[fo]},{path:"login",component:kc},{path:"signup",component:kc},{path:"privacy-policy",component:Rf},{path:"users",component:Ei,canActivate:[fo]},{path:"user/:id",component:Lf,outlet:"modal",resolve:{user:UI},canActivate:[fo]},{path:"",component:df}],Vf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ke({type:t});static \u0275inj=Ge({imports:[Qv.forRoot(uU,{useHash:!1}),Qv]})}});function hU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function Uf(){try{return typeof indexedDB=="object"}catch{return!1}}function Bf(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function GI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function _U(t,e){return t.replace(CU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function $f(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(HI(o)&&HI(s)){if(!$f(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function HI(t){return t!==null&&typeof t=="object"}function Hf(t){return t&&t._delegate?t._delegate:t}var zI,dU,qI,Wy,fU,Gy,WI,pU,gU,mU,vU,Ky,jf,yU,Vr,jr,CU,oX,Ks=p(()=>{"use strict";zI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(n[u],n[d],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Wy;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let _=l<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Wy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fU=function(t){let e=zI(t);return qI.encodeByteArray(e,!0)},Gy=function(t){return fU(t).replace(/\./g,"")},WI=function(t){try{return qI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};pU=()=>hU().__FIREBASE_DEFAULTS__,gU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&WI(t[1]);return e&&JSON.parse(e)},vU=()=>{try{return pU()||gU()||mU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ky=()=>{var t;return(t=vU())===null||t===void 0?void 0:t.config};jf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};yU="FirebaseError",Vr=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_U(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vr(i,a,r)}};CU=/\{\$([^}]+)}/g;oX=4*60*60*1e3;});function bU(t){return t===ho?void 0:t}function wU(t){return t.instantiationMode==="EAGER"}var rn,ho,Yy,zf,qf=p(()=>{"use strict";Ks();rn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};ho="[DEFAULT]";Yy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new jf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wU(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};zf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Yy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}});var EU,Be,DU,MU,SU,IU,Wf,KI=p(()=>{"use strict";EU=[],Be=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Be||{}),DU={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},MU=Be.INFO,SU={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},IU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wf=class{constructor(e){this.name=e,this._logLevel=MU,this._logHandler=IU,this._userLogHandler=null,EU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}});function OU(){return YI||(YI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TU(){return QI||(QI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function PU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n($n(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ZI.set(n,t)}).catch(()=>{}),Xy.set(e,t),e}function AU(t){if(Zy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Zy.set(t,e)}function XI(t){Jy=t(Jy)}function NU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Gf(this),e,...n);return JI.set(r,e.sort?e.sort():[e]),$n(r)}:TU().includes(t)?function(...e){return t.apply(Gf(this),e),$n(ZI.get(this))}:function(...e){return $n(t.apply(Gf(this),e))}}function kU(t){return typeof t=="function"?NU(t):(t instanceof IDBTransaction&&AU(t),xU(t,OU())?new Proxy(t,Jy):t)}function $n(t){if(t instanceof IDBRequest)return PU(t);if(Qy.has(t))return Qy.get(t);let e=kU(t);return e!==t&&(Qy.set(t,e),Xy.set(e,t)),e}var xU,YI,QI,ZI,Zy,JI,Qy,Xy,Jy,Gf,e_=p(()=>{"use strict";xU=(t,e)=>e.some(n=>t instanceof n);ZI=new WeakMap,Zy=new WeakMap,JI=new WeakMap,Qy=new WeakMap,Xy=new WeakMap;Jy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};Gf=t=>Xy.get(t)});function po(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=$n(s);return r&&s.addEventListener("upgradeneeded",c=>{r($n(s.result),c.oldVersion,c.newVersion,$n(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Kf(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),$n(n).then(()=>{})}function ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(t_.get(e))return t_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=FU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RU.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return t_.set(e,o),o}var RU,FU,t_,Yf=p(()=>{"use strict";e_();e_();RU=["get","getKey","getAll","getAllKeys","count"],FU=["put","add","delete","clear"],t_=new Map;XI(t=>U(E({},t),{get:(e,n,r)=>ex(e,n)||t.get(e,n,r),has:(e,n)=>!!ex(e,n)||t.has(e,n)}))});function LU(t){let e=t.getComponent();return e?.type==="VERSION"}function nx(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Br(t){let e=t.name;if(s_.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;s_.set(e,t);for(let n of Qf.values())nx(n,t);for(let n of dB.values())nx(n,t);return!0}function Fc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function u_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:o_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Di.create("bad-app-name",{appName:String(i)});if(n||(n=Ky()),!n)throw Di.create("no-options");let o=Qf.get(i);if(o){if($f(n,o.options)&&$f(r,o.config))return o;throw Di.create("duplicate-app",{appName:i})}let s=new zf(i);for(let c of s_.values())s.addComponent(c);let a=new a_(n,r,s);return Qf.set(i,a),a}function d_(t=o_){let e=Qf.get(t);if(!e&&t===o_&&Ky())return u_();if(!e)throw Di.create("no-app",{appName:t});return e}function Hn(t,e,n){var r;let i=(r=uB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}Br(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function sx(){return n_||(n_=po(hB,pB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),n_}function gB(t){return I(this,null,function*(){try{let n=(yield sx()).transaction(Rc),r=yield n.objectStore(Rc).get(ax(t));return yield n.done,r}catch(e){if(e instanceof Vr)Ur.warn(e.message);else{let n=Di.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(n.message)}}})}function rx(t,e){return I(this,null,function*(){try{let r=(yield sx()).transaction(Rc,"readwrite");yield r.objectStore(Rc).put(e,ax(t)),yield r.done}catch(n){if(n instanceof Vr)Ur.warn(n.message);else{let r=Di.create("idb-set",{originalErrorMessage:n?.message});Ur.warn(r.message)}}})}function ax(t){return`${t.name}!${t.options.appId}`}function ix(){return new Date().toISOString().substring(0,10)}function yB(t,e=mB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ox(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ox(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}function ox(t){return Gy(JSON.stringify({version:2,heartbeats:t})).length}function _B(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function CB(t){Br(new rn("platform-logger",e=>new r_(e),"PRIVATE")),Br(new rn("heartbeat",e=>new c_(e),"PRIVATE")),Hn(i_,tx,t),Hn(i_,tx,"esm2017"),Hn("fire-js","")}var r_,i_,tx,Ur,VU,jU,UU,BU,$U,HU,zU,qU,WU,GU,KU,YU,QU,ZU,JU,XU,eB,tB,nB,rB,iB,oB,sB,aB,cB,lB,o_,uB,Qf,dB,s_,fB,Di,a_,hB,pB,Rc,n_,mB,vB,c_,l_,Lc=p(()=>{"use strict";qf();KI();Ks();Ks();Yf();r_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};i_="@firebase/app",tx="0.11.0";Ur=new Wf("@firebase/app"),VU="@firebase/app-compat",jU="@firebase/analytics-compat",UU="@firebase/analytics",BU="@firebase/app-check-compat",$U="@firebase/app-check",HU="@firebase/auth",zU="@firebase/auth-compat",qU="@firebase/database",WU="@firebase/data-connect",GU="@firebase/database-compat",KU="@firebase/functions",YU="@firebase/functions-compat",QU="@firebase/installations",ZU="@firebase/installations-compat",JU="@firebase/messaging",XU="@firebase/messaging-compat",eB="@firebase/performance",tB="@firebase/performance-compat",nB="@firebase/remote-config",rB="@firebase/remote-config-compat",iB="@firebase/storage",oB="@firebase/storage-compat",sB="@firebase/firestore",aB="@firebase/vertexai",cB="@firebase/firestore-compat",lB="firebase";o_="[DEFAULT]",uB={[i_]:"fire-core",[VU]:"fire-core-compat",[UU]:"fire-analytics",[jU]:"fire-analytics-compat",[$U]:"fire-app-check",[BU]:"fire-app-check-compat",[HU]:"fire-auth",[zU]:"fire-auth-compat",[qU]:"fire-rtdb",[WU]:"fire-data-connect",[GU]:"fire-rtdb-compat",[KU]:"fire-fn",[YU]:"fire-fn-compat",[QU]:"fire-iid",[ZU]:"fire-iid-compat",[JU]:"fire-fcm",[XU]:"fire-fcm-compat",[eB]:"fire-perf",[tB]:"fire-perf-compat",[nB]:"fire-rc",[rB]:"fire-rc-compat",[iB]:"fire-gcs",[oB]:"fire-gcs-compat",[sB]:"fire-fst",[cB]:"fire-fst-compat",[aB]:"fire-vertex","fire-js":"fire-js",[lB]:"fire-js-all"};Qf=new Map,dB=new Map,s_=new Map;fB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new jr("app","Firebase",fB);a_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}};hB="firebase-heartbeat-database",pB=1,Rc="firebase-heartbeat-store",n_=null;mB=1024,vB=30,c_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new l_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ix();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>vB){let s=_B(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ix(),{heartbeatsToSend:r,unsentEntries:i}=yB(this._heartbeatsCache.heartbeats),o=Gy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ur.warn(n),""}})}};l_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Uf()?Bf().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield gB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};CB("")});var bB,wB,cx=p(()=>{"use strict";Lc();Lc();bB="firebase",wB="11.3.0";Hn(bB,wB,"app")});function gx(t){return t instanceof Vr&&t.code.includes("request-failed")}function mx({projectId:t}){return`${EB}/projects/${t}/installations`}function vx(t){return{token:t.token,requestStatus:2,expiresIn:OB(t.expiresIn),creationTime:Date.now()}}function yx(t,e){return I(this,null,function*(){let r=(yield e.json()).error;return mo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function _x({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xB(t,{refreshToken:e}){let n=_x(t);return n.append("Authorization",TB(e)),n}function Cx(t){return I(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function OB(t){return Number(t.replace("s","000"))}function TB(t){return`${px} ${t}`}function PB(r,i){return I(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=mx(t),s=_x(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:n,authVersion:px,appId:t.appId,sdkVersion:hx},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Cx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:vx(d.authToken)}}else throw yield yx("Create Installation",u)})}function bx(t){return new Promise(e=>{setTimeout(e,t)})}function AB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}function kB(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=RB(t);return NB.test(n)?n:p_}catch{return p_}}function RB(t){return AB(t).substr(0,22)}function Jf(t){return`${t.appName}!${t.appId}`}function Ex(t,e){let n=Jf(t);Dx(n,e),LB(n,e)}function Dx(t,e){let n=wx.get(t);if(n)for(let r of n)r(e)}function LB(t,e){let n=VB();n&&n.postMessage({key:t,fid:e}),jB()}function VB(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=t=>{Dx(t.data.key,t.data.fid)}),go}function jB(){wx.size===0&&go&&(go.close(),go=null)}function m_(){return f_||(f_=po(UB,BB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vo)}}})),f_}function Zf(t,e){return I(this,null,function*(){let n=Jf(t),i=(yield m_()).transaction(vo,"readwrite"),o=i.objectStore(vo),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&Ex(t,e.fid),e})}function Mx(t){return I(this,null,function*(){let e=Jf(t),r=(yield m_()).transaction(vo,"readwrite");yield r.objectStore(vo).delete(e),yield r.done})}function Xf(t,e){return I(this,null,function*(){let n=Jf(t),i=(yield m_()).transaction(vo,"readwrite"),o=i.objectStore(vo),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&Ex(t,a.fid),a})}function v_(t){return I(this,null,function*(){let e,n=yield Xf(t.appConfig,r=>{let i=$B(r),o=HB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===p_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function $B(t){let e=t||{fid:kB(),registrationStatus:0};return Sx(e)}function HB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(mo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qB(t)}:{installationEntry:e}}function zB(t,e){return I(this,null,function*(){try{let n=yield PB(t,e);return Zf(t.appConfig,n)}catch(n){throw gx(n)&&n.customData.serverCode===409?yield Mx(t.appConfig):yield Zf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function qB(t){return I(this,null,function*(){let e=yield lx(t.appConfig);for(;e.registrationStatus===1;)yield bx(100),e=yield lx(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield v_(t);return r||n}return e})}function lx(t){return Xf(t,e=>{if(!e)throw mo.create("installation-not-found");return Sx(e)})}function Sx(t){return WB(t)?{fid:t.fid,registrationStatus:0}:t}function WB(t){return t.registrationStatus===1&&t.registrationTime+fx<Date.now()}function GB(r,i){return I(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=KB(t,n),s=xB(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:hx,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Cx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return vx(d)}else throw yield yx("Generate Auth Token",u)})}function KB(t,{fid:e}){return`${mx(t)}/${e}/authTokens:generate`}function y_(t,e=!1){return I(this,null,function*(){let n,r=yield Xf(t.appConfig,o=>{if(!Ix(o))throw mo.create("not-registered");let s=o.authToken;if(!e&&ZB(s))return o;if(s.requestStatus===1)return n=YB(t,e),o;{if(!navigator.onLine)throw mo.create("app-offline");let a=XB(o);return n=QB(t,a),a}});return n?yield n:r.authToken})}function YB(t,e){return I(this,null,function*(){let n=yield ux(t.appConfig);for(;n.authToken.requestStatus===1;)yield bx(100),n=yield ux(t.appConfig);let r=n.authToken;return r.requestStatus===0?y_(t,e):r})}function ux(t){return Xf(t,e=>{if(!Ix(e))throw mo.create("not-registered");let n=e.authToken;return e$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function QB(t,e){return I(this,null,function*(){try{let n=yield GB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Zf(t.appConfig,r),n}catch(n){if(gx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield Mx(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Zf(t.appConfig,r)}throw n}})}function Ix(t){return t!==void 0&&t.registrationStatus===2}function ZB(t){return t.requestStatus===2&&!JB(t)}function JB(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+DB}function XB(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function e$(t){return t.requestStatus===1&&t.requestTime+fx<Date.now()}function t$(t){return I(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield v_(e);return r?r.catch(console.error):y_(e).catch(console.error),n.fid})}function n$(t,e=!1){return I(this,null,function*(){let n=t;return yield r$(n),(yield y_(n,e)).token})}function r$(t){return I(this,null,function*(){let{registrationPromise:e}=yield v_(t);e&&(yield e)})}function i$(t){if(!t||!t.options)throw h_("App Configuration");if(!t.name)throw h_("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw h_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function h_(t){return mo.create("missing-app-config-values",{valueName:t})}function c$(){Br(new rn(xx,s$,"PUBLIC")),Br(new rn(o$,a$,"PRIVATE"))}var dx,g_,fx,hx,px,EB,DB,MB,SB,IB,mo,NB,p_,wx,go,UB,BB,vo,f_,xx,o$,s$,a$,Ox=p(()=>{"use strict";Lc();qf();Ks();Yf();dx="@firebase/installations",g_="0.6.12";fx=1e4,hx=`w:${g_}`,px="FIS_v2",EB="https://firebaseinstallations.googleapis.com/v1",DB=60*60*1e3,MB="installations",SB="Installations";IB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mo=new jr(MB,SB,IB);NB=/^[cdef][\w-]{21}$/,p_="";wx=new Map;go=null;UB="firebase-installations-database",BB=1,vo="firebase-installations-store",f_=null;xx="installations",o$="installations-internal",s$=t=>{let e=t.getProvider("app").getImmediate(),n=i$(e),r=Fc(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a$=t=>{let e=t.getProvider("app").getImmediate(),n=Fc(e,xx).getImmediate();return{getId:()=>t$(n),getToken:i=>n$(n,i)}};c$();Hn(dx,g_);Hn(dx,g_,"esm2017")});function $r(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g$(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function v$(t){return I(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(__))return null;let e=null;return(yield po(__,m$,{upgrade:(r,i,o,s)=>I(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(Px))return;let c=s.objectStore(Px),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:$r(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:$r(u.auth),p256dh:$r(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:$r(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:$r(u.auth),p256dh:$r(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:$r(u.vapidKey)}}}}})})).close(),yield Kf(__),yield Kf("fcm_vapid_details_db"),yield Kf("undefined"),y$(e)?e:null})}function y$(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function Vx(){return C_||(C_=po(_$,C$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vc)}}})),C_}function b$(t){return I(this,null,function*(){let e=jx(t),r=yield(yield Vx()).transaction(Vc).objectStore(Vc).get(e);if(r)return r;{let i=yield v$(t.appConfig.senderId);if(i)return yield E_(t,i),i}})}function E_(t,e){return I(this,null,function*(){let n=jx(t),i=(yield Vx()).transaction(Vc,"readwrite");return yield i.objectStore(Vc).put(e,n),yield i.done,e})}function jx({appConfig:t}){return t.appId}function E$(t,e){return I(this,null,function*(){let n=yield M_(t),r=Ux(e),i={method:"POST",headers:n,body:JSON.stringify(r)},o;try{o=yield(yield fetch(D_(t.appConfig),i)).json()}catch(s){throw Dt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Dt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Dt.create("token-subscribe-no-token");return o.token})}function D$(t,e){return I(this,null,function*(){let n=yield M_(t),r=Ux(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${D_(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Dt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Dt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Dt.create("token-update-no-token");return o.token})}function M$(t,e){return I(this,null,function*(){let r={method:"DELETE",headers:yield M_(t)};try{let o=yield(yield fetch(`${D_(t.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw Dt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Dt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function D_({projectId:t}){return`${d$}/projects/${t}/registrations`}function M_(n){return I(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function Ux({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Fx&&(i.web.applicationPubKey=r),i}function I$(t){return I(this,null,function*(){let e=yield O$(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:$r(e.getKey("auth")),p256dh:$r(e.getKey("p256dh"))},r=yield b$(t.firebaseDependencies);if(r){if(T$(r.subscriptionOptions,n))return Date.now()>=r.createTime+S$?x$(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield M$(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Ax(t.firebaseDependencies,n)}else return Ax(t.firebaseDependencies,n)})}function x$(t,e){return I(this,null,function*(){try{let n=yield D$(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield E_(t.firebaseDependencies,r),n}catch(n){throw n}})}function Ax(t,e){return I(this,null,function*(){let r={token:yield E$(t,e),createTime:Date.now(),subscriptionOptions:e};return yield E_(t,r),r.token})}function O$(t,e){return I(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:g$(e)})})}function T$(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}function Nx(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return P$(e,t),A$(e,t),N$(e,t),e}function P$(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let o=e.notification.icon;o&&(t.notification.icon=o)}function A$(t,e){e.data&&(t.data=e.data)}function N$(t,e){var n,r,i,o,s;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}function k$(t){return typeof t=="object"&&!!t&&Lx in t}function R$(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function F$(t){if(!t||!t.options)throw b_("App Configuration Object");if(!t.name)throw b_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw b_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function b_(t){return Dt.create("missing-app-config-values",{valueName:t})}function L$(t){return I(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(l$,{scope:u$}),t.swRegistration.update().catch(()=>{}),yield V$(t.swRegistration)}catch(e){throw Dt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function V$(t){return I(this,null,function*(){return new Promise((e,n)=>{let r=setTimeout(()=>n(new Error(`Service worker not registered after ${Tx} ms`)),Tx),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})})}function j$(t,e){return I(this,null,function*(){if(!e&&!t.swRegistration&&(yield L$(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Dt.create("invalid-sw-registration");t.swRegistration=e}})}function U$(t,e){return I(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Fx)})}function Bx(t,e){return I(this,null,function*(){if(!navigator)throw Dt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Dt.create("permission-blocked");return yield U$(t,e?.vapidKey),yield j$(t,e?.serviceWorkerRegistration),I$(t)})}function B$(t,e,n){return I(this,null,function*(){let r=$$(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Lx],message_name:n[f$],message_time:n[h$],message_device_time:Math.floor(Date.now()/1e3)})})}function $$(t){switch(t){case eh.NOTIFICATION_CLICKED:return"notification_open";case eh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function H$(t,e){return I(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===eh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Nx(n)):t.onMessageHandler.next(Nx(n)));let r=n.data;k$(r)&&r[p$]==="1"&&(yield B$(t,n.messageType,r))})}function W$(){Br(new rn("messaging",z$,"PUBLIC")),Br(new rn("messaging-internal",q$,"PRIVATE")),Hn(kx,Rx),Hn(kx,Rx,"esm2017")}function G$(){return I(this,null,function*(){try{yield Bf()}catch{return!1}return typeof window<"u"&&Uf()&&GI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function K$(t,e){if(!navigator)throw Dt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}function $x(t=d_()){return G$().then(e=>{if(!e)throw Dt.create("unsupported-browser")},e=>{throw Dt.create("indexed-db-unsupported")}),Fc(Hf(t),"messaging").getImmediate()}function Hx(t,e){return I(this,null,function*(){return t=Hf(t),Bx(t,e)})}function zx(t,e){return t=Hf(t),K$(t,e)}var l$,u$,Fx,d$,Lx,f$,h$,p$,Tx,eh,__,m$,Px,_$,C$,Vc,C_,w$,Dt,S$,w_,kx,Rx,z$,q$,qx=p(()=>{"use strict";Ox();qf();Yf();Ks();Lc();l$="/firebase-messaging-sw.js",u$="/firebase-cloud-messaging-push-scope",Fx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d$="https://fcmregistrations.googleapis.com/v1",Lx="google.c.a.c_id",f$="google.c.a.c_l",h$="google.c.a.ts",p$="google.c.a.e",Tx=1e4;eh=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(eh||{});__="fcm_token_details_db",m$=5,Px="fcm_token_object_Store";_$="firebase-messaging-database",C$=1,Vc="firebase-messaging-store",C_=null;w$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Dt=new jr("messaging","Messaging",w$);S$=7*24*60*60*1e3;R$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");w_=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=F$(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};kx="@firebase/messaging",Rx="0.12.16";z$=t=>{let e=new w_(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>H$(e,n)),e},q$=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>Bx(e,r)}};W$()});var Wx=p(()=>{"use strict";qx()});function Y$(t){return Ri(()=>nt(new Error(t)))}function Q$(t,e,n,r){return()=>{if(!(gd(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let i=t.get(ye),o=t.get(vn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof n.registrationStrategy=="function")s=n.registrationStrategy();else{let[a,...c]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=F(null);break;case"registerWithDelay":s=Kx(+c[0]||0);break;case"registerWhenStable":let l=W(t.get(vn).whenStable());s=c[0]?Fl(l,Kx(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(Te(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Kx(t){return F(null).pipe(ln(t))}function Z$(t,e){return new Ys(gd(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}function J$(t,e={}){return ts([th,nh,{provide:Gx,useValue:t},{provide:jc,useValue:e},{provide:Ys,useFactory:Z$,deps:[jc,Yt]},{provide:cs,useFactory:Q$,deps:[Ze,Gx,jc,Yt],multi:!0}])}var Uc,Ys,th,nh,Gx,jc,Yx,S_=p(()=>{"use strict";x();x();xe();Ee();Kr();Uc="Service workers are disabled or not supported by this browser";Ys=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Y$(Uc);else{let r=Lo(e,"controllerchange").pipe(L(()=>e.controller)),i=Ri(()=>F(e.controller)),o=Kn(i,r);this.worker=o.pipe(je(u=>!!u)),this.registration=this.worker.pipe(Ue(()=>e.getRegistration()));let l=Lo(e,"message").pipe(L(u=>u.data)).pipe(je(u=>u&&u.type)).pipe(Op());l.connect(),this.events=l}}postMessage(e,n){return this.worker.pipe(Te(1),ne(r=>{r.postMessage(E({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(je(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Te(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(je(n=>n.nonce===e),Te(1),L(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},th=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new he,!n.isEnabled){this.messages=Fi,this.notificationClicks=Fi,this.subscription=Fi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(L(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(L(i=>i.data)),this.pushManager=this.sw.registration.pipe(L(i=>i.pushManager));let r=this.pushManager.pipe(Ue(i=>i.getSubscription()));this.subscription=Fl(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Uc));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Ue(s=>s.subscribe(r)),Te(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));let n=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Te(1),Ue(n)).toPromise()}decodeBase64(n){return atob(n)}static{this.\u0275fac=function(r){return new(r||t)(A(Ys))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),nh=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=Fi,this.unrecoverable=Fi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static{this.\u0275fac=function(r){return new(r||t)(A(Ys))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();Gx=new k("");jc=class{};Yx=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[J$(n,r)]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({providers:[th,nh]})}}return t})()});var Qs,I_=p(()=>{"use strict";Ee();Wd();x();S_();Na();Zs();Qs=class t{constructor(e,n,r,i){this.swPush=e;this.http=n;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return I(this,null,function*(){try{let e=yield ki(this.http.get(`${bt.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return I(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield ki(this.http.post(`${bt.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(n){console.error("\u274C Error saving subscription:",n)}})}sendNotification(e){return I(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",{title:e.title,body:e.body});try{console.log("\u23F3 Checking existing FCM token...");let n=yield this.requestSubscription();if(n)console.log("\u2705 Found existing FCM token:",n);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Sending notification to server");let r=yield ki(this.http.post(`${bt.baseURL}/notification/send`,{title:e.title,body:e.body,token:n,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(n){throw console.error("\u274C Error sending notification:",n),n}})}requestSubscription(){return I(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(n){return console.error("\u274C Error requesting FCM token:",n),null}})}getExistingSubscription(){return I(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield ki(this.http.get(`${bt.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return I(this,null,function*(){try{let e=yield ki(this.http.get(`${bt.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(n){return new(n||t)(A(th),A(to),A(nh),A(Dn))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var t3,Dn,Zs=p(()=>{"use strict";x();cx();Wx();Ee();I_();Lt();x();t3={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},Dn=class t{messaging;fcmToken={};tokenSubject=new ve(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=v(Ze);_notificationService=null;_userService=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=u_(t3);this.messaging=$x(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(Qs)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Se)),this._userService}registerServiceWorker(){return I(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return I(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return I(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let n=yield Hx(this.messaging,{vapidKey:this.vapidKey});return n?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,n),this.fcmToken[e]=n,yield this.notificationService.saveSubscription({token:n}),n):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(n){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",n),null}})}listenForMessages(){zx(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),new Notification(e.notification?.title??"New Notification",{body:e.notification?.body,icon:e.notification?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png"})})}sendTokenToServer(e){return I(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(n){console.error("\u274C Error sending token to server:",n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var rh,Zx=p(()=>{"use strict";x();rh=class t{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});var ih,Jx=p(()=>{"use strict";x();Zs();ih=class t{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return I(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.")})}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
        <div class="notification-actions">
          <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>I(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(n){return new(n||t)(A(Dn))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});function r3(t,e){t&1&&(yt(0),h(1,"a",15),y(2,"Login"),f(),h(3,"a",16),y(4,"Sign Up"),f(),_t())}function i3(t,e){if(t&1&&(yt(0),R(1,"img",19),_t()),t&2){let n=T(2);C(),b("src",n.loggedInUser==null?null:n.loggedInUser.img,At)}}function o3(t,e){if(t&1&&y(0),t&2){let n=T(2);Ie(" ",n.getUserInitial()," ")}}function s3(t,e){if(t&1){let n=Q();h(0,"div",17),P("click",function(){B(n);let i=T();return $(i.toggleUpload=!i.toggleUpload)}),N(1,i3,2,1,"ng-container",13)(2,o3,1,1,"ng-template",null,1,or),f(),h(4,"button",18),P("click",function(){B(n);let i=T();return $(i.onLogout())}),y(5,"Logout"),f()}if(t&2){let n=Ct(3),r=T();C(),b("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",n)}}function a3(t,e){if(t&1){let n=Q();h(0,"div")(1,"image-upload",20),P("imageUploaded",function(i){B(n);let o=T();return $(o.onImageUploaded(i))}),f()()}}var n3,oh,Xx=p(()=>{"use strict";x();Lt();ut();yi();xe();qy();n3=()=>({exact:!0});oh=class t{constructor(e,n,r){this.userService=e;this.router=n;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let n=U(E({},this.loggedInUser),{img:e});this.userService.saveUser(n).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(n){return new(n||t)(D(Se),D(Oe),D(wt))};static \u0275cmp=ee({type:t,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(n,r){if(n&1&&(h(0,"header")(1,"div",2),R(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),R(6,"img",6),f(),h(7,"a",7),R(8,"img",8),f(),h(9,"a",9),R(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),N(13,r3,5,0,"ng-container",13)(14,s3,6,2,"ng-template",null,0,or),f()(),N(16,a3,2,0,"div",14),f()),n&2){let i=Ct(15);C(5),b("routerLinkActiveOptions",ss(4,n3)),C(8),b("ngIf",!r.loggedInUser)("ngIfElse",i),C(3),b("ngIf",r.toggleUpload)}},dependencies:[De,Cn,LM,Gs],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function l3(t,e){t&1&&(h(0,"div",1),R(1,"div",2),f())}var sh,eO=p(()=>{"use strict";x();Of();xe();sh=class t{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(n){return new(n||t)(D(wi))};static \u0275cmp=ee({type:t,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(n,r){n&1&&(N(0,l3,2,0,"div",0),Nt(1,"async")),n&2&&b("ngIf",$t(1,1,r.isLoading))},dependencies:[De,Ht],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function d3(t,e){if(t&1){let n=Q();h(0,"section")(1,"h4"),y(2),f(),h(3,"button",1),P("click",function(){B(n);let i=T();return $(i.onCloseMsg())}),y(4,"X"),f()()}if(t&2){let n=e.ngIf;HE("msg ",n.type,""),b("@toggleMsg",void 0),C(2),pt(n.txt)}}var ah,tO=p(()=>{"use strict";Ee();uf();x();yi();xe();ah=class t{constructor(e){this.msgService=e}msg$=F(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(n){return new(n||t)(D(wt))};static \u0275cmp=ee({type:t,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(n,r){n&1&&(N(0,d3,5,5,"section",0),Nt(1,"async")),n&2&&b("ngIf",$t(1,1,r.msg$))},dependencies:[De,Ht],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[cf("toggleMsg",[Ec(":enter",[Un({transform:"translateY(-100%)"}),wc("0.3s ease-in-out",Un({transform:"translateY(0%)"}))]),Ec(":leave",[Un({transform:"translateY(0%)"}),wc("0.3s ease-in-out",Un({transform:"translateY(-100%)"}))])])]}})}});function h3(t,e){if(t&1){let n=Q();h(0,"button",4),P("click",function(){B(n);let i=T();return $(i.installPWA())}),y(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}var ch,nO=p(()=>{"use strict";x();Ee();vi();Zs();Zx();Jx();x();xe();ut();Xx();eO();tO();ch=class t{title="MyAccounts";contactService=v(Vt);firebaseService=v(Dn);pwaService=v(rh);notificationMobileService=v(ih);subscription;showInstallButton=this.pwaService.showInstallButton;ngOnInit(){this.subscription=this.contactService.loadContacts().pipe(Te(1)).subscribe({error:e=>console.log("err:",e)}),console.log("\u{1F680} AppComponent Initialized"),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),this.notificationMobileService.notificationPermission==="default"&&setTimeout(()=>{this.notificationMobileService.showNotificationPrompt()},2e3),this.firebaseService.getFCMToken().then(e=>{e&&console.log("\u{1F511} FCM Token received (on init):",e)}),this.firebaseService.getTokenObservable().subscribe(e=>{e&&console.log("\u{1F511} FCM Token received:",e)})}installPWA(){this.pwaService.installPWA()}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(n,r){n&1&&(h(0,"main",0),R(1,"app-header"),h(2,"div",1),N(3,h3,2,0,"button",2),f(),R(4,"router-outlet")(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),R(8,"msg")),n&2&&(C(3),b("ngIf",r.showInstallButton))},dependencies:[De,Ln,oh,sh,ah],styles:[".app-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:10px 15px;font-size:16px;cursor:pointer;border-radius:5px;margin-top:10px;transition:background .3s}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background:#fff;padding:16px;border-radius:10px;box-shadow:0 4px 6px #0000001a;text-align:center;z-index:999;max-width:300px;width:90%;font-size:16px;display:flex;flex-direction:column;align-items:center}.notification-prompt[_ngcontent-%COMP%]   .notification-alert[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px}.notification-prompt[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.notification-prompt[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;border:none;border-radius:5px;cursor:pointer;transition:background .3s}.notification-prompt[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   #allow-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.notification-prompt[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   #allow-btn[_ngcontent-%COMP%]:hover{background:#45a049}.notification-prompt[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   #dismiss-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.notification-prompt[_ngcontent-%COMP%]   .notification-actions[_ngcontent-%COMP%]   #dismiss-btn[_ngcontent-%COMP%]:hover{background:#d32f2f}"]})}});function rO(t){return new M(3e3,!1)}function p3(){return new M(3100,!1)}function g3(){return new M(3101,!1)}function m3(t){return new M(3001,!1)}function v3(t){return new M(3003,!1)}function y3(t){return new M(3004,!1)}function _3(t,e){return new M(3005,!1)}function C3(){return new M(3006,!1)}function b3(){return new M(3007,!1)}function w3(t,e){return new M(3008,!1)}function E3(t){return new M(3002,!1)}function D3(t,e,n,r,i){return new M(3010,!1)}function M3(){return new M(3011,!1)}function S3(){return new M(3012,!1)}function I3(){return new M(3200,!1)}function x3(){return new M(3202,!1)}function O3(){return new M(3013,!1)}function T3(t){return new M(3014,!1)}function P3(t){return new M(3015,!1)}function A3(t){return new M(3016,!1)}function N3(t,e){return new M(3404,!1)}function k3(t){return new M(3502,!1)}function R3(t){return new M(3503,!1)}function F3(){return new M(3300,!1)}function L3(t){return new M(3504,!1)}function V3(t){return new M(3301,!1)}function j3(t,e){return new M(3302,!1)}function U3(t){return new M(3303,!1)}function B3(t,e){return new M(3400,!1)}function $3(t){return new M(3401,!1)}function H3(t){return new M(3402,!1)}function z3(t,e){return new M(3505,!1)}function Mi(t){switch(t.length){case 0:return new mi;case 1:return t[0];default:return new bc(t)}}function vO(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let _=g,w=m;if(g!=="offset")switch(_=t.normalizePropertyName(_,i),w){case lf:w=n.get(g);break;case lr:w=r.get(g);break;default:w=t.normalizeStyleValue(g,_,w,i);break}d.set(_,w)}),u||o.push(d),a=d,s=l}),i.length)throw k3(i);return o}function Q_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&x_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&x_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&x_(n,"destroy",t)));break}}function x_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=Z_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function Z_(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function sn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function iO(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}function J_(t){let e=t.parentNode||t.host||null;return e===q3?null:e}function W3(t){return t.substring(1,6)=="ebkit"}function G3(t){yo||(yo=K3()||{},oO=yo.style?"WebkitAppearance"in yo.style:!1);let e=!0;return yo.style&&!W3(t)&&(e=t in yo.style,!e&&oO&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in yo.style)),e}function K3(){return typeof document<"u"?document.body:null}function yO(t,e){for(;e;){if(e===t)return!0;e=J_(e)}return!1}function _O(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}function Hr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:F_(parseFloat(e[1]),e[2])}function F_(t,e){switch(e){case"s":return t*Y3;default:return t}}function gh(t,e,n){return t.hasOwnProperty("duration")?t:Z3(t,e,n)}function Z3(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(rO(t)),{duration:0,delay:0,easing:""};i=F_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=F_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(p3()),a=!0),o<0&&(e.push(g3()),a=!0),a&&e.splice(c,0,rO(t))}return{duration:i,delay:o,easing:s}}function J3(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function dr(t,e,n){e.forEach((r,i)=>{let o=e0(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Co(t,e){e.forEach((n,r)=>{let i=e0(r);t.style[i]=""})}function Bc(t){return Array.isArray(t)?t.length==1?t[0]:RS(t):t}function X3(t,e,n){let r=e.params||{},i=wO(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(m3(o))})}function wO(t){let e=[];if(typeof t=="string"){let n;for(;n=L_.exec(t);)e.push(n[1]);L_.lastIndex=0}return e}function Hc(t,e,n){let r=`${t}`,i=r.replace(L_,(o,s)=>{let a=e[s];return a==null&&(n.push(v3(s)),a=""),a.toString()});return i==r?t:i}function e0(t){return t.replace(eH,(...e)=>e[1].toUpperCase())}function tH(t,e){return t===0||e===0}function nH(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,t0(t,a)))}}return e}function on(t,e,n){switch(e.type){case te.Trigger:return t.visitTrigger(e,n);case te.State:return t.visitState(e,n);case te.Transition:return t.visitTransition(e,n);case te.Sequence:return t.visitSequence(e,n);case te.Group:return t.visitGroup(e,n);case te.Animate:return t.visitAnimate(e,n);case te.Keyframes:return t.visitKeyframes(e,n);case te.Style:return t.visitStyle(e,n);case te.Reference:return t.visitReference(e,n);case te.AnimateChild:return t.visitAnimateChild(e,n);case te.AnimateRef:return t.visitAnimateRef(e,n);case te.Query:return t.visitQuery(e,n);case te.Stagger:return t.visitStagger(e,n);default:throw y3(e.type)}}function t0(t,e){return window.getComputedStyle(t)[e]}function iH(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>oH(r,n,e)):n.push(t),n}function oH(t,e,n){if(t[0]==":"){let c=sH(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(P3(t)),e;let i=r[1],o=r[2],s=r[3];e.push(aO(i,s));let a=i==vh&&s==vh;o[0]=="<"&&!a&&e.push(aO(s,i))}function sH(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(A3(t)),"* => *"}}function aO(t,e){let n=uh.has(t)||dh.has(t),r=uh.has(e)||dh.has(e);return(i,o)=>{let s=t==vh||t==i,a=e==vh||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?uh.has(t):dh.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?uh.has(e):dh.has(e)),s&&a}}function DO(t,e,n,r){return new V_(t).build(e,n,r)}function cH(t){let e=!!t.split(/\s*,\s*/).find(n=>n==EO);return e&&(t=t.replace(aH,"")),t=t.replace(/@\*/g,ph).replace(/@\w+/g,n=>ph+"-"+n.slice(1)).replace(/:animating/g,R_),[t,e]}function lH(t){return t?E({},t):null}function uH(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function dH(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=gh(t,e).duration;return O_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=O_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=gh(n,e);return O_(i.duration,i.delay,i.easing)}function _o(t){return t?(t=E({},t),t.params&&(t.params=lH(t.params))):t={},t}function O_(t,e,n){return{duration:t,delay:e,easing:n}}function n0(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function MO(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new U_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}function lO(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function vH(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,lr)}else for(let[o,s]of i)n.set(o,s)}),n}function uO(t,e,n,r,i,o,s,a,c,l,u,d,m){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function yH(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function SO(t,e){let n=E({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}function _H(t,e,n){return new z_(t,e,n)}function CH(t,e,n){let r=[(s,a)=>!0],i={type:te.Sequence,steps:[],options:null},o={type:te.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ch(t,o,e)}function dO(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}function xH(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function OH(t){return t??null}function fh(t){return t&&t.nodeType===1}function TH(t){return t=="start"||t=="done"}function hO(t,e){let n=t.style.display;return t.style.display=e??"none",n}function pO(t,e,n,r,i){let o=[];n.forEach(c=>o.push(hO(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[zn]=IH,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>hO(c,o[a++])),s}function gO(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Mn(t,e){t.classList?.add(e)}function Js(t,e){t.classList?.remove(e)}function PH(t,e,n){Mi(n).onDone(()=>t.processLeaveNode(e))}function AH(t){let e=[];return xO(t,e),e}function xO(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof bc?xO(r.players,e):e.push(r)}}function NH(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function mO(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}function kH(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=N_(e[0]),e.length>1&&(r=N_(e[e.length-1]))):e instanceof Map&&(n=N_(e)),n||r?new K_(t,n,r):null}function N_(t){let e=null;return t.forEach((n,r)=>{RH(r)&&(e=e||new Map,e.set(r,n))}),e}function RH(t){return t==="display"||t==="position"}function FH(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function LH(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var q3,yo,oO,X_,bo,wo,Y3,CO,Q3,bO,k_,lh,ph,sO,R_,L_,eH,rH,mh,vh,uh,dh,EO,aH,cO,V_,j_,zc,fH,hH,pH,gH,mH,U_,yh,B_,_h,$_,T_,Ch,H_,z_,bH,q_,fO,wH,P_,EH,DH,MH,SH,IO,IH,zn,qc,$c,A_,W_,G_,Wc,Xs,K_,bh,wh,hh,OO,Eh,Y_,Dh,r0=p(()=>{"use strict";uf();x();x();q3=typeof document>"u"?null:document.documentElement;yo=null,oO=!1;X_=(()=>{class t{validateStyleProperty(n){return G3(n)}containsElement(n,r){return yO(n,r)}getParentElement(n){return J_(n)}query(n,r,i){return _O(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,o,s,a=[],c){return new mi(i,o)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})(),bo=class{static{this.NOOP=new X_}},wo=class{},Y3=1e3,CO="{{",Q3="}}",bO="ng-enter",k_="ng-leave",lh="ng-trigger",ph=".ng-trigger",sO="ng-animating",R_=".ng-animating";L_=new RegExp(`${CO}\\s*(.+?)\\s*${Q3}`,"g");eH=/-+([a-z0-9])/g;rH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),mh=class extends wo{normalizePropertyName(e,n){return e0(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(rH.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(_3(e,r))}return s+o}},vh="*";uh=new Set(["true","1"]),dh=new Set(["false","0"]);EO=":self",aH=new RegExp(`s*${EO}s*,?`,"g");cO="",V_=class{constructor(e){this._driver=e}build(e,n,r){let i=new j_(n);return this._resetContextStyleTimingState(i),on(this,Bc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=cO,e.collectedStyles=new Map,e.collectedStyles.set(cO,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(C3()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==te.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==te.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(b3())}),{type:te.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{wO(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(w3(e.name,[...o.values()]))}return{type:te.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=on(this,Bc(e.animation),n),i=iH(e.expr,n.errors);return{type:te.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:_o(e.options)}}visitSequence(e,n){return{type:te.Sequence,steps:e.steps.map(r=>on(this,r,n)),options:_o(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=on(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:te.Group,steps:o,options:_o(e.options)}}visitAnimate(e,n){let r=dH(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:Un({});if(o.type==te.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Un(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:te.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===lr?r.push(a):n.errors.push(E3(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(CO)>=0){o=!0;break}}}),{type:te.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(D3(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&X3(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:te.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(M3()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(j=>{let oe=this._makeStyleAst(j,n),K=oe.offset!=null?oe.offset:uH(oe.styles),ue=0;return K!=null&&(o++,ue=oe.offset=K),c=c||ue<0||ue>1,a=a||ue<l,l=ue,s.push(ue),oe});c&&n.errors.push(S3()),a&&n.errors.push(I3());let d=e.steps.length,m=0;o>0&&o<d?n.errors.push(x3()):o==0&&(m=i/(d-1));let g=d-1,_=n.currentTime,w=n.currentAnimateTimings,O=w.duration;return u.forEach((j,oe)=>{let K=m>0?oe==g?1:m*oe:s[oe],ue=K*O;n.currentTime=_+w.delay+ue,w.duration=ue,this._validateStyleAst(j,n),j.offset=K,r.styles.push(j)}),r}visitReference(e,n){return{type:te.Reference,animation:on(this,Bc(e.animation),n),options:_o(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:te.AnimateChild,options:_o(e.options)}}visitAnimateRef(e,n){return{type:te.AnimateRef,animation:this.visitReference(e.animation,n),options:_o(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=cH(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,sn(n.collectedStyles,n.currentQuerySelector,new Map);let a=on(this,Bc(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:te.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:_o(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(O3());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:gh(e.timings,n.errors,!0);return{type:te.Stagger,animation:on(this,Bc(e.animation),n),timings:r,options:null}}};j_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};zc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},fH=1,hH=":enter",pH=new RegExp(hH,"g"),gH=":leave",mH=new RegExp(gH,"g");U_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new zc;let d=new B_(e,n,l,i,o,u,[]);d.options=c;let m=c.delay?Hr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),on(this,r,d);let g=d.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let w=g.length-1;w>=0;w--){let O=g[w];if(O.element===n){_=O;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,d.errors,c)}return g.length?g.map(_=>_.buildKeyframes()):[n0(n,[],[],[],0,m,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Hr(Hc(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?Hr(r.duration):null,a=r.delay!=null?Hr(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),on(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==te.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yh);let s=Hr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>on(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Hr(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),on(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Hc(r,n.params,n.errors):r;return gh(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==te.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?Hr(i.delay):0;o&&(n.previousNode.type===te.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=yh);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),on(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;on(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},yh={},B_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new _h(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Hr(r.duration)),r.delay!=null&&(i.delay=Hr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=Hc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=yh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new $_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(pH,"."+this._enterClassName),e=e.replace(mH,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(T3(n)),a}},_h=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=fH,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||lr),this._currentKeyframe.set(n,lr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=vH(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Hc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??lr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===lf?e.add(d):u===lr&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return n0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},$_=class extends _h{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",lO(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),_=n+g*r;m.set("offset",lO(_/s)),o.push(m)}r=s,n=0,i="",e=o}return n0(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};T_={},Ch=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return yH(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||T_,g=a&&a.params||T_,_=this.buildStyles(r,g,d),w=c&&c.params||T_,O=this.buildStyles(i,w,d),j=new Set,oe=new Map,K=new Map,ue=i==="void",ze={params:SO(w,m),delay:this.ast.options?.delay},be=u?[]:MO(e,n,this.ast.animation,o,s,_,O,ze,l,d),Re=0;return be.forEach(rt=>{Re=Math.max(rt.duration+rt.delay,Re)}),d.length?uO(n,this._triggerName,r,i,ue,_,O,[],[],oe,K,Re,d):(be.forEach(rt=>{let fr=rt.element,Eo=sn(oe,fr,new Set);rt.preStyleProps.forEach(Si=>Eo.add(Si));let o0=sn(K,fr,new Set);rt.postStyleProps.forEach(Si=>o0.add(Si)),fr!==n&&j.add(fr)}),uO(n,this._triggerName,r,i,ue,_,O,be,[...j.values()],oe,K,Re))}};H_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=SO(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Hc(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};z_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new H_(i.style,o,r))}),dO(this.states,"true","1"),dO(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Ch(e,i,this.states))}),this.fallbackTransition=CH(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};bH=new zc,q_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=DO(this._driver,n,r,i);if(r.length)throw R3(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=vO(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=MO(this._driver,n,o,bO,k_,new Map,new Map,r,bH,i),s.forEach(u=>{let d=sn(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(F3()),s=[]),i.length)throw L3(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,lr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Mi(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw V3(e);return n}listen(e,n,r,i){let o=Z_(n,"","","");return Q_(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},fO="ng-animate-queued",wH=".ng-animate-queued",P_="ng-animate-disabled",EH=".ng-animate-disabled",DH="ng-star-inserted",MH=".ng-star-inserted",SH=[],IO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},IH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zn="__ng_removed",qc=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=OH(i),r){let o=e,{value:s}=o,a=Ah(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},$c="void",A_=new qc($c),W_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw j3(r,n);if(r==null||r.length==0)throw U3(n);if(!TH(r))throw B3(r,n);let o=sn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=sn(this._engine.statesByElement,e,new Map);return a.has(n)||(Mn(e,lh),Mn(e,lh+"-"+n),a.set(n,A_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw $3(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new Wc(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Mn(e,lh),Mn(e,lh+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new qc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=A_),!(l.value===$c)&&c.value===l.value){if(!NH(c.params,l.params)){let w=[],O=o.matchStyles(c.value,c.params,w),j=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Co(e,O),dr(e,j)})}return}let m=sn(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==n&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(Mn(e,fO),s.onStart(()=>{Js(e,fO)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let O=this._engine.playersByElement.get(e);if(O){let j=O.indexOf(s);j>=0&&O.splice(j,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,ph,!0);r.forEach(i=>{if(i[zn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,$c,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Mi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||A_,u=new qc($c),d=new Wc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[zn];(!o||o===IO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Mn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Z_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Q_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},G_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new W_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(fh(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!fh(n))return;let o=n[zn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mn(e,P_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Js(e,P_))}removeNode(e,n,r){if(fh(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[zn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return fh(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,ph,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,R_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[zn];if(n&&n.setForRemoval){if(e[zn]=IO,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(P_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,EH,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Mn(i,DH)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Mi(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw H3(e)}_flushAnimations(e,n){let r=new zc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);let z=this.driver.query(V,wH,!0);for(let G=0;G<z.length;G++)u.add(z[G])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=gO(m,this.collectedEnterElements),_=new Map,w=0;g.forEach((V,z)=>{let G=bO+w++;_.set(z,G),V.forEach(ge=>Mn(ge,G))});let O=[],j=new Set,oe=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let z=this.collectedLeaveElements[V],G=z[zn];G&&G.setForRemoval&&(O.push(z),j.add(z),G.hasAnimation?this.driver.query(z,MH,!0).forEach(ge=>j.add(ge)):oe.add(z))}let K=new Map,ue=gO(m,Array.from(j));ue.forEach((V,z)=>{let G=k_+w++;K.set(z,G),V.forEach(ge=>Mn(ge,G))}),e.push(()=>{g.forEach((V,z)=>{let G=_.get(z);V.forEach(ge=>Js(ge,G))}),ue.forEach((V,z)=>{let G=K.get(z);V.forEach(ge=>Js(ge,G))}),O.forEach(V=>{this.processLeaveNode(V)})});let ze=[],be=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(n).forEach(G=>{let ge=G.player,it=G.element;if(ze.push(ge),this.collectedEnterElements.length){let gt=it[zn];if(gt&&gt.setForMove){if(gt.previousTriggersValues&&gt.previousTriggersValues.has(G.triggerName)){let Ii=gt.previousTriggersValues.get(G.triggerName),an=this.statesByElement.get(G.element);if(an&&an.has(G.triggerName)){let Gc=an.get(G.triggerName);Gc.value=Ii,an.set(G.triggerName,Gc)}}ge.destroy();return}}let qn=!d||!this.driver.containsElement(d,it),qt=K.get(it),zr=_.get(it),$e=this._buildInstruction(G,r,zr,qt,qn);if($e.errors&&$e.errors.length){be.push($e);return}if(qn){ge.onStart(()=>Co(it,$e.fromStyles)),ge.onDestroy(()=>dr(it,$e.toStyles)),i.push(ge);return}if(G.isFallbackTransition){ge.onStart(()=>Co(it,$e.fromStyles)),ge.onDestroy(()=>dr(it,$e.toStyles)),i.push(ge);return}let c0=[];$e.timelines.forEach(gt=>{gt.stretchStartingKeyframe=!0,this.disabledNodes.has(gt.element)||c0.push(gt)}),$e.timelines=c0,r.append(it,$e.timelines);let UO={instruction:$e,player:ge,element:it};s.push(UO),$e.queriedElements.forEach(gt=>sn(a,gt,[]).push(ge)),$e.preStyleProps.forEach((gt,Ii)=>{if(gt.size){let an=c.get(Ii);an||c.set(Ii,an=new Set),gt.forEach((Gc,Ph)=>an.add(Ph))}}),$e.postStyleProps.forEach((gt,Ii)=>{let an=l.get(Ii);an||l.set(Ii,an=new Set),gt.forEach((Gc,Ph)=>an.add(Ph))})});if(be.length){let V=[];be.forEach(z=>{V.push(z3(z.triggerName,z.errors))}),ze.forEach(z=>z.destroy()),this.reportError(V)}let Re=new Map,rt=new Map;s.forEach(V=>{let z=V.element;r.has(z)&&(rt.set(z,z),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,Re))}),i.forEach(V=>{let z=V.element;this._getPreviousPlayers(z,!1,V.namespaceId,V.triggerName,null).forEach(ge=>{sn(Re,z,[]).push(ge),ge.destroy()})});let fr=O.filter(V=>mO(V,c,l)),Eo=new Map;pO(Eo,this.driver,oe,l,lr).forEach(V=>{mO(V,c,l)&&fr.push(V)});let Si=new Map;g.forEach((V,z)=>{pO(Si,this.driver,new Set(V),c,lf)}),fr.forEach(V=>{let z=Eo.get(V),G=Si.get(V);Eo.set(V,new Map([...z?.entries()??[],...G?.entries()??[]]))});let Th=[],s0=[],a0={};s.forEach(V=>{let{element:z,player:G,instruction:ge}=V;if(r.has(z)){if(u.has(z)){G.onDestroy(()=>dr(z,ge.toStyles)),G.disabled=!0,G.overrideTotalTime(ge.totalTime),i.push(G);return}let it=a0;if(rt.size>1){let qt=z,zr=[];for(;qt=qt.parentNode;){let $e=rt.get(qt);if($e){it=$e;break}zr.push(qt)}zr.forEach($e=>rt.set($e,it))}let qn=this._buildAnimation(G.namespaceId,ge,Re,o,Si,Eo);if(G.setRealPlayer(qn),it===a0)Th.push(G);else{let qt=this.playersByElement.get(it);qt&&qt.length&&(G.parentPlayer=Mi(qt)),i.push(G)}}else Co(z,ge.fromStyles),G.onDestroy(()=>dr(z,ge.toStyles)),s0.push(G),u.has(z)&&i.push(G)}),s0.forEach(V=>{let z=o.get(V.element);if(z&&z.length){let G=Mi(z);V.setRealPlayer(G)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<O.length;V++){let z=O[V],G=z[zn];if(Js(z,k_),G&&G.hasAnimation)continue;let ge=[];if(a.size){let qn=a.get(z);qn&&qn.length&&ge.push(...qn);let qt=this.driver.query(z,R_,!0);for(let zr=0;zr<qt.length;zr++){let $e=a.get(qt[zr]);$e&&$e.length&&ge.push(...$e)}}let it=ge.filter(qn=>!qn.destroyed);it.length?PH(this,z,it):this.processLeaveNode(z)}return O.length=0,Th.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let z=this.players.indexOf(V);this.players.splice(z,1)}),V.play()}),Th}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==$c;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=sn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),d.push(g)})}Co(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,m=n.timelines.map(_=>{let w=_.element;u.add(w);let O=w[zn];if(O&&O.removedBeforeQueried)return new mi(_.duration,_.delay);let j=w!==c,oe=AH((r.get(w)||SH).map(Re=>Re.getRealPlayer())).filter(Re=>{let rt=Re;return rt.element?rt.element===w:!1}),K=o.get(w),ue=s.get(w),ze=vO(this._normalizer,_.keyframes,K,ue),be=this._buildPlayer(_,ze,oe);if(_.subTimeline&&i&&d.add(w),j){let Re=new Wc(e,a,w);Re.setRealPlayer(be),l.push(Re)}return be});l.forEach(_=>{sn(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>xH(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>Mn(_,sO));let g=Mi(m);return g.onDestroy(()=>{u.forEach(_=>Js(_,sO)),dr(c,n.toStyles)}),d.forEach(_=>{sn(i,_,[]).push(g)}),g}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new mi(e.duration,e.delay)}},Wc=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new mi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Q_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){sn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};Xs=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new G_(e.body,n,r),this._timelineEngine=new q_(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=DO(this._driver,o,c,l);if(c.length)throw N3(i,c);l.length&&void 0,a=_H(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=iO(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=iO(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};K_=class t{static{this.initialStylesByElement=new WeakMap}constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&dr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dr(this._element,this._initialStyles),this._endStyles&&(dr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Co(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Co(this._element,this._endStyles),this._endStyles=null),dr(this._element,this._initialStyles),this._state=3)}};bh=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:t0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},wh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return yO(e,n)}getParentElement(e){return J_(e)}query(e,n,r){return _O(e,n,r)}computeStyle(e,n,r){return t0(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof bh);tH(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((_,w)=>l.set(w,_))});let d=J3(n).map(g=>new Map(g));d=nH(e,d,l);let m=kH(e,d);return new bh(e,d,c,m)}},hh="@",OO="@.disabled",Eh=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==hh&&n==OO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Y_=class extends Eh{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==hh?n.charAt(1)=="."&&n==OO?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==hh){let i=FH(e),o=n.slice(1),s="";return o.charAt(0)!=hh&&([o,s]=LH(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};Dh=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Eh(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new Y_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function UH(){return new mh}function BH(t,e,n){return new Dh(t,e,n)}var jH,PO,TO,$H,AO,NO=p(()=>{"use strict";x();x();La();r0();r0();xe();jH=(()=>{class t extends Xs{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||t)(A(ct),A(bo),A(wo))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac})}}return t})();PO=[{provide:wo,useFactory:UH},{provide:Xs,useClass:jH},{provide:ni,useFactory:BH,deps:[wd,Xs,ye]}],TO=[{provide:bo,useFactory:()=>new wh},{provide:fm,useValue:"BrowserAnimations"},...PO],$H=[{provide:bo,useClass:X_},{provide:fm,useValue:"NoopAnimations"},...PO],AO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?$H:TO}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ke({type:t})}static{this.\u0275inj=Ge({providers:TO,imports:[Dd]})}}return t})()});var Mh,kO=p(()=>{"use strict";x();Mh=class t{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}});function GH(t,e){if(t&1){let n=Q();h(0,"div",12)(1,"input",13,1),mn("ngModelChange",function(i){B(n);let o=T();return kn(o.room,i)||(o.room=i),$(i)}),f(),h(3,"button",14),P("click",function(){B(n);let i=T();return i.joinRoom(),$(i.isRoomJoined=!0)}),y(4,"Join Room"),f()()}if(t&2){let n=T();C(),gn("ngModel",n.room)}}function KH(t,e){if(t&1&&(h(0,"div",15)(1,"span",16),y(2),f(),h(3,"div",17),y(4),f()()),t&2){let n=e.$implicit;b("ngClass",YE(3,WH,n.senderName==="Me",n.senderName!=="Me")),C(2),pt(n.senderName),C(2),pt(n.text)}}function YH(t,e){if(t&1){let n=Q();h(0,"button",18),P("click",function(){B(n);let i=T();return $(i.sendMessage())}),y(1,"Send"),f()}}function QH(t,e){if(t&1){let n=Q();h(0,"div")(1,"button",18),P("click",function(){B(n);let i=T();return $(i.sendPrivateMessage())}),y(2,"Send Private"),f()()}}function ZH(t,e){if(t&1){let n=Q();h(0,"div",19)(1,"button",20),P("click",function(){B(n);let i=T();return $(i.showDebugInfo())}),y(2," \u{1F41E} "),f()()}}var zH,qH,WH,ea,i0=p(()=>{"use strict";x();Ee();Wd();Zs();x();yc();Lt();Dy();kO();I_();Na();xe();nn();zH=["roomInput"],qH=["chatInput"],WH=(t,e)=>({"my-message":t,"other-message":e});ea=class t{constructor(e,n,r,i,o,s){this.socketService=e;this.userService=n;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;chatType="group";targetUserId="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=v(Dn);ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus()}showDebugInfo(){let e=this.errorLogger.getLogs(),n={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(n,null,2))}ngOnInit(){this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId}),this.socketSubscription=new Fe,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>I(this,null,function*(){if(console.log("\u{1F4E9} New group message received:",e),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let n={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(n),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(n){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",n)}}))):this.chatType==="private"&&this.loadPrivateMessages()}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>I(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(n=>I(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",n),n==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}sendTestNotification(){return I(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return I(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return I(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let n=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(bt.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",n)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let n="=".repeat((4-e.length%4)%4),r=(e+n).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){let e=this.socketService.getPrivateMessages(),n=this.userService.getLoggedInUser();console.log("Current user:",n._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===n._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===n._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>U(E({},r),{senderName:r.sender===n._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>I(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,currentUserId:this.currentUser._id});let i=r.sender===n._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===n._id;if(console.log("Is message relevant?",i),i){let o=U(E({},r),{senderName:r.sender===n._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),this.notificationsEnabled&&r.sender!==n._id)try{let s={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:r.sender,targetUserId:n._id,chatType:"private"}};yield this.notificationService.sendNotification(s)}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return I(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}sendMessage(){if(!this.newMessage.trim())return;let e={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",e),this.newMessage=""}sendPrivateMessage(){return I(this,null,function*(){if(this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let e=this.userService.getLoggedInUser(),n={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};if(this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),console.log("Message content:",this.newMessage),this.privateMessages.push(n),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let r={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:this.newMessage,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(r)}catch(r){this.errorLogger.log("Error handling notification",r)}this.newMessage=""})}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)(D(cr),D(Se),D(As),D(Mh),D(Qs),D(to))};static \u0275cmp=ee({type:t,selectors:[["app-chat"]],viewQuery:function(n,r){if(n&1&&(Am(zH,5),Am(qH,5)),n&2){let i;Sa(i=Ia())&&(r.roomInput=i.first),Sa(i=Ia())&&(r.chatInput=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},decls:14,vars:7,consts:[["chatInput",""],["roomInput",""],[1,"chat-container"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","ngModel"],["class","styled-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","debug-panel",4,"ngIf"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[1,"styled-button",3,"click"],[1,"debug-panel"],[1,"debug-button",3,"click"]],template:function(n,r){if(n&1){let i=Q();h(0,"div",2)(1,"h2"),y(2),f(),N(3,GH,5,1,"div",3),h(4,"div",4)(5,"div",5),N(6,KH,5,6,"div",6),f(),h(7,"div",7)(8,"input",8,0),mn("ngModelChange",function(s){return B(i),kn(r.newMessage,s)||(r.newMessage=s),$(s)}),f(),N(10,YH,2,0,"button",9)(11,QH,3,0,"div",10),f()()(),N(12,ZH,3,0,"div",11),y(13," --> ")}n&2&&(C(2),pt(r.chatType==="group"?"Group Chat - "+r.room:"Private Chat"),C(),b("ngIf",r.chatType==="group"&&!r.isRoomJoined),C(3),b("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),C(2),gn("ngModel",r.newMessage),C(2),b("ngIf",r.chatType==="group"),C(),b("ngIf",r.chatType==="private"),C(),b("ngIf",r.isMobile))},dependencies:[ds,fs,De,wn,ur,Lr],styles:[".chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;max-height:85vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none}.join-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden}.messages[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:80%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-input[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.styled-input[_ngcontent-%COMP%]{flex:1;padding:12px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.styled-button[_ngcontent-%COMP%]{padding:12px 18px;border:none;background-color:#25d366;color:#fff;cursor:pointer;border-radius:20px;font-size:14px;transition:background-color .3s}.styled-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:column}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}",`.debug-panel[_ngcontent-%COMP%] {
        position: fixed;
        bottom: 10px;
        

        right: 10px;
        

        z-index: 1000;
    }

    .debug-button[_ngcontent-%COMP%] {
        width: 30px;
        

        height: 30px;
        background-color: rgba(240, 240, 240, 0.8);
        

        border: 1px solid #ddd;
        border-radius: 50%;
        

        padding: 0;
        font-size: 16px;
        

        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        opacity: 0.6;
        

    }

    .debug-button[_ngcontent-%COMP%]:active {
        transform: scale(0.95);
        

    }

    .notification-permission[_ngcontent-%COMP%] {
        position: fixed;
        bottom: 60px;
        

        right: 10px;
        z-index: 1000;
    }

    .notification-button[_ngcontent-%COMP%] {
        background: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .notification-button[_ngcontent-%COMP%]:hover {
        background: #0056b3;
    }

    .notification-button[_ngcontent-%COMP%]:active {
        transform: scale(0.98);
    }`]})}});function e4(t,e){if(t&1&&(h(0,"span",15),y(1),f()),t&2){let n=T().ngIf;C(),pt(n)}}function t4(t,e){if(t&1&&(yt(0),N(1,e4,2,1,"span",14),_t()),t&2){let n=e.ngIf,r=T();C(),b("ngIf",n>0&&!r.isPrivateChatOpen)}}function n4(t,e){if(t&1){let n=Q();h(0,"div",16),P("clickOutsideCapture",function(){B(n);let i=T();return $(i.closePrivateChat())}),h(1,"div",17)(2,"span",18),P("click",function(){B(n);let i=T();return $(i.closePrivateChat())}),y(3,"\xD7"),f(),R(4,"app-chat",19),f()()}if(t&2){let n=T();C(4),b("chatType","private")("targetUserId",n.user._id)}}var XH,Sh,RO=p(()=>{"use strict";x();Lt();x();ut();yc();Ff();xe();_i();Ls();i0();XH=t=>({"long-field":t});Sh=class t{constructor(e,n,r){this.router=e;this.socketService=n;this.userIndex=r}user;remove=new se;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=v(Se).getLoggedInUser()._id;ngOnInit(){this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,n){e.stopPropagation(),this.remove.emit(n)}isLongField(e,n){return e?e.length>n:!1}openFacebookProfile(e,n){if(e.stopPropagation(),!n.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(n.username)}`;window.open(r,"_blank")}openInstagramProfile(e,n){if(e.stopPropagation(),!n.username){console.error("Username is missing, cannot search on Instagram");return}let r=n.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(n.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(n){return new(n||t)(D(Oe),D(cr),D(Ei))};static \u0275cmp=ee({type:t,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:18,vars:10,consts:[[1,"user-preview",3,"click"],[1,"image-container"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook Profile",1,"fb-img"],["src","../../../assets/images/instagram.png","alt","Instagram Profile",1,"insta-img"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType","targetUserId"]],template:function(n,r){n&1&&(h(0,"article",0),P("click",function(){return r.onPreviewClick()}),h(1,"div",1),R(2,"img",2),f(),h(3,"div",3)(4,"h1",4),y(5),f()(),h(6,"div",5)(7,"div",6)(8,"button",7),P("click",function(o){return r.openPrivateChat(o)}),R(9,"img",8),N(10,t4,2,1,"ng-container",9),Nt(11,"async"),f()(),h(12,"button",10),P("click",function(o){return r.openFacebookProfile(o,r.user)}),R(13,"img",11),f(),h(14,"button",10),P("click",function(o){return r.openInstagramProfile(o,r.user)}),R(15,"img",12),f()()(),N(16,n4,5,2,"div",13),R(17,"router-outlet")),n&2&&(C(2),b("src",r.user.img?r.user.img:"../../../assets/images/contact.png",At),C(2),b("title",r.user.username)("ngClass",as(8,XH,r.isLongField(r.user.username,15))),C(),Ie(" ",r.user.username," "),C(5),b("ngIf",$t(11,6,r.unreadMessagesCount$)),C(6),b("ngIf",r.isPrivateChatOpen))},dependencies:[ds,De,Ln,Et,bn,ea,Ht],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:320px;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 65px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.4em;width:2.4em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.4em;width:1.4em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{font-size:1rem;min-width:unset}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:row;gap:5px}}.long-field[_ngcontent-%COMP%]{font-size:.9em}"]})}});function i4(t,e){if(t&1){let n=Q();h(0,"user-preview",3),P("remove",function(){let i=B(n).$implicit,o=T();return $(o.onRemoveUser(i._id))}),f()}if(t&2){let n=e.$implicit;b("user",n)}}function o4(t,e){t&1&&(h(0,"p"),y(1,"No users found."),f())}var Ih,FO=p(()=>{"use strict";x();x();Lt();xe();RO();Ih=class t{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new se;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:n=>console.error("Failed to delete user:",n)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(n){return new(n||t)(D(Se))};static \u0275cmp=ee({type:t,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(n,r){n&1&&(h(0,"section",1),N(1,i4,1,1,"user-preview",2)(2,o4,2,0,"ng-template",null,0,or),f()),n&2&&(C(),b("ngForOf",r.users))},dependencies:[fs,Sh],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function s4(t,e){if(t&1){let n=Q();h(0,"button",4),P("click",function(){B(n);let i=T();return $(i.onClearFilter())}),y(1,"\u2716"),f()}}var xh,LO=p(()=>{"use strict";x();Ee();ks();Lt();x();xe();nn();xh=class t{userService=v(Se);filterBy="";filterSubject$=new he;destroyRef=v(Tt);ngOnInit(){this.userService.filterBy$.pipe(zt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(mr(),zt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ee({type:t,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(n,r){n&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),mn("ngModelChange",function(o){return kn(r.filterBy,o)||(r.filterBy=o),o}),P("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,s4,2,0,"button",3),f()()),n&2&&(C(2),gn("ngModel",r.filterBy),C(),b("ngIf",r.filterBy))},dependencies:[De,wn,ur,Lr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Oh,VO=p(()=>{"use strict";La();$I();nO();Na();nn();NO();_i();Ls();Ff();FO();LO();i0();S_();x();xe();Oh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ke({type:t,bootstrap:[ch]});static \u0275inj=Ge({imports:[Dd,Vf,UD,bI,wI,AO,Yx.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};KE(Ei,function(){return[De,Et,bn,Ih,xh,ea]},function(){return[Ht]})});var a4=HO(jO=>{La();VO();Zs();x();GD().bootstrapModule(Oh).then(()=>{let t=v(Dn);"serviceWorker"in navigator&&window.addEventListener("load",()=>I(jO,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield t.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield t.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(t=>console.error("\u274C Bootstrap error:",t))});export default a4();
