import{a as M,b as B,c as Xp,d as h,e as RT,f as FT,g as P,h as ft,i as jo,k as ri}from"./chunk-EZ2AII26.js";function R0(n,e){return Object.is(n,e)}function ye(n){let e=st;return st=n,e}function F0(){return st}function nh(n){if(il)throw new Error("");if(st===null)return;st.consumerOnSignalRead(n);let e=st.nextProducerIndex++;if(ll(st),e<st.producerNode.length&&st.producerNode[e]!==n&&ua(st)){let t=st.producerNode[e];cl(t,st.producerIndexOfThis[e])}st.producerNode[e]!==n&&(st.producerNode[e]=n,st.producerIndexOfThis[e]=ua(st)?U0(n,st,e):0),st.producerLastReadVersion[e]=n.version}function LT(){ol++}function L0(n){if(!(ua(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ol)){if(!n.producerMustRecompute(n)&&!ih(n)){n.dirty=!1,n.lastCleanEpoch=ol;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ol}}function V0(n){if(n.liveConsumerNode===void 0)return;let e=il;il=!0;try{for(let t of n.liveConsumerNode)t.dirty||VT(t)}finally{il=e}}function j0(){return st?.consumerAllowSignalWrites!==!1}function VT(n){n.dirty=!0,V0(n),n.consumerMarkedDirty?.(n)}function al(n){return n&&(n.nextProducerIndex=0),ye(n)}function rh(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ua(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)cl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ih(n){ll(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(L0(t),r!==t.version))return!0}return!1}function oh(n){if(ll(n),ua(n))for(let e=0;e<n.producerNode.length;e++)cl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function U0(n,e,t){if(B0(n),n.liveConsumerNode.length===0&&$0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=U0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function cl(n,e){if(B0(n),n.liveConsumerNode.length===1&&$0(n))for(let r=0;r<n.producerNode.length;r++)cl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ll(i),i.producerIndexOfThis[r]=e}}function ua(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ll(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function B0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function $0(n){return n.producerNode!==void 0}function z0(n){let e=Object.create(jT);e.computation=n;let t=()=>{if(L0(e),nh(e),e.value===sl)throw e.error;return e.value};return t[wr]=e,t}function UT(){throw new Error}function q0(){H0()}function W0(n){H0=n}function G0(n){let e=Object.create(Y0);e.value=n;let t=()=>(nh(e),e.value);return t[wr]=e,t}function sh(n,e){j0()||q0(),n.equal(n.value,e)||(n.value=e,$T(n))}function K0(n,e){j0()||q0(),sh(n,e(n.value))}function $T(n){n.version++,LT(),V0(n),BT?.()}var st,il,ol,wr,da,eh,th,sl,jT,H0,BT,Y0,Q0=h(()=>{"use strict";st=null,il=!1,ol=1,wr=Symbol("SIGNAL");da={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};eh=Symbol("UNSET"),th=Symbol("COMPUTING"),sl=Symbol("ERRORED"),jT=B(M({},da),{value:eh,dirty:!0,error:null,equal:R0,producerMustRecompute(n){return n.value===eh||n.value===th},producerRecomputeValue(n){if(n.value===th)throw new Error("Detected cycle in computations.");let e=n.value;n.value=th;let t=al(n),r;try{r=n.computation()}catch(i){r=sl,n.error=i}finally{rh(n,t)}if(e!==eh&&e!==sl&&r!==sl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});H0=UT;BT=null;Y0=B(M({},da),{equal:R0,value:void 0})});function H(n){return typeof n=="function"}var Ge=h(()=>{"use strict"});function Uo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ul=h(()=>{"use strict"});var dl,Z0=h(()=>{"use strict";ul();dl=Uo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function zi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var fl=h(()=>{"use strict"});function pl(n){return n instanceof je||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function J0(n){H(n)?n():n.unsubscribe()}var je,ah,Hi=h(()=>{"use strict";Ge();Z0();fl();je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof dl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{J0(o)}catch(s){e=e??[],s instanceof dl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)J0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&zi(t,e)}remove(e){let{_finalizers:t}=this;t&&zi(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();ah=je.EMPTY});var Nn,fa=h(()=>{"use strict";Nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Bo,ch=h(()=>{"use strict";Bo={setTimeout(n,e,...t){let{delegate:r}=Bo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Bo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function hl(n){Bo.setTimeout(()=>{let{onUnhandledError:e}=Nn;if(e)e(n);else throw n})}var lh=h(()=>{"use strict";fa();ch()});function Er(){}var pa=h(()=>{"use strict"});function eC(n){return uh("E",void 0,n)}function tC(n){return uh("N",n,void 0)}function uh(n,e,t){return{kind:n,value:e,error:t}}var X0,nC=h(()=>{"use strict";X0=uh("C",void 0,void 0)});function $o(n){if(Nn.useDeprecatedSynchronousErrorHandling){let e=!qi;if(e&&(qi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=qi;if(qi=null,t)throw r}}else n()}function rC(n){Nn.useDeprecatedSynchronousErrorHandling&&qi&&(qi.errorThrown=!0,qi.error=n)}var qi,gl=h(()=>{"use strict";fa();qi=null});function dh(n,e){return zT.call(n,e)}function ml(n){Nn.useDeprecatedSynchronousErrorHandling?rC(n):hl(n)}function HT(n){throw n}function fh(n,e){let{onStoppedNotification:t}=Nn;t&&Bo.setTimeout(()=>t(n,e))}var Wi,zT,ph,ii,qT,vl=h(()=>{"use strict";Ge();Hi();fa();lh();pa();nC();ch();gl();Wi=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pl(e)&&e.add(this)):this.destination=qT}static create(e,t,r){return new ii(e,t,r)}next(e){this.isStopped?fh(tC(e),this):this._next(e)}error(e){this.isStopped?fh(eC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fh(X0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zT=Function.prototype.bind;ph=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ml(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ml(r)}else ml(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ml(t)}}},ii=class extends Wi{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Nn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dh(e.next,o),error:e.error&&dh(e.error,o),complete:e.complete&&dh(e.complete,o)}):i=e}this.destination=new ph(i)}};qT={closed:!0,next:Er,error:HT,complete:Er}});var zo,yl=h(()=>{"use strict";zo=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function yt(n){return n}var Mr=h(()=>{"use strict"});function hh(...n){return gh(n)}function gh(n){return n.length===0?yt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var mh=h(()=>{"use strict";Mr()});function iC(n){var e;return(e=n??Nn.Promise)!==null&&e!==void 0?e:Promise}function WT(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function GT(n){return n&&n instanceof Wi||WT(n)&&pl(n)}var ee,pt=h(()=>{"use strict";vl();Hi();yl();mh();fa();Ge();gl();ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GT(t)?t:new ii(t,r,i);return $o(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=iC(r),new r((i,o)=>{let s=new ii({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[zo](){return this}pipe(...t){return gh(t)(this)}toPromise(t){return t=iC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function vh(n){return H(n?.lift)}function te(n){return e=>{if(vh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ue=h(()=>{"use strict";Ge()});function J(n,e,t,r,i){return new yh(n,e,t,r,i)}var yh,qe=h(()=>{"use strict";vl();yh=class extends Wi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function Ho(){return te((n,e)=>{let t=null;n._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var _h=h(()=>{"use strict";Ue();qe()});var oi,Ch=h(()=>{"use strict";pt();Hi();_h();qe();Ue();oi=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,vh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(J(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Ho()(this)}}});var oC,sC=h(()=>{"use strict";ul();oC=Uo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var ge,_l,ha=h(()=>{"use strict";pt();Hi();sC();fl();gl();ge=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new _l(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oC}next(t){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ah:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,zi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new _l(e,t),n})(),_l=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ah}}});var fe,aC=h(()=>{"use strict";ha();fe=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var bh,cC=h(()=>{"use strict";bh={now(){return(bh.delegate||Date).now()},delegate:void 0}});var Cl,lC=h(()=>{"use strict";Hi();Cl=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}}});var ga,uC=h(()=>{"use strict";ga={setInterval(n,e,...t){let{delegate:r}=ga;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ga;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var bl,dC=h(()=>{"use strict";lC();uC();fl();bl=class extends Cl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ga.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ga.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,zi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var qo,fC=h(()=>{"use strict";cC();qo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};qo.now=bh.now});var wl,pC=h(()=>{"use strict";fC();wl=class extends qo{constructor(e,t=qo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var ma,hC,El=h(()=>{"use strict";dC();pC();ma=new wl(bl),hC=ma});var kt,va=h(()=>{"use strict";pt();kt=new ee(n=>n.complete())});function Ml(n){return n&&H(n.schedule)}var wh=h(()=>{"use strict";Ge()});function Eh(n){return n[n.length-1]}function Dl(n){return H(Eh(n))?n.pop():void 0}function tr(n){return Ml(Eh(n))?n.pop():void 0}function gC(n,e){return typeof Eh(n)=="number"?n.pop():e}var Gi=h(()=>{"use strict";Ge();wh()});function vC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function mC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ki(n){return this instanceof Ki?(this.v=n,this):new Ki(n)}function yC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,d)}}function a(g,b){r[g]&&(i[g]=function(E){return new Promise(function(R,$){o.push([g,E,R,$])>1||c(g,E)})},b&&(i[g]=b(i[g])))}function c(g,b){try{l(r[g](b))}catch(E){v(o[0][3],E)}}function l(g){g.value instanceof Ki?Promise.resolve(g.value.v).then(u,d):v(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function v(g,b){g(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function _C(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mC=="function"?mC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Mh=h(()=>{"use strict"});var Wo,Sl=h(()=>{"use strict";Wo=n=>n&&typeof n.length=="number"&&typeof n!="function"});function xl(n){return H(n?.then)}var Dh=h(()=>{"use strict";Ge()});function Il(n){return H(n[zo])}var Sh=h(()=>{"use strict";yl();Ge()});function Ol(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var xh=h(()=>{"use strict";Ge()});function Tl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Ih=h(()=>{"use strict"});function KT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pl,Oh=h(()=>{"use strict";Pl=KT()});function Al(n){return H(n?.[Pl])}var Th=h(()=>{"use strict";Oh();Ge()});function kl(n){return yC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ki(t.read());if(i)return yield Ki(void 0);yield yield Ki(r)}}finally{t.releaseLock()}})}function Nl(n){return H(n?.getReader)}var Rl=h(()=>{"use strict";Mh();Ge()});function xe(n){if(n instanceof ee)return n;if(n!=null){if(Il(n))return YT(n);if(Wo(n))return QT(n);if(xl(n))return ZT(n);if(Ol(n))return CC(n);if(Al(n))return JT(n);if(Nl(n))return XT(n)}throw Tl(n)}function YT(n){return new ee(e=>{let t=n[zo]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QT(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ZT(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hl)})}function JT(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function CC(n){return new ee(e=>{eP(n,e).catch(t=>e.error(t))})}function XT(n){return CC(kl(n))}function eP(n,e){var t,r,i,o;return vC(this,void 0,void 0,function*(){try{for(t=_C(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var It=h(()=>{"use strict";Mh();Sl();Dh();pt();Sh();xh();Ih();Th();Rl();Ge();lh();yl()});function zt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var Go=h(()=>{"use strict"});function Fl(n,e=0){return te((t,r)=>{t.subscribe(J(r,i=>zt(r,n,()=>r.next(i),e),()=>zt(r,n,()=>r.complete(),e),i=>zt(r,n,()=>r.error(i),e)))})}var Ph=h(()=>{"use strict";Go();Ue();qe()});function Ll(n,e=0){return te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var Ah=h(()=>{"use strict";Ue()});function bC(n,e){return xe(n).pipe(Ll(e),Fl(e))}var wC=h(()=>{"use strict";It();Ph();Ah()});function EC(n,e){return xe(n).pipe(Ll(e),Fl(e))}var MC=h(()=>{"use strict";It();Ph();Ah()});function DC(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var SC=h(()=>{"use strict";pt()});function xC(n,e){return new ee(t=>{let r;return zt(t,e,()=>{r=n[Pl](),zt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var IC=h(()=>{"use strict";pt();Oh();Ge();Go()});function Vl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{zt(t,e,()=>{let r=n[Symbol.asyncIterator]();zt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var kh=h(()=>{"use strict";pt();Go()});function OC(n,e){return Vl(kl(n),e)}var TC=h(()=>{"use strict";kh();Rl()});function PC(n,e){if(n!=null){if(Il(n))return bC(n,e);if(Wo(n))return DC(n,e);if(xl(n))return EC(n,e);if(Ol(n))return Vl(n,e);if(Al(n))return xC(n,e);if(Nl(n))return OC(n,e)}throw Tl(n)}var AC=h(()=>{"use strict";wC();MC();SC();IC();kh();Sh();Dh();Sl();Th();xh();Ih();Rl();TC()});function G(n,e){return e?PC(n,e):xe(n)}var Ko=h(()=>{"use strict";AC();It()});function V(...n){let e=tr(n);return G(n,e)}var kC=h(()=>{"use strict";Gi();Ko()});function Xe(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}var NC=h(()=>{"use strict";pt();Ge()});function Nh(n){return!!n&&(n instanceof ee||H(n.lift)&&H(n.subscribe))}var RC=h(()=>{"use strict";pt();Ge()});var Rn,Yo=h(()=>{"use strict";ul();Rn=Uo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function Yi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new ii({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Rn)}});n.subscribe(o)})}var FC=h(()=>{"use strict";Yo();vl()});function LC(n){return n instanceof Date&&!isNaN(n)}var VC=h(()=>{"use strict"});function j(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>{r.next(n.call(e,o,i++))}))})}var Qo=h(()=>{"use strict";Ue();qe()});function nP(n,e){return tP(e)?n(...e):n(e)}function Zo(n){return j(e=>nP(n,e))}var tP,jl=h(()=>{"use strict";Qo();({isArray:tP}=Array)});function Ul(n){if(n.length===1){let e=n[0];if(rP(e))return{args:e,keys:null};if(aP(e)){let t=sP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function aP(n){return n&&typeof n=="object"&&iP(n)===oP}var rP,iP,oP,sP,Rh=h(()=>{"use strict";({isArray:rP}=Array),{getPrototypeOf:iP,prototype:oP,keys:sP}=Object});function Bl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Fh=h(()=>{"use strict"});function ya(...n){let e=tr(n),t=Dl(n),{args:r,keys:i}=Ul(n);if(r.length===0)return G([],e);let o=new ee(cP(r,e,i?s=>Bl(i,s):yt));return t?o.pipe(Zo(t)):o}function cP(n,e,t=yt){return r=>{jC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)jC(e,()=>{let l=G(n[c],e),u=!1;l.subscribe(J(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function jC(n,e,t){n?zt(t,n,e):e()}var UC=h(()=>{"use strict";pt();Rh();Ko();Mr();jl();Gi();Fh();qe();Go()});function BC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,v=()=>{d&&!c.length&&!l&&e.complete()},g=E=>l<r?b(E):c.push(E),b=E=>{o&&e.next(E),l++;let R=!1;xe(t(E,u++)).subscribe(J(e,$=>{i?.($),o?g($):e.next($)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let $=c.shift();s?zt(e,s,()=>b($)):b($)}v()}catch($){e.error($)}}))};return n.subscribe(J(e,g,()=>{d=!0,v()})),()=>{a?.()}}var $C=h(()=>{"use strict";It();Go();qe()});function Be(n,e,t=1/0){return H(e)?Be((r,i)=>j((o,s)=>e(r,o,i,s))(xe(n(r,i))),t):(typeof e=="number"&&(t=e),te((r,i)=>BC(r,i,n,t)))}var Jo=h(()=>{"use strict";Qo();It();Ue();$C();Ge()});function nr(n=1/0){return Be(yt,n)}var $l=h(()=>{"use strict";Jo();Mr()});function zC(){return nr(1)}var HC=h(()=>{"use strict";$l()});function rr(...n){return zC()(G(n,tr(n)))}var zl=h(()=>{"use strict";HC();Gi();Ko()});function Qi(n){return new ee(e=>{xe(n()).subscribe(e)})}var qC=h(()=>{"use strict";pt();It()});function Lh(...n){let e=Dl(n),{args:t,keys:r}=Ul(n),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;xe(t[u]).subscribe(J(o,v=>{d||(d=!0,l--),a[u]=v},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Bl(r,a):a),o.complete())}))}});return e?i.pipe(Zo(e)):i}var WC=h(()=>{"use strict";pt();Rh();It();Gi();qe();jl();Fh()});function Xo(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Xo(n,e,t).pipe(Zo(r));let[i,o]=hP(n)?uP.map(s=>a=>n[s](e,a,t)):fP(n)?lP.map(GC(n,e)):pP(n)?dP.map(GC(n,e)):[];if(!i&&Wo(n))return Be(s=>Xo(s,e,t))(xe(n));if(!i)throw new TypeError("Invalid event target");return new ee(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function GC(n,e){return t=>r=>n[t](e,r)}function fP(n){return H(n.addListener)&&H(n.removeListener)}function pP(n){return H(n.on)&&H(n.off)}function hP(n){return H(n.addEventListener)&&H(n.removeEventListener)}var lP,uP,dP,KC=h(()=>{"use strict";It();pt();Jo();Sl();Ge();jl();lP=["addListener","removeListener"],uP=["addEventListener","removeEventListener"],dP=["on","off"]});function Hl(n=0,e,t=hC){let r=-1;return e!=null&&(Ml(e)?t=e:r=e),new ee(i=>{let o=LC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var Vh=h(()=>{"use strict";pt();El();wh();VC()});function ql(...n){let e=tr(n),t=gC(n,1/0),r=n;return r.length?r.length===1?xe(r[0]):nr(t)(G(r,e)):kt}var YC=h(()=>{"use strict";$l();It();va();Gi();Ko()});var Zi,QC=h(()=>{"use strict";pt();pa();Zi=new ee(Er)});function Ne(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>n.call(e,o,i++)&&r.next(o)))})}var es=h(()=>{"use strict";Ue();qe()});var ZC=h(()=>{"use strict"});function ue(n){return te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(J(t,void 0,void 0,s=>{o=xe(n(s,ue(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var jh=h(()=>{"use strict";It();qe();Ue()});function JC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(J(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var XC=h(()=>{"use strict";qe()});function fn(n,e){return H(e)?Be(n,e,1):Be(n,1)}var Uh=h(()=>{"use strict";Jo();Ge()});function eb(n){return new ee(e=>n.subscribe(e))}var tb=h(()=>{"use strict";pt()});function Wl(n,e=gP){let{connector:t}=e;return te((r,i)=>{let o=t();xe(n(eb(o))).subscribe(i),i.add(r.subscribe(o))})}var gP,Bh=h(()=>{"use strict";ha();It();Ue();tb();gP={connector:()=>new ge}});function $h(n,e=ma){return te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(J(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var nb=h(()=>{"use strict";El();Ue();qe()});function si(n){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Gl=h(()=>{"use strict";Ue();qe()});function be(n){return n<=0?()=>kt:te((e,t)=>{let r=0;e.subscribe(J(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var _a=h(()=>{"use strict";va();Ue();qe()});function rb(){return te((n,e)=>{n.subscribe(J(e,Er))})}var ib=h(()=>{"use strict";Ue();qe();pa()});function Ca(n){return j(()=>n)}var zh=h(()=>{"use strict";Qo()});function Hh(n,e){return e?t=>rr(e.pipe(be(1),rb()),t.pipe(Hh(n))):Be((t,r)=>xe(n(t,r)).pipe(be(1),Ca(t)))}var ob=h(()=>{"use strict";zl();_a();ib();zh();Jo();It()});function pn(n,e=ma){let t=Hl(n,e);return Hh(()=>t)}var qh=h(()=>{"use strict";El();ob();Vh()});function Dr(n,e=yt){return n=n??mP,te((t,r)=>{let i,o=!0;t.subscribe(J(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function mP(n,e){return n===e}var sb=h(()=>{"use strict";Mr();Ue();qe()});function Kl(n=vP){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vP(){return new Rn}var Wh=h(()=>{"use strict";Yo();Ue();qe()});function Zt(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Gh=h(()=>{"use strict";Ue()});function ir(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):yt,be(1),t?si(e):Kl(()=>new Rn))}var ab=h(()=>{"use strict";Yo();es();_a();Gl();Wh();Mr()});function ts(n){return n<=0?()=>kt:te((e,t)=>{let r=[];e.subscribe(J(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Kh=h(()=>{"use strict";va();Ue();qe()});function Yh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):yt,ts(1),t?si(e):Kl(()=>new Rn))}var cb=h(()=>{"use strict";Yo();es();Kh();Wh();Gl();Mr()});function lb(n,e){let t=H(n)?n:()=>n;return H(e)?Wl(e,{connector:t}):r=>new oi(r,t)}var ub=h(()=>{"use strict";Ch();Ge();Bh()});function Qh(n){return n?e=>Wl(n)(e):e=>lb(new ge)(e)}var db=h(()=>{"use strict";ha();ub();Bh()});function at(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?yt:te((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(J(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let v=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Hl(r):xe(r(d,a)),b=J(s,()=>{b.unsubscribe(),v()},()=>{s.complete()});g.subscribe(b)}else v()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Zh=h(()=>{"use strict";Ue();qe();Mr();Vh();It()});function Jh(n,e){return te(JC(n,e,arguments.length>=2,!0))}var fb=h(()=>{"use strict";Ue();XC()});function Xh(n){return Ne((e,t)=>n<=t)}var pb=h(()=>{"use strict";es()});function eg(...n){let e=tr(n);return te((t,r)=>{(e?rr(n,t,e):rr(n,t)).subscribe(r)})}var hb=h(()=>{"use strict";zl();Gi();Ue()});function Re(n,e){return te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(J(r,c=>{i?.unsubscribe();let l=0,u=o++;xe(n(c,u)).subscribe(i=J(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var tg=h(()=>{"use strict";It();Ue();qe()});function hn(n){return te((e,t)=>{xe(n).subscribe(J(t,()=>t.complete(),Er)),!t.closed&&e.subscribe(t)})}var ng=h(()=>{"use strict";Ue();qe();It();pa()});function ne(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(J(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var rg=h(()=>{"use strict";Ge();Ue();qe();Mr()});var we=h(()=>{"use strict";pt();Ch();ha();aC();Hi();mh();RC();FC();Yo();UC();zl();qC();WC();Ko();KC();YC();kC();NC();va();QC();ZC();jh();Uh();nb();qh();sb();es();Gh();Qo();Zh();pb();tg();_a();ng();rg()});var ai=h(()=>{"use strict";jh();Uh();Gl();qh();es();Gh();ab();cb();Qo();zh();$l();Jo();db();Zh();_h();fb();hb();tg();_a();Kh();ng();rg()});function Vu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ta(n){return{toString:n}.toString()}function yP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function iw(n,e,t){return Ta(()=>{let r=yP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Yl)?c[Yl]:Object.defineProperty(c,Yl,{value:[]})[Yl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function _P(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Rt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function yg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function vn(n){return n.__forward_ref__=vn,n.toString=function(){return Rt(this())},n}function Nt(n){return ow(n)?n():n}function ow(n){return typeof n=="function"&&n.hasOwnProperty(CP)&&n.__forward_ref__===vn}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function ju(n){return gb(n,aw)||gb(n,cw)}function sw(n){return ju(n)!==null}function gb(n,e){return n.hasOwnProperty(e)?n[e]:null}function bP(n){let e=n&&(n[aw]||n[cw]);return e||null}function mb(n){return n&&(n.hasOwnProperty(vb)||n.hasOwnProperty(wP))?n[vb]:null}function lw(n){return n&&!!n.\u0275providers}function Pa(n){return typeof n=="string"?n:n==null?"":String(n)}function xP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Pa(n)}function IP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,n)}function gm(n,e){throw new x(-201,!1)}function uw(){return _g}function Ht(n){let e=_g;return _g=n,e}function dw(n,e,t){let r=ju(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;gm(n,"Injector")}function kP(){return ss}function ci(n){let e=ss;return ss=n,e}function NP(n,e=ce.Default){if(ss===void 0)throw new x(-203,!1);return ss===null?dw(n,void 0,e):ss.get(n,e&ce.Optional?null:void 0,e)}function F(n,e=ce.Default){return(uw()||NP)(Nt(n),e)}function _(n,e=ce.Default){return F(n,Uu(e))}function Uu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bg(n){let e=[];for(let t=0;t<n.length;t++){let r=Nt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=RP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function fw(n,e){return n[Cg]=e,n.prototype[Cg]=e,n}function RP(n){return n[Cg]}function FP(n,e,t,r){let i=n[lu];throw e[_b]&&i.unshift(e[_b]),n.message=LP(`
`+n.message,i,t,r),n[TP]=i,n[lu]=null,n}function LP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==AP?n.slice(2):n;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(PP,`
  `)}`}function eo(n,e){let t=n.hasOwnProperty(cu);return t?n[cu]:null}function VP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function jP(n){return n.flat(Number.POSITIVE_INFINITY)}function vm(n,e){n.forEach(t=>Array.isArray(t)?vm(t,e):e(t))}function pw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function uu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function UP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ym(n,e,t){let r=Aa(n,e);return r>=0?n[r|1]=t:(r=~r,UP(n,r,e,t)),r}function ig(n,e){let t=Aa(n,e);if(t>=0)return n[t|1]}function Aa(n,e){return BP(n,e,1)}function BP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function $P(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function wg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];zP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function vw(n){return n===3||n===4||n===6}function zP(n){return n.charCodeAt(0)===64}function Da(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Cb(n,t,i,null,e[++r]):Cb(n,t,i,null,null))}}return n}function Cb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function HP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$P(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(_m(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function _m(n){return n.type===4&&n.value!==yw}function qP(n,e,t){let r=n.type===4&&!t?yw:n.value;return e===r}function WP(n,e,t){let r=4,i=n.attrs,o=i!==null?YP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Fn(r)&&!Fn(c))return!1;if(s&&Fn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!qP(n,c,t)||c===""&&e.length===1){if(Fn(r))return!1;s=!0}}else if(r&8){if(i===null||!HP(n,i,c,t)){if(Fn(r))return!1;s=!0}}else{let l=e[++a],u=GP(c,i,_m(n),t);if(u===-1){if(Fn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Fn(r))return!1;s=!0}}}}return Fn(r)||s}function Fn(n){return(n&1)===0}function GP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return QP(e,n)}function KP(n,e,t=!1){for(let r=0;r<e.length;r++)if(WP(n,e[r],t))return!0;return!1}function YP(n){for(let e=0;e<n.length;e++){let t=n[e];if(vw(t))return e}return n.length}function QP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function bb(n,e){return n?":not("+e.trim()+")":e}function ZP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Fn(s)&&(e+=bb(o,i),i=""),r=s,o=o||!Fn(r);t++}return i!==""&&(e+=bb(o,i)),e}function JP(n){return n.map(ZP).join(",")}function XP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Fn(i))break;i=o}r++}return{attrs:e,classes:t}}function Z(n){return Ta(()=>{let e=Ew(n),t=B(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,styles:n.styles||qt,_:null,schemas:n.schemas||null,tView:null,id:""});Mw(t);let r=n.dependencies;return t.directiveDefs=fu(r,!1),t.pipeDefs=fu(r,!0),t.id=n1(t),t})}function e1(n){return fi(n)||_w(n)}function t1(n){return n!==null}function Qe(n){return Ta(()=>({type:n.type,bootstrap:n.bootstrap||qt,declarations:n.declarations||qt,imports:n.imports||qt,exports:n.exports||qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wb(n,e){if(n==null)return cs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=di.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==di.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ae(n){return Ta(()=>{let e=Ew(n);return Mw(e),e})}function lo(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function fi(n){return n[EP]||null}function _w(n){return n[MP]||null}function Cw(n){return n[DP]||null}function bw(n){let e=fi(n)||_w(n)||Cw(n);return e!==null?e.standalone:!1}function ww(n,e){let t=n[SP]||null;if(!t&&e===!0)throw new Error(`Type ${Rt(n)} does not have '\u0275mod' property.`);return t}function Ew(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||cs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wb(n.inputs,e),outputs:wb(n.outputs),debugInfo:null}}function Mw(n){n.features?.forEach(e=>e(n))}function fu(n,e){if(!n)return null;let t=e?Cw:e1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(t1)}function n1(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ys(n){return{\u0275providers:n}}function r1(...n){return{\u0275providers:Dw(!0,n),\u0275fromNgModule:!0}}function Dw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return vm(e,s=>{let a=s;Eg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Sw(i,o),t}function Sw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Cm(i,o=>{e(o,r)})}}function Eg(n,e,t,r){if(n=Nt(n),!n)return!1;let i=null,o=mb(n),s=!o&&fi(n);if(!o&&!s){let c=n.ngModule;if(o=mb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Eg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{vm(o.imports,u=>{Eg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Sw(l,e)}if(!a){let l=eo(i)||(()=>new i);e({provide:i,useFactory:l,deps:qt},i),e({provide:gw,useValue:i,multi:!0},i),e({provide:ls,useValue:()=>F(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Cm(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Cm(n,e){for(let t of n)lw(t)&&(t=t.\u0275providers),Array.isArray(t)?Cm(t,e):e(t)}function xw(n){return n!==null&&typeof n=="object"&&i1 in n}function o1(n){return!!(n&&n.useExisting)}function s1(n){return!!(n&&n.useFactory)}function us(n){return typeof n=="function"}function a1(n){return!!n.useClass}function bm(){return og===void 0&&(og=new du),og}function Mg(n){let e=ju(n),t=e!==null?e.factory:eo(n);if(t!==null)return t;if(n instanceof L)throw new x(204,!1);if(n instanceof Function)return l1(n);throw new x(204,!1)}function l1(n){if(n.length>0)throw new x(204,!1);let t=bP(n);return t!==null?()=>t.factory(n):()=>new n}function u1(n){if(xw(n))return ns(void 0,n.useValue);{let e=Iw(n);return ns(e,ru)}}function Iw(n,e,t){let r;if(us(n)){let i=Nt(n);return eo(i)||Mg(i)}else if(xw(n))r=()=>Nt(n.useValue);else if(s1(n))r=()=>n.useFactory(...bg(n.deps||[]));else if(o1(n))r=()=>F(Nt(n.useExisting));else{let i=Nt(n&&(n.useClass||n.provide));if(d1(n))r=()=>new i(...bg(n.deps));else return eo(i)||Mg(i)}return r}function ns(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function d1(n){return!!n.deps}function f1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function p1(n){return typeof n=="function"||typeof n=="object"&&n instanceof L}function Dg(n,e){for(let t of n)Array.isArray(t)?Dg(t,e):t&&lw(t)?Dg(t.\u0275providers,e):e(t)}function yn(n,e){n instanceof Sa&&n.assertNotDestroyed();let t,r=ci(n),i=Ht(void 0);try{return e()}finally{ci(r),Ht(i)}}function Ow(){return uw()!==void 0||kP()!=null}function wm(n){if(!Ow())throw new x(-203,!1)}function h1(n){let e=_t.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function g1(n){return typeof n=="function"}function ui(n){return Array.isArray(n)&&typeof n[Pw]=="object"}function Pr(n){return Array.isArray(n)&&n[Pw]===!0}function Em(n){return(n.flags&4)!==0}function Hu(n){return n.componentOffset>-1}function qu(n){return(n.flags&1)===1}function pi(n){return!!n.template}function Sg(n){return(n[Q]&512)!==0}function Aw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Bn(){return kw}function kw(n){return n.type.prototype.ngOnChanges&&(n.setInput=v1),m1}function m1(){let n=Rw(this),e=n?.current;if(e){let t=n.previous;if(t===cs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function v1(n,e,t,r,i){let o=this.declaredInputs[r],s=Rw(n)||y1(n,{previous:cs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new xg(l&&l.currentValue,t,c===cs),Aw(n,e,i,t)}function Rw(n){return n[Nw]||null}function y1(n,e){return n[Nw]=e}function ur(n){for(;Array.isArray(n);)n=n[Tr];return n}function Fw(n,e){return ur(e[n])}function _n(n,e){return ur(e[n.index])}function Lw(n,e){return n.data[e]}function Vw(n,e){return n[e]}function yi(n,e){let t=e[n];return ui(t)?t:t[Tr]}function b1(n){return(n[Q]&4)===4}function Mm(n){return(n[Q]&128)===128}function w1(n){return Pr(n[Ot])}function ps(n,e){return e==null?null:n[e]}function jw(n){n[rs]=0}function Uw(n){n[Q]&1024||(n[Q]|=1024,Mm(n)&&Gu(n))}function E1(n,e){for(;n>0;)e=e[_s],n--;return e}function Wu(n){return!!(n[Q]&9216||n[gn]?.dirty)}function Ig(n){n[cr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Wu(n)&&Gu(n)}function Gu(n){n[cr].changeDetectionScheduler?.notify(0);let e=ro(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Mm(e)));)e=ro(e)}function Bw(n,e){if((n[Q]&256)===256)throw new x(911,!1);n[li]===null&&(n[li]=[]),n[li].push(e)}function M1(n,e){if(n[li]===null)return;let t=n[li].indexOf(e);t!==-1&&n[li].splice(t,1)}function ro(n){let e=n[Ot];return Pr(e)?e[Ot]:e}function D1(){return le.lFrame.elementDepthCount}function S1(){le.lFrame.elementDepthCount++}function x1(){le.lFrame.elementDepthCount--}function zw(){return le.bindingsEnabled}function I1(){return le.skipHydrationRootTNode!==null}function O1(n){return le.skipHydrationRootTNode===n}function T1(){le.skipHydrationRootTNode=null}function de(){return le.lFrame.lView}function tt(){return le.lFrame.tView}function O(n){return le.lFrame.contextLView=n,n[jn]}function T(n){return le.lFrame.contextLView=null,n}function Ct(){let n=Hw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Hw(){return le.lFrame.currentTNode}function P1(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function uo(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Dm(){return le.lFrame.isParent}function qw(){le.lFrame.isParent=!1}function A1(){return le.lFrame.contextLView}function Ww(){return $w}function Db(n){$w=n}function Ku(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function k1(n){return le.lFrame.bindingIndex=n}function Yu(){return le.lFrame.bindingIndex++}function Gw(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function N1(){return le.lFrame.inI18n}function R1(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Og(e)}function F1(){return le.lFrame.currentDirectiveIndex}function Og(n){le.lFrame.currentDirectiveIndex=n}function L1(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Kw(){return le.lFrame.currentQueryIndex}function Sm(n){le.lFrame.currentQueryIndex=n}function V1(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Un]:null}function Yw(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=V1(o),i===null||(o=o[_s],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=Qw();return r.currentTNode=e,r.lView=n,!0}function xm(n){let e=Qw(),t=n[ie];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Qw(){let n=le.lFrame,e=n===null?null:n.child;return e===null?Zw(n):e}function Zw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Jw(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function Im(){let n=Jw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function j1(n){return(le.lFrame.contextLView=E1(n,le.lFrame.contextLView))[jn]}function fo(){return le.lFrame.selectedIndex}function io(n){le.lFrame.selectedIndex=n}function Om(){let n=le.lFrame;return Lw(n.tView,n.selectedIndex)}function U1(){return le.lFrame.currentNamespace}function Qu(){return eE}function Zu(n){eE=n}function B1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=kw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Ju(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function iu(n,e,t){tE(n,e,3,t)}function ou(n,e,t,r){(n[Q]&3)===t&&tE(n,e,t,r)}function ag(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function tE(n,e,t,r){let i=r!==void 0?n[rs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[rs]+=65536),(a<o||o==-1)&&($1(n,t,e,c),n[rs]=(n[rs]&4294901760)+c+2),c++}function Sb(n,e){or(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),or(5,n,e)}}function $1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[rs]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,Sb(a,o)):Sb(a,o)}function z1(n){return n instanceof oo}function H1(n){return(n.flags&8)!==0}function q1(n){return(n.flags&16)!==0}function nE(n){return n!==as}function vu(n){return n&32767}function W1(n){return n>>16}function yu(n,e){let t=W1(n),r=e;for(;t>0;)r=r[_s],t--;return r}function _u(n){let e=Pg;return Pg=n,e}function Y1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(wa)&&(r=t[wa]),r==null&&(r=t[wa]=K1++);let i=r&rE,o=1<<i;e.data[n+(i>>iE)]|=o}function Cu(n,e){let t=oE(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,lg(r.data,n),lg(e,null),lg(r.blueprint,null));let i=Tm(n,e),o=n.injectorIndex;if(nE(i)){let s=vu(i),a=yu(i,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function lg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Tm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=uE(i),r===null)return as;if(t++,i=i[_s],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return as}function Ag(n,e,t){Y1(n,e,t)}function Q1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(vw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function sE(n,e,t){if(t&ce.Optional||n!==void 0)return n;gm(e,"NodeInjector")}function aE(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[ds],o=Ht(void 0);try{return i?i.get(e,r,t&ce.Optional):dw(e,r,t&ce.Optional)}finally{Ht(o)}}return sE(r,e,t)}function cE(n,e,t,r=ce.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ce.Self)){let s=eA(n,e,t,r,sr);if(s!==sr)return s}let o=lE(n,e,t,r,sr);if(o!==sr)return o}return aE(e,t,r,i)}function lE(n,e,t,r,i){let o=J1(t);if(typeof o=="function"){if(!Yw(e,n,r))return r&ce.Host?sE(i,t,r):aE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))gm(t);else return s}finally{Xw()}}else if(typeof o=="number"){let s=null,a=oE(n,e),c=as,l=r&ce.Host?e[lr][Un]:null;for((a===-1||r&ce.SkipSelf)&&(c=a===-1?Tm(n,e):e[a+8],c===as||!Ib(r,!1)?a=-1:(s=e[ie],a=vu(c),e=yu(c,e)));a!==-1;){let u=e[ie];if(xb(o,a,u.data)){let d=Z1(a,e,t,s,r,l);if(d!==sr)return d}c=e[a+8],c!==as&&Ib(r,e[ie].data[a+8]===l)&&xb(o,a,e)?(s=u,a=vu(c),e=yu(c,e)):a=-1}}return i}function Z1(n,e,t,r,i,o){let s=e[ie],a=s.data[n+8],c=r==null?Hu(a)&&Pg:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,u=su(a,s,t,c,l);return u!==null?so(e,s,u,a):sr}function su(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,v=i?a+u:l;for(let g=d;g<v;g++){let b=s[g];if(g<c&&t===b||g>=c&&b.type===t)return g}if(i){let g=s[c];if(g&&pi(g)&&g.type===t)return c}return null}function so(n,e,t,r){let i=n[t],o=e.data;if(z1(i)){let s=i;s.resolving&&IP(xP(o[t]));let a=_u(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ht(s.injectImpl):null,u=Yw(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&B1(t,o[t],e)}finally{l!==null&&Ht(l),_u(a),s.resolving=!1,Xw()}}return i}function J1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(wa)?n[wa]:void 0;return typeof e=="number"?e>=0?e&rE:X1:e}function xb(n,e,t){let r=1<<n;return!!(t[e+(n>>iE)]&r)}function Ib(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}function X1(){return new Xi(Ct(),de())}function Ar(n){return Ta(()=>{let e=n.prototype.constructor,t=e[cu]||kg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[cu]||kg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kg(n){return ow(n)?()=>{let e=kg(Nt(n));return e&&e()}:eo(n)}function eA(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=lE(o,s,t,r|ce.Self,sr);if(a!==sr)return a;let c=o.parent;if(!c){let l=s[Tw];if(l){let u=l.get(t,sr,r);if(u!==sr)return u}c=uE(s),s=s[_s]}o=c}return i}function uE(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Un]:null}function Pm(n){return Q1(Ct(),n)}function Ob(n,e=null,t=null,r){let i=dE(n,e,t,r);return i.resolveInjectorInitializers(),i}function dE(n,e=null,t=null,r,i=new Set){let o=[t||qt,r1(n)];return r=r||(typeof n=="object"?void 0:Rt(n)),new Sa(o,e||bm(),r||null,i)}function ug(n){return n[nA]}function rA(){return new Ng(de())}function bu(...n){}function pE(n){let e,t;function r(){n=bu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Tb(n){return queueMicrotask(()=>n()),()=>{n=bu}}function km(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pE(()=>{n.callbackScheduled=!1,Fg(n),n.isCheckStableRunning=!0,km(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Fg(n)}function aA(n){let e=()=>{sA(n)},t=iA++;n._inner=n._inner.fork({name:"angular",properties:{[Am]:!0,[wu]:t,[wu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(cA(c))return r.invokeTask(o,s,a,c);try{return Pb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Ab(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Pb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!lA(c)&&e(),Ab(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Fg(n),km(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Fg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Pb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ab(n){n._nesting--,km(n)}function cA(n){return hE(n,"__ignore_ng_zone__")}function lA(n){return hE(n,"__scheduler_tick__")}function hE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function uA(n="zone.js",e){return n==="noop"?new Eu:n==="zone.js"?new _e(e):n}function fA(){return Cs(Ct(),de())}function Cs(n,e){return new bt(_n(n,e))}function pA(n){return n instanceof bt?n.nativeElement:n}function hA(){return this._results[Symbol.iterator]()}function gE(n){return(n.flags&128)===128}function mA(){return gA++}function vA(n){mE.set(n[zu],n)}function Vg(n){mE.delete(n[zu])}function hi(n,e){ui(e)?(n[kb]=e[zu],vA(e)):n[kb]=e}function vE(n){return _E(n[xa])}function yE(n){return _E(n[Vn])}function _E(n){for(;n!==null&&!Pr(n);)n=n[Vn];return n}function CE(n){jg=n}function bE(){if(jg!==void 0)return jg;if(typeof document<"u")return document;throw new x(210,!1)}function Lm(n,e,t=!1){return bA(n,e,t)}function EA(){if(Ql===void 0&&(Ql=null,_t.trustedTypes))try{Ql=_t.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ql}function ed(n){return EA()?.createHTML(n)||n}function EE(){if(Zl===void 0&&(Zl=null,_t.trustedTypes))try{Zl=_t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zl}function Nb(n){return EE()?.createHTML(n)||n}function Rb(n){return EE()?.createScriptURL(n)||n}function po(n){return n instanceof Mu?n.changingThisBreaksApplicationSecurity:n}function td(n,e){let t=MA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rw})`)}return t===e}function MA(n){return n instanceof Mu&&n.getTypeName()||null}function DA(n){let e=new Bg(n);return SA()?new Ug(e):e}function SA(){try{return!!new window.DOMParser().parseFromString(ed(""),"text/html")}catch{return!1}}function Vm(n){return n=String(n),n.match(xA)?n:"unsafe:"+n}function Nr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function ka(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}function RA(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function FA(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw IE(e);return e}function LA(n){let e=n.firstChild;if(e&&RA(n,e))throw IE(e);return e}function Lb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function IE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}function Vb(n){return n.replace(/&/g,"&amp;").replace(VA,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(jA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function OE(n,e){let t=null;try{Jl=Jl||DA(n);let r=e?String(e):"";t=Jl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Jl.getInertBodyElement(r)}while(r!==o);let a=new $g().sanitizeChildren(jb(t)||t);return ed(a)}finally{if(t){let r=jb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function jb(n){return"content"in n&&UA(n)?n.content:null}function UA(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function nd(n){let e=jm();return e?Nb(e.sanitize(Na.HTML,n)||""):td(n,"HTML")?Nb(po(n)):OE(bE(),Pa(n))}function Ie(n){let e=jm();return e?e.sanitize(Na.URL,n)||"":td(n,"URL")?po(n):Vm(Pa(n))}function BA(n){let e=jm();if(e)return Rb(e.sanitize(Na.RESOURCE_URL,n)||"");if(td(n,"ResourceURL"))return Rb(po(n));throw new x(904,!1)}function $A(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?BA:Ie}function TE(n,e,t){return $A(e,t)(n)}function jm(){let n=de();return n&&n[cr].sanitizer}function WA(n){return n.replace(zA,e=>e.replace(HA,qA))}function PE(n){return n instanceof Function?n():n}function GA(n){return(n??_(et)).get(Xt)==="browser"}function Um(n,e){return KA(n,e)}function is(n,e,t,r,i){if(r!=null){let o,s=!1;Pr(r)?o=r:ui(r)&&(s=!0,r=r[Tr]);let a=ur(r);n===0&&t!==null?i==null?FE(e,t,a):Du(e,t,a,i||null,!0):n===1&&t!==null?Du(e,t,a,i||null,!0):n===2?uk(e,a,s):n===3&&e.destroyNode(a),o!=null&&fk(e,n,o,t,i)}}function YA(n,e){return n.createText(e)}function QA(n,e,t){n.setValue(e,t)}function ZA(n,e){return n.createComment(WA(e))}function AE(n,e,t){return n.createElement(e,t)}function JA(n,e){kE(n,e),e[Tr]=null,e[Un]=null}function XA(n,e,t,r,i,o){r[Tr]=i,r[Un]=e,id(n,r,t,1,i,o)}function kE(n,e){e[cr].changeDetectionScheduler?.notify(9),id(n,e,e[Ke],2,null,null)}function ek(n){let e=n[xa];if(!e)return dg(n[ie],n);for(;e;){let t=null;if(ui(e))t=e[xa];else{let r=e[Jt];r&&(t=r)}if(!t){for(;e&&!e[Vn]&&e!==n;)ui(e)&&dg(e[ie],e),e=e[Ot];e===null&&(e=n),ui(e)&&dg(e[ie],e),t=e&&e[Vn]}e=t}}function tk(n,e,t,r){let i=Jt+r,o=t.length;r>0&&(t[i-1][Vn]=e),r<o-Jt?(e[Vn]=t[i],pw(t,Jt+r,e)):(t.push(e),e[Vn]=null),e[Ot]=t;let s=e[to];s!==null&&t!==s&&NE(s,e);let a=e[Sr];a!==null&&a.insertView(n),Ig(e),e[Q]|=128}function NE(n,e){let t=n[fs],r=e[Ot];if(ui(r))n[Q]|=mu.HasTransplantedViews;else{let i=r[Ot][lr];e[lr]!==i&&(n[Q]|=mu.HasTransplantedViews)}t===null?n[fs]=[e]:t.push(e)}function Bm(n,e){let t=n[fs],r=t.indexOf(e);t.splice(r,1)}function zg(n,e){if(n.length<=Jt)return;let t=Jt+e,r=n[t];if(r){let i=r[to];i!==null&&i!==n&&Bm(i,r),e>0&&(n[t-1][Vn]=r[Vn]);let o=uu(n,Jt+e);JA(r[ie],r);let s=o[Sr];s!==null&&s.detachView(o[ie]),r[Ot]=null,r[Vn]=null,r[Q]&=-129}return r}function RE(n,e){if(!(e[Q]&256)){let t=e[Ke];t.destroyNode&&id(n,e,t,3,null,null),ek(e)}}function dg(n,e){if(e[Q]&256)return;let t=ye(null);try{e[Q]&=-129,e[Q]|=256,e[gn]&&oh(e[gn]),rk(n,e),nk(n,e),e[ie].type===1&&e[Ke].destroy();let r=e[to];if(r!==null&&Pr(e[Ot])){r!==e[Ot]&&Bm(r,e);let i=e[Sr];i!==null&&i.detachView(n)}Vg(e)}finally{ye(t)}}function nk(n,e){let t=n.cleanup,r=e[hu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[hu]=null);let i=e[li];if(i!==null){e[li]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function rk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof oo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];or(4,a,c);try{c.call(a)}finally{or(5,a,c)}}else{or(4,i,o);try{o.call(i)}finally{or(5,i,o)}}}}}function ik(n,e,t){return ok(n,e.parent,t)}function ok(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Tr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===ar.None||o===ar.Emulated)return null}return _n(r,t)}}function Du(n,e,t,r,i){n.insertBefore(e,t,r,i)}function FE(n,e,t){n.appendChild(e,t)}function Ub(n,e,t,r,i){r!==null?Du(n,e,t,r,i):FE(n,e,t)}function LE(n,e){return n.parentNode(e)}function sk(n,e){return n.nextSibling(e)}function ak(n,e,t){return lk(n,e,t)}function ck(n,e,t){return n.type&40?_n(n,t):null}function rd(n,e,t,r){let i=ik(n,r,e),o=e[Ke],s=r.parent||e[Un],a=ak(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Ub(o,i,t[c],a,!1);else Ub(o,i,t,a,!1);Bb!==void 0&&Bb(o,r,e,t,i)}function ba(n,e){if(e!==null){let t=e.type;if(t&3)return _n(e,n);if(t&4)return Hg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ba(n,r);{let i=n[e.index];return Pr(i)?Hg(-1,i):ur(i)}}else{if(t&128)return ba(n,e.next);if(t&32)return Um(e,n)()||ur(n[e.index]);{let r=VE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ro(n[lr]);return ba(i,r)}else return ba(n,e.next)}}}return null}function VE(n,e){if(e!==null){let r=n[lr][Un],i=e.projection;return r.projection[i]}return null}function Hg(n,e){let t=Jt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return ba(r,i)}return e[no]}function uk(n,e,t){n.removeChild(null,e,t)}function $m(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&hi(ur(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)$m(n,e,t.child,r,i,o,!1),is(e,n,i,a,o);else if(c&32){let l=Um(t,r),u;for(;u=l();)is(e,n,i,u,o);is(e,n,i,a,o)}else c&16?dk(n,e,r,t,i,o):is(e,n,i,a,o);t=s?t.projectionNext:t.next}}function id(n,e,t,r,i,o){$m(t,r,n.firstChild,e,i,o,!1)}function dk(n,e,t,r,i,o){let s=t[lr],c=s[Un].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];is(e,n,i,u,o)}else{let l=c,u=s[Ot];gE(r)&&(l.flags|=128),$m(n,e,l,u,i,o,!0)}}function fk(n,e,t,r,i){let o=t[no],s=ur(t);o!==s&&is(e,n,r,o,i);for(let a=Jt;a<t.length;a++){let c=t[a];id(c[ie],c,n,e,r,o)}}function pk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),n.setStyle(t,r,i,o))}}function hk(n,e,t){n.setAttribute(e,"style",t)}function jE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function UE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&wg(n,e,r),i!==null&&jE(n,e,i),o!==null&&hk(n,e,o)}function m(n=1){BE(tt(),de(),fo()+n,!1)}function BE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&iu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ou(e,o,0,t)}io(t)}function D(n,e=ce.Default){let t=de();if(t===null)return F(n,e);let r=Ct();return cE(r,t,Nt(n),e)}function $E(){let n="invalid";throw new Error(n)}function zE(n,e,t,r,i,o){let s=ye(null);try{let a=null;i&di.SignalBased&&(a=e[r][wr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&di.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):Aw(e,a,r,o)}finally{ye(s)}}function gk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)io(~i);else{let o=i,s=t[++r],a=t[++r];R1(s,o);let c=e[o];a(2,c)}}}finally{io(-1)}}function od(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Tr]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),jw(d),d[Ot]=d[_s]=n,d[jn]=t,d[cr]=s||n&&n[cr],d[Ke]=a||n&&n[Ke],d[ds]=c||n&&n[ds]||null,d[Un]=o,d[zu]=mA(),d[pu]=u,d[Tw]=l,d[lr]=e.type==2?n[lr]:d,d}function Ra(n,e,t,r,i){let o=n.data[e];if(o===null)o=mk(n,e,t,r,i),N1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=P1();o.injectorIndex=s===null?-1:s.injectorIndex}return uo(o,!0),o}function mk(n,e,t,r,i){let o=Hw(),s=Dm(),a=s?o:o&&o.parent,c=n.data[e]=wk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function HE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qE(n,e,t,r,i){let o=fo(),s=r&2;try{io(-1),s&&e.length>mn&&BE(n,e,mn,!1),or(s?2:0,i),t(r,i)}finally{io(o),or(s?3:1,i)}}function zm(n,e,t){if(Em(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ye(r)}}}function Hm(n,e,t){zw()&&(Ik(n,e,t,_n(t,e)),(t.flags&64)===64&&YE(n,e,t))}function qm(n,e,t=_n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function WE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Wm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Wm(n,e,t,r,i,o,s,a,c,l,u){let d=mn+r,v=d+i,g=vk(d,v),b=typeof l=="function"?l():l;return g[ie]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}function vk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:dr);return t}function yk(n,e,t,r){let o=r.get(wA,wE)||t===ar.ShadowDom,s=n.selectRootElement(e,o);return _k(s),s}function _k(n){Ck(n)}function bk(n,e,t,r){let i=JE(e);i.push(t),n.firstCreatePass&&XE(n).push(r,i.length-1)}function wk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return I1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $b(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=di.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?zb(r,t,l,a,c):zb(r,t,l,a)}return r}function zb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function Ek(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],v=t?t.get(d):null,g=v?v.inputs:null,b=v?v.outputs:null;c=$b(0,d.inputs,u,c,g),l=$b(1,d.outputs,u,l,b);let E=c!==null&&s!==null&&!_m(e)?jk(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Mk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function GE(n,e,t,r,i,o,s,a){let c=_n(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Km(n,t,u,r,i),Hu(e)&&Dk(t,e.index)):e.type&3?(r=Mk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Dk(n,e){let t=yi(e,n);t[Q]&16||(t[Q]|=64)}function Gm(n,e,t,r){if(zw()){let i=r===null?null:{"":-1},o=Tk(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&KE(n,e,t,s,i,a),i&&Pk(t,r,i)}t.mergedAttrs=Da(t.mergedAttrs,t.attrs)}function KE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Ag(Cu(t,e),n,r[l].type);kk(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=HE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=Da(t.mergedAttrs,u.hostAttrs),Nk(n,t,e,c,u),Ak(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}Ek(n,t,o)}function Sk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;xk(s)!=a&&s.push(a),s.push(t,r,o)}}function xk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Ik(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Hu(t)&&Rk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Cu(t,e),hi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=so(e,n,a,t);if(hi(l,e),s!==null&&Vk(e,a-i,l,c,t,s),pi(c)){let u=yi(t.index,e);u[jn]=so(e,n,a,t)}}}function YE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=F1();try{io(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Og(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ok(c,l)}}finally{io(-1),Og(s)}}function Ok(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Tk(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(KP(e,s.selectors,!1))if(r||(r=[]),pi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;qg(n,e,c)}else r.unshift(s),qg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function qg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Pk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}}function Ak(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;pi(e)&&(t[""]=n)}}function kk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Nk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=eo(i.type,!0)),s=new oo(o,pi(i),D);n.blueprint[r]=s,t[r]=s,Sk(n,e,r,HE(n,t,i.hostVars,dr),i)}function Rk(n,e,t){let r=_n(e,n),i=WE(t),o=n[cr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=sd(n,od(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function Fk(n,e,t,r,i,o){let s=_n(n,e);Lk(e[Ke],s,o,n.value,t,r,i)}function Lk(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Pa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Vk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];zE(r,t,c,l,u,d)}}function jk(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function QE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ZE(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Sm(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function sd(n,e){return n[xa]?n[Eb][Vn]=e:n[xa]=e,n[Eb]=e,e}function Wg(n,e,t){Sm(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function JE(n){return n[hu]??=[]}function XE(n){return n.cleanup??=[]}function eM(n,e){let t=n[ds],r=t?t.get(xr,null):null;r&&r.handleError(e)}function Km(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];zE(u,l,r,a,c,i)}}function Uk(n,e,t){let r=Fw(e,n);QA(n[Ke],r,t)}function Bk(n,e){let t=yi(e,n),r=t[ie];$k(r,t);let i=t[Tr];i!==null&&t[pu]===null&&(t[pu]=Lm(i,t[ds])),Ym(r,t,t[jn])}function $k(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ym(n,e,t){xm(e);try{let r=n.viewQuery;r!==null&&Wg(1,r,t);let i=n.template;i!==null&&qE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Sr]?.finishViewCreation(n),n.staticContentQueries&&ZE(n,e),n.staticViewQueries&&Wg(2,n.viewQuery,t);let o=n.components;o!==null&&zk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Im()}}function zk(n,e){for(let t=0;t<e.length;t++)Bk(n,e[t])}function Hk(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=od(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[to]=l;let u=n[Sr];return u!==null&&(c[Sr]=u.createEmbeddedView(o)),Ym(o,c,t),c}finally{ye(i)}}function Hb(n,e){return!e||e.firstChild===null||gE(n)}function qk(n,e,t,r=!0){let i=e[ie];if(tk(i,e,n,t),r){let s=Hg(t,n),a=e[Ke],c=LE(a,n[no]);c!==null&&XA(i,n[Un],a,e,c,s)}let o=e[pu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Su(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ur(o)),Pr(o)&&Wk(o,r);let s=t.type;if(s&8)Su(n,e,t.child,r);else if(s&32){let a=Um(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=VE(e,t);if(Array.isArray(a))r.push(...a);else{let c=ro(e[lr]);Su(c[ie],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Wk(n,e){for(let t=Jt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&Su(r[ie],r,i,e)}n[no]!==n[Tr]&&e.push(n[no])}function Gk(n){return n[gn]??Kk(n)}function Kk(n){let e=tM.pop()??Object.create(Qk);return e.lView=n,e}function Yk(n){n.lView[gn]!==n&&(n.lView=null,tM.push(n))}function Zk(n){let e=n[gn]??Object.create(Jk);return e.lView=n,e}function nM(n){return n.type!==2}function rM(n,e=!0,t=0){let r=n[cr],i=r.rendererFactory,o=!1;o||i.begin?.();try{eN(n,t)}catch(s){throw e&&eM(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function eN(n,e){let t=Ww();try{Db(!0),Gg(n,e);let r=0;for(;Wu(n);){if(r===Xk)throw new x(103,!1);r++,Gg(n,1)}}finally{Db(t)}}function tN(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[cr].inlineEffectRunner?.flush(),xm(e);let a=!0,c=null,l=null;o||(nM(n)?(l=Gk(e),c=al(l)):F0()===null?(a=!1,l=Zk(e),c=al(l)):e[gn]&&(oh(e[gn]),e[gn]=null));try{jw(e),k1(n.bindingStartIndex),t!==null&&qE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&iu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&ou(e,g,0,null),ag(e,0)}if(s||nN(e),iM(e,0),n.contentQueries!==null&&ZE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&iu(e,g)}else{let g=n.contentHooks;g!==null&&ou(e,g,1),ag(e,1)}gk(n,e);let d=n.components;d!==null&&sM(e,d,0);let v=n.viewQuery;if(v!==null&&Wg(2,v,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&iu(e,g)}else{let g=n.viewHooks;g!==null&&ou(e,g,2),ag(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[sg]){for(let g of e[sg])g();e[sg]=null}o||(e[Q]&=-73)}catch(u){throw o||Gu(e),u}finally{l!==null&&(rh(l,c),a&&Yk(l)),Im()}}function iM(n,e){for(let t=vE(n);t!==null;t=yE(t))for(let r=Jt;r<t.length;r++){let i=t[r];oM(i,e)}}function nN(n){for(let e=vE(n);e!==null;e=yE(e)){if(!(e[Q]&mu.HasTransplantedViews))continue;let t=e[fs];for(let r=0;r<t.length;r++){let i=t[r];Uw(i)}}}function rN(n,e,t){let r=yi(e,n);oM(r,t)}function oM(n,e){Mm(n)&&Gg(n,e)}function Gg(n,e){let r=n[ie],i=n[Q],o=n[gn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ih(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)tN(r,n,r.template,n[jn]);else if(i&8192){iM(n,1);let a=r.components;a!==null&&sM(n,a,1)}}function sM(n,e,t){for(let r=0;r<e.length;r++)rN(n,e[r],t)}function Qm(n,e){let t=Ww()?64:1088;for(n[cr].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=ro(n);if(Sg(n)&&!r)return n;n=r}return null}function sN(){return ad(Ct(),de())}function ad(n,e){return n.type&4?new oN(e,n,Cs(n,e)):null}function qb(n,e){return aN(n,e)}function cN(n){let e=Error(`No component factory found for ${Rt(n)}.`);return e[lN]=n,e}function uN(){let n=de(),e=Ct(),t=yi(e.index,n);return(ui(t)?t:n)[Ke]}function Iu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=yg(i,a);else if(o==2){let c=a,l=e[++s];r=yg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Wb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:di.None;e?t.push({propName:s,templateName:r,isSignal:(a&di.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function fN(n){let e=n.toLowerCase();return e==="svg"?_1:e==="math"?C1:null}function pN(n,e){let t=n[ie],r=mn;return n[r]=e,Ra(t,r,2,"#host",null)}function hN(n,e,t,r,i,o,s){let a=i[ie];gN(r,n,e,s);let c=null;e!==null&&(c=Lm(e,i[ds]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=od(i,WE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&qg(a,n,r.length-1),sd(i,d),i[n.index]=d}function gN(n,e,t,r){for(let i of n)e.mergedAttrs=Da(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Iu(e,e.mergedAttrs,!0),t!==null&&UE(r,t,e))}function mN(n,e,t,r,i,o){let s=Ct(),a=i[ie],c=_n(s,i);KE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,v=so(i,a,d,s);hi(v,i)}YE(a,i,s),c&&hi(c,i);let l=so(i,a,s.directiveStart+s.componentOffset,s);if(n[jn]=i[jn]=l,o!==null)for(let u of o)u(l,e);return zm(a,s,i),l}function vN(n,e,t,r){if(r)wg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=XP(e.selectors[0]);i&&wg(n,t,i),o&&o.length>0&&jE(n,t,o.join(" "))}}function yN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function _N(){let n=Ct();Ju(de()[ie],n)}function CN(){let n=Ct();return uM(n,de())}function Gb(n){return n[gu]}function fg(n){return n[gu]||(n[gu]=[])}function uM(n,e){let t,r=e[n.index];return Pr(r)?t=r:(t=QE(r,e,null,n),e[n.index]=t,sd(e,t)),EN(t,e,n,r),new lM(t,n,e)}function wN(n,e){let t=n[Ke],r=t.createComment(""),i=_n(e,n),o=LE(t,i);return Du(t,o,r,sk(t,i),!1),r}function DN(n,e,t){return MN(n,e,t)}function SN(n,e,t,r){if(n[no])return;let i;t.type&8?i=ur(r):i=wN(e,t),n[no]=i}function xN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function IN(n,e){return n.type&11?Cs(n,e):n.type&4?ad(n,e):null}function ON(n,e,t,r){return t===-1?IN(e,n):t===-2?TN(n,e,r):so(n,n[ie],t,e)}function TN(n,e,t){if(t===bt)return Cs(e,n);if(t===gi)return ad(e,n);if(t===Rr)return uM(e,n)}function dM(n,e,t,r){let i=e[Sr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(ON(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function tm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=dM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Jt;d<u.length;d++){let v=u[d];v[to]===v[Ot]&&tm(v[ie],v,l,r)}if(u[fs]!==null){let d=u[fs];for(let v=0;v<d.length;v++){let g=d[v];tm(g[ie],g,l,r)}}}}}return r}function PN(n,e){return n[Sr].queries[e].queryList}function fM(n,e,t){let r=new Lg((t&4)===4);return bk(n,e,r,r.destroy),(e[Sr]??=new Jg).queries.push(new Zg(r))-1}function AN(n,e,t){let r=tt();return r.firstCreatePass&&(pM(r,new Tu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),fM(r,de(),e)}function kN(n,e,t,r){let i=tt();if(i.firstCreatePass){let o=Ct();pM(i,new Tu(e,t,r),o.index),RN(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return fM(i,de(),t)}function NN(n){return n.split(",").map(e=>e.trim())}function pM(n,e,t){n.queries===null&&(n.queries=new Xg),n.queries.track(new em(e,t))}function RN(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Jm(n,e){return n.queries.getByIndex(e)}function FN(n,e){let t=n[ie],r=Jm(t,e);return r.crossesNgTemplate?tm(t,n,e,[]):dM(t,n,r,e)}function ho(n){Kb.has(n)||(Kb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function LN(n){return typeof n=="function"&&n[wr]!==void 0}function go(n,e){ho("NgSignals");let t=G0(n),r=t[wr];return e?.equal&&(r.equal=e.equal),t.set=i=>sh(r,i),t.update=i=>K0(r,i),t.asReadonly=VN.bind(t),t}function VN(){let n=this[wr];if(n.readonlyFn===void 0){let e=()=>this();e[wr]=n,n.readonlyFn=e}return n.readonlyFn}function hM(n){return LN(n)&&typeof n.set=="function"}function jN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(zN))}return o}return Pu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,v)=>{a.push(""),s.push(r(d).then(g=>{a[l+v]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>HN(o));e.push(c)}),BN(),Promise.all(e).then(()=>{})}function BN(){let n=Pu;return Pu=new Map,n}function $N(){return Pu.size===0}function zN(n){return typeof n=="string"?n:n.text()}function HN(n){UN.delete(n)}function qN(n){return Object.getPrototypeOf(n.prototype).constructor}function Wt(n){let e=qN(n.type),t=!0,r=[n];for(;e;){let i;if(pi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Xl(n.inputs),s.inputTransforms=Xl(n.inputTransforms),s.declaredInputs=Xl(n.declaredInputs),s.outputs=Xl(n.outputs);let a=i.hostBindings;a&&QN(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&KN(n,c),l&&YN(n,l),WN(n,i),_P(n.outputs,i.outputs),pi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Wt&&(t=!1)}}e=Object.getPrototypeOf(e)}GN(r)}function WN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function GN(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Da(i.hostAttrs,t=Da(t,i.hostAttrs))}}function Xl(n){return n===cs?{}:n===qt?[]:n}function KN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function YN(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function QN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Xm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function ZN(n,e,t){return new Au(n,e,t,!1)}function cd(n,e,t=null){return new nm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function gM(n){return XN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function JN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function XN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ev(n,e,t){return n[e]=t}function eR(n,e){return n[e]}function Or(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function tR(n,e,t,r){let i=Or(n,e,t);return Or(n,e+1,r)||i}function nR(n){return(n.flags&32)===32}function rR(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ra(e,n,4,s||null,a||null);Gm(e,t,u,ps(l,c)),Ju(e,u);let d=u.tView=Wm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function iR(n,e,t,r,i,o,s,a,c,l){let u=t+mn,d=e.firstCreatePass?rR(u,e,n,r,i,o,s,a,c):e.data[u];uo(d,!1);let v=oR(e,n,d,t);Qu()&&rd(e,n,v,d),hi(v,n);let g=QE(v,n,v,d);return n[u]=g,sd(n,g),DN(g,d,n),qu(d)&&Hm(e,n,d),c!=null&&qm(n,d,l),d}function k(n,e,t,r,i,o,s,a){let c=de(),l=tt(),u=ps(l.consts,o);return iR(c,l,n,e,t,r,i,u,s,a),k}function sR(n,e,t,r){return Zu(!0),e[Ke].createComment("")}function tv(n,e){!e?.injector&&wm(tv);let t=e?.injector??_(et);return GA(t)?(ho("NgAfterNextRender"),cR(n,t,e,!0)):lR}function aR(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cR(n,e,t,r){let i=e.get(mM);i.impl??=e.get(rm);let o=t?.phase??os.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Lt):null,a=new im(i.impl,aR(n,o),r,s);return i.impl.register(a),a}function bs(n,e,t,r){let i=de(),o=Yu();if(Or(i,o,e)){let s=tt(),a=Om();Fk(a,i,n,e,t,r)}return bs}function vM(n,e,t,r){return Or(n,Yu(),t)?e+Pa(t)+r:dr}function eu(n,e){return n<<17|e<<2}function co(n){return n>>17&32767}function uR(n){return(n&2)==2}function dR(n,e){return n&131071|e<<17}function om(n){return n|2}function vs(n){return(n&131068)>>2}function pg(n,e){return n&-131069|e<<2}function fR(n){return(n&1)===1}function sm(n){return n|1}function pR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=co(s),c=vs(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Aa(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let v=co(n[a+1]);n[r+1]=eu(v,a),v!==0&&(n[v+1]=pg(n[v+1],r)),n[a+1]=dR(n[a+1],r)}else n[r+1]=eu(a,0),a!==0&&(n[a+1]=pg(n[a+1],r)),a=r;else n[r+1]=eu(c,0),a===0?a=r:n[c+1]=pg(n[c+1],r),c=r;l&&(n[r+1]=om(n[r+1])),Yb(n,u,r,!0),Yb(n,u,r,!1),hR(e,u,n,r,o),s=eu(a,c),o?e.classBindings=s:e.styleBindings=s}function hR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Aa(o,e)>=0&&(t[r+1]=sm(t[r+1]))}function Yb(n,e,t,r){let i=n[t+1],o=e===null,s=r?co(i):vs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];gR(c,e)&&(a=!0,n[s+1]=r?sm(l):om(l)),s=r?co(l):vs(l)}a&&(n[t+1]=r?om(i):sm(i))}function gR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Aa(n,e)>=0:!1}function mR(n){return n.substring(Ln.key,Ln.keyEnd)}function vR(n){return yR(n),yM(n,_M(n,0,Ln.textEnd))}function yM(n,e){let t=Ln.textEnd;return t===e?-1:(e=Ln.keyEnd=_R(n,Ln.key=e,t),_M(n,e,t))}function yR(n){Ln.key=0,Ln.keyEnd=0,Ln.value=0,Ln.valueEnd=0,Ln.textEnd=n.length}function _M(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function _R(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function y(n,e,t){let r=de(),i=Yu();if(Or(r,i,e)){let o=tt(),s=Om();GE(o,s,r,n,e,r[Ke],t,!1)}return y}function am(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Km(n,t,o[s],s,r)}function zn(n,e){return bR(n,e,null,!0),zn}function CR(n,e){for(let t=vR(e);t>=0;t=yM(e,t))ym(n,mR(e),!0)}function bR(n,e,t,r){let i=de(),o=tt(),s=Gw(2);if(o.firstUpdatePass&&bM(o,n,s,r),e!==dr&&Or(i,s,e)){let a=o.data[fo()];wM(o,a,i,i[Ke],n,i[s+1]=OR(e,t),r,s)}}function wR(n,e,t,r){let i=tt(),o=Gw(2);i.firstUpdatePass&&bM(i,null,o,r);let s=de();if(t!==dr&&Or(s,o,t)){let a=i.data[fo()];if(EM(a,r)&&!CM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=yg(c,t||"")),am(i,a,s,t,r)}else IR(i,a,s,s[Ke],s[o+1],s[o+1]=xR(n,e,t),r,o)}}function CM(n,e){return e>=n.expandoStartIndex}function bM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[fo()],s=CM(n,t);EM(o,r)&&e===null&&!s&&(e=!1),e=ER(i,o,e,r),pR(i,o,e,t,s,r)}}function ER(n,e,t,r){let i=L1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=hg(null,n,e,t,r),t=Oa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=hg(i,n,e,t,r),o===null){let c=MR(n,e,r);c!==void 0&&Array.isArray(c)&&(c=hg(null,n,e,c[1],r),c=Oa(c,e.attrs,r),DR(n,e,r,c))}else o=SR(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function MR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(vs(r)!==0)return n[co(r)]}function DR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[co(i)]=r}function SR(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Oa(r,s,t)}return Oa(r,e.attrs,t)}function hg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Oa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Oa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ym(n,s,t?!0:e[++o]))}return n===void 0?null:n}function xR(n,e,t){if(t==null||t==="")return qt;let r=[],i=po(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function IR(n,e,t,r,i,o,s,a){i===dr&&(i=qt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let v=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,b=null,E;u===d?(c+=2,l+=2,v!==g&&(b=d,E=g)):d===null||u!==null&&u<d?(c+=2,b=u):(l+=2,b=d,E=g),b!==null&&wM(n,e,t,r,b,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function wM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=fR(l)?Qb(c,e,t,i,vs(l),s):void 0;if(!Nu(u)){Nu(o)||uR(l)&&(o=Qb(c,null,t,i,a,s));let d=Fw(fo(),t);pk(r,s,d,i,o)}}function Qb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,v=t[i+1];v===dr&&(v=d?qt:void 0);let g=d?ig(v,r):u===r?v:void 0;if(l&&!Nu(g)&&(g=ig(c,r)),Nu(g)&&(a=g,s))return a;let b=n[i+1];i=s?co(b):vs(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ig(c,r))}return a}function Nu(n){return n!==void 0}function OR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Rt(po(n)))),n}function EM(n,e){return(n.flags&(e?8:16))!==0}function MM(n,e,t){let r=de(),i=vM(r,n,e,t);wR(ym,CR,i,!0)}function TR(n,e,t,r,i,o){let s=e.consts,a=ps(s,i),c=Ra(e,n,2,r,a);return Gm(e,t,c,ps(s,o)),c.attrs!==null&&Iu(c,c.attrs,!1),c.mergedAttrs!==null&&Iu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function p(n,e,t,r){let i=de(),o=tt(),s=mn+n,a=i[Ke],c=o.firstCreatePass?TR(s,o,i,e,t,r):o.data[s],l=PR(o,i,c,a,e,n);i[s]=l;let u=qu(c);return uo(c,!0),UE(a,l,c),!nR(c)&&Qu()&&rd(o,i,l,c),D1()===0&&hi(l,i),S1(),u&&(Hm(o,i,c),zm(o,c,i)),r!==null&&qm(i,c),p}function f(){let n=Ct();Dm()?qw():(n=n.parent,uo(n,!1));let e=n;O1(e)&&T1(),x1();let t=tt();return t.firstCreatePass&&(Ju(t,n),Em(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&H1(e)&&am(t,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&q1(e)&&am(t,e,de(),e.stylesWithoutHost,!1),f}function A(n,e,t,r){return p(n,e,t,r),f(),A}function AR(n,e,t,r,i){let o=e.consts,s=ps(o,r),a=Ra(e,n,8,"ng-container",s);s!==null&&Iu(a,s,!0);let c=ps(o,i);return Gm(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function wt(n,e,t){let r=de(),i=tt(),o=n+mn,s=i.firstCreatePass?AR(o,i,r,e,t):i.data[o];uo(s,!0);let a=kR(i,r,s,n);return r[o]=a,Qu()&&rd(i,r,a,s),hi(a,r),qu(s)&&(Hm(i,r,s),zm(i,s,r)),t!=null&&qm(r,s),wt}function Et(){let n=Ct(),e=tt();return Dm()?qw():(n=n.parent,uo(n,!1)),e.firstCreatePass&&(Ju(e,n),Em(n)&&e.queries.elementEnd(n)),Et}function z(){return de()}function NR(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function Cn(n){let e=FR(n),t=Zb(e);if(t)return t;let r=e.split("-")[0];if(t=Zb(r),t)return t;if(r==="en")return RR;throw new x(701,!1)}function Zb(n){return n in gg||(gg[n]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[n]),gg[n]}function FR(n){return n.toLowerCase().replace(/_/g,"-")}function VR(n){typeof n=="string"&&(LR=n.toLowerCase().replace(/_/g,"-"))}function S(n,e,t,r){let i=de(),o=tt(),s=Ct();return DM(o,i,i[Ke],s,n,e,r),S}function UR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[hu],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function DM(n,e,t,r,i,o,s){let a=qu(r),l=n.firstCreatePass&&XE(n),u=e[jn],d=JE(e),v=!0;if(r.type&3||s){let E=_n(r,e),R=s?s(E):E,$=d.length,se=s?pe=>s(ur(pe[r.index])):r.index,Y=null;if(!s&&a&&(Y=UR(n,e,i,r.index)),Y!==null){let pe=Y.__ngLastListenerFn__||Y;pe.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,v=!1}else{o=Xb(r,e,u,o),jR(E,i,o);let pe=t.listen(R,i,o);d.push(o,pe),l&&l.push(i,se,$,$+1)}}else o=Xb(r,e,u,o);let g=r.outputs,b;if(v&&g!==null&&(b=g[i])){let E=b.length;if(E)for(let R=0;R<E;R+=2){let $=b[R],se=b[R+1],We=e[$][se].subscribe(o),Se=d.length;d.push(o,We),l&&l.push(i,r.index,Se,-(Se+1))}}}function Jb(n,e,t,r){let i=ye(null);try{return or(6,e,t),t(r)!==!1}catch(o){return eM(n,o),!1}finally{or(7,e,t),ye(i)}}function Xb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?yi(n.index,e):e;Qm(s,5);let a=Jb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Jb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function w(n=1){return j1(n)}function SM(n,e,t,r){kN(n,e,t,r)}function ld(n,e,t){AN(n,e,t)}function ws(n){let e=de(),t=tt(),r=Kw();Sm(r+1);let i=Jm(t,r);if(n.dirty&&b1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=FN(e,r);n.reset(o,pA),n.notifyOnChanges()}return!0}return!1}function Es(){return PN(de(),Kw())}function BR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ct(n){let e=A1();return Vw(e,mn+n)}function C(n,e=""){let t=de(),r=tt(),i=n+mn,o=r.firstCreatePass?Ra(r,i,1,e,null):r.data[i],s=$R(r,t,o,e,n);t[i]=s,Qu()&&rd(r,t,s,o),uo(o,!1)}function ht(n){return Pe("",n,""),ht}function Pe(n,e,t){let r=de(),i=vM(r,n,e,t);return i!==dr&&Uk(r,fo(),i),Pe}function Vt(n,e,t){hM(e)&&(e=e());let r=de(),i=Yu();if(Or(r,i,e)){let o=tt(),s=Om();GE(o,s,r,n,e,r[Ke],t,!1)}return Vt}function Gt(n,e){let t=hM(n);return t&&n.set(e),t}function jt(n,e){let t=de(),r=tt(),i=Ct();return DM(r,t,t[Ke],i,n,e),jt}function zR(n,e,t){let r=tt();if(r.firstCreatePass){let i=pi(n);cm(t,r.data,r.blueprint,i,!0),cm(e,r.data,r.blueprint,i,!1)}}function cm(n,e,t,r,i){if(n=Nt(n),Array.isArray(n))for(let o=0;o<n.length;o++)cm(n[o],e,t,r,i);else{let o=tt(),s=de(),a=Ct(),c=us(n)?n:Nt(n.provide),l=Iw(n),u=a.providerIndexes&1048575,d=a.directiveStart,v=a.providerIndexes>>20;if(us(n)||!n.multi){let g=new oo(l,i,D),b=vg(c,e,i?u:u+v,d);b===-1?(Ag(Cu(a,s),o,c),mg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[b]=g,s[b]=g)}else{let g=vg(c,e,u+v,d),b=vg(c,e,u,u+v),E=g>=0&&t[g],R=b>=0&&t[b];if(i&&!R||!i&&!E){Ag(Cu(a,s),o,c);let $=WR(i?qR:HR,t.length,i,r,l);!i&&R&&(t[b].providerFactory=$),mg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push($),s.push($)}else{let $=xM(t[i?b:g],l,!i&&r);mg(o,n,g>-1?g:b,$)}!i&&r&&R&&t[b].componentProviders++}}}function mg(n,e,t,r){let i=us(e),o=a1(e);if(i||o){let c=(o?Nt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function xM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function HR(n,e,t,r){return lm(this.multi,[])}function qR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=so(t,t[ie],this.providerFactory.index,r);o=a.slice(0,s),lm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],lm(i,o);return o}function lm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function WR(n,e,t,r,i){let o=new oo(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,xM(o,i,r&&!t),o}function nt(n,e=[]){return t=>{t.providersResolver=(r,i)=>zR(r,i?i(n):n,e)}}function IM(n){ho("NgStandalone"),n.getStandaloneInjector=e=>e.get(GR).getOrCreateStandaloneInjector(n)}function OM(n,e,t){let r=n.\u0275cmp;r.directiveDefs=fu(e,!1),r.pipeDefs=fu(t,!0)}function TM(n,e,t){let r=Ku()+n,i=de();return i[r]===dr?ev(i,r,t?e.call(t):e()):eR(i,r)}function Fa(n,e,t,r){return AM(de(),Ku(),n,e,t,r)}function bn(n,e,t,r,i){return KR(de(),Ku(),n,e,t,r,i)}function PM(n,e){let t=n[e];return t===dr?void 0:t}function AM(n,e,t,r,i,o){let s=e+t;return Or(n,s,i)?ev(n,s+1,o?r.call(o,i):r(i)):PM(n,s+1)}function KR(n,e,t,r,i,o,s){let a=e+t;return tR(n,a,i,o)?ev(n,a+2,s?r.call(s,i,o):r(i,o)):PM(n,a+2)}function Mt(n,e){let t=tt(),r,i=n+mn;t.firstCreatePass?(r=YR(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=eo(r.type,!0)),s,a=Ht(D);try{let c=_u(!1),l=o();return _u(c),BR(t,de(),i,l),l}finally{Ht(a)}}function YR(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Dt(n,e,t){let r=n+mn,i=de(),o=Vw(i,r);return QR(i,r)?AM(i,Ku(),e,o.transform,t,o):o.transform(t)}function QR(n,e){return n[ie].data[e].pure}function Hn(n,e){return ad(n,e)}function ZR(n){tu!==null&&(n.defaultEncapsulation!==tu.defaultEncapsulation||n.preserveWhitespaces!==tu.preserveWhitespaces)||(tu=n)}function JR(n){rv=n}function _i(n){return!!n&&typeof n.then=="function"}function iv(n){return!!n&&typeof n.subscribe=="function"}function XR(){W0(()=>{throw new x(600,!1)})}function eF(n){return n.isBoundToModule}function nF(n,e,t){try{let r=t();return _i(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function NM(n,e){return Array.isArray(e)?e.reduce(NM,n):M(M({},n),e)}function au(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function rF(n,e,t,r){if(!t&&!Wu(n))return;rM(n,e,t&&!r?0:1)}function oF(n,e,t){let r=new ku(t);return Promise.resolve(r)}function ew(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function aF({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(B(M({},RM()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:ls,multi:!0,useFactory:()=>{let r=_(sF,{optional:!0});return()=>r.initialize()}},{provide:ls,multi:!0,useFactory:()=>{let r=_(cF);return()=>{r.initialize()}}},e===!0?{provide:aM,useValue:!0}:[],{provide:cM,useValue:t??fE}]}function RM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function uF(){return typeof $localize<"u"&&$localize.locale||Ru}function nu(n){return!n.moduleRef}function dF(n){let e=nu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{nu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(xr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),nu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Fu);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Fu);s.add(o),n.moduleRef.onDestroy(()=>{au(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return nF(r,t,()=>{let o=e.get(kM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(gd,Ru);if(VR(s||Ru),nu(n)){let a=e.get(wn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return fF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function fF(n,e){let t=n.injector.get(wn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new x(-403,!1);e.push(n)}function pF(n){if(Ea&&!Ea.get(LM,!1))throw new x(400,!1);XR(),Ea=n;let e=n.get(FM);return mF(n),e}function ov(n,e,t=[]){let r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=VM();if(!s||s.injector.get(LM,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):pF(hF(a,r))}return gF(i)}}function hF(n=[],e){return et.create({name:e,providers:[{provide:$u,useValue:"platform"},{provide:Fu,useValue:new Set([()=>Ea=null])},...n]})}function gF(n){let e=VM();if(!e)throw new x(401,!1);return e}function VM(){return Ea?.get(FM)??null}function mF(n){n.get(Nm,null)?.forEach(t=>t())}function vF(n){return yF(Ct(),de(),(n&16)===16)}function yF(n,e,t){if(Hu(n)&&!t){let r=yi(n.index,e);return new ao(r,r)}else if(n.type&175){let r=e[lr];return new ao(r,e)}return null}function tw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function nw(){return new sv([new dm])}function Ci(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function mo(n,e){ho("NgSignals");let t=z0(n);return e?.equal&&(t[wr].equal=e.equal),t}function tn(n){let e=ye(null);try{return n()}finally{ye(e)}}function BM(n){let e=fi(n);if(!e)return null;let t=new ms(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var rw,x,Yl,_t,CP,aw,vb,cw,wP,L,EP,MP,DP,SP,cu,wa,yb,ce,_g,OP,Ma,Cg,lu,TP,PP,AP,_b,ss,Bu,mm,cs,qt,ls,hw,gw,du,mw,ar,di,yw,i1,$u,ru,c1,og,Ft,Sa,Tr,ie,Q,Ot,Vn,Un,pu,hu,jn,ds,cr,Ke,xa,Eb,_s,lr,to,rs,Sr,zu,Tw,li,sg,gn,mn,Pw,no,gu,fs,Jt,mu,xg,Nw,Mb,or,_1,C1,le,$w,Xw,eE,as,oo,cg,Tg,Pg,G1,rE,iE,K1,sr,Xi,et,tA,nA,fE,Lt,Ng,kr,Rg,X,Am,wu,iA,_e,oA,Eu,xr,dA,bt,Lg,mE,gA,kb,jg,Xu,yA,Nm,Xt,Rm,Fm,_A,CA,bA,wE,wA,Ql,Zl,Mu,Ug,Bg,xA,ME,DE,SE,IA,OA,TA,Fb,xE,PA,AA,kA,NA,$g,VA,jA,Jl,Na,zA,HA,qA,Ir,KA,lk,Bb,dr,Ck,tM,Qk,Jk,Xk,ao,gi,iN,oN,j9,aN,hs,Zm,aM,cM,Kg,xu,lN,Yg,gs,mi,$n,dN,Ou,ms,Qg,Rr,bN,lM,EN,MN,Zg,Jg,Tu,Xg,em,Kb,Pu,UN,vi,Ia,Au,ku,nm,oR,os,mM,rm,im,lR,Ln,PR,kR,Ji,RR,gg,Ze,Ru,LR,jR,$R,GR,tu,ud,nv,La,dd,fd,rv,Ms,kM,pd,tF,wn,um,hd,iF,sF,cF,lF,gd,Fu,FM,Ea,LM,en,dm,_F,fm,pm,hm,Lu,sv,jM,UM,N=h(()=>{"use strict";Q0();we();ai();rw="https://g.co/ng/security#xss",x=class extends Error{constructor(e,t){super(Vu(e,t)),this.code=e}};Yl="__parameters__";_t=globalThis;CP=Ae({__forward_ref__:Ae});aw=Ae({\u0275prov:Ae}),vb=Ae({\u0275inj:Ae}),cw=Ae({ngInjectableDef:Ae}),wP=Ae({ngInjectorDef:Ae}),L=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};EP=Ae({\u0275cmp:Ae}),MP=Ae({\u0275dir:Ae}),DP=Ae({\u0275pipe:Ae}),SP=Ae({\u0275mod:Ae}),cu=Ae({\u0275fac:Ae}),wa=Ae({__NG_ELEMENT_ID__:Ae}),yb=Ae({__NG_ENV_ID__:Ae});ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{});OP={},Ma=OP,Cg="__NG_DI_FLAG__",lu="ngTempTokenPath",TP="ngTokenPath",PP=/\n/gm,AP="\u0275",_b="__source";Bu=fw(iw("Optional"),8),mm=fw(iw("SkipSelf"),4);cs={},qt=[],ls=new L(""),hw=new L("",-1),gw=new L(""),du=class{get(e,t=Ma){if(t===Ma){let r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return t}},mw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(mw||{}),ar=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ar||{}),di=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(di||{});yw="ng-template";i1=Ae({provide:String,useValue:Ae});$u=new L(""),ru={},c1={};Ft=class{},Sa=class extends Ft{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dg(e,s=>this.processProvider(s)),this.records.set(hw,ns(void 0,this)),i.has("environment")&&this.records.set(Ft,ns(void 0,this));let o=this.records.get($u);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gw,qt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ci(this),r=Ht(void 0),i;try{return e()}finally{ci(t),Ht(r)}}get(e,t=Ma,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yb))return e[yb](this);r=Uu(r);let i,o=ci(this),s=Ht(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=p1(e)&&ju(e);l&&this.injectableDefInScope(l)?c=ns(Mg(e),ru):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ce.Self?bm():this.parent;return t=r&ce.Optional&&t===Ma?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[lu]=a[lu]||[]).unshift(Rt(e)),o)throw a;return FP(a,e,"R3InjectorError",this.source)}else throw a}finally{Ht(s),ci(o)}}resolveInjectorInitializers(){let e=ye(null),t=ci(this),r=Ht(void 0),i;try{let o=this.get(ls,qt,ce.Self);for(let s of o)s()}finally{ci(t),Ht(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=Nt(e);let t=us(e)?e:Nt(e&&e.provide),r=u1(e);if(!us(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ns(void 0,ru,!0),i.factory=()=>bg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===ru&&(t.value=c1,t.value=t.factory()),typeof t.value=="object"&&t.value&&f1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Nt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Tr=0,ie=1,Q=2,Ot=3,Vn=4,Un=5,pu=6,hu=7,jn=8,ds=9,cr=10,Ke=11,xa=12,Eb=13,_s=14,lr=15,to=16,rs=17,Sr=18,zu=19,Tw=20,li=21,sg=22,gn=23,mn=25,Pw=1,no=7,gu=8,fs=9,Jt=10,mu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(mu||{});xg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};Bn.ngInherit=!0;Nw="__ngSimpleChanges__";Mb=null,or=function(n,e,t){Mb?.(n,e,t)},_1="svg",C1="math";le={lFrame:Zw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},$w=!1;Xw=Jw;eE=!0;as=-1,oo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};cg={},Tg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Uu(r);let i=this.injector.get(e,cg,r);return i!==cg||t===cg?i:this.parentInjector.get(e,t,r)}};Pg=!0;G1=256,rE=G1-1,iE=5,K1=0,sr={};Xi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return cE(this._tNode,this._lView,e,Uu(r),t)}};et=class n{static{this.THROW_IF_NOT_FOUND=Ma}static{this.NULL=new du}static create(e,t){if(Array.isArray(e))return Ob({name:""},t,e,"");{let r=e.name??"";return Ob({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=I({token:n,providedIn:"any",factory:()=>F(hw)})}static{this.__NG_ELEMENT_ID__=-1}};tA=new L("");tA.__NG_ELEMENT_ID__=n=>{let e=Ct();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new x(204,!1)};nA="ngOriginalError";fE=!0,Lt=(()=>{class n{static{this.__NG_ELEMENT_ID__=rA}static{this.__NG_ENV_ID__=t=>t}}return n})(),Ng=class extends Lt{constructor(e){super(),this._lView=e}onDestroy(e){return Bw(this._lView,e),()=>M1(this._lView,e)}};kr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Rg=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Ow()&&(this.destroyRef=_(Lt,{optional:!0})??void 0,this.pendingTasks=_(kr,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},X=Rg;Am="isAngularZone",wu=Am+"_ID",iA=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=fE}=e;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,aA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Am)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,oA,bu,bu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},oA={};Eu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};xr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ug(e);for(;t&&ug(t);)t=ug(t);return t||null}},dA=new L("",{providedIn:"root",factory:()=>{let n=_(_e),e=_(xr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});bt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=fA}}return n})();Lg=class n{get changes(){return this._changes??=new X}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=hA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=jP(e);(this._changesDetected=!VP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};mE=new Map,gA=0;kb="__ngContext__";Xu=new L("",{providedIn:"root",factory:()=>yA}),yA="ng",Nm=new L(""),Xt=new L("",{providedIn:"platform",factory:()=>"unknown"}),Rm=new L(""),Fm=new L("",{providedIn:"root",factory:()=>bE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),_A="h",CA="b",bA=()=>null;wE=!1,wA=new L("",{providedIn:"root",factory:()=>wE});Mu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rw})`}};Ug=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(ed(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Bg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=ed(e),t}};xA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;ME=Nr("area,br,col,hr,img,wbr"),DE=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SE=Nr("rp,rt"),IA=ka(SE,DE),OA=ka(DE,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),TA=ka(SE,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fb=ka(ME,OA,TA,IA),xE=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),PA=Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),AA=Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),kA=ka(xE,PA,AA),NA=Nr("script,style,template"),$g=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=LA(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=FA(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Lb(e).toLowerCase();if(!Fb.hasOwnProperty(t))return this.sanitizedSomething=!0,!NA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!kA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;xE[a]&&(c=Vm(c)),this.buf.push(" ",s,'="',Vb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Lb(e).toLowerCase();Fb.hasOwnProperty(t)&&!ME.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Vb(e))}};VA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jA=/([^\#-~ |!])/g;Na=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Na||{});zA=/^>|^->|<!--|-->|--!>|<!-$/g,HA=/(<|>)/g,qA="\u200B$1\u200B";Ir=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ir||{});lk=ck;dr={};Ck=()=>null;tM=[];Qk=B(M({},da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Gu(n.lView)},consumerOnSignalRead(){this.lView[gn]=this}});Jk=B(M({},da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ro(n.lView);for(;e&&!nM(e[ie]);)e=ro(e);e&&Uw(e)},consumerOnSignalRead(){this.lView[gn]=this}});Xk=100;ao=class{get rootNodes(){let e=this._lView,t=e[ie];return Su(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(e){this._lView[jn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ot];if(Pr(e)){let t=e[gu],r=t?t.indexOf(this):-1;r>-1&&(zg(e,r),uu(t,r))}this._attachedToViewContainer=!1}RE(this._lView[ie],this._lView)}onDestroy(e){Bw(this._lView,e)}markForCheck(){Qm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Ig(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,rM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Sg(this._lView),t=this._lView[to];t!==null&&!e&&Bm(t,this._lView),kE(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let t=Sg(this._lView),r=this._lView[to];r!==null&&!t&&NE(r,this._lView),Ig(this._lView)}},gi=(()=>{class n{static{this.__NG_ELEMENT_ID__=sN}}return n})(),iN=gi,oN=class extends iN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Hk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ao(i)}};j9=new RegExp(`^(\\d+)*(${CA}|${_A})*(.*)`),aN=()=>null;hs=class{},Zm=new L("",{providedIn:"root",factory:()=>!1}),aM=new L(""),cM=new L(""),Kg=class{},xu=class{};lN="ngComponent",Yg=class{resolveComponentFactory(e){throw cN(e)}},gs=class{static{this.NULL=new Yg}},mi=class{},$n=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>uN()}}return n})();dN=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>null})}}return n})();Ou=class extends gs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=fi(e);return new ms(t,this.ngModule)}};ms=class extends xu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Wb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Wb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=JP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof Ft?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Tg(e,s):e,c=a.get(mi,null);if(c===null)throw new x(407,!1);let l=a.get(dN,null),u=a.get(hs,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},v=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?yk(v,r,this.componentDef.encapsulation,a):AE(v,g,fN(g)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let R=null;b!==null&&(R=Lm(b,a,!0));let $=Wm(0,null,null,1,0,null,null,null,null,null,null),se=od(null,$,null,E,null,null,d,v,a,null,R);xm(se);let Y,pe,We=null;try{let Se=this.componentDef,Ve,ut=null;Se.findHostDirectiveDefs?(Ve=[],ut=new Map,Se.findHostDirectiveDefs(Se,Ve,ut),Ve.push(Se)):Ve=[Se];let br=pN(se,b);We=hN(br,b,Se,Ve,se,d,v),pe=Lw($,mn),b&&vN(v,Se,b,r),t!==void 0&&yN(pe,this.ngContentSelectors,t),Y=mN(We,Se,Ve,ut,se,[_N]),Ym($,se,null)}catch(Se){throw We!==null&&Vg(We),Vg(se),Se}finally{Im()}return new Qg(this.componentType,Y,Cs(pe,se),se,pe)}finally{ye(o)}}},Qg=class extends Kg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ao(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Km(o[ie],o,i,e,t),this.previousInputValues.set(e,t);let s=yi(this._tNode.index,o);Qm(s,1)}}get injector(){return new Xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};Rr=(()=>{class n{static{this.__NG_ELEMENT_ID__=CN}}return n})();bN=Rr,lM=class extends bN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Xi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tm(this._hostTNode,this._hostLView);if(nE(e)){let t=yu(e,this._hostLView),r=vu(e),i=t[ie].data[r+8];return new Xi(i,t)}else return new Xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Gb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Hb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!g1(e),a;if(s)a=t;else{let b=t||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new ms(fi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Ft,null);E&&(o=E)}let u=fi(c.componentType??{}),d=qb(this._lContainer,u?.id??null),v=d?.firstChild??null,g=c.create(l,i,v,o);return this.insertImpl(g.hostView,a,Hb(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(w1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ot],l=new lM(c,c[Un],c[Ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return qk(s,i,o,r),e.attachToViewContainerRef(),pw(fg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Gb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zg(this._lContainer,t);r&&(uu(fg(this._lContainer),t),RE(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=zg(this._lContainer,t);return r&&uu(fg(this._lContainer),t)!=null?new ao(r):null}_adjustIndex(e,t=0){return e??this.length+t}};EN=SN,MN=()=>!1;Zg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Jg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Jm(e,t).matches!==null&&this.queries[t].setDirty()}},Tu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=NN(e):this.predicate=e}},Xg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},em=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,xN(t,o)),this.matchTNodeWithReadOption(e,t,su(t,e,o,!1,!1))}else r===gi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,su(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===bt||i===Rr||i===gi&&t.type&4)this.addMatch(t.index,-2);else{let o=su(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};Kb=new Set;Pu=new Map,UN=new Set;vi=class{},Ia=class{},Au=class extends vi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ou(this);let o=ww(e);this._bootstrapComponents=PE(o.bootstrap),this._r3Injector=dE(e,t,[{provide:vi,useValue:this},{provide:gs,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ku=class extends Ia{constructor(e){super(),this.moduleType=e}create(e){return new Au(this.moduleType,e,[])}};nm=class extends vi{constructor(e){super(),this.componentFactoryResolver=new Ou(this),this.instance=null;let t=new Sa([...e.providers,{provide:vi,useValue:this},{provide:gs,useValue:this.componentFactoryResolver}],e.parent||bm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};oR=sR;os=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(os||{}),mM=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),rm=class n{constructor(){this.ngZone=_(_e),this.scheduler=_(hs),this.errorHandler=_(xr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[os.EarlyRead,os.Write,os.MixedReadWrite,os.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}},im=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};lR={destroy(){}};Ln={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};PR=(n,e,t,r,i,o)=>(Zu(!0),AE(r,i,U1()));kR=(n,e,t,r)=>(Zu(!0),ZA(e[Ke],""));Ji=void 0;RR=["en",[["a","p"],["AM","PM"],Ji],[["AM","PM"],Ji,Ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ji,"{1} 'at' {0}",Ji],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",NR],gg={};Ze=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ze||{});Ru="en-US",LR=Ru;jR=(n,e,t)=>{};$R=(n,e,t,r,i)=>(Zu(!0),YA(e[Ke],r));GR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Dw(!1,t.type),i=r.length>0?cd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(F(Ft))})}}return n})();tu=null;ud=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),nv=new L(""),La=new L(""),dd=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,rv||(JR(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(F(_e),F(fd),F(La))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),fd=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return rv?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();Ms=new L(""),kM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=_(Ms,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(_i(o))t.push(o);else if(iv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pd=new L("");tF=10;wn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(dA),this.afterRenderManager=_(mM),this.zonelessEnabled=_(Zm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=_(kr).hasPendingTasks.pipe(j(t=>!t)),this._injector=_(Ft)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof xu;if(!this._injector.get(kM).done){let v=!i&&bw(t),g=!1;throw new x(405,g)}let s;i?s=t:s=this._injector.get(gs).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=eF(s)?void 0:this._injector.get(vi),c=r||s.selector,l=s.create(et.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(nv,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),au(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new x(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(mi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<tF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)rF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Wu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;au(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(pd,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>au(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();um=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},hd=(()=>{class n{compileModuleSync(t){return new ku(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ww(t),o=PE(i.declarations).reduce((s,a)=>{let c=fi(a);return c&&s.push(new ms(c)),s},[]);return new um(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iF=new L("");sF=(()=>{class n{constructor(){this.zone=_(_e),this.changeDetectionScheduler=_(hs),this.applicationRef=_(wn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();cF=(()=>{class n{constructor(){this.subscription=new je,this.initialized=!1,this.zone=_(_e),this.pendingTasks=_(kr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lF=(()=>{class n{constructor(){this.appRef=_(wn),this.taskService=_(kr),this.ngZone=_(_e),this.zonelessEnabled=_(Zm),this.disableScheduling=_(aM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new je,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(cM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Eu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Tb:pE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Tb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();gd=new L("",{providedIn:"root",factory:()=>_(gd,ce.Optional|ce.SkipSelf)||uF()}),Fu=new L("");FM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>uA(r?.ngZone,B(M({},RM({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[aF({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:hs,useExisting:lF}],c=ZN(t.moduleType,this.injector,a);return dF({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=NM({},r);return oF(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Fu,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(F(et))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Ea=null,LM=new L("");en=(()=>{class n{static{this.__NG_ELEMENT_ID__=vF}}return n})();dm=class{constructor(){}supports(e){return gM(e)}create(e){return new fm(e)}},_F=(n,e)=>e,fm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_F}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<tw(r,i,o)?t:r,a=tw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let v=0;v<l;v++){let g=v<o.length?o[v]:o[v]=0,b=g+v;u<=b&&b<l&&(o[v]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gM(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,JN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new pm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Lu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Lu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},hm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Lu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new hm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};sv=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:nw})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||nw()),deps:[[n,new mm,new Bu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new x(901,!1)}}return n})(),jM=ov(null,"core",[]),UM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(F(wn))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})()});function fr(){return KM}function YM(n){KM??=n}function Cv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function $M(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Lr(n){return n&&n[0]!=="?"?"?"+n:n}function wF(){return new Ss(F(jr))}function EF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zM(n){return n.replace(/\/index.html$/,"")}function MF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function DF(n){return Cn(n)[Ze.LocaleId]}function SF(n,e,t){let r=Cn(n),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],o=En(i,e);return En(o,t)}function xF(n,e,t){let r=Cn(n),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],o=En(i,e);return En(o,t)}function IF(n,e,t){let r=Cn(n),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],o=En(i,e);return En(o,t)}function OF(n,e){let r=Cn(n)[Ze.Eras];return En(r,e)}function md(n,e){let t=Cn(n);return En(t[Ze.DateFormat],e)}function vd(n,e){let t=Cn(n);return En(t[Ze.TimeFormat],e)}function yd(n,e){let r=Cn(n)[Ze.DateTimeFormat];return En(r,e)}function Sd(n,e){let t=Cn(n),r=t[Ze.NumberSymbols][e];if(typeof r>"u"){if(e===bi.CurrencyDecimal)return t[Ze.NumberSymbols][bi.Decimal];if(e===bi.CurrencyGroup)return t[Ze.NumberSymbols][bi.Group]}return r}function XM(n){if(!n[Ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function TF(n){let e=Cn(n);return XM(e),(e[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?av(r):[av(r[0]),av(r[1])])}function PF(n,e,t){let r=Cn(n);XM(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],o=En(i,e)||[];return En(o,t)||[]}function En(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function av(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function NF(n,e,t,r){let i=zF(n);e=Fr(t,e)||e;let s=[],a;for(;e;)if(a=kF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=tD(r,c),i=$F(i,r,!0));let l="";return s.forEach(u=>{let d=UF(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Dd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Fr(n,e){let t=DF(n);if(_d[t]??={},_d[t][e])return _d[t][e];let r="";switch(e){case"shortDate":r=md(n,nn.Short);break;case"mediumDate":r=md(n,nn.Medium);break;case"longDate":r=md(n,nn.Long);break;case"fullDate":r=md(n,nn.Full);break;case"shortTime":r=vd(n,nn.Short);break;case"mediumTime":r=vd(n,nn.Medium);break;case"longTime":r=vd(n,nn.Long);break;case"fullTime":r=vd(n,nn.Full);break;case"short":let i=Fr(n,"shortTime"),o=Fr(n,"shortDate");r=Cd(yd(n,nn.Short),[i,o]);break;case"medium":let s=Fr(n,"mediumTime"),a=Fr(n,"mediumDate");r=Cd(yd(n,nn.Medium),[s,a]);break;case"long":let c=Fr(n,"longTime"),l=Fr(n,"longDate");r=Cd(yd(n,nn.Long),[c,l]);break;case"full":let u=Fr(n,"fullTime"),d=Fr(n,"fullDate");r=Cd(yd(n,nn.Full),[u,d]);break}return r&&(_d[t][e]=r),r}function Cd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function qn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function RF(n,e){return qn(n,3).substring(0,e)}function rt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=FF(n,o);if((t>0||a>-t)&&(a+=t),n===Me.Hours)a===0&&t===-12&&(a=12);else if(n===Me.FractionalSeconds)return RF(a,e);let c=Sd(s,bi.MinusSign);return qn(a,e,c,r,i)}}function FF(n,e){switch(n){case Me.FullYear:return e.getFullYear();case Me.Month:return e.getMonth();case Me.Date:return e.getDate();case Me.Hours:return e.getHours();case Me.Minutes:return e.getMinutes();case Me.Seconds:return e.getSeconds();case Me.FractionalSeconds:return e.getMilliseconds();case Me.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Fe(n,e,t=Ut.Format,r=!1){return function(i,o){return LF(i,o,n,e,t,r)}}function LF(n,e,t,r,i,o){switch(t){case Ee.Months:return IF(e,i,r)[n.getMonth()];case Ee.Days:return xF(e,i,r)[n.getDay()];case Ee.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=TF(e),u=PF(e,i,r),d=l.findIndex(v=>{if(Array.isArray(v)){let[g,b]=v,E=s>=g.hours&&a>=g.minutes,R=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(E&&R)return!0}else if(E||R)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return SF(e,i,r)[s<12?0:1];case Ee.Eras:return OF(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function bd(n){return function(e,t,r){let i=-1*r,o=Sd(t,bi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Vr.Short:return(i>=0?"+":"")+qn(s,2,o)+qn(Math.abs(i%60),2,o);case Vr.ShortGMT:return"GMT"+(i>=0?"+":"")+qn(s,1,o);case Vr.Long:return"GMT"+(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);case Vr.Extended:return r===0?"Z":(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function jF(n){let e=Dd(n,VF,1).getDay();return Dd(n,0,1+(e<=Ed?Ed:Ed+7)-e)}function eD(n){let e=n.getDay(),t=e===0?-3:Ed-e;return Dd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function cv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=eD(t),s=jF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return qn(i,n,Sd(r,bi.MinusSign))}}function wd(n,e=!1){return function(t,r){let o=eD(t).getFullYear();return qn(o,n,Sd(r,bi.MinusSign),e)}}function UF(n){if(lv[n])return lv[n];let e;switch(n){case"G":case"GG":case"GGG":e=Fe(Ee.Eras,ke.Abbreviated);break;case"GGGG":e=Fe(Ee.Eras,ke.Wide);break;case"GGGGG":e=Fe(Ee.Eras,ke.Narrow);break;case"y":e=rt(Me.FullYear,1,0,!1,!0);break;case"yy":e=rt(Me.FullYear,2,0,!0,!0);break;case"yyy":e=rt(Me.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(Me.FullYear,4,0,!1,!0);break;case"Y":e=wd(1);break;case"YY":e=wd(2,!0);break;case"YYY":e=wd(3);break;case"YYYY":e=wd(4);break;case"M":case"L":e=rt(Me.Month,1,1);break;case"MM":case"LL":e=rt(Me.Month,2,1);break;case"MMM":e=Fe(Ee.Months,ke.Abbreviated);break;case"MMMM":e=Fe(Ee.Months,ke.Wide);break;case"MMMMM":e=Fe(Ee.Months,ke.Narrow);break;case"LLL":e=Fe(Ee.Months,ke.Abbreviated,Ut.Standalone);break;case"LLLL":e=Fe(Ee.Months,ke.Wide,Ut.Standalone);break;case"LLLLL":e=Fe(Ee.Months,ke.Narrow,Ut.Standalone);break;case"w":e=cv(1);break;case"ww":e=cv(2);break;case"W":e=cv(1,!0);break;case"d":e=rt(Me.Date,1);break;case"dd":e=rt(Me.Date,2);break;case"c":case"cc":e=rt(Me.Day,1);break;case"ccc":e=Fe(Ee.Days,ke.Abbreviated,Ut.Standalone);break;case"cccc":e=Fe(Ee.Days,ke.Wide,Ut.Standalone);break;case"ccccc":e=Fe(Ee.Days,ke.Narrow,Ut.Standalone);break;case"cccccc":e=Fe(Ee.Days,ke.Short,Ut.Standalone);break;case"E":case"EE":case"EEE":e=Fe(Ee.Days,ke.Abbreviated);break;case"EEEE":e=Fe(Ee.Days,ke.Wide);break;case"EEEEE":e=Fe(Ee.Days,ke.Narrow);break;case"EEEEEE":e=Fe(Ee.Days,ke.Short);break;case"a":case"aa":case"aaa":e=Fe(Ee.DayPeriods,ke.Abbreviated);break;case"aaaa":e=Fe(Ee.DayPeriods,ke.Wide);break;case"aaaaa":e=Fe(Ee.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":e=Fe(Ee.DayPeriods,ke.Abbreviated,Ut.Standalone,!0);break;case"bbbb":e=Fe(Ee.DayPeriods,ke.Wide,Ut.Standalone,!0);break;case"bbbbb":e=Fe(Ee.DayPeriods,ke.Narrow,Ut.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(Ee.DayPeriods,ke.Abbreviated,Ut.Format,!0);break;case"BBBB":e=Fe(Ee.DayPeriods,ke.Wide,Ut.Format,!0);break;case"BBBBB":e=Fe(Ee.DayPeriods,ke.Narrow,Ut.Format,!0);break;case"h":e=rt(Me.Hours,1,-12);break;case"hh":e=rt(Me.Hours,2,-12);break;case"H":e=rt(Me.Hours,1);break;case"HH":e=rt(Me.Hours,2);break;case"m":e=rt(Me.Minutes,1);break;case"mm":e=rt(Me.Minutes,2);break;case"s":e=rt(Me.Seconds,1);break;case"ss":e=rt(Me.Seconds,2);break;case"S":e=rt(Me.FractionalSeconds,1);break;case"SS":e=rt(Me.FractionalSeconds,2);break;case"SSS":e=rt(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=bd(Vr.Short);break;case"ZZZZZ":e=bd(Vr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=bd(Vr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=bd(Vr.Long);break;default:return null}return lv[n]=e,e}function tD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function BF(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function $F(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=tD(e,i);return BF(n,r*(o-i))}function zF(n){if(HM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Dd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(AF))return HF(r)}let e=new Date(n);if(!HM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function HF(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function HM(n){return n instanceof Date&&!isNaN(n.valueOf())}function xd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function WM(n,e){n.context.$implicit=e.item}function GM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Rt(e)}'.`)}function rD(n,e){return new x(2100,!1)}function Od(n){return n===Ev}function Td(n){return n===QF}function ZF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var KM,Md,gt,_v,QM,bF,jr,ZM,bv,JM,Ss,Ut,ke,nn,bi,AF,_d,kF,Vr,Me,Ee,VF,Ed,lv,uv,qM,pr,dv,hr,me,fv,pv,wv,nD,hv,gv,qF,WF,Kt,GF,KF,YF,Id,iD,Ev,QF,oD,mv,vv,Ds,De=h(()=>{"use strict";N();N();KM=null;Md=class{},gt=new L(""),_v=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(bF),providedIn:"platform"})}}return n})(),QM=new L(""),bF=(()=>{class n extends _v{constructor(){super(),this._doc=_(gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fr().getBaseHref(this._doc)}onPopState(t){let r=fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();jr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(bv),providedIn:"root"})}}return n})(),ZM=new L(""),bv=(()=>{class n extends jr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Lr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Lr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(_v),F(ZM,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JM=(()=>{class n extends jr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Cv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Lr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Lr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(_v),F(ZM,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Ss=(()=>{class n{constructor(t){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=MF($M(zM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Lr(r))}normalize(t){return n.stripTrailingSlash(EF(this._basePath,zM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Lr}static{this.joinWithSlash=Cv}static{this.stripTrailingSlash=$M}static{this.\u0275fac=function(r){return new(r||n)(F(jr))}}static{this.\u0275prov=I({token:n,factory:()=>wF(),providedIn:"root"})}}return n})();Ut=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ut||{}),ke=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ke||{}),nn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(nn||{}),bi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};AF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_d={},kF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Vr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Vr||{}),Me=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Me||{}),Ee=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ee||{});VF=0,Ed=4;lv={};uv=/\s+/,qM=[],pr=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=qM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(uv):qM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(uv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(uv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(bt),D($n))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),dv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new dv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),WM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);WM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(Rr),D(gi),D(sv))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();me=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){GM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){GM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(Rr),D(gi))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),fv=class{constructor(){this.$implicit=null,this.ngIf=null}};pv=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},wv=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),nD=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new pv(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||n)(D(Rr),D(gi),D(wv,9))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})();hv=class{createSubscription(e,t){return tn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){tn(()=>e.unsubscribe())}},gv=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},qF=new gv,WF=new hv,Kt=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(_i(t))return qF;if(iv(t))return WF;throw rD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(en,16))}}static{this.\u0275pipe=lo({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),GF="mediumDate",KF=new L(""),YF=new L(""),Id=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??GF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return NF(t,s,o||this.locale,a)}catch(s){throw rD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(gd,16),D(KF,24),D(YF,24))}}static{this.\u0275pipe=lo({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),iD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),Ev="browser",QF="server";oD=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>Od(_(Xt))?new mv(_(gt),window):new vv})}}return n})(),mv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=ZF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};vv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ds=class{}});function JF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function sD(n){return encodeURIComponent(n).replace(XF,(e,t)=>eL[t]??e)}function Pd(n){return`${n}`}function tL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function aD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cD(n){return typeof Blob<"u"&&n instanceof Blob}function lD(n){return typeof FormData<"u"&&n instanceof FormData}function nL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function Mv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function uD(n){if(n.url)return n.url;let e=oL.toLocaleLowerCase();return n.headers.get(e)}function Iv(){}function aL(n){n.then(Iv,Iv)}function gD(n,e){return e(n)}function cL(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function lL(n,e,t){return(r,i)=>yn(t,()=>e(r,o=>n(o,i)))}function fL(){let n=null;return(e,t)=>{n===null&&(n=(_(uL,{optional:!0})??[]).reduceRight(cL,gD));let r=_(kr);if(_(mD)){let o=r.add();return n(e,t).pipe(Zt(()=>r.remove(o)))}else return n(e,t)}}function hL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function CL(n,e){let t=n.url.toLowerCase();if(!_(vD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=_(Nd).getToken(),i=_(yL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function bL(n,e){return{\u0275kind:n,\u0275providers:e}}function wL(...n){let e=[vo,fD,dD,{provide:ja,useExisting:dD},{provide:Ad,useFactory:()=>_(sL,{optional:!0})??_(fD)},{provide:Ov,useValue:CL,multi:!0},{provide:vD,useValue:!0},{provide:Nd,useClass:_L}];for(let t of n)e.push(...t.\u0275providers);return ys(e)}function EL(){return bL(yD.LegacyInterceptors,[{provide:pD,useFactory:fL},{provide:Ov,useExisting:pD,multi:!0}])}var ja,Ad,Ur,Dv,XF,eL,Ei,Sv,Va,Mi,Ua,kd,Ba,wi,hD,rL,vo,iL,oL,sL,xv,uL,Ov,dL,mD,dD,pL,fD,vD,gL,mL,vL,yL,Nd,_L,yD,pD,_D,$a=h(()=>{"use strict";N();N();we();ai();De();De();ja=class{},Ad=class{},Ur=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},Dv=class{encodeKey(e){return sD(e)}encodeValue(e){return sD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};XF=/%(\d[a-f0-9])/gi,eL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};Ei=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Dv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=JF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Pd):[Pd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Pd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Pd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},Sv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};Va=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(tL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ur,this.context??=new Sv,!this.params)this.params=new Ei,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||aD(this.body)||cD(this.body)||lD(this.body)||nL(this.body)?this.body:this.body instanceof Ei?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||lD(this.body)?null:cD(this.body)?this.body.type||null:aD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ei?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,g)=>v.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((v,g)=>v.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Mi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mi||{}),Ua=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ur,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kd=class n extends Ua{constructor(e={}){super(e),this.type=Mi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ba=class n extends Ua{constructor(e={}){super(e),this.type=Mi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wi=class extends Ua{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},hD=200,rL=204;vo=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Va)o=t;else{let c;i.headers instanceof Ur?c=i.headers:c=new Ur(i.headers);let l;i.params&&(i.params instanceof Ei?l=i.params:l=new Ei({fromObject:i.params})),o=new Va(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=V(o).pipe(fn(c=>this.handler.handle(c)));if(t instanceof Va||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof Ba));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ei().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mv(i,r))}post(t,r,i={}){return this.request("POST",t,Mv(i,r))}put(t,r,i={}){return this.request("PUT",t,Mv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(F(ja))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),iL=/^\)\]\}',?\n/,oL="X-Request-URL";sL=(()=>{class n{constructor(){this.fetchImpl=_(xv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=_(_e)}handle(t){return new ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Iv,o=>r.error(new wi({error:o}))),()=>i.abort()})}doRequest(t,r,i){return P(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,M({signal:r},o)));aL(g),i.next({type:Mi.Sent}),s=yield g}catch(g){i.error(new wi({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Ur(s.headers),c=s.statusText,l=uD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new kd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),b=[],E=s.body.getReader(),R=0,$,se,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>P(this,null,function*(){for(;;){let{done:We,value:Se}=yield E.read();if(We)break;if(b.push(Se),R+=Se.length,t.reportProgress){se=t.responseType==="text"?(se??"")+($??=new TextDecoder).decode(Se,{stream:!0}):void 0;let Ve=()=>i.next({type:Mi.DownloadProgress,total:g?+g:void 0,loaded:R,partialText:se});Y?Y.run(Ve):Ve()}}}));let pe=this.concatChunks(b,R);try{let We=s.headers.get("Content-Type")??"";d=this.parseBody(t,pe,We)}catch(We){i.error(new wi({error:We,headers:new Ur(s.headers),status:s.status,statusText:s.statusText,url:uD(s)??t.urlWithParams}));return}}u===0&&(u=d?hD:0),u>=200&&u<300?(i.next(new Ba({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new wi({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(iL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),xv=class{};uL=new L(""),Ov=new L(""),dL=new L(""),mD=new L("",{providedIn:"root",factory:()=>!0});dD=(()=>{class n extends ja{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=_(kr),this.contributeToStability=_(mD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ov),...this.injector.get(dL,[])]));this.chain=r.reduceRight((i,o)=>lL(i,o,this.injector),gD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Zt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(F(Ad),F(Ft))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),pL=/^\)\]\}',?\n/;fD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?G(r.\u0275loadImpl()):V(null)).pipe(Re(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((E,R)=>s.setRequestHeader(E,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let E=t.detectContentTypeHeader();E!==null&&s.setRequestHeader("Content-Type",E)}if(t.responseType){let E=t.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let E=s.statusText||"OK",R=new Ur(s.getAllResponseHeaders()),$=hL(s)||t.url;return c=new kd({headers:R,status:s.status,statusText:E,url:$}),c},u=()=>{let{headers:E,status:R,statusText:$,url:se}=l(),Y=null;R!==rL&&(Y=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=Y?hD:0);let pe=R>=200&&R<300;if(t.responseType==="json"&&typeof Y=="string"){let We=Y;Y=Y.replace(pL,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Se){Y=We,pe&&(pe=!1,Y={error:Se,text:Y})}}pe?(o.next(new Ba({body:Y,headers:E,status:R,statusText:$,url:se||void 0})),o.complete()):o.error(new wi({error:Y,headers:E,status:R,statusText:$,url:se||void 0}))},d=E=>{let{url:R}=l(),$=new wi({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error($)},v=!1,g=E=>{v||(o.next(l()),v=!0);let R={type:Mi.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(R.total=E.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},b=E=>{let R={type:Mi.UploadProgress,loaded:E.loaded};E.lengthComputable&&(R.total=E.total),o.next(R)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Mi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(F(Ds))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),vD=new L(""),gL="XSRF-TOKEN",mL=new L("",{providedIn:"root",factory:()=>gL}),vL="X-XSRF-TOKEN",yL=new L("",{providedIn:"root",factory:()=>vL}),Nd=class{},_L=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(F(gt),F(Xt),F(mL))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();yD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(yD||{});pD=new L("");_D=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[wL(EL())]})}}return n})()});function ML(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}function DL(n){return new URL(n,document.baseURI).pathname}function PL(n){return IL.replace(Vv,n)}function AL(n){return xL.replace(Vv,n)}function DD(n,e){return e.map(t=>t.replace(Vv,n))}function CD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function LL(){Nv.makeCurrent()}function VL(){return new xr}function jL(){return CE(document),document}var kv,Nv,za,Rv,SL,Fv,wD,Rd,Pv,ED,Av,Vv,MD,xL,IL,OL,TL,Fd,Ha,Lv,qa,Ld,kL,bD,NL,RL,FL,UL,SD,BL,$L,zL,Vd,xD,Wa=h(()=>{"use strict";De();N();N();kv=class extends Md{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Nv=class n extends kv{static makeCurrent(){YM(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ML();return t==null?null:DL(t)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xd(document.cookie,e)}},za=null;Rv=class{addToWindow(e){_t.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new x(5103,!1);return o},_t.getAllAngularTestabilities=()=>e.getAllTestabilities(),_t.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=_t.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};_t.frameworkStabilizers||(_t.frameworkStabilizers=[]),_t.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?fr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},SL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Fv=new L(""),wD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(F(Fv),F(_e))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Rd=class{constructor(e){this._doc=e}},Pv="ng-app-id",ED=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Td(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Pv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Pv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Pv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(F(gt),F(Xu),F(Fm,8),F(Xt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Av={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vv=/%COMP%/g,MD="%COMP%",xL=`_nghost-${MD}`,IL=`_ngcontent-${MD}`,OL=!0,TL=new L("",{providedIn:"root",factory:()=>OL});Fd=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Td(a),this.defaultRenderer=new Ha(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r=B(M({},r),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ld?i.applyToHost(t):i instanceof qa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ar.Emulated:o=new Ld(c,l,r,this.appId,u,s,a,d);break;case ar.ShadowDom:return new Lv(c,l,t,r,s,a,this.nonce,d);default:o=new qa(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(F(wD),F(ED),F(Xu),F(TL),F(gt),F(Xt),F(_e),F(Fm))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Ha=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Av[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(CD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Av[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Av[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(t,r,i&Ir.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=fr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};Lv=class extends Ha{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=DD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qa=class extends Ha{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?DD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ld=class extends qa{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=PL(l),this.hostAttr=AL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},kL=(()=>{class n extends Rd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(F(gt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),bD=["alt","control","meta","shift"],NL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},FL=(()=>{class n extends Rd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=NL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bD.forEach(s=>{if(s!==i){let a=RL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(F(gt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();UL=[{provide:Xt,useValue:Ev},{provide:Nm,useValue:LL,multi:!0},{provide:gt,useFactory:jL,deps:[]}],SD=ov(jM,"browser",UL),BL=new L(""),$L=[{provide:La,useClass:Rv,deps:[]},{provide:nv,useClass:dd,deps:[_e,fd,La]},{provide:dd,useClass:dd,deps:[_e,fd,La]}],zL=[{provide:$u,useValue:"root"},{provide:xr,useFactory:VL,deps:[]},{provide:Fv,useClass:kL,multi:!0,deps:[gt,_e,Xt]},{provide:Fv,useClass:FL,multi:!0,deps:[gt]},Fd,ED,wD,{provide:mi,useExisting:Fd},{provide:Ds,useClass:SL,deps:[]},[]],Vd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Xu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(F(BL,12))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[...zL,...$L],imports:[iD,UM]})}}return n})(),xD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(F(gt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function As(n){return new zv(n)}function HL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gr(n[t],e[t]))return!1;return!0}function gr(n,e){let t=n?Hv(n):void 0,r=e?Hv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!jD(n[i],e[i]))return!1;return!0}function Hv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function UD(n){return n.length>0?n[n.length-1]:null}function xi(n){return Nh(n)?n:_i(n)?G(Promise.resolve(n)):V(n)}function OD(n,e,t){return WL[t.paths](n.root,e.root,t.matrixParams)&&BD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function GL(n,e){return gr(n,e)}function $D(n,e,t){if(!_o(n.segments,e.segments)||!Bd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$D(n.children[r],e.children[r],t))return!1;return!0}function KL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jD(n[t],e[t]))}function zD(n,e,t){return HD(n,e,e.segments,t)}function HD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!_o(i,t)||e.hasChildren()||!Bd(i,t,r))}else if(n.segments.length===t.length){if(!_o(n.segments,t)||!Bd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!zD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!_o(n.segments,i)||!Bd(n.segments,i,r)||!n.children[oe]?!1:HD(n.children[oe],e,o,r)}}function Bd(n,e,t){return e.every((r,i)=>BD[t](n[i].parameters,r.parameters))}function YL(n,e){return _o(n,e)&&n.every((t,r)=>gr(t.parameters,e[r].parameters))}function _o(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function QL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}function $d(n){return n.segments.map(e=>WD(e)).join("/")}function Ga(n,e){if(!n.hasChildren())return $d(n);if(e){let t=n.children[oe]?Ga(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Ga(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=QL(n,(r,i)=>i===oe?[Ga(n.children[oe],!1)]:[`${i}:${Ga(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${$d(n)}/${t[0]}`:`${$d(n)}/(${t.join("//")})`}}function qD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jd(n){return qD(n).replace(/%3B/gi,";")}function JL(n){return encodeURI(n)}function qv(n){return qD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zd(n){return decodeURIComponent(n)}function TD(n){return zd(n.replace(/\+/g,"%20"))}function WD(n){return`${qv(n.path)}${XL(n.parameters)}`}function XL(n){return Object.entries(n).map(([e,t])=>`;${qv(e)}=${qv(t)}`).join("")}function e2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${jd(t)}=${jd(i)}`).join("&"):`${jd(t)}=${jd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function jv(n){let e=n.match(t2);return e?e[0]:""}function r2(n){let e=n.match(n2);return e?e[0]:""}function o2(n){let e=n.match(i2);return e?e[0]:""}function a2(n){let e=n.match(s2);return e?e[0]:""}function GD(n){return n.segments.length>0?new Oe([],{[oe]:n}):n}function KD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=KD(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Oe(n.segments,e);return c2(t)}function c2(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Oe(n.segments.concat(e.segments),e.children)}return n}function Co(n){return n instanceof $r}function l2(n,e,t=null,r=null){let i=YD(n);return QD(i,e,t,r)}function YD(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Oe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=GD(r);return e??i}function QD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Uv(i,i,i,t,r);let o=u2(e);if(o.toRoot())return Uv(i,i,new Oe([],{}),t,r);let s=d2(o,i,n),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):JD(s.segmentGroup,s.index,o.commands);return Uv(i,s.segmentGroup,a,t,r)}function Hd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xa(n){return typeof n=="object"&&n!=null&&n.outlets}function Uv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=ZD(n,e,t);let a=GD(KD(s));return new $r(a,o,i)}function ZD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ZD(o,e,t)}),new Oe(n.segments,r)}function u2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new qd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new qd(t,e,r)}function d2(n,e,t){if(n.isAbsolute)return new Os(e,!0,0);if(!t)return new Os(e,!1,NaN);if(t.parent===null)return new Os(t,!0,0);let r=Hd(n.commands[0])?0:1,i=t.segments.length-1+r;return f2(t,i,n.numberOfDoubleDots)}function f2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Os(r,!1,i-o)}function p2(n){return Xa(n[0])?n[0].outlets:{[oe]:n}}function JD(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return Qa(n,e,t);let r=h2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Oe(n.segments.slice(r.pathIndex),n.children),Qa(o,0,i)}else return r.match&&i.length===0?new Oe(n.segments,{}):r.match&&!n.hasChildren()?Gv(n,e,t):r.match?Qa(n,0,i):Gv(n,e,t)}function Qa(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let r=p2(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=Qa(n.children[oe],e,t);return new Oe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(n.segments,i)}}function h2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Xa(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!AD(c,l,s))return o;r+=2}else{if(!AD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Xa(o)){let c=g2(o.outlets);return new Oe(r,c)}if(i===0&&Hd(t[0])){let c=n.segments[e];r.push(new yo(c.path,PD(t[0]))),i++;continue}let s=Xa(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Hd(a)?(r.push(new yo(s,PD(a))),i+=2):(r.push(new yo(s,{})),i++)}return new Oe(r,{})}function g2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Gv(new Oe([],{}),0,r))}),e}function PD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function AD(n,e,t){return n==t.path&&gr(e,t.parameters)}function m2(n,e){return n.providers&&!n._injector&&(n._injector=cd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wn(n){return n.outlet||oe}function v2(n,e){let t=n.filter(r=>Wn(r)===e);return t.push(...n.filter(r=>Wn(r)!==e)),t}function cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function oy(n,e){if(n===e.value)return e;for(let t of e.children){let r=oy(n,t);if(r)return r}return null}function sy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=sy(n,t);if(r.length)return r.unshift(e),r}return[]}function Is(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function XD(n){let e=y2(n),t=new fe([new yo("",{})]),r=new fe({}),i=new fe({}),o=new fe({}),s=new fe(""),a=new Bt(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new Qd(new rn(a,[]),e)}function y2(n){let e={},t={},r={},i="",o=new Ts([],e,r,i,t,oe,n,null,{});return new Jd("",new rn(o,[]))}function Zd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&tS(i)&&(r.resolve[sc]=i.title),r}function gy(n,e){e.value._routerState=n,e.children.forEach(t=>gy(n,t))}function eS(n){let e=n.children.length>0?` { ${n.children.map(eS).join(", ")} } `:"";return`${n.value}${e}`}function Bv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gr(e.params,t.params)||n.paramsSubject.next(t.params),qL(e.url,t.url)||n.urlSubject.next(t.url),gr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ay(n,e){let t=gr(n.params,e.params)&&YL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ay(n.parent,e.parent))}function tS(n){return typeof n.title=="string"||n.title===null}function _2(n,e,t){let r=nc(n,e._root,t?t._root:void 0);return new Qd(r,e)}function nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=C2(n,e,t);return new rn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nc(n,a)),s}}let r=b2(e.value),i=e.children.map(o=>nc(n,o));return new rn(r,i)}}function C2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nc(n,r,i);return nc(n,r)})}function b2(n){return new Bt(new fe(n.url),new fe(n.params),new fe(n.queryParams),new fe(n.fragment),new fe(n.data),n.outlet,n.component,n)}function Xd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rS(!1,on.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function rS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[nS]=!0,t.cancellationCode=e,t}function w2(n){return iS(n)&&Co(n.url)}function iS(n){return!!n&&n[nS]}function M2(n,e,t){let r=n._root,i=e?e._root:null;return Ka(r,i,t,[r.value])}function D2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Fs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!sw(n)?n:e.get(n):r}function Ka(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Is(e);return n.children.forEach(s=>{S2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ja(a,t.getContext(s),i)),i}function S2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=x2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ef(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ka(n,e,a?a.children:null,r,i):Ka(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ps(a.outlet.component,s))}else s&&Ja(e,a,i),i.canActivateChecks.push(new ef(r)),o.component?Ka(n,null,a?a.children:null,r,i):Ka(n,null,t,r,i);return i}function x2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!_o(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(n.url,e.url)||!gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ay(n,e)||!gr(n.queryParams,e.queryParams);case"paramsChange":default:return!ay(n,e)}}function Ja(n,e,t){let r=Is(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ja(s,e.children.getContext(o),t):Ja(s,null,t):Ja(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ps(e.outlet.component,i)):t.canDeactivateChecks.push(new Ps(null,i)):t.canDeactivateChecks.push(new Ps(null,i))}function uc(n){return typeof n=="function"}function I2(n){return typeof n=="boolean"}function O2(n){return n&&uc(n.canLoad)}function T2(n){return n&&uc(n.canActivate)}function P2(n){return n&&uc(n.canActivateChild)}function A2(n){return n&&uc(n.canDeactivate)}function k2(n){return n&&uc(n.canMatch)}function oS(n){return n instanceof Rn||n?.name==="EmptyError"}function Rs(){return Re(n=>ya(n.map(e=>e.pipe(be(1),eg(Ud)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Ud)return Ud;if(t===!1||N2(t))return t}return!0}),Ne(e=>e!==Ud),be(1)))}function N2(n){return Co(n)||n instanceof rc}function R2(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?V(B(M({},t),{guardsResult:!0})):F2(s,r,i,n).pipe(Be(a=>a&&I2(a)?L2(r,o,n,e):V(a)),j(a=>B(M({},t),{guardsResult:a})))})}function F2(n,e,t,r){return G(n).pipe(Be(i=>$2(i.component,i.route,t,e,r)),ir(i=>i!==!0,!0))}function L2(n,e,t,r){return G(e).pipe(fn(i=>rr(j2(i.route.parent,r),V2(i.route,r),B2(n,i.path,t),U2(n,i.route,t))),ir(i=>i!==!0,!0))}function V2(n,e){return n!==null&&e&&e(new ny(n)),V(!0)}function j2(n,e){return n!==null&&e&&e(new ey(n)),V(!0)}function U2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(o=>Qi(()=>{let s=cc(e)??t,a=Fs(o,s),c=T2(a)?a.canActivate(e,n):yn(s,()=>a(e,n));return xi(c).pipe(ir())}));return V(i).pipe(Rs())}function B2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>D2(s)).filter(s=>s!==null).map(s=>Qi(()=>{let a=s.guards.map(c=>{let l=cc(s.node)??t,u=Fs(c,l),d=P2(u)?u.canActivateChild(r,n):yn(l,()=>u(r,n));return xi(d).pipe(ir())});return V(a).pipe(Rs())}));return V(o).pipe(Rs())}function $2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return V(!0);let s=o.map(a=>{let c=cc(e)??i,l=Fs(a,c),u=A2(l)?l.canDeactivate(n,e,t,r):yn(c,()=>l(n,e,t,r));return xi(u).pipe(ir())});return V(s).pipe(Rs())}function z2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let o=i.map(s=>{let a=Fs(s,n),c=O2(a)?a.canLoad(e,t):yn(n,()=>a(e,t));return xi(c)});return V(o).pipe(Rs(),sS(r))}function sS(n){return hh(ne(e=>{if(typeof e!="boolean")throw Xd(n,e)}),j(e=>e===!0))}function H2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let o=i.map(s=>{let a=Fs(s,n),c=k2(a)?a.canMatch(e,t):yn(n,()=>a(e,t));return xi(c)});return V(o).pipe(Rs(),sS(r))}function xs(n){return Xe(new ic(n))}function q2(n){return Xe(new x(4e3,!1))}function W2(n){return Xe(rS(!1,on.GuardRejected))}function G2(n,e,t,r,i){let o=aS(n,e,t);return o.matched?(r=m2(e,r),H2(r,e,t,i).pipe(j(s=>s===!0?o:M({},dy)))):V(o)}function aS(n,e,t){if(e.path==="**")return K2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},dy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||HL)(t,n,e);if(!i)return M({},dy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function K2(n){return{matched:!0,parameters:n.length>0?UD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ND(n,e,t,r){return t.length>0&&Z2(n,t,r)?{segmentGroup:new Oe(e,Q2(r,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&J2(n,t,r)?{segmentGroup:new Oe(n.segments,Y2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function Y2(n,e,t,r){let i={};for(let o of t)if(of(n,e,o)&&!r[Wn(o)]){let s=new Oe([],{});i[Wn(o)]=s}return M(M({},r),i)}function Q2(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&Wn(r)!==oe){let i=new Oe([],{});t[Wn(r)]=i}return t}function Z2(n,e,t){return t.some(r=>of(n,e,r)&&Wn(r)!==oe)}function J2(n,e,t){return t.some(r=>of(n,e,r))}function of(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function X2(n,e,t){return e.length===0&&!n.children[t]}function eV(n,e,t,r,i,o,s="emptyOnly"){return new py(n,e,t,r,i,s,o).recognize()}function nV(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function rV(n){let e=n.value.routeConfig;return e&&e.path===""}function cS(n){let e=[],t=new Set;for(let r of n){if(!rV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=cS(r.children);e.push(new rn(r.value,i))}return e.filter(r=>!t.has(r))}function RD(n){return n.data||{}}function FD(n){return n.resolve||{}}function iV(n,e,t,r,i,o){return Be(s=>eV(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>B(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function oV(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of lS(c))s.add(l);let a=0;return G(s).pipe(fn(c=>o.has(c)?sV(c,r,n,e):(c.data=Zd(c,c.parent,n).resolve,V(void 0))),ne(()=>a++),ts(1),Be(c=>a===s.size?V(t):kt))})}function lS(n){let e=n.children.map(t=>lS(t)).flat();return[n,...e]}function sV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!tS(i)&&(o[sc]=i.title),aV(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=Zd(n,n.parent,t).resolve,null)))}function aV(n,e,t,r){let i=Hv(n);if(i.length===0)return V({});let o={};return G(i).pipe(Be(s=>cV(n[s],e,t,r).pipe(ir(),ne(a=>{if(a instanceof rc)throw Xd(new ks,a);o[s]=a}))),ts(1),Ca(o),ue(s=>oS(s)?kt:Xe(s)))}function cV(n,e,t,r){let i=cc(e)??r,o=Fs(n,i),s=o.resolve?o.resolve(e,t):yn(i,()=>o(e,t));return xi(s)}function $v(n){return Re(e=>{let t=n(e);return t?G(t).pipe(j(()=>e)):V(e)})}function my(n){let e=n.children&&n.children.map(my),t=e?B(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=uV),t}function dV(n,e,t,r){return xi(n.loadChildren()).pipe(j(dS),Be(i=>i instanceof Ia||Array.isArray(i)?V(i):G(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(tf,[],{optional:!0,self:!0}).flat()),{routes:s.map(my),injector:o}}))}function fV(n){return n&&typeof n=="object"&&"default"in n}function dS(n){return fV(n)?n.default:n}function hV(n,e,t){let r=n.get(pS),i=n.get(gt);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),gV(n))),{onViewTransitionCreated:c}=r;return c&&yn(n,()=>c({transition:a,from:e,to:t})),s})}function gV(n){return new Promise(e=>{tv({read:()=>setTimeout(e)},{injector:n})})}function vV(n){return n!==Za}function gS(n,e){n.events.pipe(Ne(t=>t instanceof sn||t instanceof Br||t instanceof ec||t instanceof Si),j(t=>t instanceof sn||t instanceof Si?Ya.COMPLETE:(t instanceof Br?t.code===on.Redirect||t.code===on.SupersededByNewNavigation:!1)?Ya.REDIRECTING:Ya.FAILED),Ne(t=>t!==Ya.REDIRECTING),be(1)).subscribe(()=>{e()})}function bV(n){throw n}function MV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new x(4008,!1)}function DV(n){return!(n instanceof tc)&&!(n instanceof Ns)}function SV(n){return!!n.paths}function OV(n){return n.routerState.root}function fc(n,e){return{\u0275kind:n,\u0275providers:e}}function TV(){let n=_(et);return e=>{let t=n.get(wn);if(e!==t.components[0])return;let r=n.get(Te),i=n.get(yS);n.get(Cy)===1&&r.initialNavigation(),n.get(_S,null,ce.Optional)?.setUpPreloading(),n.get(vS,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function PV(){return fc(2,[{provide:Cy,useValue:0},{provide:Ms,multi:!0,deps:[et],useFactory:e=>{let t=e.get(QM,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(yS);gS(i,()=>{r(!0)}),e.get(_y).afterPreactivation=()=>(r(!0),o.closed?V(void 0):o),i.initialNavigation()}))}}])}function AV(){return fc(3,[{provide:Ms,multi:!0,useFactory:()=>{let e=_(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:Cy,useValue:2}])}function kV(n){return fc(0,[{provide:_S,useExisting:xV},{provide:nf,useExisting:n}])}function NV(){return fc(8,[kD,{provide:rf,useExisting:kD}])}function RV(n){let e=[{provide:fS,useValue:hV},{provide:pS,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return fc(9,e)}function LV(){return{provide:vS,useFactory:()=>{let n=_(oD),e=_(_e),t=_(dc),r=_(_y),i=_(ac);return t.scrollOffset&&n.setOffset(t.scrollOffset),new IV(i,r,n,e,t)}}}function VV(){return{provide:jr,useClass:JM}}function jV(){return{provide:jr,useClass:bv}}function UV(n){return"guarded"}function BV(n){return[n.initialNavigation==="disabled"?AV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?PV().\u0275providers:[]]}function $V(){return[{provide:VD,useFactory:TV},{provide:pd,multi:!0,useExisting:VD}]}var oe,sc,zv,WL,BD,$r,Oe,yo,ac,ks,ZL,t2,n2,i2,s2,Wv,qd,Os,Za,mt,Mn,Di,sn,on,Wd,Br,Si,ec,Gd,Kv,Yv,Qv,Zv,Jv,Xv,ey,ty,ny,ry,Kd,tc,Ns,iy,lc,Yd,rn,Qd,Bt,Ts,Jd,Gn,cy,rf,kD,rc,nS,E2,ly,ef,Ps,Ud,ic,oc,uy,dy,fy,tV,py,uS,lV,dc,uV,tf,vy,yy,pV,fS,pS,mV,_y,yV,hy,_V,hS,CV,Ya,wV,EV,Te,Dn,mS,nf,xV,vS,IV,yS,Cy,_S,LD,FV,by,VD,lt=h(()=>{"use strict";N();N();we();De();De();ai();Wa();oe="primary",sc=Symbol("RouteTitle"),zv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};WL={exact:$D,subset:zD},BD={exact:GL,subset:KL,ignored:()=>!0};$r=class{constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=As(this.queryParams),this._queryParamMap}toString(){return ZL.serialize(this)}},Oe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $d(this)}},yo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=As(this.parameters),this._parameterMap}toString(){return WD(this)}};ac=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new ks,providedIn:"root"})}}return n})(),ks=class{parse(e){let t=new Wv(e);return new $r(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ga(e.root,!0)}`,r=e2(e.queryParams),i=typeof e.fragment=="string"?`#${JL(e.fragment)}`:"";return`${t}${r}${i}`}},ZL=new ks;t2=/^[^\/()?;#]+/;n2=/^[^\/()?;=#]+/;i2=/^[^=?&#]+/;s2=/^[^&#]+/;Wv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new Oe(e,t)),r}parseSegment(){let e=jv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new yo(zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=r2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=jv(this.remaining);i&&(r=i,this.capture(r))}e[zd(t)]=zd(r)}parseQueryParam(e){let t=o2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=a2(this.remaining);s&&(r=s,this.capture(r))}let i=TD(t),o=TD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};qd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hd(r[0]))throw new x(4003,!1);let i=r.find(Xa);if(i&&i!==UD(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Os=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};Za="imperative",mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mt||{}),Mn=class{constructor(e,t){this.id=e,this.url=t}},Di=class extends Mn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=mt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends Mn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(on||{}),Wd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Wd||{}),Br=class extends Mn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Si=class extends Mn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=mt.NavigationSkipped}},ec=class extends Mn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gd=class extends Mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kv=class extends Mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yv=class extends Mn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qv=class extends Mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zv=class extends Mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jv=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xv=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ey=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ty=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ny=class{constructor(e){this.snapshot=e,this.type=mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ry=class{constructor(e){this.snapshot=e,this.type=mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=mt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},tc=class{},Ns=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};iy=class{get injector(){return cc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new lc(this.rootInjector),this.attachRef=null}},lc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new iy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(F(Ft))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=oy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=oy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=sy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sy(e,this._root).map(t=>t.value)}};rn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Qd=class extends Yd{constructor(e,t){super(e),this.snapshot=t,gy(this,e)}toString(){return this.snapshot.toString()}};Bt=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[sc]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>As(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>As(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};Ts=class{get title(){return this.data?.[sc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=As(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=As(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Jd=class extends Yd{constructor(e,t){super(t),this.url=e,gy(this,t)}toString(){return eS(this._root)}};Gn=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=_(lc),this.location=_(Rr),this.changeDetector=_(en),this.inputBinder=_(rf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cy(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bn]})}}return n})(),cy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bt?this.route:e===lc?this.childContexts:this.parent.get(e,t)}},rf=new L(""),kD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ya([r.queryParams,r.params,r.data]).pipe(Re(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?V(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=BM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();rc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},nS="ngNavigationCancelingError";E2=(n,e,t,r)=>j(i=>(new ly(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ly=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Bv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Is(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Is(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ry(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ty(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Bv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ef=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ps=class{constructor(e,t){this.component=e,this.route=t}};Ud=Symbol("INITIAL_VALUE");ic=class{constructor(e){this.segmentGroup=e||null}},oc=class extends Error{constructor(e){super(),this.urlTree=e}};uy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[oe])return q2(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:v,params:g,data:b,title:E}=i,R=yn(o,()=>a({params:g,data:b,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:v,title:E}));if(R instanceof $r)throw new oc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new oc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new $r(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Oe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},dy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};fy=class{};tV=31,py=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new uy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=ND(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new rn(r,t),o=new Jd("",i),s=l2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ts([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(j(r=>({children:r,rootSnapshot:t})),ue(r=>{if(r instanceof oc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ic?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof rn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return G(o).pipe(fn(s=>{let a=r.children[s],c=v2(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Jh((s,a)=>(s.push(...a),s)),si(null),Yh(),Be(s=>{if(s===null)return xs(r);let a=cS(s);return nV(a),V(a)}))}processSegment(e,t,r,i,o,s,a){return G(t).pipe(fn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ue(l=>{if(l instanceof ic)return V(null);throw l}))),ir(c=>!!c),ue(c=>{if(oS(c))return X2(r,i,o)?V(new fy):xs(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Wn(r)!==s&&(s===oe||!of(i,o,r))?xs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):xs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:v}=aS(t,i,o);if(!c)return xs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tV&&(this.allowRedirects=!1));let g=new Ts(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,RD(i),Wn(i),i.component??i._loadedComponent??null,i,FD(i)),b=Zd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let E=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(Be(R=>this.processSegment(e,r,t,R.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=G2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Re(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Re(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:v,remainingSegments:g}=c,b=new Ts(v,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,RD(r),Wn(r),r.component??r._loadedComponent??null,r,FD(r)),E=Zd(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(E.params),b.data=Object.freeze(E.data);let{segmentGroup:R,slicedSegments:$}=ND(t,v,g,l);if($.length===0&&R.hasChildren())return this.processChildren(u,l,R,b).pipe(j(Y=>new rn(b,Y)));if(l.length===0&&$.length===0)return V(new rn(b,[]));let se=Wn(r)===o;return this.processSegment(u,l,R,$,se?oe:o,!0,b).pipe(j(Y=>new rn(b,Y instanceof rn?[Y]:[])))}))):xs(t)))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?V({routes:t._loadedRoutes,injector:t._loadedInjector}):z2(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):W2(t))):V({routes:[],injector:e})}};uS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[sc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(lV),providedIn:"root"})}}return n})(),lV=(()=>{class n extends uS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(F(xD))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dc=new L("",{providedIn:"root",factory:()=>({})}),uV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],standalone:!0,features:[IM],decls:1,vars:0,template:function(r,i){r&1&&A(0,"router-outlet")},dependencies:[Gn],encapsulation:2})}}return n})();tf=new L(""),vy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(hd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=xi(t.loadComponent()).pipe(j(dS),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Zt(()=>{this.componentLoaders.delete(t)})),i=new oi(r,()=>new ge).pipe(Ho());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=dV(r,this.compiler,t,this.onLoadEndListener).pipe(Zt(()=>{this.childrenLoaders.delete(r)})),s=new oi(o,()=>new ge).pipe(Ho());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();yy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(pV),providedIn:"root"})}}return n})(),pV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fS=new L(""),pS=new L("");mV=new L(""),_y=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=_(vy),this.environmentInjector=_(Ft),this.urlSerializer=_(ac),this.rootContexts=_(lc),this.location=_(Ss),this.inputBindingEnabled=_(rf,{optional:!0})!==null,this.titleStrategy=_(uS),this.options=_(dc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(yy),this.createViewTransition=_(fS,{optional:!0}),this.navigationErrorHandler=_(mV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Jv(i)),r=i=>this.events.next(new Xv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(B(M(M({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new fe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Za,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),j(o=>B(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Re(o=>{let s=!1,a=!1;return V(o).pipe(Re(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",on.SupersededByNewNavigation),kt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?B(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Si(c.id,this.urlSerializer.serialize(c.rawUrl),d,Wd.IgnoredSameUrlNavigation)),c.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Re(d=>{let v=this.transitions?.getValue();return this.events.next(new Di(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),v!==this.transitions?.getValue()?kt:Promise.resolve(d)}),iV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=B(M({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let v=new Gd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:v,source:g,restoredState:b,extras:E}=c,R=new Di(d,this.urlSerializer.serialize(v),g,b);this.events.next(R);let $=XD(this.rootComponentType).snapshot;return this.currentTransition=o=B(M({},c),{targetSnapshot:$,urlAfterRedirects:v,extras:B(M({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,V(o)}else{let d="";return this.events.next(new Si(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Wd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),kt}}),ne(c=>{let l=new Kv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=B(M({},c),{guards:M2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),R2(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Xd(this.urlSerializer,c.guardsResult);let l=new Yv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",on.GuardRejected),!1)),$v(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(ne(l=>{let u=new Qv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Re(l=>{let u=!1;return V(l).pipe(oV(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",on.NoDataFromResolver)}}))}),ne(l=>{let u=new Zv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),$v(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(v=>{u.component=v}),j(()=>{})));for(let v of u.children)d.push(...l(v));return d};return ya(l(c.targetSnapshot.root)).pipe(si(null),be(1))}),$v(()=>this.afterPreactivation()),Re(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?G(u).pipe(j(()=>o)):V(o)}),j(c=>{let l=_2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=B(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new tc)}),E2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),be(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),hn(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),Zt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",on.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ue(c=>{if(a=!0,iS(c))this.events.next(new Br(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),w2(c)?this.events.next(new Ns(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new ec(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=yn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof rc){let{message:d,cancellationCode:v}=Xd(this.urlSerializer,u);this.events.next(new Br(o.id,this.urlSerializer.serialize(o.extractedUrl),d,v)),this.events.next(new Ns(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return kt}))}))}cancelNavigationTransition(t,r,i){let o=new Br(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();yV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(_V),providedIn:"root"})}}return n})(),hy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},_V=(()=>{class n extends hy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ar(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(CV),providedIn:"root"})}}return n})(),CV=(()=>{class n extends hS{constructor(){super(...arguments),this.location=_(Ss),this.urlSerializer=_(ac),this.options=_(dc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(yy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $r,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=XD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Di)this.stateMemento=this.createStateMemento();else if(t instanceof Si)this.rawUrlTree=r.initialUrl;else if(t instanceof Gd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof tc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Br&&(t.code===on.GuardRejected||t.code===on.NoDataFromResolver)?this.restoreHistory(r):t instanceof ec?this.restoreHistory(r,!0):t instanceof sn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof $r?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=M(M({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ar(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ya=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ya||{});wV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(ud),this.stateManager=_(hS),this.options=_(dc,{optional:!0})||{},this.pendingTasks=_(kr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(_y),this.urlSerializer=_(ac),this.location=_(Ss),this.urlHandlingStrategy=_(yy),this._events=new ge,this.errorHandler=this.options.errorHandler||bV,this.navigated=!1,this.routeReuseStrategy=_(yV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(tf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(rf,{optional:!0}),this.eventsSubscription=new je,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Br&&r.code!==on.Redirect&&r.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof Ns){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vV(i.source)},s);this.scheduleNavigation(a,Za,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}DV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Za,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=M({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(my),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let v=i?i.snapshot:this.routerState.snapshot.root;d=YD(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return QD(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Co(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Za,null,r)}navigate(t,r={skipLocationChange:!1}){return MV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},wV):r===!1?i=M({},EV):i=r,Co(t))return OD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return OD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,v)=>{a=d,c=v});let u=this.pendingTasks.add();return gS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Dn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Co(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:TE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Co(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Bt),Pm("tabindex"),D($n),D(bt),D(jr))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&S("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ci],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ci],replaceUrl:[2,"replaceUrl","replaceUrl",Ci],routerLink:"routerLink"},standalone:!0,features:[Xm,Bn]})}}return n})(),mS=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new X,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof sn&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(nr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=G(t).pipe(nr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=SV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(bt),D($n),D(en),D(Dn,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&SM(o,Dn,5),r&2){let s;ws(s=Es())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Bn]})}}return n})();nf=class{},xV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof sn),fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=cd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return G(i).pipe(nr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=V(null);let o=i.pipe(Be(s=>s===null?V(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return G([o,s]).pipe(nr())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(hd),F(Ft),F(nf),F(vy))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vS=new L(""),IV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Si&&t.code===Wd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){$E()}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();yS=new L("",{factory:()=>new ge}),Cy=new L("",{providedIn:"root",factory:()=>1});_S=new L("");LD=new L("ROUTER_FORROOT_GUARD"),FV=[Ss,{provide:ac,useClass:ks},Te,lc,{provide:Bt,useFactory:OV,deps:[Te]},vy,[]],by=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[FV,[],{provide:tf,multi:!0,useValue:t},{provide:LD,useFactory:UV,deps:[[Te,new Bu,new mm]]},{provide:dc,useValue:r||{}},r?.useHash?VV():jV(),LV(),r?.preloadingStrategy?kV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?BV(r):[],r?.bindToComponentInputs?NV().\u0275providers:[],r?.enableViewTransitions?RV().\u0275providers:[],$V()]}}static forChild(t){return{ngModule:n,providers:[{provide:tf,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(F(LD,8))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})();VD=new L("")});var sf,CS=h(()=>{"use strict";ai();we();N();$a();sf=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(at(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(at(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}static \u0275fac=function(t){return new(t||n)(F(vo))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var zV,HV,it,Ls=h(()=>{"use strict";ri();zV=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],HV=!zV.includes(window.location.hostname),it={baseURL:function(){return ft.getPlatform()!=="web"&&window.location.hostname==="localhost"?"http://192.168.1.88:3030/api":HV?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`}(),notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function pc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var bS=h(()=>{"use strict"});function gc(n,e=200){return P(this,null,function*(){if(hc){let t=pc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${it.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function qV(n,e){return P(this,null,function*(){if(hc){let t=yield fetch(`${it.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield gc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function WV(n,e){return P(this,null,function*(){let t=`${it.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function GV(n,e,t){return P(this,null,function*(){if(hc){let r=t?`${it.baseURL}/${t}`:`${it.baseURL}/${n}`,i={"Content-Type":"application/json"},o=pc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=B(M({},e),{_id:QV()}),i=yield gc(n);return i.push(r),wy(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function KV(n,e){return P(this,null,function*(){if(hc){let t=`${it.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=pc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield gc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),wy(n,t),e}})}function YV(n,e){return P(this,null,function*(){if(hc){let t=pc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${it.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield gc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),wy(n,t)}})}function wy(n,e){localStorage.setItem(n,JSON.stringify(e))}function QV(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var ot,hc,Ey=h(()=>{"use strict";Ls();bS();ot={post:GV,get:qV,put:KV,remove:YV,query:gc,login:WV},hc=!0});var wS,ZV,af,ES=h(()=>{"use strict";wS="dzqnyehxn",ZV="fuhrsp2z",af={CLOUD_NAME:wS,UPLOAD_PRESET:ZV,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${wS}/${n}/upload`}});var mr,mc=h(()=>{"use strict";ES();we();N();mr=class n{cloudName=af.CLOUD_NAME;uploadPreset=af.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=af.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),G(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Yn,vc,yc,cf=h(()=>{"use strict";Yn=Object.create(null);Yn.open="0";Yn.close="1";Yn.ping="2";Yn.pong="3";Yn.message="4";Yn.upgrade="5";Yn.noop="6";vc=Object.create(null);Object.keys(Yn).forEach(n=>{vc[Yn[n]]=n});yc={type:"error",data:"parser error"}});function DS(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function OS(n,e){if(SS&&n.data instanceof Blob)return n.data.arrayBuffer().then(DS).then(e);if(xS&&(n.data instanceof ArrayBuffer||IS(n.data)))return e(DS(n.data));_c(n,!1,t=>{Dy||(Dy=new TextEncoder),e(Dy.encode(t))})}var SS,xS,IS,_c,MS,Dy,TS=h(()=>{"use strict";cf();SS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xS=typeof ArrayBuffer=="function",IS=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,_c=({type:n,data:e},t,r)=>SS&&e instanceof Blob?t?r(e):MS(e,r):xS&&(e instanceof ArrayBuffer||IS(e))?t?r(e):MS(new Blob([e]),r):r(Yn[n]+(e||"")),MS=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var PS,Cc,AS,kS=h(()=>{"use strict";PS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<PS.length;n++)Cc[PS.charCodeAt(n)]=n;AS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=Cc[n.charCodeAt(r)],s=Cc[n.charCodeAt(r+1)],a=Cc[n.charCodeAt(r+2)],c=Cc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var JV,bc,XV,NS,RS=h(()=>{"use strict";cf();kS();JV=typeof ArrayBuffer=="function",bc=(n,e)=>{if(typeof n!="string")return{type:"message",data:NS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:XV(n.substring(1),e)}:vc[t]?n.length>1?{type:vc[t],data:n.substring(1)}:{type:vc[t]}:yc},XV=(n,e)=>{if(JV){let t=AS(n);return NS(t,e)}else return{base64:!0,data:n}},NS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function jS(){return new TransformStream({transform(n,e){OS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function lf(n){return n.reduce((e,t)=>e+t.length,0)}function uf(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function US(n,e){Sy||(Sy=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(lf(t)<1)break;let c=uf(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(lf(t)<2)break;let c=uf(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(lf(t)<8)break;let c=uf(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(yc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(lf(t)<i)break;let c=uf(t,i);a.enqueue(bc(o?c:Sy.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(yc);break}}}})}var FS,LS,VS,Sy,xy,Vs=h(()=>{"use strict";TS();RS();cf();FS="",LS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{_c(o,!1,a=>{r[s]=a,++i===t&&e(r.join(FS))})})},VS=(n,e)=>{let t=n.split(FS),r=[];for(let i=0;i<t.length;i++){let o=bc(t[i],e);if(r.push(o),o.type==="error")break}return r};xy=4});function Le(n){if(n)return ej(n)}function ej(n){for(var e in Le.prototype)n[e]=Le.prototype[e];return n}var bo=h(()=>{"use strict";Le.prototype.on=Le.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Le.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Le.prototype.off=Le.prototype.removeListener=Le.prototype.removeAllListeners=Le.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Le.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Le.prototype.emitReserved=Le.prototype.emit;Le.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Le.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var zr,$t,BS,wo=h(()=>{"use strict";zr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),$t=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),BS="arraybuffer"});function df(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Hr(n,e){e.useNativeTimers?(n.setTimeoutFn=tj.bind($t),n.clearTimeoutFn=nj.bind($t)):(n.setTimeoutFn=$t.setTimeout.bind($t),n.clearTimeoutFn=$t.clearTimeout.bind($t))}function $S(n){return typeof n=="string"?ij(n):Math.ceil((n.byteLength||n.size)*rj)}function ij(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function ff(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var tj,nj,rj,Eo=h(()=>{"use strict";wo();tj=$t.setTimeout,nj=$t.clearTimeout;rj=1.33});function zS(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function HS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Iy=h(()=>{"use strict"});var pf,qr,wc=h(()=>{"use strict";Vs();bo();Eo();Iy();pf=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},qr=class extends Le{constructor(e){super(),this.writable=!1,Hr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new pf(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=bc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=zS(e);return t.length?"?"+t:""}}});var Ec,Oy=h(()=>{"use strict";wc();Eo();Vs();Ec=class extends qr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};VS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,LS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=ff()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var qS,WS,GS=h(()=>{"use strict";qS=!1;try{qS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}WS=qS});function oj(){}function KS(){for(let n in hf.requests)hf.requests.hasOwnProperty(n)&&hf.requests[n].abort()}function YS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||WS))return new XMLHttpRequest}catch{}if(!e)try{return new $t[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Ty,hf,sj,Ii,gf=h(()=>{"use strict";Oy();bo();Eo();wo();GS();Ty=class extends Ec{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},hf=(()=>{class n extends Le{constructor(t,r,i){super(),this.createRequest=t,Hr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=df(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=oj,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",KS);else if(typeof addEventListener=="function"){let n="onpagehide"in $t?"pagehide":"unload";addEventListener(n,KS,!1)}}sj=function(){let n=YS({xdomain:!1});return n&&n.responseType!==null}(),Ii=class extends Ty{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=sj&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new hf(YS,this.uri(),e)}}});var QS,Ay,Py,Oi,mf=h(()=>{"use strict";wc();Eo();Vs();wo();QS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ay=class extends qr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=QS?{}:df(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;_c(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&zr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ff()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Py=$t.WebSocket||$t.MozWebSocket,Oi=class extends Ay{createSocket(e,t,r){return QS?new Py(e,t,r):t?new Py(e,t):new Py(e)}doWrite(e,t){this.ws.send(t)}}});var js,ky=h(()=>{"use strict";wc();wo();Vs();js=class extends qr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=US(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=jS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&zr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var Ny,Ry=h(()=>{"use strict";gf();mf();ky();Ny={websocket:Oi,webtransport:js,polling:Ii}});function Us(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=aj.exec(n||""),o={},s=14;for(;s--;)o[cj[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=lj(o,o.path),o.queryKey=uj(o,o.query),o}function lj(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function uj(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var aj,cj,Fy=h(()=>{"use strict";aj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,cj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Ly,vf,yf,_f,Bs,Vy=h(()=>{"use strict";Ry();Eo();Iy();Fy();bo();Vs();wo();Ly=typeof addEventListener=="function"&&typeof removeEventListener=="function",vf=[];Ly&&addEventListener("offline",()=>{vf.forEach(n=>n())},!1);yf=(()=>{class n extends Le{constructor(t,r){if(super(),this.binaryType=BS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Us(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Us(r.host).host);Hr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=HS(this.opts.query)),Ly&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=xy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=$S(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,zr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ly&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=vf.indexOf(this._offlineEventListener);i!==-1&&vf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=xy,n})(),_f=class extends yf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;yf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;yf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let v=new Error("probe error: "+d);v.transport=t.name,o(),this.emitReserved("upgradeError",v)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Bs=class extends _f{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Ny[i]).filter(i=>!!i)),super(e,r)}}});var ZS=h(()=>{"use strict";Oy()});var EQ,Cf=h(()=>{"use strict";Vy();Vy();wc();Ry();Eo();Fy();wo();ZS();gf();gf();mf();mf();ky();EQ=Bs.protocol});function JS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Us(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var XS=h(()=>{"use strict";Cf()});function Dc(n){return fj&&(n instanceof ArrayBuffer||pj(n))||hj&&n instanceof Blob||gj&&n instanceof File}function Mc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Mc(n[t]))return!0;return!1}if(Dc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Mc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Mc(n[t]))return!0;return!1}var fj,pj,ex,hj,gj,jy=h(()=>{"use strict";fj=typeof ArrayBuffer=="function",pj=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ex=Object.prototype.toString,hj=typeof Blob=="function"||typeof Blob<"u"&&ex.call(Blob)==="[object BlobConstructor]",gj=typeof File=="function"||typeof File<"u"&&ex.call(File)==="[object FileConstructor]"});function tx(n){let e=[],t=n.data,r=n;return r.data=Uy(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Uy(n,e){if(!n)return n;if(Dc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Uy(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Uy(n[r],e));return t}return n}function nx(n,e){return n.data=By(n.data,e),delete n.attachments,n}function By(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=By(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=By(n[t],e));return n}var rx=h(()=>{"use strict";jy()});var qy={};FT(qy,{Decoder:()=>zy,Encoder:()=>$y,PacketType:()=>he,protocol:()=>ox});function ix(n){return Object.prototype.toString.call(n)==="[object Object]"}var mj,ox,he,$y,zy,Hy,bf=h(()=>{"use strict";bo();rx();jy();mj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ox=5,he=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(he||{}),$y=class{constructor(e){this.replacer=e}encode(e){return(e.type===he.EVENT||e.type===he.ACK)&&Mc(e)?this.encodeAsBinary({type:e.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===he.BINARY_EVENT||e.type===he.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=tx(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};zy=class n extends Le{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===he.BINARY_EVENT;r||t.type===he.BINARY_ACK?(t.type=r?he.EVENT:he.ACK,this.reconstructor=new Hy(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Dc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(he[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===he.BINARY_EVENT||r.type===he.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case he.CONNECT:return ix(t);case he.DISCONNECT:return t===void 0;case he.CONNECT_ERROR:return typeof t=="string"||ix(t);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&mj.indexOf(t[0])===-1);case he.ACK:case he.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Hy=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=nx(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function an(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Wy=h(()=>{"use strict"});var vj,$s,Gy=h(()=>{"use strict";bf();Wy();bo();vj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),$s=class extends Le{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[an(e,"open",this.onopen.bind(this)),an(e,"packet",this.onpacket.bind(this)),an(e,"error",this.onerror.bind(this)),an(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(vj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:he.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:he.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case he.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(e);break;case he.ACK:case he.BINARY_ACK:this.onack(e);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:he.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function Mo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var sx=h(()=>{"use strict";Mo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};Mo.prototype.reset=function(){this.attempts=0};Mo.prototype.setMin=function(n){this.ms=n};Mo.prototype.setMax=function(n){this.max=n};Mo.prototype.setJitter=function(n){this.jitter=n}});var zs,ax=h(()=>{"use strict";Cf();Gy();bf();Wy();sx();bo();zs=class extends Le{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Hr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Mo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||qy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Bs(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=an(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=an(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(an(e,"ping",this.onping.bind(this)),an(e,"data",this.ondata.bind(this)),an(e,"error",this.onerror.bind(this)),an(e,"close",this.onclose.bind(this)),an(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){zr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new $s(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function xc(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=JS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Sc[i]&&o in Sc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new zs(r,e):(Sc[i]||(Sc[i]=new zs(r,e)),c=Sc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var Sc,cx=h(()=>{"use strict";XS();ax();Gy();bf();Cf();Sc={};Object.assign(xc,{Manager:zs,Socket:$s,io:xc,connect:xc})});var Hs,Ky=h(()=>{"use strict";N();Hs=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function dx(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname),r=ft.getPlatform()!=="web";return!t&&r&&window.location.hostname==="localhost"?"http://10.0.2.2:3030":t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var pZ,ux,yj,_j,Cj,bj,wj,Ej,Sn,qs=h(()=>{"use strict";cx();Tt();ri();N();Ky();pZ=dx(),ux="chat-add-msg",yj="chat-add-private-msg",_j="chat-send-msg",Cj="chat-set-topic",bj="chat-send-private-msg",wj="set-user-socket",Ej="unset-user-socket",Sn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;chatAddMsgCallbacks=[];isChatAddMsgListenerRegistered=!1;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=dx(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=xc(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}subscribeToChatAddMsg(e){this.chatAddMsgCallbacks.push(e),this.isChatAddMsgListenerRegistered||(this.socket||this.setup(),this.socket?.on(ux,t=>{this.chatAddMsgCallbacks.forEach(r=>r(t))}),this.isChatAddMsgListenerRegistered=!0)}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(Cj,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(_j,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i,o){this.socket||this.setup();let s=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",s),!s||!e||!t.trim()&&!i&&!o){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:s,toUserId:e,msg:t,imageUrl:i,videoUrl:o});return}let a={sender:s._id,senderName:s.username,text:t||"",imageUrl:i||void 0,videoUrl:o||void 0,toUserId:e};this.addToBuffer(B(M({},a),{senderName:"Me"})),console.log("\u2705 Sending private message:",a),this.socket?.emit(bj,{toUserId:e,text:t,imageUrl:i,videoUrl:o,sender:s._id,senderName:s.username,tempId:r})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(wj,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(ux,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(yj,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=B(M({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id}),i=this.privateMessagesBuffer.findIndex(o=>o.tempId!==void 0&&r.tempId!==void 0&&o.tempId===r.tempId);i!==-1?this.privateMessagesBuffer[i]=M(M({},this.privateMessagesBuffer[i]),r):this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(Ej)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(F(et),F(Hs))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ic,Ti,fx,px,Pi,Ce,Tt=h(()=>{"use strict";we();Ey();Ls();N();mc();qs();Ic="user",Ti="loggedInUser",fx="facebookId",px="facebookAccessToken",Pi="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(Ti)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new fe([]);users$=this._users$.asObservable();_filterBy$=new fe("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new fe(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){G(ot.query(Ic)).pipe(ne(e=>{this._users$.next(this._sort(e))}),ue(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(Ti)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(Ti)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(Ti,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Pi,e),sessionStorage.setItem(Pi,e),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"SAVE_LOGIN_TOKEN",token:e}),console.log("\u{1F4BE} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC-Service Worker \u05DC\u05E9\u05DE\u05D9\u05E8\u05EA token \u05D1\u05BEIndexedDB"))}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Pi)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Pi)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Pi)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Pi)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Pi)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${it.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={email:e,password:t};return G(ot.login("auth/login",r)).pipe(ne(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(Ti,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),ue(this._handleError))}loginWithFacebook(e){return G(ot.login("auth/facebook",e)).pipe(ne(t=>{let r=t.user,i=t.loginToken;this._loggedInUser$.next(r),localStorage.setItem(Ti,JSON.stringify(r)),localStorage.setItem(fx,e.facebookId),localStorage.setItem(px,e.accessToken),this.socketService.login(r._id),this._saveLoginToken(i)}),j(t=>t.user),ue(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(Ti),localStorage.removeItem(fx),localStorage.removeItem(px),localStorage.removeItem(Pi),this.socketService.logout()}loadUsers(){return G(ot.query(Ic)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),ne(e=>this._users$.next(e)),at(3),ue(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(be(1)).subscribe()}deleteUser(e){return G(ot.remove(Ic,e)).pipe(ne(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),at(2),ue(this._handleError))}getUserById(e){return G(ot.get(Ic,e)).pipe(at(3),ue(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=B(M({},e),{_id:this._getRandomId()});return G(ot.post("auth/signup",t)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),at(3),ue(this._handleError))}_updateUser(e){return G(ot.put(Ic,e)).pipe(ne(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),at(3),ue(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),Xe(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?G(ot.put("user/updateProfile",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(Ti,JSON.stringify(t))}),ue(this._handleError)):Xe(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Re(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return Xe(()=>new Error("No logged-in user found. Please log in."));let i=B(M({},r),{img:t});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),ue(t=>(console.error("Error updating user image:",t.message||t),Xe(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(F(mr),F(Sn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function wf(n,e){return{type:re.Trigger,name:n,definitions:e,options:{}}}function Pc(n,e=null){return{type:re.Animate,styles:e,timings:n}}function hx(n,e=null){return{type:re.Sequence,steps:n,options:e}}function Qn(n){return{type:re.Style,styles:n,offset:null}}function Qy(n,e,t){return{type:re.State,name:n,styles:e,options:t}}function Ac(n,e,t=null){return{type:re.Transition,expr:n,animation:e,options:t}}var re,vr,Ai,Tc,Ef,Mf=h(()=>{"use strict";re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(re||{}),vr="*";Ai=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Tc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ef="!"});var kc,St,Wr=h(()=>{"use strict";we();Ey();N();kc="contact",St=class n{_contacts$=new fe([]);contacts$=this._contacts$.asObservable();_allContacts$=new fe([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new fe({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){G(ot.query(kc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),G(ot.query("contact/All")).pipe(ne(e=>{this._allContacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(M({},r),{img:t});return G(ot.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),at(1),ue(o=>this._handleError(o)))}updateContactVideo(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(M({},r),{video:t});return G(ot.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),at(1),ue(o=>this._handleError(o)))}loadContacts(){return G(ot.query(kc)).pipe(ne(e=>{let t=this._filterBy$.value;e=e.map(r=>B(M({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),at(1),ue(this._handleError))}deleteContact(e){return G(ot.remove(kc,e)).pipe(ne(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),at(1),ue(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(be(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return G(ot.get(kc,e)).pipe(at(1),ue(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),G(ot.put("contact/edit",e)).pipe(ne(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),at(1),ue(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),G(ot.post(kc,e)).pipe(ne(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),at(1),ue(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),Xe(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ws,Zy=h(()=>{"use strict";N();Ws=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Yt(n){n||(wm(Yt),n=_(Lt));let e=new ee(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(hn(e))}var Gs=h(()=>{"use strict";N();we();ai();});var Pt,ki=h(()=>{"use strict";N();we();Gs();N();Pt=class n{destroyRef=_(Lt);_msg=new fe(null);msg$=this._msg.asObservable().pipe(Dr());_msgQueue$=new ge;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(fn(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?V(null):(this._currentMsg=e,V(e).pipe(ne(()=>this._msg.next(e)),pn(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(Yt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var vt,Gr=h(()=>{"use strict";N();vt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&S("click",function(o){return r.onClick(o)})}})}});function Dj(n,e){if(n&1&&(wt(0),p(1,"h1"),C(2),f(),A(3,"img",3),Et()),n&2){let t=w();m(2),Pe("Hello: ",t.logdinUser.username,"!"),m(),y("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Ie)}}function Sj(n,e){if(n&1){let t=z();p(0,"h1"),C(1," Welcome!!!"),A(2,"br"),C(3," Please login or sign up"),A(4,"br"),p(5,"span",4),A(6,"img",5),f()(),p(7,"section",6)(8,"a",7),C(9,"Login"),f(),p(10,"a",8),C(11,"Sign Up"),f(),p(12,"button",9),S("click",function(){O(t);let i=w();return T(i.loginWithFacebook())}),A(13,"img",10),p(14,"span",11),C(15,"Login with Facebook"),f()()()}}var Df,mx=h(()=>{"use strict";N();CS();we();Tt();Mf();Wr();N();Zy();ki();lt();De();Gr();Df=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=_(sf);userService=_(Ce);logdinUser=this.userService.getLoggedInUser();contactService=_(St);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(be(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Ws),D(Pt),D(Te))};static \u0275cmp=Z({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(p(0,"section",1),k(1,Dj,4,2,"ng-container",2)(2,Sj,16,0,"ng-template",null,0,Hn),f()),t&2){let i=ct(3);m(),y("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[me,Dn,vt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:max-content;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;min-height:max-content;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;min-height:max-content;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[wf("bounceArrow",[Qy("up",Qn({transform:"translateY(-10px)"})),Qy("down",Qn({transform:"translateY(10px)"})),Ac("up <=> down",[Pc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var xn,Ys=h(()=>{"use strict";N();N();xn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new X;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(bt))};static \u0275dir=ae({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function xj(n,e){if(n&1){let t=z();p(0,"div",1)(1,"div",2),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.cancel())}),p(2,"p"),C(3),f(),p(4,"div",3)(5,"button",4),S("click",function(){O(t);let i=w();return T(i.confirm())}),C(6,"Yes"),f(),p(7,"button",4),S("click",function(){O(t);let i=w();return T(i.cancel())}),C(8,"No"),f()()()()}if(n&2){let t=w();m(3),ht(t.message)}}var Qs,Jy=h(()=>{"use strict";N();N();De();Gr();Ys();Qs=class n{isVisible=!1;message="";confirmed=new X;canceled=new X;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&k(0,xj,9,1,"div",0),t&2&&y("ngIf",r.isVisible)},dependencies:[me,vt,xn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var Ij,Oj,Tj,xf,yx=h(()=>{"use strict";N();N();lt();ki();Zy();De();Jy();Gr();Ij=(n,e)=>[n,e],Oj=n=>({"long-name":n}),Tj=n=>["/contact/edit",n],xf=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new X;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Te),D(Pt),D(Ws))};static \u0275cmp=Z({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:14,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(p(0,"article",0),S("click",function(){return r.onPreviewClick()}),A(1,"img",1),p(2,"div",2)(3,"h1",3),C(4),f()(),p(5,"div",4)(6,"button",5),S("click",function(){return r.onDeleteClick()}),A(7,"img",6),f(),p(8,"button",7),S("click",function(){return r.onEditClick()}),A(9,"img",8),f(),p(10,"button",9),S("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),A(11,"img",10),f()()(),p(12,"app-modal",11),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),A(13,"router-outlet")),t&2&&(m(),y("src",r.contact.img?r.contact.img:"../../../assets/images/picture.png",Ie)("ngClass",bn(7,Ij,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),m(2),y("ngClass",Fa(10,Oj,r.isLongName)),m(),Pe(" ",r.contact.name," "),m(4),y("routerLink",Fa(12,Tj,r.contact._id)),m(4),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[pr,Gn,Dn,Qs,vt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;width:22em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;height:17em;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1c284e;font-weight:700;text-align:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:10px;margin-top:.5rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:1.125rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{gap:8px}}']})}});function Aj(n,e){if(n&1){let t=z();p(0,"contact-preview",2),S("remove",function(){let i=O(t).$implicit,o=w();return T(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;y("contact",t)}}var If,_x=h(()=>{"use strict";N();lt();we();N();lt();De();yx();If=class n{constructor(e){this.router=e}contacts;remove=new X;destroy$=new ge;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof sn)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=Z({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(p(0,"section",0),k(1,Aj,1,1,"contact-preview",1),f()),t&2&&(m(),y("ngForOf",r.contacts))},dependencies:[hr,xf],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function Rj(){let n=fr()?fr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Ni(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Tx(n){return n!=null&&typeof n.length=="number"}function Vj(n){return e=>{if(Ni(e.value)||Ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function jj(n){return e=>{if(Ni(e.value)||Ni(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Px(n){return Ni(n.value)?{required:!0}:null}function Uj(n){return n.value===!0?null:{required:!0}}function Bj(n){return Ni(n.value)||Lj.test(n.value)?null:{email:!0}}function Ax(n){return e=>Ni(e.value)||!Tx(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function $j(n){return e=>Tx(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function zj(n){if(!n)return Tf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ni(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Tf(n){return null}function kx(n){return n!=null}function Nx(n){return _i(n)?G(n):n}function Rx(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function Fx(n,e){return e.map(t=>t(n))}function Hj(n){return!n.validate}function Lx(n){return n.map(e=>Hj(e)?e:t=>e.validate(t))}function Vx(n){if(!n)return null;let e=n.filter(kx);return e.length==0?null:function(t){return Rx(Fx(t,e))}}function o_(n){return n!=null?Vx(Lx(n)):null}function jx(n){if(!n)return null;let e=n.filter(kx);return e.length==0?null:function(t){let r=Fx(t,e).map(Nx);return Lh(r).pipe(j(Rx))}}function s_(n){return n!=null?jx(Lx(n)):null}function Cx(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ux(n){return n._rawValidators}function Bx(n){return n._rawAsyncValidators}function Xy(n){return n?Array.isArray(n)?n:[n]:[]}function Pf(n,e){return Array.isArray(n)?n.includes(e):n===e}function bx(n,e){let t=Xy(e);return Xy(n).forEach(i=>{Pf(t,i)||t.push(i)}),t}function wx(n,e){return Xy(e).filter(t=>!Pf(n,t))}function a_(n){return(jf(n)?n.validators:n)||null}function Wj(n){return Array.isArray(n)?o_(n):n||null}function c_(n,e){return(jf(e)?e.asyncValidators:n)||null}function Gj(n){return Array.isArray(n)?s_(n):n||null}function jf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function $x(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function zx(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new x(1002,"")})}function Hx(n,e){return[...e.path,n]}function Rf(n,e,t=Uf){l_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Yj(n,e),Zj(n,e),Qj(n,e),Kj(n,e)}function Ex(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Lf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ff(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function l_(n,e){let t=Ux(n);e.validator!==null?n.setValidators(Cx(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Bx(n);e.asyncValidator!==null?n.setAsyncValidators(Cx(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ff(e._rawValidators,i),Ff(e._rawAsyncValidators,i)}function Lf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Ux(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=Bx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ff(e._rawValidators,r),Ff(e._rawAsyncValidators,r),t}function Yj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&qx(n,e)})}function Qj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&qx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function qx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Wx(n,e){n==null,l_(n,e)}function Jj(n,e){return Lf(n,e)}function Gx(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Xj(n){return Object.getPrototypeOf(n.constructor)===i_}function Kx(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Yx(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===In?t=o:Xj(o)?r=o:i=o}),i||r||t||null}function eU(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Dx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function Zx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function aU(n){return n.split(":")[0]}function xx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function lU(n){return n.split(":")[0]}function uU(n){return typeof n=="number"?n:parseInt(n,10)}function Ix(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ox,i_,Uc,Nj,Fj,In,On,ta,Lj,Ri,Af,Kr,So,kf,qj,FJ,yr,Vf,Nc,Of,Zs,Rc,Fi,Nf,Lc,Vc,Js,e_,t_,Xs,ea,n_,Bc,Uf,tU,Fc,u_,jc,nU,rU,Sx,Yr,Bf,Qx,iU,d_,oU,f_,sU,$f,Jx,cU,Xx,eI,tI,dU,p_,fU,h_,nI,r_,rI,iI,oI,Tn=h(()=>{"use strict";N();N();De();we();ai();Ox=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D($n),D(bt))}}static{this.\u0275dir=ae({type:n})}}return n})(),i_=(()=>{class n extends Ox{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ar(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,features:[Wt]})}}return n})(),Uc=new L(""),Nj={provide:Uc,useExisting:vn(()=>In),multi:!0};Fj=new L(""),In=(()=>{class n extends Ox{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Rj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D($n),D(bt),D(Fj,8))}}static{this.\u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[nt([Nj]),Wt]})}}return n})();On=new L(""),ta=new L(""),Lj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ri=class{static min(e){return Vj(e)}static max(e){return jj(e)}static required(e){return Px(e)}static requiredTrue(e){return Uj(e)}static email(e){return Bj(e)}static minLength(e){return Ax(e)}static maxLength(e){return $j(e)}static pattern(e){return zj(e)}static nullValidator(e){return Tf(e)}static compose(e){return Vx(e)}static composeAsync(e){return jx(e)}};Af=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=o_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=s_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Kr=class extends Af{get formDirective(){return null}get path(){return null}},So=class extends Af{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},kf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},FJ=B(M({},qj),{"[class.ng-submitted]":"isSubmitted"}),yr=(()=>{class n extends kf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(So,2))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&zn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Wt]})}}return n})(),Vf=(()=>{class n extends kf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Kr,10))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&zn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Wt]})}}return n})(),Nc="VALID",Of="INVALID",Zs="PENDING",Rc="DISABLED",Fi=class{},Nf=class extends Fi{constructor(e,t){super(),this.value=e,this.source=t}},Lc=class extends Fi{constructor(e,t){super(),this.pristine=e,this.source=t}},Vc=class extends Fi{constructor(e,t){super(),this.touched=e,this.source=t}},Js=class extends Fi{constructor(e,t){super(),this.status=e,this.source=t}},e_=class extends Fi{constructor(e){super(),this.source=e}},t_=class extends Fi{constructor(e){super(),this.source=e}};Xs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=mo(()=>this.statusReactive()),this.statusReactive=go(void 0),this._pristine=mo(()=>this.pristineReactive()),this.pristineReactive=go(!0),this._touched=mo(()=>this.touchedReactive()),this.touchedReactive=go(!1),this._events=new ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return tn(this.statusReactive)}set status(e){tn(()=>this.statusReactive.set(e))}get valid(){return this.status===Nc}get invalid(){return this.status===Of}get pending(){return this.status==Zs}get disabled(){return this.status===Rc}get enabled(){return this.status!==Rc}get pristine(){return tn(this.pristineReactive)}set pristine(e){tn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return tn(this.touchedReactive)}set touched(e){tn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wx(e,this._rawAsyncValidators))}hasValidator(e){return Pf(this._rawValidators,e)}hasAsyncValidator(e){return Pf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Lc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Lc(!0,r))}markAsPending(e={}){this.status=Zs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Js(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rc,this.errors=null,this._forEachChild(i=>{i.disable(B(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nf(this.value,r)),this._events.next(new Js(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nc,this._forEachChild(r=>{r.enable(B(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nc||this.status===Zs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nf(this.value,t)),this._events.next(new Js(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rc:Nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Nx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Js(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Rc:this.errors?Of:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(Of)?Of:Nc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Lc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Vc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Wj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Gj(this._rawAsyncValidators)}},ea=class extends Xs{constructor(e,t,r){super(a_(t),c_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zx(this,!0,e),Object.keys(e).forEach(r=>{$x(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},n_=class extends ea{},Bc=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Uf}),Uf="always";tU={provide:Kr,useExisting:vn(()=>u_)},Fc=Promise.resolve(),u_=(()=>{class n extends Kr{get submitted(){return tn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=mo(()=>this.submittedReactive()),this.submittedReactive=go(!1),this._directives=new Set,this.ngSubmit=new X,this.form=new ea({},o_(t),s_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Rf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fc.then(()=>{let r=this._findContainer(t.path),i=new ea({});Wx(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Kx(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(On,10),D(ta,10),D(Bc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([tU]),Wt]})}}return n})();jc=class extends Xs{constructor(e=null,t,r){super(a_(t),c_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Dx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Dx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},nU=n=>n instanceof jc,rU={provide:So,useExisting:vn(()=>Yr)},Sx=Promise.resolve(),Yr=(()=>{class n extends So{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new jc,this._registered=!1,this.name="",this.update=new X,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Yx(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Gx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Rf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Sx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ci(r);Sx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Hx(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Kr,9),D(On,10),D(ta,10),D(Uc,10),D(en,8),D(Bc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nt([rU]),Wt,Bn]})}}return n})(),Bf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Qx=new L(""),iU={provide:Kr,useExisting:vn(()=>d_)},d_=(()=>{class n extends Kr{get submitted(){return tn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=mo(()=>this._submittedReactive()),this._submittedReactive=go(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Rf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ex(t.control||null,t,!1),eU(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Kx(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new e_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new t_(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Ex(r||null,t),nU(i)&&(Rf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Wx(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Jj(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l_(this.form,this),this._oldForm&&Lf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(On,10),D(ta,10),D(Bc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([iU]),Wt,Bn]})}}return n})(),oU={provide:So,useExisting:vn(()=>f_)},f_=(()=>{class n extends So{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Yx(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Gx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Kr,13),D(On,10),D(ta,10),D(Uc,10),D(Qx,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([oU]),Wt,Bn]})}}return n})(),sU={provide:Uc,useExisting:vn(()=>$f),multi:!0};$f=(()=>{class n extends i_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Zx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=aU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ar(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([sU]),Wt]})}}return n})(),Jx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Zx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(bt),D($n),D($f,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),cU={provide:Uc,useExisting:vn(()=>Xx),multi:!0};Xx=(()=>{class n extends i_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=lU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ar(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([cU]),Wt]})}}return n})(),eI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(xx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(bt),D($n),D(Xx,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();tI=(()=>{class n{constructor(){this._validator=Tf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,features:[Bn]})}}return n})(),dU={provide:On,useExisting:vn(()=>p_),multi:!0},p_=(()=>{class n extends tI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ci,this.createValidator=t=>Px}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ar(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&bs("required",i._enabled?"":null)},inputs:{required:"required"},features:[nt([dU]),Wt]})}}return n})(),fU={provide:On,useExisting:vn(()=>h_),multi:!0},h_=(()=>{class n extends tI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>uU(t),this.createValidator=t=>Ax(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ar(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&bs("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[nt([fU]),Wt]})}}return n})(),nI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),r_=class extends Xs{constructor(e,t,r){super(a_(t),c_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zx(this,!1,e),e.forEach((r,i)=>{$x(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};rI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Ix(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ea(i,o)}record(t,r=null){let i=this._reduceControls(t);return new n_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Ix(r)?o=r:(o.validators=r,o.asyncValidators=i),new jc(t,B(M({},o),{nonNullable:!0}))):new jc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new r_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof jc)return t;if(t instanceof Xs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Bc,useValue:t.callSetDisabledState??Uf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[nI]})}}return n})(),oI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Bc,useValue:t.callSetDisabledState??Uf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[nI]})}}return n})()});function pU(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.onClearFilter())}),C(1," \u2716 "),f()}}var zf,sI=h(()=>{"use strict";N();we();Gs();Wr();N();De();Tn();zf=class n{contactService=_(St);filterBy;filterSubject$=new ge;destroyRef=_(Lt);ngOnInit(){this.contactService.filterBy$.pipe(Yt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Dr(),Yt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),jt("ngModelChange",function(o){return Gt(r.filterBy.name,o)||(r.filterBy.name=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),k(3,pU,2,0,"button",3),f()()),t&2&&(m(2),Vt("ngModel",r.filterBy.name),m(),y("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[me,In,yr,Yr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Hf,aI=h(()=>{"use strict";N();Gs();Wr();N();lt();_x();sI();De();Hf=class n{contactService=_(St);contacts$;destroyRef=_(Lt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(Yt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/expansion.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"contact-filter"),A(2,"input",1),f(),p(3,"button",2),A(4,"img",3),p(5,"span"),C(6,"New Content"),f()(),p(7,"contact-list",4),Mt(8,"async"),S("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(m(7),y("contacts",Dt(8,1,r.contacts$)))},dependencies:[Dn,If,zf,Kt],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});var qf,cI=h(()=>{"use strict";N();qf=class n{transform(e){if(!e)return"";let t=/(https?:\/\/)?(www\.)?([^\/.]+)\.co/,r=e.match(t);if(r){let i=r[3];return`<a href="${e}" target="_blank" rel="noopener noreferrer">${i}</a>`}return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=lo({name:"extractDomain",type:n,pure:!0})}});function mU(n,e){if(n&1&&(p(0,"div",11),A(1,"img",12),f()),n&2){let t=w().ngIf;m(),y("src",t.img?t.img:"../../../assets/images/picture.png",Ie)("ngClass",bn(2,lI,t.imageSize||"medium",t.imageShape||"circle"))}}function vU(n,e){if(n&1&&(p(0,"div",13)(1,"video",14),C(2," Your browser does not support the video tag. "),f()()),n&2){let t=w().ngIf;m(),y("src",t.video,Ie)("ngClass",bn(2,lI,t.imageSize||"medium",t.imageShape||"circle"))}}function yU(n,e){if(n&1&&(p(0,"p")(1,"strong"),C(2,"Dscription:"),f(),C(3),f()),n&2){let t=w().ngIf;m(3),Pe(" ",t.lastName,"")}}function _U(n,e){if(n&1&&(p(0,"p")(1,"strong"),C(2,"Info:"),f(),A(3,"span",15),Mt(4,"extractDomain"),f()),n&2){let t=w().ngIf;m(3),y("innerHTML",Dt(4,1,t.additionalInfo),nd)}}function CU(n,e){if(n&1){let t=z();p(0,"section",2),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.onBack())}),p(1,"section",3)(2,"button",4),S("click",function(){O(t);let i=w();return T(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),C(5,"Contact Details"),f()(),p(6,"div",6),k(7,mU,2,5,"div",7)(8,vU,3,5,"div",8),f(),p(9,"div",9)(10,"p")(11,"strong"),C(12,"Name:"),f(),C(13),f(),k(14,yU,4,1,"p",10)(15,_U,5,3,"p",10),f()()}if(n&2){let t=e.ngIf;m(7),y("ngIf",t.img),m(),y("ngIf",t.video),m(5),Pe(" ",t.name,""),m(),y("ngIf",t.lastName),m(),y("ngIf",t.additionalInfo)}}var lI,Wf,uI=h(()=>{"use strict";N();we();lt();N();De();lt();Gr();Ys();cI();lI=(n,e)=>[n,e];Wf=class n{router=_(Te);route=_(Bt);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&B(M({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"media-row"],["class","contact-image-container",4,"ngIf"],["class","contact-video-container",4,"ngIf"],[1,"contact-fields"],[4,"ngIf"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-video-container"],["width","220","height","140","controls","",3,"src","ngClass"],[3,"innerHTML"]],template:function(t,r){t&1&&(A(0,"div",0),k(1,CU,16,5,"section",1),Mt(2,"async"),A(3,"router-outlet")),t&2&&(m(),y("ngIf",Dt(2,1,r.contact$)))},dependencies:[pr,me,Gn,vt,xn,Kt,qf],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:350px;height:200px}@media (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:310px!important;height:200px!important;border:1px solid}}"]})}});var Pn,na=h(()=>{"use strict";we();N();Pn=class n{isLoadingSubject=new fe(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var m_,dI=h(()=>{"use strict";N();Wr();we();na();m_=(n,e)=>{let t=n.params.id,r=_(Pn),i=_(St);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getById(t).pipe(pn(250),ue(o=>(console.error("Error fetching contact:",o),V(null))),Zt(()=>r.hide()))}});function bU(n,e){if(n&1&&(p(0,"div",4),A(1,"img",5),f()),n&2){let t=w();m(),y("src",t.uploadedImageUrl,Ie)}}var ra,v_=h(()=>{"use strict";N();N();mc();na();De();ra=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}imageUploaded=new X;uploadError=new X;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadImage(r)}}uploadImage(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded image URL:",t),this.imageUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the image:",t),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(mr),D(Pn))};static \u0275cmp=Z({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"image-upload"],["class","contact-image-container",4,"ngIf"],["for","fileInput"],["type","file","id","fileInput",3,"change","disabled"],[1,"contact-image-container"],["alt","Uploaded Image",1,"contact-image",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),k(1,bU,2,1,"div",1),p(2,"label",2),C(3,"\u05D1\u05D7\u05E8 \u05EA\u05DE\u05D5\u05E0\u05D4 \u{1F4F7}"),f(),p(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(m(),y("ngIf",r.uploadedImageUrl),m(),zn("hidden",r.uploadedImageUrl),m(2),y("disabled",r.isLoading))},dependencies:[me],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;background-color:transparent;box-shadow:none;max-width:200px;text-align:center}.image-upload[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #ddd;display:flex;justify-content:center;align-items:center}.image-upload[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;width:7em;height:1em;background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003;margin-top:.5rem;visibility:visible}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.image-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8rem;color:#555;max-width:150px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});function wU(n,e){if(n&1&&(p(0,"div",4),A(1,"video",5),f()),n&2){let t=w();m(),y("src",t.uploadedVideoUrl,Ie)}}var Gf,pI=h(()=>{"use strict";N();N();mc();na();De();Gf=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}videoUploaded=new X;uploadError=new X;selectedFile=null;uploadedVideoUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadVideo(r)}}uploadVideo(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded video URL:",t),this.videoUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the video:",t),this.uploadError.emit("Failed to upload the video"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(mr),D(Pn))};static \u0275cmp=Z({type:n,selectors:[["video-upload"]],outputs:{videoUploaded:"videoUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"video-upload"],["class","video-container",4,"ngIf"],["for","videoFileInput"],["type","file","id","videoFileInput","accept","video/*",3,"change","disabled"],[1,"video-container"],["width","220","height","140","controls","",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),k(1,wU,2,1,"div",1),p(2,"label",2),C(3,"\u05D1\u05D7\u05E8 \u05D5\u05D9\u05D3\u05D0\u05D5 \u{1F3A5}"),f(),p(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(m(),y("ngIf",r.uploadedVideoUrl),m(),zn("hidden",r.uploadedVideoUrl),m(2),y("disabled",r.isLoading))},dependencies:[me],styles:[".video-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.video-upload[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{width:220px;height:140px;border:2px solid #ddd;border-radius:8px;overflow:hidden}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;padding:.2rem .6rem;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.video-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.video-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});var Kf,hI=h(()=>{"use strict";N();Kf=class n{transform(e){if(!e)return e;let t=/(https?:\/\/[^\s]+)/g;return e.replace(t,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>')}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=lo({name:"linkify",type:n,pure:!0})}});function DU(n,e){if(n&1){let t=z();p(0,"button",39),S("click",function(){O(t);let i=w(2);return T(i.onDeleteClick())}),A(1,"img",40),f()}}function SU(n,e){if(n&1){let t=z();p(0,"img",41),S("click",function(){O(t);let i=w(2);return T(i.toggleImageUpload())}),f()}if(n&2){let t=w(2);y("src",t.contact.img,Ie)("ngClass",bn(2,Yf,t.selectedImageSize,t.selectedImageShape))}}function xU(n,e){if(n&1){let t=z();p(0,"div",43),S("click",function(){O(t);let i=w(3);return T(i.toggleImageUpload())}),C(1),f()}if(n&2){let t,r=w(3);y("ngClass",bn(2,Yf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),m(),Pe(" ",r.getInitials(r.contact.name)," ")}}function IU(n,e){if(n&1){let t=z();p(0,"img",44),S("click",function(){O(t);let i=w(3);return T(i.toggleImageUpload())}),f()}if(n&2){let t,r=w(3);y("ngClass",bn(1,Yf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function OU(n,e){if(n&1&&k(0,xU,2,5,"div",42)(1,IU,1,4,"ng-template",null,2,Hn),n&2){let t=ct(2),r=w(2);y("ngIf",r.contact.name)("ngIfElse",t)}}function TU(n,e){if(n&1){let t=z();p(0,"div",45)(1,"image-upload",46),S("imageUploaded",function(i){O(t);let o=w(2);return T(o.onImageUploaded(i))})("uploadError",function(i){O(t);let o=w(2);return T(o.onUploadError(i))}),f()()}}function PU(n,e){if(n&1&&(p(0,"video",47),A(1,"source",48),C(2," Your browser does not support the video tag. "),f()),n&2){let t=w(2);m(),y("src",t.contact.video,Ie)}}function AU(n,e){if(n&1){let t=z();p(0,"div",49),S("click",function(){O(t);let i=w(2);return T(i.toggleVideoUpload())}),A(1,"img",50),f()}if(n&2){let t=w(2);y("ngClass",bn(1,Yf,t.selectedImageSize,t.selectedImageShape))}}function kU(n,e){if(n&1){let t=z();p(0,"div",51)(1,"video-upload",52),S("videoUploaded",function(i){O(t);let o=w(2);return T(o.onVideoUploaded(i))})("uploadError",function(i){O(t);let o=w(2);return T(o.onUploadVideoError(i))}),f()()}}function NU(n,e){if(n&1&&(p(0,"option",53),C(1),f()),n&2){let t=e.$implicit;y("value",t.value),m(),Pe("",t.label," ")}}function RU(n,e){if(n&1&&(p(0,"option",53),C(1),f()),n&2){let t=e.$implicit;y("value",t.value),m(),Pe("",t.label," ")}}function FU(n,e){n&1&&(p(0,"span"),C(1,"Name is required!"),f())}function LU(n,e){n&1&&(p(0,"span"),C(1,"Name must be at least 3 characters long!"),f())}function VU(n,e){if(n&1&&(p(0,"p",55),k(1,FU,2,0,"span",30)(2,LU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.required),m(),y("ngIf",t.errors.minlength)}}function jU(n,e){if(n&1&&(wt(0),k(1,VU,3,2,"p",54),Et()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function UU(n,e){n&1&&(p(0,"div",56)(1,"label",57),C(2,"Description"),f(),A(3,"textarea",58),f())}function BU(n,e){n&1&&(p(0,"span"),C(1,"Description must be at least 3 characters long!"),f())}function $U(n,e){if(n&1&&(p(0,"p",55),k(1,BU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.minlength)}}function zU(n,e){if(n&1&&(wt(0),k(1,$U,2,1,"p",54),Et()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function HU(n,e){if(n&1&&(A(0,"p",59),Mt(1,"linkify")),n&2){let t=w(2);y("innerHTML",Dt(1,1,t.form.controls.additionalInfo.value),nd)}}function qU(n,e){n&1&&(p(0,"span"),C(1,"Additional Info must be at least 3 characters long!"),f())}function WU(n,e){if(n&1&&(p(0,"p",55),k(1,qU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.minlength)}}function GU(n,e){if(n&1&&(wt(0),k(1,WU,2,1,"p",54),Et()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function KU(n,e){if(n&1){let t=z();p(0,"div",60)(1,"label",61)(2,"input",62),S("change",function(i){O(t);let o=w(2);return T(o.onToggleLastName(i))}),f(),A(3,"span",63),f(),p(4,"span",64),C(5,"Add Description"),f()()}if(n&2){let t=w(2);m(2),y("checked",t.IsLastName||t.contact.lastName)}}function YU(n,e){if(n&1){let t=z();p(0,"div",5)(1,"section",6),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.onBack())}),p(2,"section",7)(3,"a",8),A(4,"img",9),f(),p(5,"h2"),C(6),f(),k(7,DU,2,0,"button",10),f(),p(8,"form",11),S("ngSubmit",function(){O(t);let i=w();return T(i.onSaveContact())}),p(9,"div",12)(10,"div",13),k(11,SU,1,5,"img",14)(12,OU,3,2,"ng-template",null,0,Hn)(14,TU,2,0,"div",15),f(),p(15,"div",16)(16,"div",17),S("click",function(){O(t);let i=w();return T(i.toggleVideoUpload())}),k(17,PU,3,1,"video",18),f(),k(18,AU,2,4,"ng-template",null,1,Hn)(20,kU,2,0,"div",19),f()(),p(21,"div",20)(22,"label",21),C(23,"Size:"),f(),p(24,"select",22),S("change",function(i){O(t);let o=w();return T(o.onImageSizeChange(i))}),k(25,NU,2,2,"option",23),f(),p(26,"label",24),C(27,"Shape:"),f(),p(28,"select",25),S("change",function(i){O(t);let o=w();return T(o.onImageShapeChange(i))}),k(29,RU,2,2,"option",23),f()(),p(30,"div",26)(31,"div",27)(32,"label",28),C(33,"Name"),f(),A(34,"input",29),f(),k(35,jU,2,1,"ng-container",30)(36,UU,4,0,"div",31)(37,zU,2,1,"ng-container",30),p(38,"div",32)(39,"label",33),C(40,"Additional Info"),f(),A(41,"textarea",34),f(),k(42,HU,2,3,"p",35)(43,GU,2,1,"ng-container",30),p(44,"div",36),k(45,KU,6,1,"div",37),p(46,"button",38),C(47," Save "),f()()()()()()}if(n&2){let t=ct(13),r=ct(19),i=w();m(6),Pe("",i.contact._id?"Edit":"Add"," Contact"),m(),y("ngIf",i.contact._id),m(),y("formGroup",i.form),m(3),y("ngIf",i.contact.img)("ngIfElse",t),m(3),y("ngIf",i.showImageUpload),m(3),y("ngIf",i.contact.video)("ngIfElse",r),m(3),y("ngIf",i.showVideoUpload),m(5),y("ngForOf",i.imageSizeOptions)("ngForTrackBy",i.trackByFn),m(4),y("ngForOf",i.imageShapeOptions)("ngForTrackBy",i.trackByFn),m(6),y("ngIf",i.form.controls.name),m(),y("ngIf",i.IsLastName||i.contact.lastName),m(),y("ngIf",i.form.controls.lastName),m(5),y("ngIf",i.form.controls.additionalInfo.value),m(),y("ngIf",i.form.controls.additionalInfo),m(2),y("ngIf",!i.contact.lastName),m(),y("disabled",i.form.invalid)}}var Yf,zc,gI=h(()=>{"use strict";N();Wr();lt();we();Tn();De();N();Tn();De();ki();lt();Jy();Gr();Ys();v_();pI();hI();Yf=(n,e)=>[n,e];zc=class n{constructor(e,t,r,i){this.fb=e;this.datePipe=t;this.msgService=r;this.cd=i}IsLastName=!1;showImageUpload=!1;showVideoUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new ge;contactService=_(St);contact=this.contactService.getEmptyContact();router=_(Te);route=_(Bt);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Ri.required,Ri.minLength(3)]],lastName:[e?this.contact.lastName:"",[Ri.minLength(3)]],additionalInfo:[e?this.contact.additionalInfo:""],phone:[e?this.contact.phone:"",[Ri.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Ri.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date)],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],video:[e?this.contact.video:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(hn(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(hn(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Ne(t=>!!t),hn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue(B(M({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle",video:t.video||""})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(hn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=M({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(hn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.patchValue({img:e}),this.showImageUpload=!1,this.cd.detectChanges(),this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}onVideoUploaded(e){console.log("Video uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.video=e,this.form.patchValue({video:e}),this.showVideoUpload=!1,this.contact._id?this.contactService.updateContactVideo(this.contact._id,e).subscribe({next:t=>{console.log("Contact video updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact video updated successfully!")},error:t=>{console.error("Failed to update contact video:",t),this.msgService.setErrorMsg("Failed to update contact video.")}}):console.log("Contact does not have an ID yet. Video update will be saved with the form submission.")}onUploadVideoError(e){console.error("Video upload error:",e),this.msgService.setErrorMsg(e)}toggleVideoUpload(){this.showVideoUpload=!this.showVideoUpload}static \u0275fac=function(t){return new(t||n)(D(rI),D(Id),D(Pt),D(en))};static \u0275cmp=Z({type:n,selectors:[["contact-edit"]],features:[nt([Id])],decls:3,vars:3,consts:[["fallback",""],["videoFallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"media-row"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"contact-video-container"],[1,"video-wrapper",3,"click"],["width","220","height","140","controls","",4,"ngIf","ngIfElse"],["class","video-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","desc form-input",4,"ngIf"],[1,"form-input","desc"],["for","additionalInfo"],["formControlName","additionalInfo","placeholder","Enter text, links, or anything...","id","additionalInfo",1,"lastName"],["class","formatted-text",3,"innerHTML",4,"ngIf"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"click","src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/picture.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["width","220","height","140","controls",""],["type","video/mp4",3,"src"],[1,"default-video-avatar",3,"click","ngClass"],["src","../../../assets/images/video.png","alt","Default Video Placeholder"],[1,"video-upload-section"],[3,"videoUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],[1,"desc","form-input"],["for","lastName"],["formControlName","lastName","placeholder","Enter description...","id","description"],[1,"formatted-text",3,"innerHTML"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(k(0,YU,48,20,"div",3),p(1,"section")(2,"app-modal",4),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(y("ngIf",r.contact),m(2),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[pr,hr,me,Dn,Bf,Jx,eI,In,$f,yr,Vf,d_,f_,Qs,vt,xn,ra,Gf,Kf],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:30em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:8px;font-size:16px;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;background-color:#fff;resize:vertical;font-family:Roboto,sans-serif}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none;box-shadow:0 0 5px #f1c40f80}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:3em;height:1em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:.6em;width:1em;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:7em;font-size:13px;margin-right:.7em}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;margin-top:1rem;display:flex;flex-direction:column;align-items:center}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #ccc;border-radius:8px;object-fit:cover;width:220px;height:140px;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .video-upload-section[_ngcontent-%COMP%]{margin-top:.5rem}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#eee;width:160px!important;height:100px!important;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;opacity:.6}@media screen and (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0!important}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{width:200px!important;height:120px!important;border:1px solid;background:beige}.contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.default-avatar[_ngcontent-%COMP%], .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px!important;height:100px!important}}.upload-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.upload-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.upload-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.video-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.video-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000}']})}});function mI(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function vI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe($h(200),Dr(),Re(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function yI(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Qf=h(()=>{"use strict";we();Wr()});var Zf,_I=h(()=>{"use strict";Tn();Qf();N();Zf=class n{validate(e){return mI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appEmailValidator",""]],features:[nt([{provide:On,useExisting:n,multi:!0}])]})}});var Jf,CI=h(()=>{"use strict";Tn();Qf();N();Tt();Jf=class n{constructor(e){this.userService=e}validate(e){return vI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275dir=ae({type:n,selectors:[["","appEmailTaken",""]],features:[nt([{provide:ta,useExisting:n,multi:!0}])]})}});var Xf,bI=h(()=>{"use strict";Tn();Qf();N();Xf=class n{validate(e){return yI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appPasswordValidator",""]],features:[nt([{provide:On,useExisting:n,multi:!0}])]})}});var ep,wI=h(()=>{"use strict";Tn();N();ep=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appFullNameValidator",""]],features:[nt([{provide:On,useExisting:n,multi:!0}])]})}});function eB(n,e){n&1&&(p(0,"span"),C(1,"Email is required."),f())}function tB(n,e){n&1&&(p(0,"span"),C(1,"Please enter a valid email address."),f())}function nB(n,e){if(n&1&&(p(0,"div",14),k(1,eB,2,0,"span",6)(2,tB,2,0,"span",6),f()),n&2){w();let t=ct(4);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.email)}}function rB(n,e){if(n&1){let t=z();wt(0),p(1,"label",12),C(2,"Email:"),f(),p(3,"input",13,2),jt("ngModelChange",function(i){O(t);let o=w();return Gt(o.user.email,i)||(o.user.email=i),T(i)}),f(),k(5,nB,3,2,"div",9),A(6,"br"),Et()}if(n&2){let t=ct(4),r=w();m(3),Vt("ngModel",r.user.email),m(2),y("ngIf",t.touched&&t.invalid)}}function iB(n,e){n&1&&(p(0,"span"),C(1,"Full name is required."),f())}function oB(n,e){n&1&&(p(0,"span"),C(1," Full name must be at least 3 characters long. "),f())}function sB(n,e){if(n&1&&(p(0,"div",14),k(1,iB,2,0,"span",6)(2,oB,2,0,"span",6),f()),n&2){w();let t=ct(4);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.minlength)}}function aB(n,e){n&1&&(p(0,"span"),C(1,"Email is required."),f())}function cB(n,e){n&1&&(p(0,"span"),C(1,"Please enter a valid email address."),f())}function lB(n,e){n&1&&(p(0,"span"),C(1,"This email is already registered."),f())}function uB(n,e){if(n&1&&(p(0,"div",14),k(1,aB,2,0,"span",6)(2,cB,2,0,"span",6)(3,lB,2,0,"span",6),f()),n&2){w();let t=ct(10);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.email),m(),y("ngIf",t.errors==null?null:t.errors.emailTaken)}}function dB(n,e){n&1&&(p(0,"div",19),C(1," Checking email availability... "),f())}function fB(n,e){if(n&1){let t=z();wt(0),p(1,"label",15),C(2,"Full Name:"),f(),p(3,"input",16,3),jt("ngModelChange",function(i){O(t);let o=w();return Gt(o.user.username,i)||(o.user.username=i),T(i)}),f(),k(5,sB,3,2,"div",9),A(6,"br"),p(7,"label",12),C(8,"Email:"),f(),p(9,"input",17,2),jt("ngModelChange",function(i){O(t);let o=w();return Gt(o.user.email,i)||(o.user.email=i),T(i)}),f(),k(11,uB,4,3,"div",9)(12,dB,2,0,"div",18),A(13,"br"),Et()}if(n&2){let t=ct(4),r=ct(10),i=w();m(3),Vt("ngModel",i.user.username),m(2),y("ngIf",t.touched&&t.invalid),m(4),Vt("ngModel",i.user.email),m(2),y("ngIf",r.touched&&r.invalid),m(),y("ngIf",r.pending)}}function pB(n,e){n&1&&(p(0,"span"),C(1,"Password is required."),f())}function hB(n,e){n&1&&(p(0,"span"),C(1,"Password must be at least 6 characters long."),f())}function gB(n,e){n&1&&(p(0,"span"),C(1,"Password must contain at least one capital letter."),f())}function mB(n,e){n&1&&(p(0,"span"),C(1,"Password must contain at least one special character."),f())}function vB(n,e){if(n&1&&(p(0,"div",14),k(1,pB,2,0,"span",6)(2,hB,2,0,"span",6)(3,gB,2,0,"span",6)(4,mB,2,0,"span",6),f()),n&2){w();let t=ct(10);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.minlength),m(),y("ngIf",t.errors==null?null:t.errors.noCapitalLetter),m(),y("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function yB(n,e){if(n&1&&(p(0,"p",14),C(1),f()),n&2){let t=w();m(),ht(t.errorMessage)}}var Hc,EI=h(()=>{"use strict";N();Tt();lt();ki();De();Tn();_I();CI();bI();wI();Hc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=B(M({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.email,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.email,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(Pt),D(Bt))};static \u0275cmp=Z({type:n,selectors:[["login-sign-up"]],decls:21,vars:10,consts:[["form","ngForm"],["password","ngModel"],["email","ngModel"],["username","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],[4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","",3,"ngModelChange","ngModel"],[1,"error-message"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=z();p(0,"div",4)(1,"h4"),C(2),f(),p(3,"form",5,0),S("ngSubmit",function(){return O(i),T(r.onSubmit())}),k(5,rB,7,2,"ng-container",6)(6,fB,14,5,"ng-container",6),p(7,"label",7),C(8,"Password:"),f(),p(9,"input",8,1),jt("ngModelChange",function(s){return O(i),Gt(r.user.password,s)||(r.user.password=s),T(s)}),f(),k(11,vB,5,4,"div",9),A(12,"br"),p(13,"button",10),C(14),f(),p(15,"p"),C(16),p(17,"a",11),S("click",function(s){return O(i),r.toggleMode(),T(s.preventDefault())}),C(18),f()(),A(19,"br"),f(),k(20,yB,2,1,"p",9),f()}if(t&2){let i=ct(4),o=ct(10);m(2),ht(r.isSignupMode?"Create an Account":"Sign In"),m(3),y("ngIf",!r.isSignupMode),m(),y("ngIf",r.isSignupMode),m(3),Vt("ngModel",r.user.password),m(2),y("ngIf",o.touched&&o.invalid),m(2),y("disabled",i.invalid),m(),Pe(" ",r.isSignupMode?"Sign Up":"Log In"," "),m(2),Pe(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),m(2),Pe(" ",r.isSignupMode?"Sign in here":"Create an account"," "),m(2),y("ngIf",r.errorMessage)}},dependencies:[me,Bf,In,yr,Vf,p_,h_,Yr,u_,Zf,Jf,Xf,ep],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var xo,MI=h(()=>{"use strict";N();lt();Tt();we();ki();xo=(n,e)=>{let t=_(Ce),r=_(Te),i=_(Pt);return t.loggedInUser$.pipe(pn(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var tp,DI=h(()=>{"use strict";N();tp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(p(0,"html",0)(1,"head"),A(2,"meta",1)(3,"meta",2),p(4,"title"),C(5,"Privacy Policy - My Accounts App"),f(),A(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),p(13,"body")(14,"div",10)(15,"h1"),C(16,"Privacy Policy for My Accounts App"),f(),p(17,"p")(18,"strong"),C(19,"Effective Date:"),f(),C(20," 07/02/2025"),f(),p(21,"p"),C(22,"Welcome to "),p(23,"strong"),C(24,"My Accounts App"),f(),C(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),p(26,"h2"),C(27,"1. Information We Collect"),f(),p(28,"ul")(29,"li")(30,"strong"),C(31,"Personal Information:"),f(),C(32," Name, email address, phone number, and other details provided during registration."),f(),p(33,"li")(34,"strong"),C(35,"Usage Data:"),f(),C(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),p(37,"li")(38,"strong"),C(39,"Device Information:"),f(),C(40," IP address, browser type, and operating system."),f()(),p(41,"h2"),C(42,"2. How We Use Your Information"),f(),p(43,"ul")(44,"li"),C(45,"Provide, operate, and improve our app and services."),f(),p(46,"li"),C(47,"Personalize your experience."),f(),p(48,"li"),C(49,"Ensure security and prevent fraudulent activities."),f(),p(50,"li"),C(51,"Comply with legal requirements."),f()(),p(52,"h2"),C(53,"3. Sharing of Information"),f(),p(54,"ul")(55,"li"),C(56,"We do not sell or rent your personal information."),f(),p(57,"li")(58,"strong"),C(59,"Service Providers:"),f(),C(60," Third-party vendors that help us operate our app."),f(),p(61,"li")(62,"strong"),C(63,"Legal Authorities:"),f(),C(64," When required by law or to protect our rights."),f()(),p(65,"h2"),C(66,"4. Data Retention & Security"),f(),p(67,"p"),C(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),p(69,"h2"),C(70,"5. Your Rights"),f(),p(71,"ul")(72,"li"),C(73,"Access and review your personal data."),f(),p(74,"li"),C(75,"Request correction or deletion of your information."),f(),p(76,"li"),C(77,"Opt-out of marketing communications."),f()(),p(78,"h2"),C(79,"6. Third-Party Links"),f(),p(80,"p"),C(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),p(82,"h2"),C(83,"7. Changes to This Policy"),f(),p(84,"p"),C(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),p(86,"h2"),C(87,"8. Contact Us"),f(),p(88,"p"),C(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),p(90,"p"),C(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f;padding:7px}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}"]})}});function CB(n,e){if(n&1){let t=z();p(0,"user-list",6),S("remove",function(i){O(t);let o=w();return T(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;y("users",(t=r)!==null&&t!==void 0?t:TM(1,_B))}}function bB(n,e){if(n&1){let t=z();p(0,"div",7),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.closeChat("group"))}),p(1,"div",8)(2,"span",9),S("click",function(){O(t);let i=w();return T(i.closeChat("group"))}),C(3,"\xD7"),f(),p(4,"app-chat",10),S("closeChat",function(){O(t);let i=w();return T(i.closeChat("group"))}),f()()()}n&2&&(m(4),y("chatType","group"))}var _B,Li,np=h(()=>{"use strict";N();Gs();we();Tt();qs();N();_B=()=>[];Li=class n{userService=_(Ce);socketService=_(Sn);users$;destroyRef=_(Lt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new fe(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(Yt(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new fe(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(Yt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-index"]],decls:7,vars:4,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/social_cvhg3i.png","alt","group-chat",1,"send-btn"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType"]],template:function(t,r){t&1&&(p(0,"section",0),A(1,"user-filter",1),k(2,CB,1,2,"user-list",2),Mt(3,"async"),f(),p(4,"button",3),S("click",function(){return r.openChat("group")}),A(5,"img",4),f(),k(6,bB,5,1,"div",5)),t&2&&(m(2),y("ngIf",Dt(3,2,r.users$)),m(4),y("ngIf",r.isGroupChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background:linear-gradient(90deg,#34495e,#2c3e50)}.send-btn[_ngcontent-%COMP%]{max-width:4em}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px;bottom:15em}.group-chat-btn[_ngcontent-%COMP%]{right:1em!important}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function EB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),ht(t.username)}}function MB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),Pe("",t.username.substring(0,15),"...")}}function DB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),ht(t.email)}}function SB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),Pe("",t.email.substring(0,20),"...")}}function xB(n,e){if(n&1){let t=z();p(0,"section",2)(1,"section",3)(2,"button",4),S("click",function(){O(t);let i=w();return T(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),C(5,"User Details"),f()(),p(6,"div",6),A(7,"img",7),f(),p(8,"div",8)(9,"p")(10,"strong"),C(11,"Username:"),f(),k(12,EB,2,1,"span",9)(13,MB,2,1,"span",9),f(),p(14,"p")(15,"strong"),C(16,"Email:"),f(),k(17,DB,2,1,"span",9)(18,SB,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=w();m(7),y("src",t.img?t.img:"../../../assets/images/contact.png",Ie),m(5),y("ngIf",!r.isLongField(t.username,15)),m(),y("ngIf",r.isLongField(t.username,15)),m(4),y("ngIf",!r.isLongField(t.email,20)),m(),y("ngIf",r.isLongField(t.email,20))}}var rp,SI=h(()=>{"use strict";N();we();lt();Tt();N();De();lt();rp=class n{router=_(Te);route=_(Bt);subscription;userService=_(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(p(0,"div",0),S("click",function(){return r.onBack()}),f(),k(1,xB,19,5,"section",1),Mt(2,"async"),A(3,"router-outlet")),t&2&&(m(),y("ngIf",Dt(2,1,r.user$)))},dependencies:[me,Gn,Kt],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var xI,II=h(()=>{"use strict";N();Tt();we();na();xI=(n,e)=>{let t=n.params.id,r=_(Pn),i=_(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getUserById(t).pipe(pn(250),ue(o=>(console.error("Error fetching user:",o),V(null))),Zt(()=>r.hide()))}});var IB,ip,OI=h(()=>{"use strict";lt();mx();aI();uI();dI();gI();EI();MI();DI();np();SI();II();N();IB=[{path:"contact",component:Hf,canActivate:[xo],children:[{path:"edit",component:zc,canActivate:[xo]},{path:"edit/:id",component:zc,resolve:{contact:m_},canActivate:[xo]}]},{path:"contact/:id",component:Wf,outlet:"modal",resolve:{contact:m_},canActivate:[xo]},{path:"login",component:Hc},{path:"signup",component:Hc},{path:"privacy-policy",component:tp},{path:"users",component:Li,canActivate:[xo]},{path:"user/:id",component:rp,outlet:"modal",resolve:{user:xI},canActivate:[xo]},{path:"",component:Df}],ip=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n});static \u0275inj=Ye({imports:[by.forRoot(IB,{useHash:!1}),by]})}});function PB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function sp(){try{return typeof indexedDB=="object"}catch{return!1}}function ap(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function NI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function VB(n,e){return n.replace(jB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function cp(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(TI(o)&&TI(s)){if(!cp(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function TI(n){return n!==null&&typeof n=="object"}function lp(n){return n&&n._delegate?n._delegate:n}var PI,OB,AI,y_,TB,__,kI,AB,kB,NB,RB,C_,op,LB,Qr,Zr,jB,tte,ia=h(()=>{"use strict";PI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},AI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(v=64)),r.push(t[u],t[d],t[v],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new y_;let v=o<<2|a>>4;if(r.push(v),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let b=l<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},y_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},TB=function(n){let e=PI(n);return AI.encodeByteArray(e,!0)},__=function(n){return TB(n).replace(/\./g,"")},kI=function(n){try{return AI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};AB=()=>PB().__FIREBASE_DEFAULTS__,kB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&kI(n[1]);return e&&JSON.parse(e)},RB=()=>{try{return AB()||kB()||NB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},C_=()=>{var n;return(n=RB())===null||n===void 0?void 0:n.config};op=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};LB="FirebaseError",Qr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=LB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zr.prototype.create)}},Zr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?VB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Qr(i,a,r)}};jB=/\{\$([^}]+)}/g;tte=4*60*60*1e3;});function UB(n){return n===Io?void 0:n}function BB(n){return n.instantiationMode==="EAGER"}var cn,Io,b_,up,dp=h(()=>{"use strict";ia();cn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};Io="[DEFAULT]";b_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new op;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BB(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};up=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new b_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var $B,$e,zB,HB,qB,WB,fp,RI=h(()=>{"use strict";$B=[],$e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}($e||{}),zB={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},HB=$e.INFO,qB={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},WB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=qB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fp=class{constructor(e){this.name=e,this._logLevel=HB,this._logHandler=WB,this._userLogHandler=null,$B.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}});function KB(){return FI||(FI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YB(){return LI||(LI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function QB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&VI.set(t,n)}).catch(()=>{}),D_.set(e,n),e}function ZB(n){if(E_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});E_.set(n,e)}function UI(n){M_=n(M_)}function JB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(pp(this),e,...t);return jI.set(r,e.sort?e.sort():[e]),Zn(r)}:YB().includes(n)?function(...e){return n.apply(pp(this),e),Zn(VI.get(this))}:function(...e){return Zn(n.apply(pp(this),e))}}function XB(n){return typeof n=="function"?JB(n):(n instanceof IDBTransaction&&ZB(n),GB(n,KB())?new Proxy(n,M_):n)}function Zn(n){if(n instanceof IDBRequest)return QB(n);if(w_.has(n))return w_.get(n);let e=XB(n);return e!==n&&(w_.set(n,e),D_.set(e,n)),e}var GB,FI,LI,VI,E_,jI,w_,D_,M_,pp,S_=h(()=>{"use strict";GB=(n,e)=>e.some(t=>n instanceof t);VI=new WeakMap,E_=new WeakMap,jI=new WeakMap,w_=new WeakMap,D_=new WeakMap;M_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return E_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};pp=n=>D_.get(n)});function Oo(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zn(s.result),c.oldVersion,c.newVersion,Zn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function hp(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Zn(t).then(()=>{})}function BI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(x_.get(e))return x_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=t3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e3.includes(t)))return;let o=function(s,...a){return P(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return x_.set(e,o),o}var e3,t3,x_,gp=h(()=>{"use strict";S_();S_();e3=["get","getKey","getAll","getAllKeys","count"],t3=["put","add","delete","clear"],x_=new Map;UI(n=>B(M({},n),{get:(e,t,r)=>BI(e,t)||n.get(e,t,r),has:(e,t)=>!!BI(e,t)||n.has(e,t)}))});function n3(n){let e=n.getComponent();return e?.type==="VERSION"}function zI(n,e){try{n.container.addComponent(e)}catch(t){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xr(n){let e=n.name;if(A_.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;A_.set(e,n);for(let t of mp.values())zI(t,n);for(let t of T3.values())zI(t,n);return!0}function Wc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function F_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:P_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(t||(t=C_()),!t)throw Vi.create("no-options");let o=mp.get(i);if(o){if(cp(t,o.options)&&cp(r,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}let s=new up(i);for(let c of A_.values())s.addComponent(c);let a=new k_(t,r,s);return mp.set(i,a),a}function L_(n=P_){let e=mp.get(n);if(!e&&n===P_&&C_())return F_();if(!e)throw Vi.create("no-app",{appName:n});return e}function Jn(n,e,t){var r;let i=(r=O3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(a.join(" "));return}Xr(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function GI(){return I_||(I_=Oo(A3,k3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),I_}function N3(n){return P(this,null,function*(){try{let t=(yield GI()).transaction(qc),r=yield t.objectStore(qc).get(KI(n));return yield t.done,r}catch(e){if(e instanceof Qr)Jr.warn(e.message);else{let t=Vi.create("idb-get",{originalErrorMessage:e?.message});Jr.warn(t.message)}}})}function HI(n,e){return P(this,null,function*(){try{let r=(yield GI()).transaction(qc,"readwrite");yield r.objectStore(qc).put(e,KI(n)),yield r.done}catch(t){if(t instanceof Qr)Jr.warn(t.message);else{let r=Vi.create("idb-set",{originalErrorMessage:t?.message});Jr.warn(r.message)}}})}function KI(n){return`${n.name}!${n.options.appId}`}function qI(){return new Date().toISOString().substring(0,10)}function L3(n,e=R3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),WI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function WI(n){return __(JSON.stringify({version:2,heartbeats:n})).length}function V3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function j3(n){Xr(new cn("platform-logger",e=>new O_(e),"PRIVATE")),Xr(new cn("heartbeat",e=>new N_(e),"PRIVATE")),Jn(T_,$I,n),Jn(T_,$I,"esm2017"),Jn("fire-js","")}var O_,T_,$I,Jr,r3,i3,o3,s3,a3,c3,l3,u3,d3,f3,p3,h3,g3,m3,v3,y3,_3,C3,b3,w3,E3,M3,D3,S3,x3,I3,P_,O3,mp,T3,A_,P3,Vi,k_,A3,k3,qc,I_,R3,F3,N_,R_,Gc=h(()=>{"use strict";dp();RI();ia();ia();gp();O_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(n3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};T_="@firebase/app",$I="0.11.0";Jr=new fp("@firebase/app"),r3="@firebase/app-compat",i3="@firebase/analytics-compat",o3="@firebase/analytics",s3="@firebase/app-check-compat",a3="@firebase/app-check",c3="@firebase/auth",l3="@firebase/auth-compat",u3="@firebase/database",d3="@firebase/data-connect",f3="@firebase/database-compat",p3="@firebase/functions",h3="@firebase/functions-compat",g3="@firebase/installations",m3="@firebase/installations-compat",v3="@firebase/messaging",y3="@firebase/messaging-compat",_3="@firebase/performance",C3="@firebase/performance-compat",b3="@firebase/remote-config",w3="@firebase/remote-config-compat",E3="@firebase/storage",M3="@firebase/storage-compat",D3="@firebase/firestore",S3="@firebase/vertexai",x3="@firebase/firestore-compat",I3="firebase";P_="[DEFAULT]",O3={[T_]:"fire-core",[r3]:"fire-core-compat",[o3]:"fire-analytics",[i3]:"fire-analytics-compat",[a3]:"fire-app-check",[s3]:"fire-app-check-compat",[c3]:"fire-auth",[l3]:"fire-auth-compat",[u3]:"fire-rtdb",[d3]:"fire-data-connect",[f3]:"fire-rtdb-compat",[p3]:"fire-fn",[h3]:"fire-fn-compat",[g3]:"fire-iid",[m3]:"fire-iid-compat",[v3]:"fire-fcm",[y3]:"fire-fcm-compat",[_3]:"fire-perf",[C3]:"fire-perf-compat",[b3]:"fire-rc",[w3]:"fire-rc-compat",[E3]:"fire-gcs",[M3]:"fire-gcs-compat",[D3]:"fire-fst",[x3]:"fire-fst-compat",[S3]:"fire-vertex","fire-js":"fire-js",[I3]:"fire-js-all"};mp=new Map,T3=new Map,A_=new Map;P3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Zr("app","Firebase",P3);k_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}};A3="firebase-heartbeat-database",k3=1,qc="firebase-heartbeat-store",I_=null;R3=1024,F3=30,N_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new R_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>F3){let s=V3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jr.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=qI(),{heartbeatsToSend:r,unsentEntries:i}=L3(this._heartbeatsCache.heartbeats),o=__(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Jr.warn(t),""}})}};R_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return sp()?ap().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield N3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};j3("")});var U3,B3,YI=h(()=>{"use strict";Gc();Gc();U3="firebase",B3="11.3.0";Jn(U3,B3,"app")});function nO(n){return n instanceof Qr&&n.code.includes("request-failed")}function rO({projectId:n}){return`${$3}/projects/${n}/installations`}function iO(n){return{token:n.token,requestStatus:2,expiresIn:K3(n.expiresIn),creationTime:Date.now()}}function oO(n,e){return P(this,null,function*(){let r=(yield e.json()).error;return Po.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function sO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function G3(n,{refreshToken:e}){let t=sO(n);return t.append("Authorization",Y3(e)),t}function aO(n){return P(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function K3(n){return Number(n.replace("s","000"))}function Y3(n){return`${tO} ${n}`}function Q3(r,i){return P(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=rO(n),s=sO(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:tO,appId:n.appId,sdkVersion:eO},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield aO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:iO(d.authToken)}}else throw yield oO("Create Installation",u)})}function cO(n){return new Promise(e=>{setTimeout(e,n)})}function Z3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function X3(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=e$(n);return J3.test(t)?t:U_}catch{return U_}}function e$(n){return Z3(n).substr(0,22)}function yp(n){return`${n.appName}!${n.appId}`}function uO(n,e){let t=yp(n);dO(t,e),t$(t,e)}function dO(n,e){let t=lO.get(n);if(t)for(let r of t)r(e)}function t$(n,e){let t=n$();t&&t.postMessage({key:n,fid:e}),r$()}function n$(){return!To&&"BroadcastChannel"in self&&(To=new BroadcastChannel("[Firebase] FID Change"),To.onmessage=n=>{dO(n.data.key,n.data.fid)}),To}function r$(){lO.size===0&&To&&(To.close(),To=null)}function $_(){return V_||(V_=Oo(i$,o$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ao)}}})),V_}function vp(n,e){return P(this,null,function*(){let t=yp(n),i=(yield $_()).transaction(Ao,"readwrite"),o=i.objectStore(Ao),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&uO(n,e.fid),e})}function fO(n){return P(this,null,function*(){let e=yp(n),r=(yield $_()).transaction(Ao,"readwrite");yield r.objectStore(Ao).delete(e),yield r.done})}function _p(n,e){return P(this,null,function*(){let t=yp(n),i=(yield $_()).transaction(Ao,"readwrite"),o=i.objectStore(Ao),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&uO(n,a.fid),a})}function z_(n){return P(this,null,function*(){let e,t=yield _p(n.appConfig,r=>{let i=s$(r),o=a$(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===U_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function s$(n){let e=n||{fid:X3(),registrationStatus:0};return pO(e)}function a$(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Po.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=c$(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:l$(n)}:{installationEntry:e}}function c$(n,e){return P(this,null,function*(){try{let t=yield Q3(n,e);return vp(n.appConfig,t)}catch(t){throw nO(t)&&t.customData.serverCode===409?yield fO(n.appConfig):yield vp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function l$(n){return P(this,null,function*(){let e=yield QI(n.appConfig);for(;e.registrationStatus===1;)yield cO(100),e=yield QI(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield z_(n);return r||t}return e})}function QI(n){return _p(n,e=>{if(!e)throw Po.create("installation-not-found");return pO(e)})}function pO(n){return u$(n)?{fid:n.fid,registrationStatus:0}:n}function u$(n){return n.registrationStatus===1&&n.registrationTime+XI<Date.now()}function d$(r,i){return P(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=f$(n,t),s=G3(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:eO,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield aO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return iO(d)}else throw yield oO("Generate Auth Token",u)})}function f$(n,{fid:e}){return`${rO(n)}/${e}/authTokens:generate`}function H_(n,e=!1){return P(this,null,function*(){let t,r=yield _p(n.appConfig,o=>{if(!hO(o))throw Po.create("not-registered");let s=o.authToken;if(!e&&g$(s))return o;if(s.requestStatus===1)return t=p$(n,e),o;{if(!navigator.onLine)throw Po.create("app-offline");let a=v$(o);return t=h$(n,a),a}});return t?yield t:r.authToken})}function p$(n,e){return P(this,null,function*(){let t=yield ZI(n.appConfig);for(;t.authToken.requestStatus===1;)yield cO(100),t=yield ZI(n.appConfig);let r=t.authToken;return r.requestStatus===0?H_(n,e):r})}function ZI(n){return _p(n,e=>{if(!hO(e))throw Po.create("not-registered");let t=e.authToken;return y$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function h$(n,e){return P(this,null,function*(){try{let t=yield d$(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield vp(n.appConfig,r),t}catch(t){if(nO(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield fO(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield vp(n.appConfig,r)}throw t}})}function hO(n){return n!==void 0&&n.registrationStatus===2}function g$(n){return n.requestStatus===2&&!m$(n)}function m$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+z3}function v$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function y$(n){return n.requestStatus===1&&n.requestTime+XI<Date.now()}function _$(n){return P(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield z_(e);return r?r.catch(console.error):H_(e).catch(console.error),t.fid})}function C$(n,e=!1){return P(this,null,function*(){let t=n;return yield b$(t),(yield H_(t,e)).token})}function b$(n){return P(this,null,function*(){let{registrationPromise:e}=yield z_(n);e&&(yield e)})}function w$(n){if(!n||!n.options)throw j_("App Configuration");if(!n.name)throw j_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw j_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function j_(n){return Po.create("missing-app-config-values",{valueName:n})}function S$(){Xr(new cn(gO,M$,"PUBLIC")),Xr(new cn(E$,D$,"PRIVATE"))}var JI,B_,XI,eO,tO,$3,z3,H3,q3,W3,Po,J3,U_,lO,To,i$,o$,Ao,V_,gO,E$,M$,D$,mO=h(()=>{"use strict";Gc();dp();ia();gp();JI="@firebase/installations",B_="0.6.12";XI=1e4,eO=`w:${B_}`,tO="FIS_v2",$3="https://firebaseinstallations.googleapis.com/v1",z3=60*60*1e3,H3="installations",q3="Installations";W3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Po=new Zr(H3,q3,W3);J3=/^[cdef][\w-]{21}$/,U_="";lO=new Map;To=null;i$="firebase-installations-database",o$=1,Ao="firebase-installations-store",V_=null;gO="installations",E$="installations-internal",M$=n=>{let e=n.getProvider("app").getImmediate(),t=w$(e),r=Wc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},D$=n=>{let e=n.getProvider("app").getImmediate(),t=Wc(e,gO).getImmediate();return{getId:()=>_$(t),getToken:i=>C$(t,i)}};S$();Jn(JI,B_);Jn(JI,B_,"esm2017")});function ei(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function k$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function R$(n){return P(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(q_))return null;let e=null;return(yield Oo(q_,N$,{upgrade:(r,i,o,s)=>P(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(yO))return;let c=s.objectStore(yO),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:ei(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ei(u.auth),p256dh:ei(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ei(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ei(u.auth),p256dh:ei(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ei(u.vapidKey)}}}}})})).close(),yield hp(q_),yield hp("fcm_vapid_details_db"),yield hp("undefined"),F$(e)?e:null})}function F$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function DO(){return W_||(W_=Oo(L$,V$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Kc)}}})),W_}function j$(n){return P(this,null,function*(){let e=SO(n),r=yield(yield DO()).transaction(Kc).objectStore(Kc).get(e);if(r)return r;{let i=yield R$(n.appConfig.senderId);if(i)return yield Y_(n,i),i}})}function Y_(n,e){return P(this,null,function*(){let t=SO(n),i=(yield DO()).transaction(Kc,"readwrite");return yield i.objectStore(Kc).put(e,t),yield i.done,e})}function SO({appConfig:n}){return n.appId}function B$(n,e){return P(this,null,function*(){let t=yield Z_(n),r=xO(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(Q_(n.appConfig),i)).json()}catch(s){throw At.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw At.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw At.create("token-subscribe-no-token");return o.token})}function $$(n,e){return P(this,null,function*(){let t=yield Z_(n),r=xO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${Q_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw At.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw At.create("token-update-failed",{errorInfo:s})}if(!o.token)throw At.create("token-update-no-token");return o.token})}function z$(n,e){return P(this,null,function*(){let r={method:"DELETE",headers:yield Z_(n)};try{let o=yield(yield fetch(`${Q_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw At.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function Q_({projectId:n}){return`${O$}/projects/${n}/registrations`}function Z_(t){return P(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function xO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==EO&&(i.web.applicationPubKey=r),i}function q$(n){return P(this,null,function*(){let e=yield G$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ei(e.getKey("auth")),p256dh:ei(e.getKey("p256dh"))},r=yield j$(n.firebaseDependencies);if(r){if(K$(r.subscriptionOptions,t))return Date.now()>=r.createTime+H$?W$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield z$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _O(n.firebaseDependencies,t)}else return _O(n.firebaseDependencies,t)})}function W$(n,e){return P(this,null,function*(){try{let t=yield $$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Y_(n.firebaseDependencies,r),t}catch(t){throw t}})}function _O(n,e){return P(this,null,function*(){let r={token:yield B$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Y_(n,r),r.token})}function G$(n,e){return P(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k$(e)})})}function K$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function CO(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return Y$(e,n),Q$(e,n),Z$(e,n),e}function Y$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function Q$(n,e){e.data&&(n.data=e.data)}function Z$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function J$(n){return typeof n=="object"&&!!n&&MO in n}function X$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function e5(n){if(!n||!n.options)throw G_("App Configuration Object");if(!n.name)throw G_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw G_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function G_(n){return At.create("missing-app-config-values",{valueName:n})}function t5(n){return P(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(x$,{scope:I$}),n.swRegistration.update().catch(()=>{}),yield n5(n.swRegistration)}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function n5(n){return P(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${vO} ms`)),vO),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function r5(n,e){return P(this,null,function*(){if(!e&&!n.swRegistration&&(yield t5(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");n.swRegistration=e}})}function i5(n,e){return P(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=EO)})}function IO(n,e){return P(this,null,function*(){if(!navigator)throw At.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw At.create("permission-blocked");return yield i5(n,e?.vapidKey),yield r5(n,e?.serviceWorkerRegistration),q$(n)})}function o5(n,e,t){return P(this,null,function*(){let r=s5(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[MO],message_name:t[T$],message_time:t[P$],message_device_time:Math.floor(Date.now()/1e3)})})}function s5(n){switch(n){case Cp.NOTIFICATION_CLICKED:return"notification_open";case Cp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function a5(n,e){return P(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Cp.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(CO(t)):n.onMessageHandler.next(CO(t)));let r=t.data;J$(r)&&r[A$]==="1"&&(yield o5(n,t.messageType,r))})}function u5(){Xr(new cn("messaging",c5,"PUBLIC")),Xr(new cn("messaging-internal",l5,"PRIVATE")),Jn(bO,wO),Jn(bO,wO,"esm2017")}function d5(){return P(this,null,function*(){try{yield ap()}catch{return!1}return typeof window<"u"&&sp()&&NI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function f5(n,e){if(!navigator)throw At.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function OO(n=L_()){return d5().then(e=>{if(!e)throw At.create("unsupported-browser")},e=>{throw At.create("indexed-db-unsupported")}),Wc(lp(n),"messaging").getImmediate()}function TO(n,e){return P(this,null,function*(){return n=lp(n),IO(n,e)})}function PO(n,e){return n=lp(n),f5(n,e)}var x$,I$,EO,O$,MO,T$,P$,A$,vO,Cp,q_,N$,yO,L$,V$,Kc,W_,U$,At,H$,K_,bO,wO,c5,l5,AO=h(()=>{"use strict";mO();dp();gp();ia();Gc();x$="/firebase-messaging-sw.js",I$="/firebase-cloud-messaging-push-scope",EO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",O$="https://fcmregistrations.googleapis.com/v1",MO="google.c.a.c_id",T$="google.c.a.c_l",P$="google.c.a.ts",A$="google.c.a.e",vO=1e4;Cp=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Cp||{});q_="fcm_token_details_db",N$=5,yO="fcm_token_object_Store";L$="firebase-messaging-database",V$=1,Kc="firebase-messaging-store",W_=null;U$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},At=new Zr("messaging","Messaging",U$);H$=7*24*60*60*1e3;X$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");K_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=e5(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};bO="@firebase/messaging",wO="0.12.16";c5=n=>{let e=new K_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>a5(e,t)),e},l5=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>IO(e,r)}};u5()});var kO=h(()=>{"use strict";AO()});function p5(n){return Qi(()=>Xe(new Error(n)))}function h5(n,e,t,r){return()=>{if(!(Od(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(_e),o=n.get(wn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=V(null);break;case"registerWithDelay":s=RO(+c[0]||0);break;case"registerWhenStable":let l=G(n.get(wn).whenStable());s=c[0]?ql(l,RO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function RO(n){return V(null).pipe(pn(n))}function g5(n,e){return new oa(Od(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function m5(n,e={}){return ys([bp,wp,{provide:NO,useValue:n},{provide:Yc,useValue:e},{provide:oa,useFactory:g5,deps:[Yc,Xt]},{provide:Ms,useFactory:h5,deps:[et,NO,Yc,Xt],multi:!0}])}var Qc,oa,bp,wp,NO,Yc,FO,J_=h(()=>{"use strict";N();N();De();we();ai();Qc="Service workers are disabled or not supported by this browser";oa=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=p5(Qc);else{let r=Xo(e,"controllerchange").pipe(j(()=>e.controller)),i=Qi(()=>V(e.controller)),o=rr(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(Re(()=>e.getRegistration()));let l=Xo(e,"message").pipe(j(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(Qh());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(be(1),ne(r=>{r.postMessage(M({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),be(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},bp=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ge,!t.isEnabled){this.messages=Zi,this.notificationClicks=Zi,this.subscription=Zi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(Re(i=>i.getSubscription()));this.subscription=ql(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Qc));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Re(s=>s.subscribe(r)),be(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qc));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),Re(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(F(oa))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),wp=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Zi,this.unrecoverable=Zi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Qc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(F(oa))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();NO=new L("");Yc=class{};FO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[m5(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[bp,wp]})}}return n})()});var ji,Ep=h(()=>{"use strict";we();Ls();N();J_();$a();sa();ji=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return P(this,null,function*(){try{let e=yield Yi(this.http.get(`${it.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return P(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield Yi(this.http.post(`${it.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return P(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",e);try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Payload before sending to server:",JSON.stringify({title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},null,2)),console.log("\u{1F4E1} Sending notification to server");let r=yield Yi(this.http.post(`${it.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return P(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return P(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield Yi(this.http.get(`${it.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return P(this,null,function*(){try{let e=yield Yi(this.http.get(`${it.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}startKeepAliveNotifications(){setInterval(()=>P(this,null,function*(){console.log("\u{1F504} Sending keep-alive notification...");try{yield this.sendNotification({title:"\u{1F504} Keep Alive",body:"Ensuring the app stays awake...",wakeUpApp:!0,silent:!0,vibrate:[],autoDismiss:!0,type:"keep-alive"}),console.log("\u2705 Keep-alive notification sent.")}catch(e){console.error("\u274C Failed to send keep-alive notification",e)}}),3e4)}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(F(bp),F(vo),F(wp),F(An))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var VO=h(()=>{"use strict"});var _r,X_=h(()=>{"use strict";ri();VO();_r=jo("PushNotifications",{})});var _5,An,sa=h(()=>{"use strict";N();YI();kO();we();Ep();Tt();Ls();ri();X_();N();_5={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},An=class n{messaging;fcmToken={};nativeToken=null;tokenSubject=new fe(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=_(et);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=F_(_5);this.messaging=OO(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(ji)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return P(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return P(this,null,function*(){if(console.log("Platform:",ft.getPlatform()),ft.getPlatform()==="web"&&typeof Notification<"u")try{let e=yield Notification.requestPermission();console.log("\u{1F514} Notification permission (web):",e),e==="granted"?(yield this.getFCMToken())||console.warn("No valid FCM token received; not sending to server."):console.warn("\u274C Notification permission denied (web).")}catch(e){console.error("\u274C Error getting web notification permission:",e)}else try{console.log("Requesting native push notifications permission..."),(yield _r.requestPermissions()).receive==="granted"?(yield _r.register(),_r.addListener("registration",t=>{console.log("\u2705 Native push registration token:",t),this.nativeToken=t.value,this.tokenSubject.next(this.nativeToken),this.sendTokenToServer(t.value)}),_r.addListener("registrationError",t=>{console.error("\u274C Error with native push registration:",t)})):console.warn("\u274C Native push notification permission not granted.")}catch(e){console.error("\u274C Error requesting native push notification permission:",e)}})}getFCMToken(){return P(this,null,function*(){if(console.log("Platform:",ft.getPlatform()),ft.getPlatform()==="web"){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} Using existing web token for user ${e}:`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield TO(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken (web) - ${t}:`),t?(console.log(`\u2705 New FCM Token received for ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F No FCM token received (web)."),null)}catch(t){return console.error("\u274C Error retrieving FCM Token (web):",t),null}}else return console.log("Running on native \u2013 using native token:",this.nativeToken),this.nativeToken})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){PO(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden&&typeof Notification<"u"?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return P(this,null,function*(){try{(yield fetch(`${it.baseURL}/notification/save-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Mp,jO=h(()=>{"use strict";N();Mp=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Dp,UO=h(()=>{"use strict";ri();X_();N();sa();Dp=class n{constructor(e){this.firebaseService=e;this.notificationPermission=typeof Notification<"u"?Notification.permission:"default"}notificationPermission="default";requestNotificationPermission(){return P(this,null,function*(){if(console.log("Platform:",ft.getPlatform()),ft.getPlatform()==="web"&&typeof Notification<"u")try{let e=yield Notification.requestPermission();console.log("\u{1F514} Web notification permission:",e),e==="granted"?(yield this.firebaseService.getFCMToken())||console.warn("No valid FCM token received; not sending to server."):e==="denied"?(console.warn("\u274C Notification permission denied."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F Notification permission default.")}catch(e){console.error("\u274C Error getting web notification permission:",e)}else try{console.log("Requesting native push notifications permission..."),(yield _r.requestPermissions()).receive==="granted"?(yield _r.register(),_r.addListener("registration",t=>{console.log("\u2705 Native push registration token:",t),this.firebaseService.sendTokenToServer(t.value)}),_r.addListener("registrationError",t=>{console.error("\u274C Error with native push registration:",t)})):console.warn("\u274C Native push notification permission not granted.")}catch(e){console.error("\u274C Error requesting native push notification permission:",e)}})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }
          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }
          #allow-btn {
            background: #4CAF50;
            color: white;
          }
          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }
          #dismiss-btn {
            background: #f44336;
            color: white;
          }
          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }
          @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(10px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>P(this,null,function*(){if(console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),ft.getPlatform()==="web"&&typeof Notification<"u"){console.log("Platform:",ft.getPlatform());try{let t=yield Notification.requestPermission();console.log("\u{1F514} Web notification permission received:",t),t==="granted"&&(yield this.requestNotificationPermission())}catch(t){console.error("\u274C Error during web notification prompt:",t)}}else console.warn("Notifications API not available in this environment.");e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(F(An))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var BO=h(()=>{"use strict"});var $O,zO=h(()=>{"use strict";ri();BO();$O=jo("App",{web:()=>import("./chunk-SPUSWHCI.js").then(n=>new n.AppWeb)})});var HO=h(()=>{"use strict"});var qO,WO=h(()=>{"use strict";ri();HO();qO=jo("Device",{web:()=>import("./chunk-PG555YNU.js").then(n=>new n.DeviceWeb)})});function C5(n,e){if(n&1&&(wt(0),A(1,"img",19),Et()),n&2){let t=w(2);m(),y("src",t.loggedInUser.img,Ie)}}function b5(n,e){if(n&1&&(p(0,"span",20),C(1),f()),n&2){let t=w(2);m(),ht(t.getUserInitial())}}function w5(n,e){if(n&1){let t=z();wt(0),p(1,"div",8)(2,"a",9),A(3,"img",10),f(),p(4,"a",11),A(5,"img",12),f(),p(6,"div",13)(7,"a",14),k(8,C5,2,1,"ng-container",6)(9,b5,2,1,"ng-template",null,1,Hn),f(),p(11,"div",15),S("click",function(){O(t);let i=w();return T(i.toggleUpload=!i.toggleUpload)}),A(12,"img",16),f()(),p(13,"button",17),S("click",function(){O(t);let i=w();return T(i.onLogout())}),A(14,"img",18),f()(),Et()}if(n&2){let t=ct(10),r=w();m(8),y("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function E5(n,e){n&1&&(p(0,"a",21),A(1,"img",22),f(),p(2,"a",23),A(3,"img",24),f(),p(4,"a",25),A(5,"img",26),f())}function M5(n,e){if(n&1){let t=z();p(0,"div")(1,"image-upload",27),S("imageUploaded",function(i){O(t);let o=w();return T(o.onImageUploaded(i))}),f()()}}var Sp,GO=h(()=>{"use strict";N();Tt();lt();ki();De();v_();Sp=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=B(M({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(Pt))};static \u0275cmp=Z({type:n,selectors:[["app-header"]],decls:9,vars:3,consts:[["notLoggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"profile-container"],["routerLink","/contact","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/content.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"user-profile-wrapper"],["routerLink","/",1,"profile-picture"],[1,"camera-icon",3,"click"],["src","../../../assets/images/camera.png","alt","Upload Image"],[1,"profile-picture",3,"click"],["src","../../../assets/images/logout2.png","alt","Logout",1,"logimg"],["alt","User Profile",3,"src"],[1,"default-avatar"],["routerLink","/","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/house.png","alt","Home",1,"logimg"],["routerLink","/login","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/login2.png","alt","Login",1,"logimg"],["routerLink","/signup","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/sign-up.png","alt","Sign Up",1,"logimg"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(p(0,"header")(1,"div",2),A(2,"img",3),f(),p(3,"div",4)(4,"div",5),k(5,w5,15,2,"ng-container",6)(6,E5,6,0,"ng-template",null,0,Hn),f()(),k(8,M5,2,0,"div",7),f()),t&2){let i=ct(7);m(5),y("ngIf",r.loggedInUser)("ngIfElse",i),m(3),y("ngIf",r.toggleUpload)}},dependencies:[me,Dn,mS,ra],styles:['@charset "UTF-8";[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}.profile-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:15px}.user-profile-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50%;overflow:hidden;border:2px solid transparent;transition:border .3s;padding:.1px!important}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .user-profile-wrapper[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.user-profile-wrapper[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#f1c40f;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;cursor:pointer}.user-profile-wrapper[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50%;overflow:hidden;border:2px solid transparent;transition:border .3s;padding:.1px!important}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#f1c40f;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;cursor:pointer}.profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}@media (max-width: 768px){header[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 480px){header[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{width:17px;height:17px}}.logimg[_ngcontent-%COMP%]{width:50px;height:50px;padding:.1px}']})}});function S5(n,e){n&1&&(p(0,"div",1),A(1,"div",2),f())}var xp,KO=h(()=>{"use strict";N();na();De();xp=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Pn))};static \u0275cmp=Z({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(k(0,S5,2,0,"div",0),Mt(1,"async")),t&2&&y("ngIf",Dt(1,1,r.isLoading))},dependencies:[me,Kt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function I5(n,e){if(n&1){let t=z();p(0,"section")(1,"h4"),C(2),f(),p(3,"button",1),S("click",function(){O(t);let i=w();return T(i.onCloseMsg())}),C(4,"X"),f()()}if(n&2){let t=e.ngIf;MM("msg ",t.type,""),y("@toggleMsg",void 0),m(2),ht(t.txt)}}var Ip,YO=h(()=>{"use strict";we();Mf();N();ki();De();Ip=class n{constructor(e){this.msgService=e}msg$=V(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(Pt))};static \u0275cmp=Z({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(k(0,I5,5,5,"section",0),Mt(1,"async")),t&2&&y("ngIf",Dt(1,1,r.msg$))},dependencies:[me,Kt],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[wf("toggleMsg",[Ac(":enter",[Qn({transform:"translateY(-100%)"}),Pc("0.3s ease-in-out",Qn({transform:"translateY(0%)"}))]),Ac(":leave",[Qn({transform:"translateY(0%)"}),Pc("0.3s ease-in-out",Qn({transform:"translateY(-100%)"}))])])]}})}});function T5(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.installPWA())}),C(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}function P5(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.disableBatteryOptimization())}),C(1," \u2622\uFE0F"),f()}}var Op,QO=h(()=>{"use strict";N();we();Wr();sa();jO();Ep();UO();Tt();qs();zO();WO();N();De();lt();GO();KO();YO();Op=class n{title="MyAccounts";contactService=_(St);firebaseService=_(An);pwaService=_(Mp);notificationMobileService=_(Dp);notificationService=_(ji);userService=_(Ce);socketService=_(Sn);subscription;idleTimer;idleTime=0;idleMaxTime=600;showBatteryOptimizationButton=!0;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){localStorage.getItem("batteryOptimizationDisabled")==="true"&&(this.showBatteryOptimizationButton=!1),this.notificationService.startKeepAliveNotifications(),this.keepScreenAwake(),this.subscription=this.contactService.loadContacts().pipe(be(1)).subscribe({error:t=>console.log("err:",t)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>P(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let t=yield this.firebaseService.getFCMToken();t?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),$O.addListener("appStateChange",r=>P(this,[r],function*({isActive:t}){if(!t)console.log("\u{1F504} (Capacitor) \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DC\u05E9\u05DE\u05D9\u05E8\u05EA \u05D4\u05D7\u05D9\u05D1\u05D5\u05E8..."),this.socketService.emit("ping");else{console.log("\u{1F504} (Capacitor) \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E7\u05D3\u05DE\u05D4 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05D7\u05D9\u05D1\u05D5\u05E8\u05D9\u05DD \u05D5\u05D8\u05D5\u05E7\u05E0\u05D9\u05DD..."),this.userService.refreshLoginTokenIfNeeded(),this.socketService.isConnected()||(console.log("\u{1F50C} (Capacitor) \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup());let i=yield this.firebaseService.getFCMToken();i?console.log("\u2705 (Capacitor) \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",i):(console.warn("\u26A0\uFE0F (Capacitor) \u05D0\u05D9\u05DF \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E7\u05E9 \u05D4\u05E8\u05E9\u05D0\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),qO.getInfo().then(t=>{console.log("\u{1F4F1} (Capacitor Device) Device Info:",t)}),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",t.data.token),this.userService.restoreLoginToken(t.data.token)),t.data&&t.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),typeof Notification<"u"&&Notification.permission==="default"&&setTimeout(()=>{let t=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-t<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(t=>{t&&console.log("\u{1F511} FCM Token received (on init):",t)}),this.firebaseService.getTokenObservable().subscribe(t=>{t&&console.log("\u{1F511} FCM Token received:",t)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}keepScreenAwake(){return P(this,null,function*(){if("wakeLock"in navigator)try{let e=yield navigator.wakeLock.request("screen");console.log("\u2705 Wake Lock enabled"),e.addEventListener("release",()=>{console.log("\u26A0\uFE0F Wake Lock was released")})}catch(e){console.error("\u274C Wake Lock failed:",e)}else console.warn("\u26A0\uFE0F Wake Lock API not supported")})}disableBatteryOptimization(){"requestWakeLock"in navigator?navigator.requestWakeLock("screen").then(()=>{console.log("\u2705 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 \u05D1\u05D5\u05D8\u05DC"),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1}).catch(e=>{console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D4\u05E8\u05E9\u05D0\u05EA Wake Lock:",e)}):(alert(`\u05DC\u05D1\u05D9\u05E6\u05D5\u05E2\u05D9\u05DD \u05D2\u05D1\u05D5\u05D4\u05D9\u05DD :
\u05DC\u05D7\u05E5 \u05DC\u05D7\u05D9\u05E6\u05D4 \u05D0\u05E8\u05D5\u05DB\u05D4 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E9\u05DC \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E2\u05DD \u05D4\u05E1\u05D9\u05DE\u05DF : (!) ,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 / \u05E1\u05D5\u05DC\u05DC\u05D4,
\u05D1\u05D7\u05E8 \u05D1\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05DC\u05DC\u05D0 \u05D4\u05D2\u05D1\u05DC\u05D4.`),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:9,vars:2,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(p(0,"main",0),A(1,"app-header"),p(2,"div",1),k(3,T5,2,0,"button",2)(4,P5,2,0,"button",2),f(),A(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),A(8,"msg")),t&2&&(m(3),y("ngIf",r.showInstallButton),m(),y("ngIf",r.showBatteryOptimizationButton))},dependencies:[me,Gn,Sp,xp,Ip],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:.5em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function ZO(n){return new x(3e3,!1)}function A5(){return new x(3100,!1)}function k5(){return new x(3101,!1)}function N5(n){return new x(3001,!1)}function R5(n){return new x(3003,!1)}function F5(n){return new x(3004,!1)}function L5(n,e){return new x(3005,!1)}function V5(){return new x(3006,!1)}function j5(){return new x(3007,!1)}function U5(n,e){return new x(3008,!1)}function B5(n){return new x(3002,!1)}function $5(n,e,t,r,i){return new x(3010,!1)}function z5(){return new x(3011,!1)}function H5(){return new x(3012,!1)}function q5(){return new x(3200,!1)}function W5(){return new x(3202,!1)}function G5(){return new x(3013,!1)}function K5(n){return new x(3014,!1)}function Y5(n){return new x(3015,!1)}function Q5(n){return new x(3016,!1)}function Z5(n,e){return new x(3404,!1)}function J5(n){return new x(3502,!1)}function X5(n){return new x(3503,!1)}function e4(){return new x(3300,!1)}function t4(n){return new x(3504,!1)}function n4(n){return new x(3301,!1)}function r4(n,e){return new x(3302,!1)}function i4(n){return new x(3303,!1)}function o4(n,e){return new x(3400,!1)}function s4(n){return new x(3401,!1)}function a4(n){return new x(3402,!1)}function c4(n,e){return new x(3505,!1)}function Ui(n){switch(n.length){case 0:return new Ai;case 1:return n[0];default:return new Tc(n)}}function dT(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((v,g)=>{let b=g,E=v;if(g!=="offset")switch(b=n.normalizePropertyName(b,i),E){case Ef:E=t.get(g);break;case vr:E=r.get(g);break;default:E=n.normalizeStyleValue(g,b,E,i);break}d.set(b,E)}),u||o.push(d),a=d,s=l}),i.length)throw J5(i);return o}function w0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&e0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&e0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&e0(t,"destroy",n)));break}}function e0(n,e,t){let r=t.totalTime,i=!!t.disabled,o=E0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function E0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function un(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function JO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function M0(n){let e=n.parentNode||n.host||null;return e===l4?null:e}function u4(n){return n.substring(1,6)=="ebkit"}function d4(n){ko||(ko=f4()||{},XO=ko.style?"WebkitAppearance"in ko.style:!1);let e=!0;return ko.style&&!u4(n)&&(e=n in ko.style,!e&&XO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ko.style)),e}function f4(){return typeof document<"u"?document.body:null}function fT(n,e){for(;e;){if(e===n)return!0;e=M0(e)}return!1}function pT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function ti(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:c0(parseFloat(e[1]),e[2])}function c0(n,e){switch(e){case"s":return n*p4;default:return n}}function Fp(n,e,t){return n.hasOwnProperty("duration")?n:g4(n,e,t)}function g4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(ZO(n)),{duration:0,delay:0,easing:""};i=c0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=c0(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(A5()),a=!0),o<0&&(e.push(k5()),a=!0),a&&e.splice(c,0,ZO(n))}return{duration:i,delay:o,easing:s}}function m4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Cr(n,e,t){e.forEach((r,i)=>{let o=S0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Ro(n,e){e.forEach((t,r)=>{let i=S0(r);n.style[i]=""})}function Zc(n){return Array.isArray(n)?n.length==1?n[0]:hx(n):n}function v4(n,e,t){let r=e.params||{},i=mT(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(N5(o))})}function mT(n){let e=[];if(typeof n=="string"){let t;for(;t=l0.exec(n);)e.push(t[1]);l0.lastIndex=0}return e}function Xc(n,e,t){let r=`${n}`,i=r.replace(l0,(o,s)=>{let a=e[s];return a==null&&(t.push(R5(s)),a=""),a.toString()});return i==r?n:i}function S0(n){return n.replace(y4,(...e)=>e[1].toUpperCase())}function _4(n,e){return n===0||e===0}function C4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,x0(n,a)))}}return e}function ln(n,e,t){switch(e.type){case re.Trigger:return n.visitTrigger(e,t);case re.State:return n.visitState(e,t);case re.Transition:return n.visitTransition(e,t);case re.Sequence:return n.visitSequence(e,t);case re.Group:return n.visitGroup(e,t);case re.Animate:return n.visitAnimate(e,t);case re.Keyframes:return n.visitKeyframes(e,t);case re.Style:return n.visitStyle(e,t);case re.Reference:return n.visitReference(e,t);case re.AnimateChild:return n.visitAnimateChild(e,t);case re.AnimateRef:return n.visitAnimateRef(e,t);case re.Query:return n.visitQuery(e,t);case re.Stagger:return n.visitStagger(e,t);default:throw F5(e.type)}}function x0(n,e){return window.getComputedStyle(n)[e]}function w4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>E4(r,t,e)):t.push(n),t}function E4(n,e,t){if(n[0]==":"){let c=M4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(Y5(n)),e;let i=r[1],o=r[2],s=r[3];e.push(tT(i,s));let a=i==Vp&&s==Vp;o[0]=="<"&&!a&&e.push(tT(s,i))}function M4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Q5(n)),"* => *"}}function tT(n,e){let t=Pp.has(n)||Ap.has(n),r=Pp.has(e)||Ap.has(e);return(i,o)=>{let s=n==Vp||n==i,a=e==Vp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Pp.has(n):Ap.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Pp.has(e):Ap.has(e)),s&&a}}function yT(n,e,t,r){return new u0(n).build(e,t,r)}function S4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==vT);return e&&(n=n.replace(D4,"")),n=n.replace(/@\*/g,Rp).replace(/@\w+/g,t=>Rp+"-"+t.slice(1)).replace(/:animating/g,a0),[n,e]}function x4(n){return n?M({},n):null}function I4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function O4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Fp(n,e).duration;return t0(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=t0(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Fp(t,e);return t0(i.duration,i.delay,i.easing)}function No(n){return n?(n=M({},n),n.params&&(n.params=x4(n.params))):n={},n}function t0(n,e,t){return{duration:n,delay:e,easing:t}}function I0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function _T(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new f0().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function rT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function R4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,vr)}else for(let[o,s]of i)t.set(o,s)}),t}function iT(n,e,t,r,i,o,s,a,c,l,u,d,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:v}}function F4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function CT(n,e){let t=M({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function L4(n,e,t){return new m0(n,e,t)}function V4(n,e,t){let r=[(s,a)=>!0],i={type:re.Sequence,steps:[],options:null},o={type:re.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Bp(n,o,e)}function oT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function W4(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function G4(n){return n??null}function kp(n){return n&&n.nodeType===1}function K4(n){return n=="start"||n=="done"}function aT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function cT(n,e,t,r,i){let o=[];t.forEach(c=>o.push(aT(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let v=e.computeStyle(l,d,i);u.set(d,v),(!v||v.length==0)&&(l[Xn]=q4,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>aT(c,o[a++])),s}function lT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function kn(n,e){n.classList?.add(e)}function aa(n,e){n.classList?.remove(e)}function Y4(n,e,t){Ui(t).onDone(()=>n.processLeaveNode(e))}function Q4(n){let e=[];return wT(n,e),e}function wT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Tc?wT(r.players,e):e.push(r)}}function Z4(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function uT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function J4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=o0(e[0]),e.length>1&&(r=o0(e[e.length-1]))):e instanceof Map&&(t=o0(e)),t||r?new C0(n,t,r):null}function o0(n){let e=null;return n.forEach((t,r)=>{X4(r)&&(e=e||new Map,e.set(r,t))}),e}function X4(n){return n==="display"||n==="position"}function e8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function t8(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var l4,ko,XO,D0,Fo,Lo,p4,hT,h4,gT,s0,Tp,Rp,eT,a0,l0,y4,b4,Lp,Vp,Pp,Ap,vT,D4,nT,u0,d0,el,T4,P4,A4,k4,N4,f0,jp,p0,Up,h0,n0,Bp,g0,m0,j4,v0,sT,U4,r0,B4,$4,z4,H4,bT,q4,Xn,tl,Jc,i0,y0,_0,nl,ca,C0,$p,zp,Np,ET,Hp,b0,qp,O0=h(()=>{"use strict";Mf();N();N();l4=typeof document>"u"?null:document.documentElement;ko=null,XO=!1;D0=(()=>{class n{validateStyleProperty(t){return d4(t)}containsElement(t,r){return fT(t,r)}getParentElement(t){return M0(t)}query(t,r,i){return pT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ai(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Fo=class{static{this.NOOP=new D0}},Lo=class{},p4=1e3,hT="{{",h4="}}",gT="ng-enter",s0="ng-leave",Tp="ng-trigger",Rp=".ng-trigger",eT="ng-animating",a0=".ng-animating";l0=new RegExp(`${hT}\\s*(.+?)\\s*${h4}`,"g");y4=/-+([a-z0-9])/g;b4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Lp=class extends Lo{normalizePropertyName(e,t){return S0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(b4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(L5(e,r))}return s+o}},Vp="*";Pp=new Set(["true","1"]),Ap=new Set(["false","0"]);vT=":self",D4=new RegExp(`s*${vT}s*,?`,"g");nT="",u0=class{constructor(e){this._driver=e}build(e,t,r){let i=new d0(t);return this._resetContextStyleTimingState(i),ln(this,Zc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=nT,e.collectedStyles=new Map,e.collectedStyles.set(nT,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(V5()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==re.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==re.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(j5())}),{type:re.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{mT(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(U5(e.name,[...o.values()]))}return{type:re.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=ln(this,Zc(e.animation),t),i=w4(e.expr,t.errors);return{type:re.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:No(e.options)}}visitSequence(e,t){return{type:re.Sequence,steps:e.steps.map(r=>ln(this,r,t)),options:No(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=ln(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:re.Group,steps:o,options:No(e.options)}}visitAnimate(e,t){let r=O4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Qn({});if(o.type==re.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Qn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:re.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===vr?r.push(a):t.errors.push(B5(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(hT)>=0){o=!0;break}}}),{type:re.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push($5(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&v4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:re.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(z5()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map($=>{let se=this._makeStyleAst($,t),Y=se.offset!=null?se.offset:I4(se.styles),pe=0;return Y!=null&&(o++,pe=se.offset=Y),c=c||pe<0||pe>1,a=a||pe<l,l=pe,s.push(pe),se});c&&t.errors.push(H5()),a&&t.errors.push(q5());let d=e.steps.length,v=0;o>0&&o<d?t.errors.push(W5()):o==0&&(v=i/(d-1));let g=d-1,b=t.currentTime,E=t.currentAnimateTimings,R=E.duration;return u.forEach(($,se)=>{let Y=v>0?se==g?1:v*se:s[se],pe=Y*R;t.currentTime=b+E.delay+pe,E.duration=pe,this._validateStyleAst($,t),$.offset=Y,r.styles.push($)}),r}visitReference(e,t){return{type:re.Reference,animation:ln(this,Zc(e.animation),t),options:No(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:re.AnimateChild,options:No(e.options)}}visitAnimateRef(e,t){return{type:re.AnimateRef,animation:this.visitReference(e.animation,t),options:No(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=S4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,un(t.collectedStyles,t.currentQuerySelector,new Map);let a=ln(this,Zc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:re.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:No(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(G5());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Fp(e.timings,t.errors,!0);return{type:re.Stagger,animation:ln(this,Zc(e.animation),t),timings:r,options:null}}};d0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};el=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},T4=1,P4=":enter",A4=new RegExp(P4,"g"),k4=":leave",N4=new RegExp(k4,"g");f0=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new el;let d=new p0(e,t,l,i,o,u,[]);d.options=c;let v=c.delay?ti(c.delay):0;d.currentTimeline.delayNextStep(v),d.currentTimeline.setStyles([s],null,d.errors,c),ln(this,r,d);let g=d.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let E=g.length-1;E>=0;E--){let R=g[E];if(R.element===t){b=R;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,d.errors,c)}return g.length?g.map(b=>b.buildKeyframes()):[I0(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:ti(Xc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?ti(r.duration):null,a=r.delay!=null?ti(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ln(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==re.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jp);let s=ti(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>ln(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ti(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),ln(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Xc(r,t.params,t.errors):r;return Fp(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==re.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ti(i.delay):0;o&&(t.previousNode.type===re.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=jp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),ln(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let v=d.currentTimeline.currentTime;s=Math.max(s,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;ln(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},jp={},p0=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Up(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=ti(r.duration)),r.delay!=null&&(i.delay=ti(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Xc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=jp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new h0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(A4,"."+this._enterClassName),e=e.replace(N4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(K5(t)),a}},Up=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=T4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||vr),this._currentKeyframe.set(t,vr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=R4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Xc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??vr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Ef?e.add(d):u===vr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return I0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},h0=class extends Up{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",rT(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let v=new Map(e[d]),g=v.get("offset"),b=t+g*r;v.set("offset",rT(b/s)),o.push(v)}r=s,t=0,i="",e=o}return I0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};n0={},Bp=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return F4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],v=this.ast.options&&this.ast.options.params||n0,g=a&&a.params||n0,b=this.buildStyles(r,g,d),E=c&&c.params||n0,R=this.buildStyles(i,E,d),$=new Set,se=new Map,Y=new Map,pe=i==="void",We={params:CT(E,v),delay:this.ast.options?.delay},Se=u?[]:_T(e,t,this.ast.animation,o,s,b,R,We,l,d),Ve=0;return Se.forEach(ut=>{Ve=Math.max(ut.duration+ut.delay,Ve)}),d.length?iT(t,this._triggerName,r,i,pe,b,R,[],[],se,Y,Ve,d):(Se.forEach(ut=>{let br=ut.element,Vo=un(se,br,new Set);ut.preStyleProps.forEach(Bi=>Vo.add(Bi));let P0=un(Y,br,new Set);ut.postStyleProps.forEach(Bi=>P0.add(Bi)),br!==t&&$.add(br)}),iT(t,this._triggerName,r,i,pe,b,R,Se,[...$.values()],se,Y,Ve))}};g0=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=CT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Xc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};m0=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new g0(i.style,o,r))}),oT(this.states,"true","1"),oT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Bp(e,i,this.states))}),this.fallbackTransition=V4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};j4=new el,v0=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=yT(this._driver,t,r,i);if(r.length)throw X5(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=dT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=_T(this._driver,t,o,gT,s0,new Map,new Map,r,j4,i),s.forEach(u=>{let d=un(a,u.element,new Map);u.postStyleProps.forEach(v=>d.set(v,null))})):(i.push(e4()),s=[]),i.length)throw t4(i);a.forEach((u,d)=>{u.forEach((v,g)=>{u.set(g,this._driver.computeStyle(d,g,vr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Ui(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw n4(e);return t}listen(e,t,r,i){let o=E0(t,"","","");return w0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},sT="ng-animate-queued",U4=".ng-animate-queued",r0="ng-animate-disabled",B4=".ng-animate-disabled",$4="ng-star-inserted",z4=".ng-star-inserted",H4=[],bT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xn="__ng_removed",tl=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=G4(i),r){let o=e,{value:s}=o,a=Xp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Jc="void",i0=new tl(Jc),y0=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw r4(r,t);if(r==null||r.length==0)throw i4(t);if(!K4(r))throw o4(r,t);let o=un(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=un(this._engine.statesByElement,e,new Map);return a.has(t)||(kn(e,Tp),kn(e,Tp+"-"+t),a.set(t,i0)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw s4(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new nl(this.id,t,e),a=this._engine.statesByElement.get(e);a||(kn(e,Tp),kn(e,Tp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new tl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=i0),!(l.value===Jc)&&c.value===l.value){if(!Z4(c.params,l.params)){let E=[],R=o.matchStyles(c.value,c.params,E),$=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Ro(e,R),Cr(e,$)})}return}let v=un(this._engine.playersByElement,e,[]);v.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),b=!1;if(!g){if(!i)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(kn(e,sT),s.onStart(()=>{aa(e,sT)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let R=this._engine.playersByElement.get(e);if(R){let $=R.indexOf(s);$>=0&&R.splice($,1)}}),this.players.push(s),v.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Rp,!0);r.forEach(i=>{if(i[Xn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Jc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ui(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||i0,u=new tl(Jc),d=new nl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Xn];(!o||o===bT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){kn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=E0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,w0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},_0=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new y0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(kp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!kp(t))return;let o=t[Xn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kn(e,r0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),aa(e,r0))}removeNode(e,t,r){if(kp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Xn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return kp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Rp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,a0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ui(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Xn];if(t&&t.setForRemoval){if(e[Xn]=bT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(r0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,B4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];kn(i,$4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ui(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw a4(e)}_flushAnimations(e,t){let r=new el,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let W=this.driver.query(U,U4,!0);for(let K=0;K<W.length;K++)u.add(W[K])});let d=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=lT(v,this.collectedEnterElements),b=new Map,E=0;g.forEach((U,W)=>{let K=gT+E++;b.set(W,K),U.forEach(ve=>kn(ve,K))});let R=[],$=new Set,se=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let W=this.collectedLeaveElements[U],K=W[Xn];K&&K.setForRemoval&&(R.push(W),$.add(W),K.hasAnimation?this.driver.query(W,z4,!0).forEach(ve=>$.add(ve)):se.add(W))}let Y=new Map,pe=lT(v,Array.from($));pe.forEach((U,W)=>{let K=s0+E++;Y.set(W,K),U.forEach(ve=>kn(ve,K))}),e.push(()=>{g.forEach((U,W)=>{let K=b.get(W);U.forEach(ve=>aa(ve,K))}),pe.forEach((U,W)=>{let K=Y.get(W);U.forEach(ve=>aa(ve,K))}),R.forEach(U=>{this.processLeaveNode(U)})});let We=[],Se=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(K=>{let ve=K.player,dt=K.element;if(We.push(ve),this.collectedEnterElements.length){let xt=dt[Xn];if(xt&&xt.setForMove){if(xt.previousTriggersValues&&xt.previousTriggersValues.has(K.triggerName)){let $i=xt.previousTriggersValues.get(K.triggerName),dn=this.statesByElement.get(K.element);if(dn&&dn.has(K.triggerName)){let rl=dn.get(K.triggerName);rl.value=$i,dn.set(K.triggerName,rl)}}ve.destroy();return}}let er=!d||!this.driver.containsElement(d,dt),Qt=Y.get(dt),ni=b.get(dt),ze=this._buildInstruction(K,r,ni,Qt,er);if(ze.errors&&ze.errors.length){Se.push(ze);return}if(er){ve.onStart(()=>Ro(dt,ze.fromStyles)),ve.onDestroy(()=>Cr(dt,ze.toStyles)),i.push(ve);return}if(K.isFallbackTransition){ve.onStart(()=>Ro(dt,ze.fromStyles)),ve.onDestroy(()=>Cr(dt,ze.toStyles)),i.push(ve);return}let N0=[];ze.timelines.forEach(xt=>{xt.stretchStartingKeyframe=!0,this.disabledNodes.has(xt.element)||N0.push(xt)}),ze.timelines=N0,r.append(dt,ze.timelines);let NT={instruction:ze,player:ve,element:dt};s.push(NT),ze.queriedElements.forEach(xt=>un(a,xt,[]).push(ve)),ze.preStyleProps.forEach((xt,$i)=>{if(xt.size){let dn=c.get($i);dn||c.set($i,dn=new Set),xt.forEach((rl,Jp)=>dn.add(Jp))}}),ze.postStyleProps.forEach((xt,$i)=>{let dn=l.get($i);dn||l.set($i,dn=new Set),xt.forEach((rl,Jp)=>dn.add(Jp))})});if(Se.length){let U=[];Se.forEach(W=>{U.push(c4(W.triggerName,W.errors))}),We.forEach(W=>W.destroy()),this.reportError(U)}let Ve=new Map,ut=new Map;s.forEach(U=>{let W=U.element;r.has(W)&&(ut.set(W,W),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Ve))}),i.forEach(U=>{let W=U.element;this._getPreviousPlayers(W,!1,U.namespaceId,U.triggerName,null).forEach(ve=>{un(Ve,W,[]).push(ve),ve.destroy()})});let br=R.filter(U=>uT(U,c,l)),Vo=new Map;cT(Vo,this.driver,se,l,vr).forEach(U=>{uT(U,c,l)&&br.push(U)});let Bi=new Map;g.forEach((U,W)=>{cT(Bi,this.driver,new Set(U),c,Ef)}),br.forEach(U=>{let W=Vo.get(U),K=Bi.get(U);Vo.set(U,new Map([...W?.entries()??[],...K?.entries()??[]]))});let Zp=[],A0=[],k0={};s.forEach(U=>{let{element:W,player:K,instruction:ve}=U;if(r.has(W)){if(u.has(W)){K.onDestroy(()=>Cr(W,ve.toStyles)),K.disabled=!0,K.overrideTotalTime(ve.totalTime),i.push(K);return}let dt=k0;if(ut.size>1){let Qt=W,ni=[];for(;Qt=Qt.parentNode;){let ze=ut.get(Qt);if(ze){dt=ze;break}ni.push(Qt)}ni.forEach(ze=>ut.set(ze,dt))}let er=this._buildAnimation(K.namespaceId,ve,Ve,o,Bi,Vo);if(K.setRealPlayer(er),dt===k0)Zp.push(K);else{let Qt=this.playersByElement.get(dt);Qt&&Qt.length&&(K.parentPlayer=Ui(Qt)),i.push(K)}}else Ro(W,ve.fromStyles),K.onDestroy(()=>Cr(W,ve.toStyles)),A0.push(K),u.has(W)&&i.push(K)}),A0.forEach(U=>{let W=o.get(U.element);if(W&&W.length){let K=Ui(W);U.setRealPlayer(K)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<R.length;U++){let W=R[U],K=W[Xn];if(aa(W,s0),K&&K.hasAnimation)continue;let ve=[];if(a.size){let er=a.get(W);er&&er.length&&ve.push(...er);let Qt=this.driver.query(W,a0,!0);for(let ni=0;ni<Qt.length;ni++){let ze=a.get(Qt[ni]);ze&&ze.length&&ve.push(...ze)}}let dt=ve.filter(er=>!er.destroyed);dt.length?Y4(this,W,dt):this.processLeaveNode(W)}return R.length=0,Zp.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let W=this.players.indexOf(U);this.players.splice(W,1)}),U.play()}),Zp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Jc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=un(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),d.push(g)})}Ro(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,v=t.timelines.map(b=>{let E=b.element;u.add(E);let R=E[Xn];if(R&&R.removedBeforeQueried)return new Ai(b.duration,b.delay);let $=E!==c,se=Q4((r.get(E)||H4).map(Ve=>Ve.getRealPlayer())).filter(Ve=>{let ut=Ve;return ut.element?ut.element===E:!1}),Y=o.get(E),pe=s.get(E),We=dT(this._normalizer,b.keyframes,Y,pe),Se=this._buildPlayer(b,We,se);if(b.subTimeline&&i&&d.add(E),$){let Ve=new nl(e,a,E);Ve.setRealPlayer(Se),l.push(Ve)}return Se});l.forEach(b=>{un(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>W4(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>kn(b,eT));let g=Ui(v);return g.onDestroy(()=>{u.forEach(b=>aa(b,eT)),Cr(c,t.toStyles)}),d.forEach(b=>{un(i,b,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ai(e.duration,e.delay)}},nl=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ai,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>w0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){un(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};ca=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new _0(e.body,t,r),this._timelineEngine=new v0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=yT(this._driver,o,c,l);if(c.length)throw Z5(i,c);l.length&&void 0,a=L4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=JO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=JO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};C0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Cr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cr(this._element,this._initialStyles),this._endStyles&&(Cr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ro(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ro(this._element,this._endStyles),this._endStyles=null),Cr(this._element,this._initialStyles),this._state=3)}};$p=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:x0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},zp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return fT(e,t)}getParentElement(e){return M0(e)}query(e,t,r){return pT(e,t,r)}computeStyle(e,t,r){return x0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof $p);_4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((b,E)=>l.set(E,b))});let d=m4(t).map(g=>new Map(g));d=C4(e,d,l);let v=J4(e,d);return new $p(e,d,c,v)}},Np="@",ET="@.disabled",Hp=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Np&&t==ET?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},b0=class extends Hp{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Np?t.charAt(1)=="."&&t==ET?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==Np){let i=e8(e),o=t.slice(1),s="";return o.charAt(0)!=Np&&([o,s]=t8(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};qp=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Hp(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new b0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function i8(){return new Lp}function o8(n,e,t){return new qp(n,e,t)}var r8,DT,MT,s8,ST,xT=h(()=>{"use strict";N();N();Wa();O0();O0();De();r8=(()=>{class n extends ca{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(F(gt),F(Fo),F(Lo))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();DT=[{provide:Lo,useFactory:i8},{provide:ca,useClass:r8},{provide:mi,useFactory:o8,deps:[Fd,ca,_e]}],MT=[{provide:Fo,useFactory:()=>new zp},{provide:Rm,useValue:"BrowserAnimations"},...DT],s8=[{provide:Fo,useClass:D0},{provide:Rm,useValue:"NoopAnimations"},...DT],ST=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?s8:MT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:MT,imports:[Vd]})}}return n})()});var Wp,IT=h(()=>{"use strict";N();Wp=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function f8(n,e){if(n&1){let t=z();p(0,"div",30)(1,"span",31),S("click",function(){let i=O(t).$implicit,o=w(3);return T(o.joinSavedGroup(i))}),C(2),f(),p(3,"button",31),S("click",function(){let i=O(t).$implicit,o=w(3);return T(o.removeGroup(i))}),C(4,"X"),f()()}if(n&2){let t=e.$implicit;m(2),Pe(" ",t," ")}}function p8(n,e){if(n&1&&(p(0,"div",28),k(1,f8,5,1,"div",29),f()),n&2){let t=w(2);zn("open",t.isSavedGroupsOpen),m(),y("ngForOf",t.savedGroups)}}function h8(n,e){if(n&1){let t=z();p(0,"div",23)(1,"div",24),S("click",function(){O(t);let i=w();return T(i.toggleSavedGroups())}),p(2,"span",25),C(3,"\u05D7\u05D3\u05E8\u05D9\u05DD \u05E9\u05DE\u05D5\u05E8\u05D9\u05DD"),f(),p(4,"span",26),C(5,"\u25BC"),f()(),k(6,p8,2,3,"div",27),f()}if(n&2){let t=w();m(4),zn("open",t.isSavedGroupsOpen),m(2),y("ngIf",t.savedGroups.length>0)}}function g8(n,e){if(n&1){let t=z();p(0,"div",32)(1,"input",33,3),jt("ngModelChange",function(i){O(t);let o=w();return Gt(o.room,i)||(o.room=i),T(i)}),f(),p(3,"button",34),S("click",function(){O(t);let i=w();return i.joinRoom(),T(i.isRoomJoined=!0)}),A(4,"img",35),f()()}if(n&2){let t=w();m(),Vt("ngModel",t.room)}}function m8(n,e){if(n&1){let t=z();p(0,"div",42)(1,"img",43),S("error",function(){O(t);let i=w().$implicit,o=w();return T(o.handleImageError(i.imageUrl))}),f(),p(2,"button",44),S("click",function(){O(t);let i=w().$implicit,o=w();return T(o.openMediaModal(i.imageUrl,"image"))}),A(3,"img",45),f()()}if(n&2){let t=w().$implicit;m(),y("src",t.imageUrl,Ie)}}function v8(n,e){if(n&1){let t=z();p(0,"div",46)(1,"video",47),S("error",function(){O(t);let i=w().$implicit,o=w();return T(o.handleVideoError(i.videoUrl))}),C(2," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f(),p(3,"button",44),S("click",function(){O(t);let i=w().$implicit,o=w();return T(o.openMediaModal(i.videoUrl,"video"))}),A(4,"img",45),f()()}if(n&2){let t=w().$implicit;m(),y("src",t.videoUrl,Ie)}}function y8(n,e){if(n&1&&(p(0,"div"),C(1),f()),n&2){let t=w().$implicit;m(),ht(t.text)}}function _8(n,e){if(n&1&&(p(0,"div",36)(1,"span",37),C(2),f(),p(3,"div",38),k(4,m8,4,1,"div",39)(5,v8,5,1,"div",40)(6,y8,2,1,"div",41),f()()),n&2){let t=e.$implicit;y("ngClass",bn(5,d8,t.senderName==="Me",t.senderName!=="Me")),m(2),ht(t.senderName),m(2),y("ngIf",t.imageUrl),m(),y("ngIf",t.videoUrl),m(),y("ngIf",t.text)}}function C8(n,e){n&1&&(p(0,"span"),C(1,"\u2328\uFE0F"),f())}function b8(n,e){n&1&&(p(0,"span"),C(1,"\u2328\uFE0F"),f())}function w8(n,e){n&1&&(p(0,"span"),C(1,"\u{1F5BC}\uFE0F"),f())}function E8(n,e){n&1&&(p(0,"span"),C(1,"\u{1F3AC}"),f())}function M8(n,e){if(n&1&&(p(0,"div",48)(1,"div",49),k(2,C8,2,0,"span",41)(3,b8,2,0,"span",41)(4,w8,2,0,"span",41)(5,E8,2,0,"span",41),f()()),n&2){let t=w();m(2),y("ngIf",t.typingMessage==="Typing..."),m(),y("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),m(),y("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),m(),y("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function D8(n,e){if(n&1&&(p(0,"div",50),A(1,"div",51),p(2,"p"),C(3),f()()),n&2){let t=w();m(3),Pe("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function S8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w();return T(o.sendMessage(i))}),A(1,"img",53),f()}}function x8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w();return T(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function I8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function O8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function T8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w(2);return T(o.sendMessage(i))}),A(1,"img",53),f()}}function P8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w(2);return T(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function A8(n,e){if(n&1){let t=z();p(0,"div",54),S("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),p(1,"div",55),S("click",function(i){return O(t),T(i.stopPropagation())})("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),k(2,I8,1,1,"img",56)(3,O8,1,1,"video",57),p(4,"div",58)(5,"div",14)(6,"textarea",59,1),jt("ngModelChange",function(i){O(t);let o=w();return Gt(o.newMessage,i)||(o.newMessage=i),T(i)}),S("keyup",function(){O(t);let i=w();return T(i.onTyping())})("blur",function(){O(t);let i=w();return T(i.onStopTyping())}),f()(),k(8,T8,2,0,"button",20)(9,P8,2,0,"button",20),f()()()}if(n&2){let t=w();m(2),y("ngIf",t.selectedMedia.type==="image"),m(),y("ngIf",t.selectedMedia.type==="video"),m(3),Vt("ngModel",t.newMessage),m(2),y("ngIf",t.chatType==="group"),m(),y("ngIf",t.chatType==="private")}}function k8(n,e){if(n&1&&A(0,"img",72),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Ie)}}function N8(n,e){if(n&1&&A(0,"video",73),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Ie)}}function R8(n,e){if(n&1){let t=z();p(0,"div",62)(1,"div",63)(2,"h3"),C(3,"\u05E2\u05E8\u05D9\u05DB\u05EA \u05D4\u05D5\u05D3\u05E2\u05EA \u05DE\u05D3\u05D9\u05D4"),f(),wt(4,64),k(5,k8,1,1,"img",65)(6,N8,1,1,"video",66),Et(),p(7,"textarea",67),jt("ngModelChange",function(i){O(t);let o=w();return Gt(o.pendingMediaMessage.text,i)||(o.pendingMediaMessage.text=i),T(i)}),S("keyup",function(){O(t);let i=w();return T(i.onTyping())})("blur",function(){O(t);let i=w();return T(i.onStopTyping())}),f(),p(8,"div",68)(9,"button",69),S("click",function(){O(t);let i=w();return T(i.sendPendingMediaMessage())}),A(10,"img",70),f(),p(11,"button",71),S("click",function(){O(t);let i=w();return T(i.cancelPendingMediaMessage())}),C(12,"\u2716\uFE0F"),f()()()()}if(n&2){let t=w();m(4),y("ngSwitch",t.pendingMediaMessage.mediaType),m(),y("ngSwitchCase","image"),m(),y("ngSwitchCase","video"),m(),Vt("ngModel",t.pendingMediaMessage.text)}}function F8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function L8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function V8(n,e){if(n&1){let t=z();p(0,"div",54),S("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),p(1,"div",55),S("click",function(i){return O(t),T(i.stopPropagation())})("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),k(2,F8,1,1,"img",56)(3,L8,1,1,"video",57),f()()}if(n&2){let t=w();m(2),y("ngIf",t.selectedMedia.type==="image"),m(),y("ngIf",t.selectedMedia.type==="video")}}var c8,l8,u8,d8,la,T0=h(()=>{"use strict";N();we();Ls();sa();mc();N();qs();Tt();Ky();IT();Ep();$a();De();Tn();Gr();c8=["roomInput"],l8=["chatInput"],u8=["messagesContainer"],d8=(n,e)=>({"my-message":n,"other-message":e});la=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;closeChat=new X;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;notificationPermission=typeof Notification<"u"?Notification.permission:"default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;selectedMedia=null;savedGroups=[];isSavedGroupsOpen=!1;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=_(An);cloudinaryService=_(mr);processedMessageIds=new Set;pendingMediaMessage=null;typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.loadSavedGroups(),this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new je,this.notificationPermission=typeof Notification<"u"?Notification.permission:"default",this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketService.subscribeToChatAddMsg(e=>P(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}}))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(typeof Notification>"u"){console.warn("Notification API is not available in this environment.");return}if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>P(this,null,function*(){if(console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),typeof Notification<"u"){let t=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")}else console.warn("Notification API is not available in this environment.");e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return P(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return P(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return P(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(it.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>B(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>P(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=B(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender}),s=this.privateMessages.findIndex(a=>a.tempId!==void 0&&o.tempId!==void 0&&a.tempId===o.tempId);if(s!==-1?this.privateMessages[s]=M(M({},this.privateMessages[s]),o):this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let a={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(a)}catch(a){this.errorLogger.log("Error handling incoming message notification",a)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return P(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinSavedGroup(e){this.room=e,this.joinRoom(),this.isSavedGroupsOpen=!1}toggleSavedGroups(){this.isSavedGroupsOpen=!this.isSavedGroupsOpen}removeGroup(e){this.savedGroups=this.savedGroups.filter(t=>t!==e),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))}loadSavedGroups(){let e=localStorage.getItem("savedGroups");e&&(this.savedGroups=JSON.parse(e))}joinRoom(){this.room.trim()&&(this.savedGroups.includes(this.room)||(this.savedGroups.push(this.room),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))),this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.pendingMediaMessage={mediaUrl:a,mediaType:i?"video":"image",text:""}},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}triggerCloseChat(){this.closeChat.emit()}sendPendingMediaMessage(){if(!this.pendingMediaMessage)return;let e={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.pendingMediaMessage.text,imageUrl:this.pendingMediaMessage.mediaType==="image"?this.pendingMediaMessage.mediaUrl:"",videoUrl:this.pendingMediaMessage.mediaType==="video"?this.pendingMediaMessage.mediaUrl:""};this.chatType==="private"?(this.socketService.sendPrivateMessage(this.targetUserId,e.text,e.tempId||void 0,e.imageUrl,e.videoUrl),this.privateMessages.push(e)):this.socketService.sendMessage(e.text,e.imageUrl,e.videoUrl),this.pendingMediaMessage=null,this.scrollToBottom(),this.onStopTyping()}cancelPendingMediaMessage(){this.pendingMediaMessage=null}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",r.tempId,e,void 0),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"",t.tempId,void 0,e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return P(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage,t.tempId,void 0,void 0),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}openMediaModal(e,t){this.selectedMedia={url:e,type:t}}closeMediaModal(){this.selectedMedia=null}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(Sn),D(Ce),D(Hs),D(Wp),D(ji),D(vo))};static \u0275cmp=Z({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(ld(c8,5),ld(l8,5),ld(u8,5)),t&2){let i;ws(i=Es())&&(r.roomInput=i.first),ws(i=Es())&&(r.chatInput=i.first),ws(i=Es())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},outputs:{closeChat:"closeChat"},decls:27,vars:12,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],[1,"chat-header"],[1,"close-dropdown",3,"click"],["src","../../../assets/images/backB.png","alt","go back",1,"close-chat"],["class","saved-groups-container",4,"ngIf"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],["class","pending-media-overlay",4,"ngIf"],[1,"saved-groups-container"],[1,"saved-groups-header",3,"click"],[1,"label"],[1,"arrow"],["class","saved-groups-dropdown",3,"open",4,"ngIf"],[1,"saved-groups-dropdown"],["class","saved-group-item",4,"ngFor","ngForOf"],[1,"saved-group-item"],[3,"click"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740638820/application_xnlu1o.png","alt","go back",1,"send-btn"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],["class","image-container",4,"ngIf"],["class","video-container",4,"ngIf"],[4,"ngIf"],[1,"image-container"],["alt","Image",1,"chat-image",3,"error","src"],[1,"enlarge-button",3,"click"],["src","../../../assets/images/arrows.png","alt","go back",1,"zoom-chat"],[1,"video-container"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn"],[1,"image-modal",3,"click"],["evStop","",1,"modal-content",3,"click"],["alt","Enlarged Image","class","enlarged-image",3,"src",4,"ngIf"],["controls","","class","enlarged-video",3,"src",4,"ngIf"],[1,"chat-input",2,"margin-top","1em"],["placeholder","Type a message...","rows","1",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["alt","Enlarged Image",1,"enlarged-image",3,"src"],["controls","",1,"enlarged-video",3,"src"],[1,"pending-media-overlay"],[1,"pending-media-message"],[3,"ngSwitch"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src",4,"ngSwitchCase"],["controls","","class","pending-media-video",3,"src",4,"ngSwitchCase"],["type","text","placeholder","\u05D4\u05D5\u05E1\u05D9\u05E4\u05D5 \u05D8\u05E7\u05E1\u05D8 \u05DC\u05DE\u05D3\u05D9\u05D4",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],[1,"buttons-modal"],[1,"send-button-modal",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn-modal"],[1,"cancel-button-modal",3,"click"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src"],["controls","",1,"pending-media-video",3,"src"]],template:function(t,r){if(t&1){let i=z();p(0,"div",4)(1,"div",5)(2,"button",6),S("click",function(){return O(i),T(r.triggerCloseChat())}),A(3,"img",7),f(),p(4,"h2"),C(5),f(),k(6,h8,7,3,"div",8),f(),k(7,g8,5,1,"div",9),p(8,"div",10)(9,"div",11,0),k(11,_8,7,8,"div",12),f(),p(12,"div",13)(13,"div",14)(14,"label",15),C(15,"\u{1F4CE}"),f(),p(16,"textarea",16,1),jt("ngModelChange",function(s){return O(i),Gt(r.newMessage,s)||(r.newMessage=s),T(s)}),S("keyup",function(){return O(i),T(r.onTyping())})("blur",function(){return O(i),T(r.onStopTyping())}),f(),p(18,"input",17,2),S("change",function(s){return O(i),T(r.onFileSelected(s))}),f(),k(20,M8,6,4,"div",18),f(),k(21,D8,4,1,"div",19)(22,S8,2,0,"button",20)(23,x8,2,0,"button",20),f()()(),k(24,A8,10,5,"div",21)(25,R8,13,4,"div",22)(26,V8,4,2,"div",21)}t&2&&(m(5),Pe(" ",r.chatType==="group"?r.room:r.targetUsername," "),m(),y("ngIf",r.chatType==="group"),m(),y("ngIf",r.chatType==="group"&&!r.isRoomJoined),m(4),y("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),m(5),Vt("ngModel",r.newMessage),m(4),y("ngIf",r.isTyping),m(),y("ngIf",r.isUploading),m(),y("ngIf",r.chatType==="group"),m(),y("ngIf",r.chatType==="private"),m(),y("ngIf",r.selectedMedia),m(),y("ngIf",r.pendingMediaMessage),m(),y("ngIf",r.selectedMedia))},dependencies:[pr,hr,me,wv,nD,In,yr,Yr,vt],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;height:90vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative;padding:.5rem;background-color:#fafafa;border-bottom:1px solid #ddd}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;margin-right:.5rem}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]   .close-chat[_ngcontent-%COMP%]{width:2.5em;height:2.5em}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;text-align:center;flex:1}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none;margin-right:1em}.join-button[_ngcontent-%COMP%]{max-width:5em;color:#fff;border:black solid 1px;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:60px;height:60px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.send-btn[_ngcontent-%COMP%]{max-width:100%;padding:.2em;position:relative;right:.3em}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1;max-width:90%}.send-button[_ngcontent-%COMP%]{position:absolute}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}.close-dropdown[_ngcontent-%COMP%]:hover{color:red}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.enlarge-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:#f4efef80;border:none;color:#fff;padding:5px;cursor:pointer;border-radius:50%;max-width:2em;max-height:2em}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-content[_ngcontent-%COMP%]{position:relative}.enlarged-image[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100;overflow:auto}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;padding:10px}.enlarged-image[_ngcontent-%COMP%]{max-width:50%;max-height:95%;display:block;margin:auto;border-radius:8px}.enlarged-video[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:0;right:15em;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.video-container[_ngcontent-%COMP%]{position:relative;display:inline-block}@media (max-width: 600px){.enlarged-image[_ngcontent-%COMP%]{max-width:70%;max-height:95%;border-radius:0}.close-modal[_ngcontent-%COMP%]{top:0;right:5em;padding:4px 8px;font-size:16px}}.saved-groups-container[_ngcontent-%COMP%]{margin-left:10px;width:7em;border:1px solid #ddd;border-radius:8px;background:#fff;box-shadow:0 2px 6px #0000000d;overflow:hidden}.saved-groups-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;cursor:pointer;background:linear-gradient(135deg,#fafafa,#f0f0f0)}.saved-groups-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f2f2f2,#e8e8e8)}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.saved-groups-dropdown[_ngcontent-%COMP%]{max-height:0;transition:max-height .4s ease-in-out;overflow:hidden;border-top:1px solid #ddd}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:300px}.saved-group-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid #f0f0f0;transition:background-color .2s}.saved-group-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#333;cursor:pointer}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#ff4d4d;font-size:1.2em;cursor:pointer;transition:color .3s}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:red}@media (max-width: 600px){.saved-groups-header[_ngcontent-%COMP%]{padding:8px}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:12px}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:200px}.saved-group-item[_ngcontent-%COMP%]{padding:6px 8px}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}}.pending-media-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1200;display:flex;align-items:center;justify-content:center}.pending-media-message[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;width:90%;max-width:500px;text-align:center;box-shadow:0 4px 10px #0003}.pending-media-message[_ngcontent-%COMP%]   .buttons-modal[_ngcontent-%COMP%]{display:flex;justify-content:center}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.pending-media-message[_ngcontent-%COMP%]   .send-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#b30c17;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]:hover{background-color:#ef9b9b}.pending-media-message[_ngcontent-%COMP%]   .cancel-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;font-size:1.2em;color:#333}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;margin:10px 0;font-size:14px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{background-color:#28a745;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type:hover{background-color:#218838}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{background-color:#dc3545;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:hover{background-color:#c82333}@media (max-width: 600px){.pending-media-message[_ngcontent-%COMP%]{width:95%;padding:15px}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1em}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:8px;font-size:13px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}}.pending-media-video[_ngcontent-%COMP%]{max-width:100%;max-height:300px;margin-bottom:1em;border-radius:8px;background:#000}']})}});function B8(n,e){if(n&1&&(p(0,"span",18),C(1),f()),n&2){let t=w().ngIf;m(),ht(t)}}function $8(n,e){if(n&1&&(wt(0),k(1,B8,2,1,"span",17),Et()),n&2){let t=e.ngIf,r=w();m(),y("ngIf",t>0&&!r.isPrivateChatOpen)}}function z8(n,e){if(n&1){let t=z();p(0,"li",22),S("click",function(){let i=O(t).$implicit,o=w(2);return T(o.navigateToContact(i._id))}),C(1),f()}if(n&2){let t=e.$implicit;m(),Pe(" ",t.name," ")}}function H8(n,e){if(n&1){let t=z();p(0,"div",19)(1,"button",20),S("click",function(){O(t);let i=w();return T(i.closeContactsDropdown())}),C(2,"\xD7"),f(),p(3,"ul"),k(4,z8,2,1,"li",21),f()()}if(n&2){let t=w();m(4),y("ngForOf",t.contacts)}}function q8(n,e){if(n&1){let t=z();p(0,"div",23),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.closePrivateChat())}),p(1,"div",24)(2,"span",25),S("click",function(){O(t);let i=w();return T(i.closePrivateChat())}),C(3,"\xD7"),f(),p(4,"app-chat",26),S("closeChat",function(){O(t);let i=w();return T(i.closePrivateChat())}),f()()()}if(n&2){let t=w();m(4),y("chatType","private")("targetUserId",t.user._id)}}var U8,Gp,OT=h(()=>{"use strict";N();lt();we();Tt();N();lt();qs();np();Wr();De();Gr();Ys();T0();U8=n=>({"long-field":n});Gp=class n{constructor(e,t,r,i,o){this.router=e;this.socketService=t;this.cdr=r;this.userIndex=i;this.contactService=o}user;remove=new X;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=_(Ce).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new fe(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof Di&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} 1) Opening private chat with user: ${this.user._id}`);try{console.log("\u{1F7E2} 2) about to set isPrivateChatOpen = true"),this.isPrivateChatOpen=!0,console.log(`\u{1F7E2} 3) isPrivateChatOpen is now: ${this.isPrivateChatOpen}`),console.log("\u{1F7E2} 4) about to call resetUnreadMessages"),this.userIndex.resetUnreadMessages(this.user._id),console.log("\u{1F7E2} 5) resetUnreadMessages finished"),console.log("\u{1F7E2} 6) about to call cdr.detectChanges()"),this.cdr.detectChanges(),console.log("\u{1F7E2} 7) detectChanges finished")}catch(t){console.error("\u274C Error in openPrivateChat:",t)}}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(be(1),Re(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),V(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(Xh(1),be(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Te),D(Sn),D(en),D(Li),D(St))};static \u0275cmp=Z({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType","targetUserId"]],template:function(t,r){t&1&&(p(0,"article",0)(1,"div",1),S("click",function(){return r.onPreviewClick()}),A(2,"img",2),f(),p(3,"div",3)(4,"h1",4),C(5),f()(),p(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),S("click",function(o){return r.openPrivateChat(o)}),A(10,"img",9),k(11,$8,2,1,"ng-container",10),Mt(12,"async"),f()(),p(13,"button",11),S("click",function(o){return r.openFacebookProfile(o,r.user)}),A(14,"img",12),f()(),p(15,"div",6)(16,"button",11),S("click",function(o){return r.openInstagramProfile(o,r.user)}),A(17,"img",13),f(),p(18,"button",11),S("click",function(){return r.toggleContactsDropdown()}),A(19,"img",14),f(),k(20,H8,5,1,"div",15),f()()(),k(21,q8,5,2,"div",16),A(22,"router-outlet")),t&2&&(m(2),y("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Ie),m(2),y("title",r.user.username)("ngClass",Fa(9,U8,r.isLongField(r.user.username,15))),m(),Pe(" ",r.user.username," "),m(6),y("ngIf",Dt(12,7,r.unreadMessagesCount$)),m(9),y("ngIf",r.showContactsDropdown),m(),y("ngIf",r.isPrivateChatOpen))},dependencies:[pr,hr,me,Gn,vt,xn,la,Kt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%!important;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function G8(n,e){if(n&1){let t=z();p(0,"user-preview",3),S("remove",function(){let i=O(t).$implicit,o=w();return T(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;y("user",t)}}function K8(n,e){n&1&&(p(0,"p"),C(1,"No users found."),f())}var Kp,TT=h(()=>{"use strict";N();N();Tt();De();OT();Kp=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new X;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275cmp=Z({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(p(0,"section",1),k(1,G8,1,1,"user-preview",2)(2,K8,2,0,"ng-template",null,0,Hn),f()),t&2&&(m(),y("ngForOf",r.users))},dependencies:[hr,Gp],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:.5em;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function Y8(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.onClearFilter())}),C(1,"\u2716"),f()}}var Yp,PT=h(()=>{"use strict";N();we();Gs();Tt();N();De();Tn();Yp=class n{userService=_(Ce);filterBy="";filterSubject$=new ge;destroyRef=_(Lt);ngOnInit(){this.userService.filterBy$.pipe(Yt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Dr(),Yt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),jt("ngModelChange",function(o){return Gt(r.filterBy,o)||(r.filterBy=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),k(3,Y8,2,0,"button",3),f()()),t&2&&(m(2),Vt("ngModel",r.filterBy),m(),y("ngIf",r.filterBy))},dependencies:[me,In,yr,Yr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:.13em auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Qp,AT=h(()=>{"use strict";Wa();OI();QO();$a();Tn();xT();Gr();Ys();np();TT();PT();T0();J_();N();De();Qp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n,bootstrap:[Op]});static \u0275inj=Ye({imports:[Vd,ip,_D,iI,oI,ST,FO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};OM(Li,function(){return[me,vt,xn,Kp,Yp,la]},function(){return[Kt]})});var Q8=RT(kT=>{Wa();AT();sa();N();ri();SD().bootstrapModule(Qp).then(()=>{let n=_(An);"serviceWorker"in navigator&&(console.log("Platform:",ft.getPlatform()),window.addEventListener("load",()=>P(kT,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),ft.getPlatform()==="web"&&typeof Notification<"u"){if(console.log("Platform:",ft.getPlatform()),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}else console.warn("Notification API is not available in this environment (native mode).")}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}})))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default Q8();
