var Fm=Object.defineProperty,PE=Object.defineProperties;var AE=Object.getOwnPropertyDescriptors;var La=Object.getOwnPropertySymbols;var Lm=Object.prototype.hasOwnProperty,Vm=Object.prototype.propertyIsEnumerable;var km=(n,e,t)=>e in n?Fm(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,w=(n,e)=>{for(var t in e||={})Lm.call(e,t)&&km(n,t,e[t]);if(La)for(var t of La(e))Vm.call(e,t)&&km(n,t,e[t]);return n},L=(n,e)=>PE(n,AE(e));var Rd=(n,e)=>{var t={};for(var r in n)Lm.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&La)for(var r of La(n))e.indexOf(r)<0&&Vm.call(n,r)&&(t[r]=n[r]);return t};var NE=(n,e)=>{for(var t in e)Fm(n,t,{get:e[t],enumerable:!0})};var Be=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function jm(n,e){return Object.is(n,e)}var Ge=null,Va=!1,ja=1,Qn=Symbol("SIGNAL");function he(n){let e=Ge;return Ge=n,e}function Um(){return Ge}var is={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ld(n){if(Va)throw new Error("");if(Ge===null)return;Ge.consumerOnSignalRead(n);let e=Ge.nextProducerIndex++;if(Ha(Ge),e<Ge.producerNode.length&&Ge.producerNode[e]!==n&&rs(Ge)){let t=Ge.producerNode[e];$a(t,Ge.producerIndexOfThis[e])}Ge.producerNode[e]!==n&&(Ge.producerNode[e]=n,Ge.producerIndexOfThis[e]=rs(Ge)?zm(n,Ge,e):0),Ge.producerLastReadVersion[e]=n.version}function RE(){ja++}function Bm(n){if(!(rs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ja)){if(!n.producerMustRecompute(n)&&!jd(n)){n.dirty=!1,n.lastCleanEpoch=ja;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ja}}function $m(n){if(n.liveConsumerNode===void 0)return;let e=Va;Va=!0;try{for(let t of n.liveConsumerNode)t.dirty||kE(t)}finally{Va=e}}function Hm(){return Ge?.consumerAllowSignalWrites!==!1}function kE(n){n.dirty=!0,$m(n),n.consumerMarkedDirty?.(n)}function Ba(n){return n&&(n.nextProducerIndex=0),he(n)}function Vd(n,e){if(he(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(rs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)$a(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jd(n){Ha(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Bm(t),r!==t.version))return!0}return!1}function Ud(n){if(Ha(n),rs(n))for(let e=0;e<n.producerNode.length;e++)$a(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function zm(n,e,t){if(qm(n),n.liveConsumerNode.length===0&&Gm(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=zm(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function $a(n,e){if(qm(n),n.liveConsumerNode.length===1&&Gm(n))for(let r=0;r<n.producerNode.length;r++)$a(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ha(i),i.producerIndexOfThis[r]=e}}function rs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ha(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function qm(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Gm(n){return n.producerNode!==void 0}function Wm(n){let e=Object.create(FE);e.computation=n;let t=()=>{if(Bm(e),Ld(e),e.value===Ua)throw e.error;return e.value};return t[Qn]=e,t}var kd=Symbol("UNSET"),Fd=Symbol("COMPUTING"),Ua=Symbol("ERRORED"),FE=L(w({},is),{value:kd,dirty:!0,error:null,equal:jm,producerMustRecompute(n){return n.value===kd||n.value===Fd},producerRecomputeValue(n){if(n.value===Fd)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Fd;let t=Ba(n),r;try{r=n.computation()}catch(i){r=Ua,n.error=i}finally{Vd(n,t)}if(e!==kd&&e!==Ua&&r!==Ua&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function LE(){throw new Error}var Qm=LE;function Km(){Qm()}function Zm(n){Qm=n}var VE=null;function Ym(n){let e=Object.create(Xm);e.value=n;let t=()=>(Ld(e),e.value);return t[Qn]=e,t}function Bd(n,e){Hm()||Km(),n.equal(n.value,e)||(n.value=e,jE(n))}function Jm(n,e){Hm()||Km(),Bd(n,e(n.value))}var Xm=L(w({},is),{equal:jm,value:void 0});function jE(n){n.version++,RE(),$m(n),VE?.()}function U(n){return typeof n=="function"}function ki(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var za=ki(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Jr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(o){e=o instanceof za?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ev(o)}catch(s){e=e??[],s instanceof za?e=[...e,...s.errors]:e.push(s)}}if(e)throw new za(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ev(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Jr(t,e)}remove(e){let{_finalizers:t}=this;t&&Jr(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var $d=Pe.EMPTY;function qa(n){return n instanceof Pe||n&&"closed"in n&&U(n.remove)&&U(n.add)&&U(n.unsubscribe)}function ev(n){U(n)?n():n.unsubscribe()}var ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(n,e,...t){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ga(n){Fi.setTimeout(()=>{let{onUnhandledError:e}=ln;if(e)e(n);else throw n})}function Kn(){}var tv=Hd("C",void 0,void 0);function nv(n){return Hd("E",void 0,n)}function rv(n){return Hd("N",n,void 0)}function Hd(n,e,t){return{kind:n,value:e,error:t}}var Xr=null;function Li(n){if(ln.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Xr;if(Xr=null,t)throw r}}else n()}function iv(n){ln.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=n)}var ei=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qa(e)&&e.add(this)):this.destination=$E}static create(e,t,r){return new Vi(e,t,r)}next(e){this.isStopped?qd(rv(e),this):this._next(e)}error(e){this.isStopped?qd(nv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qd(tv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UE=Function.prototype.bind;function zd(n,e){return UE.call(n,e)}var Gd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Wa(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Wa(r)}else Wa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wa(t)}}},Vi=class extends ei{constructor(e,t,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zd(e.next,o),error:e.error&&zd(e.error,o),complete:e.complete&&zd(e.complete,o)}):i=e}this.destination=new Gd(i)}};function Wa(n){ln.useDeprecatedSynchronousErrorHandling?iv(n):Ga(n)}function BE(n){throw n}function qd(n,e){let{onStoppedNotification:t}=ln;t&&Fi.setTimeout(()=>t(n,e))}var $E={closed:!0,next:Kn,error:BE,complete:Kn};var ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nt(n){return n}function Wd(...n){return Qd(n)}function Qd(n){return n.length===0?nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var K=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=zE(t)?t:new Vi(t,r,i);return Li(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ov(r),new r((i,o)=>{let s=new Vi({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ji](){return this}pipe(...t){return Qd(t)(this)}toPromise(t){return t=ov(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ov(n){var e;return(e=n??ln.Promise)!==null&&e!==void 0?e:Promise}function HE(n){return n&&U(n.next)&&U(n.error)&&U(n.complete)}function zE(n){return n&&n instanceof ei||HE(n)&&qa(n)}function Kd(n){return U(n?.lift)}function Z(n){return e=>{if(Kd(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(n,e,t,r,i){return new Zd(n,e,t,r,i)}var Zd=class extends ei{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ui(){return Z((n,e)=>{let t=null;n._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var br=class extends K{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Kd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(W(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Ui()(this)}};var sv=ki(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class n extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Qa(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sv}next(t){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$d:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,Jr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new K;return t.source=this,t}}return n.create=(e,t)=>new Qa(e,t),n})(),Qa=class extends ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:$d}};var ge=class extends ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Yd={now(){return(Yd.delegate||Date).now()},delegate:void 0};var Ka=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var os={setInterval(n,e,...t){let{delegate:r}=os;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=os;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Za=class extends Ka{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return os.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&os.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Jr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Bi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Bi.now=Yd.now;var Ya=class extends Bi{constructor(e,t=Bi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ss=new Ya(Za),av=ss;var ft=new K(n=>n.complete());function Ja(n){return n&&U(n.schedule)}function Jd(n){return n[n.length-1]}function Xa(n){return U(Jd(n))?n.pop():void 0}function In(n){return Ja(Jd(n))?n.pop():void 0}function cv(n,e){return typeof Jd(n)=="number"?n.pop():e}function uv(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function lv(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(n){return this instanceof ti?(this.v=n,this):new ti(n)}function dv(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(v){return Promise.resolve(v).then(p,d)}}function a(p,v){r[p]&&(i[p]=function(b){return new Promise(function(I,F){o.push([p,b,I,F])>1||c(p,b)})},v&&(i[p]=v(i[p])))}function c(p,v){try{l(r[p](v))}catch(b){g(o[0][3],b)}}function l(p){p.value instanceof ti?Promise.resolve(p.value.v).then(u,d):g(o[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function g(p,v){p(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof lv=="function"?lv(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var $i=n=>n&&typeof n.length=="number"&&typeof n!="function";function ec(n){return U(n?.then)}function tc(n){return U(n[ji])}function nc(n){return Symbol.asyncIterator&&U(n?.[Symbol.asyncIterator])}function rc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ic=qE();function oc(n){return U(n?.[ic])}function sc(n){return dv(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ti(t.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{t.releaseLock()}})}function ac(n){return U(n?.getReader)}function _e(n){if(n instanceof K)return n;if(n!=null){if(tc(n))return GE(n);if($i(n))return WE(n);if(ec(n))return QE(n);if(nc(n))return hv(n);if(oc(n))return KE(n);if(ac(n))return ZE(n)}throw rc(n)}function GE(n){return new K(e=>{let t=n[ji]();if(U(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WE(n){return new K(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QE(n){return new K(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ga)})}function KE(n){return new K(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function hv(n){return new K(e=>{YE(n,e).catch(t=>e.error(t))})}function ZE(n){return hv(sc(n))}function YE(n,e){var t,r,i,o;return uv(this,void 0,void 0,function*(){try{for(t=fv(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Mt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function cc(n,e=0){return Z((t,r)=>{t.subscribe(W(r,i=>Mt(r,n,()=>r.next(i),e),()=>Mt(r,n,()=>r.complete(),e),i=>Mt(r,n,()=>r.error(i),e)))})}function lc(n,e=0){return Z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function pv(n,e){return _e(n).pipe(lc(e),cc(e))}function gv(n,e){return _e(n).pipe(lc(e),cc(e))}function mv(n,e){return new K(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function vv(n,e){return new K(t=>{let r;return Mt(t,e,()=>{r=n[ic](),Mt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function uc(n,e){if(!n)throw new Error("Iterable cannot be null");return new K(t=>{Mt(t,e,()=>{let r=n[Symbol.asyncIterator]();Mt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yv(n,e){return uc(sc(n),e)}function _v(n,e){if(n!=null){if(tc(n))return pv(n,e);if($i(n))return mv(n,e);if(ec(n))return gv(n,e);if(nc(n))return uc(n,e);if(oc(n))return vv(n,e);if(ac(n))return yv(n,e)}throw rc(n)}function $(n,e){return e?_v(n,e):_e(n)}function A(...n){let e=In(n);return $(n,e)}function We(n,e){let t=U(n)?n:()=>n,r=i=>i.error(t());return new K(e?i=>e.schedule(r,0,i):r)}function Xd(n){return!!n&&(n instanceof K||U(n.lift)&&U(n.subscribe))}var Zn=ki(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Cv(n){return n instanceof Date&&!isNaN(n)}function k(n,e){return Z((t,r)=>{let i=0;t.subscribe(W(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:JE}=Array;function XE(n,e){return JE(e)?n(...e):n(e)}function Hi(n){return k(e=>XE(n,e))}var{isArray:eD}=Array,{getPrototypeOf:tD,prototype:nD,keys:rD}=Object;function dc(n){if(n.length===1){let e=n[0];if(eD(e))return{args:e,keys:null};if(iD(e)){let t=rD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function iD(n){return n&&typeof n=="object"&&tD(n)===nD}function fc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function as(...n){let e=In(n),t=Xa(n),{args:r,keys:i}=dc(n);if(r.length===0)return $([],e);let o=new K(oD(r,e,i?s=>fc(i,s):nt));return t?o.pipe(Hi(t)):o}function oD(n,e,t=nt){return r=>{bv(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)bv(e,()=>{let l=$(n[c],e),u=!1;l.subscribe(W(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bv(n,e,t){n?Mt(t,n,e):e()}function wv(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,g=()=>{d&&!c.length&&!l&&e.complete()},p=b=>l<r?v(b):c.push(b),v=b=>{o&&e.next(b),l++;let I=!1;_e(t(b,u++)).subscribe(W(e,F=>{i?.(F),o?p(F):e.next(F)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){let F=c.shift();s?Mt(e,s,()=>v(F)):v(F)}g()}catch(F){e.error(F)}}))};return n.subscribe(W(e,p,()=>{d=!0,g()})),()=>{a?.()}}function Ae(n,e,t=1/0){return U(e)?Ae((r,i)=>k((o,s)=>e(r,o,i,s))(_e(n(r,i))),t):(typeof e=="number"&&(t=e),Z((r,i)=>wv(r,i,n,t)))}function Sn(n=1/0){return Ae(nt,n)}function Ev(){return Sn(1)}function xn(...n){return Ev()($(n,In(n)))}function ni(n){return new K(e=>{_e(n()).subscribe(e)})}function ef(...n){let e=Xa(n),{args:t,keys:r}=dc(n),i=new K(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;_e(t[u]).subscribe(W(o,g=>{d||(d=!0,l--),a[u]=g},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?fc(r,a):a),o.complete())}))}});return e?i.pipe(Hi(e)):i}var sD=["addListener","removeListener"],aD=["addEventListener","removeEventListener"],cD=["on","off"];function zi(n,e,t,r){if(U(t)&&(r=t,t=void 0),r)return zi(n,e,t).pipe(Hi(r));let[i,o]=dD(n)?aD.map(s=>a=>n[s](e,a,t)):lD(n)?sD.map(Dv(n,e)):uD(n)?cD.map(Dv(n,e)):[];if(!i&&$i(n))return Ae(s=>zi(s,e,t))(_e(n));if(!i)throw new TypeError("Invalid event target");return new K(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Dv(n,e){return t=>r=>n[t](e,r)}function lD(n){return U(n.addListener)&&U(n.removeListener)}function uD(n){return U(n.on)&&U(n.off)}function dD(n){return U(n.addEventListener)&&U(n.removeEventListener)}function hc(n=0,e,t=av){let r=-1;return e!=null&&(Ja(e)?t=e:r=e),new K(i=>{let o=Cv(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function pc(...n){let e=In(n),t=cv(n,1/0),r=n;return r.length?r.length===1?_e(r[0]):Sn(t)($(r,e)):ft}var ri=new K(Kn);function Ne(n,e){return Z((t,r)=>{let i=0;t.subscribe(W(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ce(n){return Z((e,t)=>{let r=null,i=!1,o;r=e.subscribe(W(t,void 0,void 0,s=>{o=_e(n(s,ce(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Mv(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(W(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function qt(n,e){return U(e)?Ae(n,e,1):Ae(n,1)}function Iv(n){return new K(e=>n.subscribe(e))}var fD={connector:()=>new ue};function gc(n,e=fD){let{connector:t}=e;return Z((r,i)=>{let o=t();_e(n(Iv(o))).subscribe(i),i.add(r.subscribe(o))})}function tf(n,e=ss){return Z((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(W(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function wr(n){return Z((e,t)=>{let r=!1;e.subscribe(W(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ee(n){return n<=0?()=>ft:Z((e,t)=>{let r=0;e.subscribe(W(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Sv(){return Z((n,e)=>{n.subscribe(W(e,Kn))})}function cs(n){return k(()=>n)}function nf(n,e){return e?t=>xn(e.pipe(Ee(1),Sv()),t.pipe(nf(n))):Ae((t,r)=>_e(n(t,r)).pipe(Ee(1),cs(t)))}function Gt(n,e=ss){let t=hc(n,e);return nf(()=>t)}function Yn(n,e=nt){return n=n??hD,Z((t,r)=>{let i,o=!0;t.subscribe(W(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function hD(n,e){return n===e}function mc(n=pD){return Z((e,t)=>{let r=!1;e.subscribe(W(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pD(){return new Zn}function Pt(n){return Z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function On(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):nt,Ee(1),t?wr(e):mc(()=>new Zn))}function qi(n){return n<=0?()=>ft:Z((e,t)=>{let r=[];e.subscribe(W(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):nt,qi(1),t?wr(e):mc(()=>new Zn))}function xv(n,e){let t=U(n)?n:()=>n;return U(e)?gc(e,{connector:t}):r=>new br(r,t)}function of(n){return n?e=>gc(n)(e):e=>xv(new ue)(e)}function Ze(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?nt:Z((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(W(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let g=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let p=typeof r=="number"?hc(r):_e(r(d,a)),v=W(s,()=>{v.unsubscribe(),g()},()=>{s.complete()});p.subscribe(v)}else g()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}function sf(n,e){return Z(Mv(n,e,arguments.length>=2,!0))}function af(...n){let e=In(n);return Z((t,r)=>{(e?xn(n,t,e):xn(n,t)).subscribe(r)})}function Re(n,e){return Z((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(W(r,c=>{i?.unsubscribe();let l=0,u=o++;_e(n(c,u)).subscribe(i=W(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Tn(n){return Z((e,t)=>{_e(n).subscribe(W(t,()=>t.complete(),Kn)),!t.closed&&e.subscribe(t)})}function X(n,e,t){let r=U(n)||e||t?{next:n,error:e,complete:t}:n;return r?Z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(W(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):nt}var fy="https://g.co/ng/security#xss",E=class extends Error{constructor(e,t){super(il(e,t)),this.code=e}};function il(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ys(n){return{toString:n}.toString()}var vc="__parameters__";function gD(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function hy(n,e,t){return ys(()=>{let r=gD(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(vc)?c[vc]:Object.defineProperty(c,vc,{value:[]})[vc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var ht=globalThis;function Ie(n){for(let e in n)if(n[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function mD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function gt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(gt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function wf(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var vD=Ie({__forward_ref__:Ie});function Ln(n){return n.__forward_ref__=Ln,n.toString=function(){return gt(this())},n}function pt(n){return py(n)?n():n}function py(n){return typeof n=="function"&&n.hasOwnProperty(vD)&&n.__forward_ref__===Ln}function M(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function ol(n){return Ov(n,my)||Ov(n,vy)}function gy(n){return ol(n)!==null}function Ov(n,e){return n.hasOwnProperty(e)?n[e]:null}function yD(n){let e=n&&(n[my]||n[vy]);return e||null}function Tv(n){return n&&(n.hasOwnProperty(Pv)||n.hasOwnProperty(_D))?n[Pv]:null}var my=Ie({\u0275prov:Ie}),Pv=Ie({\u0275inj:Ie}),vy=Ie({ngInjectableDef:Ie}),_D=Ie({ngInjectorDef:Ie}),T=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=M({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yy(n){return n&&!!n.\u0275providers}var CD=Ie({\u0275cmp:Ie}),bD=Ie({\u0275dir:Ie}),wD=Ie({\u0275pipe:Ie}),ED=Ie({\u0275mod:Ie}),xc=Ie({\u0275fac:Ie}),us=Ie({__NG_ELEMENT_ID__:Ie}),Av=Ie({__NG_ENV_ID__:Ie});function sl(n){return typeof n=="string"?n:n==null?"":String(n)}function DD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():sl(n)}function MD(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new E(-200,n)}function mh(n,e){throw new E(-201,!1)}var ie=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ie||{}),Ef;function _y(){return Ef}function It(n){let e=Ef;return Ef=n,e}function Cy(n,e,t){let r=ol(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ie.Optional)return null;if(e!==void 0)return e;mh(n,"Injector")}var ID={},fs=ID,Df="__NG_DI_FLAG__",Oc="ngTempTokenPath",SD="ngTokenPath",xD=/\n/gm,OD="\u0275",Nv="__source",Zi;function TD(){return Zi}function Er(n){let e=Zi;return Zi=n,e}function PD(n,e=ie.Default){if(Zi===void 0)throw new E(-203,!1);return Zi===null?Cy(n,void 0,e):Zi.get(n,e&ie.Optional?null:void 0,e)}function O(n,e=ie.Default){return(_y()||PD)(pt(n),e)}function y(n,e=ie.Default){return O(n,al(e))}function al(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Mf(n){let e=[];for(let t=0;t<n.length;t++){let r=pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],c=AD(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function by(n,e){return n[Df]=e,n.prototype[Df]=e,n}function AD(n){return n[Df]}function ND(n,e,t,r){let i=n[Oc];throw e[Nv]&&i.unshift(e[Nv]),n.message=RD(`
`+n.message,i,t,r),n[SD]=i,n[Oc]=null,n}function RD(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==OD?n.slice(2):n;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):gt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(xD,`
  `)}`}var cl=by(hy("Optional"),8);var vh=by(hy("SkipSelf"),4);function si(n,e){let t=n.hasOwnProperty(xc);return t?n[xc]:null}function kD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function FD(n){return n.flat(Number.POSITIVE_INFINITY)}function yh(n,e){n.forEach(t=>Array.isArray(t)?yh(t,e):e(t))}function wy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Tc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function LD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function _h(n,e,t){let r=_s(n,e);return r>=0?n[r|1]=t:(r=~r,LD(n,r,e,t)),r}function cf(n,e){let t=_s(n,e);if(t>=0)return n[t|1]}function _s(n,e){return VD(n,e,1)}function VD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ji={},St=[],Xi=new T(""),Ey=new T("",-1),Dy=new T(""),Pc=class{get(e,t=fs){if(t===fs){let r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return t}},My=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(My||{}),Nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Nn||{}),Ir=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ir||{});function jD(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function If(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];UD(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Iy(n){return n===3||n===4||n===6}function UD(n){return n.charCodeAt(0)===64}function hs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Rv(n,t,i,null,e[++r]):Rv(n,t,i,null,null))}}return n}function Rv(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Sy="ng-template";function BD(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jD(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ch(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ch(n){return n.type===4&&n.value!==Sy}function $D(n,e,t){let r=n.type===4&&!t?Sy:n.value;return e===r}function HD(n,e,t){let r=4,i=n.attrs,o=i!==null?GD(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!un(r)&&!un(c))return!1;if(s&&un(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!$D(n,c,t)||c===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!BD(n,i,c,t)){if(un(r))return!1;s=!0}}else{let l=e[++a],u=zD(c,i,Ch(n),t);if(u===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(n){return(n&1)===0}function zD(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return WD(e,n)}function qD(n,e,t=!1){for(let r=0;r<e.length;r++)if(HD(n,e[r],t))return!0;return!1}function GD(n){for(let e=0;e<n.length;e++){let t=n[e];if(Iy(t))return e}return n.length}function WD(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function kv(n,e){return n?":not("+e.trim()+")":e}function QD(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=kv(o,i),i=""),r=s,o=o||!un(r);t++}return i!==""&&(e+=kv(o,i)),e}function KD(n){return n.map(QD).join(",")}function ZD(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!un(i))break;i=o}r++}return{attrs:e,classes:t}}function Y(n){return ys(()=>{let e=Ay(n),t=L(w({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===My.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Nn.Emulated,styles:n.styles||St,_:null,schemas:n.schemas||null,tView:null,id:""});Ny(t);let r=n.dependencies;return t.directiveDefs=Ac(r,!1),t.pipeDefs=Ac(r,!0),t.id=XD(t),t})}function YD(n){return Sr(n)||xy(n)}function JD(n){return n!==null}function je(n){return ys(()=>({type:n.type,bootstrap:n.bootstrap||St,declarations:n.declarations||St,imports:n.imports||St,exports:n.exports||St,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Fv(n,e){if(n==null)return Ji;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Ir.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Ir.None?[r,a]:r,e[o]=s):t[o]=r}return t}function de(n){return ys(()=>{let e=Ay(n);return Ny(e),e})}function bh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Sr(n){return n[CD]||null}function xy(n){return n[bD]||null}function Oy(n){return n[wD]||null}function Ty(n){let e=Sr(n)||xy(n)||Oy(n);return e!==null?e.standalone:!1}function Py(n,e){let t=n[ED]||null;if(!t&&e===!0)throw new Error(`Type ${gt(n)} does not have '\u0275mod' property.`);return t}function Ay(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ji,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||St,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fv(n.inputs,e),outputs:Fv(n.outputs),debugInfo:null}}function Ny(n){n.features?.forEach(e=>e(n))}function Ac(n,e){if(!n)return null;let t=e?Oy:YD;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(JD)}function XD(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function co(n){return{\u0275providers:n}}function eM(...n){return{\u0275providers:Ry(!0,n),\u0275fromNgModule:!0}}function Ry(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return yh(e,s=>{let a=s;Sf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ky(i,o),t}function ky(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];wh(i,o=>{e(o,r)})}}function Sf(n,e,t,r){if(n=pt(n),!n)return!1;let i=null,o=Tv(n),s=!o&&Sr(n);if(!o&&!s){let c=n.ngModule;if(o=Tv(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Sf(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{yh(o.imports,u=>{Sf(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&ky(l,e)}if(!a){let l=si(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:Dy,useValue:i,multi:!0},i),e({provide:Xi,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;wh(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function wh(n,e){for(let t of n)yy(t)&&(t=t.\u0275providers),Array.isArray(t)?wh(t,e):e(t)}var tM=Ie({provide:String,useValue:Ie});function Fy(n){return n!==null&&typeof n=="object"&&tM in n}function nM(n){return!!(n&&n.useExisting)}function rM(n){return!!(n&&n.useFactory)}function eo(n){return typeof n=="function"}function iM(n){return!!n.useClass}var ll=new T(""),Ec={},oM={},lf;function Eh(){return lf===void 0&&(lf=new Pc),lf}var mt=class{},ps=class extends mt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Of(e,s=>this.processProvider(s)),this.records.set(Ey,Gi(void 0,this)),i.has("environment")&&this.records.set(mt,Gi(void 0,this));let o=this.records.get(ll);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dy,St,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Er(this),r=It(void 0),i;try{return e()}finally{Er(t),It(r)}}get(e,t=fs,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Av))return e[Av](this);r=al(r);let i,o=Er(this),s=It(void 0);try{if(!(r&ie.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=uM(e)&&ol(e);l&&this.injectableDefInScope(l)?c=Gi(xf(e),Ec):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ie.Self?Eh():this.parent;return t=r&ie.Optional&&t===fs?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Oc]=a[Oc]||[]).unshift(gt(e)),o)throw a;return ND(a,e,"R3InjectorError",this.source)}else throw a}finally{It(s),Er(o)}}resolveInjectorInitializers(){let e=he(null),t=Er(this),r=It(void 0),i;try{let o=this.get(Xi,St,ie.Self);for(let s of o)s()}finally{Er(t),It(r),he(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){e=pt(e);let t=eo(e)?e:pt(e&&e.provide),r=aM(e);if(!eo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Gi(void 0,Ec,!0),i.factory=()=>Mf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=he(null);try{return t.value===Ec&&(t.value=oM,t.value=t.factory()),typeof t.value=="object"&&t.value&&lM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function xf(n){let e=ol(n),t=e!==null?e.factory:si(n);if(t!==null)return t;if(n instanceof T)throw new E(204,!1);if(n instanceof Function)return sM(n);throw new E(204,!1)}function sM(n){if(n.length>0)throw new E(204,!1);let t=yD(n);return t!==null?()=>t.factory(n):()=>new n}function aM(n){if(Fy(n))return Gi(void 0,n.useValue);{let e=Ly(n);return Gi(e,Ec)}}function Ly(n,e,t){let r;if(eo(n)){let i=pt(n);return si(i)||xf(i)}else if(Fy(n))r=()=>pt(n.useValue);else if(rM(n))r=()=>n.useFactory(...Mf(n.deps||[]));else if(nM(n))r=()=>O(pt(n.useExisting));else{let i=pt(n&&(n.useClass||n.provide));if(cM(n))r=()=>new i(...Mf(n.deps));else return si(i)||xf(i)}return r}function Gi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cM(n){return!!n.deps}function lM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function uM(n){return typeof n=="function"||typeof n=="object"&&n instanceof T}function Of(n,e){for(let t of n)Array.isArray(t)?Of(t,e):t&&yy(t)?Of(t.\u0275providers,e):e(t)}function Qt(n,e){n instanceof ps&&n.assertNotDestroyed();let t,r=Er(n),i=It(void 0);try{return e()}finally{Er(r),It(i)}}function Vy(){return _y()!==void 0||TD()!=null}function Dh(n){if(!Vy())throw new E(-203,!1)}function dM(n){let e=ht.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function fM(n){return typeof n=="function"}var nr=0,ee=1,G=2,st=3,fn=4,pn=5,Nc=6,Rc=7,hn=8,to=9,Rn=10,Le=11,gs=12,Lv=13,lo=14,kn=15,ai=16,Wi=17,Jn=18,ul=19,jy=20,Dr=21,uf=22,Wt=23,Nt=25,Uy=1;var ci=7,kc=8,no=9,At=10,Fc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Fc||{});function Mr(n){return Array.isArray(n)&&typeof n[Uy]=="object"}function rr(n){return Array.isArray(n)&&n[Uy]===!0}function Mh(n){return(n.flags&4)!==0}function dl(n){return n.componentOffset>-1}function fl(n){return(n.flags&1)===1}function xr(n){return!!n.template}function Tf(n){return(n[G]&512)!==0}var Pf=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function By(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function gn(){return $y}function $y(n){return n.type.prototype.ngOnChanges&&(n.setInput=pM),hM}gn.ngInherit=!0;function hM(){let n=zy(this),e=n?.current;if(e){let t=n.previous;if(t===Ji)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function pM(n,e,t,r,i){let o=this.declaredInputs[r],s=zy(n)||gM(n,{previous:Ji,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Pf(l&&l.currentValue,t,c===Ji),By(n,e,i,t)}var Hy="__ngSimpleChanges__";function zy(n){return n[Hy]||null}function gM(n,e){return n[Hy]=e}var Vv=null;var Pn=function(n,e,t){Vv?.(n,e,t)},mM="svg",vM="math";function Fn(n){for(;Array.isArray(n);)n=n[nr];return n}function qy(n,e){return Fn(e[n])}function Kt(n,e){return Fn(e[n.index])}function Gy(n,e){return n.data[e]}function Ih(n,e){return n[e]}function Ar(n,e){let t=e[n];return Mr(t)?t:t[nr]}function yM(n){return(n[G]&4)===4}function Sh(n){return(n[G]&128)===128}function _M(n){return rr(n[st])}function ro(n,e){return e==null?null:n[e]}function Wy(n){n[Wi]=0}function Qy(n){n[G]&1024||(n[G]|=1024,Sh(n)&&pl(n))}function CM(n,e){for(;n>0;)e=e[lo],n--;return e}function hl(n){return!!(n[G]&9216||n[Wt]?.dirty)}function Af(n){n[Rn].changeDetectionScheduler?.notify(8),n[G]&64&&(n[G]|=1024),hl(n)&&pl(n)}function pl(n){n[Rn].changeDetectionScheduler?.notify(0);let e=li(n);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!Sh(e)));)e=li(e)}function Ky(n,e){if((n[G]&256)===256)throw new E(911,!1);n[Dr]===null&&(n[Dr]=[]),n[Dr].push(e)}function bM(n,e){if(n[Dr]===null)return;let t=n[Dr].indexOf(e);t!==-1&&n[Dr].splice(t,1)}function li(n){let e=n[st];return rr(e)?e[st]:e}var oe={lFrame:o_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zy=!1;function wM(){return oe.lFrame.elementDepthCount}function EM(){oe.lFrame.elementDepthCount++}function DM(){oe.lFrame.elementDepthCount--}function Yy(){return oe.bindingsEnabled}function MM(){return oe.skipHydrationRootTNode!==null}function IM(n){return oe.skipHydrationRootTNode===n}function SM(){oe.skipHydrationRootTNode=null}function se(){return oe.lFrame.lView}function $e(){return oe.lFrame.tView}function V(n){return oe.lFrame.contextLView=n,n[hn]}function j(n){return oe.lFrame.contextLView=null,n}function rt(){let n=Jy();for(;n!==null&&n.type===64;)n=n.parent;return n}function Jy(){return oe.lFrame.currentTNode}function xM(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function mi(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function xh(){return oe.lFrame.isParent}function Xy(){oe.lFrame.isParent=!1}function OM(){return oe.lFrame.contextLView}function e_(){return Zy}function jv(n){Zy=n}function Cs(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function TM(n){return oe.lFrame.bindingIndex=n}function gl(){return oe.lFrame.bindingIndex++}function t_(n){let e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function PM(){return oe.lFrame.inI18n}function AM(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Nf(e)}function NM(){return oe.lFrame.currentDirectiveIndex}function Nf(n){oe.lFrame.currentDirectiveIndex=n}function RM(n){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function n_(){return oe.lFrame.currentQueryIndex}function Oh(n){oe.lFrame.currentQueryIndex=n}function kM(n){let e=n[ee];return e.type===2?e.declTNode:e.type===1?n[pn]:null}function r_(n,e,t){if(t&ie.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ie.Host);)if(i=kM(o),i===null||(o=o[lo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=oe.lFrame=i_();return r.currentTNode=e,r.lView=n,!0}function Th(n){let e=i_(),t=n[ee];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function i_(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?o_(n):e}function o_(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function s_(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var a_=s_;function Ph(){let n=s_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FM(n){return(oe.lFrame.contextLView=CM(n,oe.lFrame.contextLView))[hn]}function vi(){return oe.lFrame.selectedIndex}function ui(n){oe.lFrame.selectedIndex=n}function Ah(){let n=oe.lFrame;return Gy(n.tView,n.selectedIndex)}function LM(){return oe.lFrame.currentNamespace}var c_=!0;function ml(){return c_}function vl(n){c_=n}function VM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=$y(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function yl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Dc(n,e,t){l_(n,e,3,t)}function Mc(n,e,t,r){(n[G]&3)===t&&l_(n,e,t,r)}function df(n,e){let t=n[G];(t&3)===e&&(t&=16383,t+=1,n[G]=t)}function l_(n,e,t,r){let i=r!==void 0?n[Wi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Wi]+=65536),(a<o||o==-1)&&(jM(n,t,e,c),n[Wi]=(n[Wi]&4294901760)+c+2),c++}function Uv(n,e){Pn(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),Pn(5,n,e)}}function jM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[G]>>14<n[Wi]>>16&&(n[G]&3)===e&&(n[G]+=16384,Uv(a,o)):Uv(a,o)}var Yi=-1,di=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function UM(n){return n instanceof di}function BM(n){return(n.flags&8)!==0}function $M(n){return(n.flags&16)!==0}var ff={},Rf=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=al(r);let i=this.injector.get(e,ff,r);return i!==ff||t===ff?i:this.parentInjector.get(e,t,r)}};function u_(n){return n!==Yi}function Lc(n){return n&32767}function HM(n){return n>>16}function Vc(n,e){let t=HM(n),r=e;for(;t>0;)r=r[lo],t--;return r}var kf=!0;function jc(n){let e=kf;return kf=n,e}var zM=256,d_=zM-1,f_=5,qM=0,An={};function GM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(us)&&(r=t[us]),r==null&&(r=t[us]=qM++);let i=r&d_,o=1<<i;e.data[n+(i>>f_)]|=o}function Uc(n,e){let t=h_(n,e);if(t!==-1)return t;let r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,hf(r.data,n),hf(e,null),hf(r.blueprint,null));let i=Nh(n,e),o=n.injectorIndex;if(u_(i)){let s=Lc(i),a=Vc(i,e),c=a[ee].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function hf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function h_(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Nh(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=y_(i),r===null)return Yi;if(t++,i=i[lo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Yi}function Ff(n,e,t){GM(n,e,t)}function WM(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Iy(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function p_(n,e,t){if(t&ie.Optional||n!==void 0)return n;mh(e,"NodeInjector")}function g_(n,e,t,r){if(t&ie.Optional&&r===void 0&&(r=null),!(t&(ie.Self|ie.Host))){let i=n[to],o=It(void 0);try{return i?i.get(e,r,t&ie.Optional):Cy(e,r,t&ie.Optional)}finally{It(o)}}return p_(r,e,t)}function m_(n,e,t,r=ie.Default,i){if(n!==null){if(e[G]&2048&&!(r&ie.Self)){let s=YM(n,e,t,r,An);if(s!==An)return s}let o=v_(n,e,t,r,An);if(o!==An)return o}return g_(e,t,r,i)}function v_(n,e,t,r,i){let o=KM(t);if(typeof o=="function"){if(!r_(e,n,r))return r&ie.Host?p_(i,t,r):g_(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))mh(t);else return s}finally{a_()}}else if(typeof o=="number"){let s=null,a=h_(n,e),c=Yi,l=r&ie.Host?e[kn][pn]:null;for((a===-1||r&ie.SkipSelf)&&(c=a===-1?Nh(n,e):e[a+8],c===Yi||!$v(r,!1)?a=-1:(s=e[ee],a=Lc(c),e=Vc(c,e)));a!==-1;){let u=e[ee];if(Bv(o,a,u.data)){let d=QM(a,e,t,s,r,l);if(d!==An)return d}c=e[a+8],c!==Yi&&$v(r,e[ee].data[a+8]===l)&&Bv(o,a,e)?(s=u,a=Lc(c),e=Vc(c,e)):a=-1}}return i}function QM(n,e,t,r,i,o){let s=e[ee],a=s.data[n+8],c=r==null?dl(a)&&kf:r!=s&&(a.type&3)!==0,l=i&ie.Host&&o===a,u=Ic(a,s,t,c,l);return u!==null?fi(e,s,u,a):An}function Ic(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,g=i?a+u:l;for(let p=d;p<g;p++){let v=s[p];if(p<c&&t===v||p>=c&&v.type===t)return p}if(i){let p=s[c];if(p&&xr(p)&&p.type===t)return c}return null}function fi(n,e,t,r){let i=n[t],o=e.data;if(UM(i)){let s=i;s.resolving&&MD(DD(o[t]));let a=jc(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?It(s.injectImpl):null,u=r_(n,r,ie.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&VM(t,o[t],e)}finally{l!==null&&It(l),jc(a),s.resolving=!1,a_()}}return i}function KM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(us)?n[us]:void 0;return typeof e=="number"?e>=0?e&d_:ZM:e}function Bv(n,e,t){let r=1<<n;return!!(t[e+(n>>f_)]&r)}function $v(n,e){return!(n&ie.Self)&&!(n&ie.Host&&e)}var oi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return m_(this._tNode,this._lView,e,al(r),t)}};function ZM(){return new oi(rt(),se())}function yi(n){return ys(()=>{let e=n.prototype.constructor,t=e[xc]||Lf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[xc]||Lf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lf(n){return py(n)?()=>{let e=Lf(pt(n));return e&&e()}:si(n)}function YM(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let a=v_(o,s,t,r|ie.Self,An);if(a!==An)return a;let c=o.parent;if(!c){let l=s[jy];if(l){let u=l.get(t,An,r);if(u!==An)return u}c=y_(s),s=s[lo]}o=c}return i}function y_(n){let e=n[ee],t=e.type;return t===2?e.declTNode:t===1?n[pn]:null}function Rh(n){return WM(rt(),n)}function Hv(n,e=null,t=null,r){let i=__(n,e,t,r);return i.resolveInjectorInitializers(),i}function __(n,e=null,t=null,r,i=new Set){let o=[t||St,eM(n)];return r=r||(typeof n=="object"?void 0:gt(n)),new ps(o,e||Eh(),r||null,i)}var Ye=class n{static{this.THROW_IF_NOT_FOUND=fs}static{this.NULL=new Pc}static create(e,t){if(Array.isArray(e))return Hv({name:""},t,e,"");{let r=e.name??"";return Hv({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=M({token:n,providedIn:"any",factory:()=>O(Ey)})}static{this.__NG_ELEMENT_ID__=-1}};var JM=new T("");JM.__NG_ELEMENT_ID__=n=>{let e=rt();if(e===null)throw new E(204,!1);if(e.type&2)return e.value;if(n&ie.Optional)return null;throw new E(204,!1)};var XM="ngOriginalError";function pf(n){return n[XM]}var C_=!0,vt=(()=>{class n{static{this.__NG_ELEMENT_ID__=eI}static{this.__NG_ENV_ID__=t=>t}}return n})(),Vf=class extends vt{constructor(e){super(),this._lView=e}onDestroy(e){return Ky(this._lView,e),()=>bM(this._lView,e)}};function eI(){return new Vf(se())}var ir=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}}return n})();var jf=class extends ue{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Vy()&&(this.destroyRef=y(vt,{optional:!0})??void 0,this.pendingTasks=y(ir,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},re=jf;function Bc(...n){}function b_(n){let e,t;function r(){n=Bc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function zv(n){return queueMicrotask(()=>n()),()=>{n=Bc}}var kh="isAngularZone",$c=kh+"_ID",tI=0,pe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new re(!1),this.onMicrotaskEmpty=new re(!1),this.onStable=new re(!1),this.onError=new re(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=C_}=e;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,iI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kh)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new E(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nI,Bc,Bc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},nI={};function Fh(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rI(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){b_(()=>{n.callbackScheduled=!1,Uf(n),n.isCheckStableRunning=!0,Fh(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Uf(n)}function iI(n){let e=()=>{rI(n)},t=tI++;n._inner=n._inner.fork({name:"angular",properties:{[kh]:!0,[$c]:t,[$c+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(oI(c))return r.invokeTask(o,s,a,c);try{return qv(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Gv(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return qv(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!sI(c)&&e(),Gv(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Uf(n),Fh(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Uf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function qv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Gv(n){n._nesting--,Fh(n)}var Hc=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new re,this.onMicrotaskEmpty=new re,this.onStable=new re,this.onError=new re}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function oI(n){return w_(n,"__ignore_ng_zone__")}function sI(n){return w_(n,"__scheduler_tick__")}function w_(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function aI(n="zone.js",e){return n==="noop"?new Hc:n==="zone.js"?new pe(e):n}var Xn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&pf(e);for(;t&&pf(t);)t=pf(t);return t||null}},cI=new T("",{providedIn:"root",factory:()=>{let n=y(pe),e=y(Xn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function lI(){return uo(rt(),se())}function uo(n,e){return new yt(Kt(n,e))}var yt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=lI}}return n})();function uI(n){return n instanceof yt?n.nativeElement:n}function dI(){return this._results[Symbol.iterator]()}var Bf=class n{get changes(){return this._changes??=new re}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=dI)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=FD(e);(this._changesDetected=!kD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function E_(n){return(n.flags&128)===128}var D_=new Map,fI=0;function hI(){return fI++}function pI(n){D_.set(n[ul],n)}function $f(n){D_.delete(n[ul])}var Wv="__ngContext__";function Or(n,e){Mr(e)?(n[Wv]=e[ul],pI(e)):n[Wv]=e}function M_(n){return S_(n[gs])}function I_(n){return S_(n[fn])}function S_(n){for(;n!==null&&!rr(n);)n=n[fn];return n}var Hf;function x_(n){Hf=n}function gI(){if(Hf!==void 0)return Hf;if(typeof document<"u")return document;throw new E(210,!1)}var _l=new T("",{providedIn:"root",factory:()=>mI}),mI="ng",Lh=new T(""),Rt=new T("",{providedIn:"platform",factory:()=>"unknown"});var Vh=new T(""),jh=new T("",{providedIn:"root",factory:()=>gI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vI="h",yI="b";var _I=()=>null;function Uh(n,e,t=!1){return _I(n,e,t)}var O_=!1,CI=new T("",{providedIn:"root",factory:()=>O_});var yc;function bI(){if(yc===void 0&&(yc=null,ht.trustedTypes))try{yc=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yc}function Qv(n){return bI()?.createScriptURL(n)||n}var zc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fy})`}};function fo(n){return n instanceof zc?n.changingThisBreaksApplicationSecurity:n}function Bh(n,e){let t=wI(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${fy})`)}return t===e}function wI(n){return n instanceof zc&&n.getTypeName()||null}var EI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function T_(n){return n=String(n),n.match(EI)?n:"unsafe:"+n}var Cl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Cl||{});function _t(n){let e=A_();return e?e.sanitize(Cl.URL,n)||"":Bh(n,"URL")?fo(n):T_(sl(n))}function DI(n){let e=A_();if(e)return Qv(e.sanitize(Cl.RESOURCE_URL,n)||"");if(Bh(n,"ResourceURL"))return Qv(fo(n));throw new E(904,!1)}function MI(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?DI:_t}function P_(n,e,t){return MI(e,t)(n)}function A_(){let n=se();return n&&n[Rn].sanitizer}var II=/^>|^->|<!--|-->|--!>|<!-$/g,SI=/(<|>)/g,xI="\u200B$1\u200B";function OI(n){return n.replace(II,e=>e.replace(SI,xI))}function N_(n){return n instanceof Function?n():n}function TI(n){return(n??y(Ye)).get(Rt)==="browser"}var er=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(er||{}),PI;function $h(n,e){return PI(n,e)}function Qi(n,e,t,r,i){if(r!=null){let o,s=!1;rr(r)?o=r:Mr(r)&&(s=!0,r=r[nr]);let a=Fn(r);n===0&&t!==null?i==null?V_(e,t,a):qc(e,t,a,i||null,!0):n===1&&t!==null?qc(e,t,a,i||null,!0):n===2?WI(e,a,s):n===3&&e.destroyNode(a),o!=null&&KI(e,n,o,t,i)}}function AI(n,e){return n.createText(e)}function NI(n,e,t){n.setValue(e,t)}function RI(n,e){return n.createComment(OI(e))}function R_(n,e,t){return n.createElement(e,t)}function kI(n,e){k_(n,e),e[nr]=null,e[pn]=null}function FI(n,e,t,r,i,o){r[nr]=i,r[pn]=e,wl(n,r,t,1,i,o)}function k_(n,e){e[Rn].changeDetectionScheduler?.notify(9),wl(n,e,e[Le],2,null,null)}function LI(n){let e=n[gs];if(!e)return gf(n[ee],n);for(;e;){let t=null;if(Mr(e))t=e[gs];else{let r=e[At];r&&(t=r)}if(!t){for(;e&&!e[fn]&&e!==n;)Mr(e)&&gf(e[ee],e),e=e[st];e===null&&(e=n),Mr(e)&&gf(e[ee],e),t=e&&e[fn]}e=t}}function VI(n,e,t,r){let i=At+r,o=t.length;r>0&&(t[i-1][fn]=e),r<o-At?(e[fn]=t[i],wy(t,At+r,e)):(t.push(e),e[fn]=null),e[st]=t;let s=e[ai];s!==null&&t!==s&&F_(s,e);let a=e[Jn];a!==null&&a.insertView(n),Af(e),e[G]|=128}function F_(n,e){let t=n[no],r=e[st];if(Mr(r))n[G]|=Fc.HasTransplantedViews;else{let i=r[st][kn];e[kn]!==i&&(n[G]|=Fc.HasTransplantedViews)}t===null?n[no]=[e]:t.push(e)}function Hh(n,e){let t=n[no],r=t.indexOf(e);t.splice(r,1)}function zf(n,e){if(n.length<=At)return;let t=At+e,r=n[t];if(r){let i=r[ai];i!==null&&i!==n&&Hh(i,r),e>0&&(n[t-1][fn]=r[fn]);let o=Tc(n,At+e);kI(r[ee],r);let s=o[Jn];s!==null&&s.detachView(o[ee]),r[st]=null,r[fn]=null,r[G]&=-129}return r}function L_(n,e){if(!(e[G]&256)){let t=e[Le];t.destroyNode&&wl(n,e,t,3,null,null),LI(e)}}function gf(n,e){if(e[G]&256)return;let t=he(null);try{e[G]&=-129,e[G]|=256,e[Wt]&&Ud(e[Wt]),UI(n,e),jI(n,e),e[ee].type===1&&e[Le].destroy();let r=e[ai];if(r!==null&&rr(e[st])){r!==e[st]&&Hh(r,e);let i=e[Jn];i!==null&&i.detachView(n)}$f(e)}finally{he(t)}}function jI(n,e){let t=n.cleanup,r=e[Rc];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Rc]=null);let i=e[Dr];if(i!==null){e[Dr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function UI(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof di)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Pn(4,a,c);try{c.call(a)}finally{Pn(5,a,c)}}else{Pn(4,i,o);try{o.call(i)}finally{Pn(5,i,o)}}}}}function BI(n,e,t){return $I(n,e.parent,t)}function $I(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[nr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Nn.None||o===Nn.Emulated)return null}return Kt(r,t)}}function qc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function V_(n,e,t){n.appendChild(e,t)}function Kv(n,e,t,r,i){r!==null?qc(n,e,t,r,i):V_(n,e,t)}function j_(n,e){return n.parentNode(e)}function HI(n,e){return n.nextSibling(e)}function zI(n,e,t){return GI(n,e,t)}function qI(n,e,t){return n.type&40?Kt(n,t):null}var GI=qI,Zv;function bl(n,e,t,r){let i=BI(n,r,e),o=e[Le],s=r.parent||e[pn],a=zI(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Kv(o,i,t[c],a,!1);else Kv(o,i,t,a,!1);Zv!==void 0&&Zv(o,r,e,t,i)}function ls(n,e){if(e!==null){let t=e.type;if(t&3)return Kt(e,n);if(t&4)return qf(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ls(n,r);{let i=n[e.index];return rr(i)?qf(-1,i):Fn(i)}}else{if(t&128)return ls(n,e.next);if(t&32)return $h(e,n)()||Fn(n[e.index]);{let r=U_(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=li(n[kn]);return ls(i,r)}else return ls(n,e.next)}}}return null}function U_(n,e){if(e!==null){let r=n[kn][pn],i=e.projection;return r.projection[i]}return null}function qf(n,e){let t=At+n+1;if(t<e.length){let r=e[t],i=r[ee].firstChild;if(i!==null)return ls(r,i)}return e[ci]}function WI(n,e,t){n.removeChild(null,e,t)}function zh(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Or(Fn(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)zh(n,e,t.child,r,i,o,!1),Qi(e,n,i,a,o);else if(c&32){let l=$h(t,r),u;for(;u=l();)Qi(e,n,i,u,o);Qi(e,n,i,a,o)}else c&16?QI(n,e,r,t,i,o):Qi(e,n,i,a,o);t=s?t.projectionNext:t.next}}function wl(n,e,t,r,i,o){zh(t,r,n.firstChild,e,i,o,!1)}function QI(n,e,t,r,i,o){let s=t[kn],c=s[pn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Qi(e,n,i,u,o)}else{let l=c,u=s[st];E_(r)&&(l.flags|=128),zh(n,e,l,u,i,o,!0)}}function KI(n,e,t,r,i){let o=t[ci],s=Fn(t);o!==s&&Qi(e,n,r,o,i);for(let a=At;a<t.length;a++){let c=t[a];wl(c[ee],c,n,e,r,o)}}function ZI(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:er.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=er.Important),n.setStyle(t,r,i,o))}}function YI(n,e,t){n.setAttribute(e,"style",t)}function B_(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $_(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&If(n,e,r),i!==null&&B_(n,e,i),o!==null&&YI(n,e,o)}var Vn={};function _(n=1){H_($e(),se(),vi()+n,!1)}function H_(n,e,t,r){if(!r)if((e[G]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Dc(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Mc(e,o,0,t)}ui(t)}function D(n,e=ie.Default){let t=se();if(t===null)return O(n,e);let r=rt();return m_(r,t,pt(n),e)}function z_(){let n="invalid";throw new Error(n)}function q_(n,e,t,r,i,o){let s=he(null);try{let a=null;i&Ir.SignalBased&&(a=e[r][Qn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ir.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):By(e,a,r,o)}finally{he(s)}}function JI(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ui(~i);else{let o=i,s=t[++r],a=t[++r];AM(s,o);let c=e[o];a(2,c)}}}finally{ui(-1)}}function El(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[nr]=i,d[G]=r|4|128|8|64,(l!==null||n&&n[G]&2048)&&(d[G]|=2048),Wy(d),d[st]=d[lo]=n,d[hn]=t,d[Rn]=s||n&&n[Rn],d[Le]=a||n&&n[Le],d[to]=c||n&&n[to]||null,d[pn]=o,d[ul]=hI(),d[Nc]=u,d[jy]=l,d[kn]=e.type==2?n[kn]:d,d}function bs(n,e,t,r,i){let o=n.data[e];if(o===null)o=XI(n,e,t,r,i),PM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=xM();o.injectorIndex=s===null?-1:s.injectorIndex}return mi(o,!0),o}function XI(n,e,t,r,i){let o=Jy(),s=xh(),a=s?o:o&&o.parent,c=n.data[e]=oS(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function G_(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function W_(n,e,t,r,i){let o=vi(),s=r&2;try{ui(-1),s&&e.length>Nt&&H_(n,e,Nt,!1),Pn(s?2:0,i),t(r,i)}finally{ui(o),Pn(s?3:1,i)}}function qh(n,e,t){if(Mh(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{he(r)}}}function Gh(n,e,t){Yy()&&(dS(n,e,t,Kt(t,e)),(t.flags&64)===64&&Y_(n,e,t))}function Wh(n,e,t=Kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Q_(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Qh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qh(n,e,t,r,i,o,s,a,c,l,u){let d=Nt+r,g=d+i,p=eS(d,g),v=typeof l=="function"?l():l;return p[ee]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function eS(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vn);return t}function tS(n,e,t,r){let o=r.get(CI,O_)||t===Nn.ShadowDom,s=n.selectRootElement(e,o);return nS(s),s}function nS(n){rS(n)}var rS=()=>null;function iS(n,e,t,r){let i=e0(e);i.push(t),n.firstCreatePass&&t0(n).push(r,i.length-1)}function oS(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return MM()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Yv(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Ir.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?Jv(r,t,l,a,c):Jv(r,t,l,a)}return r}function Jv(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function sS(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],g=t?t.get(d):null,p=g?g.inputs:null,v=g?g.outputs:null;c=Yv(0,d.inputs,u,c,p),l=Yv(1,d.outputs,u,l,v);let b=c!==null&&s!==null&&!Ch(e)?wS(c,u,s):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function aS(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function K_(n,e,t,r,i,o,s,a){let c=Kt(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Zh(n,t,u,r,i),dl(e)&&cS(t,e.index)):e.type&3?(r=aS(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function cS(n,e){let t=Ar(e,n);t[G]&16||(t[G]|=64)}function Kh(n,e,t,r){if(Yy()){let i=r===null?null:{"":-1},o=hS(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Z_(n,e,t,s,i,a),i&&pS(t,r,i)}t.mergedAttrs=hs(t.mergedAttrs,t.attrs)}function Z_(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Ff(Uc(t,e),n,r[l].type);mS(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=G_(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=hs(t.mergedAttrs,u.hostAttrs),vS(n,t,e,c,u),gS(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}sS(n,t,o)}function lS(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;uS(s)!=a&&s.push(a),s.push(t,r,o)}}function uS(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function dS(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;dl(t)&&yS(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Uc(t,e),Or(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=fi(e,n,a,t);if(Or(l,e),s!==null&&bS(e,a-i,l,c,t,s),xr(c)){let u=Ar(t.index,e);u[hn]=fi(e,n,a,t)}}}function Y_(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=NM();try{ui(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Nf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fS(c,l)}}finally{ui(-1),Nf(s)}}function fS(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function hS(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(qD(e,s.selectors,!1))if(r||(r=[]),xr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Gf(n,e,c)}else r.unshift(s),Gf(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Gf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pS(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new E(-301,!1);r.push(e[i],o)}}}function gS(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;xr(e)&&(t[""]=n)}}function mS(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function vS(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=si(i.type,!0)),s=new di(o,xr(i),D);n.blueprint[r]=s,t[r]=s,lS(n,e,r,G_(n,t,i.hostVars,Vn),i)}function yS(n,e,t){let r=Kt(e,n),i=Q_(t),o=n[Rn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Dl(n,El(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function _S(n,e,t,r,i,o){let s=Kt(n,e);CS(e[Le],s,o,n.value,t,r,i)}function CS(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?sl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function bS(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];q_(r,t,c,l,u,d)}}function wS(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function J_(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function X_(n,e){let t=n.contentQueries;if(t!==null){let r=he(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Oh(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function Dl(n,e){return n[gs]?n[Lv][fn]=e:n[gs]=e,n[Lv]=e,e}function Wf(n,e,t){Oh(0);let r=he(null);try{e(n,t)}finally{he(r)}}function e0(n){return n[Rc]??=[]}function t0(n){return n.cleanup??=[]}function n0(n,e){let t=n[to],r=t?t.get(Xn,null):null;r&&r.handleError(e)}function Zh(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];q_(u,l,r,a,c,i)}}function ES(n,e,t){let r=qy(e,n);NI(n[Le],r,t)}function DS(n,e){let t=Ar(e,n),r=t[ee];MS(r,t);let i=t[nr];i!==null&&t[Nc]===null&&(t[Nc]=Uh(i,t[to])),Yh(r,t,t[hn])}function MS(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Yh(n,e,t){Th(e);try{let r=n.viewQuery;r!==null&&Wf(1,r,t);let i=n.template;i!==null&&W_(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Jn]?.finishViewCreation(n),n.staticContentQueries&&X_(n,e),n.staticViewQueries&&Wf(2,n.viewQuery,t);let o=n.components;o!==null&&IS(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[G]&=-5,Ph()}}function IS(n,e){for(let t=0;t<e.length;t++)DS(n,e[t])}function SS(n,e,t,r){let i=he(null);try{let o=e.tView,a=n[G]&4096?4096:16,c=El(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[ai]=l;let u=n[Jn];return u!==null&&(c[Jn]=u.createEmbeddedView(o)),Yh(o,c,t),c}finally{he(i)}}function Xv(n,e){return!e||e.firstChild===null||E_(n)}function xS(n,e,t,r=!0){let i=e[ee];if(VI(i,e,n,t),r){let s=qf(t,n),a=e[Le],c=j_(a,n[ci]);c!==null&&FI(i,n[pn],a,e,c,s)}let o=e[Nc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Gc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Fn(o)),rr(o)&&OS(o,r);let s=t.type;if(s&8)Gc(n,e,t.child,r);else if(s&32){let a=$h(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=U_(e,t);if(Array.isArray(a))r.push(...a);else{let c=li(e[kn]);Gc(c[ee],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function OS(n,e){for(let t=At;t<n.length;t++){let r=n[t],i=r[ee].firstChild;i!==null&&Gc(r[ee],r,i,e)}n[ci]!==n[nr]&&e.push(n[ci])}var r0=[];function TS(n){return n[Wt]??PS(n)}function PS(n){let e=r0.pop()??Object.create(NS);return e.lView=n,e}function AS(n){n.lView[Wt]!==n&&(n.lView=null,r0.push(n))}var NS=L(w({},is),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{pl(n.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function RS(n){let e=n[Wt]??Object.create(kS);return e.lView=n,e}var kS=L(w({},is),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=li(n.lView);for(;e&&!i0(e[ee]);)e=li(e);e&&Qy(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function i0(n){return n.type!==2}var FS=100;function o0(n,e=!0,t=0){let r=n[Rn],i=r.rendererFactory,o=!1;o||i.begin?.();try{LS(n,t)}catch(s){throw e&&n0(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function LS(n,e){let t=e_();try{jv(!0),Qf(n,e);let r=0;for(;hl(n);){if(r===FS)throw new E(103,!1);r++,Qf(n,1)}}finally{jv(t)}}function VS(n,e,t,r){let i=e[G];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Rn].inlineEffectRunner?.flush(),Th(e);let a=!0,c=null,l=null;o||(i0(n)?(l=TS(e),c=Ba(l)):Um()===null?(a=!1,l=RS(e),c=Ba(l)):e[Wt]&&(Ud(e[Wt]),e[Wt]=null));try{Wy(e),TM(n.bindingStartIndex),t!==null&&W_(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&Dc(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Mc(e,p,0,null),df(e,0)}if(s||jS(e),s0(e,0),n.contentQueries!==null&&X_(n,e),!o)if(u){let p=n.contentCheckHooks;p!==null&&Dc(e,p)}else{let p=n.contentHooks;p!==null&&Mc(e,p,1),df(e,1)}JI(n,e);let d=n.components;d!==null&&c0(e,d,0);let g=n.viewQuery;if(g!==null&&Wf(2,g,r),!o)if(u){let p=n.viewCheckHooks;p!==null&&Dc(e,p)}else{let p=n.viewHooks;p!==null&&Mc(e,p,2),df(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[uf]){for(let p of e[uf])p();e[uf]=null}o||(e[G]&=-73)}catch(u){throw o||pl(e),u}finally{l!==null&&(Vd(l,c),a&&AS(l)),Ph()}}function s0(n,e){for(let t=M_(n);t!==null;t=I_(t))for(let r=At;r<t.length;r++){let i=t[r];a0(i,e)}}function jS(n){for(let e=M_(n);e!==null;e=I_(e)){if(!(e[G]&Fc.HasTransplantedViews))continue;let t=e[no];for(let r=0;r<t.length;r++){let i=t[r];Qy(i)}}}function US(n,e,t){let r=Ar(e,n);a0(r,t)}function a0(n,e){Sh(n)&&Qf(n,e)}function Qf(n,e){let r=n[ee],i=n[G],o=n[Wt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jd(o)),s||=!1,o&&(o.dirty=!1),n[G]&=-9217,s)VS(r,n,r.template,n[hn]);else if(i&8192){s0(n,1);let a=r.components;a!==null&&c0(n,a,1)}}function c0(n,e,t){for(let r=0;r<e.length;r++)US(n,e[r],t)}function Jh(n,e){let t=e_()?64:1088;for(n[Rn].changeDetectionScheduler?.notify(e);n;){n[G]|=t;let r=li(n);if(Tf(n)&&!r)return n;n=r}return null}var hi=class{get rootNodes(){let e=this._lView,t=e[ee];return Gc(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(e){this._lView[hn]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(rr(e)){let t=e[kc],r=t?t.indexOf(this):-1;r>-1&&(zf(e,r),Tc(t,r))}this._attachedToViewContainer=!1}L_(this._lView[ee],this._lView)}onDestroy(e){Ky(this._lView,e)}markForCheck(){Jh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){Af(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,o0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Tf(this._lView),t=this._lView[ai];t!==null&&!e&&Hh(t,this._lView),k_(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e;let t=Tf(this._lView),r=this._lView[ai];r!==null&&!t&&F_(r,this._lView),Af(this._lView)}},pi=(()=>{class n{static{this.__NG_ELEMENT_ID__=HS}}return n})(),BS=pi,$S=class extends BS{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=SS(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new hi(i)}};function HS(){return Ml(rt(),se())}function Ml(n,e){return n.type&4?new $S(e,n,uo(n,e)):null}var Q3=new RegExp(`^(\\d+)*(${yI}|${vI})*(.*)`);var zS=()=>null;function ey(n,e){return zS(n,e)}var io=class{},Xh=new T("",{providedIn:"root",factory:()=>!1});var l0=new T(""),u0=new T(""),Kf=class{},Wc=class{};function qS(n){let e=Error(`No component factory found for ${gt(n)}.`);return e[GS]=n,e}var GS="ngComponent";var Zf=class{resolveComponentFactory(e){throw qS(e)}},oo=class{static{this.NULL=new Zf}},Tr=class{},or=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>WS()}}return n})();function WS(){let n=se(),e=rt(),t=Ar(e.index,n);return(Mr(t)?t:n)[Le]}var QS=(()=>{class n{static{this.\u0275prov=M({token:n,providedIn:"root",factory:()=>null})}}return n})();function Qc(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wf(i,a);else if(o==2){let c=a,l=e[++s];r=wf(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Kc=class extends oo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Sr(e);return new so(t,this.ngModule)}};function ty(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ir.None;e?t.push({propName:s,templateName:r,isSignal:(a&Ir.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function KS(n){let e=n.toLowerCase();return e==="svg"?mM:e==="math"?vM:null}var so=class extends Wc{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=ty(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return ty(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=KD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=he(null);try{i=i||this.ngModule;let s=i instanceof mt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Rf(e,s):e,c=a.get(Tr,null);if(c===null)throw new E(407,!1);let l=a.get(QS,null),u=a.get(io,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},g=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?tS(g,r,this.componentDef.encapsulation,a):R_(g,p,KS(p)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let I=null;v!==null&&(I=Uh(v,a,!0));let F=Qh(0,null,null,1,0,null,null,null,null,null,null),ne=El(null,F,null,b,null,null,d,g,a,null,I);Th(ne);let z,ae,Fe=null;try{let ye=this.componentDef,Te,Qe=null;ye.findHostDirectiveDefs?(Te=[],Qe=new Map,ye.findHostDirectiveDefs(ye,Te,Qe),Te.push(ye)):Te=[ye];let Wn=ZS(ne,v);Fe=YS(Wn,v,ye,Te,ne,d,g),ae=Gy(F,Nt),v&&ex(g,ye,v,r),t!==void 0&&tx(ae,this.ngContentSelectors,t),z=XS(Fe,ye,Te,Qe,ne,[nx]),Yh(F,ne,null)}catch(ye){throw Fe!==null&&$f(Fe),$f(ne),ye}finally{Ph()}return new Yf(this.componentType,z,uo(ae,ne),ne,ae)}finally{he(o)}}},Yf=class extends Kf{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new hi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Zh(o[ee],o,i,e,t),this.previousInputValues.set(e,t);let s=Ar(this._tNode.index,o);Jh(s,1)}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZS(n,e){let t=n[ee],r=Nt;return n[r]=e,bs(t,r,2,"#host",null)}function YS(n,e,t,r,i,o,s){let a=i[ee];JS(r,n,e,s);let c=null;e!==null&&(c=Uh(e,i[to]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=El(i,Q_(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Gf(a,n,r.length-1),Dl(i,d),i[n.index]=d}function JS(n,e,t,r){for(let i of n)e.mergedAttrs=hs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qc(e,e.mergedAttrs,!0),t!==null&&$_(r,t,e))}function XS(n,e,t,r,i,o){let s=rt(),a=i[ee],c=Kt(s,i);Z_(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,g=fi(i,a,d,s);Or(g,i)}Y_(a,i,s),c&&Or(c,i);let l=fi(i,a,s.directiveStart+s.componentOffset,s);if(n[hn]=i[hn]=l,o!==null)for(let u of o)u(l,e);return qh(a,s,i),l}function ex(n,e,t,r){if(r)If(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=ZD(e.selectors[0]);i&&If(n,t,i),o&&o.length>0&&B_(n,t,o.join(" "))}}function tx(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function nx(){let n=rt();yl(se()[ee],n)}var Nr=(()=>{class n{static{this.__NG_ELEMENT_ID__=rx}}return n})();function rx(){let n=rt();return f0(n,se())}var ix=Nr,d0=class extends ix{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Nh(this._hostTNode,this._hostLView);if(u_(e)){let t=Vc(e,this._hostLView),r=Lc(e),i=t[ee].data[r+8];return new oi(i,t)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ny(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ey(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Xv(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!fM(e),a;if(s)a=t;else{let v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new so(Sr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let b=(s?l:this.parentInjector).get(mt,null);b&&(o=b)}let u=Sr(c.componentType??{}),d=ey(this._lContainer,u?.id??null),g=d?.firstChild??null,p=c.create(l,i,g,o);return this.insertImpl(p.hostView,a,Xv(this._hostTNode,d)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(_M(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[st],l=new d0(c,c[pn],c[st]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return xS(s,i,o,r),e.attachToViewContainerRef(),wy(mf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ny(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zf(this._lContainer,t);r&&(Tc(mf(this._lContainer),t),L_(r[ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=zf(this._lContainer,t);return r&&Tc(mf(this._lContainer),t)!=null?new hi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ny(n){return n[kc]}function mf(n){return n[kc]||(n[kc]=[])}function f0(n,e){let t,r=e[n.index];return rr(r)?t=r:(t=J_(r,e,null,n),e[n.index]=t,Dl(e,t)),sx(t,e,n,r),new d0(t,n,e)}function ox(n,e){let t=n[Le],r=t.createComment(""),i=Kt(e,n),o=j_(t,i);return qc(t,o,r,HI(t,i),!1),r}var sx=lx,ax=()=>!1;function cx(n,e,t){return ax(n,e,t)}function lx(n,e,t,r){if(n[ci])return;let i;t.type&8?i=Fn(r):i=ox(e,t),n[ci]=i}var Jf=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Xf=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ep(e,t).matches!==null&&this.queries[t].setDirty()}},Zc=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=vx(e):this.predicate=e}},eh=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},th=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,ux(t,o)),this.matchTNodeWithReadOption(e,t,Ic(t,e,o,!1,!1))}else r===pi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ic(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yt||i===Nr||i===pi&&t.type&4)this.addMatch(t.index,-2);else{let o=Ic(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function ux(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function dx(n,e){return n.type&11?uo(n,e):n.type&4?Ml(n,e):null}function fx(n,e,t,r){return t===-1?dx(e,n):t===-2?hx(n,e,r):fi(n,n[ee],t,e)}function hx(n,e,t){if(t===yt)return uo(e,n);if(t===pi)return Ml(e,n);if(t===Nr)return f0(e,n)}function h0(n,e,t,r){let i=e[Jn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(fx(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function nh(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=h0(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=At;d<u.length;d++){let g=u[d];g[ai]===g[st]&&nh(g[ee],g,l,r)}if(u[no]!==null){let d=u[no];for(let g=0;g<d.length;g++){let p=d[g];nh(p[ee],p,l,r)}}}}}return r}function px(n,e){return n[Jn].queries[e].queryList}function p0(n,e,t){let r=new Bf((t&4)===4);return iS(n,e,r,r.destroy),(e[Jn]??=new Xf).queries.push(new Jf(r))-1}function gx(n,e,t){let r=$e();return r.firstCreatePass&&(g0(r,new Zc(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),p0(r,se(),e)}function mx(n,e,t,r){let i=$e();if(i.firstCreatePass){let o=rt();g0(i,new Zc(e,t,r),o.index),yx(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return p0(i,se(),t)}function vx(n){return n.split(",").map(e=>e.trim())}function g0(n,e,t){n.queries===null&&(n.queries=new eh),n.queries.track(new th(e,t))}function yx(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function ep(n,e){return n.queries.getByIndex(e)}function _x(n,e){let t=n[ee],r=ep(t,e);return r.crossesNgTemplate?nh(t,n,e,[]):h0(t,n,r,e)}var ry=new Set;function _i(n){ry.has(n)||(ry.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Cx(n){return typeof n=="function"&&n[Qn]!==void 0}function Ci(n,e){_i("NgSignals");let t=Ym(n),r=t[Qn];return e?.equal&&(r.equal=e.equal),t.set=i=>Bd(r,i),t.update=i=>Jm(r,i),t.asReadonly=bx.bind(t),t}function bx(){let n=this[Qn];if(n.readonlyFn===void 0){let e=()=>this();e[Qn]=n,n.readonlyFn=e}return n.readonlyFn}function m0(n){return Cx(n)&&typeof n.set=="function"}function wx(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(Ix))}return o}return Yc.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,g)=>{a.push(""),s.push(r(d).then(p=>{a[l+g]=p,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>Sx(o));e.push(c)}),Dx(),Promise.all(e).then(()=>{})}var Yc=new Map,Ex=new Set;function Dx(){let n=Yc;return Yc=new Map,n}function Mx(){return Yc.size===0}function Ix(n){return typeof n=="string"?n:n.text()}function Sx(n){Ex.delete(n)}function xx(n){return Object.getPrototypeOf(n.prototype).constructor}function Zt(n){let e=xx(n.type),t=!0,r=[n];for(;e;){let i;if(xr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=_c(n.inputs),s.inputTransforms=_c(n.inputTransforms),s.declaredInputs=_c(n.declaredInputs),s.outputs=_c(n.outputs);let a=i.hostBindings;a&&Nx(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Px(n,c),l&&Ax(n,l),Ox(n,i),mD(n.outputs,i.outputs),xr(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Zt&&(t=!1)}}e=Object.getPrototypeOf(e)}Tx(r)}function Ox(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Tx(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hs(i.hostAttrs,t=hs(t,i.hostAttrs))}}function _c(n){return n===Ji?{}:n===St?[]:n}function Px(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Ax(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Nx(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function tp(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Pr=class{},ms=class{};var Jc=class extends Pr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kc(this);let o=Py(e);this._bootstrapComponents=N_(o.bootstrap),this._r3Injector=__(e,t,[{provide:Pr,useValue:this},{provide:oo,useValue:this.componentFactoryResolver},...r],gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xc=class extends ms{constructor(e){super(),this.moduleType=e}create(e){return new Jc(this.moduleType,e,[])}};function Rx(n,e,t){return new Jc(n,e,t,!1)}var rh=class extends Pr{constructor(e){super(),this.componentFactoryResolver=new Kc(this),this.instance=null;let t=new ps([...e.providers,{provide:Pr,useValue:this},{provide:oo,useValue:this.componentFactoryResolver}],e.parent||Eh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Il(n,e,t=null){return new rh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function v0(n){return Fx(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function kx(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Fx(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function np(n,e,t){return n[e]=t}function Lx(n,e){return n[e]}function tr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Vx(n,e,t,r){let i=tr(n,e,t);return tr(n,e+1,r)||i}function jx(n){return(n.flags&32)===32}function Ux(n,e,t,r,i,o,s,a,c){let l=e.consts,u=bs(e,n,4,s||null,a||null);Kh(e,t,u,ro(l,c)),yl(e,u);let d=u.tView=Qh(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Bx(n,e,t,r,i,o,s,a,c,l){let u=t+Nt,d=e.firstCreatePass?Ux(u,e,n,r,i,o,s,a,c):e.data[u];mi(d,!1);let g=$x(e,n,d,t);ml()&&bl(e,n,g,d),Or(g,n);let p=J_(g,n,g,d);return n[u]=p,Dl(n,p),cx(p,d,n),fl(d)&&Gh(e,n,d),c!=null&&Wh(n,d,l),d}function P(n,e,t,r,i,o,s,a){let c=se(),l=$e(),u=ro(l.consts,o);return Bx(c,l,n,e,t,r,i,u,s,a),P}var $x=Hx;function Hx(n,e,t,r){return vl(!0),e[Le].createComment("")}var Ki=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ki||{}),y0=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}}return n})(),ih=class n{constructor(){this.ngZone=y(pe),this.scheduler=y(io),this.errorHandler=y(Xn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ki.EarlyRead,Ki.Write,Ki.MixedReadWrite,Ki.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=M({token:n,providedIn:"root",factory:()=>new n})}},oh=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function rp(n,e){!e?.injector&&Dh(rp);let t=e?.injector??y(Ye);return TI(t)?(_i("NgAfterNextRender"),qx(n,t,e,!0)):Gx}function zx(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function qx(n,e,t,r){let i=e.get(y0);i.impl??=e.get(ih);let o=t?.phase??Ki.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(vt):null,a=new oh(i.impl,zx(n,o),r,s);return i.impl.register(a),a}var Gx={destroy(){}};function ho(n,e,t,r){let i=se(),o=gl();if(tr(i,o,e)){let s=$e(),a=Ah();_S(a,i,n,e,t,r)}return ho}function _0(n,e,t,r){return tr(n,gl(),t)?e+sl(t)+r:Vn}function Cc(n,e){return n<<17|e<<2}function gi(n){return n>>17&32767}function Wx(n){return(n&2)==2}function Qx(n,e){return n&131071|e<<17}function sh(n){return n|2}function ao(n){return(n&131068)>>2}function vf(n,e){return n&-131069|e<<2}function Kx(n){return(n&1)===1}function ah(n){return n|1}function Zx(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gi(s),c=ao(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||_s(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let g=gi(n[a+1]);n[r+1]=Cc(g,a),g!==0&&(n[g+1]=vf(n[g+1],r)),n[a+1]=Qx(n[a+1],r)}else n[r+1]=Cc(a,0),a!==0&&(n[a+1]=vf(n[a+1],r)),a=r;else n[r+1]=Cc(c,0),a===0?a=r:n[c+1]=vf(n[c+1],r),c=r;l&&(n[r+1]=sh(n[r+1])),iy(n,u,r,!0),iy(n,u,r,!1),Yx(e,u,n,r,o),s=Cc(a,c),o?e.classBindings=s:e.styleBindings=s}function Yx(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&_s(o,e)>=0&&(t[r+1]=ah(t[r+1]))}function iy(n,e,t,r){let i=n[t+1],o=e===null,s=r?gi(i):ao(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Jx(c,e)&&(a=!0,n[s+1]=r?ah(l):sh(l)),s=r?gi(l):ao(l)}a&&(n[t+1]=r?sh(i):ah(i))}function Jx(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?_s(n,e)>=0:!1}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xx(n){return n.substring(dn.key,dn.keyEnd)}function eO(n){return tO(n),C0(n,b0(n,0,dn.textEnd))}function C0(n,e){let t=dn.textEnd;return t===e?-1:(e=dn.keyEnd=nO(n,dn.key=e,t),b0(n,e,t))}function tO(n){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=n.length}function b0(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function nO(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function C(n,e,t){let r=se(),i=gl();if(tr(r,i,e)){let o=$e(),s=Ah();K_(o,s,r,n,e,r[Le],t,!1)}return C}function ch(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Zh(n,t,o[s],s,r)}function Sl(n,e){return iO(n,e,null,!0),Sl}function rO(n,e){for(let t=eO(e);t>=0;t=C0(e,t))_h(n,Xx(e),!0)}function iO(n,e,t,r){let i=se(),o=$e(),s=t_(2);if(o.firstUpdatePass&&E0(o,n,s,r),e!==Vn&&tr(i,s,e)){let a=o.data[vi()];D0(o,a,i,i[Le],n,i[s+1]=fO(e,t),r,s)}}function oO(n,e,t,r){let i=$e(),o=t_(2);i.firstUpdatePass&&E0(i,null,o,r);let s=se();if(t!==Vn&&tr(s,o,t)){let a=i.data[vi()];if(M0(a,r)&&!w0(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=wf(c,t||"")),ch(i,a,s,t,r)}else dO(i,a,s,s[Le],s[o+1],s[o+1]=uO(n,e,t),r,o)}}function w0(n,e){return e>=n.expandoStartIndex}function E0(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[vi()],s=w0(n,t);M0(o,r)&&e===null&&!s&&(e=!1),e=sO(i,o,e,r),Zx(i,o,e,t,s,r)}}function sO(n,e,t,r){let i=RM(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=yf(null,n,e,t,r),t=vs(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=yf(i,n,e,t,r),o===null){let c=aO(n,e,r);c!==void 0&&Array.isArray(c)&&(c=yf(null,n,e,c[1],r),c=vs(c,e.attrs,r),cO(n,e,r,c))}else o=lO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function aO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ao(r)!==0)return n[gi(r)]}function cO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[gi(i)]=r}function lO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=vs(r,s,t)}return vs(r,e.attrs,t)}function yf(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=vs(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function vs(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),_h(n,s,t?!0:e[++o]))}return n===void 0?null:n}function uO(n,e,t){if(t==null||t==="")return St;let r=[],i=fo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function dO(n,e,t,r,i,o,s,a){i===Vn&&(i=St);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let g=c<i.length?i[c+1]:void 0,p=l<o.length?o[l+1]:void 0,v=null,b;u===d?(c+=2,l+=2,g!==p&&(v=d,b=p)):d===null||u!==null&&u<d?(c+=2,v=u):(l+=2,v=d,b=p),v!==null&&D0(n,e,t,r,v,b,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function D0(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=Kx(l)?oy(c,e,t,i,ao(l),s):void 0;if(!el(u)){el(o)||Wx(l)&&(o=oy(c,null,t,i,a,s));let d=qy(vi(),t);ZI(r,s,d,i,o)}}function oy(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,g=t[i+1];g===Vn&&(g=d?St:void 0);let p=d?cf(g,r):u===r?g:void 0;if(l&&!el(p)&&(p=cf(c,r)),el(p)&&(a=p,s))return a;let v=n[i+1];i=s?gi(v):ao(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=cf(c,r))}return a}function el(n){return n!==void 0}function fO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=gt(fo(n)))),n}function M0(n,e){return(n.flags&(e?8:16))!==0}function I0(n,e,t){let r=se(),i=_0(r,n,e,t);oO(_h,rO,i,!0)}function hO(n,e,t,r,i,o){let s=e.consts,a=ro(s,i),c=bs(e,n,2,r,a);return Kh(e,t,c,ro(s,o)),c.attrs!==null&&Qc(c,c.attrs,!1),c.mergedAttrs!==null&&Qc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(n,e,t,r){let i=se(),o=$e(),s=Nt+n,a=i[Le],c=o.firstCreatePass?hO(s,o,i,e,t,r):o.data[s],l=pO(o,i,c,a,e,n);i[s]=l;let u=fl(c);return mi(c,!0),$_(a,l,c),!jx(c)&&ml()&&bl(o,i,l,c),wM()===0&&Or(l,i),EM(),u&&(Gh(o,i,c),qh(o,c,i)),r!==null&&Wh(i,c),h}function f(){let n=rt();xh()?Xy():(n=n.parent,mi(n,!1));let e=n;IM(e)&&SM(),DM();let t=$e();return t.firstCreatePass&&(yl(t,n),Mh(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&BM(e)&&ch(t,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$M(e)&&ch(t,e,se(),e.stylesWithoutHost,!1),f}function N(n,e,t,r){return h(n,e,t,r),f(),N}var pO=(n,e,t,r,i,o)=>(vl(!0),R_(r,i,LM()));function gO(n,e,t,r,i){let o=e.consts,s=ro(o,r),a=bs(e,n,8,"ng-container",s);s!==null&&Qc(a,s,!0);let c=ro(o,i);return Kh(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function at(n,e,t){let r=se(),i=$e(),o=n+Nt,s=i.firstCreatePass?gO(o,i,r,e,t):i.data[o];mi(s,!0);let a=mO(i,r,s,n);return r[o]=a,ml()&&bl(i,r,a,s),Or(a,r),fl(s)&&(Gh(i,r,s),qh(i,s,r)),t!=null&&Wh(r,s),at}function ct(){let n=rt(),e=$e();return xh()?Xy():(n=n.parent,mi(n,!1)),e.firstCreatePass&&(yl(e,n),Mh(n)&&e.queries.elementEnd(n)),ct}var mO=(n,e,t,r)=>(vl(!0),RI(e[Le],""));function Q(){return se()}var ii=void 0;function vO(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var yO=["en",[["a","p"],["AM","PM"],ii],[["AM","PM"],ii,ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ii,"{1} 'at' {0}",ii],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vO],_f={};function Yt(n){let e=_O(n),t=sy(e);if(t)return t;let r=e.split("-")[0];if(t=sy(r),t)return t;if(r==="en")return yO;throw new E(701,!1)}function sy(n){return n in _f||(_f[n]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[n]),_f[n]}var Ue=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ue||{});function _O(n){return n.toLowerCase().replace(/_/g,"-")}var tl="en-US";var CO=tl;function bO(n){typeof n=="string"&&(CO=n.toLowerCase().replace(/_/g,"-"))}var wO=(n,e,t)=>{};function x(n,e,t,r){let i=se(),o=$e(),s=rt();return S0(o,i,i[Le],s,n,e,r),x}function EO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Rc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function S0(n,e,t,r,i,o,s){let a=fl(r),l=n.firstCreatePass&&t0(n),u=e[hn],d=e0(e),g=!0;if(r.type&3||s){let b=Kt(r,e),I=s?s(b):b,F=d.length,ne=s?ae=>s(Fn(ae[r.index])):r.index,z=null;if(!s&&a&&(z=EO(n,e,i,r.index)),z!==null){let ae=z.__ngLastListenerFn__||z;ae.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,g=!1}else{o=cy(r,e,u,o),wO(b,i,o);let ae=t.listen(I,i,o);d.push(o,ae),l&&l.push(i,ne,F,F+1)}}else o=cy(r,e,u,o);let p=r.outputs,v;if(g&&p!==null&&(v=p[i])){let b=v.length;if(b)for(let I=0;I<b;I+=2){let F=v[I],ne=v[I+1],Fe=e[F][ne].subscribe(o),ye=d.length;d.push(o,Fe),l&&l.push(i,r.index,ye,-(ye+1))}}}function ay(n,e,t,r){let i=he(null);try{return Pn(6,e,t),t(r)!==!1}catch(o){return n0(n,o),!1}finally{Pn(7,e,t),he(i)}}function cy(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Ar(n.index,e):e;Jh(s,5);let a=ay(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=ay(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function S(n=1){return FM(n)}function x0(n,e,t,r){mx(n,e,t,r)}function ip(n,e,t){gx(n,e,t)}function ws(n){let e=se(),t=$e(),r=n_();Oh(r+1);let i=ep(t,r);if(n.dirty&&yM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=_x(e,r);n.reset(o,uI),n.notifyOnChanges()}return!0}return!1}function Es(){return px(se(),n_())}function DO(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function lt(n){let e=OM();return Ih(e,Nt+n)}function m(n,e=""){let t=se(),r=$e(),i=n+Nt,o=r.firstCreatePass?bs(r,i,1,e,null):r.data[i],s=MO(r,t,o,e,n);t[i]=s,ml()&&bl(r,t,s,o),mi(o,!1)}var MO=(n,e,t,r,i)=>(vl(!0),AI(e[Le],r));function it(n){return be("",n,""),it}function be(n,e,t){let r=se(),i=_0(r,n,e,t);return i!==Vn&&ES(r,vi(),i),be}function Jt(n,e,t){m0(e)&&(e=e());let r=se(),i=gl();if(tr(r,i,e)){let o=$e(),s=Ah();K_(o,s,r,n,e,r[Le],t,!1)}return Jt}function mn(n,e){let t=m0(n);return t&&n.set(e),t}function Xt(n,e){let t=se(),r=$e(),i=rt();return S0(r,t,t[Le],i,n,e),Xt}function IO(n,e,t){let r=$e();if(r.firstCreatePass){let i=xr(n);lh(t,r.data,r.blueprint,i,!0),lh(e,r.data,r.blueprint,i,!1)}}function lh(n,e,t,r,i){if(n=pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)lh(n[o],e,t,r,i);else{let o=$e(),s=se(),a=rt(),c=eo(n)?n:pt(n.provide),l=Ly(n),u=a.providerIndexes&1048575,d=a.directiveStart,g=a.providerIndexes>>20;if(eo(n)||!n.multi){let p=new di(l,i,D),v=bf(c,e,i?u:u+g,d);v===-1?(Ff(Uc(a,s),o,c),Cf(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[v]=p,s[v]=p)}else{let p=bf(c,e,u+g,d),v=bf(c,e,u,u+g),b=p>=0&&t[p],I=v>=0&&t[v];if(i&&!I||!i&&!b){Ff(Uc(a,s),o,c);let F=OO(i?xO:SO,t.length,i,r,l);!i&&I&&(t[v].providerFactory=F),Cf(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=O0(t[i?v:p],l,!i&&r);Cf(o,n,p>-1?p:v,F)}!i&&r&&I&&t[v].componentProviders++}}}function Cf(n,e,t,r){let i=eo(e),o=iM(e);if(i||o){let c=(o?pt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function O0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function bf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function SO(n,e,t,r){return uh(this.multi,[])}function xO(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=fi(t,t[ee],this.providerFactory.index,r);o=a.slice(0,s),uh(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],uh(i,o);return o}function uh(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function OO(n,e,t,r,i){let o=new di(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,O0(o,i,r&&!t),o}function Je(n,e=[]){return t=>{t.providersResolver=(r,i)=>IO(r,i?i(n):n,e)}}var TO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ry(!1,t.type),i=r.length>0?Il([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=M({token:n,providedIn:"environment",factory:()=>new n(O(mt))})}}return n})();function T0(n){_i("NgStandalone"),n.getStandaloneInjector=e=>e.get(TO).getOrCreateStandaloneInjector(n)}function P0(n,e,t){let r=n.\u0275cmp;r.directiveDefs=Ac(e,!1),r.pipeDefs=Ac(t,!0)}function po(n,e,t){let r=Cs()+n,i=se();return i[r]===Vn?np(i,r,t?e.call(t):e()):Lx(i,r)}function go(n,e,t,r){return R0(se(),Cs(),n,e,t,r)}function A0(n,e,t,r,i){return k0(se(),Cs(),n,e,t,r,i)}function N0(n,e){let t=n[e];return t===Vn?void 0:t}function R0(n,e,t,r,i,o){let s=e+t;return tr(n,s,i)?np(n,s+1,o?r.call(o,i):r(i)):N0(n,s+1)}function k0(n,e,t,r,i,o,s){let a=e+t;return Vx(n,a,i,o)?np(n,a+2,s?r.call(s,i,o):r(i,o)):N0(n,a+2)}function Ct(n,e){let t=$e(),r,i=n+Nt;t.firstCreatePass?(r=PO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=si(r.type,!0)),s,a=It(D);try{let c=jc(!1),l=o();return jc(c),DO(t,se(),i,l),l}finally{It(a)}}function PO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function xt(n,e,t){let r=n+Nt,i=se(),o=Ih(i,r);return L0(i,r)?R0(i,Cs(),e,o.transform,t,o):o.transform(t)}function F0(n,e,t,r){let i=n+Nt,o=se(),s=Ih(o,i);return L0(o,i)?k0(o,Cs(),e,s.transform,t,r,s):s.transform(t,r)}function L0(n,e){return n[ee].data[e].pure}function jn(n,e){return Ml(n,e)}var bc=null;function AO(n){bc!==null&&(n.defaultEncapsulation!==bc.defaultEncapsulation||n.preserveWhitespaces!==bc.preserveWhitespaces)||(bc=n)}var xl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var op=new T(""),Ds=new T(""),Ol=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,sp||(NO(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(O(pe),O(Tl),O(Ds))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),Tl=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return sp?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function NO(n){sp=n}var sp;function Rr(n){return!!n&&typeof n.then=="function"}function ap(n){return!!n&&typeof n.subscribe=="function"}var mo=new T(""),V0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=y(mo,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Rr(o))t.push(o);else if(ap(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pl=new T("");function RO(){Zm(()=>{throw new E(600,!1)})}function kO(n){return n.isBoundToModule}var FO=10;function LO(n,e,t){try{let r=t();return Rr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function j0(n,e){return Array.isArray(e)?e.reduce(j0,n):w(w({},n),e)}var en=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(cI),this.afterRenderManager=y(y0),this.zonelessEnabled=y(Xh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ue,this.afterTick=new ue,this.componentTypes=[],this.components=[],this.isStable=y(ir).hasPendingTasks.pipe(k(t=>!t)),this._injector=y(mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Wc;if(!this._injector.get(V0).done){let g=!i&&Ty(t),p=!1;throw new E(405,p)}let s;i?s=t:s=this._injector.get(oo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=kO(s)?void 0:this._injector.get(Pr),c=r||s.selector,l=s.create(Ye.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(op,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Sc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new E(101,!1);let t=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,he(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Tr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<FO;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)VO(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>hl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Sc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Pl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function VO(n,e,t,r){if(!t&&!hl(n))return;o0(n,e,t&&!r?0:1)}var dh=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Al=(()=>{class n{compileModuleSync(t){return new Xc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Py(t),o=N_(i.declarations).reduce((s,a)=>{let c=Sr(a);return c&&s.push(new so(c)),s},[]);return new dh(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jO=new T("");function UO(n,e,t){let r=new Xc(t);return Promise.resolve(r)}function ly(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var BO=(()=>{class n{constructor(){this.zone=y(pe),this.changeDetectionScheduler=y(io),this.applicationRef=y(en)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $O({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe(L(w({},U0()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:Xi,multi:!0,useFactory:()=>{let r=y(BO,{optional:!0});return()=>r.initialize()}},{provide:Xi,multi:!0,useFactory:()=>{let r=y(HO);return()=>{r.initialize()}}},e===!0?{provide:l0,useValue:!0}:[],{provide:u0,useValue:t??C_}]}function U0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var HO=(()=>{class n{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=y(pe),this.pendingTasks=y(ir)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zO=(()=>{class n{constructor(){this.appRef=y(en),this.taskService=y(ir),this.ngZone=y(pe),this.zonelessEnabled=y(Xh),this.disableScheduling=y(l0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($c):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(u0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zv:b_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($c+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qO(){return typeof $localize<"u"&&$localize.locale||tl}var Nl=new T("",{providedIn:"root",factory:()=>y(Nl,ie.Optional|ie.SkipSelf)||qO()});var nl=new T("");function wc(n){return!n.moduleRef}function GO(n){let e=wc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{wc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Xn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),wc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(nl);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(nl);s.add(o),n.moduleRef.onDestroy(()=>{Sc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return LO(r,t,()=>{let o=e.get(V0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Nl,tl);if(bO(s||tl),wc(n)){let a=e.get(en);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return WO(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function WO(n,e){let t=n.injector.get(en);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new E(-403,!1);e.push(n)}var B0=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>aI(r?.ngZone,L(w({},U0({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[$O({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:io,useExisting:zO}],c=Rx(t.moduleType,this.injector,a);return GO({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=j0({},r);return UO(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(nl,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(O(Ye))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ds=null,$0=new T("");function QO(n){if(ds&&!ds.get($0,!1))throw new E(400,!1);RO(),ds=n;let e=n.get(B0);return YO(n),e}function cp(n,e,t=[]){let r=`Platform: ${e}`,i=new T(r);return(o=[])=>{let s=H0();if(!s||s.injector.get($0,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):QO(KO(a,r))}return ZO(i)}}function KO(n=[],e){return Ye.create({name:e,providers:[{provide:ll,useValue:"platform"},{provide:nl,useValue:new Set([()=>ds=null])},...n]})}function ZO(n){let e=H0();if(!e)throw new E(401,!1);return e}function H0(){return ds?.get(B0)??null}function YO(n){n.get(Lh,null)?.forEach(t=>t())}var sr=(()=>{class n{static{this.__NG_ELEMENT_ID__=JO}}return n})();function JO(n){return XO(rt(),se(),(n&16)===16)}function XO(n,e,t){if(dl(n)&&!t){let r=Ar(n.index,e);return new hi(r,r)}else if(n.type&175){let r=e[kn];return new hi(r,e)}return null}var fh=class{constructor(){}supports(e){return v0(e)}create(e){return new hh(e)}},eT=(n,e)=>e,hh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eT}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<uy(r,i,o)?t:r,a=uy(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let g=0;g<l;g++){let p=g<o.length?o[g]:o[g]=0,v=p+g;u<=v&&v<l&&(o[g]=p+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!v0(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,kx(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ph(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new rl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new rl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ph=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},rl=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new gh,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uy(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function dy(){return new lp([new fh])}var lp=(()=>{class n{static{this.\u0275prov=M({token:n,providedIn:"root",factory:dy})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||dy()),deps:[[n,new vh,new cl]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new E(901,!1)}}return n})();var z0=cp(null,"core",[]),q0=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(O(en))}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({})}}return n})();function kr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function bi(n,e){_i("NgSignals");let t=Wm(n);return e?.equal&&(t[Qn].equal=e.equal),t}function kt(n){let e=he(null);try{return n()}finally{he(e)}}function G0(n){let e=Sr(n);if(!e)return null;let t=new so(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var X0=null;function Un(){return X0}function eC(n){X0??=n}var $l=class{};var Xe=new T(""),bp=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>y(nT),providedIn:"platform"})}}return n})(),tC=new T(""),nT=(()=>{class n extends bp{constructor(){super(),this._doc=y(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(t){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function wp(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function W0(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function cr(n){return n&&n[0]!=="?"?"?"+n:n}var ur=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>y(Ep),providedIn:"root"})}}return n})(),nC=new T(""),Ep=(()=>{class n extends ur{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+cr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(O(bp),O(nC,8))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rC=(()=>{class n extends ur{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=wp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(O(bp),O(nC,8))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),yo=(()=>{class n{constructor(t){this._subject=new re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=oT(W0(Q0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cr(r))}normalize(t){return n.stripTrailingSlash(iT(this._basePath,Q0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=cr}static{this.joinWithSlash=wp}static{this.stripTrailingSlash=W0}static{this.\u0275fac=function(r){return new(r||n)(O(ur))}}static{this.\u0275prov=M({token:n,factory:()=>rT(),providedIn:"root"})}}return n})();function rT(){return new yo(O(ur))}function iT(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Q0(n){return n.replace(/\/index.html$/,"")}function oT(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var bt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(bt||{}),Se=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Se||{}),Ft=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ft||{}),Fr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sT(n){return Yt(n)[Ue.LocaleId]}function aT(n,e,t){let r=Yt(n),i=[r[Ue.DayPeriodsFormat],r[Ue.DayPeriodsStandalone]],o=tn(i,e);return tn(o,t)}function cT(n,e,t){let r=Yt(n),i=[r[Ue.DaysFormat],r[Ue.DaysStandalone]],o=tn(i,e);return tn(o,t)}function lT(n,e,t){let r=Yt(n),i=[r[Ue.MonthsFormat],r[Ue.MonthsStandalone]],o=tn(i,e);return tn(o,t)}function uT(n,e){let r=Yt(n)[Ue.Eras];return tn(r,e)}function Rl(n,e){let t=Yt(n);return tn(t[Ue.DateFormat],e)}function kl(n,e){let t=Yt(n);return tn(t[Ue.TimeFormat],e)}function Fl(n,e){let r=Yt(n)[Ue.DateTimeFormat];return tn(r,e)}function zl(n,e){let t=Yt(n),r=t[Ue.NumberSymbols][e];if(typeof r>"u"){if(e===Fr.CurrencyDecimal)return t[Ue.NumberSymbols][Fr.Decimal];if(e===Fr.CurrencyGroup)return t[Ue.NumberSymbols][Fr.Group]}return r}function iC(n){if(!n[Ue.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ue.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dT(n){let e=Yt(n);return iC(e),(e[Ue.ExtraData][2]||[]).map(r=>typeof r=="string"?up(r):[up(r[0]),up(r[1])])}function fT(n,e,t){let r=Yt(n);iC(r);let i=[r[Ue.ExtraData][0],r[Ue.ExtraData][1]],o=tn(i,e)||[];return tn(o,t)||[]}function tn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function up(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var hT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ll={},pT=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,lr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(lr||{}),ve=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(ve||{}),me=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(me||{});function gT(n,e,t,r){let i=DT(n);e=ar(t,e)||e;let s=[],a;for(;e;)if(a=pT.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=sC(r,c),i=ET(i,r,!0));let l="";return s.forEach(u=>{let d=bT(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Hl(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ar(n,e){let t=sT(n);if(Ll[t]??={},Ll[t][e])return Ll[t][e];let r="";switch(e){case"shortDate":r=Rl(n,Ft.Short);break;case"mediumDate":r=Rl(n,Ft.Medium);break;case"longDate":r=Rl(n,Ft.Long);break;case"fullDate":r=Rl(n,Ft.Full);break;case"shortTime":r=kl(n,Ft.Short);break;case"mediumTime":r=kl(n,Ft.Medium);break;case"longTime":r=kl(n,Ft.Long);break;case"fullTime":r=kl(n,Ft.Full);break;case"short":let i=ar(n,"shortTime"),o=ar(n,"shortDate");r=Vl(Fl(n,Ft.Short),[i,o]);break;case"medium":let s=ar(n,"mediumTime"),a=ar(n,"mediumDate");r=Vl(Fl(n,Ft.Medium),[s,a]);break;case"long":let c=ar(n,"longTime"),l=ar(n,"longDate");r=Vl(Fl(n,Ft.Long),[c,l]);break;case"full":let u=ar(n,"fullTime"),d=ar(n,"fullDate");r=Vl(Fl(n,Ft.Full),[u,d]);break}return r&&(Ll[t][e]=r),r}function Vl(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function vn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function mT(n,e){return vn(n,3).substring(0,e)}function He(n,e,t=0,r=!1,i=!1){return function(o,s){let a=vT(n,o);if((t>0||a>-t)&&(a+=t),n===ve.Hours)a===0&&t===-12&&(a=12);else if(n===ve.FractionalSeconds)return mT(a,e);let c=zl(s,Fr.MinusSign);return vn(a,e,c,r,i)}}function vT(n,e){switch(n){case ve.FullYear:return e.getFullYear();case ve.Month:return e.getMonth();case ve.Date:return e.getDate();case ve.Hours:return e.getHours();case ve.Minutes:return e.getMinutes();case ve.Seconds:return e.getSeconds();case ve.FractionalSeconds:return e.getMilliseconds();case ve.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function xe(n,e,t=bt.Format,r=!1){return function(i,o){return yT(i,o,n,e,t,r)}}function yT(n,e,t,r,i,o){switch(t){case me.Months:return lT(e,i,r)[n.getMonth()];case me.Days:return cT(e,i,r)[n.getDay()];case me.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=dT(e),u=fT(e,i,r),d=l.findIndex(g=>{if(Array.isArray(g)){let[p,v]=g,b=s>=p.hours&&a>=p.minutes,I=s<v.hours||s===v.hours&&a<v.minutes;if(p.hours<v.hours){if(b&&I)return!0}else if(b||I)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return aT(e,i,r)[s<12?0:1];case me.Eras:return uT(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function jl(n){return function(e,t,r){let i=-1*r,o=zl(t,Fr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case lr.Short:return(i>=0?"+":"")+vn(s,2,o)+vn(Math.abs(i%60),2,o);case lr.ShortGMT:return"GMT"+(i>=0?"+":"")+vn(s,1,o);case lr.Long:return"GMT"+(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);case lr.Extended:return r===0?"Z":(i>=0?"+":"")+vn(s,2,o)+":"+vn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var _T=0,Bl=4;function CT(n){let e=Hl(n,_T,1).getDay();return Hl(n,0,1+(e<=Bl?Bl:Bl+7)-e)}function oC(n){let e=n.getDay(),t=e===0?-3:Bl-e;return Hl(n.getFullYear(),n.getMonth(),n.getDate()+t)}function dp(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=oC(t),s=CT(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return vn(i,n,zl(r,Fr.MinusSign))}}function Ul(n,e=!1){return function(t,r){let o=oC(t).getFullYear();return vn(o,n,zl(r,Fr.MinusSign),e)}}var fp={};function bT(n){if(fp[n])return fp[n];let e;switch(n){case"G":case"GG":case"GGG":e=xe(me.Eras,Se.Abbreviated);break;case"GGGG":e=xe(me.Eras,Se.Wide);break;case"GGGGG":e=xe(me.Eras,Se.Narrow);break;case"y":e=He(ve.FullYear,1,0,!1,!0);break;case"yy":e=He(ve.FullYear,2,0,!0,!0);break;case"yyy":e=He(ve.FullYear,3,0,!1,!0);break;case"yyyy":e=He(ve.FullYear,4,0,!1,!0);break;case"Y":e=Ul(1);break;case"YY":e=Ul(2,!0);break;case"YYY":e=Ul(3);break;case"YYYY":e=Ul(4);break;case"M":case"L":e=He(ve.Month,1,1);break;case"MM":case"LL":e=He(ve.Month,2,1);break;case"MMM":e=xe(me.Months,Se.Abbreviated);break;case"MMMM":e=xe(me.Months,Se.Wide);break;case"MMMMM":e=xe(me.Months,Se.Narrow);break;case"LLL":e=xe(me.Months,Se.Abbreviated,bt.Standalone);break;case"LLLL":e=xe(me.Months,Se.Wide,bt.Standalone);break;case"LLLLL":e=xe(me.Months,Se.Narrow,bt.Standalone);break;case"w":e=dp(1);break;case"ww":e=dp(2);break;case"W":e=dp(1,!0);break;case"d":e=He(ve.Date,1);break;case"dd":e=He(ve.Date,2);break;case"c":case"cc":e=He(ve.Day,1);break;case"ccc":e=xe(me.Days,Se.Abbreviated,bt.Standalone);break;case"cccc":e=xe(me.Days,Se.Wide,bt.Standalone);break;case"ccccc":e=xe(me.Days,Se.Narrow,bt.Standalone);break;case"cccccc":e=xe(me.Days,Se.Short,bt.Standalone);break;case"E":case"EE":case"EEE":e=xe(me.Days,Se.Abbreviated);break;case"EEEE":e=xe(me.Days,Se.Wide);break;case"EEEEE":e=xe(me.Days,Se.Narrow);break;case"EEEEEE":e=xe(me.Days,Se.Short);break;case"a":case"aa":case"aaa":e=xe(me.DayPeriods,Se.Abbreviated);break;case"aaaa":e=xe(me.DayPeriods,Se.Wide);break;case"aaaaa":e=xe(me.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":e=xe(me.DayPeriods,Se.Abbreviated,bt.Standalone,!0);break;case"bbbb":e=xe(me.DayPeriods,Se.Wide,bt.Standalone,!0);break;case"bbbbb":e=xe(me.DayPeriods,Se.Narrow,bt.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(me.DayPeriods,Se.Abbreviated,bt.Format,!0);break;case"BBBB":e=xe(me.DayPeriods,Se.Wide,bt.Format,!0);break;case"BBBBB":e=xe(me.DayPeriods,Se.Narrow,bt.Format,!0);break;case"h":e=He(ve.Hours,1,-12);break;case"hh":e=He(ve.Hours,2,-12);break;case"H":e=He(ve.Hours,1);break;case"HH":e=He(ve.Hours,2);break;case"m":e=He(ve.Minutes,1);break;case"mm":e=He(ve.Minutes,2);break;case"s":e=He(ve.Seconds,1);break;case"ss":e=He(ve.Seconds,2);break;case"S":e=He(ve.FractionalSeconds,1);break;case"SS":e=He(ve.FractionalSeconds,2);break;case"SSS":e=He(ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=jl(lr.Short);break;case"ZZZZZ":e=jl(lr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=jl(lr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=jl(lr.Long);break;default:return null}return fp[n]=e,e}function sC(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function wT(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function ET(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=sC(e,i);return wT(n,r*(o-i))}function DT(n){if(K0(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Hl(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(hT))return MT(r)}let e=new Date(n);if(!K0(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function MT(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function K0(n){return n instanceof Date&&!isNaN(n.valueOf())}function ql(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var hp=/\s+/,Z0=[],_o=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Z0,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(hp):Z0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(hp):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(hp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(yt),D(or))}}static{this.\u0275dir=de({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var pp=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Co=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pp(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Y0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Y0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(Nr),D(pi),D(lp))}}static{this.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Y0(n,e){n.context.$implicit=e.item}var De=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new gp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){J0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){J0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(Nr),D(pi))}}static{this.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),gp=class{constructor(){this.$implicit=null,this.ngIf=null}};function J0(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${gt(e)}'.`)}function aC(n,e){return new E(2100,!1)}var mp=class{createSubscription(e,t){return kt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){kt(()=>e.unsubscribe())}},vp=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},IT=new vp,ST=new mp,Ot=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Rr(t))return IT;if(ap(t))return ST;throw aC(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(sr,16))}}static{this.\u0275pipe=bh({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var xT="mediumDate",OT=new T(""),TT=new T(""),bo=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??xT,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return gT(t,s,o||this.locale,a)}catch(s){throw aC(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(Nl,16),D(OT,24),D(TT,24))}}static{this.\u0275pipe=bh({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var cC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({})}}return n})(),Dp="browser",PT="server";function Gl(n){return n===Dp}function Wl(n){return n===PT}var lC=(()=>{class n{static{this.\u0275prov=M({token:n,providedIn:"root",factory:()=>Gl(y(Rt))?new yp(y(Xe),window):new _p})}}return n})(),yp=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=AT(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function AT(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _p=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},vo=class{};var Is=class{},Kl=class{},dr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ip=class{encodeKey(e){return uC(e)}encodeValue(e){return uC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function NT(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var RT=/%(\d[a-f0-9])/gi,kT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uC(n){return encodeURIComponent(n).replace(RT,(e,t)=>kT[t]??e)}function Ql(n){return`${n}`}var Vr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ip,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=NT(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ql):[Ql(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ql(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ql(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Sp=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function FT(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function fC(n){return typeof Blob<"u"&&n instanceof Blob}function hC(n){return typeof FormData<"u"&&n instanceof FormData}function LT(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ms=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(FT(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new dr,this.context??=new Sp,!this.params)this.params=new Vr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dC(this.body)||fC(this.body)||hC(this.body)||LT(this.body)?this.body:this.body instanceof Vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hC(this.body)?null:fC(this.body)?this.body.type||null:dC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,p)=>g.set(p,e.setHeaders[p]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((g,p)=>g.set(p,e.setParams[p]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},jr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(jr||{}),Ss=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new dr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Zl=class n extends Ss{constructor(e={}){super(e),this.type=jr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xs=class n extends Ss{constructor(e={}){super(e),this.type=jr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Lr=class extends Ss{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yC=200,VT=204;function Mp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Os=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ms)o=t;else{let c;i.headers instanceof dr?c=i.headers:c=new dr(i.headers);let l;i.params&&(i.params instanceof Vr?l=i.params:l=new Vr({fromObject:i.params})),o=new Ms(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=A(o).pipe(qt(c=>this.handler.handle(c)));if(t instanceof Ms||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof xs));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(k(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(k(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Vr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mp(i,r))}post(t,r,i={}){return this.request("POST",t,Mp(i,r))}put(t,r,i={}){return this.request("PUT",t,Mp(i,r))}static{this.\u0275fac=function(r){return new(r||n)(O(Is))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),jT=/^\)\]\}',?\n/,UT="X-Request-URL";function pC(n){if(n.url)return n.url;let e=UT.toLocaleLowerCase();return n.headers.get(e)}var BT=(()=>{class n{constructor(){this.fetchImpl=y(xp,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=y(pe)}handle(t){return new K(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Op,o=>r.error(new Lr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return Be(this,null,function*(){let o=this.createRequestInit(t),s;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,w({signal:r},o)));$T(p),i.next({type:jr.Sent}),s=yield p}catch(p){i.error(new Lr({error:p,status:p.status??0,statusText:p.statusText,url:t.urlWithParams,headers:p.headers}));return}let a=new dr(s.headers),c=s.statusText,l=pC(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new Zl({headers:a,status:u,statusText:c,url:l})),s.body){let p=s.headers.get("content-length"),v=[],b=s.body.getReader(),I=0,F,ne,z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Be(this,null,function*(){for(;;){let{done:Fe,value:ye}=yield b.read();if(Fe)break;if(v.push(ye),I+=ye.length,t.reportProgress){ne=t.responseType==="text"?(ne??"")+(F??=new TextDecoder).decode(ye,{stream:!0}):void 0;let Te=()=>i.next({type:jr.DownloadProgress,total:p?+p:void 0,loaded:I,partialText:ne});z?z.run(Te):Te()}}}));let ae=this.concatChunks(v,I);try{let Fe=s.headers.get("Content-Type")??"";d=this.parseBody(t,ae,Fe)}catch(Fe){i.error(new Lr({error:Fe,headers:new dr(s.headers),status:s.status,statusText:s.statusText,url:pC(s)??t.urlWithParams}));return}}u===0&&(u=d?yC:0),u>=200&&u<300?(i.next(new xs({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new Lr({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(jT,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),xp=class{};function Op(){}function $T(n){n.then(Op,Op)}function _C(n,e){return e(n)}function HT(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function zT(n,e,t){return(r,i)=>Qt(t,()=>e(r,o=>n(o,i)))}var qT=new T(""),Tp=new T(""),GT=new T(""),CC=new T("",{providedIn:"root",factory:()=>!0});function WT(){let n=null;return(e,t)=>{n===null&&(n=(y(qT,{optional:!0})??[]).reduceRight(HT,_C));let r=y(ir);if(y(CC)){let o=r.add();return n(e,t).pipe(Pt(()=>r.remove(o)))}else return n(e,t)}}var gC=(()=>{class n extends Is{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=y(ir),this.contributeToStability=y(CC)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Tp),...this.injector.get(GT,[])]));this.chain=r.reduceRight((i,o)=>zT(i,o,this.injector),_C)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Pt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(O(Kl),O(mt))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})();var QT=/^\)\]\}',?\n/;function KT(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var mC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new E(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?$(r.\u0275loadImpl()):A(null)).pipe(Re(()=>new K(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((b,I)=>s.setRequestHeader(b,I.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let b=t.detectContentTypeHeader();b!==null&&s.setRequestHeader("Content-Type",b)}if(t.responseType){let b=t.responseType.toLowerCase();s.responseType=b!=="json"?b:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let b=s.statusText||"OK",I=new dr(s.getAllResponseHeaders()),F=KT(s)||t.url;return c=new Zl({headers:I,status:s.status,statusText:b,url:F}),c},u=()=>{let{headers:b,status:I,statusText:F,url:ne}=l(),z=null;I!==VT&&(z=typeof s.response>"u"?s.responseText:s.response),I===0&&(I=z?yC:0);let ae=I>=200&&I<300;if(t.responseType==="json"&&typeof z=="string"){let Fe=z;z=z.replace(QT,"");try{z=z!==""?JSON.parse(z):null}catch(ye){z=Fe,ae&&(ae=!1,z={error:ye,text:z})}}ae?(o.next(new xs({body:z,headers:b,status:I,statusText:F,url:ne||void 0})),o.complete()):o.error(new Lr({error:z,headers:b,status:I,statusText:F,url:ne||void 0}))},d=b=>{let{url:I}=l(),F=new Lr({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});o.error(F)},g=!1,p=b=>{g||(o.next(l()),g=!0);let I={type:jr.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(I.total=b.total),t.responseType==="text"&&s.responseText&&(I.partialText=s.responseText),o.next(I)},v=b=>{let I={type:jr.UploadProgress,loaded:b.loaded};b.lengthComputable&&(I.total=b.total),o.next(I)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:jr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(O(vo))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),bC=new T(""),ZT="XSRF-TOKEN",YT=new T("",{providedIn:"root",factory:()=>ZT}),JT="X-XSRF-TOKEN",XT=new T("",{providedIn:"root",factory:()=>JT}),Yl=class{},eP=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ql(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(O(Xe),O(Rt),O(YT))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})();function tP(n,e){let t=n.url.toLowerCase();if(!y(bC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=y(Yl).getToken(),i=y(XT);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var wC=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(wC||{});function nP(n,e){return{\u0275kind:n,\u0275providers:e}}function rP(...n){let e=[Os,mC,gC,{provide:Is,useExisting:gC},{provide:Kl,useFactory:()=>y(BT,{optional:!0})??y(mC)},{provide:Tp,useValue:tP,multi:!0},{provide:bC,useValue:!0},{provide:Yl,useClass:eP}];for(let t of n)e.push(...t.\u0275providers);return co(e)}var vC=new T("");function iP(){return nP(wC.LegacyInterceptors,[{provide:vC,useFactory:WT},{provide:Tp,useExisting:vC,multi:!0}])}var EC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({providers:[rP(iP())]})}}return n})();var Np=class extends $l{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rp=class n extends Np{static makeCurrent(){eC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=oP();return t==null?null:sP(t)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ql(document.cookie,e)}},Ts=null;function oP(){return Ts=Ts||document.querySelector("base"),Ts?Ts.getAttribute("href"):null}function sP(n){return new URL(n,document.baseURI).pathname}var kp=class{addToWindow(e){ht.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new E(5103,!1);return o},ht.getAllAngularTestabilities=()=>e.getAllTestabilities(),ht.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=ht.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Un().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},aP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),Fp=new T(""),SC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(O(Fp),O(pe))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),Jl=class{constructor(e){this._doc=e}},Pp="ng-app-id",xC=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Pp}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Pp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Pp,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(O(Xe),O(_l),O(jh,8),O(Rt))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),Ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vp=/%COMP%/g,OC="%COMP%",cP=`_nghost-${OC}`,lP=`_ngcontent-${OC}`,uP=!0,dP=new T("",{providedIn:"root",factory:()=>uP});function fP(n){return lP.replace(Vp,n)}function hP(n){return cP.replace(Vp,n)}function TC(n,e){return e.map(t=>t.replace(Vp,n))}var Xl=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Wl(a),this.defaultRenderer=new Ps(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Nn.ShadowDom&&(r=L(w({},r),{encapsulation:Nn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof eu?i.applyToHost(t):i instanceof As&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Nn.Emulated:o=new eu(c,l,r,this.appId,u,s,a,d);break;case Nn.ShadowDom:return new Lp(c,l,t,r,s,a,this.nonce,d);default:o=new As(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(O(SC),O(xC),O(_l),O(dP),O(Xe),O(Rt),O(pe),O(jh))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),Ps=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ap[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(MC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(MC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ap[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ap[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(t,r,i&er.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&er.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Un().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function MC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Lp=class extends Ps{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=TC(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},As=class extends Ps{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?TC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},eu=class extends As{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=fP(l),this.hostAttr=hP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},pP=(()=>{class n extends Jl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(O(Xe))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),IC=["alt","control","meta","shift"],gP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vP=(()=>{class n extends Jl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),IC.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=gP[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),IC.forEach(s=>{if(s!==i){let a=mP[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(O(Xe))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})();function yP(){Rp.makeCurrent()}function _P(){return new Xn}function CP(){return x_(document),document}var bP=[{provide:Rt,useValue:Dp},{provide:Lh,useValue:yP,multi:!0},{provide:Xe,useFactory:CP,deps:[]}],PC=cp(z0,"browser",bP),wP=new T(""),EP=[{provide:Ds,useClass:kp,deps:[]},{provide:op,useClass:Ol,deps:[pe,Tl,Ds]},{provide:Ol,useClass:Ol,deps:[pe,Tl,Ds]}],DP=[{provide:ll,useValue:"root"},{provide:Xn,useFactory:_P,deps:[]},{provide:Fp,useClass:pP,multi:!0,deps:[Xe,pe,Rt]},{provide:Fp,useClass:vP,multi:!0,deps:[Xe]},Xl,xC,SC,{provide:Tr,useExisting:Xl},{provide:vo,useClass:aP,deps:[]},[]],tu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_l,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(O(wP,12))}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({providers:[...DP,...EP],imports:[cC,q0]})}}return n})();var AC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(O(Xe))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var te="primary",Gs=Symbol("RouteTitle"),Hp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function So(n){return new Hp(n)}function MP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function IP(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bn(n[t],e[t]))return!1;return!0}function Bn(n,e){let t=n?zp(n):void 0,r=e?zp(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!zC(n[i],e[i]))return!1;return!0}function zp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qC(n){return n.length>0?n[n.length-1]:null}function Br(n){return Xd(n)?n:Rr(n)?$(Promise.resolve(n)):A(n)}var SP={exact:WC,subset:QC},GC={exact:xP,subset:OP,ignored:()=>!0};function RC(n,e,t){return SP[t.paths](n.root,e.root,t.matrixParams)&&GC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xP(n,e){return Bn(n,e)}function WC(n,e,t){if(!Ei(n.segments,e.segments)||!iu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!WC(n.children[r],e.children[r],t))return!1;return!0}function OP(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zC(n[t],e[t]))}function QC(n,e,t){return KC(n,e,e.segments,t)}function KC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ei(i,t)||e.hasChildren()||!iu(i,t,r))}else if(n.segments.length===t.length){if(!Ei(n.segments,t)||!iu(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!QC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ei(n.segments,i)||!iu(n.segments,i,r)||!n.children[te]?!1:KC(n.children[te],e,o,r)}}function iu(n,e,t){return e.every((r,i)=>GC[t](n[i].parameters,r.parameters))}var hr=class{constructor(e=new Ce([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){return AP.serialize(this)}},Ce=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ou(this)}},wi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=So(this.parameters),this._parameterMap}toString(){return YC(this)}};function TP(n,e){return Ei(n,e)&&n.every((t,r)=>Bn(t.parameters,e[r].parameters))}function Ei(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function PP(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var Ws=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>new xo,providedIn:"root"})}}return n})(),xo=class{parse(e){let t=new Gp(e);return new hr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ns(e.root,!0)}`,r=kP(e.queryParams),i=typeof e.fragment=="string"?`#${NP(e.fragment)}`:"";return`${t}${r}${i}`}},AP=new xo;function ou(n){return n.segments.map(e=>YC(e)).join("/")}function Ns(n,e){if(!n.hasChildren())return ou(n);if(e){let t=n.children[te]?Ns(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Ns(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=PP(n,(r,i)=>i===te?[Ns(n.children[te],!1)]:[`${i}:${Ns(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${ou(n)}/${t[0]}`:`${ou(n)}/(${t.join("//")})`}}function ZC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nu(n){return ZC(n).replace(/%3B/gi,";")}function NP(n){return encodeURI(n)}function qp(n){return ZC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function su(n){return decodeURIComponent(n)}function kC(n){return su(n.replace(/\+/g,"%20"))}function YC(n){return`${qp(n.path)}${RP(n.parameters)}`}function RP(n){return Object.entries(n).map(([e,t])=>`;${qp(e)}=${qp(t)}`).join("")}function kP(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${nu(t)}=${nu(i)}`).join("&"):`${nu(t)}=${nu(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var FP=/^[^\/()?;#]+/;function jp(n){let e=n.match(FP);return e?e[0]:""}var LP=/^[^\/()?;=#]+/;function VP(n){let e=n.match(LP);return e?e[0]:""}var jP=/^[^=?&#]+/;function UP(n){let e=n.match(jP);return e?e[0]:""}var BP=/^[^&#]+/;function $P(n){let e=n.match(BP);return e?e[0]:""}var Gp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new Ce(e,t)),r}parseSegment(){let e=jp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new wi(su(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=VP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=jp(this.remaining);i&&(r=i,this.capture(r))}e[su(t)]=su(r)}parseQueryParam(e){let t=UP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=$P(this.remaining);s&&(r=s,this.capture(r))}let i=kC(t),o=kC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new Ce([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function JC(n){return n.segments.length>0?new Ce([],{[te]:n}):n}function XC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=XC(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ce(n.segments,e);return HP(t)}function HP(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new Ce(n.segments.concat(e.segments),e.children)}return n}function Di(n){return n instanceof hr}function zP(n,e,t=null,r=null){let i=eb(n);return tb(i,e,t,r)}function eb(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ce(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=JC(r);return e??i}function tb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Up(i,i,i,t,r);let o=qP(e);if(o.toRoot())return Up(i,i,new Ce([],{}),t,r);let s=GP(o,i,n),a=s.processChildren?Fs(s.segmentGroup,s.index,o.commands):rb(s.segmentGroup,s.index,o.commands);return Up(i,s.segmentGroup,a,t,r)}function au(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function js(n){return typeof n=="object"&&n!=null&&n.outlets}function Up(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=nb(n,e,t);let a=JC(XC(s));return new hr(a,o,i)}function nb(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=nb(o,e,t)}),new Ce(n.segments,r)}var cu=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&au(r[0]))throw new E(4003,!1);let i=r.find(js);if(i&&i!==qC(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qP(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new cu(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cu(t,e,r)}var Do=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function GP(n,e,t){if(n.isAbsolute)return new Do(e,!0,0);if(!t)return new Do(e,!1,NaN);if(t.parent===null)return new Do(t,!0,0);let r=au(n.commands[0])?0:1,i=t.segments.length-1+r;return WP(t,i,n.numberOfDoubleDots)}function WP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Do(r,!1,i-o)}function QP(n){return js(n[0])?n[0].outlets:{[te]:n}}function rb(n,e,t){if(n??=new Ce([],{}),n.segments.length===0&&n.hasChildren())return Fs(n,e,t);let r=KP(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ce(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new Ce(n.segments.slice(r.pathIndex),n.children),Fs(o,0,i)}else return r.match&&i.length===0?new Ce(n.segments,{}):r.match&&!n.hasChildren()?Wp(n,e,t):r.match?Fs(n,0,i):Wp(n,e,t)}function Fs(n,e,t){if(t.length===0)return new Ce(n.segments,{});{let r=QP(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=Fs(n.children[te],e,t);return new Ce(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ce(n.segments,i)}}function KP(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(js(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!LC(c,l,s))return o;r+=2}else{if(!LC(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wp(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(js(o)){let c=ZP(o.outlets);return new Ce(r,c)}if(i===0&&au(t[0])){let c=n.segments[e];r.push(new wi(c.path,FC(t[0]))),i++;continue}let s=js(o)?o.outlets[te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&au(a)?(r.push(new wi(s,FC(a))),i+=2):(r.push(new wi(s,{})),i++)}return new Ce(r,{})}function ZP(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Wp(new Ce([],{}),0,r))}),e}function FC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function LC(n,e,t){return n==t.path&&Bn(e,t.parameters)}var Ls="imperative",et=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(et||{}),nn=class{constructor(e,t){this.id=e,this.url=t}},Oo=class extends nn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jt=class extends nn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Vt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Vt||{}),lu=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(lu||{}),fr=class extends nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=et.NavigationSkipped}},Us=class extends nn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},uu=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends nn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zp=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yp=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jp=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xp=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ng=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rg=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},du=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Bs=class{},To=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function YP(n,e){return n.providers&&!n._injector&&(n._injector=Il(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yn(n){return n.outlet||te}function JP(n,e){let t=n.filter(r=>yn(r)===e);return t.push(...n.filter(r=>yn(r)!==e)),t}function Qs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ig=class{get injector(){return Qs(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ks(this.rootInjector),this.attachRef=null}},Ks=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ig(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(O(mt))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=og(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=og(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=sg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sg(e,this._root).map(t=>t.value)}};function og(n,e){if(n===e.value)return e;for(let t of e.children){let r=og(n,t);if(r)return r}return null}function sg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=sg(n,t);if(r.length)return r.unshift(e),r}return[]}var Lt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Eo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hu=class extends fu{constructor(e,t){super(e),this.snapshot=t,gg(this,e)}toString(){return this.snapshot.toString()}};function ib(n){let e=XP(n),t=new ge([new wi("",{})]),r=new ge({}),i=new ge({}),o=new ge({}),s=new ge(""),a=new wt(t,r,o,s,i,te,n,e.root);return a.snapshot=e.root,new hu(new Lt(a,[]),e)}function XP(n){let e={},t={},r={},i="",o=new Mo([],e,r,i,t,te,n,null,{});return new gu("",new Lt(o,[]))}var wt=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(k(l=>l[Gs]))??A(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(e=>So(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(e=>So(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pu(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),n.params),data:w(w({},e.data),n.data),resolve:w(w(w(w({},n.data),e.data),i?.data),n._resolvedData)}:r={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},i&&sb(i)&&(r.resolve[Gs]=i.title),r}var Mo=class{get title(){return this.data?.[Gs]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=So(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=So(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},gu=class extends fu{constructor(e,t){super(t),this.url=e,gg(this,t)}toString(){return ob(this._root)}};function gg(n,e){e.value._routerState=n,e.children.forEach(t=>gg(n,t))}function ob(n){let e=n.children.length>0?` { ${n.children.map(ob).join(", ")} } `:"";return`${n.value}${e}`}function Bp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bn(e.params,t.params)||n.paramsSubject.next(t.params),IP(e.url,t.url)||n.urlSubject.next(t.url),Bn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ag(n,e){let t=Bn(n.params,e.params)&&TP(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ag(n.parent,e.parent))}function sb(n){return typeof n.title=="string"||n.title===null}var _n=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new re,this.deactivateEvents=new re,this.attachEvents=new re,this.detachEvents=new re,this.parentContexts=y(Ks),this.location=y(Nr),this.changeDetector=y(sr),this.inputBinder=y(Cu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cg(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=de({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gn]})}}return n})(),cg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wt?this.route:e===Ks?this.childContexts:this.parent.get(e,t)}},Cu=new T(""),VC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=as([r.queryParams,r.params,r.data]).pipe(Re(([o,s,a],c)=>(a=w(w(w({},o),s),a),c===0?A(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=G0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})();function e1(n,e,t){let r=$s(n,e._root,t?t._root:void 0);return new hu(r,e)}function $s(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=t1(n,e,t);return new Lt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$s(n,a)),s}}let r=n1(e.value),i=e.children.map(o=>$s(n,o));return new Lt(r,i)}}function t1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return $s(n,r,i);return $s(n,r)})}function n1(n){return new wt(new ge(n.url),new ge(n.params),new ge(n.queryParams),new ge(n.fragment),new ge(n.data),n.outlet,n.component,n)}var Hs=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ab="ngNavigationCancelingError";function mu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Di(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cb(!1,Vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function cb(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ab]=!0,t.cancellationCode=e,t}function r1(n){return lb(n)&&Di(n.url)}function lb(n){return!!n&&n[ab]}var i1=(n,e,t,r)=>k(i=>(new lg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),lg=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Bp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Eo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Eo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Eo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Eo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Bp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Io=class{constructor(e,t){this.component=e,this.route=t}};function o1(n,e,t){let r=n._root,i=e?e._root:null;return Rs(r,i,t,[r.value])}function s1(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ao(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!gy(n)?n:e.get(n):r}function Rs(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Eo(e);return n.children.forEach(s=>{a1(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vs(a,t.getContext(s),i)),i}function a1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=c1(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Rs(n,e,a?a.children:null,r,i):Rs(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Io(a.outlet.component,s))}else s&&Vs(e,a,i),i.canActivateChecks.push(new vu(r)),o.component?Rs(n,null,a?a.children:null,r,i):Rs(n,null,t,r,i);return i}function c1(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ei(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(n.url,e.url)||!Bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ag(n,e)||!Bn(n.queryParams,e.queryParams);case"paramsChange":default:return!ag(n,e)}}function Vs(n,e,t){let r=Eo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Vs(s,e.children.getContext(o),t):Vs(s,null,t):Vs(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Io(e.outlet.component,i)):t.canDeactivateChecks.push(new Io(null,i)):t.canDeactivateChecks.push(new Io(null,i))}function Zs(n){return typeof n=="function"}function l1(n){return typeof n=="boolean"}function u1(n){return n&&Zs(n.canLoad)}function d1(n){return n&&Zs(n.canActivate)}function f1(n){return n&&Zs(n.canActivateChild)}function h1(n){return n&&Zs(n.canDeactivate)}function p1(n){return n&&Zs(n.canMatch)}function ub(n){return n instanceof Zn||n?.name==="EmptyError"}var ru=Symbol("INITIAL_VALUE");function Po(){return Re(n=>as(n.map(e=>e.pipe(Ee(1),af(ru)))).pipe(k(e=>{for(let t of e)if(t!==!0){if(t===ru)return ru;if(t===!1||g1(t))return t}return!0}),Ne(e=>e!==ru),Ee(1)))}function g1(n){return Di(n)||n instanceof Hs}function m1(n,e){return Ae(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?A(L(w({},t),{guardsResult:!0})):v1(s,r,i,n).pipe(Ae(a=>a&&l1(a)?y1(r,o,n,e):A(a)),k(a=>L(w({},t),{guardsResult:a})))})}function v1(n,e,t,r){return $(n).pipe(Ae(i=>E1(i.component,i.route,t,e,r)),On(i=>i!==!0,!0))}function y1(n,e,t,r){return $(e).pipe(qt(i=>xn(C1(i.route.parent,r),_1(i.route,r),w1(n,i.path,t),b1(n,i.route,t))),On(i=>i!==!0,!0))}function _1(n,e){return n!==null&&e&&e(new ng(n)),A(!0)}function C1(n,e){return n!==null&&e&&e(new eg(n)),A(!0)}function b1(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>ni(()=>{let s=Qs(e)??t,a=Ao(o,s),c=d1(a)?a.canActivate(e,n):Qt(s,()=>a(e,n));return Br(c).pipe(On())}));return A(i).pipe(Po())}function w1(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>s1(s)).filter(s=>s!==null).map(s=>ni(()=>{let a=s.guards.map(c=>{let l=Qs(s.node)??t,u=Ao(c,l),d=f1(u)?u.canActivateChild(r,n):Qt(l,()=>u(r,n));return Br(d).pipe(On())});return A(a).pipe(Po())}));return A(o).pipe(Po())}function E1(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let c=Qs(e)??i,l=Ao(a,c),u=h1(l)?l.canDeactivate(n,e,t,r):Qt(c,()=>l(n,e,t,r));return Br(u).pipe(On())});return A(s).pipe(Po())}function D1(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=Ao(s,n),c=u1(a)?a.canLoad(e,t):Qt(n,()=>a(e,t));return Br(c)});return A(o).pipe(Po(),db(r))}function db(n){return Wd(X(e=>{if(typeof e!="boolean")throw mu(n,e)}),k(e=>e===!0))}function M1(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=Ao(s,n),c=p1(a)?a.canMatch(e,t):Qt(n,()=>a(e,t));return Br(c)});return A(o).pipe(Po(),db(r))}var zs=class{constructor(e){this.segmentGroup=e||null}},qs=class extends Error{constructor(e){super(),this.urlTree=e}};function wo(n){return We(new zs(n))}function I1(n){return We(new E(4e3,!1))}function S1(n){return We(cb(!1,Vt.GuardRejected))}var ug=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[te])return I1(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:g,params:p,data:v,title:b}=i,I=Qt(o,()=>a({params:p,data:v,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:g,title:b}));if(I instanceof hr)throw new qs(I);t=I}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new qs(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new hr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ce(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x1(n,e,t,r,i){let o=fb(n,e,t);return o.matched?(r=YP(e,r),M1(r,e,t,i).pipe(k(s=>s===!0?o:w({},dg)))):A(o)}function fb(n,e,t){if(e.path==="**")return O1(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?w({},dg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MP)(t,n,e);if(!i)return w({},dg);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function O1(n){return{matched:!0,parameters:n.length>0?qC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function jC(n,e,t,r){return t.length>0&&A1(n,t,r)?{segmentGroup:new Ce(e,P1(r,new Ce(t,n.children))),slicedSegments:[]}:t.length===0&&N1(n,t,r)?{segmentGroup:new Ce(n.segments,T1(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ce(n.segments,n.children),slicedSegments:t}}function T1(n,e,t,r){let i={};for(let o of t)if(bu(n,e,o)&&!r[yn(o)]){let s=new Ce([],{});i[yn(o)]=s}return w(w({},r),i)}function P1(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&yn(r)!==te){let i=new Ce([],{});t[yn(r)]=i}return t}function A1(n,e,t){return t.some(r=>bu(n,e,r)&&yn(r)!==te)}function N1(n,e,t){return t.some(r=>bu(n,e,r))}function bu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function R1(n,e,t){return e.length===0&&!n.children[t]}var fg=class{};function k1(n,e,t,r,i,o,s="emptyOnly"){return new hg(n,e,t,r,i,s,o).recognize()}var F1=31,hg=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ug(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=jC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(k(({children:t,rootSnapshot:r})=>{let i=new Lt(r,t),o=new gu("",i),s=zP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Mo([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(k(r=>({children:r,rootSnapshot:t})),ce(r=>{if(r instanceof qs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zs?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(k(s=>s instanceof Lt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return $(o).pipe(qt(s=>{let a=r.children[s],c=JP(t,s);return this.processSegmentGroup(e,c,a,s,i)}),sf((s,a)=>(s.push(...a),s)),wr(null),rf(),Ae(s=>{if(s===null)return wo(r);let a=hb(s);return L1(a),A(a)}))}processSegment(e,t,r,i,o,s,a){return $(t).pipe(qt(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ce(l=>{if(l instanceof zs)return A(null);throw l}))),On(c=>!!c),ce(c=>{if(ub(c))return R1(r,i,o)?A(new fg):wo(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return yn(r)!==s&&(s===te||!bu(i,o,r))?wo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):wo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:g}=fb(t,i,o);if(!c)return wo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>F1&&(this.allowRedirects=!1));let p=new Mo(o,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,UC(i),yn(i),i.component??i._loadedComponent??null,i,BC(i)),v=pu(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let b=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,p,e);return this.applyRedirects.lineralizeSegments(i,b).pipe(Ae(I=>this.processSegment(e,r,t,I.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=x1(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Re(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Re(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:g,remainingSegments:p}=c,v=new Mo(g,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,UC(r),yn(r),r.component??r._loadedComponent??null,r,BC(r)),b=pu(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:I,slicedSegments:F}=jC(t,g,p,l);if(F.length===0&&I.hasChildren())return this.processChildren(u,l,I,v).pipe(k(z=>new Lt(v,z)));if(l.length===0&&F.length===0)return A(new Lt(v,[]));let ne=yn(r)===o;return this.processSegment(u,l,I,F,ne?te:o,!0,v).pipe(k(z=>new Lt(v,z instanceof Lt?[z]:[])))}))):wo(t)))}getChildConfig(e,t,r){return t.children?A({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?A({routes:t._loadedRoutes,injector:t._loadedInjector}):D1(e,t,r,this.urlSerializer).pipe(Ae(i=>i?this.configLoader.loadChildren(e,t).pipe(X(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):S1(t))):A({routes:[],injector:e})}};function L1(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function V1(n){let e=n.value.routeConfig;return e&&e.path===""}function hb(n){let e=[],t=new Set;for(let r of n){if(!V1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=hb(r.children);e.push(new Lt(r.value,i))}return e.filter(r=>!t.has(r))}function UC(n){return n.data||{}}function BC(n){return n.resolve||{}}function j1(n,e,t,r,i,o){return Ae(s=>k1(n,e,t,r,s.extractedUrl,i,o).pipe(k(({state:a,tree:c})=>L(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function U1(n,e){return Ae(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return A(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of pb(c))s.add(l);let a=0;return $(s).pipe(qt(c=>o.has(c)?B1(c,r,n,e):(c.data=pu(c,c.parent,n).resolve,A(void 0))),X(()=>a++),qi(1),Ae(c=>a===s.size?A(t):ft))})}function pb(n){let e=n.children.map(t=>pb(t)).flat();return[n,...e]}function B1(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!sb(i)&&(o[Gs]=i.title),$1(o,n,e,r).pipe(k(s=>(n._resolvedData=s,n.data=pu(n,n.parent,t).resolve,null)))}function $1(n,e,t,r){let i=zp(n);if(i.length===0)return A({});let o={};return $(i).pipe(Ae(s=>H1(n[s],e,t,r).pipe(On(),X(a=>{if(a instanceof Hs)throw mu(new xo,a);o[s]=a}))),qi(1),cs(o),ce(s=>ub(s)?ft:We(s)))}function H1(n,e,t,r){let i=Qs(e)??r,o=Ao(n,i),s=o.resolve?o.resolve(e,t):Qt(i,()=>o(e,t));return Br(s)}function $p(n){return Re(e=>{let t=n(e);return t?$(t).pipe(k(()=>e)):A(e)})}var gb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[Gs]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>y(z1),providedIn:"root"})}}return n})(),z1=(()=>{class n extends gb{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(O(AC))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ys=new T("",{providedIn:"root",factory:()=>({})}),q1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Y({type:n,selectors:[["ng-component"]],standalone:!0,features:[T0],decls:1,vars:0,template:function(r,i){r&1&&N(0,"router-outlet")},dependencies:[_n],encapsulation:2})}}return n})();function mg(n){let e=n.children&&n.children.map(mg),t=e?L(w({},n),{children:e}):w({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=q1),t}var yu=new T(""),vg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Al)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Br(t.loadComponent()).pipe(k(mb),X(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Pt(()=>{this.componentLoaders.delete(t)})),i=new br(r,()=>new ue).pipe(Ui());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=G1(r,this.compiler,t,this.onLoadEndListener).pipe(Pt(()=>{this.childrenLoaders.delete(r)})),s=new br(o,()=>new ue).pipe(Ui());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function G1(n,e,t,r){return Br(n.loadChildren()).pipe(k(mb),Ae(i=>i instanceof ms||Array.isArray(i)?A(i):$(e.compileModuleAsync(i))),k(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(yu,[],{optional:!0,self:!0}).flat()),{routes:s.map(mg),injector:o}}))}function W1(n){return n&&typeof n=="object"&&"default"in n}function mb(n){return W1(n)?n.default:n}var yg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>y(Q1),providedIn:"root"})}}return n})(),Q1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vb=new T(""),yb=new T("");function K1(n,e,t){let r=n.get(yb),i=n.get(Xe);return n.get(pe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),Z1(n))),{onViewTransitionCreated:c}=r;return c&&Qt(n,()=>c({transition:a,from:e,to:t})),s})}function Z1(n){return new Promise(e=>{rp({read:()=>setTimeout(e)},{injector:n})})}var Y1=new T(""),_g=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue,this.transitionAbortSubject=new ue,this.configLoader=y(vg),this.environmentInjector=y(mt),this.urlSerializer=y(Ws),this.rootContexts=y(Ks),this.location=y(yo),this.inputBindingEnabled=y(Cu,{optional:!0})!==null,this.titleStrategy=y(gb),this.options=y(Ys,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(yg),this.createViewTransition=y(vb,{optional:!0}),this.navigationErrorHandler=y(Y1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Jp(i)),r=i=>this.events.next(new Xp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(L(w(w({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ge({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ls,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),k(o=>L(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Re(o=>{let s=!1,a=!1;return A(o).pipe(Re(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),ft;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?L(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Ur(c.id,this.urlSerializer.serialize(c.rawUrl),d,lu.IgnoredSameUrlNavigation)),c.resolve(!1),ft}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return A(c).pipe(Re(d=>{let g=this.transitions?.getValue();return this.events.next(new Oo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),g!==this.transitions?.getValue()?ft:Promise.resolve(d)}),j1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),X(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=L(w({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let g=new uu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:g,source:p,restoredState:v,extras:b}=c,I=new Oo(d,this.urlSerializer.serialize(g),p,v);this.events.next(I);let F=ib(this.rootComponentType).snapshot;return this.currentTransition=o=L(w({},c),{targetSnapshot:F,urlAfterRedirects:g,extras:L(w({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,A(o)}else{let d="";return this.events.next(new Ur(c.id,this.urlSerializer.serialize(c.extractedUrl),d,lu.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ft}}),X(c=>{let l=new Qp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),k(c=>(this.currentTransition=o=L(w({},c),{guards:o1(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),m1(this.environmentInjector,c=>this.events.next(c)),X(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw mu(this.urlSerializer,c.guardsResult);let l=new Kp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Vt.GuardRejected),!1)),$p(c=>{if(c.guards.canActivateChecks.length)return A(c).pipe(X(l=>{let u=new Zp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Re(l=>{let u=!1;return A(l).pipe(U1(this.paramsInheritanceStrategy,this.environmentInjector),X({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Vt.NoDataFromResolver)}}))}),X(l=>{let u=new Yp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),$p(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(X(g=>{u.component=g}),k(()=>{})));for(let g of u.children)d.push(...l(g));return d};return as(l(c.targetSnapshot.root)).pipe(wr(null),Ee(1))}),$p(()=>this.afterPreactivation()),Re(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?$(u).pipe(k(()=>o)):A(o)}),k(c=>{let l=e1(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=L(w({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),X(()=>{this.events.next(new Bs)}),i1(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ee(1),X({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Tn(this.transitionAbortSubject.pipe(X(c=>{throw c}))),Pt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ce(c=>{if(a=!0,lb(c))this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),r1(c)?this.events.next(new To(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Us(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Hs){let{message:d,cancellationCode:g}=mu(this.urlSerializer,u);this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,g)),this.events.next(new To(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ft}))}))}cancelNavigationTransition(t,r,i){let o=new fr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function J1(n){return n!==Ls}var X1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>y(eA),providedIn:"root"})}}return n})(),pg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},eA=(()=>{class n extends pg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_b=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:()=>y(tA),providedIn:"root"})}}return n})(),tA=(()=>{class n extends _b{constructor(){super(...arguments),this.location=y(yo),this.urlSerializer=y(Ws),this.options=y(Ys,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(yg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ib(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Oo)this.stateMemento=this.createStateMemento();else if(t instanceof Ur)this.rawUrlTree=r.initialUrl;else if(t instanceof uu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Bs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof fr&&(t.code===Vt.GuardRejected||t.code===Vt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Us?this.restoreHistory(r,!0):t instanceof jt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof hr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=w(w({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=w(w({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ks=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ks||{});function Cb(n,e){n.events.pipe(Ne(t=>t instanceof jt||t instanceof fr||t instanceof Us||t instanceof Ur),k(t=>t instanceof jt||t instanceof Ur?ks.COMPLETE:(t instanceof fr?t.code===Vt.Redirect||t.code===Vt.SupersededByNewNavigation:!1)?ks.REDIRECTING:ks.FAILED),Ne(t=>t!==ks.REDIRECTING),Ee(1)).subscribe(()=>{e()})}function nA(n){throw n}var rA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},we=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(xl),this.stateManager=y(_b),this.options=y(Ys,{optional:!0})||{},this.pendingTasks=y(ir),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(_g),this.urlSerializer=y(Ws),this.location=y(yo),this.urlHandlingStrategy=y(yg),this._events=new ue,this.errorHandler=this.options.errorHandler||nA,this.navigated=!1,this.routeReuseStrategy=y(X1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(yu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Cu,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof fr&&r.code!==Vt.Redirect&&r.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jt)this.navigated=!0;else if(r instanceof To){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||J1(i.source)},s);this.scheduleNavigation(a,Ls,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=w({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let g=i?i.snapshot:this.routerState.snapshot.root;d=eb(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return tb(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Di(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ls,null,r)}navigate(t,r={skipLocationChange:!1}){return oA(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=w({},rA):r===!1?i=w({},iA):i=r,Di(t))return RC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return RC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,g)=>{a=d,c=g});let u=this.pendingTasks.add();return Cb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oA(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new E(4008,!1)}function sA(n){return!(n instanceof Bs)&&!(n instanceof To)}var rn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Di(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:P_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(we),D(wt),Rh("tabindex"),D(or),D(yt),D(ur))}}static{this.\u0275dir=de({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&x("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ho("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",kr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",kr],replaceUrl:[2,"replaceUrl","replaceUrl",kr],routerLink:"routerLink"},standalone:!0,features:[tp,gn]})}}return n})(),bb=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new re,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof jt&&this.update()})}ngAfterContentInit(){A(this.links.changes,A(null)).pipe(Sn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=$(t).pipe(Sn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=aA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(we),D(yt),D(or),D(sr),D(rn,8))}}static{this.\u0275dir=de({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&x0(o,rn,5),r&2){let s;ws(s=Es())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[gn]})}}return n})();function aA(n){return!!n.paths}var _u=class{};var cA=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof jt),qt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Il(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $(i).pipe(Sn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=A(null);let o=i.pipe(Ae(s=>s===null?A(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return $([o,s]).pipe(Sn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(O(we),O(Al),O(mt),O(_u),O(vg))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wb=new T(""),lA=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ur&&t.code===lu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof du&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new du(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){z_()}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})();function uA(n){return n.routerState.root}function Js(n,e){return{\u0275kind:n,\u0275providers:e}}function dA(){let n=y(Ye);return e=>{let t=n.get(en);if(e!==t.components[0])return;let r=n.get(we),i=n.get(Eb);n.get(Cg)===1&&r.initialNavigation(),n.get(Db,null,ie.Optional)?.setUpPreloading(),n.get(wb,null,ie.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Eb=new T("",{factory:()=>new ue}),Cg=new T("",{providedIn:"root",factory:()=>1});function fA(){return Js(2,[{provide:Cg,useValue:0},{provide:mo,multi:!0,deps:[Ye],useFactory:e=>{let t=e.get(tC,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(we),o=e.get(Eb);Cb(i,()=>{r(!0)}),e.get(_g).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))}}])}function hA(){return Js(3,[{provide:mo,multi:!0,useFactory:()=>{let e=y(we);return()=>{e.setUpLocationChangeListener()}}},{provide:Cg,useValue:2}])}var Db=new T("");function pA(n){return Js(0,[{provide:Db,useExisting:cA},{provide:_u,useExisting:n}])}function gA(){return Js(8,[VC,{provide:Cu,useExisting:VC}])}function mA(n){let e=[{provide:vb,useValue:K1},{provide:yb,useValue:w({skipNextTransition:!!n?.skipInitialTransition},n)}];return Js(9,e)}var $C=new T("ROUTER_FORROOT_GUARD"),vA=[yo,{provide:Ws,useClass:xo},we,Ks,{provide:wt,useFactory:uA,deps:[we]},vg,[]],bg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vA,[],{provide:yu,multi:!0,useValue:t},{provide:$C,useFactory:bA,deps:[[we,new cl,new vh]]},{provide:Ys,useValue:r||{}},r?.useHash?_A():CA(),yA(),r?.preloadingStrategy?pA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wA(r):[],r?.bindToComponentInputs?gA().\u0275providers:[],r?.enableViewTransitions?mA().\u0275providers:[],EA()]}}static forChild(t){return{ngModule:n,providers:[{provide:yu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(O($C,8))}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({})}}return n})();function yA(){return{provide:wb,useFactory:()=>{let n=y(lC),e=y(pe),t=y(Ys),r=y(_g),i=y(Ws);return t.scrollOffset&&n.setOffset(t.scrollOffset),new lA(i,r,n,e,t)}}}function _A(){return{provide:ur,useClass:rC}}function CA(){return{provide:ur,useClass:Ep}}function bA(n){return"guarded"}function wA(n){return[n.initialNavigation==="disabled"?hA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?fA().\u0275providers:[]]}var HC=new T("");function EA(){return[{provide:HC,useFactory:dA},{provide:Pl,multi:!0,useExisting:HC}]}var wu=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(Ze(1),ce(e=>(console.log("err:",e),We(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(Ze(1),ce(e=>(console.log("err:",e),We(()=>e))))}static \u0275fac=function(t){return new(t||n)(O(Os))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var DA=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],MA=!DA.includes(window.location.hostname),$n={baseURL:MA?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}};function Xs(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var tt={post:xA,get:IA,put:OA,remove:TA,query:ta,login:SA},ea=!0;function ta(n,e=200){return Be(this,null,function*(){if(ea){let t=Xs();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${$n.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function IA(n,e){return Be(this,null,function*(){if(ea){let t=yield fetch(`${$n.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield ta(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function SA(n,e){return Be(this,null,function*(){let t=`${$n.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function xA(n,e,t){return Be(this,null,function*(){if(ea){let r=t?`${$n.baseURL}/${t}`:`${$n.baseURL}/${n}`,i={"Content-Type":"application/json"},o=Xs();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=L(w({},e),{_id:PA()}),i=yield ta(n);return i.push(r),wg(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function OA(n,e){return Be(this,null,function*(){if(ea){let t=`${$n.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=Xs();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield ta(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),wg(n,t),e}})}function TA(n,e){return Be(this,null,function*(){if(ea){let t=Xs();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${$n.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield ta(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),wg(n,t)}})}function wg(n,e){localStorage.setItem(n,JSON.stringify(e))}function PA(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var Mb="dzqnyehxn",AA="fuhrsp2z",NA=`https://api.cloudinary.com/v1_1/${Mb}/image/upload`,Eg={CLOUD_NAME:Mb,UPLOAD_PRESET:AA,UPLOAD_URL:NA};var No=class n{uploadUrl=Eg.UPLOAD_URL;constructor(){}uploadImage(e){let t=new FormData;return t.append("file",e),t.append("upload_preset",Eg.UPLOAD_PRESET),$(fetch(this.uploadUrl,{method:"POST",body:t}).then(r=>{if(!r.ok)throw new Error(`Upload failed: ${r.statusText}`);return r.json()}).then(r=>r.secure_url))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var bn=Object.create(null);bn.open="0";bn.close="1";bn.ping="2";bn.pong="3";bn.message="4";bn.upgrade="5";bn.noop="6";var na=Object.create(null);Object.keys(bn).forEach(n=>{na[bn[n]]=n});var ra={type:"error",data:"parser error"};var Ob=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Tb=typeof ArrayBuffer=="function",Pb=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,ia=({type:n,data:e},t,r)=>Ob&&e instanceof Blob?t?r(e):Sb(e,r):Tb&&(e instanceof ArrayBuffer||Pb(e))?t?r(e):Sb(new Blob([e]),r):r(bn[n]+(e||"")),Sb=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function xb(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var Dg;function Ab(n,e){if(Ob&&n.data instanceof Blob)return n.data.arrayBuffer().then(xb).then(e);if(Tb&&(n.data instanceof ArrayBuffer||Pb(n.data)))return e(xb(n.data));ia(n,!1,t=>{Dg||(Dg=new TextEncoder),e(Dg.encode(t))})}var Nb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Nb.length;n++)oa[Nb.charCodeAt(n)]=n;var Rb=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=oa[n.charCodeAt(r)],s=oa[n.charCodeAt(r+1)],a=oa[n.charCodeAt(r+2)],c=oa[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l};var RA=typeof ArrayBuffer=="function",sa=(n,e)=>{if(typeof n!="string")return{type:"message",data:kb(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:kA(n.substring(1),e)}:na[t]?n.length>1?{type:na[t],data:n.substring(1)}:{type:na[t]}:ra},kA=(n,e)=>{if(RA){let t=Rb(n);return kb(t,e)}else return{base64:!0,data:n}},kb=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var Fb="",Lb=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{ia(o,!1,a=>{r[s]=a,++i===t&&e(r.join(Fb))})})},Vb=(n,e)=>{let t=n.split(Fb),r=[];for(let i=0;i<t.length;i++){let o=sa(t[i],e);if(r.push(o),o.type==="error")break}return r};function jb(){return new TransformStream({transform(n,e){Ab(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var Mg;function Eu(n){return n.reduce((e,t)=>e+t.length,0)}function Du(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Ub(n,e){Mg||(Mg=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Eu(t)<1)break;let c=Du(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Eu(t)<2)break;let c=Du(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Eu(t)<8)break;let c=Du(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(ra);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Eu(t)<i)break;let c=Du(t,i);a.enqueue(sa(o?c:Mg.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(ra);break}}}})}var Ig=4;function Oe(n){if(n)return FA(n)}function FA(n){for(var e in Oe.prototype)n[e]=Oe.prototype[e];return n}Oe.prototype.on=Oe.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Oe.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Oe.prototype.off=Oe.prototype.removeListener=Oe.prototype.removeAllListeners=Oe.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Oe.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Oe.prototype.emitReserved=Oe.prototype.emit;Oe.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Oe.prototype.hasListeners=function(n){return!!this.listeners(n).length};var pr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Et=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Bb="arraybuffer";function Mu(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var LA=Et.setTimeout,VA=Et.clearTimeout;function gr(n,e){e.useNativeTimers?(n.setTimeoutFn=LA.bind(Et),n.clearTimeoutFn=VA.bind(Et)):(n.setTimeoutFn=Et.setTimeout.bind(Et),n.clearTimeoutFn=Et.clearTimeout.bind(Et))}var jA=1.33;function $b(n){return typeof n=="string"?UA(n):Math.ceil((n.byteLength||n.size)*jA)}function UA(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Iu(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Hb(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function zb(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Su=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},mr=class extends Oe{constructor(e){super(),this.writable=!1,gr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Su(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=sa(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=Hb(e);return t.length?"?"+t:""}};var aa=class extends mr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Vb(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Lb(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Iu()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var qb=!1;try{qb=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Gb=qb;function BA(){}var Sg=class extends aa{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},xu=(()=>{class n extends Oe{constructor(t,r,i){super(),this.createRequest=t,gr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=Mu(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=BA,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Wb);else if(typeof addEventListener=="function"){let n="onpagehide"in Et?"pagehide":"unload";addEventListener(n,Wb,!1)}}function Wb(){for(let n in xu.requests)xu.requests.hasOwnProperty(n)&&xu.requests[n].abort()}var $A=function(){let n=Qb({xdomain:!1});return n&&n.responseType!==null}(),$r=class extends Sg{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=$A&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new xu(Qb,this.uri(),e)}};function Qb(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Gb))return new XMLHttpRequest}catch{}if(!e)try{return new Et[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Kb=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Og=class extends mr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=Kb?{}:Mu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;ia(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&pr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Iu()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},xg=Et.WebSocket||Et.MozWebSocket,Hr=class extends Og{createSocket(e,t,r){return Kb?new xg(e,t,r):t?new xg(e,t):new xg(e)}doWrite(e,t){this.ws.send(t)}};var Ro=class extends mr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=Ub(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=jb();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&pr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var Tg={websocket:Hr,webtransport:Ro,polling:$r};var HA=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zA=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ko(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=HA.exec(n||""),o={},s=14;for(;s--;)o[zA[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=qA(o,o.path),o.queryKey=GA(o,o.query),o}function qA(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function GA(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var Pg=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ou=[];Pg&&addEventListener("offline",()=>{Ou.forEach(n=>n())},!1);var Tu=(()=>{class n extends Oe{constructor(t,r){if(super(),this.binaryType=Bb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=ko(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=ko(r.host).host);gr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=zb(this.opts.query)),Pg&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ou.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=Ig,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=$b(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,pr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pg&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=Ou.indexOf(this._offlineEventListener);i!==-1&&Ou.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=Ig,n})(),Pu=class extends Tu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Tu.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Tu.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let g=new Error("probe error");g.transport=t.name,this.emitReserved("upgradeError",g)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let g=new Error("probe error: "+d);g.transport=t.name,o(),this.emitReserved("upgradeError",g)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Fo=class extends Pu{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Tg[i]).filter(i=>!!i)),super(e,r)}};var A8=Fo.protocol;function Zb(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=ko(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var Lg={};NE(Lg,{Decoder:()=>kg,Encoder:()=>Rg,PacketType:()=>le,protocol:()=>tw});var QA=typeof ArrayBuffer=="function",KA=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Yb=Object.prototype.toString,ZA=typeof Blob=="function"||typeof Blob<"u"&&Yb.call(Blob)==="[object BlobConstructor]",YA=typeof File=="function"||typeof File<"u"&&Yb.call(File)==="[object FileConstructor]";function la(n){return QA&&(n instanceof ArrayBuffer||KA(n))||ZA&&n instanceof Blob||YA&&n instanceof File}function ca(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(ca(n[t]))return!0;return!1}if(la(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return ca(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&ca(n[t]))return!0;return!1}function Jb(n){let e=[],t=n.data,r=n;return r.data=Ag(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Ag(n,e){if(!n)return n;if(la(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Ag(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Ag(n[r],e));return t}return n}function Xb(n,e){return n.data=Ng(n.data,e),delete n.attachments,n}function Ng(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Ng(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Ng(n[t],e));return n}var JA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tw=5,le=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(le||{}),Rg=class{constructor(e){this.replacer=e}encode(e){return(e.type===le.EVENT||e.type===le.ACK)&&ca(e)?this.encodeAsBinary({type:e.type===le.EVENT?le.BINARY_EVENT:le.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===le.BINARY_EVENT||e.type===le.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=Jb(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};function ew(n){return Object.prototype.toString.call(n)==="[object Object]"}var kg=class n extends Oe{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===le.BINARY_EVENT;r||t.type===le.BINARY_ACK?(t.type=r?le.EVENT:le.ACK,this.reconstructor=new Fg(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(la(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(le[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===le.BINARY_EVENT||r.type===le.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case le.CONNECT:return ew(t);case le.DISCONNECT:return t===void 0;case le.CONNECT_ERROR:return typeof t=="string"||ew(t);case le.EVENT:case le.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&JA.indexOf(t[0])===-1);case le.ACK:case le.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Fg=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=Xb(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Ut(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var XA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Lo=class extends Oe{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Ut(e,"open",this.onopen.bind(this)),Ut(e,"packet",this.onpacket.bind(this)),Ut(e,"error",this.onerror.bind(this)),Ut(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(XA.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:le.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:le.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case le.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case le.EVENT:case le.BINARY_EVENT:this.onevent(e);break;case le.ACK:case le.BINARY_ACK:this.onack(e);break;case le.DISCONNECT:this.ondisconnect();break;case le.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:le.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:le.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function Mi(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Mi.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};Mi.prototype.reset=function(){this.attempts=0};Mi.prototype.setMin=function(n){this.ms=n};Mi.prototype.setMax=function(n){this.max=n};Mi.prototype.setJitter=function(n){this.jitter=n};var Vo=class extends Oe{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,gr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Mi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||Lg;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Fo(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Ut(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=Ut(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Ut(e,"ping",this.onping.bind(this)),Ut(e,"data",this.ondata.bind(this)),Ut(e,"error",this.onerror.bind(this)),Ut(e,"close",this.onclose.bind(this)),Ut(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){pr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Lo(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var ua={};function da(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=Zb(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=ua[i]&&o in ua[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Vo(r,e):(ua[i]||(ua[i]=new Vo(r,e)),c=ua[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(da,{Manager:Vo,Socket:Lo,io:da,connect:da});var jo=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var b5=rw(),eN="chat-add-msg",tN="chat-add-private-msg",nN="chat-send-msg",rN="chat-set-topic";var iN="chat-send-private-msg",oN="set-user-socket",sN="unset-user-socket",Hn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];get userService(){return this.injector.get(Me)}setup(){if(this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=rw(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=da(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection()}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(rN,e)}sendMessage(e){console.log("asdfasdasdasd"),this.socket||this.setup();let t=this.userService?.getLoggedInUser();if(console.log(`user: ${t}`),!t)return;let r={text:e};this.socket?.emit(nN,r),console.log(`user: ${t}`),console.log(`message: ${r}`)}sendPrivateMessage(e,t){this.socket||this.setup();let r=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",r),!r||!e||!t.trim()){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:r,toUserId:e,msg:t});return}let i={sender:r._id,senderName:r.username,text:t,toUserId:e};this.addToBuffer(L(w({},i),{senderName:"Me"})),console.log("\u2705 Sending private message:",i),this.socket?.emit(iN,{toUserId:e,text:t,sender:r._id,senderName:r.username})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(oN,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(eN,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(tN,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=L(w({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(sN)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(O(Ye),O(jo))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};function rw(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var fa="user",Ii="loggedInUser",iw="facebookId",ow="facebookAccessToken",Me=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._loadUsersFromDB();let r=JSON.parse(localStorage.getItem(Ii)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new ge([]);users$=this._users$.asObservable();_filterBy$=new ge("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new ge(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){$(tt.query(fa)).pipe(X(e=>{this._users$.next(this._sort(e))}),ce(this._handleError)).subscribe()}login(e,t){let r={username:e,password:t};return $(tt.login("auth/login",r)).pipe(X(i=>{this._loggedInUser$.next(i),localStorage.setItem(Ii,JSON.stringify(i)),this.socketService.login(i._id)}),ce(this._handleError))}loginWithFacebook(e){return $(tt.login("auth/facebook",e)).pipe(X(t=>{this._loggedInUser$.next(t),localStorage.setItem(Ii,JSON.stringify(t)),localStorage.setItem(iw,e.facebookId),localStorage.setItem(ow,e.accessToken),this.socketService.login(t._id)}),ce(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(Ii),localStorage.removeItem(iw),localStorage.removeItem(ow),this.socketService.logout()}getLoggedInUser(){return JSON.parse(localStorage.getItem(Ii)||"null")}loadUsers(){return $(tt.query(fa)).pipe(k(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),X(e=>this._users$.next(e)),Ze(3),ce(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(Ee(1)).subscribe()}deleteUser(e){return $(tt.remove(fa,e)).pipe(X(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),Ze(2),ce(this._handleError))}getUserById(e){return $(tt.get(fa,e)).pipe(Ze(3),ce(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=L(w({},e),{_id:this._getRandomId()});return $(tt.post("auth/signup",t)).pipe(X(r=>{let i=this._users$.value;this._users$.next([...i,r])}),Ze(3),ce(this._handleError))}_updateUser(e){return $(tt.put(fa,e)).pipe(X(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),Ze(3),ce(this._handleError))}setLoggedInUser(e){this._loggedInUser$.next(e),localStorage.setItem(Ii,JSON.stringify(e))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),We(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?$(tt.put("user/updateProfile",e)).pipe(X(t=>{this._loggedInUser$.next(t),localStorage.setItem(Ii,JSON.stringify(t))}),ce(this._handleError)):We(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Re(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return We(()=>new Error("No logged-in user found. Please log in."));let i=L(w({},r),{img:t});return this.saveUser(i).pipe(X(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o)}))}),ce(t=>(console.error("Error updating user image:",t.message||t),We(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(O(No),O(Hn))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var J=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(J||{}),zn="*";function Au(n,e){return{type:J.Trigger,name:n,definitions:e,options:{}}}function ga(n,e=null){return{type:J.Animate,styles:e,timings:n}}function sw(n,e=null){return{type:J.Sequence,steps:n,options:e}}function wn(n){return{type:J.Style,styles:n,offset:null}}function jg(n,e,t){return{type:J.State,name:n,styles:e,options:t}}function ma(n,e,t=null){return{type:J.Transition,expr:n,animation:e,options:t}}var zr=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},pa=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Nu="!";var va="contact",Dt=class n{_contacts$=new ge([]);contacts$=this._contacts$.asObservable();_filterBy$=new ge({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){$(tt.query(va)).pipe(X(e=>{this._contacts$.next(this._sort(e))}),ce(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return We(()=>new Error("Contact not found"));let i=L(w({},r),{img:t});return $(tt.put("contact/edit",i)).pipe(X(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),Ze(1),ce(o=>this._handleError(o)))}loadContacts(){return $(tt.query(va)).pipe(X(e=>{let t=this._filterBy$.value;e=e.map(r=>L(w({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),Ze(1),ce(this._handleError))}deleteContact(e){return $(tt.remove(va,e)).pipe(X(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),Ze(1),ce(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(Ee(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return $(tt.get(va,e)).pipe(Ze(1),ce(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),$(tt.put("contact/edit",e)).pipe(X(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),Ze(1),ce(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),$(tt.post(va,e)).pipe(X(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),Ze(1),ce(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),We(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var Uo=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};function Bt(n){n||(Dh(Bt),n=y(vt));let e=new K(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(Tn(e))}var ut=class n{destroyRef=y(vt);_msg=new ge(null);msg$=this._msg.asObservable().pipe(Yn());_msgQueue$=new ue;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(qt(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?A(null):(this._currentMsg=e,A(e).pipe(X(()=>this._msg.next(e)),Gt(1100),X(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(Bt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var dt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&x("click",function(o){return r.onClick(o)})}})};function aN(n,e){if(n&1&&(at(0),h(1,"h1"),m(2),f(),N(3,"img",3),ct()),n&2){let t=S();_(2),be("Hello: ",t.logdinUser.username,"!"),_(),C("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",_t)}}function cN(n,e){if(n&1){let t=Q();h(0,"h1"),m(1," Welcome!"),N(2,"br"),m(3," Please login or sign up"),N(4,"br"),h(5,"span",4),N(6,"img",5),f()(),h(7,"section",6)(8,"a",7),m(9,"Login"),f(),h(10,"a",8),m(11,"Sign Up"),f(),h(12,"button",9),x("click",function(){V(t);let i=S();return j(i.loginWithFacebook())}),N(13,"img",10),h(14,"span",11),m(15,"Login with Facebook"),f()()()}}var Ru=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=y(wu);userService=y(Me);logdinUser=this.userService.getLoggedInUser();contactService=y(Dt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(Ee(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Uo),D(ut),D(we))};static \u0275cmp=Y({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(h(0,"section",1),P(1,aN,4,2,"ng-container",2)(2,cN,16,0,"ng-template",null,0,jn),f()),t&2){let i=lt(3);_(),C("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[De,rn,dt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[Au("bounceArrow",[jg("up",wn({transform:"translateY(-10px)"})),jg("down",wn({transform:"translateY(10px)"})),ma("up <=> down",[ga("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})};var on=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new re;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(yt))};static \u0275dir=de({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})};function lN(n,e){if(n&1){let t=Q();h(0,"div",1)(1,"div",2),x("clickOutsideCapture",function(){V(t);let i=S();return j(i.cancel())}),h(2,"p"),m(3),f(),h(4,"div",3)(5,"button",4),x("click",function(){V(t);let i=S();return j(i.confirm())}),m(6,"Yes"),f(),h(7,"button",4),x("click",function(){V(t);let i=S();return j(i.cancel())}),m(8,"No"),f()()()()}if(n&2){let t=S();_(3),it(t.message)}}var Ho=class n{isVisible=!1;message="";confirmed=new re;canceled=new re;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&P(0,lN,9,1,"div",0),t&2&&C("ngIf",r.isVisible)},dependencies:[De,dt,on],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var lw=n=>({"long-name":n}),uN=n=>["/contact/edit",n],Fu=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new re;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(we),D(ut),D(Uo))};static \u0275cmp=Y({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:16,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",3,"src"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"contact-last-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(h(0,"article",0),x("click",function(){return r.onPreviewClick()}),N(1,"img",1),h(2,"div",2)(3,"h1",3),m(4),f(),h(5,"h1",4),m(6),f()(),h(7,"div",5)(8,"button",6),x("click",function(){return r.onDeleteClick()}),N(9,"img",7),f(),h(10,"button",8),x("click",function(){return r.onEditClick()}),N(11,"img",9),f(),h(12,"button",10),x("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),N(13,"img",11),f()()(),h(14,"app-modal",12),x("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),N(15,"router-outlet")),t&2&&(_(),C("src",r.contact.img?r.contact.img:"../../../assets/images/contact.png",_t),_(2),C("ngClass",go(8,lw,r.isLongName)),_(),be(" ",r.contact.name," "),_(),C("ngClass",go(10,lw,r.isLongName)),_(),be(" ",r.contact.lastName," "),_(4),C("routerLink",go(12,uN,r.contact._id)),_(4),C("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[_o,_n,rn,Ho,dt],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:300px;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 70px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0 auto;font-size:1.25rem;color:#1c284e;cursor:pointer;font-weight:700;text-align:center;min-width:100px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;min-width:unset}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]})};function fN(n,e){if(n&1){let t=Q();h(0,"contact-preview",2),x("remove",function(){let i=V(t).$implicit,o=S();return j(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;C("contact",t)}}var Lu=class n{constructor(e){this.router=e}contacts;remove=new re;destroy$=new ue;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof jt)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(we))};static \u0275cmp=Y({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(h(0,"section",0),P(1,fN,1,1,"contact-preview",1),f()),t&2&&(_(),C("ngForOf",r.contacts))},dependencies:[Co,Fu],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})};var yw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(or),D(yt))}}static{this.\u0275dir=de({type:n})}}return n})(),pN=(()=>{class n extends yw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275dir=de({type:n,features:[Zt]})}}return n})(),qg=new T("");var gN={provide:qg,useExisting:Ln(()=>sn),multi:!0};function mN(){let n=Un()?Un().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var vN=new T(""),sn=(()=>{class n extends yw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mN())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(or),D(yt),D(vN,8))}}static{this.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&x("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Je([gN]),Zt]})}}return n})();function qr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function _w(n){return n!=null&&typeof n.length=="number"}var an=new T(""),Qo=new T(""),yN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,En=class{static min(e){return _N(e)}static max(e){return CN(e)}static required(e){return Cw(e)}static requiredTrue(e){return bN(e)}static email(e){return wN(e)}static minLength(e){return bw(e)}static maxLength(e){return EN(e)}static pattern(e){return DN(e)}static nullValidator(e){return ju(e)}static compose(e){return Sw(e)}static composeAsync(e){return xw(e)}};function _N(n){return e=>{if(qr(e.value)||qr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function CN(n){return e=>{if(qr(e.value)||qr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Cw(n){return qr(n.value)?{required:!0}:null}function bN(n){return n.value===!0?null:{required:!0}}function wN(n){return qr(n.value)||yN.test(n.value)?null:{email:!0}}function bw(n){return e=>qr(e.value)||!_w(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function EN(n){return e=>_w(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function DN(n){if(!n)return ju;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(qr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function ju(n){return null}function ww(n){return n!=null}function Ew(n){return Rr(n)?$(n):n}function Dw(n){let e={};return n.forEach(t=>{e=t!=null?w(w({},e),t):e}),Object.keys(e).length===0?null:e}function Mw(n,e){return e.map(t=>t(n))}function MN(n){return!n.validate}function Iw(n){return n.map(e=>MN(e)?e:t=>e.validate(t))}function Sw(n){if(!n)return null;let e=n.filter(ww);return e.length==0?null:function(t){return Dw(Mw(t,e))}}function Gg(n){return n!=null?Sw(Iw(n)):null}function xw(n){if(!n)return null;let e=n.filter(ww);return e.length==0?null:function(t){let r=Mw(t,e).map(Ew);return ef(r).pipe(k(Dw))}}function Wg(n){return n!=null?xw(Iw(n)):null}function uw(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ow(n){return n._rawValidators}function Tw(n){return n._rawAsyncValidators}function Ug(n){return n?Array.isArray(n)?n:[n]:[]}function Uu(n,e){return Array.isArray(n)?n.includes(e):n===e}function dw(n,e){let t=Ug(e);return Ug(n).forEach(i=>{Uu(t,i)||t.push(i)}),t}function fw(n,e){return Ug(e).filter(t=>!Uu(n,t))}var Bu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vr=class extends Bu{get formDirective(){return null}get path(){return null}},Si=class extends Bu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$u=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},IN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zz=L(w({},IN),{"[class.ng-submitted]":"isSubmitted"}),qn=(()=>{class n extends $u{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Si,2))}}static{this.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Sl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Zt]})}}return n})(),Ko=(()=>{class n extends $u{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(vr,10))}}static{this.\u0275dir=de({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Sl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Zt]})}}return n})();var ya="VALID",Vu="INVALID",zo="PENDING",_a="DISABLED",Gr=class{},Hu=class extends Gr{constructor(e,t){super(),this.value=e,this.source=t}},ba=class extends Gr{constructor(e,t){super(),this.pristine=e,this.source=t}},wa=class extends Gr{constructor(e,t){super(),this.touched=e,this.source=t}},qo=class extends Gr{constructor(e,t){super(),this.status=e,this.source=t}},Bg=class extends Gr{constructor(e){super(),this.source=e}},$g=class extends Gr{constructor(e){super(),this.source=e}};function Qg(n){return(Wu(n)?n.validators:n)||null}function SN(n){return Array.isArray(n)?Gg(n):n||null}function Kg(n,e){return(Wu(e)?e.asyncValidators:n)||null}function xN(n){return Array.isArray(n)?Wg(n):n||null}function Wu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Pw(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new E(1e3,"");if(!r[t])throw new E(1001,"")}function Aw(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new E(1002,"")})}var Go=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=bi(()=>this.statusReactive()),this.statusReactive=Ci(void 0),this._pristine=bi(()=>this.pristineReactive()),this.pristineReactive=Ci(!0),this._touched=bi(()=>this.touchedReactive()),this.touchedReactive=Ci(!1),this._events=new ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kt(this.statusReactive)}set status(e){kt(()=>this.statusReactive.set(e))}get valid(){return this.status===ya}get invalid(){return this.status===Vu}get pending(){return this.status==zo}get disabled(){return this.status===_a}get enabled(){return this.status!==_a}get pristine(){return kt(this.pristineReactive)}set pristine(e){kt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return kt(this.touchedReactive)}set touched(e){kt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fw(e,this._rawAsyncValidators))}hasValidator(e){return Uu(this._rawValidators,e)}hasAsyncValidator(e){return Uu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(L(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new wa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new wa(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(L(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ba(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ba(!0,r))}markAsPending(e={}){this.status=zo;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(L(w({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_a,this.errors=null,this._forEachChild(i=>{i.disable(L(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hu(this.value,r)),this._events.next(new qo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ya,this._forEachChild(r=>{r.enable(L(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(L(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ya||this.status===zo)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hu(this.value,t)),this._events.next(new qo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(L(w({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_a:ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=zo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Ew(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new qo(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new re,this.statusChanges=new re}_calculateStatus(){return this._allControlsDisabled()?_a:this.errors?Vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zo)?zo:this._anyControlsHaveStatus(Vu)?Vu:ya}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ba(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new wa(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=SN(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xN(this._rawAsyncValidators)}},Wo=class extends Go{constructor(e,t,r){super(Qg(t),Kg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Aw(this,!0,e),Object.keys(e).forEach(r=>{Pw(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hg=class extends Wo{};var Da=new T("CallSetDisabledState",{providedIn:"root",factory:()=>Qu}),Qu="always";function Nw(n,e){return[...e.path,n]}function zu(n,e,t=Qu){Zg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),TN(n,e),AN(n,e),PN(n,e),ON(n,e)}function hw(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ON(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Zg(n,e){let t=Ow(n);e.validator!==null?n.setValidators(uw(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Tw(n);e.asyncValidator!==null?n.setAsyncValidators(uw(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();qu(e._rawValidators,i),qu(e._rawAsyncValidators,i)}function Gu(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Ow(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=Tw(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return qu(e._rawValidators,r),qu(e._rawAsyncValidators,r),t}function TN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Rw(n,e)})}function PN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Rw(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Rw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function AN(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function kw(n,e){n==null,Zg(n,e)}function NN(n,e){return Gu(n,e)}function Fw(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function RN(n){return Object.getPrototypeOf(n.constructor)===pN}function Lw(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vw(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===sn?t=o:RN(o)?r=o:i=o}),i||r||t||null}function kN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var FN={provide:vr,useExisting:Ln(()=>Ma)},Ca=Promise.resolve(),Ma=(()=>{class n extends vr{get submitted(){return kt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=bi(()=>this.submittedReactive()),this.submittedReactive=Ci(!1),this._directives=new Set,this.ngSubmit=new re,this.form=new Wo({},Gg(t),Wg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ca.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),zu(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ca.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ca.then(()=>{let r=this._findContainer(t.path),i=new Wo({});kw(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ca.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ca.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Lw(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(an,10),D(Qo,10),D(Da,8))}}static{this.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&x("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([FN]),Zt]})}}return n})();function pw(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gw(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ea=class extends Go{constructor(e=null,t,r){super(Qg(t),Kg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(gw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var LN=n=>n instanceof Ea;var VN={provide:Si,useExisting:Ln(()=>yr)},mw=Promise.resolve(),yr=(()=>{class n extends Si{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Ea,this._registered=!1,this.name="",this.update=new re,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vw(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Fw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){mw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&kr(r);mw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Nw(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(vr,9),D(an,10),D(Qo,10),D(qg,10),D(sr,8),D(Da,8))}}static{this.\u0275dir=de({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Je([VN]),Zt,gn]})}}return n})(),Zo=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var jw=new T("");var jN={provide:vr,useExisting:Ln(()=>Yg)},Yg=(()=>{class n extends vr{get submitted(){return kt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=bi(()=>this._submittedReactive()),this._submittedReactive=Ci(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new re,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return zu(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){hw(t.control||null,t,!1),kN(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Lw(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Bg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new $g(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(hw(r||null,t),LN(i)&&(zu(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);kw(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&NN(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zg(this.form,this),this._oldForm&&Gu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(an,10),D(Qo,10),D(Da,8))}}static{this.\u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&x("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([jN]),Zt,gn]})}}return n})();var UN={provide:Si,useExisting:Ln(()=>Jg)},Jg=(()=>{class n extends Si{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vw(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Fw(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Nw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(vr,13),D(an,10),D(Qo,10),D(qg,10),D(jw,8))}}static{this.\u0275dir=de({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Je([UN]),Zt,gn]})}}return n})();function BN(n){return typeof n=="number"?n:parseInt(n,10)}var Uw=(()=>{class n{constructor(){this._validator=ju}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ju,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=de({type:n,features:[gn]})}}return n})();var $N={provide:an,useExisting:Ln(()=>Xg),multi:!0};var Xg=(()=>{class n extends Uw{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=kr,this.createValidator=t=>Cw}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275dir=de({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ho("required",i._enabled?"":null)},inputs:{required:"required"},features:[Je([$N]),Zt]})}}return n})();var HN={provide:an,useExisting:Ln(()=>em),multi:!0},em=(()=>{class n extends Uw{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>BN(t),this.createValidator=t=>bw(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yi(n)))(i||n)}})()}static{this.\u0275dir=de({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ho("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Je([HN]),Zt]})}}return n})();var Bw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({})}}return n})(),zg=class extends Go{constructor(e,t,r){super(Qg(t),Kg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Aw(this,!1,e),e.forEach((r,i)=>{Pw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vw(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var $w=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return vw(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Wo(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Hg(i,r)}control(t,r,i){let o={};return this.useNonNullable?(vw(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ea(t,L(w({},o),{nonNullable:!0}))):new Ea(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new zg(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ea)return t;if(t instanceof Go)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Hw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Da,useValue:t.callSetDisabledState??Qu}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({imports:[Bw]})}}return n})(),zw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Da,useValue:t.callSetDisabledState??Qu}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({imports:[Bw]})}}return n})();function zN(n,e){if(n&1){let t=Q();h(0,"button",4),x("click",function(){V(t);let i=S();return j(i.onClearFilter())}),m(1," \u2716 "),f()}}var Ku=class n{contactService=y(Dt);filterBy;filterSubject$=new ue;destroyRef=y(vt);ngOnInit(){this.contactService.filterBy$.pipe(Bt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Yn(),Bt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),Xt("ngModelChange",function(o){return mn(r.filterBy.name,o)||(r.filterBy.name=o),o}),x("ngModelChange",function(o){return r.onSetFilter(o)}),f(),P(3,zN,2,0,"button",3),f()()),t&2&&(_(2),Jt("ngModel",r.filterBy.name),_(),C("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[De,sn,qn,yr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})};var Zu=class n{contactService=y(Dt);contacts$;destroyRef=y(vt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(Bt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"contact-filter"),N(2,"input",1),f(),h(3,"button",2),N(4,"img",3),h(5,"span"),m(6,"Add Contact"),f()(),h(7,"contact-list",4),Ct(8,"async"),x("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(_(7),C("contacts",xt(8,1,r.contacts$)))},dependencies:[rn,Lu,Ku,Ot],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})};function GN(n,e){if(n&1&&(h(0,"p")(1,"strong"),m(2,"Last Name:"),f(),m(3),f()),n&2){let t=S().ngIf;_(3),be(" ",t.lastName,"")}}function WN(n,e){if(n&1){let t=Q();h(0,"section",2),x("clickOutsideCapture",function(){V(t);let i=S();return j(i.onBack())}),h(1,"section",3)(2,"button",4),x("click",function(){V(t);let i=S();return j(i.onBack())}),N(3,"img",5),f(),h(4,"h1"),m(5,"Contact Details"),f()(),h(6,"div",6),N(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),m(11,"Name:"),f(),m(12),f(),P(13,GN,4,1,"p",9),h(14,"p")(15,"strong"),m(16,"Phone:"),f(),m(17),f(),h(18,"p")(19,"strong"),m(20,"Email:"),f(),m(21),f(),h(22,"p")(23,"strong"),m(24,"Birthday:"),f(),m(25),Ct(26,"date"),f()()()}if(n&2){let t=e.ngIf;_(7),C("src",t.img?t.img:"../../../assets/images/contact.png",_t),_(5),be(" ",t.name,""),_(),C("ngIf",t.lastName),_(4),be(" ",t.phone,""),_(4),be(" ",t.email,""),_(4),be(" ",F0(26,6,t.birthday,"longDate"),"")}}var Yu=class n{router=y(we);route=y(wt);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(k(e=>{let t=e.contact;return t&&L(w({},t),{lastName:t.lastName,birthday:t.birth})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"contact-image-container"],["alt","contact-image",3,"src"],[1,"contact-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(N(0,"div",0),P(1,WN,27,9,"section",1),Ct(2,"async"),N(3,"router-outlet")),t&2&&(_(),C("ngIf",xt(2,1,r.contact$)))},dependencies:[De,_n,dt,on,Ot,bo],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})};var Wr=class n{isLoadingSubject=new ge(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var tm=(n,e)=>{let t=n.params.id,r=y(Wr),i=y(Dt);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),A(null)):i.getById(t).pipe(Gt(250),ce(o=>(console.error("Error fetching contact:",o),A(null))),Pt(()=>r.hide()))};var Jo=class n{constructor(e){this.cloudinaryService=e}imageUploaded=new re;uploadError=new re;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedFile=t.files[0])}onUpload(){this.selectedFile&&(this.isLoading=!0,this.cloudinaryService.uploadImage(this.selectedFile).subscribe({next:e=>{console.log("Uploaded image URL:",e),this.imageUploaded.emit(e),this.isLoading=!1},error:e=>{console.error("Error uploading the image:",e),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1}}))}static \u0275fac=function(t){return new(t||n)(D(No))};static \u0275cmp=Y({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:2,consts:[[3,"submit"],["type","file",3,"change"],["type","submit",3,"disabled"]],template:function(t,r){t&1&&(h(0,"form",0),x("submit",function(){return r.onUpload()}),h(1,"label")(2,"input",1),x("change",function(o){return r.onFileSelect(o)}),f()(),h(3,"button",2),m(4),f()()),t&2&&(_(3),C("disabled",r.isLoading||!r.selectedFile),_(),be(" ",r.isLoading?"Uploading...":"Upload Image"," "))},dependencies:[Zo,Ko,Ma],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-upload[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1rem;max-width:300px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})};function KN(n,e){if(n&1){let t=Q();h(0,"button",29),x("click",function(){V(t);let i=S(2);return j(i.onDeleteClick())}),N(1,"img",30),f()}}function ZN(n,e){if(n&1){let t=Q();h(0,"img",31),x("click",function(){V(t);let i=S(2);return j(i.toggleImageUpload())}),f()}if(n&2){let t=S(2);C("src",t.contact.img,_t)}}function YN(n,e){if(n&1){let t=Q();h(0,"div",33),x("click",function(){V(t);let i=S(3);return j(i.toggleImageUpload())}),m(1),f()}if(n&2){let t=S(3);_(),be(" ",t.getInitials(t.contact.name)," ")}}function JN(n,e){if(n&1){let t=Q();h(0,"img",34),x("click",function(){V(t);let i=S(3);return j(i.toggleImageUpload())}),f()}}function XN(n,e){if(n&1&&P(0,YN,2,1,"div",32)(1,JN,1,0,"ng-template",null,1,jn),n&2){let t=lt(2),r=S(2);C("ngIf",r.contact.name)("ngIfElse",t)}}function eR(n,e){if(n&1){let t=Q();h(0,"div",35)(1,"image-upload",36),x("imageUploaded",function(i){V(t);let o=S(2);return j(o.onImageUploaded(i))})("uploadError",function(i){V(t);let o=S(2);return j(o.onUploadError(i))}),f()()}}function tR(n,e){n&1&&(h(0,"span"),m(1,"Name is required!"),f())}function nR(n,e){n&1&&(h(0,"span"),m(1,"Name must be at least 3 characters long!"),f())}function rR(n,e){if(n&1&&(h(0,"p",38),P(1,tR,2,0,"span",18)(2,nR,2,0,"span",18),f()),n&2){let t=S().ngIf;_(),C("ngIf",t.errors.required),_(),C("ngIf",t.errors.minlength)}}function iR(n,e){if(n&1&&(at(0),P(1,rR,3,2,"p",37),ct()),n&2){let t=e.ngIf;_(),C("ngIf",t.errors&&t.touched)}}function oR(n,e){n&1&&(h(0,"div",15)(1,"label",39),m(2,"Last Name"),f(),N(3,"input",40),f())}function sR(n,e){n&1&&(h(0,"span"),m(1,"Last name is required!"),f())}function aR(n,e){n&1&&(h(0,"span"),m(1,"Last name must be at least 3 characters long!"),f())}function cR(n,e){if(n&1&&(h(0,"p",38),P(1,sR,2,0,"span",18)(2,aR,2,0,"span",18),f()),n&2){let t=S().ngIf;_(),C("ngIf",t.errors.required),_(),C("ngIf",t.errors.minlength)}}function lR(n,e){if(n&1&&(at(0),P(1,cR,3,2,"p",37),ct()),n&2){let t=e.ngIf;_(),C("ngIf",t.errors&&t.touched)}}function uR(n,e){n&1&&(h(0,"span"),m(1,"Phone number is required!"),f())}function dR(n,e){n&1&&(h(0,"span"),m(1,"Phone number is not valid!"),f())}function fR(n,e){if(n&1&&(h(0,"p",38),P(1,uR,2,0,"span",18)(2,dR,2,0,"span",18),f()),n&2){let t=S().ngIf;_(),C("ngIf",t.errors.required),_(),C("ngIf",t.errors.pattern)}}function hR(n,e){if(n&1&&(at(0),P(1,fR,3,2,"p",37),ct()),n&2){let t=e.ngIf;_(),C("ngIf",t.errors&&t.touched)}}function pR(n,e){n&1&&(h(0,"span"),m(1,"Email is required!"),f())}function gR(n,e){n&1&&(h(0,"span"),m(1," Email is not valid! "),f())}function mR(n,e){if(n&1&&(h(0,"p",38),P(1,pR,2,0,"span",18)(2,gR,2,0,"span",18),f()),n&2){let t=S().ngIf;_(),C("ngIf",t.errors.required),_(),C("ngIf",!t.errors.nonEnglishLetters&&t.errors.email)}}function vR(n,e){if(n&1&&(at(0),P(1,mR,3,2,"p",37),ct()),n&2){let t=e.ngIf;_(),C("ngIf",t.errors&&t.touched)}}function yR(n,e){n&1&&(h(0,"span"),m(1,"Birth date is required!"),f())}function _R(n,e){if(n&1&&(h(0,"p",38),P(1,yR,2,0,"span",18),f()),n&2){let t=S().ngIf;_(),C("ngIf",t.errors.required)}}function CR(n,e){if(n&1&&(at(0),P(1,_R,2,1,"p",37),ct()),n&2){let t=e.ngIf;_(),C("ngIf",t.errors&&t.touched)}}function bR(n,e){if(n&1){let t=Q();h(0,"div",41)(1,"label",42)(2,"input",43),x("change",function(i){V(t);let o=S(2);return j(o.onToggleLastName(i))}),f(),N(3,"span",44),f(),h(4,"span",45),m(5,"Add Last Name"),f()()}if(n&2){let t=S(2);_(2),C("checked",t.IsLastName||t.contact.lastName)}}function wR(n,e){if(n&1){let t=Q();h(0,"div",4)(1,"section",5),x("clickOutsideCapture",function(){V(t);let i=S();return j(i.onBack())}),h(2,"section",6)(3,"a",7),N(4,"img",8),f(),P(5,KN,2,0,"button",9),f(),h(6,"div",10),P(7,ZN,1,1,"img",11)(8,XN,3,2,"ng-template",null,0,jn)(10,eR,2,0,"div",12),f(),h(11,"form",13),x("ngSubmit",function(){V(t);let i=S();return j(i.onSaveContact())}),h(12,"h2"),m(13),f(),h(14,"div",14)(15,"div",15)(16,"label",16),m(17,"Name"),f(),N(18,"input",17),f(),P(19,iR,2,1,"ng-container",18)(20,oR,4,0,"div",19)(21,lR,2,1,"ng-container",18),h(22,"div",15)(23,"label",20),m(24,"Phone"),f(),N(25,"input",21),f(),P(26,hR,2,1,"ng-container",18),h(27,"div",15)(28,"label",22),m(29,"Email"),f(),N(30,"input",23),f(),P(31,vR,2,1,"ng-container",18),h(32,"div",15)(33,"label",24),m(34,"Birth"),f(),N(35,"input",25),f(),P(36,CR,2,1,"ng-container",18),h(37,"div",26),P(38,bR,6,1,"div",27),h(39,"button",28),m(40," Save "),f()()()()()()}if(n&2){let t=lt(9),r=S();_(5),C("ngIf",r.contact._id),_(2),C("ngIf",r.contact.img)("ngIfElse",t),_(3),C("ngIf",r.showImageUpload),_(),C("formGroup",r.form),_(2),be("",r.contact._id?"Edit":"Add"," Contact"),_(6),C("ngIf",r.form.controls.name),_(),C("ngIf",r.IsLastName||r.contact.lastName),_(),C("ngIf",r.form.controls.lastName),_(5),C("ngIf",r.form.controls.phone),_(5),C("ngIf",r.form.controls.email),_(5),C("ngIf",r.form.controls.birth),_(2),C("ngIf",!r.contact.lastName),_(),C("disabled",r.form.invalid)}}var Ia=class n{constructor(e,t,r){this.fb=e;this.datePipe=t;this.msgService=r}IsLastName=!1;showImageUpload=!1;form;showDeleteModal=!1;formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}contactService=y(Dt);contact=this.contactService.getEmptyContact();router=y(we);route=y(wt);destroySubject$=new ue;ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[En.required,En.minLength(3)]],lastName:[e?this.contact.lastName:"",[En.minLength(3)]],phone:[e?this.contact.phone:"",[En.required,En.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[En.required,En.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date),[En.required]],img:[e?this.contact.img:""],_id:[e?this.contact._id:null]}),this.route.data.pipe(k(t=>t.contact),Ne(t=>!!t),Tn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue(L(w({},t),{birth:r}))})}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(Tn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=w({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),this.contactService.saveContact(e).pipe(Tn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}static \u0275fac=function(t){return new(t||n)(D($w),D(bo),D(ut))};static \u0275cmp=Y({type:n,selectors:[["contact-edit"]],features:[Je([bo])],decls:3,vars:3,consts:[["fallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"contact-image-container"],["alt","Contact Image","class","contact-image",3,"src","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","form-input",4,"ngIf"],["for","phone"],["formControlName","phone","placeholder","Phone number","id","phone"],["for","email"],["formControlName","email","placeholder","Contact Email","id","email"],["for","birthday"],["type","date","formControlName","birth","id","birthday"],["evStop","",1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],["alt","Contact Image",1,"contact-image",3,"click","src"],["class","default-avatar",3,"click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click"],["src","../../../assets/images/contact.png","alt","Default Contact Image",1,"contact-image",3,"click"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["class","errors",4,"ngIf"],[1,"errors"],["for","lastName"],["formControlName","lastName","placeholder","Contact Last Name","id","lastName"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(P(0,wR,41,14,"div",2),h(1,"section")(2,"app-modal",3),x("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(C("ngIf",r.contact),_(2),C("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[De,rn,Zo,sn,qn,Ko,Yg,Jg,Ho,dt,on,Jo],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:25em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:#bdc3c7;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:700;color:#34495e;border:3px solid #f1c40f;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px;margin-top:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}']})};function Gw(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function Ww(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(tf(200),Yn(),Re(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function Qw(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Ju=class n{validate(e){return Gw()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","appEmailValidator",""]],features:[Je([{provide:an,useExisting:n,multi:!0}])]})};var Xu=class n{constructor(e){this.userService=e}validate(e){return Ww(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Me))};static \u0275dir=de({type:n,selectors:[["","appEmailTaken",""]],features:[Je([{provide:Qo,useExisting:n,multi:!0}])]})};var ed=class n{validate(e){return Qw()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","appPasswordValidator",""]],features:[Je([{provide:an,useExisting:n,multi:!0}])]})};var td=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=de({type:n,selectors:[["","appFullNameValidator",""]],features:[Je([{provide:an,useExisting:n,multi:!0}])]})};var SR=()=>({updateOn:"change"});function xR(n,e){n&1&&(h(0,"span"),m(1,"Username is required."),f())}function OR(n,e){n&1&&(h(0,"span"),m(1," Username must be at least 3 characters long. "),f())}function TR(n,e){if(n&1&&(h(0,"div",14),P(1,xR,2,0,"span",11)(2,OR,2,0,"span",11),h(3,"span"),m(4,"Enter your full name (first name and last name)."),f()()),n&2){S();let t=lt(8);_(),C("ngIf",t.errors==null?null:t.errors.required),_(),C("ngIf",t.errors==null?null:t.errors.minlength)}}function PR(n,e){n&1&&(h(0,"span"),m(1,"Password is required."),f())}function AR(n,e){n&1&&(h(0,"span"),m(1,"Password must be at least 6 characters long."),f())}function NR(n,e){n&1&&(h(0,"span"),m(1,"Password must contain at least one capital letter."),f())}function RR(n,e){n&1&&(h(0,"span"),m(1,"Password must contain at least one special character."),f())}function kR(n,e){if(n&1&&(h(0,"div",14),P(1,PR,2,0,"span",11)(2,AR,2,0,"span",11)(3,NR,2,0,"span",11)(4,RR,2,0,"span",11),f()),n&2){S();let t=lt(14);_(),C("ngIf",t.errors==null?null:t.errors.required),_(),C("ngIf",t.errors==null?null:t.errors.minlength),_(),C("ngIf",t.errors==null?null:t.errors.noCapitalLetter),_(),C("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function FR(n,e){n&1&&(h(0,"span"),m(1,"Email is required."),f())}function LR(n,e){n&1&&(h(0,"span"),m(1,"Please enter a valid email address."),f())}function VR(n,e){n&1&&(h(0,"span"),m(1,"This email is already registered."),f())}function jR(n,e){if(n&1&&(h(0,"div",14),P(1,FR,2,0,"span",11)(2,LR,2,0,"span",11)(3,VR,2,0,"span",11),f()),n&2){S();let t=lt(4);_(),C("ngIf",t.errors==null?null:t.errors.required),_(),C("ngIf",t.errors==null?null:t.errors.email),_(),C("ngIf",t.errors==null?null:t.errors.emailTaken)}}function UR(n,e){n&1&&(h(0,"div",18),m(1," Checking email availability... "),f())}function BR(n,e){if(n&1){let t=Q();at(0),h(1,"label",15),m(2,"Email:"),f(),h(3,"input",16,3),Xt("ngModelChange",function(i){V(t);let o=S();return mn(o.user.email,i)||(o.user.email=i),j(i)}),f(),P(5,jR,4,3,"div",8)(6,UR,2,0,"div",17),N(7,"br"),ct()}if(n&2){let t=lt(4),r=S();_(3),Jt("ngModel",r.user.email),C("ngModelOptions",po(5,SR))("ngModel",r.user.email),_(2),C("ngIf",t.touched&&t.invalid),_(),C("ngIf",t.pending)}}function $R(n,e){if(n&1&&(h(0,"p",14),m(1),f()),n&2){let t=S();_(),it(t.errorMessage)}}var Sa=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=L(w({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Me),D(we),D(ut),D(wt))};static \u0275cmp=Y({type:n,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=Q();h(0,"div",4)(1,"h4"),m(2),f(),h(3,"form",5,0),x("ngSubmit",function(){return V(i),j(r.onSubmit())}),h(5,"label",6),m(6,"Username:"),f(),h(7,"input",7,1),Xt("ngModelChange",function(s){return V(i),mn(r.user.username,s)||(r.user.username=s),j(s)}),f(),P(9,TR,5,2,"div",8),N(10,"br"),h(11,"label",9),m(12,"Password:"),f(),h(13,"input",10,2),Xt("ngModelChange",function(s){return V(i),mn(r.user.password,s)||(r.user.password=s),j(s)}),f(),P(15,kR,5,4,"div",8),N(16,"br"),P(17,BR,8,6,"ng-container",11),h(18,"button",12),m(19),f(),h(20,"p"),m(21),h(22,"a",13),x("click",function(s){return V(i),r.toggleMode(),j(s.preventDefault())}),m(23),f()(),N(24,"br"),f(),P(25,$R,2,1,"p",8),f()}if(t&2){let i=lt(4),o=lt(8),s=lt(14);_(2),it(r.isSignupMode?"Create an Account":"Sign In"),_(5),Jt("ngModel",r.user.username),_(2),C("ngIf",o.touched&&o.invalid),_(4),Jt("ngModel",r.user.password),_(2),C("ngIf",s.touched&&s.invalid),_(2),C("ngIf",r.isSignupMode),_(),C("disabled",i.invalid),_(),be(" ",r.isSignupMode?"Sign Up":"Log In"," "),_(2),be(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),_(2),be(" ",r.isSignupMode?"Sign in here":"Create an account"," "),_(2),C("ngIf",r.errorMessage)}},dependencies:[De,Zo,sn,qn,Ko,Xg,em,yr,Ma,Ju,Xu,ed,td],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})};var xi=(n,e)=>{let t=y(Me),r=y(we),i=y(ut);return t.loggedInUser$.pipe(Gt(100),k(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))};var nd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(h(0,"html",0)(1,"head"),N(2,"meta",1)(3,"meta",2),h(4,"title"),m(5,"Privacy Policy - My Accounts App"),f(),N(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),m(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),m(19,"Effective Date:"),f(),m(20," 07/02/2025"),f(),h(21,"p"),m(22,"Welcome to "),h(23,"strong"),m(24,"My Accounts App"),f(),m(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),m(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),m(31,"Personal Information:"),f(),m(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),m(35,"Usage Data:"),f(),m(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),m(39,"Device Information:"),f(),m(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),m(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),m(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),m(47,"Personalize your experience."),f(),h(48,"li"),m(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),m(51,"Comply with legal requirements."),f()(),h(52,"h2"),m(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),m(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),m(59,"Service Providers:"),f(),m(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),m(63,"Legal Authorities:"),f(),m(64," When required by law or to protect our rights."),f()(),h(65,"h2"),m(66,"4. Data Retention & Security"),f(),h(67,"p"),m(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),m(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),m(73,"Access and review your personal data."),f(),h(74,"li"),m(75,"Request correction or deletion of your information."),f(),h(76,"li"),m(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),m(79,"6. Third-Party Links"),f(),h(80,"p"),m(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),m(83,"7. Changes to This Policy"),f(),h(84,"p"),m(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),m(87,"8. Contact Us"),f(),h(88,"p"),m(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),m(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}"]})};var HR=()=>[];function zR(n,e){if(n&1){let t=Q();h(0,"user-list",6),x("remove",function(i){V(t);let o=S();return j(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;C("users",(t=r)!==null&&t!==void 0?t:po(1,HR))}}function qR(n,e){if(n&1){let t=Q();h(0,"div",7),x("clickOutsideCapture",function(){V(t);let i=S();return j(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),x("click",function(){V(t);let i=S();return j(i.closeChat("group"))}),m(3,"\xD7"),f(),N(4,"app-chat",10),f()()}n&2&&(_(4),C("chatType","group"))}function GR(n,e){if(n&1){let t=Q();h(0,"div",11)(1,"div",8)(2,"span",9),x("click",function(){V(t);let i=S();return j(i.closeChat("private"))}),m(3,"\xD7"),f(),N(4,"app-chat",10),f()()}n&2&&(_(4),C("chatType","private"))}var Qr=class n{userService=y(Me);socketService=y(Hn);users$;destroyRef=y(vt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new ge(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1)})}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new ge(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.users$=this.userService.users$.pipe(Bt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["user-index"]],decls:8,vars:5,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","chat-modal",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType"],[1,"chat-modal"]],template:function(t,r){t&1&&(h(0,"section",0),N(1,"user-filter",1),P(2,zR,1,2,"user-list",2),Ct(3,"async"),f(),h(4,"button",3),x("click",function(){return r.openChat("group")}),m(5,"Group Chat"),f(),P(6,qR,5,1,"div",4)(7,GR,5,1,"div",5)),t&2&&(_(2),C("ngIf",xt(3,3,r.users$)),_(4),C("ngIf",r.isGroupChatOpen),_(),C("ngIf",r.isPrivateChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background-color:#007bff}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.group-chat-btn[_ngcontent-%COMP%]{right:100px}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})};function QR(n,e){if(n&1&&(h(0,"span"),m(1),f()),n&2){let t=S().ngIf;_(),it(t.username)}}function KR(n,e){if(n&1&&(h(0,"span"),m(1),f()),n&2){let t=S().ngIf;_(),be("",t.username.substring(0,15),"...")}}function ZR(n,e){if(n&1&&(h(0,"span"),m(1),f()),n&2){let t=S().ngIf;_(),it(t.email)}}function YR(n,e){if(n&1&&(h(0,"span"),m(1),f()),n&2){let t=S().ngIf;_(),be("",t.email.substring(0,20),"...")}}function JR(n,e){if(n&1){let t=Q();h(0,"section",2)(1,"section",3)(2,"button",4),x("click",function(){V(t);let i=S();return j(i.onBack())}),N(3,"img",5),f(),h(4,"h1"),m(5,"User Details"),f()(),h(6,"div",6),N(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),m(11,"Username:"),f(),P(12,QR,2,1,"span",9)(13,KR,2,1,"span",9),f(),h(14,"p")(15,"strong"),m(16,"Email:"),f(),P(17,ZR,2,1,"span",9)(18,YR,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=S();_(7),C("src",t.img?t.img:"../../../assets/images/contact.png",_t),_(5),C("ngIf",!r.isLongField(t.username,15)),_(),C("ngIf",r.isLongField(t.username,15)),_(4),C("ngIf",!r.isLongField(t.email,20)),_(),C("ngIf",r.isLongField(t.email,20))}}var rd=class n{router=y(we);route=y(wt);subscription;userService=y(Me);user$;ngOnInit(){this.user$=this.route.data.pipe(k(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0),x("click",function(){return r.onBack()}),f(),P(1,JR,19,5,"section",1),Ct(2,"async"),N(3,"router-outlet")),t&2&&(_(),C("ngIf",xt(2,1,r.user$)))},dependencies:[De,_n,Ot],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})};var Kw=(n,e)=>{let t=n.params.id,r=y(Wr),i=y(Me);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),A(null)):i.getUserById(t).pipe(Gt(250),ce(o=>(console.error("Error fetching user:",o),A(null))),Pt(()=>r.hide()))};var XR=[{path:"contact",component:Zu,canActivate:[xi],children:[{path:"edit",component:Ia,canActivate:[xi]},{path:"edit/:id",component:Ia,resolve:{contact:tm},canActivate:[xi]}]},{path:"contact/:id",component:Yu,outlet:"modal",resolve:{contact:tm},canActivate:[xi]},{path:"login",component:Sa},{path:"signup",component:Sa},{path:"privacy-policy",component:nd},{path:"users",component:Qr,canActivate:[xi]},{path:"user/:id",component:rd,outlet:"modal",resolve:{user:Kw},canActivate:[xi]},{path:"",component:Ru}],id=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=je({type:n});static \u0275inj=Ve({imports:[bg.forRoot(XR,{useHash:!1}),bg]})};var ek=()=>({exact:!0});function tk(n,e){n&1&&(at(0),h(1,"a",15),m(2,"Login"),f(),h(3,"a",16),m(4,"Sign Up"),f(),ct())}function nk(n,e){if(n&1&&(at(0),N(1,"img",19),ct()),n&2){let t=S(2);_(),C("src",t.loggedInUser==null?null:t.loggedInUser.img,_t)}}function rk(n,e){if(n&1&&m(0),n&2){let t=S(2);be(" ",t.getUserInitial()," ")}}function ik(n,e){if(n&1){let t=Q();h(0,"div",17),x("click",function(){V(t);let i=S();return j(i.toggleUpload=!i.toggleUpload)}),P(1,nk,2,1,"ng-container",13)(2,rk,1,1,"ng-template",null,1,jn),f(),h(4,"button",18),x("click",function(){V(t);let i=S();return j(i.onLogout())}),m(5,"Logout"),f()}if(n&2){let t=lt(3),r=S();_(),C("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function ok(n,e){if(n&1){let t=Q();h(0,"div")(1,"image-upload",20),x("imageUploaded",function(i){V(t);let o=S();return j(o.onImageUploaded(i))}),f()()}}var od=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=L(w({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Me),D(we),D(ut))};static \u0275cmp=Y({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(h(0,"header")(1,"div",2),N(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),N(6,"img",6),f(),h(7,"a",7),N(8,"img",8),f(),h(9,"a",9),N(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),P(13,tk,5,0,"ng-container",13)(14,ik,6,2,"ng-template",null,0,jn),f()(),P(16,ok,2,0,"div",14),f()),t&2){let i=lt(15);_(5),C("routerLinkActiveOptions",po(4,ek)),_(8),C("ngIf",!r.loggedInUser)("ngIfElse",i),_(3),C("ngIf",r.toggleUpload)}},dependencies:[De,rn,bb,Jo],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})};function ak(n,e){n&1&&(h(0,"div",1),N(1,"div",2),f())}var sd=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Wr))};static \u0275cmp=Y({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(P(0,ak,2,0,"div",0),Ct(1,"async")),t&2&&C("ngIf",xt(1,1,r.isLoading))},dependencies:[De,Ot],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function lk(n,e){if(n&1){let t=Q();h(0,"section")(1,"h4"),m(2),f(),h(3,"button",1),x("click",function(){V(t);let i=S();return j(i.onCloseMsg())}),m(4,"X"),f()()}if(n&2){let t=e.ngIf;I0("msg ",t.type,""),C("@toggleMsg",void 0),_(2),it(t.txt)}}var ad=class n{constructor(e){this.msgService=e}msg$=A(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(ut))};static \u0275cmp=Y({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(P(0,lk,5,5,"section",0),Ct(1,"async")),t&2&&C("ngIf",xt(1,1,r.msg$))},dependencies:[De,Ot],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[Au("toggleMsg",[ma(":enter",[wn({transform:"translateY(-100%)"}),ga("0.3s ease-in-out",wn({transform:"translateY(0%)"}))]),ma(":leave",[wn({transform:"translateY(0%)"}),ga("0.3s ease-in-out",wn({transform:"translateY(-100%)"}))])])]}})};var cd=class n{title="misterBITcoin";contactService=y(Dt);subscription;ngOnInit(){this.subscription=this.contactService.loadContacts().pipe(Ee(1)).subscribe({error:e=>console.log("err:",e)})}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"main-layout"],["name","modal"]],template:function(t,r){t&1&&(h(0,"main",0),N(1,"app-header")(2,"router-outlet")(3,"router-outlet")(4,"app-loader")(5,"router-outlet",1),f(),N(6,"msg"))},dependencies:[_n,od,sd,ad]})};function Zw(n){return new E(3e3,!1)}function dk(){return new E(3100,!1)}function fk(){return new E(3101,!1)}function hk(n){return new E(3001,!1)}function pk(n){return new E(3003,!1)}function gk(n){return new E(3004,!1)}function mk(n,e){return new E(3005,!1)}function vk(){return new E(3006,!1)}function yk(){return new E(3007,!1)}function _k(n,e){return new E(3008,!1)}function Ck(n){return new E(3002,!1)}function bk(n,e,t,r,i){return new E(3010,!1)}function wk(){return new E(3011,!1)}function Ek(){return new E(3012,!1)}function Dk(){return new E(3200,!1)}function Mk(){return new E(3202,!1)}function Ik(){return new E(3013,!1)}function Sk(n){return new E(3014,!1)}function xk(n){return new E(3015,!1)}function Ok(n){return new E(3016,!1)}function Tk(n,e){return new E(3404,!1)}function Pk(n){return new E(3502,!1)}function Ak(n){return new E(3503,!1)}function Nk(){return new E(3300,!1)}function Rk(n){return new E(3504,!1)}function kk(n){return new E(3301,!1)}function Fk(n,e){return new E(3302,!1)}function Lk(n){return new E(3303,!1)}function Vk(n,e){return new E(3400,!1)}function jk(n){return new E(3401,!1)}function Uk(n){return new E(3402,!1)}function Bk(n,e){return new E(3505,!1)}function Kr(n){switch(n.length){case 0:return new zr;case 1:return n[0];default:return new pa(n)}}function uE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((g,p)=>{let v=p,b=g;if(p!=="offset")switch(v=n.normalizePropertyName(v,i),b){case Nu:b=t.get(p);break;case zn:b=r.get(p);break;default:b=n.normalizeStyleValue(p,v,b,i);break}d.set(v,b)}),u||o.push(d),a=d,s=l}),i.length)throw Pk(i);return o}function Dm(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&nm(t,"start",n)));break;case"done":n.onDone(()=>r(t&&nm(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&nm(t,"destroy",n)));break}}function nm(n,e,t){let r=t.totalTime,i=!!t.disabled,o=Mm(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function Mm(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ht(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Yw(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var $k=typeof document>"u"?null:document.documentElement;function Im(n){let e=n.parentNode||n.host||null;return e===$k?null:e}function Hk(n){return n.substring(1,6)=="ebkit"}var Oi=null,Jw=!1;function zk(n){Oi||(Oi=qk()||{},Jw=Oi.style?"WebkitAppearance"in Oi.style:!1);let e=!0;return Oi.style&&!Hk(n)&&(e=n in Oi.style,!e&&Jw&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Oi.style)),e}function qk(){return typeof document<"u"?document.body:null}function dE(n,e){for(;e;){if(e===n)return!0;e=Im(e)}return!1}function fE(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Sm=(()=>{class n{validateStyleProperty(t){return zk(t)}containsElement(t,r){return dE(t,r)}getParentElement(t){return Im(t)}query(t,r,i){return fE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new zr(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),Ai=class{static{this.NOOP=new Sm}},Ni=class{};var Gk=1e3,hE="{{",Wk="}}",pE="ng-enter",cm="ng-leave",ld="ng-trigger",pd=".ng-trigger",Xw="ng-animating",lm=".ng-animating";function _r(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:um(parseFloat(e[1]),e[2])}function um(n,e){switch(e){case"s":return n*Gk;default:return n}}function gd(n,e,t){return n.hasOwnProperty("duration")?n:Qk(n,e,t)}function Qk(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(Zw(n)),{duration:0,delay:0,easing:""};i=um(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=um(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(dk()),a=!0),o<0&&(e.push(fk()),a=!0),a&&e.splice(c,0,Zw(n))}return{duration:i,delay:o,easing:s}}function Kk(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Gn(n,e,t){e.forEach((r,i)=>{let o=xm(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Pi(n,e){e.forEach((t,r)=>{let i=xm(r);n.style[i]=""})}function xa(n){return Array.isArray(n)?n.length==1?n[0]:sw(n):n}function Zk(n,e,t){let r=e.params||{},i=gE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(hk(o))})}var dm=new RegExp(`${hE}\\s*(.+?)\\s*${Wk}`,"g");function gE(n){let e=[];if(typeof n=="string"){let t;for(;t=dm.exec(n);)e.push(t[1]);dm.lastIndex=0}return e}function Ta(n,e,t){let r=`${n}`,i=r.replace(dm,(o,s)=>{let a=e[s];return a==null&&(t.push(pk(s)),a=""),a.toString()});return i==r?n:i}var Yk=/-+([a-z0-9])/g;function xm(n){return n.replace(Yk,(...e)=>e[1].toUpperCase())}function Jk(n,e){return n===0||e===0}function Xk(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Om(n,a)))}}return e}function $t(n,e,t){switch(e.type){case J.Trigger:return n.visitTrigger(e,t);case J.State:return n.visitState(e,t);case J.Transition:return n.visitTransition(e,t);case J.Sequence:return n.visitSequence(e,t);case J.Group:return n.visitGroup(e,t);case J.Animate:return n.visitAnimate(e,t);case J.Keyframes:return n.visitKeyframes(e,t);case J.Style:return n.visitStyle(e,t);case J.Reference:return n.visitReference(e,t);case J.AnimateChild:return n.visitAnimateChild(e,t);case J.AnimateRef:return n.visitAnimateRef(e,t);case J.Query:return n.visitQuery(e,t);case J.Stagger:return n.visitStagger(e,t);default:throw gk(e.type)}}function Om(n,e){return window.getComputedStyle(n)[e]}var eF=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),md=class extends Ni{normalizePropertyName(e,t){return xm(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(eF.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(mk(e,r))}return s+o}};var vd="*";function tF(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>nF(r,t,e)):t.push(n),t}function nF(n,e,t){if(n[0]==":"){let c=rF(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(xk(n)),e;let i=r[1],o=r[2],s=r[3];e.push(eE(i,s));let a=i==vd&&s==vd;o[0]=="<"&&!a&&e.push(eE(s,i))}function rF(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Ok(n)),"* => *"}}var ud=new Set(["true","1"]),dd=new Set(["false","0"]);function eE(n,e){let t=ud.has(n)||dd.has(n),r=ud.has(e)||dd.has(e);return(i,o)=>{let s=n==vd||n==i,a=e==vd||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?ud.has(n):dd.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?ud.has(e):dd.has(e)),s&&a}}var mE=":self",iF=new RegExp(`s*${mE}s*,?`,"g");function vE(n,e,t,r){return new fm(n).build(e,t,r)}var tE="",fm=class{constructor(e){this._driver=e}build(e,t,r){let i=new hm(t);return this._resetContextStyleTimingState(i),$t(this,xa(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=tE,e.collectedStyles=new Map,e.collectedStyles.set(tE,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(vk()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==J.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==J.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(yk())}),{type:J.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{gE(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(_k(e.name,[...o.values()]))}return{type:J.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=$t(this,xa(e.animation),t),i=tF(e.expr,t.errors);return{type:J.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ti(e.options)}}visitSequence(e,t){return{type:J.Sequence,steps:e.steps.map(r=>$t(this,r,t)),options:Ti(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=$t(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:J.Group,steps:o,options:Ti(e.options)}}visitAnimate(e,t){let r=cF(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:wn({});if(o.type==J.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=wn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:J.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===zn?r.push(a):t.errors.push(Ck(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(hE)>=0){o=!0;break}}}),{type:J.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(bk(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&Zk(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:J.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(wk()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(F=>{let ne=this._makeStyleAst(F,t),z=ne.offset!=null?ne.offset:aF(ne.styles),ae=0;return z!=null&&(o++,ae=ne.offset=z),c=c||ae<0||ae>1,a=a||ae<l,l=ae,s.push(ae),ne});c&&t.errors.push(Ek()),a&&t.errors.push(Dk());let d=e.steps.length,g=0;o>0&&o<d?t.errors.push(Mk()):o==0&&(g=i/(d-1));let p=d-1,v=t.currentTime,b=t.currentAnimateTimings,I=b.duration;return u.forEach((F,ne)=>{let z=g>0?ne==p?1:g*ne:s[ne],ae=z*I;t.currentTime=v+b.delay+ae,b.duration=ae,this._validateStyleAst(F,t),F.offset=z,r.styles.push(F)}),r}visitReference(e,t){return{type:J.Reference,animation:$t(this,xa(e.animation),t),options:Ti(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:J.AnimateChild,options:Ti(e.options)}}visitAnimateRef(e,t){return{type:J.AnimateRef,animation:this.visitReference(e.animation,t),options:Ti(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=oF(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ht(t.collectedStyles,t.currentQuerySelector,new Map);let a=$t(this,xa(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:J.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ti(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Ik());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:gd(e.timings,t.errors,!0);return{type:J.Stagger,animation:$t(this,xa(e.animation),t),timings:r,options:null}}};function oF(n){let e=!!n.split(/\s*,\s*/).find(t=>t==mE);return e&&(n=n.replace(iF,"")),n=n.replace(/@\*/g,pd).replace(/@\w+/g,t=>pd+"-"+t.slice(1)).replace(/:animating/g,lm),[n,e]}function sF(n){return n?w({},n):null}var hm=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function aF(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function cF(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=gd(n,e).duration;return rm(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=rm(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=gd(t,e);return rm(i.duration,i.delay,i.easing)}function Ti(n){return n?(n=w({},n),n.params&&(n.params=sF(n.params))):n={},n}function rm(n,e,t){return{duration:n,delay:e,easing:t}}function Tm(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Pa=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},lF=1,uF=":enter",dF=new RegExp(uF,"g"),fF=":leave",hF=new RegExp(fF,"g");function yE(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new pm().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var pm=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Pa;let d=new gm(e,t,l,i,o,u,[]);d.options=c;let g=c.delay?_r(c.delay):0;d.currentTimeline.delayNextStep(g),d.currentTimeline.setStyles([s],null,d.errors,c),$t(this,r,d);let p=d.timelines.filter(v=>v.containsAnimation());if(p.length&&a.size){let v;for(let b=p.length-1;b>=0;b--){let I=p[b];if(I.element===t){v=I;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,c)}return p.length?p.map(v=>v.buildKeyframes()):[Tm(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:_r(Ta(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?_r(r.duration):null,a=r.delay!=null?_r(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),$t(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==J.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yd);let s=_r(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>$t(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?_r(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),$t(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Ta(r,t.params,t.errors):r;return gd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==J.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?_r(i.delay):0;o&&(t.previousNode.type===J.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yd);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),$t(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let g=d.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;$t(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},yd={},gm=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new _d(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=_r(r.duration)),r.delay!=null&&(i.delay=_r(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ta(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=yd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new mm(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(dF,"."+this._enterClassName),e=e.replace(hF,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(Sk(t)),a}},_d=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=lF,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||zn),this._currentKeyframe.set(t,zn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=pF(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Ta(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Nu?e.add(d):u===zn&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Tm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},mm=class extends _d{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",nE(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let g=new Map(e[d]),p=g.get("offset"),v=t+p*r;g.set("offset",nE(v/s)),o.push(g)}r=s,t=0,i="",e=o}return Tm(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function nE(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function pF(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,zn)}else for(let[o,s]of i)t.set(o,s)}),t}function rE(n,e,t,r,i,o,s,a,c,l,u,d,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:g}}var im={},Cd=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return gF(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],g=this.ast.options&&this.ast.options.params||im,p=a&&a.params||im,v=this.buildStyles(r,p,d),b=c&&c.params||im,I=this.buildStyles(i,b,d),F=new Set,ne=new Map,z=new Map,ae=i==="void",Fe={params:_E(b,g),delay:this.ast.options?.delay},ye=u?[]:yE(e,t,this.ast.animation,o,s,v,I,Fe,l,d),Te=0;return ye.forEach(Qe=>{Te=Math.max(Qe.duration+Qe.delay,Te)}),d.length?rE(t,this._triggerName,r,i,ae,v,I,[],[],ne,z,Te,d):(ye.forEach(Qe=>{let Wn=Qe.element,Ri=Ht(ne,Wn,new Set);Qe.preStyleProps.forEach(Zr=>Ri.add(Zr));let Pm=Ht(z,Wn,new Set);Qe.postStyleProps.forEach(Zr=>Pm.add(Zr)),Wn!==t&&F.add(Wn)}),rE(t,this._triggerName,r,i,ae,v,I,ye,[...F.values()],ne,z,Te))}};function gF(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function _E(n,e){let t=w({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var vm=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=_E(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Ta(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function mF(n,e,t){return new ym(n,e,t)}var ym=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new vm(i.style,o,r))}),iE(this.states,"true","1"),iE(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Cd(e,i,this.states))}),this.fallbackTransition=vF(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function vF(n,e,t){let r=[(s,a)=>!0],i={type:J.Sequence,steps:[],options:null},o={type:J.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Cd(n,o,e)}function iE(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var yF=new Pa,_m=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=vE(this._driver,t,r,i);if(r.length)throw Ak(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=uE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=yE(this._driver,t,o,pE,cm,new Map,new Map,r,yF,i),s.forEach(u=>{let d=Ht(a,u.element,new Map);u.postStyleProps.forEach(g=>d.set(g,null))})):(i.push(Nk()),s=[]),i.length)throw Rk(i);a.forEach((u,d)=>{u.forEach((g,p)=>{u.set(p,this._driver.computeStyle(d,p,zn))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Kr(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw kk(e);return t}listen(e,t,r,i){let o=Mm(t,"","","");return Dm(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},oE="ng-animate-queued",_F=".ng-animate-queued",om="ng-animate-disabled",CF=".ng-animate-disabled",bF="ng-star-inserted",wF=".ng-star-inserted",EF=[],CE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dn="__ng_removed",Aa=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=IF(i),r){let o=e,{value:s}=o,a=Rd(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Oa="void",sm=new Aa(Oa),Cm=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,cn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Fk(r,t);if(r==null||r.length==0)throw Lk(t);if(!SF(r))throw Vk(r,t);let o=Ht(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Ht(this._engine.statesByElement,e,new Map);return a.has(t)||(cn(e,ld),cn(e,ld+"-"+t),a.set(t,sm)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw jk(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Na(this.id,t,e),a=this._engine.statesByElement.get(e);a||(cn(e,ld),cn(e,ld+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Aa(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=sm),!(l.value===Oa)&&c.value===l.value){if(!TF(c.params,l.params)){let b=[],I=o.matchStyles(c.value,c.params,b),F=o.matchStyles(l.value,l.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Pi(e,I),Gn(e,F)})}return}let g=Ht(this._engine.playersByElement,e,[]);g.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let p=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!p){if(!i)return;p=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(cn(e,oE),s.onStart(()=>{Xo(e,oE)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let I=this._engine.playersByElement.get(e);if(I){let F=I.indexOf(s);F>=0&&I.splice(F,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,pd,!0);r.forEach(i=>{if(i[Dn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Oa,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Kr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||sm,u=new Aa(Oa),d=new Na(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Dn];(!o||o===CE)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){cn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Mm(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Dm(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},bm=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Cm(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(fd(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!fd(t))return;let o=t[Dn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cn(e,om)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xo(e,om))}removeNode(e,t,r){if(fd(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Dn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return fd(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,pd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,lm,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Dn];if(t&&t.setForRemoval){if(e[Dn]=CE,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(om)&&this.markElementAsDisabled(e,!1),this.driver.query(e,CF,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];cn(i,bF)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Kr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Uk(e)}_flushAnimations(e,t){let r=new Pa,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(R=>{u.add(R);let B=this.driver.query(R,_F,!0);for(let H=0;H<B.length;H++)u.add(B[H])});let d=this.bodyNode,g=Array.from(this.statesByElement.keys()),p=cE(g,this.collectedEnterElements),v=new Map,b=0;p.forEach((R,B)=>{let H=pE+b++;v.set(B,H),R.forEach(fe=>cn(fe,H))});let I=[],F=new Set,ne=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let B=this.collectedLeaveElements[R],H=B[Dn];H&&H.setForRemoval&&(I.push(B),F.add(B),H.hasAnimation?this.driver.query(B,wF,!0).forEach(fe=>F.add(fe)):ne.add(B))}let z=new Map,ae=cE(g,Array.from(F));ae.forEach((R,B)=>{let H=cm+b++;z.set(B,H),R.forEach(fe=>cn(fe,H))}),e.push(()=>{p.forEach((R,B)=>{let H=v.get(B);R.forEach(fe=>Xo(fe,H))}),ae.forEach((R,B)=>{let H=z.get(B);R.forEach(fe=>Xo(fe,H))}),I.forEach(R=>{this.processLeaveNode(R)})});let Fe=[],ye=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(t).forEach(H=>{let fe=H.player,Ke=H.element;if(Fe.push(fe),this.collectedEnterElements.length){let ot=Ke[Dn];if(ot&&ot.setForMove){if(ot.previousTriggersValues&&ot.previousTriggersValues.has(H.triggerName)){let Yr=ot.previousTriggersValues.get(H.triggerName),zt=this.statesByElement.get(H.element);if(zt&&zt.has(H.triggerName)){let Fa=zt.get(H.triggerName);Fa.value=Yr,zt.set(H.triggerName,Fa)}}fe.destroy();return}}let Mn=!d||!this.driver.containsElement(d,Ke),Tt=z.get(Ke),Cr=v.get(Ke),ke=this._buildInstruction(H,r,Cr,Tt,Mn);if(ke.errors&&ke.errors.length){ye.push(ke);return}if(Mn){fe.onStart(()=>Pi(Ke,ke.fromStyles)),fe.onDestroy(()=>Gn(Ke,ke.toStyles)),i.push(fe);return}if(H.isFallbackTransition){fe.onStart(()=>Pi(Ke,ke.fromStyles)),fe.onDestroy(()=>Gn(Ke,ke.toStyles)),i.push(fe);return}let Rm=[];ke.timelines.forEach(ot=>{ot.stretchStartingKeyframe=!0,this.disabledNodes.has(ot.element)||Rm.push(ot)}),ke.timelines=Rm,r.append(Ke,ke.timelines);let TE={instruction:ke,player:fe,element:Ke};s.push(TE),ke.queriedElements.forEach(ot=>Ht(a,ot,[]).push(fe)),ke.preStyleProps.forEach((ot,Yr)=>{if(ot.size){let zt=c.get(Yr);zt||c.set(Yr,zt=new Set),ot.forEach((Fa,Nd)=>zt.add(Nd))}}),ke.postStyleProps.forEach((ot,Yr)=>{let zt=l.get(Yr);zt||l.set(Yr,zt=new Set),ot.forEach((Fa,Nd)=>zt.add(Nd))})});if(ye.length){let R=[];ye.forEach(B=>{R.push(Bk(B.triggerName,B.errors))}),Fe.forEach(B=>B.destroy()),this.reportError(R)}let Te=new Map,Qe=new Map;s.forEach(R=>{let B=R.element;r.has(B)&&(Qe.set(B,B),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,Te))}),i.forEach(R=>{let B=R.element;this._getPreviousPlayers(B,!1,R.namespaceId,R.triggerName,null).forEach(fe=>{Ht(Te,B,[]).push(fe),fe.destroy()})});let Wn=I.filter(R=>lE(R,c,l)),Ri=new Map;aE(Ri,this.driver,ne,l,zn).forEach(R=>{lE(R,c,l)&&Wn.push(R)});let Zr=new Map;p.forEach((R,B)=>{aE(Zr,this.driver,new Set(R),c,Nu)}),Wn.forEach(R=>{let B=Ri.get(R),H=Zr.get(R);Ri.set(R,new Map([...B?.entries()??[],...H?.entries()??[]]))});let Ad=[],Am=[],Nm={};s.forEach(R=>{let{element:B,player:H,instruction:fe}=R;if(r.has(B)){if(u.has(B)){H.onDestroy(()=>Gn(B,fe.toStyles)),H.disabled=!0,H.overrideTotalTime(fe.totalTime),i.push(H);return}let Ke=Nm;if(Qe.size>1){let Tt=B,Cr=[];for(;Tt=Tt.parentNode;){let ke=Qe.get(Tt);if(ke){Ke=ke;break}Cr.push(Tt)}Cr.forEach(ke=>Qe.set(ke,Ke))}let Mn=this._buildAnimation(H.namespaceId,fe,Te,o,Zr,Ri);if(H.setRealPlayer(Mn),Ke===Nm)Ad.push(H);else{let Tt=this.playersByElement.get(Ke);Tt&&Tt.length&&(H.parentPlayer=Kr(Tt)),i.push(H)}}else Pi(B,fe.fromStyles),H.onDestroy(()=>Gn(B,fe.toStyles)),Am.push(H),u.has(B)&&i.push(H)}),Am.forEach(R=>{let B=o.get(R.element);if(B&&B.length){let H=Kr(B);R.setRealPlayer(H)}}),i.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<I.length;R++){let B=I[R],H=B[Dn];if(Xo(B,cm),H&&H.hasAnimation)continue;let fe=[];if(a.size){let Mn=a.get(B);Mn&&Mn.length&&fe.push(...Mn);let Tt=this.driver.query(B,lm,!0);for(let Cr=0;Cr<Tt.length;Cr++){let ke=a.get(Tt[Cr]);ke&&ke.length&&fe.push(...ke)}}let Ke=fe.filter(Mn=>!Mn.destroyed);Ke.length?xF(this,B,Ke):this.processLeaveNode(B)}return I.length=0,Ad.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let B=this.players.indexOf(R);this.players.splice(B,1)}),R.play()}),Ad}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Oa;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=Ht(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(p=>{let v=p.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),p.destroy(),d.push(p)})}Pi(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,g=t.timelines.map(v=>{let b=v.element;u.add(b);let I=b[Dn];if(I&&I.removedBeforeQueried)return new zr(v.duration,v.delay);let F=b!==c,ne=OF((r.get(b)||EF).map(Te=>Te.getRealPlayer())).filter(Te=>{let Qe=Te;return Qe.element?Qe.element===b:!1}),z=o.get(b),ae=s.get(b),Fe=uE(this._normalizer,v.keyframes,z,ae),ye=this._buildPlayer(v,Fe,ne);if(v.subTimeline&&i&&d.add(b),F){let Te=new Na(e,a,b);Te.setRealPlayer(ye),l.push(Te)}return ye});l.forEach(v=>{Ht(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>MF(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>cn(v,Xw));let p=Kr(g);return p.onDestroy(()=>{u.forEach(v=>Xo(v,Xw)),Gn(c,t.toStyles)}),d.forEach(v=>{Ht(i,v,[]).push(p)}),p}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new zr(e.duration,e.delay)}},Na=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new zr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Dm(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ht(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function MF(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function IF(n){return n??null}function fd(n){return n&&n.nodeType===1}function SF(n){return n=="start"||n=="done"}function sE(n,e){let t=n.style.display;return n.style.display=e??"none",t}function aE(n,e,t,r,i){let o=[];t.forEach(c=>o.push(sE(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let g=e.computeStyle(l,d,i);u.set(d,g),(!g||g.length==0)&&(l[Dn]=DF,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>sE(c,o[a++])),s}function cE(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function cn(n,e){n.classList?.add(e)}function Xo(n,e){n.classList?.remove(e)}function xF(n,e,t){Kr(t).onDone(()=>n.processLeaveNode(e))}function OF(n){let e=[];return bE(n,e),e}function bE(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof pa?bE(r.players,e):e.push(r)}}function TF(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function lE(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var es=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new bm(e.body,t,r),this._timelineEngine=new _m(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=vE(this._driver,o,c,l);if(c.length)throw Tk(i,c);l.length&&void 0,a=mF(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Yw(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Yw(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function PF(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=am(e[0]),e.length>1&&(r=am(e[e.length-1]))):e instanceof Map&&(t=am(e)),t||r?new wm(n,t,r):null}var wm=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Gn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gn(this._element,this._initialStyles),this._endStyles&&(Gn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pi(this._element,this._endStyles),this._endStyles=null),Gn(this._element,this._initialStyles),this._state=3)}};function am(n){let e=null;return n.forEach((t,r)=>{AF(r)&&(e=e||new Map,e.set(r,t))}),e}function AF(n){return n==="display"||n==="position"}var bd=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Om(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},wd=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return dE(e,t)}getParentElement(e){return Im(e)}query(e,t,r){return fE(e,t,r)}computeStyle(e,t,r){return Om(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(p=>p instanceof bd);Jk(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((v,b)=>l.set(b,v))});let d=Kk(t).map(p=>new Map(p));d=Xk(e,d,l);let g=PF(e,d);return new bd(e,d,c,g)}};var hd="@",wE="@.disabled",Ed=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==hd&&t==wE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Em=class extends Ed{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==hd?t.charAt(1)=="."&&t==wE?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==hd){let i=NF(e),o=t.slice(1),s="";return o.charAt(0)!=hd&&([o,s]=RF(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};function NF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function RF(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Dd=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Ed(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Em(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var FF=(()=>{class n extends es{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(O(Xe),O(Ai),O(Ni))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})();function LF(){return new md}function VF(n,e,t){return new Dd(n,e,t)}var DE=[{provide:Ni,useFactory:LF},{provide:es,useClass:FF},{provide:Tr,useFactory:VF,deps:[Xl,es,pe]}],EE=[{provide:Ai,useFactory:()=>new wd},{provide:Vh,useValue:"BrowserAnimations"},...DE],jF=[{provide:Ai,useClass:Sm},{provide:Vh,useValue:"NoopAnimations"},...DE],ME=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?jF:EE}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({providers:EE,imports:[tu]})}}return n})();var Md=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var ka="Service workers are disabled or not supported by this browser";function BF(n){return ni(()=>We(new Error(n)))}var ts=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=BF(ka);else{let r=zi(e,"controllerchange").pipe(k(()=>e.controller)),i=ni(()=>A(e.controller)),o=xn(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(Re(()=>e.getRegistration()));let l=zi(e,"message").pipe(k(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(of());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(Ee(1),X(r=>{r.postMessage(w({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ee(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),Ee(1),k(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Id=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ue,!t.isEnabled){this.messages=ri,this.notificationClicks=ri,this.subscription=ri;return}this.messages=this.sw.eventsOfType("PUSH").pipe(k(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(k(i=>i.data)),this.pushManager=this.sw.registration.pipe(k(i=>i.pushManager));let r=this.pushManager.pipe(Re(i=>i.getSubscription()));this.subscription=pc(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(ka));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Re(s=>s.subscribe(r)),Ee(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(ka));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Ee(1),Re(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(O(ts))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})(),xE=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=ri,this.unrecoverable=ri;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ka));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ka));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(O(ts))}}static{this.\u0275prov=M({token:n,factory:n.\u0275fac})}}return n})();var IE=new T("");function $F(n,e,t,r){return()=>{if(!(Gl(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(pe),o=n.get(en);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=A(null);break;case"registerWithDelay":s=SE(+c[0]||0);break;case"registerWhenStable":let l=$(n.get(en).whenStable());s=c[0]?pc(l,SE(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(Ee(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function SE(n){return A(null).pipe(Gt(n))}function HF(n,e){return new ts(Gl(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}var Ra=class{};function zF(n,e={}){return co([Id,xE,{provide:IE,useValue:n},{provide:Ra,useValue:e},{provide:ts,useFactory:HF,deps:[Ra,Rt]},{provide:mo,useFactory:$F,deps:[Ye,IE,Ra,Rt],multi:!0}])}var OE=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[zF(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=je({type:n})}static{this.\u0275inj=Ve({providers:[Id,xE]})}}return n})();var Sd=class n{constructor(e,t){this.swPush=e;this.http=t}VAPID_PUBLIC_KEY=$n.notifications.vapidPublicKey;sendNotification(e){return Be(this,null,function*(){if(!this.swPush.isEnabled){console.warn("Push notifications are not enabled");return}try{let t=yield this.swPush.subscription.toPromise();if(!t)throw new Error("No subscription found");yield this.http.post("/api/notifications/send",{subscription:t,notification:L(w({},e),{vibrate:e.vibrate||[200,100,200],requireInteraction:e.requireInteraction??!0,badge:e.badge||e.icon||"/assets/notification-badge.png",tag:e.tag||"message"})}).toPromise()}catch(t){throw console.error("Error sending notification:",t),t}})}requestSubscription(){return Be(this,null,function*(){try{if(!this.swPush.isEnabled){console.warn("Push notifications are not enabled");return}let e=yield this.swPush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY});return yield this.http.post("/api/notifications/subscribe",e).toPromise(),e}catch(e){throw console.error("Error subscribing to notifications",e),e}})}getMessages(){return this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(O(Id),O(Os))};static \u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"})};var WF=["roomInput"],QF=["chatInput"],KF=(n,e)=>({"my-message":n,"other-message":e});function ZF(n,e){if(n&1){let t=Q();h(0,"div",14)(1,"input",15,1),Xt("ngModelChange",function(i){V(t);let o=S();return mn(o.room,i)||(o.room=i),j(i)}),f(),h(3,"button",16),x("click",function(){V(t);let i=S();return i.joinRoom(),j(i.isRoomJoined=!0)}),m(4,"Join Room"),f()()}if(n&2){let t=S();_(),Jt("ngModel",t.room)}}function YF(n,e){if(n&1&&(h(0,"div",17)(1,"span",18),m(2),f(),h(3,"div",19),m(4),f()()),n&2){let t=e.$implicit;C("ngClass",A0(3,KF,t.senderName==="Me",t.senderName!=="Me")),_(2),it(t.senderName),_(2),it(t.text)}}function JF(n,e){if(n&1){let t=Q();h(0,"button",20),x("click",function(){V(t);let i=S();return j(i.sendMessage())}),m(1,"Send"),f()}}function XF(n,e){if(n&1){let t=Q();h(0,"div")(1,"button",20),x("click",function(){V(t);let i=S();return j(i.sendPrivateMessage())}),m(2,"Send Private"),f()()}}function eL(n,e){if(n&1){let t=Q();h(0,"div",21)(1,"button",22),x("click",function(){V(t);let i=S();return j(i.requestNotificationPermission())}),m(2," \u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u{1F514} "),f()()}}function tL(n,e){if(n&1){let t=Q();h(0,"div",23)(1,"button",24),x("click",function(){V(t);let i=S();return j(i.showDebugInfo())}),m(2," \u{1F41E} "),f()()}}var ns=class n{constructor(e,t,r,i,o){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;chatType="group";targetUserId="";roomInput;chatInput;notificationsEnabled=!1;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId}),this.socketSubscription=new Pe,this.initializeNotifications(),this.chatType==="group"?this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>{console.log("\u{1F4E9} New group message received:",e),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e)})):this.chatType==="private"&&this.loadPrivateMessages()}initializeNotifications(){return Be(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return Be(this,null,function*(){try{yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Notification permission granted")}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}loadPrivateMessages(){let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>L(w({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>Be(this,null,function*(){console.log("New message received:",r);let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){let o=L(w({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),this.notificationsEnabled&&r.sender!==t._id)try{let s={title:`\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE-${o.senderName}`,body:r.text,icon:"/assets/chat-icon.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};document.hidden&&(yield this.notificationService.sendNotification(s))}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return Be(this,null,function*(){console.log("Is message relevant?");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"/assets/icon.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}sendMessage(){if(!this.newMessage.trim())return;let e={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",e),this.newMessage=""}sendPrivateMessage(){return Be(this,null,function*(){if(this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let e=this.userService.getLoggedInUser(),t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};if(this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),this.privateMessages.push(t),this.newMessage="",this.notificationsEnabled)try{let r={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:this.newMessage,icon:"/assets/chat-icon.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};document.hidden&&(yield this.notificationService.sendNotification(r))}catch(r){this.errorLogger.log("Error handling notification",r)}})}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(Hn),D(Me),D(jo),D(Md),D(Sd))};static \u0275cmp=Y({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(ip(WF,5),ip(QF,5)),t&2){let i;ws(i=Es())&&(r.roomInput=i.first),ws(i=Es())&&(r.chatInput=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},decls:16,vars:8,consts:[["chatInput",""],["roomInput",""],[1,"chat-container"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","ngModel"],["class","styled-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","notification-permission",4,"ngIf"],["class","debug-panel",4,"ngIf"],[1,"test-notification-btn",3,"click"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[1,"styled-button",3,"click"],[1,"notification-permission"],[1,"notification-button",3,"click"],[1,"debug-panel"],[1,"debug-button",3,"click"]],template:function(t,r){if(t&1){let i=Q();h(0,"div",2)(1,"h2"),m(2),f(),P(3,ZF,5,1,"div",3),h(4,"div",4)(5,"div",5),P(6,YF,5,6,"div",6),f(),h(7,"div",7)(8,"input",8,0),Xt("ngModelChange",function(s){return V(i),mn(r.newMessage,s)||(r.newMessage=s),j(s)}),f(),P(10,JF,2,0,"button",9)(11,XF,3,0,"div",10),f()()(),P(12,eL,3,0,"div",11)(13,tL,3,0,"div",12),h(14,"button",13),x("click",function(){return V(i),j(r.testPushNotification())}),m(15,` \u05D1\u05D3\u05D5\u05E7 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA
`),f()}t&2&&(_(2),it(r.chatType==="group"?"Group Chat - "+r.room:"Private Chat"),_(),C("ngIf",r.chatType==="group"&&!r.isRoomJoined),_(3),C("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),_(2),Jt("ngModel",r.newMessage),_(2),C("ngIf",r.chatType==="group"),_(),C("ngIf",r.chatType==="private"),_(),C("ngIf",!r.notificationsEnabled),_(),C("ngIf",r.isMobile))},dependencies:[_o,Co,De,sn,qn,yr],styles:[".chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;max-height:85vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none}.join-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden}.messages[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:80%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-input[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.styled-input[_ngcontent-%COMP%]{flex:1;padding:12px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.styled-button[_ngcontent-%COMP%]{padding:12px 18px;border:none;background-color:#25d366;color:#fff;cursor:pointer;border-radius:20px;font-size:14px;transition:background-color .3s}.styled-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:column}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}",`.debug-panel[_ngcontent-%COMP%] {
        position: fixed;
        bottom: 10px;
        

        right: 10px;
        

        z-index: 1000;
    }

    .debug-button[_ngcontent-%COMP%] {
        width: 30px;
        

        height: 30px;
        background-color: rgba(240, 240, 240, 0.8);
        

        border: 1px solid #ddd;
        border-radius: 50%;
        

        padding: 0;
        font-size: 16px;
        

        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        opacity: 0.6;
        

    }

    .debug-button[_ngcontent-%COMP%]:active {
        transform: scale(0.95);
        

    }

    .notification-permission[_ngcontent-%COMP%] {
        position: fixed;
        bottom: 60px;
        

        right: 10px;
        z-index: 1000;
    }

    .notification-button[_ngcontent-%COMP%] {
        background: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .notification-button[_ngcontent-%COMP%]:hover {
        background: #0056b3;
    }

    .notification-button[_ngcontent-%COMP%]:active {
        transform: scale(0.98);
    }`]})};var rL=n=>({"long-field":n});function iL(n,e){if(n&1&&(h(0,"span",15),m(1),f()),n&2){let t=S().ngIf;_(),it(t)}}function oL(n,e){if(n&1&&(at(0),P(1,iL,2,1,"span",14),ct()),n&2){let t=e.ngIf,r=S();_(),C("ngIf",t>0&&!r.isPrivateChatOpen)}}function sL(n,e){if(n&1){let t=Q();h(0,"div",16),x("clickOutsideCapture",function(){V(t);let i=S();return j(i.closePrivateChat())}),h(1,"div",17)(2,"span",18),x("click",function(){V(t);let i=S();return j(i.closePrivateChat())}),m(3,"\xD7"),f(),N(4,"app-chat",19),f()()}if(n&2){let t=S();_(4),C("chatType","private")("targetUserId",t.user._id)}}var xd=class n{constructor(e,t,r){this.router=e;this.socketService=t;this.userIndex=r}user;remove=new re;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=y(Me).getLoggedInUser()._id;ngOnInit(){this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(we),D(Hn),D(Qr))};static \u0275cmp=Y({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:18,vars:10,consts:[[1,"user-preview",3,"click"],[1,"image-container"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook Profile",1,"fb-img"],["src","../../../assets/images/instagram.png","alt","Instagram Profile",1,"insta-img"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType","targetUserId"]],template:function(t,r){t&1&&(h(0,"article",0),x("click",function(){return r.onPreviewClick()}),h(1,"div",1),N(2,"img",2),f(),h(3,"div",3)(4,"h1",4),m(5),f()(),h(6,"div",5)(7,"div",6)(8,"button",7),x("click",function(o){return r.openPrivateChat(o)}),N(9,"img",8),P(10,oL,2,1,"ng-container",9),Ct(11,"async"),f()(),h(12,"button",10),x("click",function(o){return r.openFacebookProfile(o,r.user)}),N(13,"img",11),f(),h(14,"button",10),x("click",function(o){return r.openInstagramProfile(o,r.user)}),N(15,"img",12),f()()(),P(16,sL,5,2,"div",13),N(17,"router-outlet")),t&2&&(_(2),C("src",r.user.img?r.user.img:"../../../assets/images/contact.png",_t),_(2),C("title",r.user.username)("ngClass",go(8,rL,r.isLongField(r.user.username,15))),_(),be(" ",r.user.username," "),_(5),C("ngIf",xt(11,6,r.unreadMessagesCount$)),_(6),C("ngIf",r.isPrivateChatOpen))},dependencies:[_o,De,_n,dt,on,ns,Ot],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:320px;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 65px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.4em;width:2.4em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.4em;width:1.4em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{font-size:1rem;min-width:unset}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:row;gap:5px}}.long-field[_ngcontent-%COMP%]{font-size:.9em}"]})};function cL(n,e){if(n&1){let t=Q();h(0,"user-preview",3),x("remove",function(){let i=V(t).$implicit,o=S();return j(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;C("user",t)}}function lL(n,e){n&1&&(h(0,"p"),m(1,"No users found."),f())}var Od=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new re;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Me))};static \u0275cmp=Y({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(h(0,"section",1),P(1,cL,1,1,"user-preview",2)(2,lL,2,0,"ng-template",null,0,jn),f()),t&2&&(_(),C("ngForOf",r.users))},dependencies:[Co,xd],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function uL(n,e){if(n&1){let t=Q();h(0,"button",4),x("click",function(){V(t);let i=S();return j(i.onClearFilter())}),m(1,"\u2716"),f()}}var Td=class n{userService=y(Me);filterBy="";filterSubject$=new ue;destroyRef=y(vt);ngOnInit(){this.userService.filterBy$.pipe(Bt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Yn(),Bt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Y({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),Xt("ngModelChange",function(o){return mn(r.filterBy,o)||(r.filterBy=o),o}),x("ngModelChange",function(o){return r.onSetFilter(o)}),f(),P(3,uL,2,0,"button",3),f()()),t&2&&(_(2),Jt("ngModel",r.filterBy),_(),C("ngIf",r.filterBy))},dependencies:[De,sn,qn,yr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})};var Pd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=je({type:n,bootstrap:[cd]});static \u0275inj=Ve({imports:[tu,id,EC,Hw,zw,ME,OE.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};P0(Qr,function(){return[De,dt,on,Od,Td,ns]},function(){return[Ot]});PC().bootstrapModule(Pd).then(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/ngsw-worker.js").then(n=>console.log("\u2705 Service Worker registered:",n)).catch(n=>console.error("\u274C Service Worker registration failed:",n))}).catch(n=>console.error(n));
