var $0=Object.defineProperty,BT=Object.defineProperties;var $T=Object.getOwnPropertyDescriptors;var ll=Object.getOwnPropertySymbols;var H0=Object.prototype.hasOwnProperty,z0=Object.prototype.propertyIsEnumerable;var B0=(n,e,t)=>e in n?$0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||={})H0.call(e,t)&&B0(n,t,e[t]);if(ll)for(var t of ll(e))z0.call(e,t)&&B0(n,t,e[t]);return n},$=(n,e)=>BT(n,$T(e));var sh=(n,e)=>{var t={};for(var r in n)H0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ll)for(var r of ll(n))e.indexOf(r)<0&&z0.call(n,r)&&(t[r]=n[r]);return t};var h=(n,e)=>()=>(n&&(e=n(n=0)),e);var HT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),zT=(n,e)=>{for(var t in e)$0(n,t,{get:e[t],enumerable:!0})};var S=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function q0(n,e){return Object.is(n,e)}function _e(n){let e=lt;return lt=n,e}function W0(){return lt}function lh(n){if(ul)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.nextProducerIndex++;if(gl(lt),e<lt.producerNode.length&&lt.producerNode[e]!==n&&pa(lt)){let t=lt.producerNode[e];hl(t,lt.producerIndexOfThis[e])}lt.producerNode[e]!==n&&(lt.producerNode[e]=n,lt.producerIndexOfThis[e]=pa(lt)?Q0(n,lt,e):0),lt.producerLastReadVersion[e]=n.version}function qT(){dl++}function G0(n){if(!(pa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===dl)){if(!n.producerMustRecompute(n)&&!dh(n)){n.dirty=!1,n.lastCleanEpoch=dl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=dl}}function K0(n){if(n.liveConsumerNode===void 0)return;let e=ul;ul=!0;try{for(let t of n.liveConsumerNode)t.dirty||WT(t)}finally{ul=e}}function Y0(){return lt?.consumerAllowSignalWrites!==!1}function WT(n){n.dirty=!0,K0(n),n.consumerMarkedDirty?.(n)}function pl(n){return n&&(n.nextProducerIndex=0),_e(n)}function uh(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)hl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function dh(n){gl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(G0(t),r!==t.version))return!0}return!1}function fh(n){if(gl(n),pa(n))for(let e=0;e<n.producerNode.length;e++)hl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Q0(n,e,t){if(Z0(n),n.liveConsumerNode.length===0&&J0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Q0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function hl(n,e){if(Z0(n),n.liveConsumerNode.length===1&&J0(n))for(let r=0;r<n.producerNode.length;r++)hl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];gl(i),i.producerIndexOfThis[r]=e}}function pa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function gl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Z0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function J0(n){return n.producerNode!==void 0}function X0(n){let e=Object.create(GT);e.computation=n;let t=()=>{if(G0(e),lh(e),e.value===fl)throw e.error;return e.value};return t[Sr]=e,t}function KT(){throw new Error}function tC(){eC()}function nC(n){eC=n}function rC(n){let e=Object.create(oC);e.value=n;let t=()=>(lh(e),e.value);return t[Sr]=e,t}function ph(n,e){Y0()||tC(),n.equal(n.value,e)||(n.value=e,QT(n))}function iC(n,e){Y0()||tC(),ph(n,e(n.value))}function QT(n){n.version++,qT(),K0(n),YT?.()}var lt,ul,dl,Sr,ha,ah,ch,fl,GT,eC,YT,oC,sC=h(()=>{"use strict";lt=null,ul=!1,dl=1,Sr=Symbol("SIGNAL");ha={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};ah=Symbol("UNSET"),ch=Symbol("COMPUTING"),fl=Symbol("ERRORED"),GT=$(M({},ha),{value:ah,dirty:!0,error:null,equal:q0,producerMustRecompute(n){return n.value===ah||n.value===ch},producerRecomputeValue(n){if(n.value===ch)throw new Error("Detected cycle in computations.");let e=n.value;n.value=ch;let t=pl(n),r;try{r=n.computation()}catch(i){r=fl,n.error=i}finally{uh(n,t)}if(e!==ah&&e!==fl&&r!==fl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});eC=KT;YT=null;oC=$(M({},ha),{equal:q0,value:void 0})});function z(n){return typeof n=="function"}var Ye=h(()=>{"use strict"});function Ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ml=h(()=>{"use strict"});var vl,aC=h(()=>{"use strict";ml();vl=Ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Gi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var yl=h(()=>{"use strict"});function _l(n){return n instanceof $e||n&&"closed"in n&&z(n.remove)&&z(n.add)&&z(n.unsubscribe)}function cC(n){z(n)?n():n.unsubscribe()}var $e,hh,Ki=h(()=>{"use strict";Ye();aC();yl();$e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(o){e=o instanceof vl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cC(o)}catch(s){e=e??[],s instanceof vl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Gi(t,e)}remove(e){let{_finalizers:t}=this;t&&Gi(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();hh=$e.EMPTY});var jn,ga=h(()=>{"use strict";jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var zo,gh=h(()=>{"use strict";zo={setTimeout(n,e,...t){let{delegate:r}=zo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=zo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function Cl(n){zo.setTimeout(()=>{let{onUnhandledError:e}=jn;if(e)e(n);else throw n})}var mh=h(()=>{"use strict";ga();gh()});function xr(){}var ma=h(()=>{"use strict"});function uC(n){return vh("E",void 0,n)}function dC(n){return vh("N",n,void 0)}function vh(n,e,t){return{kind:n,value:e,error:t}}var lC,fC=h(()=>{"use strict";lC=vh("C",void 0,void 0)});function qo(n){if(jn.useDeprecatedSynchronousErrorHandling){let e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Yi;if(Yi=null,t)throw r}}else n()}function pC(n){jn.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}var Yi,bl=h(()=>{"use strict";ga();Yi=null});function yh(n,e){return ZT.call(n,e)}function wl(n){jn.useDeprecatedSynchronousErrorHandling?pC(n):Cl(n)}function JT(n){throw n}function _h(n,e){let{onStoppedNotification:t}=jn;t&&zo.setTimeout(()=>t(n,e))}var Qi,ZT,Ch,ai,XT,El=h(()=>{"use strict";Ye();Ki();ga();mh();ma();fC();gh();bl();Qi=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_l(e)&&e.add(this)):this.destination=XT}static create(e,t,r){return new ai(e,t,r)}next(e){this.isStopped?_h(dC(e),this):this._next(e)}error(e){this.isStopped?_h(uC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_h(lC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZT=Function.prototype.bind;Ch=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){wl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){wl(r)}else wl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){wl(t)}}},ai=class extends Qi{constructor(e,t,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yh(e.next,o),error:e.error&&yh(e.error,o),complete:e.complete&&yh(e.complete,o)}):i=e}this.destination=new Ch(i)}};XT={closed:!0,next:xr,error:JT,complete:xr}});var Wo,Ml=h(()=>{"use strict";Wo=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function Ct(n){return n}var Ir=h(()=>{"use strict"});function bh(...n){return wh(n)}function wh(n){return n.length===0?Ct:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Eh=h(()=>{"use strict";Ir()});function hC(n){var e;return(e=n??jn.Promise)!==null&&e!==void 0?e:Promise}function eP(n){return n&&z(n.next)&&z(n.error)&&z(n.complete)}function tP(n){return n&&n instanceof Qi||eP(n)&&_l(n)}var ee,ht=h(()=>{"use strict";El();Ki();Ml();Eh();ga();Ye();bl();ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=tP(t)?t:new ai(t,r,i);return qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=hC(r),new r((i,o)=>{let s=new ai({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Wo](){return this}pipe(...t){return wh(t)(this)}toPromise(t){return t=hC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function Mh(n){return z(n?.lift)}function te(n){return e=>{if(Mh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var He=h(()=>{"use strict";Ye()});function J(n,e,t,r,i){return new Dh(n,e,t,r,i)}var Dh,Ke=h(()=>{"use strict";El();Dh=class extends Qi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function Go(){return te((n,e)=>{let t=null;n._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Sh=h(()=>{"use strict";He();Ke()});var ci,xh=h(()=>{"use strict";ht();Ki();Sh();Ke();He();ci=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(J(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Go()(this)}}});var gC,mC=h(()=>{"use strict";ml();gC=Ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var me,Dl,va=h(()=>{"use strict";ht();Ki();mC();yl();bl();me=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Dl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new gC}next(t){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?hh:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,Gi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new Dl(e,t),n})(),Dl=class extends me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:hh}}});var pe,vC=h(()=>{"use strict";va();pe=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var Ih,yC=h(()=>{"use strict";Ih={now(){return(Ih.delegate||Date).now()},delegate:void 0}});var Sl,_C=h(()=>{"use strict";Ki();Sl=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}}});var ya,CC=h(()=>{"use strict";ya={setInterval(n,e,...t){let{delegate:r}=ya;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ya;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var xl,bC=h(()=>{"use strict";_C();CC();yl();xl=class extends Sl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ya.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ya.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Gi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Ko,wC=h(()=>{"use strict";yC();Ko=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ko.now=Ih.now});var Il,EC=h(()=>{"use strict";wC();Il=class extends Ko{constructor(e,t=Ko.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var _a,MC,Ol=h(()=>{"use strict";bC();EC();_a=new Il(xl),MC=_a});var Lt,Ca=h(()=>{"use strict";ht();Lt=new ee(n=>n.complete())});function Tl(n){return n&&z(n.schedule)}var Oh=h(()=>{"use strict";Ye()});function Th(n){return n[n.length-1]}function Pl(n){return z(Th(n))?n.pop():void 0}function sr(n){return Tl(Th(n))?n.pop():void 0}function DC(n,e){return typeof Th(n)=="number"?n.pop():e}var Zi=h(()=>{"use strict";Ye();Oh()});function xC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function SC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ji(n){return this instanceof Ji?(this.v=n,this):new Ji(n)}function IC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(E){return new Promise(function(k,U){o.push([g,E,k,U])>1||c(g,E)})},_&&(i[g]=_(i[g])))}function c(g,_){try{l(r[g](_))}catch(E){m(o[0][3],E)}}function l(g){g.value instanceof Ji?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function OC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof SC=="function"?SC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ph=h(()=>{"use strict"});var Yo,Al=h(()=>{"use strict";Yo=n=>n&&typeof n.length=="number"&&typeof n!="function"});function kl(n){return z(n?.then)}var Ah=h(()=>{"use strict";Ye()});function Nl(n){return z(n[Wo])}var kh=h(()=>{"use strict";Ml();Ye()});function Rl(n){return Symbol.asyncIterator&&z(n?.[Symbol.asyncIterator])}var Nh=h(()=>{"use strict";Ye()});function Fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Rh=h(()=>{"use strict"});function nP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ll,Fh=h(()=>{"use strict";Ll=nP()});function Vl(n){return z(n?.[Ll])}var Lh=h(()=>{"use strict";Fh();Ye()});function jl(n){return IC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ji(t.read());if(i)return yield Ji(void 0);yield yield Ji(r)}}finally{t.releaseLock()}})}function Ul(n){return z(n?.getReader)}var Bl=h(()=>{"use strict";Ph();Ye()});function Ie(n){if(n instanceof ee)return n;if(n!=null){if(Nl(n))return rP(n);if(Yo(n))return iP(n);if(kl(n))return oP(n);if(Rl(n))return TC(n);if(Vl(n))return sP(n);if(Ul(n))return aP(n)}throw Fl(n)}function rP(n){return new ee(e=>{let t=n[Wo]();if(z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iP(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function oP(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Cl)})}function sP(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function TC(n){return new ee(e=>{cP(n,e).catch(t=>e.error(t))})}function aP(n){return TC(jl(n))}function cP(n,e){var t,r,i,o;return xC(this,void 0,void 0,function*(){try{for(t=OC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var Pt=h(()=>{"use strict";Ph();Al();Ah();ht();kh();Nh();Rh();Lh();Bl();Ye();mh();Ml()});function Gt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var Qo=h(()=>{"use strict"});function $l(n,e=0){return te((t,r)=>{t.subscribe(J(r,i=>Gt(r,n,()=>r.next(i),e),()=>Gt(r,n,()=>r.complete(),e),i=>Gt(r,n,()=>r.error(i),e)))})}var Vh=h(()=>{"use strict";Qo();He();Ke()});function Hl(n,e=0){return te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var jh=h(()=>{"use strict";He()});function PC(n,e){return Ie(n).pipe(Hl(e),$l(e))}var AC=h(()=>{"use strict";Pt();Vh();jh()});function kC(n,e){return Ie(n).pipe(Hl(e),$l(e))}var NC=h(()=>{"use strict";Pt();Vh();jh()});function RC(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var FC=h(()=>{"use strict";ht()});function LC(n,e){return new ee(t=>{let r;return Gt(t,e,()=>{r=n[Ll](),Gt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}var VC=h(()=>{"use strict";ht();Fh();Ye();Qo()});function zl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{Gt(t,e,()=>{let r=n[Symbol.asyncIterator]();Gt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var Uh=h(()=>{"use strict";ht();Qo()});function jC(n,e){return zl(jl(n),e)}var UC=h(()=>{"use strict";Uh();Bl()});function BC(n,e){if(n!=null){if(Nl(n))return PC(n,e);if(Yo(n))return RC(n,e);if(kl(n))return kC(n,e);if(Rl(n))return zl(n,e);if(Vl(n))return LC(n,e);if(Ul(n))return jC(n,e)}throw Fl(n)}var $C=h(()=>{"use strict";AC();NC();FC();VC();Uh();kh();Ah();Al();Lh();Nh();Rh();Bl();UC()});function K(n,e){return e?BC(n,e):Ie(n)}var Zo=h(()=>{"use strict";$C();Pt()});function V(...n){let e=sr(n);return K(n,e)}var HC=h(()=>{"use strict";Zi();Zo()});function nt(n,e){let t=z(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}var zC=h(()=>{"use strict";ht();Ye()});function Bh(n){return!!n&&(n instanceof ee||z(n.lift)&&z(n.subscribe))}var qC=h(()=>{"use strict";ht();Ye()});var Un,Jo=h(()=>{"use strict";ml();Un=Ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function Xi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new ai({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Un)}});n.subscribe(o)})}var WC=h(()=>{"use strict";Jo();El()});function GC(n){return n instanceof Date&&!isNaN(n)}var KC=h(()=>{"use strict"});function j(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>{r.next(n.call(e,o,i++))}))})}var Xo=h(()=>{"use strict";He();Ke()});function uP(n,e){return lP(e)?n(...e):n(e)}function es(n){return j(e=>uP(n,e))}var lP,ql=h(()=>{"use strict";Xo();({isArray:lP}=Array)});function Wl(n){if(n.length===1){let e=n[0];if(dP(e))return{args:e,keys:null};if(gP(e)){let t=hP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function gP(n){return n&&typeof n=="object"&&fP(n)===pP}var dP,fP,pP,hP,$h=h(()=>{"use strict";({isArray:dP}=Array),{getPrototypeOf:fP,prototype:pP,keys:hP}=Object});function Gl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Hh=h(()=>{"use strict"});function ba(...n){let e=sr(n),t=Pl(n),{args:r,keys:i}=Wl(n);if(r.length===0)return K([],e);let o=new ee(mP(r,e,i?s=>Gl(i,s):Ct));return t?o.pipe(es(t)):o}function mP(n,e,t=Ct){return r=>{YC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)YC(e,()=>{let l=K(n[c],e),u=!1;l.subscribe(J(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function YC(n,e,t){n?Gt(t,n,e):e()}var QC=h(()=>{"use strict";ht();$h();Zo();Ir();ql();Zi();Hh();Ke();Qo()});function ZC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=E=>l<r?_(E):c.push(E),_=E=>{o&&e.next(E),l++;let k=!1;Ie(t(E,u++)).subscribe(J(e,U=>{i?.(U),o?g(U):e.next(U)},()=>{k=!0},void 0,()=>{if(k)try{for(l--;c.length&&l<r;){let U=c.shift();s?Gt(e,s,()=>_(U)):_(U)}m()}catch(U){e.error(U)}}))};return n.subscribe(J(e,g,()=>{d=!0,m()})),()=>{a?.()}}var JC=h(()=>{"use strict";Pt();Qo();Ke()});function ze(n,e,t=1/0){return z(e)?ze((r,i)=>j((o,s)=>e(r,o,i,s))(Ie(n(r,i))),t):(typeof e=="number"&&(t=e),te((r,i)=>ZC(r,i,n,t)))}var ts=h(()=>{"use strict";Xo();Pt();He();JC();Ye()});function ar(n=1/0){return ze(Ct,n)}var Kl=h(()=>{"use strict";ts();Ir()});function XC(){return ar(1)}var eb=h(()=>{"use strict";Kl()});function cr(...n){return XC()(K(n,sr(n)))}var Yl=h(()=>{"use strict";eb();Zi();Zo()});function eo(n){return new ee(e=>{Ie(n()).subscribe(e)})}var tb=h(()=>{"use strict";ht();Pt()});function zh(...n){let e=Pl(n),{args:t,keys:r}=Wl(n),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ie(t[u]).subscribe(J(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Gl(r,a):a),o.complete())}))}});return e?i.pipe(es(e)):i}var nb=h(()=>{"use strict";ht();$h();Pt();Zi();Ke();ql();Hh()});function ns(n,e,t,r){if(z(t)&&(r=t,t=void 0),r)return ns(n,e,t).pipe(es(r));let[i,o]=wP(n)?yP.map(s=>a=>n[s](e,a,t)):CP(n)?vP.map(rb(n,e)):bP(n)?_P.map(rb(n,e)):[];if(!i&&Yo(n))return ze(s=>ns(s,e,t))(Ie(n));if(!i)throw new TypeError("Invalid event target");return new ee(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function rb(n,e){return t=>r=>n[t](e,r)}function CP(n){return z(n.addListener)&&z(n.removeListener)}function bP(n){return z(n.on)&&z(n.off)}function wP(n){return z(n.addEventListener)&&z(n.removeEventListener)}var vP,yP,_P,ib=h(()=>{"use strict";Pt();ht();ts();Al();Ye();ql();vP=["addListener","removeListener"],yP=["addEventListener","removeEventListener"],_P=["on","off"]});function Ql(n=0,e,t=MC){let r=-1;return e!=null&&(Tl(e)?t=e:r=e),new ee(i=>{let o=GC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var qh=h(()=>{"use strict";ht();Ol();Oh();KC()});function Zl(...n){let e=sr(n),t=DC(n,1/0),r=n;return r.length?r.length===1?Ie(r[0]):ar(t)(K(r,e)):Lt}var ob=h(()=>{"use strict";Kl();Pt();Ca();Zi();Zo()});var to,sb=h(()=>{"use strict";ht();ma();to=new ee(xr)});function Fe(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>n.call(e,o,i++)&&r.next(o)))})}var rs=h(()=>{"use strict";He();Ke()});var ab=h(()=>{"use strict"});function de(n){return te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(J(t,void 0,void 0,s=>{o=Ie(n(s,de(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var Wh=h(()=>{"use strict";Pt();Ke();He()});function cb(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(J(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var lb=h(()=>{"use strict";Ke()});function mn(n,e){return z(e)?ze(n,e,1):ze(n,1)}var Gh=h(()=>{"use strict";ts();Ye()});function ub(n){return new ee(e=>n.subscribe(e))}var db=h(()=>{"use strict";ht()});function Jl(n,e=EP){let{connector:t}=e;return te((r,i)=>{let o=t();Ie(n(ub(o))).subscribe(i),i.add(r.subscribe(o))})}var EP,Kh=h(()=>{"use strict";va();Pt();He();db();EP={connector:()=>new me}});function Yh(n,e=_a){return te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(J(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var fb=h(()=>{"use strict";Ol();He();Ke()});function li(n){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Xl=h(()=>{"use strict";He();Ke()});function Ee(n){return n<=0?()=>Lt:te((e,t)=>{let r=0;e.subscribe(J(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var wa=h(()=>{"use strict";Ca();He();Ke()});function pb(){return te((n,e)=>{n.subscribe(J(e,xr))})}var hb=h(()=>{"use strict";He();Ke();ma()});function Ea(n){return j(()=>n)}var Qh=h(()=>{"use strict";Xo()});function Zh(n,e){return e?t=>cr(e.pipe(Ee(1),pb()),t.pipe(Zh(n))):ze((t,r)=>Ie(n(t,r)).pipe(Ee(1),Ea(t)))}var gb=h(()=>{"use strict";Yl();wa();hb();Qh();ts();Pt()});function vn(n,e=_a){let t=Ql(n,e);return Zh(()=>t)}var Jh=h(()=>{"use strict";Ol();gb();qh()});function Or(n,e=Ct){return n=n??MP,te((t,r)=>{let i,o=!0;t.subscribe(J(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function MP(n,e){return n===e}var mb=h(()=>{"use strict";Ir();He();Ke()});function eu(n=DP){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function DP(){return new Un}var Xh=h(()=>{"use strict";Jo();He();Ke()});function tn(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var eg=h(()=>{"use strict";He()});function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Fe((i,o)=>n(i,o,r)):Ct,Ee(1),t?li(e):eu(()=>new Un))}var vb=h(()=>{"use strict";Jo();rs();wa();Xl();Xh();Ir()});function is(n){return n<=0?()=>Lt:te((e,t)=>{let r=[];e.subscribe(J(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var tg=h(()=>{"use strict";Ca();He();Ke()});function ng(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Fe((i,o)=>n(i,o,r)):Ct,is(1),t?li(e):eu(()=>new Un))}var yb=h(()=>{"use strict";Jo();rs();tg();Xh();Xl();Ir()});function _b(n,e){let t=z(n)?n:()=>n;return z(e)?Jl(e,{connector:t}):r=>new ci(r,t)}var Cb=h(()=>{"use strict";xh();Ye();Kh()});function rg(n){return n?e=>Jl(n)(e):e=>_b(new me)(e)}var bb=h(()=>{"use strict";va();Cb();Kh()});function ut(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?Ct:te((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(J(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Ql(r):Ie(r(d,a)),_=J(s,()=>{_.unsubscribe(),m()},()=>{s.complete()});g.subscribe(_)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var ig=h(()=>{"use strict";He();Ke();Ir();qh();Pt()});function og(n,e){return te(cb(n,e,arguments.length>=2,!0))}var wb=h(()=>{"use strict";He();lb()});function sg(n){return Fe((e,t)=>n<=t)}var Eb=h(()=>{"use strict";rs()});function ag(...n){let e=sr(n);return te((t,r)=>{(e?cr(n,t,e):cr(n,t)).subscribe(r)})}var Mb=h(()=>{"use strict";Yl();Zi();He()});function Le(n,e){return te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(J(r,c=>{i?.unsubscribe();let l=0,u=o++;Ie(n(c,u)).subscribe(i=J(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var cg=h(()=>{"use strict";Pt();He();Ke()});function yn(n){return te((e,t)=>{Ie(n).subscribe(J(t,()=>t.complete(),xr)),!t.closed&&e.subscribe(t)})}var lg=h(()=>{"use strict";He();Ke();Pt();ma()});function ne(n,e,t){let r=z(n)||e||t?{next:n,error:e,complete:t}:n;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(J(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}var ug=h(()=>{"use strict";Ye();He();Ke();Ir()});var Me=h(()=>{"use strict";ht();xh();va();vC();Ki();Eh();qC();WC();Jo();QC();Yl();tb();nb();Zo();ib();ob();HC();zC();Ca();sb();ab();Wh();Gh();fb();Jh();mb();rs();eg();Xo();ig();Eb();cg();wa();lg();ug()});var ui=h(()=>{"use strict";Wh();Gh();Xl();Jh();rs();eg();vb();yb();Xo();Qh();Kl();ts();bb();ig();Sh();wb();Mb();cg();wa();tg();lg();ug()});function zu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ka(n){return{toString:n}.toString()}function SP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function hw(n,e,t){return ka(()=>{let r=SP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(tu)?c[tu]:Object.defineProperty(c,tu,{value:[]})[tu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function xP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Dg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function bn(n){return n.__forward_ref__=bn,n.toString=function(){return jt(this())},n}function Vt(n){return gw(n)?n():n}function gw(n){return typeof n=="function"&&n.hasOwnProperty(IP)&&n.__forward_ref__===bn}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function qu(n){return Db(n,vw)||Db(n,yw)}function mw(n){return qu(n)!==null}function Db(n,e){return n.hasOwnProperty(e)?n[e]:null}function OP(n){let e=n&&(n[vw]||n[yw]);return e||null}function Sb(n){return n&&(n.hasOwnProperty(xb)||n.hasOwnProperty(TP))?n[xb]:null}function _w(n){return n&&!!n.\u0275providers}function Na(n){return typeof n=="string"?n:n==null?"":String(n)}function RP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Na(n)}function FP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,n)}function wm(n,e){throw new I(-201,!1)}function Cw(){return Sg}function Kt(n){let e=Sg;return Sg=n,e}function bw(n,e,t){let r=qu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;wm(n,"Injector")}function BP(){return ls}function di(n){let e=ls;return ls=n,e}function $P(n,e=ce.Default){if(ls===void 0)throw new I(-203,!1);return ls===null?bw(n,void 0,e):ls.get(n,e&ce.Optional?null:void 0,e)}function F(n,e=ce.Default){return(Cw()||$P)(Vt(n),e)}function C(n,e=ce.Default){return F(n,Wu(e))}function Wu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ig(n){let e=[];for(let t=0;t<n.length;t++){let r=Vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=HP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function ww(n,e){return n[xg]=e,n.prototype[xg]=e,n}function HP(n){return n[xg]}function zP(n,e,t,r){let i=n[gu];throw e[Ob]&&i.unshift(e[Ob]),n.message=qP(`
`+n.message,i,t,r),n[VP]=i,n[gu]=null,n}function qP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==UP?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jP,`
  `)}`}function io(n,e){let t=n.hasOwnProperty(hu);return t?n[hu]:null}function WP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function GP(n){return n.flat(Number.POSITIVE_INFINITY)}function Mm(n,e){n.forEach(t=>Array.isArray(t)?Mm(t,e):e(t))}function Ew(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function mu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function KP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Dm(n,e,t){let r=Ra(n,e);return r>=0?n[r|1]=t:(r=~r,KP(n,r,e,t)),r}function dg(n,e){let t=Ra(n,e);if(t>=0)return n[t|1]}function Ra(n,e){return YP(n,e,1)}function YP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function QP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Og(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];ZP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function xw(n){return n===3||n===4||n===6}function ZP(n){return n.charCodeAt(0)===64}function Ia(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Tb(n,t,i,null,e[++r]):Tb(n,t,i,null,null))}}return n}function Tb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function JP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Sm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Sm(n){return n.type===4&&n.value!==Iw}function XP(n,e,t){let r=n.type===4&&!t?Iw:n.value;return e===r}function e1(n,e,t){let r=4,i=n.attrs,o=i!==null?r1(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Bn(r)&&!Bn(c))return!1;if(s&&Bn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!XP(n,c,t)||c===""&&e.length===1){if(Bn(r))return!1;s=!0}}else if(r&8){if(i===null||!JP(n,i,c,t)){if(Bn(r))return!1;s=!0}}else{let l=e[++a],u=t1(c,i,Sm(n),t);if(u===-1){if(Bn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Bn(r))return!1;s=!0}}}}return Bn(r)||s}function Bn(n){return(n&1)===0}function t1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return i1(e,n)}function n1(n,e,t=!1){for(let r=0;r<e.length;r++)if(e1(n,e[r],t))return!0;return!1}function r1(n){for(let e=0;e<n.length;e++){let t=n[e];if(xw(t))return e}return n.length}function i1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Pb(n,e){return n?":not("+e.trim()+")":e}function o1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Bn(s)&&(e+=Pb(o,i),i=""),r=s,o=o||!Bn(r);t++}return i!==""&&(e+=Pb(o,i)),e}function s1(n){return n.map(o1).join(",")}function a1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Bn(i))break;i=o}r++}return{attrs:e,classes:t}}function Z(n){return ka(()=>{let e=kw(n),t=$(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Sw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fr.Emulated,styles:n.styles||Yt,_:null,schemas:n.schemas||null,tView:null,id:""});Nw(t);let r=n.dependencies;return t.directiveDefs=yu(r,!1),t.pipeDefs=yu(r,!0),t.id=u1(t),t})}function c1(n){return gi(n)||Ow(n)}function l1(n){return n!==null}function Je(n){return ka(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ab(n,e){if(n==null)return ds;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=hi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==hi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ae(n){return ka(()=>{let e=kw(n);return Nw(e),e})}function ho(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function gi(n){return n[PP]||null}function Ow(n){return n[AP]||null}function Tw(n){return n[kP]||null}function Pw(n){let e=gi(n)||Ow(n)||Tw(n);return e!==null?e.standalone:!1}function Aw(n,e){let t=n[NP]||null;if(!t&&e===!0)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function kw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ds,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ab(n.inputs,e),outputs:Ab(n.outputs),debugInfo:null}}function Nw(n){n.features?.forEach(e=>e(n))}function yu(n,e){if(!n)return null;let t=e?Tw:c1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(l1)}function u1(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bs(n){return{\u0275providers:n}}function d1(...n){return{\u0275providers:Rw(!0,n),\u0275fromNgModule:!0}}function Rw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Mm(e,s=>{let a=s;Tg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Fw(i,o),t}function Fw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];xm(i,o=>{e(o,r)})}}function Tg(n,e,t,r){if(n=Vt(n),!n)return!1;let i=null,o=Sb(n),s=!o&&gi(n);if(!o&&!s){let c=n.ngModule;if(o=Sb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Tg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Mm(o.imports,u=>{Tg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Fw(l,e)}if(!a){let l=io(i)||(()=>new i);e({provide:i,useFactory:l,deps:Yt},i),e({provide:Dw,useValue:i,multi:!0},i),e({provide:fs,useValue:()=>F(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;xm(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function xm(n,e){for(let t of n)_w(t)&&(t=t.\u0275providers),Array.isArray(t)?xm(t,e):e(t)}function Lw(n){return n!==null&&typeof n=="object"&&f1 in n}function p1(n){return!!(n&&n.useExisting)}function h1(n){return!!(n&&n.useFactory)}function ps(n){return typeof n=="function"}function g1(n){return!!n.useClass}function Im(){return fg===void 0&&(fg=new vu),fg}function Pg(n){let e=qu(n),t=e!==null?e.factory:io(n);if(t!==null)return t;if(n instanceof L)throw new I(204,!1);if(n instanceof Function)return v1(n);throw new I(204,!1)}function v1(n){if(n.length>0)throw new I(204,!1);let t=OP(n);return t!==null?()=>t.factory(n):()=>new n}function y1(n){if(Lw(n))return os(void 0,n.useValue);{let e=Vw(n);return os(e,lu)}}function Vw(n,e,t){let r;if(ps(n)){let i=Vt(n);return io(i)||Pg(i)}else if(Lw(n))r=()=>Vt(n.useValue);else if(h1(n))r=()=>n.useFactory(...Ig(n.deps||[]));else if(p1(n))r=()=>F(Vt(n.useExisting));else{let i=Vt(n&&(n.useClass||n.provide));if(_1(n))r=()=>new i(...Ig(n.deps));else return io(i)||Pg(i)}return r}function os(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function _1(n){return!!n.deps}function C1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function b1(n){return typeof n=="function"||typeof n=="object"&&n instanceof L}function Ag(n,e){for(let t of n)Array.isArray(t)?Ag(t,e):t&&_w(t)?Ag(t.\u0275providers,e):e(t)}function wn(n,e){n instanceof Oa&&n.assertNotDestroyed();let t,r=di(n),i=Kt(void 0);try{return e()}finally{di(r),Kt(i)}}function jw(){return Cw()!==void 0||BP()!=null}function Om(n){if(!jw())throw new I(-203,!1)}function w1(n){let e=bt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function E1(n){return typeof n=="function"}function pi(n){return Array.isArray(n)&&typeof n[Bw]=="object"}function Rr(n){return Array.isArray(n)&&n[Bw]===!0}function Tm(n){return(n.flags&4)!==0}function Qu(n){return n.componentOffset>-1}function Zu(n){return(n.flags&1)===1}function mi(n){return!!n.template}function kg(n){return(n[Q]&512)!==0}function $w(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Wn(){return Hw}function Hw(n){return n.type.prototype.ngOnChanges&&(n.setInput=D1),M1}function M1(){let n=qw(this),e=n?.current;if(e){let t=n.previous;if(t===ds)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function D1(n,e,t,r,i){let o=this.declaredInputs[r],s=qw(n)||S1(n,{previous:ds,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ng(l&&l.currentValue,t,c===ds),$w(n,e,i,t)}function qw(n){return n[zw]||null}function S1(n,e){return n[zw]=e}function gr(n){for(;Array.isArray(n);)n=n[Nr];return n}function Ww(n,e){return gr(e[n])}function En(n,e){return gr(e[n.index])}function Gw(n,e){return n.data[e]}function Kw(n,e){return n[e]}function bi(n,e){let t=e[n];return pi(t)?t:t[Nr]}function O1(n){return(n[Q]&4)===4}function Pm(n){return(n[Q]&128)===128}function T1(n){return Rr(n[At])}function ms(n,e){return e==null?null:n[e]}function Yw(n){n[ss]=0}function Qw(n){n[Q]&1024||(n[Q]|=1024,Pm(n)&&Xu(n))}function P1(n,e){for(;n>0;)e=e[ws],n--;return e}function Ju(n){return!!(n[Q]&9216||n[_n]?.dirty)}function Rg(n){n[pr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Ju(n)&&Xu(n)}function Xu(n){n[pr].changeDetectionScheduler?.notify(0);let e=ao(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Pm(e)));)e=ao(e)}function Zw(n,e){if((n[Q]&256)===256)throw new I(911,!1);n[fi]===null&&(n[fi]=[]),n[fi].push(e)}function A1(n,e){if(n[fi]===null)return;let t=n[fi].indexOf(e);t!==-1&&n[fi].splice(t,1)}function ao(n){let e=n[At];return Rr(e)?e[At]:e}function k1(){return le.lFrame.elementDepthCount}function N1(){le.lFrame.elementDepthCount++}function R1(){le.lFrame.elementDepthCount--}function Xw(){return le.bindingsEnabled}function F1(){return le.skipHydrationRootTNode!==null}function L1(n){return le.skipHydrationRootTNode===n}function V1(){le.skipHydrationRootTNode=null}function fe(){return le.lFrame.lView}function it(){return le.lFrame.tView}function T(n){return le.lFrame.contextLView=n,n[zn]}function P(n){return le.lFrame.contextLView=null,n}function wt(){let n=eE();for(;n!==null&&n.type===64;)n=n.parent;return n}function eE(){return le.lFrame.currentTNode}function j1(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function go(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Am(){return le.lFrame.isParent}function tE(){le.lFrame.isParent=!1}function U1(){return le.lFrame.contextLView}function nE(){return Jw}function Rb(n){Jw=n}function ed(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function B1(n){return le.lFrame.bindingIndex=n}function td(){return le.lFrame.bindingIndex++}function rE(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function $1(){return le.lFrame.inI18n}function H1(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fg(e)}function z1(){return le.lFrame.currentDirectiveIndex}function Fg(n){le.lFrame.currentDirectiveIndex=n}function q1(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function iE(){return le.lFrame.currentQueryIndex}function km(n){le.lFrame.currentQueryIndex=n}function W1(n){let e=n[oe];return e.type===2?e.declTNode:e.type===1?n[qn]:null}function oE(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=W1(o),i===null||(o=o[ws],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=sE();return r.currentTNode=e,r.lView=n,!0}function Nm(n){let e=sE(),t=n[oe];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sE(){let n=le.lFrame,e=n===null?null:n.child;return e===null?aE(n):e}function aE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function cE(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function Rm(){let n=cE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function G1(n){return(le.lFrame.contextLView=P1(n,le.lFrame.contextLView))[zn]}function mo(){return le.lFrame.selectedIndex}function co(n){le.lFrame.selectedIndex=n}function Fm(){let n=le.lFrame;return Gw(n.tView,n.selectedIndex)}function K1(){return le.lFrame.currentNamespace}function nd(){return uE}function rd(n){uE=n}function Y1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Hw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function id(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function uu(n,e,t){dE(n,e,3,t)}function du(n,e,t,r){(n[Q]&3)===t&&dE(n,e,t,r)}function hg(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function dE(n,e,t,r){let i=r!==void 0?n[ss]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[ss]+=65536),(a<o||o==-1)&&(Q1(n,t,e,c),n[ss]=(n[ss]&4294901760)+c+2),c++}function Fb(n,e){ur(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),ur(5,n,e)}}function Q1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[ss]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,Fb(a,o)):Fb(a,o)}function Z1(n){return n instanceof lo}function J1(n){return(n.flags&8)!==0}function X1(n){return(n.flags&16)!==0}function fE(n){return n!==us}function Eu(n){return n&32767}function eA(n){return n>>16}function Mu(n,e){let t=eA(n),r=e;for(;t>0;)r=r[ws],t--;return r}function Du(n){let e=Vg;return Vg=n,e}function rA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Da)&&(r=t[Da]),r==null&&(r=t[Da]=nA++);let i=r&pE,o=1<<i;e.data[n+(i>>hE)]|=o}function Su(n,e){let t=gE(n,e);if(t!==-1)return t;let r=e[oe];r.firstCreatePass&&(n.injectorIndex=e.length,mg(r.data,n),mg(e,null),mg(r.blueprint,null));let i=Lm(n,e),o=n.injectorIndex;if(fE(i)){let s=Eu(i),a=Mu(i,e),c=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function mg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Lm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=CE(i),r===null)return us;if(t++,i=i[ws],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return us}function jg(n,e,t){rA(n,e,t)}function iA(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(xw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function mE(n,e,t){if(t&ce.Optional||n!==void 0)return n;wm(e,"NodeInjector")}function vE(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[hs],o=Kt(void 0);try{return i?i.get(e,r,t&ce.Optional):bw(e,r,t&ce.Optional)}finally{Kt(o)}}return mE(r,e,t)}function yE(n,e,t,r=ce.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ce.Self)){let s=cA(n,e,t,r,dr);if(s!==dr)return s}let o=_E(n,e,t,r,dr);if(o!==dr)return o}return vE(e,t,r,i)}function _E(n,e,t,r,i){let o=sA(t);if(typeof o=="function"){if(!oE(e,n,r))return r&ce.Host?mE(i,t,r):vE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))wm(t);else return s}finally{lE()}}else if(typeof o=="number"){let s=null,a=gE(n,e),c=us,l=r&ce.Host?e[hr][qn]:null;for((a===-1||r&ce.SkipSelf)&&(c=a===-1?Lm(n,e):e[a+8],c===us||!Vb(r,!1)?a=-1:(s=e[oe],a=Eu(c),e=Mu(c,e)));a!==-1;){let u=e[oe];if(Lb(o,a,u.data)){let d=oA(a,e,t,s,r,l);if(d!==dr)return d}c=e[a+8],c!==us&&Vb(r,e[oe].data[a+8]===l)&&Lb(o,a,e)?(s=u,a=Eu(c),e=Mu(c,e)):a=-1}}return i}function oA(n,e,t,r,i,o){let s=e[oe],a=s.data[n+8],c=r==null?Qu(a)&&Vg:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,u=fu(a,s,t,c,l);return u!==null?uo(e,s,u,a):dr}function fu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let _=s[g];if(g<c&&t===_||g>=c&&_.type===t)return g}if(i){let g=s[c];if(g&&mi(g)&&g.type===t)return c}return null}function uo(n,e,t,r){let i=n[t],o=e.data;if(Z1(i)){let s=i;s.resolving&&FP(RP(o[t]));let a=Du(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Kt(s.injectImpl):null,u=oE(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Y1(t,o[t],e)}finally{l!==null&&Kt(l),Du(a),s.resolving=!1,lE()}}return i}function sA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Da)?n[Da]:void 0;return typeof e=="number"?e>=0?e&pE:aA:e}function Lb(n,e,t){let r=1<<n;return!!(t[e+(n>>hE)]&r)}function Vb(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}function aA(){return new ro(wt(),fe())}function Fr(n){return ka(()=>{let e=n.prototype.constructor,t=e[hu]||Ug(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[hu]||Ug(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ug(n){return gw(n)?()=>{let e=Ug(Vt(n));return e&&e()}:io(n)}function cA(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=_E(o,s,t,r|ce.Self,dr);if(a!==dr)return a;let c=o.parent;if(!c){let l=s[Uw];if(l){let u=l.get(t,dr,r);if(u!==dr)return u}c=CE(s),s=s[ws]}o=c}return i}function CE(n){let e=n[oe],t=e.type;return t===2?e.declTNode:t===1?n[qn]:null}function Vm(n){return iA(wt(),n)}function jb(n,e=null,t=null,r){let i=bE(n,e,t,r);return i.resolveInjectorInitializers(),i}function bE(n,e=null,t=null,r,i=new Set){let o=[t||Yt,d1(n)];return r=r||(typeof n=="object"?void 0:jt(n)),new Oa(o,e||Im(),r||null,i)}function vg(n){return n[uA]}function dA(){return new Bg(fe())}function xu(...n){}function EE(n){let e,t;function r(){n=xu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Ub(n){return queueMicrotask(()=>n()),()=>{n=xu}}function Um(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){EE(()=>{n.callbackScheduled=!1,Hg(n),n.isCheckStableRunning=!0,Um(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Hg(n)}function gA(n){let e=()=>{hA(n)},t=fA++;n._inner=n._inner.fork({name:"angular",properties:{[jm]:!0,[Iu]:t,[Iu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(mA(c))return r.invokeTask(o,s,a,c);try{return Bb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),$b(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Bb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!vA(c)&&e(),$b(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Hg(n),Um(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Hg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Bb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $b(n){n._nesting--,Um(n)}function mA(n){return ME(n,"__ignore_ng_zone__")}function vA(n){return ME(n,"__scheduler_tick__")}function ME(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function yA(n="zone.js",e){return n==="noop"?new Ou:n==="zone.js"?new be(e):n}function CA(){return Es(wt(),fe())}function Es(n,e){return new Et(En(n,e))}function bA(n){return n instanceof Et?n.nativeElement:n}function wA(){return this._results[Symbol.iterator]()}function DE(n){return(n.flags&128)===128}function MA(){return EA++}function DA(n){SE.set(n[Yu],n)}function qg(n){SE.delete(n[Yu])}function vi(n,e){pi(e)?(n[Hb]=e[Yu],DA(e)):n[Hb]=e}function xE(n){return OE(n[Ta])}function IE(n){return OE(n[Hn])}function OE(n){for(;n!==null&&!Rr(n);)n=n[Hn];return n}function TE(n){Wg=n}function PE(){if(Wg!==void 0)return Wg;if(typeof document<"u")return document;throw new I(210,!1)}function zm(n,e,t=!1){return OA(n,e,t)}function PA(){if(nu===void 0&&(nu=null,bt.trustedTypes))try{nu=bt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nu}function sd(n){return PA()?.createHTML(n)||n}function kE(){if(ru===void 0&&(ru=null,bt.trustedTypes))try{ru=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ru}function zb(n){return kE()?.createHTML(n)||n}function qb(n){return kE()?.createScriptURL(n)||n}function vo(n){return n instanceof Tu?n.changingThisBreaksApplicationSecurity:n}function ad(n,e){let t=AA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pw})`)}return t===e}function AA(n){return n instanceof Tu&&n.getTypeName()||null}function kA(n){let e=new Kg(n);return NA()?new Gg(e):e}function NA(){try{return!!new window.DOMParser().parseFromString(sd(""),"text/html")}catch{return!1}}function qm(n){return n=String(n),n.match(RA)?n:"unsafe:"+n}function Vr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Fa(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}function HA(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function zA(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw VE(e);return e}function qA(n){let e=n.firstChild;if(e&&HA(n,e))throw VE(e);return e}function Gb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function VE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}function Kb(n){return n.replace(/&/g,"&amp;").replace(WA,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(GA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jE(n,e){let t=null;try{iu=iu||kA(n);let r=e?String(e):"";t=iu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=iu.getInertBodyElement(r)}while(r!==o);let a=new Yg().sanitizeChildren(Yb(t)||t);return sd(a)}finally{if(t){let r=Yb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Yb(n){return"content"in n&&KA(n)?n.content:null}function KA(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function cd(n){let e=Wm();return e?zb(e.sanitize(La.HTML,n)||""):ad(n,"HTML")?zb(vo(n)):jE(PE(),Na(n))}function Oe(n){let e=Wm();return e?e.sanitize(La.URL,n)||"":ad(n,"URL")?vo(n):qm(Na(n))}function YA(n){let e=Wm();if(e)return qb(e.sanitize(La.RESOURCE_URL,n)||"");if(ad(n,"ResourceURL"))return qb(vo(n));throw new I(904,!1)}function QA(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?YA:Oe}function UE(n,e,t){return QA(e,t)(n)}function Wm(){let n=fe();return n&&n[pr].sanitizer}function ek(n){return n.replace(ZA,e=>e.replace(JA,XA))}function BE(n){return n instanceof Function?n():n}function tk(n){return(n??C(rt)).get(rn)==="browser"}function Gm(n,e){return nk(n,e)}function as(n,e,t,r,i){if(r!=null){let o,s=!1;Rr(r)?o=r:pi(r)&&(s=!0,r=r[Nr]);let a=gr(r);n===0&&t!==null?i==null?WE(e,t,a):Pu(e,t,a,i||null,!0):n===1&&t!==null?Pu(e,t,a,i||null,!0):n===2?yk(e,a,s):n===3&&e.destroyNode(a),o!=null&&Ck(e,n,o,t,i)}}function rk(n,e){return n.createText(e)}function ik(n,e,t){n.setValue(e,t)}function ok(n,e){return n.createComment(ek(e))}function $E(n,e,t){return n.createElement(e,t)}function sk(n,e){HE(n,e),e[Nr]=null,e[qn]=null}function ak(n,e,t,r,i,o){r[Nr]=i,r[qn]=e,ud(n,r,t,1,i,o)}function HE(n,e){e[pr].changeDetectionScheduler?.notify(9),ud(n,e,e[Qe],2,null,null)}function ck(n){let e=n[Ta];if(!e)return yg(n[oe],n);for(;e;){let t=null;if(pi(e))t=e[Ta];else{let r=e[nn];r&&(t=r)}if(!t){for(;e&&!e[Hn]&&e!==n;)pi(e)&&yg(e[oe],e),e=e[At];e===null&&(e=n),pi(e)&&yg(e[oe],e),t=e&&e[Hn]}e=t}}function lk(n,e,t,r){let i=nn+r,o=t.length;r>0&&(t[i-1][Hn]=e),r<o-nn?(e[Hn]=t[i],Ew(t,nn+r,e)):(t.push(e),e[Hn]=null),e[At]=t;let s=e[oo];s!==null&&t!==s&&zE(s,e);let a=e[Tr];a!==null&&a.insertView(n),Rg(e),e[Q]|=128}function zE(n,e){let t=n[gs],r=e[At];if(pi(r))n[Q]|=wu.HasTransplantedViews;else{let i=r[At][hr];e[hr]!==i&&(n[Q]|=wu.HasTransplantedViews)}t===null?n[gs]=[e]:t.push(e)}function Km(n,e){let t=n[gs],r=t.indexOf(e);t.splice(r,1)}function Qg(n,e){if(n.length<=nn)return;let t=nn+e,r=n[t];if(r){let i=r[oo];i!==null&&i!==n&&Km(i,r),e>0&&(n[t-1][Hn]=r[Hn]);let o=mu(n,nn+e);sk(r[oe],r);let s=o[Tr];s!==null&&s.detachView(o[oe]),r[At]=null,r[Hn]=null,r[Q]&=-129}return r}function qE(n,e){if(!(e[Q]&256)){let t=e[Qe];t.destroyNode&&ud(n,e,t,3,null,null),ck(e)}}function yg(n,e){if(e[Q]&256)return;let t=_e(null);try{e[Q]&=-129,e[Q]|=256,e[_n]&&fh(e[_n]),dk(n,e),uk(n,e),e[oe].type===1&&e[Qe].destroy();let r=e[oo];if(r!==null&&Rr(e[At])){r!==e[At]&&Km(r,e);let i=e[Tr];i!==null&&i.detachView(n)}qg(e)}finally{_e(t)}}function uk(n,e){let t=n.cleanup,r=e[Cu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Cu]=null);let i=e[fi];if(i!==null){e[fi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function dk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof lo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ur(4,a,c);try{c.call(a)}finally{ur(5,a,c)}}else{ur(4,i,o);try{o.call(i)}finally{ur(5,i,o)}}}}}function fk(n,e,t){return pk(n,e.parent,t)}function pk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Nr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===fr.None||o===fr.Emulated)return null}return En(r,t)}}function Pu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function WE(n,e,t){n.appendChild(e,t)}function Qb(n,e,t,r,i){r!==null?Pu(n,e,t,r,i):WE(n,e,t)}function GE(n,e){return n.parentNode(e)}function hk(n,e){return n.nextSibling(e)}function gk(n,e,t){return vk(n,e,t)}function mk(n,e,t){return n.type&40?En(n,t):null}function ld(n,e,t,r){let i=fk(n,r,e),o=e[Qe],s=r.parent||e[qn],a=gk(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Qb(o,i,t[c],a,!1);else Qb(o,i,t,a,!1);Zb!==void 0&&Zb(o,r,e,t,i)}function Ma(n,e){if(e!==null){let t=e.type;if(t&3)return En(e,n);if(t&4)return Zg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ma(n,r);{let i=n[e.index];return Rr(i)?Zg(-1,i):gr(i)}}else{if(t&128)return Ma(n,e.next);if(t&32)return Gm(e,n)()||gr(n[e.index]);{let r=KE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ao(n[hr]);return Ma(i,r)}else return Ma(n,e.next)}}}return null}function KE(n,e){if(e!==null){let r=n[hr][qn],i=e.projection;return r.projection[i]}return null}function Zg(n,e){let t=nn+n+1;if(t<e.length){let r=e[t],i=r[oe].firstChild;if(i!==null)return Ma(r,i)}return e[so]}function yk(n,e,t){n.removeChild(null,e,t)}function Ym(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&vi(gr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Ym(n,e,t.child,r,i,o,!1),as(e,n,i,a,o);else if(c&32){let l=Gm(t,r),u;for(;u=l();)as(e,n,i,u,o);as(e,n,i,a,o)}else c&16?_k(n,e,r,t,i,o):as(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ud(n,e,t,r,i,o){Ym(t,r,n.firstChild,e,i,o,!1)}function _k(n,e,t,r,i,o){let s=t[hr],c=s[qn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];as(e,n,i,u,o)}else{let l=c,u=s[At];DE(r)&&(l.flags|=128),Ym(n,e,l,u,i,o,!0)}}function Ck(n,e,t,r,i){let o=t[so],s=gr(t);o!==s&&as(e,n,r,o,i);for(let a=nn;a<t.length;a++){let c=t[a];ud(c[oe],c,n,e,r,o)}}function bk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ar.Important),n.setStyle(t,r,i,o))}}function wk(n,e,t){n.setAttribute(e,"style",t)}function YE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function QE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Og(n,e,r),i!==null&&YE(n,e,i),o!==null&&wk(n,e,o)}function v(n=1){ZE(it(),fe(),mo()+n,!1)}function ZE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&uu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&du(e,o,0,t)}co(t)}function D(n,e=ce.Default){let t=fe();if(t===null)return F(n,e);let r=wt();return yE(r,t,Vt(n),e)}function JE(){let n="invalid";throw new Error(n)}function XE(n,e,t,r,i,o){let s=_e(null);try{let a=null;i&hi.SignalBased&&(a=e[r][Sr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&hi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):$w(e,a,r,o)}finally{_e(s)}}function Ek(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)co(~i);else{let o=i,s=t[++r],a=t[++r];H1(s,o);let c=e[o];a(2,c)}}}finally{co(-1)}}function dd(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Nr]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),Yw(d),d[At]=d[ws]=n,d[zn]=t,d[pr]=s||n&&n[pr],d[Qe]=a||n&&n[Qe],d[hs]=c||n&&n[hs]||null,d[qn]=o,d[Yu]=MA(),d[_u]=u,d[Uw]=l,d[hr]=e.type==2?n[hr]:d,d}function Va(n,e,t,r,i){let o=n.data[e];if(o===null)o=Mk(n,e,t,r,i),$1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=j1();o.injectorIndex=s===null?-1:s.injectorIndex}return go(o,!0),o}function Mk(n,e,t,r,i){let o=eE(),s=Am(),a=s?o:o&&o.parent,c=n.data[e]=Tk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function eM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function tM(n,e,t,r,i){let o=mo(),s=r&2;try{co(-1),s&&e.length>Cn&&ZE(n,e,Cn,!1),ur(s?2:0,i),t(r,i)}finally{co(o),ur(s?3:1,i)}}function Qm(n,e,t){if(Tm(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{_e(r)}}}function Zm(n,e,t){Xw()&&(Fk(n,e,t,En(t,e)),(t.flags&64)===64&&oM(n,e,t))}function Jm(n,e,t=En){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function nM(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Xm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xm(n,e,t,r,i,o,s,a,c,l,u){let d=Cn+r,m=d+i,g=Dk(d,m),_=typeof l=="function"?l():l;return g[oe]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function Dk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:mr);return t}function Sk(n,e,t,r){let o=r.get(TA,AE)||t===fr.ShadowDom,s=n.selectRootElement(e,o);return xk(s),s}function xk(n){Ik(n)}function Ok(n,e,t,r){let i=cM(e);i.push(t),n.firstCreatePass&&lM(n).push(r,i.length-1)}function Tk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return F1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=hi.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?Xb(r,t,l,a,c):Xb(r,t,l,a)}return r}function Xb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function Pk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,g=m?m.inputs:null,_=m?m.outputs:null;c=Jb(0,d.inputs,u,c,g),l=Jb(1,d.outputs,u,l,_);let E=c!==null&&s!==null&&!Sm(e)?Gk(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Ak(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rM(n,e,t,r,i,o,s,a){let c=En(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(tv(n,t,u,r,i),Qu(e)&&kk(t,e.index)):e.type&3?(r=Ak(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function kk(n,e){let t=bi(e,n);t[Q]&16||(t[Q]|=64)}function ev(n,e,t,r){if(Xw()){let i=r===null?null:{"":-1},o=Vk(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&iM(n,e,t,s,i,a),i&&jk(t,r,i)}t.mergedAttrs=Ia(t.mergedAttrs,t.attrs)}function iM(n,e,t,r,i,o){for(let l=0;l<r.length;l++)jg(Su(t,e),n,r[l].type);Bk(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=eM(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=Ia(t.mergedAttrs,u.hostAttrs),$k(n,t,e,c,u),Uk(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}Pk(n,t,o)}function Nk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Rk(s)!=a&&s.push(a),s.push(t,r,o)}}function Rk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Fk(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Qu(t)&&Hk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Su(t,e),vi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=uo(e,n,a,t);if(vi(l,e),s!==null&&Wk(e,a-i,l,c,t,s),mi(c)){let u=bi(t.index,e);u[zn]=uo(e,n,a,t)}}}function oM(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=z1();try{co(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Fg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Lk(c,l)}}finally{co(-1),Fg(s)}}function Lk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Vk(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(n1(e,s.selectors,!1))if(r||(r=[]),mi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Jg(n,e,c)}else r.unshift(s),Jg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Jg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function jk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function Uk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mi(e)&&(t[""]=n)}}function Bk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function $k(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=io(i.type,!0)),s=new lo(o,mi(i),D);n.blueprint[r]=s,t[r]=s,Nk(n,e,r,eM(n,t,i.hostVars,mr),i)}function Hk(n,e,t){let r=En(e,n),i=nM(t),o=n[pr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=fd(n,dd(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function zk(n,e,t,r,i,o){let s=En(n,e);qk(e[Qe],s,o,n.value,t,r,i)}function qk(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Na(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Wk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];XE(r,t,c,l,u,d)}}function Gk(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function sM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function aM(n,e){let t=n.contentQueries;if(t!==null){let r=_e(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];km(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function fd(n,e){return n[Ta]?n[kb][Hn]=e:n[Ta]=e,n[kb]=e,e}function Xg(n,e,t){km(0);let r=_e(null);try{e(n,t)}finally{_e(r)}}function cM(n){return n[Cu]??=[]}function lM(n){return n.cleanup??=[]}function uM(n,e){let t=n[hs],r=t?t.get(Pr,null):null;r&&r.handleError(e)}function tv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];XE(u,l,r,a,c,i)}}function Kk(n,e,t){let r=Ww(e,n);ik(n[Qe],r,t)}function Yk(n,e){let t=bi(e,n),r=t[oe];Qk(r,t);let i=t[Nr];i!==null&&t[_u]===null&&(t[_u]=zm(i,t[hs])),nv(r,t,t[zn])}function Qk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function nv(n,e,t){Nm(e);try{let r=n.viewQuery;r!==null&&Xg(1,r,t);let i=n.template;i!==null&&tM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tr]?.finishViewCreation(n),n.staticContentQueries&&aM(n,e),n.staticViewQueries&&Xg(2,n.viewQuery,t);let o=n.components;o!==null&&Zk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Rm()}}function Zk(n,e){for(let t=0;t<e.length;t++)Yk(n,e[t])}function Jk(n,e,t,r){let i=_e(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=dd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[oo]=l;let u=n[Tr];return u!==null&&(c[Tr]=u.createEmbeddedView(o)),nv(o,c,t),c}finally{_e(i)}}function ew(n,e){return!e||e.firstChild===null||DE(n)}function Xk(n,e,t,r=!0){let i=e[oe];if(lk(i,e,n,t),r){let s=Zg(t,n),a=e[Qe],c=GE(a,n[so]);c!==null&&ak(i,n[qn],a,e,c,s)}let o=e[_u];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Au(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(gr(o)),Rr(o)&&eN(o,r);let s=t.type;if(s&8)Au(n,e,t.child,r);else if(s&32){let a=Gm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=KE(e,t);if(Array.isArray(a))r.push(...a);else{let c=ao(e[hr]);Au(c[oe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function eN(n,e){for(let t=nn;t<n.length;t++){let r=n[t],i=r[oe].firstChild;i!==null&&Au(r[oe],r,i,e)}n[so]!==n[Nr]&&e.push(n[so])}function tN(n){return n[_n]??nN(n)}function nN(n){let e=dM.pop()??Object.create(iN);return e.lView=n,e}function rN(n){n.lView[_n]!==n&&(n.lView=null,dM.push(n))}function oN(n){let e=n[_n]??Object.create(sN);return e.lView=n,e}function fM(n){return n.type!==2}function pM(n,e=!0,t=0){let r=n[pr],i=r.rendererFactory,o=!1;o||i.begin?.();try{cN(n,t)}catch(s){throw e&&uM(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function cN(n,e){let t=nE();try{Rb(!0),em(n,e);let r=0;for(;Ju(n);){if(r===aN)throw new I(103,!1);r++,em(n,1)}}finally{Rb(t)}}function lN(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[pr].inlineEffectRunner?.flush(),Nm(e);let a=!0,c=null,l=null;o||(fM(n)?(l=tN(e),c=pl(l)):W0()===null?(a=!1,l=oN(e),c=pl(l)):e[_n]&&(fh(e[_n]),e[_n]=null));try{Yw(e),B1(n.bindingStartIndex),t!==null&&tM(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&uu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&du(e,g,0,null),hg(e,0)}if(s||uN(e),hM(e,0),n.contentQueries!==null&&aM(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&uu(e,g)}else{let g=n.contentHooks;g!==null&&du(e,g,1),hg(e,1)}Ek(n,e);let d=n.components;d!==null&&mM(e,d,0);let m=n.viewQuery;if(m!==null&&Xg(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&uu(e,g)}else{let g=n.viewHooks;g!==null&&du(e,g,2),hg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[pg]){for(let g of e[pg])g();e[pg]=null}o||(e[Q]&=-73)}catch(u){throw o||Xu(e),u}finally{l!==null&&(uh(l,c),a&&rN(l)),Rm()}}function hM(n,e){for(let t=xE(n);t!==null;t=IE(t))for(let r=nn;r<t.length;r++){let i=t[r];gM(i,e)}}function uN(n){for(let e=xE(n);e!==null;e=IE(e)){if(!(e[Q]&wu.HasTransplantedViews))continue;let t=e[gs];for(let r=0;r<t.length;r++){let i=t[r];Qw(i)}}}function dN(n,e,t){let r=bi(e,n);gM(r,t)}function gM(n,e){Pm(n)&&em(n,e)}function em(n,e){let r=n[oe],i=n[Q],o=n[_n],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&dh(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)lN(r,n,r.template,n[zn]);else if(i&8192){hM(n,1);let a=r.components;a!==null&&mM(n,a,1)}}function mM(n,e,t){for(let r=0;r<e.length;r++)dN(n,e[r],t)}function rv(n,e){let t=nE()?64:1088;for(n[pr].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=ao(n);if(kg(n)&&!r)return n;n=r}return null}function hN(){return pd(wt(),fe())}function pd(n,e){return n.type&4?new pN(e,n,Es(n,e)):null}function tw(n,e){return gN(n,e)}function mN(n){let e=Error(`No component factory found for ${jt(n)}.`);return e[vN]=n,e}function yN(){let n=fe(),e=wt(),t=bi(e.index,n);return(pi(t)?t:n)[Qe]}function Nu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Dg(i,a);else if(o==2){let c=a,l=e[++s];r=Dg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function nw(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:hi.None;e?t.push({propName:s,templateName:r,isSignal:(a&hi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function CN(n){let e=n.toLowerCase();return e==="svg"?x1:e==="math"?I1:null}function bN(n,e){let t=n[oe],r=Cn;return n[r]=e,Va(t,r,2,"#host",null)}function wN(n,e,t,r,i,o,s){let a=i[oe];EN(r,n,e,s);let c=null;e!==null&&(c=zm(e,i[hs]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=dd(i,nM(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Jg(a,n,r.length-1),fd(i,d),i[n.index]=d}function EN(n,e,t,r){for(let i of n)e.mergedAttrs=Ia(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Nu(e,e.mergedAttrs,!0),t!==null&&QE(r,t,e))}function MN(n,e,t,r,i,o){let s=wt(),a=i[oe],c=En(s,i);iM(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,m=uo(i,a,d,s);vi(m,i)}oM(a,i,s),c&&vi(c,i);let l=uo(i,a,s.directiveStart+s.componentOffset,s);if(n[zn]=i[zn]=l,o!==null)for(let u of o)u(l,e);return Qm(a,s,i),l}function DN(n,e,t,r){if(r)Og(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=a1(e.selectors[0]);i&&Og(n,t,i),o&&o.length>0&&YE(n,t,o.join(" "))}}function SN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function xN(){let n=wt();id(fe()[oe],n)}function IN(){let n=wt();return CM(n,fe())}function rw(n){return n[bu]}function _g(n){return n[bu]||(n[bu]=[])}function CM(n,e){let t,r=e[n.index];return Rr(r)?t=r:(t=sM(r,e,null,n),e[n.index]=t,fd(e,t)),PN(t,e,n,r),new _M(t,n,e)}function TN(n,e){let t=n[Qe],r=t.createComment(""),i=En(e,n),o=GE(t,i);return Pu(t,o,r,hk(t,i),!1),r}function kN(n,e,t){return AN(n,e,t)}function NN(n,e,t,r){if(n[so])return;let i;t.type&8?i=gr(r):i=TN(e,t),n[so]=i}function RN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function FN(n,e){return n.type&11?Es(n,e):n.type&4?pd(n,e):null}function LN(n,e,t,r){return t===-1?FN(e,n):t===-2?VN(n,e,r):uo(n,n[oe],t,e)}function VN(n,e,t){if(t===Et)return Es(e,n);if(t===yi)return pd(e,n);if(t===jr)return CM(e,n)}function bM(n,e,t,r){let i=e[Tr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(LN(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function cm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=bM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=nn;d<u.length;d++){let m=u[d];m[oo]===m[At]&&cm(m[oe],m,l,r)}if(u[gs]!==null){let d=u[gs];for(let m=0;m<d.length;m++){let g=d[m];cm(g[oe],g,l,r)}}}}}return r}function jN(n,e){return n[Tr].queries[e].queryList}function wM(n,e,t){let r=new zg((t&4)===4);return Ok(n,e,r,r.destroy),(e[Tr]??=new om).queries.push(new im(r))-1}function UN(n,e,t){let r=it();return r.firstCreatePass&&(EM(r,new Fu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),wM(r,fe(),e)}function BN(n,e,t,r){let i=it();if(i.firstCreatePass){let o=wt();EM(i,new Fu(e,t,r),o.index),HN(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return wM(i,fe(),t)}function $N(n){return n.split(",").map(e=>e.trim())}function EM(n,e,t){n.queries===null&&(n.queries=new sm),n.queries.track(new am(e,t))}function HN(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function ov(n,e){return n.queries.getByIndex(e)}function zN(n,e){let t=n[oe],r=ov(t,e);return r.crossesNgTemplate?cm(t,n,e,[]):bM(t,n,r,e)}function yo(n){iw.has(n)||(iw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function qN(n){return typeof n=="function"&&n[Sr]!==void 0}function _o(n,e){yo("NgSignals");let t=rC(n),r=t[Sr];return e?.equal&&(r.equal=e.equal),t.set=i=>ph(r,i),t.update=i=>iC(r,i),t.asReadonly=WN.bind(t),t}function WN(){let n=this[Sr];if(n.readonlyFn===void 0){let e=()=>this();e[Sr]=n,n.readonlyFn=e}return n.readonlyFn}function MM(n){return qN(n)&&typeof n.set=="function"}function GN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(ZN))}return o}return Lu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>JN(o));e.push(c)}),YN(),Promise.all(e).then(()=>{})}function YN(){let n=Lu;return Lu=new Map,n}function QN(){return Lu.size===0}function ZN(n){return typeof n=="string"?n:n.text()}function JN(n){KN.delete(n)}function XN(n){return Object.getPrototypeOf(n.prototype).constructor}function Qt(n){let e=XN(n.type),t=!0,r=[n];for(;e;){let i;if(mi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ou(n.inputs),s.inputTransforms=ou(n.inputTransforms),s.declaredInputs=ou(n.declaredInputs),s.outputs=ou(n.outputs);let a=i.hostBindings;a&&iR(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&nR(n,c),l&&rR(n,l),eR(n,i),xP(n.outputs,i.outputs),mi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Qt&&(t=!1)}}e=Object.getPrototypeOf(e)}tR(r)}function eR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function tR(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ia(i.hostAttrs,t=Ia(t,i.hostAttrs))}}function ou(n){return n===ds?{}:n===Yt?[]:n}function nR(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function rR(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function iR(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function sv(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function oR(n,e,t){return new Vu(n,e,t,!1)}function hd(n,e,t=null){return new lm({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function DM(n){return aR(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function sR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function aR(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function av(n,e,t){return n[e]=t}function cR(n,e){return n[e]}function kr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function lR(n,e,t,r){let i=kr(n,e,t);return kr(n,e+1,r)||i}function uR(n){return(n.flags&32)===32}function dR(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Va(e,n,4,s||null,a||null);ev(e,t,u,ms(l,c)),id(e,u);let d=u.tView=Xm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function fR(n,e,t,r,i,o,s,a,c,l){let u=t+Cn,d=e.firstCreatePass?dR(u,e,n,r,i,o,s,a,c):e.data[u];go(d,!1);let m=pR(e,n,d,t);nd()&&ld(e,n,m,d),vi(m,n);let g=sM(m,n,m,d);return n[u]=g,fd(n,g),kN(g,d,n),Zu(d)&&Zm(e,n,d),c!=null&&Jm(n,d,l),d}function N(n,e,t,r,i,o,s,a){let c=fe(),l=it(),u=ms(l.consts,o);return fR(c,l,n,e,t,r,i,u,s,a),N}function hR(n,e,t,r){return rd(!0),e[Qe].createComment("")}function cv(n,e){!e?.injector&&Om(cv);let t=e?.injector??C(rt);return tk(t)?(yo("NgAfterNextRender"),mR(n,t,e,!0)):vR}function gR(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function mR(n,e,t,r){let i=e.get(SM);i.impl??=e.get(um);let o=t?.phase??cs.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Bt):null,a=new dm(i.impl,gR(n,o),r,s);return i.impl.register(a),a}function Ms(n,e,t,r){let i=fe(),o=td();if(kr(i,o,e)){let s=it(),a=Fm();zk(a,i,n,e,t,r)}return Ms}function xM(n,e,t,r){return kr(n,td(),t)?e+Na(t)+r:mr}function su(n,e){return n<<17|e<<2}function po(n){return n>>17&32767}function yR(n){return(n&2)==2}function _R(n,e){return n&131071|e<<17}function fm(n){return n|2}function Cs(n){return(n&131068)>>2}function Cg(n,e){return n&-131069|e<<2}function CR(n){return(n&1)===1}function pm(n){return n|1}function bR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=po(s),c=Cs(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ra(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let m=po(n[a+1]);n[r+1]=su(m,a),m!==0&&(n[m+1]=Cg(n[m+1],r)),n[a+1]=_R(n[a+1],r)}else n[r+1]=su(a,0),a!==0&&(n[a+1]=Cg(n[a+1],r)),a=r;else n[r+1]=su(c,0),a===0?a=r:n[c+1]=Cg(n[c+1],r),c=r;l&&(n[r+1]=fm(n[r+1])),ow(n,u,r,!0),ow(n,u,r,!1),wR(e,u,n,r,o),s=su(a,c),o?e.classBindings=s:e.styleBindings=s}function wR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ra(o,e)>=0&&(t[r+1]=pm(t[r+1]))}function ow(n,e,t,r){let i=n[t+1],o=e===null,s=r?po(i):Cs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];ER(c,e)&&(a=!0,n[s+1]=r?pm(l):fm(l)),s=r?po(l):Cs(l)}a&&(n[t+1]=r?fm(i):pm(i))}function ER(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ra(n,e)>=0:!1}function MR(n){return n.substring($n.key,$n.keyEnd)}function DR(n){return SR(n),IM(n,OM(n,0,$n.textEnd))}function IM(n,e){let t=$n.textEnd;return t===e?-1:(e=$n.keyEnd=xR(n,$n.key=e,t),OM(n,e,t))}function SR(n){$n.key=0,$n.keyEnd=0,$n.value=0,$n.valueEnd=0,$n.textEnd=n.length}function OM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function xR(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function y(n,e,t){let r=fe(),i=td();if(kr(r,i,e)){let o=it(),s=Fm();rM(o,s,r,n,e,r[Qe],t,!1)}return y}function hm(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";tv(n,t,o[s],s,r)}function Kn(n,e){return OR(n,e,null,!0),Kn}function IR(n,e){for(let t=DR(e);t>=0;t=IM(e,t))Dm(n,MR(e),!0)}function OR(n,e,t,r){let i=fe(),o=it(),s=rE(2);if(o.firstUpdatePass&&PM(o,n,s,r),e!==mr&&kr(i,s,e)){let a=o.data[mo()];AM(o,a,i,i[Qe],n,i[s+1]=LR(e,t),r,s)}}function TR(n,e,t,r){let i=it(),o=rE(2);i.firstUpdatePass&&PM(i,null,o,r);let s=fe();if(t!==mr&&kr(s,o,t)){let a=i.data[mo()];if(kM(a,r)&&!TM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Dg(c,t||"")),hm(i,a,s,t,r)}else FR(i,a,s,s[Qe],s[o+1],s[o+1]=RR(n,e,t),r,o)}}function TM(n,e){return e>=n.expandoStartIndex}function PM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[mo()],s=TM(n,t);kM(o,r)&&e===null&&!s&&(e=!1),e=PR(i,o,e,r),bR(i,o,e,t,s,r)}}function PR(n,e,t,r){let i=q1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=bg(null,n,e,t,r),t=Aa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=bg(i,n,e,t,r),o===null){let c=AR(n,e,r);c!==void 0&&Array.isArray(c)&&(c=bg(null,n,e,c[1],r),c=Aa(c,e.attrs,r),kR(n,e,r,c))}else o=NR(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function AR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Cs(r)!==0)return n[po(r)]}function kR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[po(i)]=r}function NR(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Aa(r,s,t)}return Aa(r,e.attrs,t)}function bg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Aa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Aa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Dm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function RR(n,e,t){if(t==null||t==="")return Yt;let r=[],i=vo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function FR(n,e,t,r,i,o,s,a){i===mr&&(i=Yt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,_=null,E;u===d?(c+=2,l+=2,m!==g&&(_=d,E=g)):d===null||u!==null&&u<d?(c+=2,_=u):(l+=2,_=d,E=g),_!==null&&AM(n,e,t,r,_,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function AM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=CR(l)?sw(c,e,t,i,Cs(l),s):void 0;if(!Uu(u)){Uu(o)||yR(l)&&(o=sw(c,null,t,i,a,s));let d=Ww(mo(),t);bk(r,s,d,i,o)}}function sw(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=t[i+1];m===mr&&(m=d?Yt:void 0);let g=d?dg(m,r):u===r?m:void 0;if(l&&!Uu(g)&&(g=dg(c,r)),Uu(g)&&(a=g,s))return a;let _=n[i+1];i=s?po(_):Cs(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=dg(c,r))}return a}function Uu(n){return n!==void 0}function LR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=jt(vo(n)))),n}function kM(n,e){return(n.flags&(e?8:16))!==0}function NM(n,e,t){let r=fe(),i=xM(r,n,e,t);TR(Dm,IR,i,!0)}function VR(n,e,t,r,i,o){let s=e.consts,a=ms(s,i),c=Va(e,n,2,r,a);return ev(e,t,c,ms(s,o)),c.attrs!==null&&Nu(c,c.attrs,!1),c.mergedAttrs!==null&&Nu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function p(n,e,t,r){let i=fe(),o=it(),s=Cn+n,a=i[Qe],c=o.firstCreatePass?VR(s,o,i,e,t,r):o.data[s],l=jR(o,i,c,a,e,n);i[s]=l;let u=Zu(c);return go(c,!0),QE(a,l,c),!uR(c)&&nd()&&ld(o,i,l,c),k1()===0&&vi(l,i),N1(),u&&(Zm(o,i,c),Qm(o,c,i)),r!==null&&Jm(i,c),p}function f(){let n=wt();Am()?tE():(n=n.parent,go(n,!1));let e=n;L1(e)&&V1(),R1();let t=it();return t.firstCreatePass&&(id(t,n),Tm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&J1(e)&&hm(t,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&X1(e)&&hm(t,e,fe(),e.stylesWithoutHost,!1),f}function A(n,e,t,r){return p(n,e,t,r),f(),A}function UR(n,e,t,r,i){let o=e.consts,s=ms(o,r),a=Va(e,n,8,"ng-container",s);s!==null&&Nu(a,s,!0);let c=ms(o,i);return ev(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Mt(n,e,t){let r=fe(),i=it(),o=n+Cn,s=i.firstCreatePass?UR(o,i,r,e,t):i.data[o];go(s,!0);let a=BR(i,r,s,n);return r[o]=a,nd()&&ld(i,r,a,s),vi(a,r),Zu(s)&&(Zm(i,r,s),Qm(i,s,r)),t!=null&&Jm(r,s),Mt}function Dt(){let n=wt(),e=it();return Am()?tE():(n=n.parent,go(n,!1)),e.firstCreatePass&&(id(e,n),Tm(n)&&e.queries.elementEnd(n)),Dt}function H(){return fe()}function $R(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function Mn(n){let e=zR(n),t=aw(e);if(t)return t;let r=e.split("-")[0];if(t=aw(r),t)return t;if(r==="en")return HR;throw new I(701,!1)}function aw(n){return n in wg||(wg[n]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[n]),wg[n]}function zR(n){return n.toLowerCase().replace(/_/g,"-")}function WR(n){typeof n=="string"&&(qR=n.toLowerCase().replace(/_/g,"-"))}function x(n,e,t,r){let i=fe(),o=it(),s=wt();return RM(o,i,i[Qe],s,n,e,r),x}function KR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Cu],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function RM(n,e,t,r,i,o,s){let a=Zu(r),l=n.firstCreatePass&&lM(n),u=e[zn],d=cM(e),m=!0;if(r.type&3||s){let E=En(r,e),k=s?s(E):E,U=d.length,re=s?ue=>s(gr(ue[r.index])):r.index,G=null;if(!s&&a&&(G=KR(n,e,i,r.index)),G!==null){let ue=G.__ngLastListenerFn__||G;ue.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,m=!1}else{o=lw(r,e,u,o),GR(E,i,o);let ue=t.listen(k,i,o);d.push(o,ue),l&&l.push(i,re,U,U+1)}}else o=lw(r,e,u,o);let g=r.outputs,_;if(m&&g!==null&&(_=g[i])){let E=_.length;if(E)for(let k=0;k<E;k+=2){let U=_[k],re=_[k+1],Ue=e[U][re].subscribe(o),Ce=d.length;d.push(o,Ue),l&&l.push(i,r.index,Ce,-(Ce+1))}}}function cw(n,e,t,r){let i=_e(null);try{return ur(6,e,t),t(r)!==!1}catch(o){return uM(n,o),!1}finally{ur(7,e,t),_e(i)}}function lw(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?bi(n.index,e):e;rv(s,5);let a=cw(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=cw(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function w(n=1){return G1(n)}function FM(n,e,t,r){BN(n,e,t,r)}function gd(n,e,t){UN(n,e,t)}function Ds(n){let e=fe(),t=it(),r=iE();km(r+1);let i=ov(t,r);if(n.dirty&&O1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=zN(e,r);n.reset(o,bA),n.notifyOnChanges()}return!0}return!1}function Ss(){return jN(fe(),iE())}function YR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function dt(n){let e=U1();return Kw(e,Cn+n)}function b(n,e=""){let t=fe(),r=it(),i=n+Cn,o=r.firstCreatePass?Va(r,i,1,e,null):r.data[i],s=QR(r,t,o,e,n);t[i]=s,nd()&&ld(r,t,s,o),go(o,!1)}function gt(n){return ke("",n,""),gt}function ke(n,e,t){let r=fe(),i=xM(r,n,e,t);return i!==mr&&Kk(r,mo(),i),ke}function $t(n,e,t){MM(e)&&(e=e());let r=fe(),i=td();if(kr(r,i,e)){let o=it(),s=Fm();rM(o,s,r,n,e,r[Qe],t,!1)}return $t}function Zt(n,e){let t=MM(n);return t&&n.set(e),t}function Ht(n,e){let t=fe(),r=it(),i=wt();return RM(r,t,t[Qe],i,n,e),Ht}function ZR(n,e,t){let r=it();if(r.firstCreatePass){let i=mi(n);gm(t,r.data,r.blueprint,i,!0),gm(e,r.data,r.blueprint,i,!1)}}function gm(n,e,t,r,i){if(n=Vt(n),Array.isArray(n))for(let o=0;o<n.length;o++)gm(n[o],e,t,r,i);else{let o=it(),s=fe(),a=wt(),c=ps(n)?n:Vt(n.provide),l=Vw(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(ps(n)||!n.multi){let g=new lo(l,i,D),_=Mg(c,e,i?u:u+m,d);_===-1?(jg(Su(a,s),o,c),Eg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[_]=g,s[_]=g)}else{let g=Mg(c,e,u+m,d),_=Mg(c,e,u,u+m),E=g>=0&&t[g],k=_>=0&&t[_];if(i&&!k||!i&&!E){jg(Su(a,s),o,c);let U=eF(i?XR:JR,t.length,i,r,l);!i&&k&&(t[_].providerFactory=U),Eg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=LM(t[i?_:g],l,!i&&r);Eg(o,n,g>-1?g:_,U)}!i&&r&&k&&t[_].componentProviders++}}}function Eg(n,e,t,r){let i=ps(e),o=g1(e);if(i||o){let c=(o?Vt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function LM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Mg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function JR(n,e,t,r){return mm(this.multi,[])}function XR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=uo(t,t[oe],this.providerFactory.index,r);o=a.slice(0,s),mm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],mm(i,o);return o}function mm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function eF(n,e,t,r,i){let o=new lo(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,LM(o,i,r&&!t),o}function ot(n,e=[]){return t=>{t.providersResolver=(r,i)=>ZR(r,i?i(n):n,e)}}function VM(n){yo("NgStandalone"),n.getStandaloneInjector=e=>e.get(tF).getOrCreateStandaloneInjector(n)}function jM(n,e,t){let r=n.\u0275cmp;r.directiveDefs=yu(e,!1),r.pipeDefs=yu(t,!0)}function UM(n,e,t){let r=ed()+n,i=fe();return i[r]===mr?av(i,r,t?e.call(t):e()):cR(i,r)}function ja(n,e,t,r){return $M(fe(),ed(),n,e,t,r)}function Dn(n,e,t,r,i){return nF(fe(),ed(),n,e,t,r,i)}function BM(n,e){let t=n[e];return t===mr?void 0:t}function $M(n,e,t,r,i,o){let s=e+t;return kr(n,s,i)?av(n,s+1,o?r.call(o,i):r(i)):BM(n,s+1)}function nF(n,e,t,r,i,o,s){let a=e+t;return lR(n,a,i,o)?av(n,a+2,s?r.call(s,i,o):r(i,o)):BM(n,a+2)}function St(n,e){let t=it(),r,i=n+Cn;t.firstCreatePass?(r=rF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=io(r.type,!0)),s,a=Kt(D);try{let c=Du(!1),l=o();return Du(c),YR(t,fe(),i,l),l}finally{Kt(a)}}function rF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function xt(n,e,t){let r=n+Cn,i=fe(),o=Kw(i,r);return iF(i,r)?$M(i,ed(),e,o.transform,t,o):o.transform(t)}function iF(n,e){return n[oe].data[e].pure}function Yn(n,e){return pd(n,e)}function oF(n){au!==null&&(n.defaultEncapsulation!==au.defaultEncapsulation||n.preserveWhitespaces!==au.preserveWhitespaces)||(au=n)}function sF(n){uv=n}function wi(n){return!!n&&typeof n.then=="function"}function dv(n){return!!n&&typeof n.subscribe=="function"}function aF(){nC(()=>{throw new I(600,!1)})}function cF(n){return n.isBoundToModule}function uF(n,e,t){try{let r=t();return wi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function zM(n,e){return Array.isArray(e)?e.reduce(zM,n):M(M({},n),e)}function pu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dF(n,e,t,r){if(!t&&!Ju(n))return;pM(n,e,t&&!r?0:1)}function pF(n,e,t){let r=new ju(t);return Promise.resolve(r)}function uw(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function gF({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be($(M({},qM()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:fs,multi:!0,useFactory:()=>{let r=C(hF,{optional:!0});return()=>r.initialize()}},{provide:fs,multi:!0,useFactory:()=>{let r=C(mF);return()=>{r.initialize()}}},e===!0?{provide:vM,useValue:!0}:[],{provide:yM,useValue:t??wE}]}function qM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function yF(){return typeof $localize<"u"&&$localize.locale||Bu}function cu(n){return!n.moduleRef}function _F(n){let e=cu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{cu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Pr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),cu(n)){let o=()=>e.destroy(),s=n.platformInjector.get($u);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get($u);s.add(o),n.moduleRef.onDestroy(()=>{pu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return uF(r,t,()=>{let o=e.get(HM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(bd,Bu);if(WR(s||Bu),cu(n)){let a=e.get(Sn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return CF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function CF(n,e){let t=n.injector.get(Sn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new I(-403,!1);e.push(n)}function bF(n){if(Sa&&!Sa.get(GM,!1))throw new I(400,!1);aF(),Sa=n;let e=n.get(WM);return MF(n),e}function fv(n,e,t=[]){let r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=KM();if(!s||s.injector.get(GM,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):bF(wF(a,r))}return EF(i)}}function wF(n=[],e){return rt.create({name:e,providers:[{provide:Ku,useValue:"platform"},{provide:$u,useValue:new Set([()=>Sa=null])},...n]})}function EF(n){let e=KM();if(!e)throw new I(401,!1);return e}function KM(){return Sa?.get(WM)??null}function MF(n){n.get(Bm,null)?.forEach(t=>t())}function DF(n){return SF(wt(),fe(),(n&16)===16)}function SF(n,e,t){if(Qu(n)&&!t){let r=bi(n.index,e);return new fo(r,r)}else if(n.type&175){let r=e[hr];return new fo(r,e)}return null}function dw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function fw(){return new pv([new ym])}function Ei(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Co(n,e){yo("NgSignals");let t=X0(n);return e?.equal&&(t[Sr].equal=e.equal),t}function sn(n){let e=_e(null);try{return n()}finally{_e(e)}}function ZM(n){let e=gi(n);if(!e)return null;let t=new _s(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var pw,I,tu,bt,IP,vw,xb,yw,TP,L,PP,AP,kP,NP,hu,Da,Ib,ce,Sg,LP,xa,xg,gu,VP,jP,UP,Ob,ls,Gu,Em,ds,Yt,fs,Mw,Dw,vu,Sw,fr,hi,Iw,f1,Ku,lu,m1,fg,Ut,Oa,Nr,oe,Q,At,Hn,qn,_u,Cu,zn,hs,pr,Qe,Ta,kb,ws,hr,oo,ss,Tr,Yu,Uw,fi,pg,_n,Cn,Bw,so,bu,gs,nn,wu,Ng,zw,Nb,ur,x1,I1,le,Jw,lE,uE,us,lo,gg,Lg,Vg,tA,pE,hE,nA,dr,ro,rt,lA,uA,wE,Bt,Bg,Lr,$g,X,jm,Iu,fA,be,pA,Ou,Pr,_A,Et,zg,SE,EA,Hb,Wg,od,SA,Bm,rn,$m,Hm,xA,IA,OA,AE,TA,nu,ru,Tu,Gg,Kg,RA,NE,RE,FE,FA,LA,VA,Wb,LE,jA,UA,BA,$A,Yg,WA,GA,iu,La,ZA,JA,XA,Ar,nk,vk,Zb,mr,Ik,dM,iN,sN,aN,fo,yi,fN,pN,tK,gN,vs,iv,vM,yM,tm,ku,vN,nm,ys,_i,Gn,_N,Ru,_s,rm,jr,ON,_M,PN,AN,im,om,Fu,sm,am,iw,Lu,KN,Ci,Pa,Vu,ju,lm,pR,cs,SM,um,dm,vR,$n,jR,BR,no,HR,wg,Xe,Bu,qR,GR,QR,tF,au,md,lv,Ua,vd,yd,uv,xs,HM,_d,lF,Sn,vm,Cd,fF,hF,mF,vF,bd,$u,WM,Sa,GM,on,ym,xF,_m,Cm,bm,Hu,pv,YM,QM,R=h(()=>{"use strict";sC();Me();ui();pw="https://g.co/ng/security#xss",I=class extends Error{constructor(e,t){super(zu(e,t)),this.code=e}};tu="__parameters__";bt=globalThis;IP=Ne({__forward_ref__:Ne});vw=Ne({\u0275prov:Ne}),xb=Ne({\u0275inj:Ne}),yw=Ne({ngInjectableDef:Ne}),TP=Ne({ngInjectorDef:Ne}),L=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};PP=Ne({\u0275cmp:Ne}),AP=Ne({\u0275dir:Ne}),kP=Ne({\u0275pipe:Ne}),NP=Ne({\u0275mod:Ne}),hu=Ne({\u0275fac:Ne}),Da=Ne({__NG_ELEMENT_ID__:Ne}),Ib=Ne({__NG_ENV_ID__:Ne});ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{});LP={},xa=LP,xg="__NG_DI_FLAG__",gu="ngTempTokenPath",VP="ngTokenPath",jP=/\n/gm,UP="\u0275",Ob="__source";Gu=ww(hw("Optional"),8),Em=ww(hw("SkipSelf"),4);ds={},Yt=[],fs=new L(""),Mw=new L("",-1),Dw=new L(""),vu=class{get(e,t=xa){if(t===xa){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}},Sw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Sw||{}),fr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(fr||{}),hi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(hi||{});Iw="ng-template";f1=Ne({provide:String,useValue:Ne});Ku=new L(""),lu={},m1={};Ut=class{},Oa=class extends Ut{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(e,s=>this.processProvider(s)),this.records.set(Mw,os(void 0,this)),i.has("environment")&&this.records.set(Ut,os(void 0,this));let o=this.records.get(Ku);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dw,Yt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=di(this),r=Kt(void 0),i;try{return e()}finally{di(t),Kt(r)}}get(e,t=xa,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ib))return e[Ib](this);r=Wu(r);let i,o=di(this),s=Kt(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=b1(e)&&qu(e);l&&this.injectableDefInScope(l)?c=os(Pg(e),lu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ce.Self?Im():this.parent;return t=r&ce.Optional&&t===xa?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[gu]=a[gu]||[]).unshift(jt(e)),o)throw a;return zP(a,e,"R3InjectorError",this.source)}else throw a}finally{Kt(s),di(o)}}resolveInjectorInitializers(){let e=_e(null),t=di(this),r=Kt(void 0),i;try{let o=this.get(fs,Yt,ce.Self);for(let s of o)s()}finally{di(t),Kt(r),_e(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=Vt(e);let t=ps(e)?e:Vt(e&&e.provide),r=y1(e);if(!ps(e)&&e.multi===!0){let i=this.records.get(t);i||(i=os(void 0,lu,!0),i.factory=()=>Ig(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=_e(null);try{return t.value===lu&&(t.value=m1,t.value=t.factory()),typeof t.value=="object"&&t.value&&C1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Nr=0,oe=1,Q=2,At=3,Hn=4,qn=5,_u=6,Cu=7,zn=8,hs=9,pr=10,Qe=11,Ta=12,kb=13,ws=14,hr=15,oo=16,ss=17,Tr=18,Yu=19,Uw=20,fi=21,pg=22,_n=23,Cn=25,Bw=1,so=7,bu=8,gs=9,nn=10,wu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(wu||{});Ng=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};Wn.ngInherit=!0;zw="__ngSimpleChanges__";Nb=null,ur=function(n,e,t){Nb?.(n,e,t)},x1="svg",I1="math";le={lFrame:aE(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Jw=!1;lE=cE;uE=!0;us=-1,lo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};gg={},Lg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Wu(r);let i=this.injector.get(e,gg,r);return i!==gg||t===gg?i:this.parentInjector.get(e,t,r)}};Vg=!0;tA=256,pE=tA-1,hE=5,nA=0,dr={};ro=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yE(this._tNode,this._lView,e,Wu(r),t)}};rt=class n{static{this.THROW_IF_NOT_FOUND=xa}static{this.NULL=new vu}static create(e,t){if(Array.isArray(e))return jb({name:""},t,e,"");{let r=e.name??"";return jb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=O({token:n,providedIn:"any",factory:()=>F(Mw)})}static{this.__NG_ELEMENT_ID__=-1}};lA=new L("");lA.__NG_ELEMENT_ID__=n=>{let e=wt();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new I(204,!1)};uA="ngOriginalError";wE=!0,Bt=(()=>{class n{static{this.__NG_ELEMENT_ID__=dA}static{this.__NG_ENV_ID__=t=>t}}return n})(),Bg=class extends Bt{constructor(e){super(),this._lView=e}onDestroy(e){return Zw(this._lView,e),()=>A1(this._lView,e)}};Lr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}}return n})(),$g=class extends me{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,jw()&&(this.destroyRef=C(Bt,{optional:!0})??void 0,this.pendingTasks=C(Lr,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},X=$g;jm="isAngularZone",Iu=jm+"_ID",fA=0,be=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wE}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,gA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pA,xu,xu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},pA={};Ou=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};Pr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&vg(e);for(;t&&vg(t);)t=vg(t);return t||null}},_A=new L("",{providedIn:"root",factory:()=>{let n=C(be),e=C(Pr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});Et=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=CA}}return n})();zg=class n{get changes(){return this._changes??=new X}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=wA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=GP(e);(this._changesDetected=!WP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};SE=new Map,EA=0;Hb="__ngContext__";od=new L("",{providedIn:"root",factory:()=>SA}),SA="ng",Bm=new L(""),rn=new L("",{providedIn:"platform",factory:()=>"unknown"}),$m=new L(""),Hm=new L("",{providedIn:"root",factory:()=>PE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),xA="h",IA="b",OA=()=>null;AE=!1,TA=new L("",{providedIn:"root",factory:()=>AE});Tu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pw})`}};Gg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(sd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Kg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=sd(e),t}};RA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;NE=Vr("area,br,col,hr,img,wbr"),RE=Vr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),FE=Vr("rp,rt"),FA=Fa(FE,RE),LA=Fa(RE,Vr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),VA=Fa(FE,Vr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wb=Fa(NE,LA,VA,FA),LE=Vr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jA=Vr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),UA=Vr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),BA=Fa(LE,jA,UA),$A=Vr("script,style,template"),Yg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=qA(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=zA(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Gb(e).toLowerCase();if(!Wb.hasOwnProperty(t))return this.sanitizedSomething=!0,!$A.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!BA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;LE[a]&&(c=qm(c)),this.buf.push(" ",s,'="',Kb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Gb(e).toLowerCase();Wb.hasOwnProperty(t)&&!NE.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Kb(e))}};WA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,GA=/([^\#-~ |!])/g;La=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(La||{});ZA=/^>|^->|<!--|-->|--!>|<!-$/g,JA=/(<|>)/g,XA="\u200B$1\u200B";Ar=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ar||{});vk=mk;mr={};Ik=()=>null;dM=[];iN=$(M({},ha),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Xu(n.lView)},consumerOnSignalRead(){this.lView[_n]=this}});sN=$(M({},ha),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ao(n.lView);for(;e&&!fM(e[oe]);)e=ao(e);e&&Qw(e)},consumerOnSignalRead(){this.lView[_n]=this}});aN=100;fo=class{get rootNodes(){let e=this._lView,t=e[oe];return Au(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zn]}set context(e){this._lView[zn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(Rr(e)){let t=e[bu],r=t?t.indexOf(this):-1;r>-1&&(Qg(e,r),mu(t,r))}this._attachedToViewContainer=!1}qE(this._lView[oe],this._lView)}onDestroy(e){Zw(this._lView,e)}markForCheck(){rv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Rg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,pM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=kg(this._lView),t=this._lView[oo];t!==null&&!e&&Km(t,this._lView),HE(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let t=kg(this._lView),r=this._lView[oo];r!==null&&!t&&zE(r,this._lView),Rg(this._lView)}},yi=(()=>{class n{static{this.__NG_ELEMENT_ID__=hN}}return n})(),fN=yi,pN=class extends fN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Jk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new fo(i)}};tK=new RegExp(`^(\\d+)*(${IA}|${xA})*(.*)`),gN=()=>null;vs=class{},iv=new L("",{providedIn:"root",factory:()=>!1}),vM=new L(""),yM=new L(""),tm=class{},ku=class{};vN="ngComponent",nm=class{resolveComponentFactory(e){throw mN(e)}},ys=class{static{this.NULL=new nm}},_i=class{},Gn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>yN()}}return n})();_N=(()=>{class n{static{this.\u0275prov=O({token:n,providedIn:"root",factory:()=>null})}}return n})();Ru=class extends ys{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=gi(e);return new _s(t,this.ngModule)}};_s=class extends ku{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=nw(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return nw(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=s1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Ut?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Lg(e,s):e,c=a.get(_i,null);if(c===null)throw new I(407,!1);let l=a.get(_N,null),u=a.get(vs,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?Sk(m,r,this.componentDef.encapsulation,a):$E(m,g,CN(g)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let k=null;_!==null&&(k=zm(_,a,!0));let U=Xm(0,null,null,1,0,null,null,null,null,null,null),re=dd(null,U,null,E,null,null,d,m,a,null,k);Nm(re);let G,ue,Ue=null;try{let Ce=this.componentDef,Pe,he=null;Ce.findHostDirectiveDefs?(Pe=[],he=new Map,Ce.findHostDirectiveDefs(Ce,Pe,he),Pe.push(Ce)):Pe=[Ce];let Be=bN(re,_);Ue=wN(Be,_,Ce,Pe,re,d,m),ue=Gw(U,Cn),_&&DN(m,Ce,_,r),t!==void 0&&SN(ue,this.ngContentSelectors,t),G=MN(Ue,Ce,Pe,he,re,[xN]),nv(U,re,null)}catch(Ce){throw Ue!==null&&qg(Ue),qg(re),Ce}finally{Rm()}return new rm(this.componentType,G,Es(ue,re),re,ue)}finally{_e(o)}}},rm=class extends tm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new fo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;tv(o[oe],o,i,e,t),this.previousInputValues.set(e,t);let s=bi(this._tNode.index,o);rv(s,1)}}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};jr=(()=>{class n{static{this.__NG_ELEMENT_ID__=IN}}return n})();ON=jr,_M=class extends ON{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lm(this._hostTNode,this._hostLView);if(fE(e)){let t=Mu(e,this._hostLView),r=Eu(e),i=t[oe].data[r+8];return new ro(i,t)}else return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=rw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=tw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ew(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!E1(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new _s(gi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Ut,null);E&&(o=E)}let u=gi(c.componentType??{}),d=tw(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,ew(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(T1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[At],l=new _M(c,c[qn],c[At]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Xk(s,i,o,r),e.attachToViewContainerRef(),Ew(_g(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=rw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Qg(this._lContainer,t);r&&(mu(_g(this._lContainer),t),qE(r[oe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Qg(this._lContainer,t);return r&&mu(_g(this._lContainer),t)!=null?new fo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};PN=NN,AN=()=>!1;im=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},om=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ov(e,t).matches!==null&&this.queries[t].setDirty()}},Fu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=$N(e):this.predicate=e}},sm=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},am=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,RN(t,o)),this.matchTNodeWithReadOption(e,t,fu(t,e,o,!1,!1))}else r===yi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,fu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Et||i===jr||i===yi&&t.type&4)this.addMatch(t.index,-2);else{let o=fu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};iw=new Set;Lu=new Map,KN=new Set;Ci=class{},Pa=class{},Vu=class extends Ci{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ru(this);let o=Aw(e);this._bootstrapComponents=BE(o.bootstrap),this._r3Injector=bE(e,t,[{provide:Ci,useValue:this},{provide:ys,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ju=class extends Pa{constructor(e){super(),this.moduleType=e}create(e){return new Vu(this.moduleType,e,[])}};lm=class extends Ci{constructor(e){super(),this.componentFactoryResolver=new Ru(this),this.instance=null;let t=new Oa([...e.providers,{provide:Ci,useValue:this},{provide:ys,useValue:this.componentFactoryResolver}],e.parent||Im(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};pR=hR;cs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(cs||{}),SM=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}}return n})(),um=class n{constructor(){this.ngZone=C(be),this.scheduler=C(vs),this.errorHandler=C(Pr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[cs.EarlyRead,cs.Write,cs.MixedReadWrite,cs.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=O({token:n,providedIn:"root",factory:()=>new n})}},dm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};vR={destroy(){}};$n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};jR=(n,e,t,r,i,o)=>(rd(!0),$E(r,i,K1()));BR=(n,e,t,r)=>(rd(!0),ok(e[Qe],""));no=void 0;HR=["en",[["a","p"],["AM","PM"],no],[["AM","PM"],no,no],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],no,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],no,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",no,"{1} 'at' {0}",no],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$R],wg={};Xe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Xe||{});Bu="en-US",qR=Bu;GR=(n,e,t)=>{};QR=(n,e,t,r,i)=>(rd(!0),rk(e[Qe],r));tF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Rw(!1,t.type),i=r.length>0?hd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=O({token:n,providedIn:"environment",factory:()=>new n(F(Ut))})}}return n})();au=null;md=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),lv=new L(""),Ua=new L(""),vd=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,uv||(sF(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(F(be),F(yd),F(Ua))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),yd=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return uv?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();xs=new L(""),HM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=C(xs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(wi(o))t.push(o);else if(dv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_d=new L("");lF=10;Sn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(_A),this.afterRenderManager=C(SM),this.zonelessEnabled=C(iv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new me,this.afterTick=new me,this.componentTypes=[],this.components=[],this.isStable=C(Lr).hasPendingTasks.pipe(j(t=>!t)),this._injector=C(Ut)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof ku;if(!this._injector.get(HM).done){let m=!i&&Pw(t),g=!1;throw new I(405,g)}let s;i?s=t:s=this._injector.get(ys).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=cF(s)?void 0:this._injector.get(Ci),c=r||s.selector,l=s.create(rt.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(lv,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),pu(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(_i,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<lF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)dF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ju(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;pu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(_d,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();vm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Cd=(()=>{class n{compileModuleSync(t){return new ju(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Aw(t),o=BE(i.declarations).reduce((s,a)=>{let c=gi(a);return c&&s.push(new _s(c)),s},[]);return new vm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fF=new L("");hF=(()=>{class n{constructor(){this.zone=C(be),this.changeDetectionScheduler=C(vs),this.applicationRef=C(Sn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();mF=(()=>{class n{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=C(be),this.pendingTasks=C(Lr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vF=(()=>{class n{constructor(){this.appRef=C(Sn),this.taskService=C(Lr),this.ngZone=C(be),this.zonelessEnabled=C(iv),this.disableScheduling=C(vM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Iu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(yM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ou||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ub:EE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Iu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ub(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();bd=new L("",{providedIn:"root",factory:()=>C(bd,ce.Optional|ce.SkipSelf)||yF()}),$u=new L("");WM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>yA(r?.ngZone,$(M({},qM({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[gF({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:vs,useExisting:vF}],c=oR(t.moduleType,this.injector,a);return _F({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=zM({},r);return pF(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get($u,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(F(rt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Sa=null,GM=new L("");on=(()=>{class n{static{this.__NG_ELEMENT_ID__=DF}}return n})();ym=class{constructor(){}supports(e){return DM(e)}create(e){return new _m(e)}},xF=(n,e)=>e,_m=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<dw(r,i,o)?t:r,a=dw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;u<=_&&_<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!DM(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,sR(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Cm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},bm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new bm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};pv=(()=>{class n{static{this.\u0275prov=O({token:n,providedIn:"root",factory:fw})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fw()),deps:[[n,new Em,new Gu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new I(901,!1)}}return n})(),YM=fv(null,"core",[]),QM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(F(Sn))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})()});function vr(){return iD}function oD(n){iD??=n}function xv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function JM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Br(n){return n&&n[0]!=="?"?"?"+n:n}function TF(){return new Os(F(Hr))}function PF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function XM(n){return n.replace(/\/index.html$/,"")}function AF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function kF(n){return Mn(n)[Xe.LocaleId]}function NF(n,e,t){let r=Mn(n),i=[r[Xe.DayPeriodsFormat],r[Xe.DayPeriodsStandalone]],o=xn(i,e);return xn(o,t)}function RF(n,e,t){let r=Mn(n),i=[r[Xe.DaysFormat],r[Xe.DaysStandalone]],o=xn(i,e);return xn(o,t)}function FF(n,e,t){let r=Mn(n),i=[r[Xe.MonthsFormat],r[Xe.MonthsStandalone]],o=xn(i,e);return xn(o,t)}function LF(n,e){let r=Mn(n)[Xe.Eras];return xn(r,e)}function wd(n,e){let t=Mn(n);return xn(t[Xe.DateFormat],e)}function Ed(n,e){let t=Mn(n);return xn(t[Xe.TimeFormat],e)}function Md(n,e){let r=Mn(n)[Xe.DateTimeFormat];return xn(r,e)}function Ad(n,e){let t=Mn(n),r=t[Xe.NumberSymbols][e];if(typeof r>"u"){if(e===Mi.CurrencyDecimal)return t[Xe.NumberSymbols][Mi.Decimal];if(e===Mi.CurrencyGroup)return t[Xe.NumberSymbols][Mi.Group]}return r}function lD(n){if(!n[Xe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Xe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function VF(n){let e=Mn(n);return lD(e),(e[Xe.ExtraData][2]||[]).map(r=>typeof r=="string"?hv(r):[hv(r[0]),hv(r[1])])}function jF(n,e,t){let r=Mn(n);lD(r);let i=[r[Xe.ExtraData][0],r[Xe.ExtraData][1]],o=xn(i,e)||[];return xn(o,t)||[]}function xn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function hv(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function $F(n,e,t,r){let i=ZF(n);e=Ur(t,e)||e;let s=[],a;for(;e;)if(a=BF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=dD(r,c),i=QF(i,r,!0));let l="";return s.forEach(u=>{let d=KF(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Pd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ur(n,e){let t=kF(n);if(Dd[t]??={},Dd[t][e])return Dd[t][e];let r="";switch(e){case"shortDate":r=wd(n,an.Short);break;case"mediumDate":r=wd(n,an.Medium);break;case"longDate":r=wd(n,an.Long);break;case"fullDate":r=wd(n,an.Full);break;case"shortTime":r=Ed(n,an.Short);break;case"mediumTime":r=Ed(n,an.Medium);break;case"longTime":r=Ed(n,an.Long);break;case"fullTime":r=Ed(n,an.Full);break;case"short":let i=Ur(n,"shortTime"),o=Ur(n,"shortDate");r=Sd(Md(n,an.Short),[i,o]);break;case"medium":let s=Ur(n,"mediumTime"),a=Ur(n,"mediumDate");r=Sd(Md(n,an.Medium),[s,a]);break;case"long":let c=Ur(n,"longTime"),l=Ur(n,"longDate");r=Sd(Md(n,an.Long),[c,l]);break;case"full":let u=Ur(n,"fullTime"),d=Ur(n,"fullDate");r=Sd(Md(n,an.Full),[u,d]);break}return r&&(Dd[t][e]=r),r}function Sd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Qn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function HF(n,e){return Qn(n,3).substring(0,e)}function st(n,e,t=0,r=!1,i=!1){return function(o,s){let a=zF(n,o);if((t>0||a>-t)&&(a+=t),n===Se.Hours)a===0&&t===-12&&(a=12);else if(n===Se.FractionalSeconds)return HF(a,e);let c=Ad(s,Mi.MinusSign);return Qn(a,e,c,r,i)}}function zF(n,e){switch(n){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ve(n,e,t=zt.Format,r=!1){return function(i,o){return qF(i,o,n,e,t,r)}}function qF(n,e,t,r,i,o){switch(t){case De.Months:return FF(e,i,r)[n.getMonth()];case De.Days:return RF(e,i,r)[n.getDay()];case De.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=VF(e),u=jF(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,_]=m,E=s>=g.hours&&a>=g.minutes,k=s<_.hours||s===_.hours&&a<_.minutes;if(g.hours<_.hours){if(E&&k)return!0}else if(E||k)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return NF(e,i,r)[s<12?0:1];case De.Eras:return LF(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function xd(n){return function(e,t,r){let i=-1*r,o=Ad(t,Mi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case $r.Short:return(i>=0?"+":"")+Qn(s,2,o)+Qn(Math.abs(i%60),2,o);case $r.ShortGMT:return"GMT"+(i>=0?"+":"")+Qn(s,1,o);case $r.Long:return"GMT"+(i>=0?"+":"")+Qn(s,2,o)+":"+Qn(Math.abs(i%60),2,o);case $r.Extended:return r===0?"Z":(i>=0?"+":"")+Qn(s,2,o)+":"+Qn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function GF(n){let e=Pd(n,WF,1).getDay();return Pd(n,0,1+(e<=Od?Od:Od+7)-e)}function uD(n){let e=n.getDay(),t=e===0?-3:Od-e;return Pd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function gv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=uD(t),s=GF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Qn(i,n,Ad(r,Mi.MinusSign))}}function Id(n,e=!1){return function(t,r){let o=uD(t).getFullYear();return Qn(o,n,Ad(r,Mi.MinusSign),e)}}function KF(n){if(mv[n])return mv[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ve(De.Eras,Re.Abbreviated);break;case"GGGG":e=Ve(De.Eras,Re.Wide);break;case"GGGGG":e=Ve(De.Eras,Re.Narrow);break;case"y":e=st(Se.FullYear,1,0,!1,!0);break;case"yy":e=st(Se.FullYear,2,0,!0,!0);break;case"yyy":e=st(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=st(Se.FullYear,4,0,!1,!0);break;case"Y":e=Id(1);break;case"YY":e=Id(2,!0);break;case"YYY":e=Id(3);break;case"YYYY":e=Id(4);break;case"M":case"L":e=st(Se.Month,1,1);break;case"MM":case"LL":e=st(Se.Month,2,1);break;case"MMM":e=Ve(De.Months,Re.Abbreviated);break;case"MMMM":e=Ve(De.Months,Re.Wide);break;case"MMMMM":e=Ve(De.Months,Re.Narrow);break;case"LLL":e=Ve(De.Months,Re.Abbreviated,zt.Standalone);break;case"LLLL":e=Ve(De.Months,Re.Wide,zt.Standalone);break;case"LLLLL":e=Ve(De.Months,Re.Narrow,zt.Standalone);break;case"w":e=gv(1);break;case"ww":e=gv(2);break;case"W":e=gv(1,!0);break;case"d":e=st(Se.Date,1);break;case"dd":e=st(Se.Date,2);break;case"c":case"cc":e=st(Se.Day,1);break;case"ccc":e=Ve(De.Days,Re.Abbreviated,zt.Standalone);break;case"cccc":e=Ve(De.Days,Re.Wide,zt.Standalone);break;case"ccccc":e=Ve(De.Days,Re.Narrow,zt.Standalone);break;case"cccccc":e=Ve(De.Days,Re.Short,zt.Standalone);break;case"E":case"EE":case"EEE":e=Ve(De.Days,Re.Abbreviated);break;case"EEEE":e=Ve(De.Days,Re.Wide);break;case"EEEEE":e=Ve(De.Days,Re.Narrow);break;case"EEEEEE":e=Ve(De.Days,Re.Short);break;case"a":case"aa":case"aaa":e=Ve(De.DayPeriods,Re.Abbreviated);break;case"aaaa":e=Ve(De.DayPeriods,Re.Wide);break;case"aaaaa":e=Ve(De.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":e=Ve(De.DayPeriods,Re.Abbreviated,zt.Standalone,!0);break;case"bbbb":e=Ve(De.DayPeriods,Re.Wide,zt.Standalone,!0);break;case"bbbbb":e=Ve(De.DayPeriods,Re.Narrow,zt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ve(De.DayPeriods,Re.Abbreviated,zt.Format,!0);break;case"BBBB":e=Ve(De.DayPeriods,Re.Wide,zt.Format,!0);break;case"BBBBB":e=Ve(De.DayPeriods,Re.Narrow,zt.Format,!0);break;case"h":e=st(Se.Hours,1,-12);break;case"hh":e=st(Se.Hours,2,-12);break;case"H":e=st(Se.Hours,1);break;case"HH":e=st(Se.Hours,2);break;case"m":e=st(Se.Minutes,1);break;case"mm":e=st(Se.Minutes,2);break;case"s":e=st(Se.Seconds,1);break;case"ss":e=st(Se.Seconds,2);break;case"S":e=st(Se.FractionalSeconds,1);break;case"SS":e=st(Se.FractionalSeconds,2);break;case"SSS":e=st(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xd($r.Short);break;case"ZZZZZ":e=xd($r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xd($r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xd($r.Long);break;default:return null}return mv[n]=e,e}function dD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function YF(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function QF(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=dD(e,i);return YF(n,r*(o-i))}function ZF(n){if(eD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Pd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(UF))return JF(r)}let e=new Date(n);if(!eD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function JF(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function eD(n){return n instanceof Date&&!isNaN(n.valueOf())}function kd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function nD(n,e){n.context.$implicit=e.item}function rD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}function pD(n,e){return new I(2100,!1)}function Rd(n){return n===Tv}function Fd(n){return n===iL}function oL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var iD,Td,mt,Sv,sD,OF,Hr,aD,Iv,cD,Os,zt,Re,an,Mi,UF,Dd,BF,$r,Se,De,WF,Od,mv,vv,tD,yr,yv,_r,ve,_v,Cv,Ov,fD,bv,wv,XF,eL,Jt,tL,nL,rL,Nd,hD,Tv,iL,gD,Ev,Mv,Is,xe=h(()=>{"use strict";R();R();iD=null;Td=class{},mt=new L(""),Sv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>C(OF),providedIn:"platform"})}}return n})(),sD=new L(""),OF=(()=>{class n extends Sv{constructor(){super(),this._doc=C(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(t){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Hr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>C(Iv),providedIn:"root"})}}return n})(),aD=new L(""),Iv=(()=>{class n extends Hr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(Sv),F(aD,8))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cD=(()=>{class n extends Hr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=xv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(Sv),F(aD,8))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Os=(()=>{class n{constructor(t){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=AF(JM(XM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Br(r))}normalize(t){return n.stripTrailingSlash(PF(this._basePath,XM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Br}static{this.joinWithSlash=xv}static{this.stripTrailingSlash=JM}static{this.\u0275fac=function(r){return new(r||n)(F(Hr))}}static{this.\u0275prov=O({token:n,factory:()=>TF(),providedIn:"root"})}}return n})();zt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(zt||{}),Re=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Re||{}),an=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(an||{}),Mi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};UF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dd={},BF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$r=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}($r||{}),Se=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Se||{}),De=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(De||{});WF=0,Od=4;mv={};vv=/\s+/,tD=[],yr=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=tD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(vv):tD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(vv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(vv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(Et),D(Gn))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),yv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_r=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new yv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),nD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);nD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(jr),D(yi),D(pv))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();ve=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _v,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(jr),D(yi))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),_v=class{constructor(){this.$implicit=null,this.ngIf=null}};Cv=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Ov=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),fD=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Cv(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||n)(D(jr),D(yi),D(Ov,9))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})();bv=class{createSubscription(e,t){return sn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){sn(()=>e.unsubscribe())}},wv=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},XF=new wv,eL=new bv,Jt=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(wi(t))return XF;if(dv(t))return eL;throw pD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(on,16))}}static{this.\u0275pipe=ho({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),tL="mediumDate",nL=new L(""),rL=new L(""),Nd=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??tL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return $F(t,s,o||this.locale,a)}catch(s){throw pD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(bd,16),D(nL,24),D(rL,24))}}static{this.\u0275pipe=ho({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),hD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})(),Tv="browser",iL="server";gD=(()=>{class n{static{this.\u0275prov=O({token:n,providedIn:"root",factory:()=>Rd(C(rn))?new Ev(C(mt),window):new Mv})}}return n})(),Ev=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=oL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};Mv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Is=class{}});function sL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function mD(n){return encodeURIComponent(n).replace(aL,(e,t)=>cL[t]??e)}function Ld(n){return`${n}`}function lL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yD(n){return typeof Blob<"u"&&n instanceof Blob}function _D(n){return typeof FormData<"u"&&n instanceof FormData}function uL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function Pv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function CD(n){if(n.url)return n.url;let e=pL.toLocaleLowerCase();return n.headers.get(e)}function Rv(){}function gL(n){n.then(Rv,Rv)}function DD(n,e){return e(n)}function mL(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function vL(n,e,t){return(r,i)=>wn(t,()=>e(r,o=>n(o,i)))}function CL(){let n=null;return(e,t)=>{n===null&&(n=(C(yL,{optional:!0})??[]).reduceRight(mL,DD));let r=C(Lr);if(C(SD)){let o=r.add();return n(e,t).pipe(tn(()=>r.remove(o)))}else return n(e,t)}}function wL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function IL(n,e){let t=n.url.toLowerCase();if(!C(xD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=C(Ud).getToken(),i=C(SL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function OL(n,e){return{\u0275kind:n,\u0275providers:e}}function TL(...n){let e=[bo,wD,bD,{provide:$a,useExisting:bD},{provide:Vd,useFactory:()=>C(hL,{optional:!0})??C(wD)},{provide:Fv,useValue:IL,multi:!0},{provide:xD,useValue:!0},{provide:Ud,useClass:xL}];for(let t of n)e.push(...t.\u0275providers);return bs(e)}function PL(){return OL(ID.LegacyInterceptors,[{provide:ED,useFactory:CL},{provide:Fv,useExisting:ED,multi:!0}])}var $a,Vd,zr,Av,aL,cL,Si,kv,Ba,xi,Ha,jd,za,Di,MD,dL,bo,fL,pL,hL,Nv,yL,Fv,_L,SD,bD,bL,wD,xD,EL,ML,DL,SL,Ud,xL,ID,ED,OD,qa=h(()=>{"use strict";R();R();Me();ui();xe();xe();$a=class{},Vd=class{},zr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},Av=class{encodeKey(e){return mD(e)}encodeValue(e){return mD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};aL=/%(\d[a-f0-9])/gi,cL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};Si=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Av,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=sL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ld):[Ld(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ld(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ld(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},kv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};Ba=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(lL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new zr,this.context??=new kv,!this.params)this.params=new Si,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vD(this.body)||yD(this.body)||_D(this.body)||uL(this.body)?this.body:this.body instanceof Si?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_D(this.body)?null:yD(this.body)?this.body.type||null:vD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Si?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},xi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(xi||{}),Ha=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new zr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jd=class n extends Ha{constructor(e={}){super(e),this.type=xi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},za=class n extends Ha{constructor(e={}){super(e),this.type=xi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Di=class extends Ha{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},MD=200,dL=204;bo=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ba)o=t;else{let c;i.headers instanceof zr?c=i.headers:c=new zr(i.headers);let l;i.params&&(i.params instanceof Si?l=i.params:l=new Si({fromObject:i.params})),o=new Ba(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=V(o).pipe(mn(c=>this.handler.handle(c)));if(t instanceof Ba||i.observe==="events")return s;let a=s.pipe(Fe(c=>c instanceof za));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Si().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Pv(i,r))}post(t,r,i={}){return this.request("POST",t,Pv(i,r))}put(t,r,i={}){return this.request("PUT",t,Pv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(F($a))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),fL=/^\)\]\}',?\n/,pL="X-Request-URL";hL=(()=>{class n{constructor(){this.fetchImpl=C(Nv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=C(be)}handle(t){return new ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Rv,o=>r.error(new Di({error:o}))),()=>i.abort()})}doRequest(t,r,i){return S(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,M({signal:r},o)));gL(g),i.next({type:xi.Sent}),s=yield g}catch(g){i.error(new Di({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new zr(s.headers),c=s.statusText,l=CD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new jd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),_=[],E=s.body.getReader(),k=0,U,re,G=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:Ue,value:Ce}=yield E.read();if(Ue)break;if(_.push(Ce),k+=Ce.length,t.reportProgress){re=t.responseType==="text"?(re??"")+(U??=new TextDecoder).decode(Ce,{stream:!0}):void 0;let Pe=()=>i.next({type:xi.DownloadProgress,total:g?+g:void 0,loaded:k,partialText:re});G?G.run(Pe):Pe()}}}));let ue=this.concatChunks(_,k);try{let Ue=s.headers.get("Content-Type")??"";d=this.parseBody(t,ue,Ue)}catch(Ue){i.error(new Di({error:Ue,headers:new zr(s.headers),status:s.status,statusText:s.statusText,url:CD(s)??t.urlWithParams}));return}}u===0&&(u=d?MD:0),u>=200&&u<300?(i.next(new za({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new Di({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(fL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Nv=class{};yL=new L(""),Fv=new L(""),_L=new L(""),SD=new L("",{providedIn:"root",factory:()=>!0});bD=(()=>{class n extends $a{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=C(Lr),this.contributeToStability=C(SD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Fv),...this.injector.get(_L,[])]));this.chain=r.reduceRight((i,o)=>vL(i,o,this.injector),DD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(tn(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(F(Vd),F(Ut))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),bL=/^\)\]\}',?\n/;wD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new I(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?K(r.\u0275loadImpl()):V(null)).pipe(Le(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((E,k)=>s.setRequestHeader(E,k.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let E=t.detectContentTypeHeader();E!==null&&s.setRequestHeader("Content-Type",E)}if(t.responseType){let E=t.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let E=s.statusText||"OK",k=new zr(s.getAllResponseHeaders()),U=wL(s)||t.url;return c=new jd({headers:k,status:s.status,statusText:E,url:U}),c},u=()=>{let{headers:E,status:k,statusText:U,url:re}=l(),G=null;k!==dL&&(G=typeof s.response>"u"?s.responseText:s.response),k===0&&(k=G?MD:0);let ue=k>=200&&k<300;if(t.responseType==="json"&&typeof G=="string"){let Ue=G;G=G.replace(bL,"");try{G=G!==""?JSON.parse(G):null}catch(Ce){G=Ue,ue&&(ue=!1,G={error:Ce,text:G})}}ue?(o.next(new za({body:G,headers:E,status:k,statusText:U,url:re||void 0})),o.complete()):o.error(new Di({error:G,headers:E,status:k,statusText:U,url:re||void 0}))},d=E=>{let{url:k}=l(),U=new Di({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});o.error(U)},m=!1,g=E=>{m||(o.next(l()),m=!0);let k={type:xi.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),t.responseType==="text"&&s.responseText&&(k.partialText=s.responseText),o.next(k)},_=E=>{let k={type:xi.UploadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),o.next(k)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:xi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(F(Is))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),xD=new L(""),EL="XSRF-TOKEN",ML=new L("",{providedIn:"root",factory:()=>EL}),DL="X-XSRF-TOKEN",SL=new L("",{providedIn:"root",factory:()=>DL}),Ud=class{},xL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(F(mt),F(rn),F(ML))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();ID=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ID||{});ED=new L("");OD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[TL(PL())]})}}return n})()});function AL(){return Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null}function kL(n){return new URL(n,document.baseURI).pathname}function jL(n){return FL.replace(qv,n)}function UL(n){return RL.replace(qv,n)}function RD(n,e){return e.map(t=>t.replace(qv,n))}function TD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function qL(){Bv.makeCurrent()}function WL(){return new Pr}function GL(){return TE(document),document}var Uv,Bv,Wa,$v,NL,Hv,AD,Bd,Vv,kD,jv,qv,ND,RL,FL,LL,VL,$d,Ga,zv,Ka,Hd,BL,PD,$L,HL,zL,KL,FD,YL,QL,ZL,zd,LD,Ya=h(()=>{"use strict";xe();R();R();Uv=class extends Td{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bv=class n extends Uv{static makeCurrent(){oD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=AL();return t==null?null:kL(t)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kd(document.cookie,e)}},Wa=null;$v=class{addToWindow(e){bt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new I(5103,!1);return o},bt.getAllAngularTestabilities=()=>e.getAllTestabilities(),bt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=bt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?vr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},NL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Hv=new L(""),AD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(F(Hv),F(be))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Bd=class{constructor(e){this._doc=e}},Vv="ng-app-id",kD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Vv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Vv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Vv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(F(mt),F(od),F(Hm,8),F(rn))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),jv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qv=/%COMP%/g,ND="%COMP%",RL=`_nghost-${ND}`,FL=`_ngcontent-${ND}`,LL=!0,VL=new L("",{providedIn:"root",factory:()=>LL});$d=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Fd(a),this.defaultRenderer=new Ga(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fr.ShadowDom&&(r=$(M({},r),{encapsulation:fr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Hd?i.applyToHost(t):i instanceof Ka&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case fr.Emulated:o=new Hd(c,l,r,this.appId,u,s,a,d);break;case fr.ShadowDom:return new zv(c,l,t,r,s,a,this.nonce,d);default:o=new Ka(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(F(AD),F(kD),F(od),F(VL),F(mt),F(rn),F(be),F(Hm))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Ga=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(jv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(TD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(TD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=jv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=jv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(t,r,i&Ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};zv=class extends Ga{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=RD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ka=class extends Ga{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?RD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hd=class extends Ka{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=jL(l),this.hostAttr=UL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},BL=(()=>{class n extends Bd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(F(mt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),PD=["alt","control","meta","shift"],$L={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},zL=(()=>{class n extends Bd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=$L[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PD.forEach(s=>{if(s!==i){let a=HL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(F(mt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();KL=[{provide:rn,useValue:Tv},{provide:Bm,useValue:qL,multi:!0},{provide:mt,useFactory:GL,deps:[]}],FD=fv(YM,"browser",KL),YL=new L(""),QL=[{provide:Ua,useClass:$v,deps:[]},{provide:lv,useClass:vd,deps:[be,yd,Ua]},{provide:vd,useClass:vd,deps:[be,yd,Ua]}],ZL=[{provide:Ku,useValue:"root"},{provide:Pr,useFactory:WL,deps:[]},{provide:Hv,useClass:BL,multi:!0,deps:[mt,be,rn]},{provide:Hv,useClass:zL,multi:!0,deps:[mt]},$d,kD,AD,{provide:_i,useExisting:$d},{provide:Is,useClass:NL,deps:[]},[]],zd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:od,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(F(YL,12))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[...ZL,...QL],imports:[hD,QM]})}}return n})(),LD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(F(mt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Rs(n){return new Qv(n)}function JL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function XL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Cr(n[t],e[t]))return!1;return!0}function Cr(n,e){let t=n?Zv(n):void 0,r=e?Zv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!YD(n[i],e[i]))return!1;return!0}function Zv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function YD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function QD(n){return n.length>0?n[n.length-1]:null}function Ti(n){return Bh(n)?n:wi(n)?K(Promise.resolve(n)):V(n)}function jD(n,e,t){return e2[t.paths](n.root,e.root,t.matrixParams)&&ZD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function t2(n,e){return Cr(n,e)}function JD(n,e,t){if(!Eo(n.segments,e.segments)||!Gd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!JD(n.children[r],e.children[r],t))return!1;return!0}function n2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>YD(n[t],e[t]))}function XD(n,e,t){return eS(n,e,e.segments,t)}function eS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Eo(i,t)||e.hasChildren()||!Gd(i,t,r))}else if(n.segments.length===t.length){if(!Eo(n.segments,t)||!Gd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!XD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Eo(n.segments,i)||!Gd(n.segments,i,r)||!n.children[se]?!1:eS(n.children[se],e,o,r)}}function Gd(n,e,t){return e.every((r,i)=>ZD[t](n[i].parameters,r.parameters))}function r2(n,e){return Eo(n,e)&&n.every((t,r)=>Cr(t.parameters,e[r].parameters))}function Eo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function i2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}function Kd(n){return n.segments.map(e=>nS(e)).join("/")}function Qa(n,e){if(!n.hasChildren())return Kd(n);if(e){let t=n.children[se]?Qa(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Qa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=i2(n,(r,i)=>i===se?[Qa(n.children[se],!1)]:[`${i}:${Qa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${Kd(n)}/${t[0]}`:`${Kd(n)}/(${t.join("//")})`}}function tS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qd(n){return tS(n).replace(/%3B/gi,";")}function s2(n){return encodeURI(n)}function Jv(n){return tS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yd(n){return decodeURIComponent(n)}function UD(n){return Yd(n.replace(/\+/g,"%20"))}function nS(n){return`${Jv(n.path)}${a2(n.parameters)}`}function a2(n){return Object.entries(n).map(([e,t])=>`;${Jv(e)}=${Jv(t)}`).join("")}function c2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${qd(t)}=${qd(i)}`).join("&"):`${qd(t)}=${qd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function Wv(n){let e=n.match(l2);return e?e[0]:""}function d2(n){let e=n.match(u2);return e?e[0]:""}function p2(n){let e=n.match(f2);return e?e[0]:""}function g2(n){let e=n.match(h2);return e?e[0]:""}function rS(n){return n.segments.length>0?new Te([],{[se]:n}):n}function iS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=iS(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return m2(t)}function m2(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Te(n.segments.concat(e.segments),e.children)}return n}function Mo(n){return n instanceof Wr}function v2(n,e,t=null,r=null){let i=oS(n);return sS(i,e,t,r)}function oS(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=rS(r);return e??i}function sS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Gv(i,i,i,t,r);let o=y2(e);if(o.toRoot())return Gv(i,i,new Te([],{}),t,r);let s=_2(o,i,n),a=s.processChildren?Xa(s.segmentGroup,s.index,o.commands):cS(s.segmentGroup,s.index,o.commands);return Gv(i,s.segmentGroup,a,t,r)}function Qd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function nc(n){return typeof n=="object"&&n!=null&&n.outlets}function Gv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=aS(n,e,t);let a=rS(iS(s));return new Wr(a,o,i)}function aS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=aS(o,e,t)}),new Te(n.segments,r)}function y2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Zd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Zd(t,e,r)}function _2(n,e,t){if(n.isAbsolute)return new As(e,!0,0);if(!t)return new As(e,!1,NaN);if(t.parent===null)return new As(t,!0,0);let r=Qd(n.commands[0])?0:1,i=t.segments.length-1+r;return C2(t,i,n.numberOfDoubleDots)}function C2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new As(r,!1,i-o)}function b2(n){return nc(n[0])?n[0].outlets:{[se]:n}}function cS(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return Xa(n,e,t);let r=w2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Te(n.segments.slice(r.pathIndex),n.children),Xa(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?ey(n,e,t):r.match?Xa(n,0,i):ey(n,e,t)}function Xa(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=b2(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Xa(n.children[se],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function w2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(nc(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!$D(c,l,s))return o;r+=2}else{if(!$D(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ey(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(nc(o)){let c=E2(o.outlets);return new Te(r,c)}if(i===0&&Qd(t[0])){let c=n.segments[e];r.push(new wo(c.path,BD(t[0]))),i++;continue}let s=nc(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Qd(a)?(r.push(new wo(s,BD(a))),i+=2):(r.push(new wo(s,{})),i++)}return new Te(r,{})}function E2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ey(new Te([],{}),0,r))}),e}function BD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $D(n,e,t){return n==t.path&&Cr(e,t.parameters)}function M2(n,e){return n.providers&&!n._injector&&(n._injector=hd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zn(n){return n.outlet||se}function D2(n,e){let t=n.filter(r=>Zn(r)===e);return t.push(...n.filter(r=>Zn(r)!==e)),t}function dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function fy(n,e){if(n===e.value)return e;for(let t of e.children){let r=fy(n,t);if(r)return r}return null}function py(n,e){if(n===e.value)return[e];for(let t of e.children){let r=py(n,t);if(r.length)return r.unshift(e),r}return[]}function Ps(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function lS(n){let e=S2(n),t=new pe([new wo("",{})]),r=new pe({}),i=new pe({}),o=new pe({}),s=new pe(""),a=new qt(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new nf(new cn(a,[]),e)}function S2(n){let e={},t={},r={},i="",o=new ks([],e,r,i,t,se,n,null,{});return new of("",new cn(o,[]))}function rf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&dS(i)&&(r.resolve[lc]=i.title),r}function wy(n,e){e.value._routerState=n,e.children.forEach(t=>wy(n,t))}function uS(n){let e=n.children.length>0?` { ${n.children.map(uS).join(", ")} } `:"";return`${n.value}${e}`}function Kv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Cr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Cr(e.params,t.params)||n.paramsSubject.next(t.params),XL(e.url,t.url)||n.urlSubject.next(t.url),Cr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hy(n,e){let t=Cr(n.params,e.params)&&r2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||hy(n.parent,e.parent))}function dS(n){return typeof n.title=="string"||n.title===null}function x2(n,e,t){let r=oc(n,e._root,t?t._root:void 0);return new nf(r,e)}function oc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=I2(n,e,t);return new cn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>oc(n,a)),s}}let r=O2(e.value),i=e.children.map(o=>oc(n,o));return new cn(r,i)}}function I2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return oc(n,r,i);return oc(n,r)})}function O2(n){return new qt(new pe(n.url),new pe(n.params),new pe(n.queryParams),new pe(n.fragment),new pe(n.data),n.outlet,n.component,n)}function sf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pS(!1,ln.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function pS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fS]=!0,t.cancellationCode=e,t}function T2(n){return hS(n)&&Mo(n.url)}function hS(n){return!!n&&n[fS]}function A2(n,e,t){let r=n._root,i=e?e._root:null;return Za(r,i,t,[r.value])}function k2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function js(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!mw(n)?n:e.get(n):r}function Za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ps(e);return n.children.forEach(s=>{N2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tc(a,t.getContext(s),i)),i}function N2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=R2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new af(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Za(n,e,a?a.children:null,r,i):Za(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ns(a.outlet.component,s))}else s&&tc(e,a,i),i.canActivateChecks.push(new af(r)),o.component?Za(n,null,a?a.children:null,r,i):Za(n,null,t,r,i);return i}function R2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(n.url,e.url)||!Cr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hy(n,e)||!Cr(n.queryParams,e.queryParams);case"paramsChange":default:return!hy(n,e)}}function tc(n,e,t){let r=Ps(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?tc(s,e.children.getContext(o),t):tc(s,null,t):tc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ns(e.outlet.component,i)):t.canDeactivateChecks.push(new Ns(null,i)):t.canDeactivateChecks.push(new Ns(null,i))}function pc(n){return typeof n=="function"}function F2(n){return typeof n=="boolean"}function L2(n){return n&&pc(n.canLoad)}function V2(n){return n&&pc(n.canActivate)}function j2(n){return n&&pc(n.canActivateChild)}function U2(n){return n&&pc(n.canDeactivate)}function B2(n){return n&&pc(n.canMatch)}function gS(n){return n instanceof Un||n?.name==="EmptyError"}function Vs(){return Le(n=>ba(n.map(e=>e.pipe(Ee(1),ag(Wd)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Wd)return Wd;if(t===!1||$2(t))return t}return!0}),Fe(e=>e!==Wd),Ee(1)))}function $2(n){return Mo(n)||n instanceof sc}function H2(n,e){return ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?V($(M({},t),{guardsResult:!0})):z2(s,r,i,n).pipe(ze(a=>a&&F2(a)?q2(r,o,n,e):V(a)),j(a=>$(M({},t),{guardsResult:a})))})}function z2(n,e,t,r){return K(n).pipe(ze(i=>Q2(i.component,i.route,t,e,r)),lr(i=>i!==!0,!0))}function q2(n,e,t,r){return K(e).pipe(mn(i=>cr(G2(i.route.parent,r),W2(i.route,r),Y2(n,i.path,t),K2(n,i.route,t))),lr(i=>i!==!0,!0))}function W2(n,e){return n!==null&&e&&e(new ly(n)),V(!0)}function G2(n,e){return n!==null&&e&&e(new ay(n)),V(!0)}function K2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(o=>eo(()=>{let s=dc(e)??t,a=js(o,s),c=V2(a)?a.canActivate(e,n):wn(s,()=>a(e,n));return Ti(c).pipe(lr())}));return V(i).pipe(Vs())}function Y2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>k2(s)).filter(s=>s!==null).map(s=>eo(()=>{let a=s.guards.map(c=>{let l=dc(s.node)??t,u=js(c,l),d=j2(u)?u.canActivateChild(r,n):wn(l,()=>u(r,n));return Ti(d).pipe(lr())});return V(a).pipe(Vs())}));return V(o).pipe(Vs())}function Q2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return V(!0);let s=o.map(a=>{let c=dc(e)??i,l=js(a,c),u=U2(l)?l.canDeactivate(n,e,t,r):wn(c,()=>l(n,e,t,r));return Ti(u).pipe(lr())});return V(s).pipe(Vs())}function Z2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let o=i.map(s=>{let a=js(s,n),c=L2(a)?a.canLoad(e,t):wn(n,()=>a(e,t));return Ti(c)});return V(o).pipe(Vs(),mS(r))}function mS(n){return bh(ne(e=>{if(typeof e!="boolean")throw sf(n,e)}),j(e=>e===!0))}function J2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let o=i.map(s=>{let a=js(s,n),c=B2(a)?a.canMatch(e,t):wn(n,()=>a(e,t));return Ti(c)});return V(o).pipe(Vs(),mS(r))}function Ts(n){return nt(new ac(n))}function X2(n){return nt(new I(4e3,!1))}function eV(n){return nt(pS(!1,ln.GuardRejected))}function tV(n,e,t,r,i){let o=vS(n,e,t);return o.matched?(r=M2(e,r),J2(r,e,t,i).pipe(j(s=>s===!0?o:M({},yy)))):V(o)}function vS(n,e,t){if(e.path==="**")return nV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},yy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||JL)(t,n,e);if(!i)return M({},yy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function nV(n){return{matched:!0,parameters:n.length>0?QD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function zD(n,e,t,r){return t.length>0&&oV(n,t,r)?{segmentGroup:new Te(e,iV(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&sV(n,t,r)?{segmentGroup:new Te(n.segments,rV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function rV(n,e,t,r){let i={};for(let o of t)if(df(n,e,o)&&!r[Zn(o)]){let s=new Te([],{});i[Zn(o)]=s}return M(M({},r),i)}function iV(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&Zn(r)!==se){let i=new Te([],{});t[Zn(r)]=i}return t}function oV(n,e,t){return t.some(r=>df(n,e,r)&&Zn(r)!==se)}function sV(n,e,t){return t.some(r=>df(n,e,r))}function df(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function aV(n,e,t){return e.length===0&&!n.children[t]}function cV(n,e,t,r,i,o,s="emptyOnly"){return new Cy(n,e,t,r,i,s,o).recognize()}function uV(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function dV(n){let e=n.value.routeConfig;return e&&e.path===""}function yS(n){let e=[],t=new Set;for(let r of n){if(!dV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=yS(r.children);e.push(new cn(r.value,i))}return e.filter(r=>!t.has(r))}function qD(n){return n.data||{}}function WD(n){return n.resolve||{}}function fV(n,e,t,r,i,o){return ze(s=>cV(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>$(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function pV(n,e){return ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of _S(c))s.add(l);let a=0;return K(s).pipe(mn(c=>o.has(c)?hV(c,r,n,e):(c.data=rf(c,c.parent,n).resolve,V(void 0))),ne(()=>a++),is(1),ze(c=>a===s.size?V(t):Lt))})}function _S(n){let e=n.children.map(t=>_S(t)).flat();return[n,...e]}function hV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!dS(i)&&(o[lc]=i.title),gV(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=rf(n,n.parent,t).resolve,null)))}function gV(n,e,t,r){let i=Zv(n);if(i.length===0)return V({});let o={};return K(i).pipe(ze(s=>mV(n[s],e,t,r).pipe(lr(),ne(a=>{if(a instanceof sc)throw sf(new Fs,a);o[s]=a}))),is(1),Ea(o),de(s=>gS(s)?Lt:nt(s)))}function mV(n,e,t,r){let i=dc(e)??r,o=js(n,i),s=o.resolve?o.resolve(e,t):wn(i,()=>o(e,t));return Ti(s)}function Yv(n){return Le(e=>{let t=n(e);return t?K(t).pipe(j(()=>e)):V(e)})}function Ey(n){let e=n.children&&n.children.map(Ey),t=e?$(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=yV),t}function _V(n,e,t,r){return Ti(n.loadChildren()).pipe(j(bS),ze(i=>i instanceof Pa||Array.isArray(i)?V(i):K(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(cf,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ey),injector:o}}))}function CV(n){return n&&typeof n=="object"&&"default"in n}function bS(n){return CV(n)?n.default:n}function wV(n,e,t){let r=n.get(ES),i=n.get(mt);return n.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),EV(n))),{onViewTransitionCreated:c}=r;return c&&wn(n,()=>c({transition:a,from:e,to:t})),s})}function EV(n){return new Promise(e=>{cv({read:()=>setTimeout(e)},{injector:n})})}function DV(n){return n!==ec}function DS(n,e){n.events.pipe(Fe(t=>t instanceof un||t instanceof qr||t instanceof rc||t instanceof Oi),j(t=>t instanceof un||t instanceof Oi?Ja.COMPLETE:(t instanceof qr?t.code===ln.Redirect||t.code===ln.SupersededByNewNavigation:!1)?Ja.REDIRECTING:Ja.FAILED),Fe(t=>t!==Ja.REDIRECTING),Ee(1)).subscribe(()=>{e()})}function OV(n){throw n}function AV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new I(4008,!1)}function kV(n){return!(n instanceof ic)&&!(n instanceof Ls)}function NV(n){return!!n.paths}function LV(n){return n.routerState.root}function gc(n,e){return{\u0275kind:n,\u0275providers:e}}function VV(){let n=C(rt);return e=>{let t=n.get(Sn);if(e!==t.components[0])return;let r=n.get(Ae),i=n.get(IS);n.get(xy)===1&&r.initialNavigation(),n.get(OS,null,ce.Optional)?.setUpPreloading(),n.get(xS,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function jV(){return gc(2,[{provide:xy,useValue:0},{provide:xs,multi:!0,deps:[rt],useFactory:e=>{let t=e.get(sD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Ae),o=e.get(IS);DS(i,()=>{r(!0)}),e.get(Sy).afterPreactivation=()=>(r(!0),o.closed?V(void 0):o),i.initialNavigation()}))}}])}function UV(){return gc(3,[{provide:xs,multi:!0,useFactory:()=>{let e=C(Ae);return()=>{e.setUpLocationChangeListener()}}},{provide:xy,useValue:2}])}function BV(n){return gc(0,[{provide:OS,useExisting:RV},{provide:lf,useExisting:n}])}function $V(){return gc(8,[HD,{provide:uf,useExisting:HD}])}function HV(n){let e=[{provide:wS,useValue:wV},{provide:ES,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return gc(9,e)}function qV(){return{provide:xS,useFactory:()=>{let n=C(gD),e=C(be),t=C(hc),r=C(Sy),i=C(uc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new FV(i,r,n,e,t)}}}function WV(){return{provide:Hr,useClass:cD}}function GV(){return{provide:Hr,useClass:Iv}}function KV(n){return"guarded"}function YV(n){return[n.initialNavigation==="disabled"?UV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jV().\u0275providers:[]]}function QV(){return[{provide:KD,useFactory:VV},{provide:_d,multi:!0,useExisting:KD}]}var se,lc,Qv,e2,ZD,Wr,Te,wo,uc,Fs,o2,l2,u2,f2,h2,Xv,Zd,As,ec,vt,In,Ii,un,ln,Jd,qr,Oi,rc,Xd,ty,ny,ry,iy,oy,sy,ay,cy,ly,uy,ef,ic,Ls,dy,fc,tf,cn,nf,qt,ks,of,Jn,gy,uf,HD,sc,fS,P2,my,af,Ns,Wd,ac,cc,vy,yy,_y,lV,Cy,CS,vV,hc,yV,cf,My,Dy,bV,wS,ES,MV,Sy,SV,by,xV,MS,IV,Ja,TV,PV,Ae,On,SS,lf,RV,xS,FV,IS,xy,OS,GD,zV,Iy,KD,ft=h(()=>{"use strict";R();R();Me();xe();xe();ui();Ya();se="primary",lc=Symbol("RouteTitle"),Qv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};e2={exact:JD,subset:XD},ZD={exact:t2,subset:n2,ignored:()=>!0};Wr=class{constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return o2.serialize(this)}},Te=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kd(this)}},wo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return nS(this)}};uc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>new Fs,providedIn:"root"})}}return n})(),Fs=class{parse(e){let t=new Xv(e);return new Wr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Qa(e.root,!0)}`,r=c2(e.queryParams),i=typeof e.fragment=="string"?`#${s2(e.fragment)}`:"";return`${t}${r}${i}`}},o2=new Fs;l2=/^[^\/()?;#]+/;u2=/^[^\/()?;=#]+/;f2=/^[^=?&#]+/;h2=/^[^&#]+/;Xv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Te(e,t)),r}parseSegment(){let e=Wv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new wo(Yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=d2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Wv(this.remaining);i&&(r=i,this.capture(r))}e[Yd(t)]=Yd(r)}parseQueryParam(e){let t=p2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=g2(this.remaining);s&&(r=s,this.capture(r))}let i=UD(t),o=UD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};Zd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qd(r[0]))throw new I(4003,!1);let i=r.find(nc);if(i&&i!==QD(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};As=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};ec="imperative",vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vt||{}),In=class{constructor(e,t){this.id=e,this.url=t}},Ii=class extends In{constructor(e,t,r="imperative",i=null){super(e,t),this.type=vt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends In{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ln||{}),Jd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Jd||{}),qr=class extends In{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Oi=class extends In{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=vt.NavigationSkipped}},rc=class extends In{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xd=class extends In{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ty=class extends In{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ny=class extends In{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ry=class extends In{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},iy=class extends In{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oy=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sy=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ay=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cy=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ly=class{constructor(e){this.snapshot=e,this.type=vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uy=class{constructor(e){this.snapshot=e,this.type=vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=vt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ic=class{},Ls=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};dy=class{get injector(){return dc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new fc(this.rootInjector),this.attachRef=null}},fc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new dy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(F(Ut))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=fy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=fy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=py(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return py(e,this._root).map(t=>t.value)}};cn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};nf=class extends tf{constructor(e,t){super(e),this.snapshot=t,wy(this,e)}toString(){return this.snapshot.toString()}};qt=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[lc]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};ks=class{get title(){return this.data?.[lc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},of=class extends tf{constructor(e,t){super(t),this.url=e,wy(this,t)}toString(){return uS(this._root)}};Jn=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=C(fc),this.location=C(jr),this.changeDetector=C(on),this.inputBinder=C(uf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new gy(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wn]})}}return n})(),gy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===qt?this.route:e===fc?this.childContexts:this.parent.get(e,t)}},uf=new L(""),HD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ba([r.queryParams,r.params,r.data]).pipe(Le(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?V(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=ZM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();sc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fS="ngNavigationCancelingError";P2=(n,e,t,r)=>j(i=>(new my(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),my=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Kv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ps(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ps(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ps(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ps(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new uy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cy(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Kv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},af=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ns=class{constructor(e,t){this.component=e,this.route=t}};Wd=Symbol("INITIAL_VALUE");ac=class{constructor(e){this.segmentGroup=e||null}},cc=class extends Error{constructor(e){super(),this.urlTree=e}};vy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[se])return X2(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:_,title:E}=i,k=wn(o,()=>a({params:g,data:_,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:E}));if(k instanceof Wr)throw new cc(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new cc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Wr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},yy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};_y=class{};lV=31,Cy=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=zD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new cn(r,t),o=new of("",i),s=v2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ks([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(j(r=>({children:r,rootSnapshot:t})),de(r=>{if(r instanceof cc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ac?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof cn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return K(o).pipe(mn(s=>{let a=r.children[s],c=D2(t,s);return this.processSegmentGroup(e,c,a,s,i)}),og((s,a)=>(s.push(...a),s)),li(null),ng(),ze(s=>{if(s===null)return Ts(r);let a=yS(s);return uV(a),V(a)}))}processSegment(e,t,r,i,o,s,a){return K(t).pipe(mn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(de(l=>{if(l instanceof ac)return V(null);throw l}))),lr(c=>!!c),de(c=>{if(gS(c))return aV(r,i,o)?V(new _y):Ts(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Zn(r)!==s&&(s===se||!df(i,o,r))?Ts(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ts(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=vS(t,i,o);if(!c)return Ts(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lV&&(this.allowRedirects=!1));let g=new ks(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,qD(i),Zn(i),i.component??i._loadedComponent??null,i,WD(i)),_=rf(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let E=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(ze(k=>this.processSegment(e,r,t,k.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=tV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Le(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Le(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,_=new ks(m,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,qD(r),Zn(r),r.component??r._loadedComponent??null,r,WD(r)),E=rf(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(E.params),_.data=Object.freeze(E.data);let{segmentGroup:k,slicedSegments:U}=zD(t,m,g,l);if(U.length===0&&k.hasChildren())return this.processChildren(u,l,k,_).pipe(j(G=>new cn(_,G)));if(l.length===0&&U.length===0)return V(new cn(_,[]));let re=Zn(r)===o;return this.processSegment(u,l,k,U,re?se:o,!0,_).pipe(j(G=>new cn(_,G instanceof cn?[G]:[])))}))):Ts(t)))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?V({routes:t._loadedRoutes,injector:t._loadedInjector}):Z2(e,t,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):eV(t))):V({routes:[],injector:e})}};CS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[lc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>C(vV),providedIn:"root"})}}return n})(),vV=(()=>{class n extends CS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(F(LD))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hc=new L("",{providedIn:"root",factory:()=>({})}),yV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],standalone:!0,features:[VM],decls:1,vars:0,template:function(r,i){r&1&&A(0,"router-outlet")},dependencies:[Jn],encapsulation:2})}}return n})();cf=new L(""),My=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(Cd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ti(t.loadComponent()).pipe(j(bS),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),tn(()=>{this.componentLoaders.delete(t)})),i=new ci(r,()=>new me).pipe(Go());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=_V(r,this.compiler,t,this.onLoadEndListener).pipe(tn(()=>{this.childrenLoaders.delete(r)})),s=new ci(o,()=>new me).pipe(Go());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Dy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>C(bV),providedIn:"root"})}}return n})(),bV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wS=new L(""),ES=new L("");MV=new L(""),Sy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=C(My),this.environmentInjector=C(Ut),this.urlSerializer=C(uc),this.rootContexts=C(fc),this.location=C(Os),this.inputBindingEnabled=C(uf,{optional:!0})!==null,this.titleStrategy=C(CS),this.options=C(hc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(Dy),this.createViewTransition=C(wS,{optional:!0}),this.navigationErrorHandler=C(MV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let t=i=>this.events.next(new oy(i)),r=i=>this.events.next(new sy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($(M(M({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new pe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ec,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fe(o=>o.id!==0),j(o=>$(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Le(o=>{let s=!1,a=!1;return V(o).pipe(Le(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ln.SupersededByNewNavigation),Lt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Oi(c.id,this.urlSerializer.serialize(c.rawUrl),d,Jd.IgnoredSameUrlNavigation)),c.resolve(!1),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Le(d=>{let m=this.transitions?.getValue();return this.events.next(new Ii(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Lt:Promise.resolve(d)}),fV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=$(M({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Xd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:_,extras:E}=c,k=new Ii(d,this.urlSerializer.serialize(m),g,_);this.events.next(k);let U=lS(this.rootComponentType).snapshot;return this.currentTransition=o=$(M({},c),{targetSnapshot:U,urlAfterRedirects:m,extras:$(M({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,V(o)}else{let d="";return this.events.next(new Oi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Jd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Lt}}),ne(c=>{let l=new ty(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=$(M({},c),{guards:A2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),H2(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw sf(this.urlSerializer,c.guardsResult);let l=new ny(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Fe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ln.GuardRejected),!1)),Yv(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(ne(l=>{let u=new ry(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Le(l=>{let u=!1;return V(l).pipe(pV(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",ln.NoDataFromResolver)}}))}),ne(l=>{let u=new iy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Yv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(m=>{u.component=m}),j(()=>{})));for(let m of u.children)d.push(...l(m));return d};return ba(l(c.targetSnapshot.root)).pipe(li(null),Ee(1))}),Yv(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?K(u).pipe(j(()=>o)):V(o)}),j(c=>{let l=x2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new ic)}),P2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ee(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),yn(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),tn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ln.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),de(c=>{if(a=!0,hS(c))this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),T2(c)?this.events.next(new Ls(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new rc(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof sc){let{message:d,cancellationCode:m}=sf(this.urlSerializer,u);this.events.next(new qr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new Ls(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Lt}))}))}cancelNavigationTransition(t,r,i){let o=new qr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();SV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>C(xV),providedIn:"root"})}}return n})(),by=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},xV=(()=>{class n extends by{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fr(n)))(i||n)}})()}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:()=>C(IV),providedIn:"root"})}}return n})(),IV=(()=>{class n extends MS{constructor(){super(...arguments),this.location=C(Os),this.urlSerializer=C(uc),this.options=C(hc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(Dy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ii)this.stateMemento=this.createStateMemento();else if(t instanceof Oi)this.rawUrlTree=r.initialUrl;else if(t instanceof Xd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ic?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof qr&&(t.code===ln.GuardRejected||t.code===ln.NoDataFromResolver)?this.restoreHistory(r):t instanceof rc?this.restoreHistory(r,!0):t instanceof un&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Wr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=M(M({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fr(n)))(i||n)}})()}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ja=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ja||{});TV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=C(md),this.stateManager=C(MS),this.options=C(hc,{optional:!0})||{},this.pendingTasks=C(Lr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(Sy),this.urlSerializer=C(uc),this.location=C(Os),this.urlHandlingStrategy=C(Dy),this._events=new me,this.errorHandler=this.options.errorHandler||OV,this.navigated=!1,this.routeReuseStrategy=C(SV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(cf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(uf,{optional:!0}),this.eventsSubscription=new $e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qr&&r.code!==ln.Redirect&&r.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof un)this.navigated=!0;else if(r instanceof Ls){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||DV(i.source)},s);this.scheduleNavigation(a,ec,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}kV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ec,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=M({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ey),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=oS(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return sS(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Mo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ec,null,r)}navigate(t,r={skipLocationChange:!1}){return AV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},TV):r===!1?i=M({},PV):i=r,Mo(t))return jD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return jD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return DS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();On=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:UE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Mo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Ae),D(qt),Vm("tabindex"),D(Gn),D(Et),D(Hr))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&x("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ms("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ei],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ei],replaceUrl:[2,"replaceUrl","replaceUrl",Ei],routerLink:"routerLink"},standalone:!0,features:[sv,Wn]})}}return n})(),SS=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new X,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof un&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(ar()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=K(t).pipe(ar()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=NV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ae),D(Et),D(Gn),D(on),D(On,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&FM(o,On,5),r&2){let s;Ds(s=Ss())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Wn]})}}return n})();lf=class{},RV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Fe(t=>t instanceof un),mn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=hd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return K(i).pipe(ar())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=V(null);let o=i.pipe(ze(s=>s===null?V(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return K([o,s]).pipe(ar())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(F(Ae),F(Cd),F(Ut),F(lf),F(My))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xS=new L(""),FV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof un?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Oi&&t.code===Jd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ef&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ef(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){JE()}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();IS=new L("",{factory:()=>new me}),xy=new L("",{providedIn:"root",factory:()=>1});OS=new L("");GD=new L("ROUTER_FORROOT_GUARD"),zV=[Os,{provide:uc,useClass:Fs},Ae,fc,{provide:qt,useFactory:LV,deps:[Ae]},My,[]],Iy=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zV,[],{provide:cf,multi:!0,useValue:t},{provide:GD,useFactory:KV,deps:[[Ae,new Gu,new Em]]},{provide:hc,useValue:r||{}},r?.useHash?WV():GV(),qV(),r?.preloadingStrategy?BV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?YV(r):[],r?.bindToComponentInputs?$V().\u0275providers:[],r?.enableViewTransitions?HV().\u0275providers:[],QV()]}}static forChild(t){return{ngModule:n,providers:[{provide:cf,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(F(GD,8))}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})();KD=new L("")});var ff,TS=h(()=>{"use strict";ui();Me();R();qa();ff=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(ut(1),de(e=>(console.log("err:",e),nt(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(ut(1),de(e=>(console.log("err:",e),nt(()=>e))))}static \u0275fac=function(t){return new(t||n)(F(bo))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var vc,mc,ZV,JV,XV,et,hf,pf,PS,AS,Oy,MY,ej,tj,nj,rj,Ty,DY,Do=h(()=>{"use strict";vc=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(vc||{}),mc=class extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}},ZV=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},JV=n=>{let e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},i=()=>e!==null?e.name:ZV(n),o=()=>i()!=="web",s=d=>{let m=l.get(d);return!!(m?.platforms.has(i())||a(d))},a=d=>{var m;return(m=t.PluginHeaders)===null||m===void 0?void 0:m.find(g=>g.name===d)},c=d=>n.console.error(d),l=new Map,u=(d,m={})=>{let g=l.get(d);if(g)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),g.proxy;let _=i(),E=a(d),k,U=()=>S(void 0,null,function*(){return!k&&_ in m?k=typeof m[_]=="function"?k=yield m[_]():k=m[_]:e!==null&&!k&&"web"in m&&(k=typeof m.web=="function"?k=yield m.web():k=m.web),k}),re=(he,Be)=>{var _t,Vn;if(E){let Ot=E?.methods.find(Ft=>Be===Ft.name);if(Ot)return Ot.rtype==="promise"?Ft=>t.nativePromise(d,Be.toString(),Ft):(Ft,zi)=>t.nativeCallback(d,Be.toString(),Ft,zi);if(he)return(_t=he[Be])===null||_t===void 0?void 0:_t.bind(he)}else{if(he)return(Vn=he[Be])===null||Vn===void 0?void 0:Vn.bind(he);throw new mc(`"${d}" plugin is not implemented on ${_}`,vc.Unimplemented)}},G=he=>{let Be,_t=(...Vn)=>{let Ot=U().then(Ft=>{let zi=re(Ft,he);if(zi){let qi=zi(...Vn);return Be=qi?.remove,qi}else throw new mc(`"${d}.${he}()" is not implemented on ${_}`,vc.Unimplemented)});return he==="addListener"&&(Ot.remove=()=>S(void 0,null,function*(){return Be()})),Ot};return _t.toString=()=>`${he.toString()}() { [capacitor code] }`,Object.defineProperty(_t,"name",{value:he,writable:!1,configurable:!1}),_t},ue=G("addListener"),Ue=G("removeListener"),Ce=(he,Be)=>{let _t=ue({eventName:he},Be),Vn=()=>S(void 0,null,function*(){let Ft=yield _t;Ue({eventName:he,callbackId:Ft},Be)}),Ot=new Promise(Ft=>_t.then(()=>Ft({remove:Vn})));return Ot.remove=()=>S(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Vn()}),Ot},Pe=new Proxy({},{get(he,Be){switch(Be){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return E?Ce:ue;case"removeListener":return Ue;default:return G(Be)}}});return r[d]=Pe,l.set(d,{name:d,proxy:Pe,platforms:new Set([...Object.keys(m),...E?[_]:[]])}),Pe};return t.convertFileSrc||(t.convertFileSrc=d=>d),t.getPlatform=i,t.handleError=c,t.isNativePlatform=o,t.isPluginAvailable=s,t.registerPlugin=u,t.Exception=mc,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},XV=n=>n.Capacitor=JV(n),et=XV(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),hf=et.registerPlugin,pf=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);let o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);let s=()=>S(this,null,function*(){return this.removeListener(e,t)});return Promise.resolve({remove:s})}removeAllListeners(){return S(this,null,function*(){this.listeners={};for(let e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,t,r){let i=this.listeners[e];if(!i){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(t),this.retainedEventArguments[e]=o}return}i.forEach(o=>o(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new et.Exception(e,vc.Unimplemented)}unavailable(e="not available"){return new et.Exception(e,vc.Unavailable)}removeListener(e,t){return S(this,null,function*(){let r=this.listeners[e];if(!r)return;let i=r.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){let t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}},PS=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),AS=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),Oy=class extends pf{getCookies(){return S(this,null,function*(){let e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=AS(i).trim(),o=AS(o).trim(),t[i]=o}),t})}setCookie(e){return S(this,null,function*(){try{let t=PS(e.key),r=PS(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${i}; path=${o}; ${s};`}catch(t){return Promise.reject(t)}})}deleteCookie(e){return S(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})}clearCookies(){return S(this,null,function*(){try{let e=document.cookie.split(";")||[];for(let t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return S(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}},MY=hf("CapacitorCookies",{web:()=>new Oy}),ej=n=>S(void 0,null,function*(){return new Promise((e,t)=>{let r=new FileReader;r.onload=()=>{let i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>t(i),r.readAsDataURL(n)})}),tj=(n={})=>{let e=Object.keys(n);return Object.keys(n).map(i=>i.toLocaleLowerCase()).reduce((i,o,s)=>(i[o]=n[e[s]],i),{})},nj=(n,e=!0)=>n?Object.entries(n).reduce((r,i)=>{let[o,s]=i,a,c;return Array.isArray(s)?(c="",s.forEach(l=>{a=e?encodeURIComponent(l):l,c+=`${o}=${a}&`}),c.slice(0,-1)):(a=e?encodeURIComponent(s):s,c=`${o}=${a}`),`${r}&${c}`},"").substr(1):null,rj=(n,e={})=>{let t=Object.assign({method:n.method||"GET",headers:n.headers},e),i=tj(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(i.includes("application/x-www-form-urlencoded")){let o=new URLSearchParams;for(let[s,a]of Object.entries(n.data||{}))o.set(s,a);t.body=o.toString()}else if(i.includes("multipart/form-data")||n.data instanceof FormData){let o=new FormData;if(n.data instanceof FormData)n.data.forEach((a,c)=>{o.append(c,a)});else for(let a of Object.keys(n.data))o.append(a,n.data[a]);t.body=o;let s=new Headers(t.headers);s.delete("content-type"),t.headers=s}else(i.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t},Ty=class extends pf{request(e){return S(this,null,function*(){let t=rj(e,e.webFetchExtra),r=nj(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,o=yield fetch(i,t),s=o.headers.get("content-type")||"",{responseType:a="text"}=o.ok?e:{};s.includes("application/json")&&(a="json");let c,l;switch(a){case"arraybuffer":case"blob":l=yield o.blob(),c=yield ej(l);break;case"json":c=yield o.json();break;case"document":case"text":default:c=yield o.text()}let u={};return o.headers.forEach((d,m)=>{u[m]=d}),{data:c,headers:u,status:o.status,url:o.url}})}get(e){return S(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return S(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return S(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return S(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return S(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}},DY=hf("CapacitorHttp",{web:()=>new Ty})});var ij,oj,at,Us=h(()=>{"use strict";Do();ij=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],oj=!ij.includes(window.location.hostname),at={baseURL:function(){return et.getPlatform()!=="web"&&window.location.hostname==="localhost"?"http://192.168.1.88:3030/api":oj?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`}(),notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function yc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var kS=h(()=>{"use strict"});function Cc(n,e=200){return S(this,null,function*(){if(_c){let t=yc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${at.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function sj(n,e){return S(this,null,function*(){if(_c){let t=yield fetch(`${at.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield Cc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function aj(n,e){return S(this,null,function*(){let t=`${at.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function cj(n,e,t){return S(this,null,function*(){if(_c){let r=t?`${at.baseURL}/${t}`:`${at.baseURL}/${n}`,i={"Content-Type":"application/json"},o=yc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=$(M({},e),{_id:dj()}),i=yield Cc(n);return i.push(r),Py(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function lj(n,e){return S(this,null,function*(){if(_c){let t=`${at.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=yc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield Cc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),Py(n,t),e}})}function uj(n,e){return S(this,null,function*(){if(_c){let t=yc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${at.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield Cc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),Py(n,t)}})}function Py(n,e){localStorage.setItem(n,JSON.stringify(e))}function dj(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var ct,_c,Ay=h(()=>{"use strict";Us();kS();ct={post:cj,get:sj,put:lj,remove:uj,query:Cc,login:aj},_c=!0});var NS,fj,gf,RS=h(()=>{"use strict";NS="dzqnyehxn",fj="fuhrsp2z",gf={CLOUD_NAME:NS,UPLOAD_PRESET:fj,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${NS}/${n}/upload`}});var br,bc=h(()=>{"use strict";RS();Me();R();br=class n{cloudName=gf.CLOUD_NAME;uploadPreset=gf.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=gf.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),K(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var er,wc,Ec,mf=h(()=>{"use strict";er=Object.create(null);er.open="0";er.close="1";er.ping="2";er.pong="3";er.message="4";er.upgrade="5";er.noop="6";wc=Object.create(null);Object.keys(er).forEach(n=>{wc[er[n]]=n});Ec={type:"error",data:"parser error"}});function LS(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function BS(n,e){if(VS&&n.data instanceof Blob)return n.data.arrayBuffer().then(LS).then(e);if(jS&&(n.data instanceof ArrayBuffer||US(n.data)))return e(LS(n.data));Mc(n,!1,t=>{Ny||(Ny=new TextEncoder),e(Ny.encode(t))})}var VS,jS,US,Mc,FS,Ny,$S=h(()=>{"use strict";mf();VS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jS=typeof ArrayBuffer=="function",US=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Mc=({type:n,data:e},t,r)=>VS&&e instanceof Blob?t?r(e):FS(e,r):jS&&(e instanceof ArrayBuffer||US(e))?t?r(e):FS(new Blob([e]),r):r(er[n]+(e||"")),FS=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var HS,Dc,zS,qS=h(()=>{"use strict";HS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<HS.length;n++)Dc[HS.charCodeAt(n)]=n;zS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=Dc[n.charCodeAt(r)],s=Dc[n.charCodeAt(r+1)],a=Dc[n.charCodeAt(r+2)],c=Dc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var pj,Sc,hj,WS,GS=h(()=>{"use strict";mf();qS();pj=typeof ArrayBuffer=="function",Sc=(n,e)=>{if(typeof n!="string")return{type:"message",data:WS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:hj(n.substring(1),e)}:wc[t]?n.length>1?{type:wc[t],data:n.substring(1)}:{type:wc[t]}:Ec},hj=(n,e)=>{if(pj){let t=zS(n);return WS(t,e)}else return{base64:!0,data:n}},WS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function ZS(){return new TransformStream({transform(n,e){BS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function vf(n){return n.reduce((e,t)=>e+t.length,0)}function yf(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function JS(n,e){Ry||(Ry=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(vf(t)<1)break;let c=yf(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(vf(t)<2)break;let c=yf(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(vf(t)<8)break;let c=yf(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Ec);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(vf(t)<i)break;let c=yf(t,i);a.enqueue(Sc(o?c:Ry.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(Ec);break}}}})}var KS,YS,QS,Ry,Fy,Bs=h(()=>{"use strict";$S();GS();mf();KS="",YS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{Mc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(KS))})})},QS=(n,e)=>{let t=n.split(KS),r=[];for(let i=0;i<t.length;i++){let o=Sc(t[i],e);if(r.push(o),o.type==="error")break}return r};Fy=4});function je(n){if(n)return gj(n)}function gj(n){for(var e in je.prototype)n[e]=je.prototype[e];return n}var So=h(()=>{"use strict";je.prototype.on=je.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};je.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};je.prototype.off=je.prototype.removeListener=je.prototype.removeAllListeners=je.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};je.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};je.prototype.emitReserved=je.prototype.emit;je.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};je.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Gr,Wt,XS,xo=h(()=>{"use strict";Gr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Wt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),XS="arraybuffer"});function _f(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Kr(n,e){e.useNativeTimers?(n.setTimeoutFn=mj.bind(Wt),n.clearTimeoutFn=vj.bind(Wt)):(n.setTimeoutFn=Wt.setTimeout.bind(Wt),n.clearTimeoutFn=Wt.clearTimeout.bind(Wt))}function ex(n){return typeof n=="string"?_j(n):Math.ceil((n.byteLength||n.size)*yj)}function _j(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Cf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var mj,vj,yj,Io=h(()=>{"use strict";xo();mj=Wt.setTimeout,vj=Wt.clearTimeout;yj=1.33});function tx(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function nx(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Ly=h(()=>{"use strict"});var bf,Yr,xc=h(()=>{"use strict";Bs();So();Io();Ly();bf=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Yr=class extends je{constructor(e){super(),this.writable=!1,Kr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new bf(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=Sc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=tx(e);return t.length?"?"+t:""}}});var Ic,Vy=h(()=>{"use strict";xc();Io();Bs();Ic=class extends Yr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};QS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,YS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Cf()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var rx,ix,ox=h(()=>{"use strict";rx=!1;try{rx=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}ix=rx});function Cj(){}function sx(){for(let n in wf.requests)wf.requests.hasOwnProperty(n)&&wf.requests[n].abort()}function ax(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ix))return new XMLHttpRequest}catch{}if(!e)try{return new Wt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var jy,wf,bj,Pi,Ef=h(()=>{"use strict";Vy();So();Io();xo();ox();jy=class extends Ic{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},wf=(()=>{class n extends je{constructor(t,r,i){super(),this.createRequest=t,Kr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=_f(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Cj,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",sx);else if(typeof addEventListener=="function"){let n="onpagehide"in Wt?"pagehide":"unload";addEventListener(n,sx,!1)}}bj=function(){let n=ax({xdomain:!1});return n&&n.responseType!==null}(),Pi=class extends jy{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=bj&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new wf(ax,this.uri(),e)}}});var cx,By,Uy,Ai,Mf=h(()=>{"use strict";xc();Io();Bs();xo();cx=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",By=class extends Yr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=cx?{}:_f(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;Mc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Gr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Cf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Uy=Wt.WebSocket||Wt.MozWebSocket,Ai=class extends By{createSocket(e,t,r){return cx?new Uy(e,t,r):t?new Uy(e,t):new Uy(e)}doWrite(e,t){this.ws.send(t)}}});var $s,$y=h(()=>{"use strict";xc();xo();Bs();$s=class extends Yr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=JS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=ZS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Gr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var Hy,zy=h(()=>{"use strict";Ef();Mf();$y();Hy={websocket:Ai,webtransport:$s,polling:Pi}});function Hs(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=wj.exec(n||""),o={},s=14;for(;s--;)o[Ej[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Mj(o,o.path),o.queryKey=Dj(o,o.query),o}function Mj(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Dj(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var wj,Ej,qy=h(()=>{"use strict";wj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ej=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Wy,Df,Sf,xf,zs,Gy=h(()=>{"use strict";zy();Io();Ly();qy();So();Bs();xo();Wy=typeof addEventListener=="function"&&typeof removeEventListener=="function",Df=[];Wy&&addEventListener("offline",()=>{Df.forEach(n=>n())},!1);Sf=(()=>{class n extends je{constructor(t,r){if(super(),this.binaryType=XS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Hs(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Hs(r.host).host);Kr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=nx(this.opts.query)),Wy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Df.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=Fy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=ex(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Gr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Wy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=Df.indexOf(this._offlineEventListener);i!==-1&&Df.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=Fy,n})(),xf=class extends Sf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Sf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Sf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=t.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},zs=class extends xf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Hy[i]).filter(i=>!!i)),super(e,r)}}});var lx=h(()=>{"use strict";Vy()});var HQ,If=h(()=>{"use strict";Gy();Gy();xc();zy();Io();qy();xo();lx();Ef();Ef();Mf();Mf();$y();HQ=zs.protocol});function ux(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Hs(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var dx=h(()=>{"use strict";If()});function Tc(n){return xj&&(n instanceof ArrayBuffer||Ij(n))||Oj&&n instanceof Blob||Tj&&n instanceof File}function Oc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Oc(n[t]))return!0;return!1}if(Tc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Oc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Oc(n[t]))return!0;return!1}var xj,Ij,fx,Oj,Tj,Ky=h(()=>{"use strict";xj=typeof ArrayBuffer=="function",Ij=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,fx=Object.prototype.toString,Oj=typeof Blob=="function"||typeof Blob<"u"&&fx.call(Blob)==="[object BlobConstructor]",Tj=typeof File=="function"||typeof File<"u"&&fx.call(File)==="[object FileConstructor]"});function px(n){let e=[],t=n.data,r=n;return r.data=Yy(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Yy(n,e){if(!n)return n;if(Tc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Yy(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Yy(n[r],e));return t}return n}function hx(n,e){return n.data=Qy(n.data,e),delete n.attachments,n}function Qy(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Qy(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Qy(n[t],e));return n}var gx=h(()=>{"use strict";Ky()});var e_={};zT(e_,{Decoder:()=>Jy,Encoder:()=>Zy,PacketType:()=>ge,protocol:()=>vx});function mx(n){return Object.prototype.toString.call(n)==="[object Object]"}var Pj,vx,ge,Zy,Jy,Xy,Of=h(()=>{"use strict";So();gx();Ky();Pj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vx=5,ge=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(ge||{}),Zy=class{constructor(e){this.replacer=e}encode(e){return(e.type===ge.EVENT||e.type===ge.ACK)&&Oc(e)?this.encodeAsBinary({type:e.type===ge.EVENT?ge.BINARY_EVENT:ge.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===ge.BINARY_EVENT||e.type===ge.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=px(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};Jy=class n extends je{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===ge.BINARY_EVENT;r||t.type===ge.BINARY_ACK?(t.type=r?ge.EVENT:ge.ACK,this.reconstructor=new Xy(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Tc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(ge[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ge.BINARY_EVENT||r.type===ge.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case ge.CONNECT:return mx(t);case ge.DISCONNECT:return t===void 0;case ge.CONNECT_ERROR:return typeof t=="string"||mx(t);case ge.EVENT:case ge.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Pj.indexOf(t[0])===-1);case ge.ACK:case ge.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Xy=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=hx(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function dn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var t_=h(()=>{"use strict"});var Aj,qs,n_=h(()=>{"use strict";Of();t_();So();Aj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),qs=class extends je{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[dn(e,"open",this.onopen.bind(this)),dn(e,"packet",this.onpacket.bind(this)),dn(e,"error",this.onerror.bind(this)),dn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(Aj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:ge.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ge.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ge.EVENT:case ge.BINARY_EVENT:this.onevent(e);break;case ge.ACK:case ge.BINARY_ACK:this.onack(e);break;case ge.DISCONNECT:this.ondisconnect();break;case ge.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:ge.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function Oo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var yx=h(()=>{"use strict";Oo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};Oo.prototype.reset=function(){this.attempts=0};Oo.prototype.setMin=function(n){this.ms=n};Oo.prototype.setMax=function(n){this.max=n};Oo.prototype.setJitter=function(n){this.jitter=n}});var Ws,_x=h(()=>{"use strict";If();n_();Of();t_();yx();So();Ws=class extends je{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Kr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Oo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||e_;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new zs(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=dn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=dn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(dn(e,"ping",this.onping.bind(this)),dn(e,"data",this.ondata.bind(this)),dn(e,"error",this.onerror.bind(this)),dn(e,"close",this.onclose.bind(this)),dn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Gr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new qs(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function Ac(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=ux(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Pc[i]&&o in Pc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Ws(r,e):(Pc[i]||(Pc[i]=new Ws(r,e)),c=Pc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var Pc,Cx=h(()=>{"use strict";dx();_x();n_();Of();If();Pc={};Object.assign(Ac,{Manager:Ws,Socket:qs,io:Ac,connect:Ac})});var Gs,r_=h(()=>{"use strict";R();Gs=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Ex(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname),r=et.getPlatform()!=="web";return!t&&r&&window.location.hostname==="localhost"?"http://10.0.2.2:3030":t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var kZ,wx,kj,Nj,Rj,Fj,Lj,Vj,Tn,Ks=h(()=>{"use strict";Cx();kt();Do();R();r_();kZ=Ex(),wx="chat-add-msg",kj="chat-add-private-msg",Nj="chat-send-msg",Rj="chat-set-topic",Fj="chat-send-private-msg",Lj="set-user-socket",Vj="unset-user-socket",Tn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;chatAddMsgCallbacks=[];isChatAddMsgListenerRegistered=!1;get userService(){return this.injector.get(we)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=Ex(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=Ac(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}subscribeToChatAddMsg(e){this.chatAddMsgCallbacks.push(e),this.isChatAddMsgListenerRegistered||(this.socket||this.setup(),this.socket?.on(wx,t=>{this.chatAddMsgCallbacks.forEach(r=>r(t))}),this.isChatAddMsgListenerRegistered=!0)}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(Rj,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(Nj,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i,o){this.socket||this.setup();let s=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",s),!s||!e||!t.trim()&&!i&&!o){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:s,toUserId:e,msg:t,imageUrl:i,videoUrl:o});return}let a={sender:s._id,senderName:s.username,text:t||"",imageUrl:i||void 0,videoUrl:o||void 0,toUserId:e};this.addToBuffer($(M({},a),{senderName:"Me"})),console.log("\u2705 Sending private message:",a),this.socket?.emit(Fj,{toUserId:e,text:t,imageUrl:i,videoUrl:o,sender:s._id,senderName:s.username,tempId:r})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(Lj,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(wx,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(kj,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=$(M({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id}),i=this.privateMessagesBuffer.findIndex(o=>o.tempId!==void 0&&r.tempId!==void 0&&o.tempId===r.tempId);i!==-1?this.privateMessagesBuffer[i]=M(M({},this.privateMessagesBuffer[i]),r):this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(Vj)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(F(rt),F(Gs))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var kc,ki,Mx,Dx,Ni,we,kt=h(()=>{"use strict";Me();Ay();Us();R();bc();Ks();kc="user",ki="loggedInUser",Mx="facebookId",Dx="facebookAccessToken",Ni="loginTokenBackup",we=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(ki)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new pe([]);users$=this._users$.asObservable();_filterBy$=new pe("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new pe(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){K(ct.query(kc)).pipe(ne(e=>{this._users$.next(this._sort(e))}),de(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(ki)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(ki)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(ki,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Ni,e),sessionStorage.setItem(Ni,e),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"SAVE_LOGIN_TOKEN",token:e}),console.log("\u{1F4BE} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC-Service Worker \u05DC\u05E9\u05DE\u05D9\u05E8\u05EA token \u05D1\u05BEIndexedDB"))}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ni)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ni)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ni)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ni)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Ni)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${at.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={email:e,password:t};return K(ct.login("auth/login",r)).pipe(ne(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(ki,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),de(this._handleError))}loginWithFacebook(e){return K(ct.login("auth/facebook",e)).pipe(ne(t=>{let r=t.user,i=t.loginToken;this._loggedInUser$.next(r),localStorage.setItem(ki,JSON.stringify(r)),localStorage.setItem(Mx,e.facebookId),localStorage.setItem(Dx,e.accessToken),this.socketService.login(r._id),this._saveLoginToken(i)}),j(t=>t.user),de(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(ki),localStorage.removeItem(Mx),localStorage.removeItem(Dx),localStorage.removeItem(Ni),this.socketService.logout()}loadUsers(){return K(ct.query(kc)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),ne(e=>this._users$.next(e)),ut(3),de(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(Ee(1)).subscribe()}deleteUser(e){return K(ct.remove(kc,e)).pipe(ne(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),ut(2),de(this._handleError))}getUserById(e){return K(ct.get(kc,e)).pipe(ut(3),de(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=$(M({},e),{_id:this._getRandomId()});return K(ct.post("auth/signup",t)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),ut(3),de(this._handleError))}_updateUser(e){return K(ct.put(kc,e)).pipe(ne(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),ut(3),de(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),nt(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?K(ct.put("user/updateProfile",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(ki,JSON.stringify(t))}),de(this._handleError)):nt(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Le(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return nt(()=>new Error("No logged-in user found. Please log in."));let i=$(M({},r),{img:t});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),de(t=>(console.error("Error updating user image:",t.message||t),nt(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(F(br),F(Tn))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Tf(n,e){return{type:ie.Trigger,name:n,definitions:e,options:{}}}function Fc(n,e=null){return{type:ie.Animate,styles:e,timings:n}}function Sx(n,e=null){return{type:ie.Sequence,steps:n,options:e}}function tr(n){return{type:ie.Style,styles:n,offset:null}}function o_(n,e,t){return{type:ie.State,name:n,styles:e,options:t}}function Lc(n,e,t=null){return{type:ie.Transition,expr:n,animation:e,options:t}}var ie,wr,Ri,Rc,Pf,Af=h(()=>{"use strict";ie=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ie||{}),wr="*";Ri=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Rc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Pf="!"});var Vc,It,Qr=h(()=>{"use strict";Me();Ay();R();Vc="contact",It=class n{_contacts$=new pe([]);contacts$=this._contacts$.asObservable();_allContacts$=new pe([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new pe({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){K(ct.query(Vc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),de(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),K(ct.query("contact/All")).pipe(ne(e=>{this._allContacts$.next(this._sort(e))}),de(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return nt(()=>new Error("Contact not found"));let i=$(M({},r),{img:t});return K(ct.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),ut(1),de(o=>this._handleError(o)))}updateContactVideo(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return nt(()=>new Error("Contact not found"));let i=$(M({},r),{video:t});return K(ct.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),ut(1),de(o=>this._handleError(o)))}loadContacts(){return K(ct.query(Vc)).pipe(ne(e=>{let t=this._filterBy$.value;e=e.map(r=>$(M({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),ut(1),de(this._handleError))}deleteContact(e){return K(ct.remove(Vc,e)).pipe(ne(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),ut(1),de(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(Ee(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return K(ct.get(Vc,e)).pipe(ut(1),de(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),K(ct.put("contact/edit",e)).pipe(ne(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),ut(1),de(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),K(ct.post(Vc,e)).pipe(ne(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),ut(1),de(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),nt(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ys,s_=h(()=>{"use strict";R();Ys=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Xt(n){n||(Om(Xt),n=C(Bt));let e=new ee(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(yn(e))}var Qs=h(()=>{"use strict";R();Me();ui();});var Nt,Fi=h(()=>{"use strict";R();Me();Qs();R();Nt=class n{destroyRef=C(Bt);_msg=new pe(null);msg$=this._msg.asObservable().pipe(Or());_msgQueue$=new me;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(mn(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?V(null):(this._currentMsg=e,V(e).pipe(ne(()=>this._msg.next(e)),vn(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(Xt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var yt,Zr=h(()=>{"use strict";R();yt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&x("click",function(o){return r.onClick(o)})}})}});function Uj(n,e){if(n&1&&(Mt(0),p(1,"h1"),b(2),f(),A(3,"img",3),Dt()),n&2){let t=w();v(2),ke("Hello: ",t.logdinUser.username,"!"),v(),y("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Oe)}}function Bj(n,e){if(n&1){let t=H();p(0,"h1"),b(1," Welcome!"),A(2,"br"),b(3," Please login or sign up"),A(4,"br"),p(5,"span",4),A(6,"img",5),f()(),p(7,"section",6)(8,"a",7),b(9,"Login"),f(),p(10,"a",8),b(11,"Sign Up"),f(),p(12,"button",9),x("click",function(){T(t);let i=w();return P(i.loginWithFacebook())}),A(13,"img",10),p(14,"span",11),b(15,"Login with Facebook"),f()()()}}var kf,Ix=h(()=>{"use strict";R();TS();Me();kt();Af();Qr();R();s_();Fi();ft();xe();Zr();kf=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=C(ff);userService=C(we);logdinUser=this.userService.getLoggedInUser();contactService=C(It);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(Ee(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Ys),D(Nt),D(Ae))};static \u0275cmp=Z({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(p(0,"section",1),N(1,Uj,4,2,"ng-container",2)(2,Bj,16,0,"ng-template",null,0,Yn),f()),t&2){let i=dt(3);v(),y("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[ve,On,yt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:max-content;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;min-height:max-content;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;min-height:max-content;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[Tf("bounceArrow",[o_("up",tr({transform:"translateY(-10px)"})),o_("down",tr({transform:"translateY(10px)"})),Lc("up <=> down",[Fc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var Pn,Js=h(()=>{"use strict";R();R();Pn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new X;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(Et))};static \u0275dir=ae({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function $j(n,e){if(n&1){let t=H();p(0,"div",1)(1,"div",2),x("clickOutsideCapture",function(){T(t);let i=w();return P(i.cancel())}),p(2,"p"),b(3),f(),p(4,"div",3)(5,"button",4),x("click",function(){T(t);let i=w();return P(i.confirm())}),b(6,"Yes"),f(),p(7,"button",4),x("click",function(){T(t);let i=w();return P(i.cancel())}),b(8,"No"),f()()()()}if(n&2){let t=w();v(3),gt(t.message)}}var Xs,a_=h(()=>{"use strict";R();R();xe();Zr();Js();Xs=class n{isVisible=!1;message="";confirmed=new X;canceled=new X;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&N(0,$j,9,1,"div",0),t&2&&y("ngIf",r.isVisible)},dependencies:[ve,yt,Pn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var Hj,zj,qj,Rf,Tx=h(()=>{"use strict";R();R();ft();Fi();s_();xe();a_();Zr();Hj=(n,e)=>[n,e],zj=n=>({"long-name":n}),qj=n=>["/contact/edit",n],Rf=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new X;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Ae),D(Nt),D(Ys))};static \u0275cmp=Z({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:14,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(p(0,"article",0),x("click",function(){return r.onPreviewClick()}),A(1,"img",1),p(2,"div",2)(3,"h1",3),b(4),f()(),p(5,"div",4)(6,"button",5),x("click",function(){return r.onDeleteClick()}),A(7,"img",6),f(),p(8,"button",7),x("click",function(){return r.onEditClick()}),A(9,"img",8),f(),p(10,"button",9),x("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),A(11,"img",10),f()()(),p(12,"app-modal",11),x("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),A(13,"router-outlet")),t&2&&(v(),y("src",r.contact.img?r.contact.img:"../../../assets/images/picture.png",Oe)("ngClass",Dn(7,Hj,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),v(2),y("ngClass",ja(10,zj,r.isLongName)),v(),ke(" ",r.contact.name," "),v(4),y("routerLink",ja(12,qj,r.contact._id)),v(4),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[yr,Jn,On,Xs,yt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;width:22em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;height:17em;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1c284e;font-weight:700;text-align:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:10px;margin-top:.5rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:1.125rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{gap:8px}}']})}});function Gj(n,e){if(n&1){let t=H();p(0,"contact-preview",2),x("remove",function(){let i=T(t).$implicit,o=w();return P(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;y("contact",t)}}var Ff,Px=h(()=>{"use strict";R();ft();Me();R();ft();xe();Tx();Ff=class n{constructor(e){this.router=e}contacts;remove=new X;destroy$=new me;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Fe(e=>e instanceof un)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Ae))};static \u0275cmp=Z({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(p(0,"section",0),N(1,Gj,1,1,"contact-preview",1),f()),t&2&&(v(),y("ngForOf",r.contacts))},dependencies:[_r,Rf],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function Qj(){let n=vr()?vr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Li(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function $x(n){return n!=null&&typeof n.length=="number"}function Xj(n){return e=>{if(Li(e.value)||Li(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function eU(n){return e=>{if(Li(e.value)||Li(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Hx(n){return Li(n.value)?{required:!0}:null}function tU(n){return n.value===!0?null:{required:!0}}function nU(n){return Li(n.value)||Jj.test(n.value)?null:{email:!0}}function zx(n){return e=>Li(e.value)||!$x(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function rU(n){return e=>$x(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function iU(n){if(!n)return Vf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Li(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Vf(n){return null}function qx(n){return n!=null}function Wx(n){return wi(n)?K(n):n}function Gx(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function Kx(n,e){return e.map(t=>t(n))}function oU(n){return!n.validate}function Yx(n){return n.map(e=>oU(e)?e:t=>e.validate(t))}function Qx(n){if(!n)return null;let e=n.filter(qx);return e.length==0?null:function(t){return Gx(Kx(t,e))}}function h_(n){return n!=null?Qx(Yx(n)):null}function Zx(n){if(!n)return null;let e=n.filter(qx);return e.length==0?null:function(t){let r=Kx(t,e).map(Wx);return zh(r).pipe(j(Gx))}}function g_(n){return n!=null?Zx(Yx(n)):null}function Ax(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jx(n){return n._rawValidators}function Xx(n){return n._rawAsyncValidators}function c_(n){return n?Array.isArray(n)?n:[n]:[]}function jf(n,e){return Array.isArray(n)?n.includes(e):n===e}function kx(n,e){let t=c_(e);return c_(n).forEach(i=>{jf(t,i)||t.push(i)}),t}function Nx(n,e){return c_(e).filter(t=>!jf(n,t))}function m_(n){return(Gf(n)?n.validators:n)||null}function aU(n){return Array.isArray(n)?h_(n):n||null}function v_(n,e){return(Gf(e)?e.asyncValidators:n)||null}function cU(n){return Array.isArray(n)?g_(n):n||null}function Gf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function eI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[t])throw new I(1001,"")}function tI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new I(1002,"")})}function nI(n,e){return[...e.path,n]}function Hf(n,e,t=Kf){y_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uU(n,e),fU(n,e),dU(n,e),lU(n,e)}function Rx(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lU(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function y_(n,e){let t=Jx(n);e.validator!==null?n.setValidators(Ax(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Xx(n);e.asyncValidator!==null?n.setAsyncValidators(Ax(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();zf(e._rawValidators,i),zf(e._rawAsyncValidators,i)}function qf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Jx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=Xx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return zf(e._rawValidators,r),zf(e._rawAsyncValidators,r),t}function uU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&rI(n,e)})}function dU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&rI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function rI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fU(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function iI(n,e){n==null,y_(n,e)}function pU(n,e){return qf(n,e)}function oI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function hU(n){return Object.getPrototypeOf(n.constructor)===p_}function sI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aI(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===An?t=o:hU(o)?r=o:i=o}),i||r||t||null}function gU(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Fx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Lx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function lI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function wU(n){return n.split(":")[0]}function jx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function MU(n){return n.split(":")[0]}function DU(n){return typeof n=="number"?n:parseInt(n,10)}function Ux(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Bx,p_,qc,Yj,Zj,An,kn,ia,Jj,Vi,Uf,Jr,Po,Bf,sU,nX,Er,Wf,jc,Lf,ea,Uc,ji,$f,$c,Hc,ta,l_,u_,na,ra,d_,Wc,Kf,mU,Bc,__,zc,vU,yU,Vx,Xr,Yf,cI,_U,C_,CU,b_,bU,Qf,uI,EU,dI,fI,pI,SU,w_,xU,E_,hI,f_,gI,mI,vI,Nn=h(()=>{"use strict";R();R();xe();Me();ui();Bx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Gn),D(Et))}}static{this.\u0275dir=ae({type:n})}}return n})(),p_=(()=>{class n extends Bx{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,features:[Qt]})}}return n})(),qc=new L(""),Yj={provide:qc,useExisting:bn(()=>An),multi:!0};Zj=new L(""),An=(()=>{class n extends Bx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Qj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Gn),D(Et),D(Zj,8))}}static{this.\u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&x("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ot([Yj]),Qt]})}}return n})();kn=new L(""),ia=new L(""),Jj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vi=class{static min(e){return Xj(e)}static max(e){return eU(e)}static required(e){return Hx(e)}static requiredTrue(e){return tU(e)}static email(e){return nU(e)}static minLength(e){return zx(e)}static maxLength(e){return rU(e)}static pattern(e){return iU(e)}static nullValidator(e){return Vf(e)}static compose(e){return Qx(e)}static composeAsync(e){return Zx(e)}};Uf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=h_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=g_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Jr=class extends Uf{get formDirective(){return null}get path(){return null}},Po=class extends Uf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Bf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nX=$(M({},sU),{"[class.ng-submitted]":"isSubmitted"}),Er=(()=>{class n extends Bf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Po,2))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Qt]})}}return n})(),Wf=(()=>{class n extends Bf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Jr,10))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Qt]})}}return n})(),jc="VALID",Lf="INVALID",ea="PENDING",Uc="DISABLED",ji=class{},$f=class extends ji{constructor(e,t){super(),this.value=e,this.source=t}},$c=class extends ji{constructor(e,t){super(),this.pristine=e,this.source=t}},Hc=class extends ji{constructor(e,t){super(),this.touched=e,this.source=t}},ta=class extends ji{constructor(e,t){super(),this.status=e,this.source=t}},l_=class extends ji{constructor(e){super(),this.source=e}},u_=class extends ji{constructor(e){super(),this.source=e}};na=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Co(()=>this.statusReactive()),this.statusReactive=_o(void 0),this._pristine=Co(()=>this.pristineReactive()),this.pristineReactive=_o(!0),this._touched=Co(()=>this.touchedReactive()),this.touchedReactive=_o(!1),this._events=new me,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return sn(this.statusReactive)}set status(e){sn(()=>this.statusReactive.set(e))}get valid(){return this.status===jc}get invalid(){return this.status===Lf}get pending(){return this.status==ea}get disabled(){return this.status===Uc}get enabled(){return this.status!==Uc}get pristine(){return sn(this.pristineReactive)}set pristine(e){sn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return sn(this.touchedReactive)}set touched(e){sn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nx(e,this._rawAsyncValidators))}hasValidator(e){return jf(this._rawValidators,e)}hasAsyncValidator(e){return jf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Hc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Hc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $c(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new $c(!0,r))}markAsPending(e={}){this.status=ea;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ta(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this.errors=null,this._forEachChild(i=>{i.disable($(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $f(this.value,r)),this._events.next(new ta(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jc,this._forEachChild(r=>{r.enable($(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jc||this.status===ea)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $f(this.value,t)),this._events.next(new ta(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uc:jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ea,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Wx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ta(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Uc:this.errors?Lf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ea)?ea:this._anyControlsHaveStatus(Lf)?Lf:jc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new $c(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Hc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=aU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cU(this._rawAsyncValidators)}},ra=class extends na{constructor(e,t,r){super(m_(t),v_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){tI(this,!0,e),Object.keys(e).forEach(r=>{eI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},d_=class extends ra{},Wc=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Kf}),Kf="always";mU={provide:Jr,useExisting:bn(()=>__)},Bc=Promise.resolve(),__=(()=>{class n extends Jr{get submitted(){return sn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Co(()=>this.submittedReactive()),this.submittedReactive=_o(!1),this._directives=new Set,this.ngSubmit=new X,this.form=new ra({},h_(t),g_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Hf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bc.then(()=>{let r=this._findContainer(t.path),i=new ra({});iI(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),sI(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(kn,10),D(ia,10),D(Wc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&x("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ot([mU]),Qt]})}}return n})();zc=class extends na{constructor(e=null,t,r){super(m_(t),v_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Lx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Lx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},vU=n=>n instanceof zc,yU={provide:Po,useExisting:bn(()=>Xr)},Vx=Promise.resolve(),Xr=(()=>{class n extends Po{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new zc,this._registered=!1,this.name="",this.update=new X,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),oI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Hf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Vx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ei(r);Vx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?nI(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Jr,9),D(kn,10),D(ia,10),D(qc,10),D(on,8),D(Wc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ot([yU]),Qt,Wn]})}}return n})(),Yf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),cI=new L(""),_U={provide:Jr,useExisting:bn(()=>C_)},C_=(()=>{class n extends Jr{get submitted(){return sn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Co(()=>this._submittedReactive()),this._submittedReactive=_o(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Hf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Rx(t.control||null,t,!1),gU(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),sI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new l_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new u_(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Rx(r||null,t),vU(i)&&(Hf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);iI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&pU(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){y_(this.form,this),this._oldForm&&qf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(kn,10),D(ia,10),D(Wc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&x("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ot([_U]),Qt,Wn]})}}return n})(),CU={provide:Po,useExisting:bn(()=>b_)},b_=(()=>{class n extends Po{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=aI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),oI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return nI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Jr,13),D(kn,10),D(ia,10),D(qc,10),D(cI,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ot([CU]),Qt,Wn]})}}return n})(),bU={provide:qc,useExisting:bn(()=>Qf),multi:!0};Qf=(()=>{class n extends p_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=lI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=wU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&x("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ot([bU]),Qt]})}}return n})(),uI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(lI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(Et),D(Gn),D(Qf,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),EU={provide:qc,useExisting:bn(()=>dI),multi:!0};dI=(()=>{class n extends p_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=MU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&x("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ot([EU]),Qt]})}}return n})(),fI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(jx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(jx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(Et),D(Gn),D(dI,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();pI=(()=>{class n{constructor(){this._validator=Vf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,features:[Wn]})}}return n})(),SU={provide:kn,useExisting:bn(()=>w_),multi:!0},w_=(()=>{class n extends pI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ei,this.createValidator=t=>Hx}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ms("required",i._enabled?"":null)},inputs:{required:"required"},features:[ot([SU]),Qt]})}}return n})(),xU={provide:kn,useExisting:bn(()=>E_),multi:!0},E_=(()=>{class n extends pI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>DU(t),this.createValidator=t=>zx(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Fr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ms("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[ot([xU]),Qt]})}}return n})(),hI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({})}}return n})(),f_=class extends na{constructor(e,t,r){super(m_(t),v_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){tI(this,!1,e),e.forEach((r,i)=>{eI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};gI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Ux(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ra(i,o)}record(t,r=null){let i=this._reduceControls(t);return new d_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Ux(r)?o=r:(o.validators=r,o.asyncValidators=i),new zc(t,$(M({},o),{nonNullable:!0}))):new zc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new f_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof zc)return t;if(t instanceof na)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wc,useValue:t.callSetDisabledState??Kf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[hI]})}}return n})(),vI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:cI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wc,useValue:t.callSetDisabledState??Kf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({imports:[hI]})}}return n})()});function IU(n,e){if(n&1){let t=H();p(0,"button",4),x("click",function(){T(t);let i=w();return P(i.onClearFilter())}),b(1," \u2716 "),f()}}var Zf,yI=h(()=>{"use strict";R();Me();Qs();Qr();R();xe();Nn();Zf=class n{contactService=C(It);filterBy;filterSubject$=new me;destroyRef=C(Bt);ngOnInit(){this.contactService.filterBy$.pipe(Xt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Or(),Xt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),Ht("ngModelChange",function(o){return Zt(r.filterBy.name,o)||(r.filterBy.name=o),o}),x("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,IU,2,0,"button",3),f()()),t&2&&(v(2),$t("ngModel",r.filterBy.name),v(),y("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[ve,An,Er,Xr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Jf,_I=h(()=>{"use strict";R();Qs();Qr();R();ft();Px();yI();xe();Jf=class n{contactService=C(It);contacts$;destroyRef=C(Bt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(Xt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/expansion.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"contact-filter"),A(2,"input",1),f(),p(3,"button",2),A(4,"img",3),p(5,"span"),b(6,"New Content"),f()(),p(7,"contact-list",4),St(8,"async"),x("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(v(7),y("contacts",xt(8,1,r.contacts$)))},dependencies:[On,Ff,Zf,Jt],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});var Xf,CI=h(()=>{"use strict";R();Xf=class n{transform(e){if(!e)return"";let t=/(https?:\/\/)?(www\.)?([^\/.]+)\.co/,r=e.match(t);if(r){let i=r[3];return`<a href="${e}" target="_blank" rel="noopener noreferrer">${i}</a>`}return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=ho({name:"extractDomain",type:n,pure:!0})}});function PU(n,e){if(n&1&&(p(0,"div",11),A(1,"img",12),f()),n&2){let t=w().ngIf;v(),y("src",t.img?t.img:"../../../assets/images/picture.png",Oe)("ngClass",Dn(2,bI,t.imageSize||"medium",t.imageShape||"circle"))}}function AU(n,e){if(n&1&&(p(0,"div",13)(1,"video",14),b(2," Your browser does not support the video tag. "),f()()),n&2){let t=w().ngIf;v(),y("src",t.video,Oe)("ngClass",Dn(2,bI,t.imageSize||"medium",t.imageShape||"circle"))}}function kU(n,e){if(n&1&&(p(0,"p")(1,"strong"),b(2,"Dscription:"),f(),b(3),f()),n&2){let t=w().ngIf;v(3),ke(" ",t.lastName,"")}}function NU(n,e){if(n&1&&(p(0,"p")(1,"strong"),b(2,"Info:"),f(),A(3,"span",15),St(4,"extractDomain"),f()),n&2){let t=w().ngIf;v(3),y("innerHTML",xt(4,1,t.additionalInfo),cd)}}function RU(n,e){if(n&1){let t=H();p(0,"section",2),x("clickOutsideCapture",function(){T(t);let i=w();return P(i.onBack())}),p(1,"section",3)(2,"button",4),x("click",function(){T(t);let i=w();return P(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),b(5,"Contact Details"),f()(),p(6,"div",6),N(7,PU,2,5,"div",7)(8,AU,3,5,"div",8),f(),p(9,"div",9)(10,"p")(11,"strong"),b(12,"Name:"),f(),b(13),f(),N(14,kU,4,1,"p",10)(15,NU,5,3,"p",10),f()()}if(n&2){let t=e.ngIf;v(7),y("ngIf",t.img),v(),y("ngIf",t.video),v(5),ke(" ",t.name,""),v(),y("ngIf",t.lastName),v(),y("ngIf",t.additionalInfo)}}var bI,ep,wI=h(()=>{"use strict";R();Me();ft();R();xe();ft();Zr();Js();CI();bI=(n,e)=>[n,e];ep=class n{router=C(Ae);route=C(qt);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&$(M({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"media-row"],["class","contact-image-container",4,"ngIf"],["class","contact-video-container",4,"ngIf"],[1,"contact-fields"],[4,"ngIf"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-video-container"],["width","220","height","140","controls","",3,"src","ngClass"],[3,"innerHTML"]],template:function(t,r){t&1&&(A(0,"div",0),N(1,RU,16,5,"section",1),St(2,"async"),A(3,"router-outlet")),t&2&&(v(),y("ngIf",xt(2,1,r.contact$)))},dependencies:[yr,ve,Jn,yt,Pn,Jt,Xf],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:350px;height:200px}@media (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:310px!important;height:200px!important;border:1px solid}}"]})}});var Rn,oa=h(()=>{"use strict";Me();R();Rn=class n{isLoadingSubject=new pe(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var D_,EI=h(()=>{"use strict";R();Qr();Me();oa();D_=(n,e)=>{let t=n.params.id,r=C(Rn),i=C(It);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getById(t).pipe(vn(250),de(o=>(console.error("Error fetching contact:",o),V(null))),tn(()=>r.hide()))}});function FU(n,e){if(n&1&&(p(0,"div",4),A(1,"img",5),f()),n&2){let t=w();v(),y("src",t.uploadedImageUrl,Oe)}}var sa,S_=h(()=>{"use strict";R();R();bc();oa();xe();sa=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}imageUploaded=new X;uploadError=new X;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadImage(r)}}uploadImage(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded image URL:",t),this.imageUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the image:",t),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(br),D(Rn))};static \u0275cmp=Z({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"image-upload"],["class","contact-image-container",4,"ngIf"],["for","fileInput"],["type","file","id","fileInput",3,"change","disabled"],[1,"contact-image-container"],["alt","Uploaded Image",1,"contact-image",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),N(1,FU,2,1,"div",1),p(2,"label",2),b(3,"\u05D1\u05D7\u05E8 \u05EA\u05DE\u05D5\u05E0\u05D4 \u{1F4F7}"),f(),p(4,"input",3),x("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(v(),y("ngIf",r.uploadedImageUrl),v(),Kn("hidden",r.uploadedImageUrl),v(2),y("disabled",r.isLoading))},dependencies:[ve],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;background-color:transparent;box-shadow:none;max-width:200px;text-align:center}.image-upload[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #ddd;display:flex;justify-content:center;align-items:center}.image-upload[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;width:7em;height:1em;background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003;margin-top:.5rem;visibility:visible}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.image-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8rem;color:#555;max-width:150px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});function LU(n,e){if(n&1&&(p(0,"div",4),A(1,"video",5),f()),n&2){let t=w();v(),y("src",t.uploadedVideoUrl,Oe)}}var tp,DI=h(()=>{"use strict";R();R();bc();oa();xe();tp=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}videoUploaded=new X;uploadError=new X;selectedFile=null;uploadedVideoUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadVideo(r)}}uploadVideo(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded video URL:",t),this.videoUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the video:",t),this.uploadError.emit("Failed to upload the video"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(br),D(Rn))};static \u0275cmp=Z({type:n,selectors:[["video-upload"]],outputs:{videoUploaded:"videoUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"video-upload"],["class","video-container",4,"ngIf"],["for","videoFileInput"],["type","file","id","videoFileInput","accept","video/*",3,"change","disabled"],[1,"video-container"],["width","220","height","140","controls","",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),N(1,LU,2,1,"div",1),p(2,"label",2),b(3,"\u05D1\u05D7\u05E8 \u05D5\u05D9\u05D3\u05D0\u05D5 \u{1F3A5}"),f(),p(4,"input",3),x("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(v(),y("ngIf",r.uploadedVideoUrl),v(),Kn("hidden",r.uploadedVideoUrl),v(2),y("disabled",r.isLoading))},dependencies:[ve],styles:[".video-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.video-upload[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{width:220px;height:140px;border:2px solid #ddd;border-radius:8px;overflow:hidden}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;padding:.2rem .6rem;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.video-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.video-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});var np,SI=h(()=>{"use strict";R();np=class n{transform(e){if(!e)return e;let t=/(https?:\/\/[^\s]+)/g;return e.replace(t,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>')}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=ho({name:"linkify",type:n,pure:!0})}});function UU(n,e){if(n&1){let t=H();p(0,"button",39),x("click",function(){T(t);let i=w(2);return P(i.onDeleteClick())}),A(1,"img",40),f()}}function BU(n,e){if(n&1){let t=H();p(0,"img",41),x("click",function(){T(t);let i=w(2);return P(i.toggleImageUpload())}),f()}if(n&2){let t=w(2);y("src",t.contact.img,Oe)("ngClass",Dn(2,rp,t.selectedImageSize,t.selectedImageShape))}}function $U(n,e){if(n&1){let t=H();p(0,"div",43),x("click",function(){T(t);let i=w(3);return P(i.toggleImageUpload())}),b(1),f()}if(n&2){let t,r=w(3);y("ngClass",Dn(2,rp,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),v(),ke(" ",r.getInitials(r.contact.name)," ")}}function HU(n,e){if(n&1){let t=H();p(0,"img",44),x("click",function(){T(t);let i=w(3);return P(i.toggleImageUpload())}),f()}if(n&2){let t,r=w(3);y("ngClass",Dn(1,rp,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function zU(n,e){if(n&1&&N(0,$U,2,5,"div",42)(1,HU,1,4,"ng-template",null,2,Yn),n&2){let t=dt(2),r=w(2);y("ngIf",r.contact.name)("ngIfElse",t)}}function qU(n,e){if(n&1){let t=H();p(0,"div",45)(1,"image-upload",46),x("imageUploaded",function(i){T(t);let o=w(2);return P(o.onImageUploaded(i))})("uploadError",function(i){T(t);let o=w(2);return P(o.onUploadError(i))}),f()()}}function WU(n,e){if(n&1&&(p(0,"video",47),A(1,"source",48),b(2," Your browser does not support the video tag. "),f()),n&2){let t=w(2);v(),y("src",t.contact.video,Oe)}}function GU(n,e){if(n&1){let t=H();p(0,"div",49),x("click",function(){T(t);let i=w(2);return P(i.toggleVideoUpload())}),A(1,"img",50),f()}if(n&2){let t=w(2);y("ngClass",Dn(1,rp,t.selectedImageSize,t.selectedImageShape))}}function KU(n,e){if(n&1){let t=H();p(0,"div",51)(1,"video-upload",52),x("videoUploaded",function(i){T(t);let o=w(2);return P(o.onVideoUploaded(i))})("uploadError",function(i){T(t);let o=w(2);return P(o.onUploadVideoError(i))}),f()()}}function YU(n,e){if(n&1&&(p(0,"option",53),b(1),f()),n&2){let t=e.$implicit;y("value",t.value),v(),ke("",t.label," ")}}function QU(n,e){if(n&1&&(p(0,"option",53),b(1),f()),n&2){let t=e.$implicit;y("value",t.value),v(),ke("",t.label," ")}}function ZU(n,e){n&1&&(p(0,"span"),b(1,"Name is required!"),f())}function JU(n,e){n&1&&(p(0,"span"),b(1,"Name must be at least 3 characters long!"),f())}function XU(n,e){if(n&1&&(p(0,"p",55),N(1,ZU,2,0,"span",30)(2,JU,2,0,"span",30),f()),n&2){let t=w().ngIf;v(),y("ngIf",t.errors.required),v(),y("ngIf",t.errors.minlength)}}function eB(n,e){if(n&1&&(Mt(0),N(1,XU,3,2,"p",54),Dt()),n&2){let t=e.ngIf;v(),y("ngIf",t.errors&&t.touched)}}function tB(n,e){n&1&&(p(0,"div",56)(1,"label",57),b(2,"Description"),f(),A(3,"textarea",58),f())}function nB(n,e){n&1&&(p(0,"span"),b(1,"Description must be at least 3 characters long!"),f())}function rB(n,e){if(n&1&&(p(0,"p",55),N(1,nB,2,0,"span",30),f()),n&2){let t=w().ngIf;v(),y("ngIf",t.errors.minlength)}}function iB(n,e){if(n&1&&(Mt(0),N(1,rB,2,1,"p",54),Dt()),n&2){let t=e.ngIf;v(),y("ngIf",t.errors&&t.touched)}}function oB(n,e){if(n&1&&(A(0,"p",59),St(1,"linkify")),n&2){let t=w(2);y("innerHTML",xt(1,1,t.form.controls.additionalInfo.value),cd)}}function sB(n,e){n&1&&(p(0,"span"),b(1,"Additional Info must be at least 3 characters long!"),f())}function aB(n,e){if(n&1&&(p(0,"p",55),N(1,sB,2,0,"span",30),f()),n&2){let t=w().ngIf;v(),y("ngIf",t.errors.minlength)}}function cB(n,e){if(n&1&&(Mt(0),N(1,aB,2,1,"p",54),Dt()),n&2){let t=e.ngIf;v(),y("ngIf",t.errors&&t.touched)}}function lB(n,e){if(n&1){let t=H();p(0,"div",60)(1,"label",61)(2,"input",62),x("change",function(i){T(t);let o=w(2);return P(o.onToggleLastName(i))}),f(),A(3,"span",63),f(),p(4,"span",64),b(5,"Add Description"),f()()}if(n&2){let t=w(2);v(2),y("checked",t.IsLastName||t.contact.lastName)}}function uB(n,e){if(n&1){let t=H();p(0,"div",5)(1,"section",6),x("clickOutsideCapture",function(){T(t);let i=w();return P(i.onBack())}),p(2,"section",7)(3,"a",8),A(4,"img",9),f(),p(5,"h2"),b(6),f(),N(7,UU,2,0,"button",10),f(),p(8,"form",11),x("ngSubmit",function(){T(t);let i=w();return P(i.onSaveContact())}),p(9,"div",12)(10,"div",13),N(11,BU,1,5,"img",14)(12,zU,3,2,"ng-template",null,0,Yn)(14,qU,2,0,"div",15),f(),p(15,"div",16)(16,"div",17),x("click",function(){T(t);let i=w();return P(i.toggleVideoUpload())}),N(17,WU,3,1,"video",18),f(),N(18,GU,2,4,"ng-template",null,1,Yn)(20,KU,2,0,"div",19),f()(),p(21,"div",20)(22,"label",21),b(23,"Size:"),f(),p(24,"select",22),x("change",function(i){T(t);let o=w();return P(o.onImageSizeChange(i))}),N(25,YU,2,2,"option",23),f(),p(26,"label",24),b(27,"Shape:"),f(),p(28,"select",25),x("change",function(i){T(t);let o=w();return P(o.onImageShapeChange(i))}),N(29,QU,2,2,"option",23),f()(),p(30,"div",26)(31,"div",27)(32,"label",28),b(33,"Name"),f(),A(34,"input",29),f(),N(35,eB,2,1,"ng-container",30)(36,tB,4,0,"div",31)(37,iB,2,1,"ng-container",30),p(38,"div",32)(39,"label",33),b(40,"Additional Info"),f(),A(41,"textarea",34),f(),N(42,oB,2,3,"p",35)(43,cB,2,1,"ng-container",30),p(44,"div",36),N(45,lB,6,1,"div",37),p(46,"button",38),b(47," Save "),f()()()()()()}if(n&2){let t=dt(13),r=dt(19),i=w();v(6),ke("",i.contact._id?"Edit":"Add"," Contact"),v(),y("ngIf",i.contact._id),v(),y("formGroup",i.form),v(3),y("ngIf",i.contact.img)("ngIfElse",t),v(3),y("ngIf",i.showImageUpload),v(3),y("ngIf",i.contact.video)("ngIfElse",r),v(3),y("ngIf",i.showVideoUpload),v(5),y("ngForOf",i.imageSizeOptions)("ngForTrackBy",i.trackByFn),v(4),y("ngForOf",i.imageShapeOptions)("ngForTrackBy",i.trackByFn),v(6),y("ngIf",i.form.controls.name),v(),y("ngIf",i.IsLastName||i.contact.lastName),v(),y("ngIf",i.form.controls.lastName),v(5),y("ngIf",i.form.controls.additionalInfo.value),v(),y("ngIf",i.form.controls.additionalInfo),v(2),y("ngIf",!i.contact.lastName),v(),y("disabled",i.form.invalid)}}var rp,Kc,xI=h(()=>{"use strict";R();Qr();ft();Me();Nn();xe();R();Nn();xe();Fi();ft();a_();Zr();Js();S_();DI();SI();rp=(n,e)=>[n,e];Kc=class n{constructor(e,t,r,i){this.fb=e;this.datePipe=t;this.msgService=r;this.cd=i}IsLastName=!1;showImageUpload=!1;showVideoUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new me;contactService=C(It);contact=this.contactService.getEmptyContact();router=C(Ae);route=C(qt);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Vi.required,Vi.minLength(3)]],lastName:[e?this.contact.lastName:"",[Vi.minLength(3)]],additionalInfo:[e?this.contact.additionalInfo:""],phone:[e?this.contact.phone:"",[Vi.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Vi.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date)],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],video:[e?this.contact.video:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(yn(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(yn(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Fe(t=>!!t),yn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue($(M({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle",video:t.video||""})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(yn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=M({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(yn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.patchValue({img:e}),this.showImageUpload=!1,this.cd.detectChanges(),this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}onVideoUploaded(e){console.log("Video uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.video=e,this.form.patchValue({video:e}),this.showVideoUpload=!1,this.contact._id?this.contactService.updateContactVideo(this.contact._id,e).subscribe({next:t=>{console.log("Contact video updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact video updated successfully!")},error:t=>{console.error("Failed to update contact video:",t),this.msgService.setErrorMsg("Failed to update contact video.")}}):console.log("Contact does not have an ID yet. Video update will be saved with the form submission.")}onUploadVideoError(e){console.error("Video upload error:",e),this.msgService.setErrorMsg(e)}toggleVideoUpload(){this.showVideoUpload=!this.showVideoUpload}static \u0275fac=function(t){return new(t||n)(D(gI),D(Nd),D(Nt),D(on))};static \u0275cmp=Z({type:n,selectors:[["contact-edit"]],features:[ot([Nd])],decls:3,vars:3,consts:[["fallback",""],["videoFallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"media-row"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"contact-video-container"],[1,"video-wrapper",3,"click"],["width","220","height","140","controls","",4,"ngIf","ngIfElse"],["class","video-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","desc form-input",4,"ngIf"],[1,"form-input","desc"],["for","additionalInfo"],["formControlName","additionalInfo","placeholder","Enter text, links, or anything...","id","additionalInfo",1,"lastName"],["class","formatted-text",3,"innerHTML",4,"ngIf"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"click","src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/picture.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["width","220","height","140","controls",""],["type","video/mp4",3,"src"],[1,"default-video-avatar",3,"click","ngClass"],["src","../../../assets/images/video.png","alt","Default Video Placeholder"],[1,"video-upload-section"],[3,"videoUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],[1,"desc","form-input"],["for","lastName"],["formControlName","lastName","placeholder","Enter description...","id","description"],[1,"formatted-text",3,"innerHTML"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(N(0,uB,48,20,"div",3),p(1,"section")(2,"app-modal",4),x("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(y("ngIf",r.contact),v(2),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[yr,_r,ve,On,Yf,uI,fI,An,Qf,Er,Wf,C_,b_,Xs,yt,Pn,sa,tp,np],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:30em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:8px;font-size:16px;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;background-color:#fff;resize:vertical;font-family:Roboto,sans-serif}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none;box-shadow:0 0 5px #f1c40f80}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:3em;height:1em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:.6em;width:1em;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:7em;font-size:13px;margin-right:.7em}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;margin-top:1rem;display:flex;flex-direction:column;align-items:center}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #ccc;border-radius:8px;object-fit:cover;width:220px;height:140px;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .video-upload-section[_ngcontent-%COMP%]{margin-top:.5rem}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#eee;width:160px!important;height:100px!important;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;opacity:.6}@media screen and (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0!important}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{width:200px!important;height:120px!important;border:1px solid;background:beige}.contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.default-avatar[_ngcontent-%COMP%], .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px!important;height:100px!important}}.upload-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.upload-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.upload-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.video-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.video-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000}']})}});function II(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function OI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(Yh(200),Or(),Le(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function TI(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var ip=h(()=>{"use strict";Me();Qr()});var op,PI=h(()=>{"use strict";Nn();ip();R();op=class n{validate(e){return II()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appEmailValidator",""]],features:[ot([{provide:kn,useExisting:n,multi:!0}])]})}});var sp,AI=h(()=>{"use strict";Nn();ip();R();kt();sp=class n{constructor(e){this.userService=e}validate(e){return OI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(we))};static \u0275dir=ae({type:n,selectors:[["","appEmailTaken",""]],features:[ot([{provide:ia,useExisting:n,multi:!0}])]})}});var ap,kI=h(()=>{"use strict";Nn();ip();R();ap=class n{validate(e){return TI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appPasswordValidator",""]],features:[ot([{provide:kn,useExisting:n,multi:!0}])]})}});var cp,NI=h(()=>{"use strict";Nn();R();cp=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appFullNameValidator",""]],features:[ot([{provide:kn,useExisting:n,multi:!0}])]})}});function gB(n,e){n&1&&(p(0,"span"),b(1,"Email is required."),f())}function mB(n,e){n&1&&(p(0,"span"),b(1,"Please enter a valid email address."),f())}function vB(n,e){if(n&1&&(p(0,"div",14),N(1,gB,2,0,"span",6)(2,mB,2,0,"span",6),f()),n&2){w();let t=dt(4);v(),y("ngIf",t.errors==null?null:t.errors.required),v(),y("ngIf",t.errors==null?null:t.errors.email)}}function yB(n,e){if(n&1){let t=H();Mt(0),p(1,"label",12),b(2,"Email:"),f(),p(3,"input",13,2),Ht("ngModelChange",function(i){T(t);let o=w();return Zt(o.user.email,i)||(o.user.email=i),P(i)}),f(),N(5,vB,3,2,"div",9),A(6,"br"),Dt()}if(n&2){let t=dt(4),r=w();v(3),$t("ngModel",r.user.email),v(2),y("ngIf",t.touched&&t.invalid)}}function _B(n,e){n&1&&(p(0,"span"),b(1,"Full name is required."),f())}function CB(n,e){n&1&&(p(0,"span"),b(1," Full name must be at least 3 characters long. "),f())}function bB(n,e){if(n&1&&(p(0,"div",14),N(1,_B,2,0,"span",6)(2,CB,2,0,"span",6),f()),n&2){w();let t=dt(4);v(),y("ngIf",t.errors==null?null:t.errors.required),v(),y("ngIf",t.errors==null?null:t.errors.minlength)}}function wB(n,e){n&1&&(p(0,"span"),b(1,"Email is required."),f())}function EB(n,e){n&1&&(p(0,"span"),b(1,"Please enter a valid email address."),f())}function MB(n,e){n&1&&(p(0,"span"),b(1,"This email is already registered."),f())}function DB(n,e){if(n&1&&(p(0,"div",14),N(1,wB,2,0,"span",6)(2,EB,2,0,"span",6)(3,MB,2,0,"span",6),f()),n&2){w();let t=dt(10);v(),y("ngIf",t.errors==null?null:t.errors.required),v(),y("ngIf",t.errors==null?null:t.errors.email),v(),y("ngIf",t.errors==null?null:t.errors.emailTaken)}}function SB(n,e){n&1&&(p(0,"div",19),b(1," Checking email availability... "),f())}function xB(n,e){if(n&1){let t=H();Mt(0),p(1,"label",15),b(2,"Full Name:"),f(),p(3,"input",16,3),Ht("ngModelChange",function(i){T(t);let o=w();return Zt(o.user.username,i)||(o.user.username=i),P(i)}),f(),N(5,bB,3,2,"div",9),A(6,"br"),p(7,"label",12),b(8,"Email:"),f(),p(9,"input",17,2),Ht("ngModelChange",function(i){T(t);let o=w();return Zt(o.user.email,i)||(o.user.email=i),P(i)}),f(),N(11,DB,4,3,"div",9)(12,SB,2,0,"div",18),A(13,"br"),Dt()}if(n&2){let t=dt(4),r=dt(10),i=w();v(3),$t("ngModel",i.user.username),v(2),y("ngIf",t.touched&&t.invalid),v(4),$t("ngModel",i.user.email),v(2),y("ngIf",r.touched&&r.invalid),v(),y("ngIf",r.pending)}}function IB(n,e){n&1&&(p(0,"span"),b(1,"Password is required."),f())}function OB(n,e){n&1&&(p(0,"span"),b(1,"Password must be at least 6 characters long."),f())}function TB(n,e){n&1&&(p(0,"span"),b(1,"Password must contain at least one capital letter."),f())}function PB(n,e){n&1&&(p(0,"span"),b(1,"Password must contain at least one special character."),f())}function AB(n,e){if(n&1&&(p(0,"div",14),N(1,IB,2,0,"span",6)(2,OB,2,0,"span",6)(3,TB,2,0,"span",6)(4,PB,2,0,"span",6),f()),n&2){w();let t=dt(10);v(),y("ngIf",t.errors==null?null:t.errors.required),v(),y("ngIf",t.errors==null?null:t.errors.minlength),v(),y("ngIf",t.errors==null?null:t.errors.noCapitalLetter),v(),y("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function kB(n,e){if(n&1&&(p(0,"p",14),b(1),f()),n&2){let t=w();v(),gt(t.errorMessage)}}var Yc,RI=h(()=>{"use strict";R();kt();ft();Fi();xe();Nn();PI();AI();kI();NI();Yc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=$(M({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.email,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.email,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(we),D(Ae),D(Nt),D(qt))};static \u0275cmp=Z({type:n,selectors:[["login-sign-up"]],decls:21,vars:10,consts:[["form","ngForm"],["password","ngModel"],["email","ngModel"],["username","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],[4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","",3,"ngModelChange","ngModel"],[1,"error-message"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=H();p(0,"div",4)(1,"h4"),b(2),f(),p(3,"form",5,0),x("ngSubmit",function(){return T(i),P(r.onSubmit())}),N(5,yB,7,2,"ng-container",6)(6,xB,14,5,"ng-container",6),p(7,"label",7),b(8,"Password:"),f(),p(9,"input",8,1),Ht("ngModelChange",function(s){return T(i),Zt(r.user.password,s)||(r.user.password=s),P(s)}),f(),N(11,AB,5,4,"div",9),A(12,"br"),p(13,"button",10),b(14),f(),p(15,"p"),b(16),p(17,"a",11),x("click",function(s){return T(i),r.toggleMode(),P(s.preventDefault())}),b(18),f()(),A(19,"br"),f(),N(20,kB,2,1,"p",9),f()}if(t&2){let i=dt(4),o=dt(10);v(2),gt(r.isSignupMode?"Create an Account":"Sign In"),v(3),y("ngIf",!r.isSignupMode),v(),y("ngIf",r.isSignupMode),v(3),$t("ngModel",r.user.password),v(2),y("ngIf",o.touched&&o.invalid),v(2),y("disabled",i.invalid),v(),ke(" ",r.isSignupMode?"Sign Up":"Log In"," "),v(2),ke(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),v(2),ke(" ",r.isSignupMode?"Sign in here":"Create an account"," "),v(2),y("ngIf",r.errorMessage)}},dependencies:[ve,Yf,An,Er,Wf,w_,E_,Xr,__,op,sp,ap,cp],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var Ao,FI=h(()=>{"use strict";R();ft();kt();Me();Fi();Ao=(n,e)=>{let t=C(we),r=C(Ae),i=C(Nt);return t.loggedInUser$.pipe(vn(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var lp,LI=h(()=>{"use strict";R();lp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(p(0,"html",0)(1,"head"),A(2,"meta",1)(3,"meta",2),p(4,"title"),b(5,"Privacy Policy - My Accounts App"),f(),A(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),p(13,"body")(14,"div",10)(15,"h1"),b(16,"Privacy Policy for My Accounts App"),f(),p(17,"p")(18,"strong"),b(19,"Effective Date:"),f(),b(20," 07/02/2025"),f(),p(21,"p"),b(22,"Welcome to "),p(23,"strong"),b(24,"My Accounts App"),f(),b(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),p(26,"h2"),b(27,"1. Information We Collect"),f(),p(28,"ul")(29,"li")(30,"strong"),b(31,"Personal Information:"),f(),b(32," Name, email address, phone number, and other details provided during registration."),f(),p(33,"li")(34,"strong"),b(35,"Usage Data:"),f(),b(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),p(37,"li")(38,"strong"),b(39,"Device Information:"),f(),b(40," IP address, browser type, and operating system."),f()(),p(41,"h2"),b(42,"2. How We Use Your Information"),f(),p(43,"ul")(44,"li"),b(45,"Provide, operate, and improve our app and services."),f(),p(46,"li"),b(47,"Personalize your experience."),f(),p(48,"li"),b(49,"Ensure security and prevent fraudulent activities."),f(),p(50,"li"),b(51,"Comply with legal requirements."),f()(),p(52,"h2"),b(53,"3. Sharing of Information"),f(),p(54,"ul")(55,"li"),b(56,"We do not sell or rent your personal information."),f(),p(57,"li")(58,"strong"),b(59,"Service Providers:"),f(),b(60," Third-party vendors that help us operate our app."),f(),p(61,"li")(62,"strong"),b(63,"Legal Authorities:"),f(),b(64," When required by law or to protect our rights."),f()(),p(65,"h2"),b(66,"4. Data Retention & Security"),f(),p(67,"p"),b(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),p(69,"h2"),b(70,"5. Your Rights"),f(),p(71,"ul")(72,"li"),b(73,"Access and review your personal data."),f(),p(74,"li"),b(75,"Request correction or deletion of your information."),f(),p(76,"li"),b(77,"Opt-out of marketing communications."),f()(),p(78,"h2"),b(79,"6. Third-Party Links"),f(),p(80,"p"),b(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),p(82,"h2"),b(83,"7. Changes to This Policy"),f(),p(84,"p"),b(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),p(86,"h2"),b(87,"8. Contact Us"),f(),p(88,"p"),b(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),p(90,"p"),b(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f;padding:7px}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}"]})}});function RB(n,e){if(n&1){let t=H();p(0,"user-list",6),x("remove",function(i){T(t);let o=w();return P(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;y("users",(t=r)!==null&&t!==void 0?t:UM(1,NB))}}function LB(n,e){if(n&1){let t=H();p(0,"div",7),x("clickOutsideCapture",function(){T(t);let i=w();return P(i.closeChat("group"))}),p(1,"div",8)(2,"span",9),x("click",function(){T(t);let i=w();return P(i.closeChat("group"))}),b(3,"\xD7"),f(),p(4,"app-chat",10),x("closeChat",function(){T(t);let i=w();return P(i.closeChat("group"))}),f()()()}n&2&&(v(4),y("chatType","group"))}var NB,Ui,up=h(()=>{"use strict";R();Qs();Me();kt();Ks();R();NB=()=>[];Ui=class n{userService=C(we);socketService=C(Tn);users$;destroyRef=C(Bt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new pe(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(Xt(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new pe(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(Xt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-index"]],decls:7,vars:4,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/social_cvhg3i.png","alt","group-chat",1,"send-btn"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType"]],template:function(t,r){t&1&&(p(0,"section",0),A(1,"user-filter",1),N(2,RB,1,2,"user-list",2),St(3,"async"),f(),p(4,"button",3),x("click",function(){return r.openChat("group")}),A(5,"img",4),f(),N(6,LB,5,1,"div",5)),t&2&&(v(2),y("ngIf",xt(3,2,r.users$)),v(4),y("ngIf",r.isGroupChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background:linear-gradient(90deg,#34495e,#2c3e50)}.send-btn[_ngcontent-%COMP%]{max-width:4em}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px;bottom:15em}.group-chat-btn[_ngcontent-%COMP%]{right:1em!important}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function jB(n,e){if(n&1&&(p(0,"span"),b(1),f()),n&2){let t=w().ngIf;v(),gt(t.username)}}function UB(n,e){if(n&1&&(p(0,"span"),b(1),f()),n&2){let t=w().ngIf;v(),ke("",t.username.substring(0,15),"...")}}function BB(n,e){if(n&1&&(p(0,"span"),b(1),f()),n&2){let t=w().ngIf;v(),gt(t.email)}}function $B(n,e){if(n&1&&(p(0,"span"),b(1),f()),n&2){let t=w().ngIf;v(),ke("",t.email.substring(0,20),"...")}}function HB(n,e){if(n&1){let t=H();p(0,"section",2)(1,"section",3)(2,"button",4),x("click",function(){T(t);let i=w();return P(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),b(5,"User Details"),f()(),p(6,"div",6),A(7,"img",7),f(),p(8,"div",8)(9,"p")(10,"strong"),b(11,"Username:"),f(),N(12,jB,2,1,"span",9)(13,UB,2,1,"span",9),f(),p(14,"p")(15,"strong"),b(16,"Email:"),f(),N(17,BB,2,1,"span",9)(18,$B,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=w();v(7),y("src",t.img?t.img:"../../../assets/images/contact.png",Oe),v(5),y("ngIf",!r.isLongField(t.username,15)),v(),y("ngIf",r.isLongField(t.username,15)),v(4),y("ngIf",!r.isLongField(t.email,20)),v(),y("ngIf",r.isLongField(t.email,20))}}var dp,VI=h(()=>{"use strict";R();Me();ft();kt();R();xe();ft();dp=class n{router=C(Ae);route=C(qt);subscription;userService=C(we);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(p(0,"div",0),x("click",function(){return r.onBack()}),f(),N(1,HB,19,5,"section",1),St(2,"async"),A(3,"router-outlet")),t&2&&(v(),y("ngIf",xt(2,1,r.user$)))},dependencies:[ve,Jn,Jt],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var jI,UI=h(()=>{"use strict";R();kt();Me();oa();jI=(n,e)=>{let t=n.params.id,r=C(Rn),i=C(we);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getUserById(t).pipe(vn(250),de(o=>(console.error("Error fetching user:",o),V(null))),tn(()=>r.hide()))}});var zB,fp,BI=h(()=>{"use strict";ft();Ix();_I();wI();EI();xI();RI();FI();LI();up();VI();UI();R();zB=[{path:"contact",component:Jf,canActivate:[Ao],children:[{path:"edit",component:Kc,canActivate:[Ao]},{path:"edit/:id",component:Kc,resolve:{contact:D_},canActivate:[Ao]}]},{path:"contact/:id",component:ep,outlet:"modal",resolve:{contact:D_},canActivate:[Ao]},{path:"login",component:Yc},{path:"signup",component:Yc},{path:"privacy-policy",component:lp},{path:"users",component:Ui,canActivate:[Ao]},{path:"user/:id",component:dp,outlet:"modal",resolve:{user:jI},canActivate:[Ao]},{path:"",component:kf}],fp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Je({type:n});static \u0275inj=Ze({imports:[Iy.forRoot(zB,{useHash:!1}),Iy]})}});function GB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function hp(){try{return typeof indexedDB=="object"}catch{return!1}}function gp(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function WI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function XB(n,e){return n.replace(e3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function mp(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if($I(o)&&$I(s)){if(!mp(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function $I(n){return n!==null&&typeof n=="object"}function vp(n){return n&&n._delegate?n._delegate:n}var HI,qB,zI,x_,WB,I_,qI,KB,YB,QB,ZB,O_,pp,JB,ei,ti,e3,bte,aa=h(()=>{"use strict";HI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},qB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},zI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[u],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new x_;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let _=l<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},x_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WB=function(n){let e=HI(n);return zI.encodeByteArray(e,!0)},I_=function(n){return WB(n).replace(/\./g,"")},qI=function(n){try{return zI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};KB=()=>GB().__FIREBASE_DEFAULTS__,YB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&qI(n[1]);return e&&JSON.parse(e)},ZB=()=>{try{return KB()||YB()||QB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O_=()=>{var n;return(n=ZB())===null||n===void 0?void 0:n.config};pp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};JB="FirebaseError",ei=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=JB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}},ti=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?XB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ei(i,a,r)}};e3=/\{\$([^}]+)}/g;bte=4*60*60*1e3;});function t3(n){return n===ko?void 0:n}function n3(n){return n.instantiationMode==="EAGER"}var fn,ko,T_,yp,_p=h(()=>{"use strict";aa();fn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};ko="[DEFAULT]";T_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new pp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n3(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new T_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var r3,qe,i3,o3,s3,a3,Cp,GI=h(()=>{"use strict";r3=[],qe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(qe||{}),i3={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},o3=qe.INFO,s3={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},a3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=s3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cp=class{constructor(e){this.name=e,this._logLevel=o3,this._logHandler=a3,this._userLogHandler=null,r3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}});function l3(){return KI||(KI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u3(){return YI||(YI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function d3(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(nr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&QI.set(t,n)}).catch(()=>{}),N_.set(e,n),e}function f3(n){if(A_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});A_.set(n,e)}function JI(n){k_=n(k_)}function p3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(bp(this),e,...t);return ZI.set(r,e.sort?e.sort():[e]),nr(r)}:u3().includes(n)?function(...e){return n.apply(bp(this),e),nr(QI.get(this))}:function(...e){return nr(n.apply(bp(this),e))}}function h3(n){return typeof n=="function"?p3(n):(n instanceof IDBTransaction&&f3(n),c3(n,l3())?new Proxy(n,k_):n)}function nr(n){if(n instanceof IDBRequest)return d3(n);if(P_.has(n))return P_.get(n);let e=h3(n);return e!==n&&(P_.set(n,e),N_.set(e,n)),e}var c3,KI,YI,QI,A_,ZI,P_,N_,k_,bp,R_=h(()=>{"use strict";c3=(n,e)=>e.some(t=>n instanceof t);QI=new WeakMap,A_=new WeakMap,ZI=new WeakMap,P_=new WeakMap,N_=new WeakMap;k_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return A_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ZI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};bp=n=>N_.get(n)});function No(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=nr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(nr(s.result),c.oldVersion,c.newVersion,nr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function wp(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),nr(t).then(()=>{})}function XI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(F_.get(e))return F_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=m3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g3.includes(t)))return;let o=function(s,...a){return S(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return F_.set(e,o),o}var g3,m3,F_,Ep=h(()=>{"use strict";R_();R_();g3=["get","getKey","getAll","getAllKeys","count"],m3=["put","add","delete","clear"],F_=new Map;JI(n=>$(M({},n),{get:(e,t,r)=>XI(e,t)||n.get(e,t,r),has:(e,t)=>!!XI(e,t)||n.has(e,t)}))});function v3(n){let e=n.getComponent();return e?.type==="VERSION"}function tO(n,e){try{n.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ri(n){let e=n.name;if(B_.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;B_.set(e,n);for(let t of Mp.values())tO(t,n);for(let t of q3.values())tO(t,n);return!0}function Zc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function q_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:U_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(t||(t=O_()),!t)throw Bi.create("no-options");let o=Mp.get(i);if(o){if(mp(t,o.options)&&mp(r,o.config))return o;throw Bi.create("duplicate-app",{appName:i})}let s=new yp(i);for(let c of B_.values())s.addComponent(c);let a=new $_(t,r,s);return Mp.set(i,a),a}function W_(n=U_){let e=Mp.get(n);if(!e&&n===U_&&O_())return q_();if(!e)throw Bi.create("no-app",{appName:n});return e}function rr(n,e,t){var r;let i=(r=z3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(a.join(" "));return}ri(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function oO(){return L_||(L_=No(G3,K3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),L_}function Y3(n){return S(this,null,function*(){try{let t=(yield oO()).transaction(Qc),r=yield t.objectStore(Qc).get(sO(n));return yield t.done,r}catch(e){if(e instanceof ei)ni.warn(e.message);else{let t=Bi.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}})}function nO(n,e){return S(this,null,function*(){try{let r=(yield oO()).transaction(Qc,"readwrite");yield r.objectStore(Qc).put(e,sO(n)),yield r.done}catch(t){if(t instanceof ei)ni.warn(t.message);else{let r=Bi.create("idb-set",{originalErrorMessage:t?.message});ni.warn(r.message)}}})}function sO(n){return`${n.name}!${n.options.appId}`}function rO(){return new Date().toISOString().substring(0,10)}function J3(n,e=Q3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iO(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function iO(n){return I_(JSON.stringify({version:2,heartbeats:n})).length}function X3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function e$(n){ri(new fn("platform-logger",e=>new V_(e),"PRIVATE")),ri(new fn("heartbeat",e=>new H_(e),"PRIVATE")),rr(j_,eO,n),rr(j_,eO,"esm2017"),rr("fire-js","")}var V_,j_,eO,ni,y3,_3,C3,b3,w3,E3,M3,D3,S3,x3,I3,O3,T3,P3,A3,k3,N3,R3,F3,L3,V3,j3,U3,B3,$3,H3,U_,z3,Mp,q3,B_,W3,Bi,$_,G3,K3,Qc,L_,Q3,Z3,H_,z_,Jc=h(()=>{"use strict";_p();GI();aa();aa();Ep();V_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(v3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};j_="@firebase/app",eO="0.11.0";ni=new Cp("@firebase/app"),y3="@firebase/app-compat",_3="@firebase/analytics-compat",C3="@firebase/analytics",b3="@firebase/app-check-compat",w3="@firebase/app-check",E3="@firebase/auth",M3="@firebase/auth-compat",D3="@firebase/database",S3="@firebase/data-connect",x3="@firebase/database-compat",I3="@firebase/functions",O3="@firebase/functions-compat",T3="@firebase/installations",P3="@firebase/installations-compat",A3="@firebase/messaging",k3="@firebase/messaging-compat",N3="@firebase/performance",R3="@firebase/performance-compat",F3="@firebase/remote-config",L3="@firebase/remote-config-compat",V3="@firebase/storage",j3="@firebase/storage-compat",U3="@firebase/firestore",B3="@firebase/vertexai",$3="@firebase/firestore-compat",H3="firebase";U_="[DEFAULT]",z3={[j_]:"fire-core",[y3]:"fire-core-compat",[C3]:"fire-analytics",[_3]:"fire-analytics-compat",[w3]:"fire-app-check",[b3]:"fire-app-check-compat",[E3]:"fire-auth",[M3]:"fire-auth-compat",[D3]:"fire-rtdb",[S3]:"fire-data-connect",[x3]:"fire-rtdb-compat",[I3]:"fire-fn",[O3]:"fire-fn-compat",[T3]:"fire-iid",[P3]:"fire-iid-compat",[A3]:"fire-fcm",[k3]:"fire-fcm-compat",[N3]:"fire-perf",[R3]:"fire-perf-compat",[F3]:"fire-rc",[L3]:"fire-rc-compat",[V3]:"fire-gcs",[j3]:"fire-gcs-compat",[U3]:"fire-fst",[$3]:"fire-fst-compat",[B3]:"fire-vertex","fire-js":"fire-js",[H3]:"fire-js-all"};Mp=new Map,q3=new Map,B_=new Map;W3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new ti("app","Firebase",W3);$_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}};G3="firebase-heartbeat-database",K3=1,Qc="firebase-heartbeat-store",L_=null;Q3=1024,Z3=30,H_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new z_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Z3){let s=X3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ni.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=rO(),{heartbeatsToSend:r,unsentEntries:i}=J3(this._heartbeatsCache.heartbeats),o=I_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ni.warn(t),""}})}};z_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return hp()?gp().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Y3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return nO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};e$("")});var t$,n$,aO=h(()=>{"use strict";Jc();Jc();t$="firebase",n$="11.3.0";rr(t$,n$,"app")});function hO(n){return n instanceof ei&&n.code.includes("request-failed")}function gO({projectId:n}){return`${r$}/projects/${n}/installations`}function mO(n){return{token:n.token,requestStatus:2,expiresIn:l$(n.expiresIn),creationTime:Date.now()}}function vO(n,e){return S(this,null,function*(){let r=(yield e.json()).error;return Fo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function yO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function c$(n,{refreshToken:e}){let t=yO(n);return t.append("Authorization",u$(e)),t}function _O(n){return S(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function l$(n){return Number(n.replace("s","000"))}function u$(n){return`${pO} ${n}`}function d$(r,i){return S(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=gO(n),s=yO(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:pO,appId:n.appId,sdkVersion:fO},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield _O(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:mO(d.authToken)}}else throw yield vO("Create Installation",u)})}function CO(n){return new Promise(e=>{setTimeout(e,n)})}function f$(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function h$(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=g$(n);return p$.test(t)?t:Y_}catch{return Y_}}function g$(n){return f$(n).substr(0,22)}function Sp(n){return`${n.appName}!${n.appId}`}function wO(n,e){let t=Sp(n);EO(t,e),m$(t,e)}function EO(n,e){let t=bO.get(n);if(t)for(let r of t)r(e)}function m$(n,e){let t=v$();t&&t.postMessage({key:n,fid:e}),y$()}function v$(){return!Ro&&"BroadcastChannel"in self&&(Ro=new BroadcastChannel("[Firebase] FID Change"),Ro.onmessage=n=>{EO(n.data.key,n.data.fid)}),Ro}function y$(){bO.size===0&&Ro&&(Ro.close(),Ro=null)}function Z_(){return G_||(G_=No(_$,C$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Lo)}}})),G_}function Dp(n,e){return S(this,null,function*(){let t=Sp(n),i=(yield Z_()).transaction(Lo,"readwrite"),o=i.objectStore(Lo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&wO(n,e.fid),e})}function MO(n){return S(this,null,function*(){let e=Sp(n),r=(yield Z_()).transaction(Lo,"readwrite");yield r.objectStore(Lo).delete(e),yield r.done})}function xp(n,e){return S(this,null,function*(){let t=Sp(n),i=(yield Z_()).transaction(Lo,"readwrite"),o=i.objectStore(Lo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&wO(n,a.fid),a})}function J_(n){return S(this,null,function*(){let e,t=yield xp(n.appConfig,r=>{let i=b$(r),o=w$(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Y_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function b$(n){let e=n||{fid:h$(),registrationStatus:0};return DO(e)}function w$(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Fo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=E$(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:M$(n)}:{installationEntry:e}}function E$(n,e){return S(this,null,function*(){try{let t=yield d$(n,e);return Dp(n.appConfig,t)}catch(t){throw hO(t)&&t.customData.serverCode===409?yield MO(n.appConfig):yield Dp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function M$(n){return S(this,null,function*(){let e=yield cO(n.appConfig);for(;e.registrationStatus===1;)yield CO(100),e=yield cO(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield J_(n);return r||t}return e})}function cO(n){return xp(n,e=>{if(!e)throw Fo.create("installation-not-found");return DO(e)})}function DO(n){return D$(n)?{fid:n.fid,registrationStatus:0}:n}function D$(n){return n.registrationStatus===1&&n.registrationTime+dO<Date.now()}function S$(r,i){return S(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=x$(n,t),s=c$(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:fO,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield _O(()=>fetch(o,l));if(u.ok){let d=yield u.json();return mO(d)}else throw yield vO("Generate Auth Token",u)})}function x$(n,{fid:e}){return`${gO(n)}/${e}/authTokens:generate`}function X_(n,e=!1){return S(this,null,function*(){let t,r=yield xp(n.appConfig,o=>{if(!SO(o))throw Fo.create("not-registered");let s=o.authToken;if(!e&&T$(s))return o;if(s.requestStatus===1)return t=I$(n,e),o;{if(!navigator.onLine)throw Fo.create("app-offline");let a=A$(o);return t=O$(n,a),a}});return t?yield t:r.authToken})}function I$(n,e){return S(this,null,function*(){let t=yield lO(n.appConfig);for(;t.authToken.requestStatus===1;)yield CO(100),t=yield lO(n.appConfig);let r=t.authToken;return r.requestStatus===0?X_(n,e):r})}function lO(n){return xp(n,e=>{if(!SO(e))throw Fo.create("not-registered");let t=e.authToken;return k$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function O$(n,e){return S(this,null,function*(){try{let t=yield S$(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Dp(n.appConfig,r),t}catch(t){if(hO(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield MO(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Dp(n.appConfig,r)}throw t}})}function SO(n){return n!==void 0&&n.registrationStatus===2}function T$(n){return n.requestStatus===2&&!P$(n)}function P$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+i$}function A$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function k$(n){return n.requestStatus===1&&n.requestTime+dO<Date.now()}function N$(n){return S(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield J_(e);return r?r.catch(console.error):X_(e).catch(console.error),t.fid})}function R$(n,e=!1){return S(this,null,function*(){let t=n;return yield F$(t),(yield X_(t,e)).token})}function F$(n){return S(this,null,function*(){let{registrationPromise:e}=yield J_(n);e&&(yield e)})}function L$(n){if(!n||!n.options)throw K_("App Configuration");if(!n.name)throw K_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw K_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function K_(n){return Fo.create("missing-app-config-values",{valueName:n})}function B$(){ri(new fn(xO,j$,"PUBLIC")),ri(new fn(V$,U$,"PRIVATE"))}var uO,Q_,dO,fO,pO,r$,i$,o$,s$,a$,Fo,p$,Y_,bO,Ro,_$,C$,Lo,G_,xO,V$,j$,U$,IO=h(()=>{"use strict";Jc();_p();aa();Ep();uO="@firebase/installations",Q_="0.6.12";dO=1e4,fO=`w:${Q_}`,pO="FIS_v2",r$="https://firebaseinstallations.googleapis.com/v1",i$=60*60*1e3,o$="installations",s$="Installations";a$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fo=new ti(o$,s$,a$);p$=/^[cdef][\w-]{21}$/,Y_="";bO=new Map;Ro=null;_$="firebase-installations-database",C$=1,Lo="firebase-installations-store",G_=null;xO="installations",V$="installations-internal",j$=n=>{let e=n.getProvider("app").getImmediate(),t=L$(e),r=Zc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},U$=n=>{let e=n.getProvider("app").getImmediate(),t=Zc(e,xO).getImmediate();return{getId:()=>N$(t),getToken:i=>R$(t,i)}};B$();rr(uO,Q_);rr(uO,Q_,"esm2017")});function ii(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function K$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function Q$(n){return S(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(e0))return null;let e=null;return(yield No(e0,Y$,{upgrade:(r,i,o,s)=>S(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(TO))return;let c=s.objectStore(TO),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:ii(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ii(u.auth),p256dh:ii(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ii(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ii(u.auth),p256dh:ii(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ii(u.vapidKey)}}}}})})).close(),yield wp(e0),yield wp("fcm_vapid_details_db"),yield wp("undefined"),Z$(e)?e:null})}function Z$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function LO(){return t0||(t0=No(J$,X$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Xc)}}})),t0}function e5(n){return S(this,null,function*(){let e=VO(n),r=yield(yield LO()).transaction(Xc).objectStore(Xc).get(e);if(r)return r;{let i=yield Q$(n.appConfig.senderId);if(i)return yield i0(n,i),i}})}function i0(n,e){return S(this,null,function*(){let t=VO(n),i=(yield LO()).transaction(Xc,"readwrite");return yield i.objectStore(Xc).put(e,t),yield i.done,e})}function VO({appConfig:n}){return n.appId}function n5(n,e){return S(this,null,function*(){let t=yield s0(n),r=jO(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(o0(n.appConfig),i)).json()}catch(s){throw Rt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Rt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Rt.create("token-subscribe-no-token");return o.token})}function r5(n,e){return S(this,null,function*(){let t=yield s0(n),r=jO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${o0(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Rt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Rt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Rt.create("token-update-no-token");return o.token})}function i5(n,e){return S(this,null,function*(){let r={method:"DELETE",headers:yield s0(n)};try{let o=yield(yield fetch(`${o0(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw Rt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Rt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function o0({projectId:n}){return`${z$}/projects/${n}/registrations`}function s0(t){return S(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function jO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==RO&&(i.web.applicationPubKey=r),i}function s5(n){return S(this,null,function*(){let e=yield c5(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ii(e.getKey("auth")),p256dh:ii(e.getKey("p256dh"))},r=yield e5(n.firebaseDependencies);if(r){if(l5(r.subscriptionOptions,t))return Date.now()>=r.createTime+o5?a5(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield i5(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return PO(n.firebaseDependencies,t)}else return PO(n.firebaseDependencies,t)})}function a5(n,e){return S(this,null,function*(){try{let t=yield r5(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield i0(n.firebaseDependencies,r),t}catch(t){throw t}})}function PO(n,e){return S(this,null,function*(){let r={token:yield n5(n,e),createTime:Date.now(),subscriptionOptions:e};return yield i0(n,r),r.token})}function c5(n,e){return S(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:K$(e)})})}function l5(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function AO(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return u5(e,n),d5(e,n),f5(e,n),e}function u5(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function d5(n,e){e.data&&(n.data=e.data)}function f5(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function p5(n){return typeof n=="object"&&!!n&&FO in n}function h5(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function g5(n){if(!n||!n.options)throw n0("App Configuration Object");if(!n.name)throw n0("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw n0(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function n0(n){return Rt.create("missing-app-config-values",{valueName:n})}function m5(n){return S(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register($$,{scope:H$}),n.swRegistration.update().catch(()=>{}),yield v5(n.swRegistration)}catch(e){throw Rt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function v5(n){return S(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${OO} ms`)),OO),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function y5(n,e){return S(this,null,function*(){if(!e&&!n.swRegistration&&(yield m5(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Rt.create("invalid-sw-registration");n.swRegistration=e}})}function _5(n,e){return S(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=RO)})}function UO(n,e){return S(this,null,function*(){if(!navigator)throw Rt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Rt.create("permission-blocked");return yield _5(n,e?.vapidKey),yield y5(n,e?.serviceWorkerRegistration),s5(n)})}function C5(n,e,t){return S(this,null,function*(){let r=b5(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[FO],message_name:t[q$],message_time:t[W$],message_device_time:Math.floor(Date.now()/1e3)})})}function b5(n){switch(n){case Ip.NOTIFICATION_CLICKED:return"notification_open";case Ip.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function w5(n,e){return S(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Ip.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(AO(t)):n.onMessageHandler.next(AO(t)));let r=t.data;p5(r)&&r[G$]==="1"&&(yield C5(n,t.messageType,r))})}function D5(){ri(new fn("messaging",E5,"PUBLIC")),ri(new fn("messaging-internal",M5,"PRIVATE")),rr(kO,NO),rr(kO,NO,"esm2017")}function S5(){return S(this,null,function*(){try{yield gp()}catch{return!1}return typeof window<"u"&&hp()&&WI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function x5(n,e){if(!navigator)throw Rt.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function BO(n=W_()){return S5().then(e=>{if(!e)throw Rt.create("unsupported-browser")},e=>{throw Rt.create("indexed-db-unsupported")}),Zc(vp(n),"messaging").getImmediate()}function $O(n,e){return S(this,null,function*(){return n=vp(n),UO(n,e)})}function HO(n,e){return n=vp(n),x5(n,e)}var $$,H$,RO,z$,FO,q$,W$,G$,OO,Ip,e0,Y$,TO,J$,X$,Xc,t0,t5,Rt,o5,r0,kO,NO,E5,M5,zO=h(()=>{"use strict";IO();_p();Ep();aa();Jc();$$="/firebase-messaging-sw.js",H$="/firebase-cloud-messaging-push-scope",RO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",z$="https://fcmregistrations.googleapis.com/v1",FO="google.c.a.c_id",q$="google.c.a.c_l",W$="google.c.a.ts",G$="google.c.a.e",OO=1e4;Ip=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Ip||{});e0="fcm_token_details_db",Y$=5,TO="fcm_token_object_Store";J$="firebase-messaging-database",X$=1,Xc="firebase-messaging-store",t0=null;t5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Rt=new ti("messaging","Messaging",t5);o5=7*24*60*60*1e3;h5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");r0=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=g5(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};kO="@firebase/messaging",NO="0.12.16";E5=n=>{let e=new r0(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>w5(e,t)),e},M5=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>UO(e,r)}};D5()});var qO=h(()=>{"use strict";zO()});function I5(n){return eo(()=>nt(new Error(n)))}function O5(n,e,t,r){return()=>{if(!(Rd(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(be),o=n.get(Sn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=V(null);break;case"registerWithDelay":s=GO(+c[0]||0);break;case"registerWhenStable":let l=K(n.get(Sn).whenStable());s=c[0]?Zl(l,GO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(Ee(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function GO(n){return V(null).pipe(vn(n))}function T5(n,e){return new ca(Rd(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function P5(n,e={}){return bs([Op,Tp,{provide:WO,useValue:n},{provide:el,useValue:e},{provide:ca,useFactory:T5,deps:[el,rn]},{provide:xs,useFactory:O5,deps:[rt,WO,el,rn],multi:!0}])}var tl,ca,Op,Tp,WO,el,KO,a0=h(()=>{"use strict";R();R();xe();Me();ui();tl="Service workers are disabled or not supported by this browser";ca=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=I5(tl);else{let r=ns(e,"controllerchange").pipe(j(()=>e.controller)),i=eo(()=>V(e.controller)),o=cr(i,r);this.worker=o.pipe(Fe(u=>!!u)),this.registration=this.worker.pipe(Le(()=>e.getRegistration()));let l=ns(e,"message").pipe(j(u=>u.data)).pipe(Fe(u=>u&&u.type)).pipe(rg());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(Ee(1),ne(r=>{r.postMessage(M({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Fe(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ee(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Fe(t=>t.nonce===e),Ee(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Op=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new me,!t.isEnabled){this.messages=to,this.notificationClicks=to,this.subscription=to;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(Le(i=>i.getSubscription()));this.subscription=Zl(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(tl));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Le(s=>s.subscribe(r)),Ee(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(tl));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Ee(1),Le(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(F(ca))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Tp=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=to,this.unrecoverable=to;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tl));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tl));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(F(ca))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();WO=new L("");el=class{};KO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[P5(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:[Op,Tp]})}}return n})()});var $i,Pp=h(()=>{"use strict";Me();Us();R();a0();qa();la();$i=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return S(this,null,function*(){try{let e=yield Xi(this.http.get(`${at.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return S(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield Xi(this.http.post(`${at.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return S(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",e);try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Payload before sending to server:",JSON.stringify({title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},null,2)),console.log("\u{1F4E1} Sending notification to server");let r=yield Xi(this.http.post(`${at.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return S(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return S(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield Xi(this.http.get(`${at.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return S(this,null,function*(){try{let e=yield Xi(this.http.get(`${at.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}startKeepAliveNotifications(){setInterval(()=>S(this,null,function*(){console.log("\u{1F504} Sending keep-alive notification...");try{yield this.sendNotification({title:"\u{1F504} Keep Alive",body:"Ensuring the app stays awake...",wakeUpApp:!0,silent:!0,vibrate:[],autoDismiss:!0,type:"keep-alive"}),console.log("\u2705 Keep-alive notification sent.")}catch(e){console.error("\u274C Failed to send keep-alive notification",e)}}),3e4)}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(F(Op),F(bo),F(Tp),F(Fn))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var QO=h(()=>{"use strict"});var Mr,c0=h(()=>{"use strict";Do();QO();Mr=hf("PushNotifications",{})});var N5,Fn,la=h(()=>{"use strict";R();aO();qO();Me();Pp();kt();Us();Do();c0();R();N5={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},Fn=class n{messaging;fcmToken={};nativeToken=null;tokenSubject=new pe(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=C(rt);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=q_(N5);this.messaging=BO(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get($i)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(we)),this._userService}registerServiceWorker(){return S(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return S(this,null,function*(){if(console.log("Platform:",et.getPlatform()),et.getPlatform()==="web"&&typeof Notification<"u")try{let e=yield Notification.requestPermission();console.log("\u{1F514} Notification permission (web):",e),e==="granted"?(yield this.getFCMToken())||console.warn("No valid FCM token received; not sending to server."):console.warn("\u274C Notification permission denied (web).")}catch(e){console.error("\u274C Error getting web notification permission:",e)}else try{console.log("Requesting native push notifications permission..."),(yield Mr.requestPermissions()).receive==="granted"?(yield Mr.register(),Mr.addListener("registration",t=>{console.log("\u2705 Native push registration token:",t),this.nativeToken=t.value,this.tokenSubject.next(this.nativeToken),this.sendTokenToServer(t.value)}),Mr.addListener("registrationError",t=>{console.error("\u274C Error with native push registration:",t)})):console.warn("\u274C Native push notification permission not granted.")}catch(e){console.error("\u274C Error requesting native push notification permission:",e)}})}getFCMToken(){return S(this,null,function*(){if(console.log("Platform:",et.getPlatform()),et.getPlatform()==="web"){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} Using existing web token for user ${e}:`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield $O(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken (web) - ${t}:`),t?(console.log(`\u2705 New FCM Token received for ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F No FCM token received (web)."),null)}catch(t){return console.error("\u274C Error retrieving FCM Token (web):",t),null}}else return console.log("Running on native \u2013 using native token:",this.nativeToken),this.nativeToken})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){HO(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden&&typeof Notification<"u"?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return S(this,null,function*(){try{(yield fetch(`${at.baseURL}/notification/save-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ap,ZO=h(()=>{"use strict";R();Ap=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});var kp,JO=h(()=>{"use strict";Do();c0();R();la();kp=class n{constructor(e){this.firebaseService=e;this.notificationPermission=typeof Notification<"u"?Notification.permission:"default"}notificationPermission="default";requestNotificationPermission(){return S(this,null,function*(){if(console.log("Platform:",et.getPlatform()),et.getPlatform()==="web"&&typeof Notification<"u")try{let e=yield Notification.requestPermission();console.log("\u{1F514} Web notification permission:",e),e==="granted"?(yield this.firebaseService.getFCMToken())||console.warn("No valid FCM token received; not sending to server."):e==="denied"?(console.warn("\u274C Notification permission denied."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F Notification permission default.")}catch(e){console.error("\u274C Error getting web notification permission:",e)}else try{console.log("Requesting native push notifications permission..."),(yield Mr.requestPermissions()).receive==="granted"?(yield Mr.register(),Mr.addListener("registration",t=>{console.log("\u2705 Native push registration token:",t),this.firebaseService.sendTokenToServer(t.value)}),Mr.addListener("registrationError",t=>{console.error("\u274C Error with native push registration:",t)})):console.warn("\u274C Native push notification permission not granted.")}catch(e){console.error("\u274C Error requesting native push notification permission:",e)}})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }
          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }
          #allow-btn {
            background: #4CAF50;
            color: white;
          }
          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }
          #dismiss-btn {
            background: #f44336;
            color: white;
          }
          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }
          @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-50%) translateY(10px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>S(this,null,function*(){if(console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),et.getPlatform()==="web"&&typeof Notification<"u"){console.log("Platform:",et.getPlatform());try{let t=yield Notification.requestPermission();console.log("\u{1F514} Web notification permission received:",t),t==="granted"&&(yield this.requestNotificationPermission())}catch(t){console.error("\u274C Error during web notification prompt:",t)}}else console.warn("Notifications API not available in this environment.");e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(F(Fn))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});function R5(n,e){if(n&1&&(Mt(0),A(1,"img",19),Dt()),n&2){let t=w(2);v(),y("src",t.loggedInUser.img,Oe)}}function F5(n,e){if(n&1&&(p(0,"span",20),b(1),f()),n&2){let t=w(2);v(),gt(t.getUserInitial())}}function L5(n,e){if(n&1){let t=H();Mt(0),p(1,"div",8)(2,"a",9),A(3,"img",10),f(),p(4,"a",11),A(5,"img",12),f(),p(6,"div",13)(7,"a",14),N(8,R5,2,1,"ng-container",6)(9,F5,2,1,"ng-template",null,1,Yn),f(),p(11,"div",15),x("click",function(){T(t);let i=w();return P(i.toggleUpload=!i.toggleUpload)}),A(12,"img",16),f()(),p(13,"button",17),x("click",function(){T(t);let i=w();return P(i.onLogout())}),A(14,"img",18),f()(),Dt()}if(n&2){let t=dt(10),r=w();v(8),y("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function V5(n,e){n&1&&(p(0,"a",21),A(1,"img",22),f(),p(2,"a",23),A(3,"img",24),f(),p(4,"a",25),A(5,"img",26),f())}function j5(n,e){if(n&1){let t=H();p(0,"div")(1,"image-upload",27),x("imageUploaded",function(i){T(t);let o=w();return P(o.onImageUploaded(i))}),f()()}}var Np,XO=h(()=>{"use strict";R();kt();ft();Fi();xe();S_();Np=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=$(M({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(we),D(Ae),D(Nt))};static \u0275cmp=Z({type:n,selectors:[["app-header"]],decls:9,vars:3,consts:[["notLoggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"profile-container"],["routerLink","/contact","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/content.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"user-profile-wrapper"],["routerLink","/",1,"profile-picture"],[1,"camera-icon",3,"click"],["src","../../../assets/images/camera.png","alt","Upload Image"],[1,"profile-picture",3,"click"],["src","../../../assets/images/logout2.png","alt","Logout",1,"logimg"],["alt","User Profile",3,"src"],[1,"default-avatar"],["routerLink","/","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/house.png","alt","Home",1,"logimg"],["routerLink","/login","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/login2.png","alt","Login",1,"logimg"],["routerLink","/signup","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/sign-up.png","alt","Sign Up",1,"logimg"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(p(0,"header")(1,"div",2),A(2,"img",3),f(),p(3,"div",4)(4,"div",5),N(5,L5,15,2,"ng-container",6)(6,V5,6,0,"ng-template",null,0,Yn),f()(),N(8,j5,2,0,"div",7),f()),t&2){let i=dt(7);v(5),y("ngIf",r.loggedInUser)("ngIfElse",i),v(3),y("ngIf",r.toggleUpload)}},dependencies:[ve,On,SS,sa],styles:['@charset "UTF-8";[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}.profile-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:15px}.user-profile-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50%;overflow:hidden;border:2px solid transparent;transition:border .3s;padding:.1px!important}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .user-profile-wrapper[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.user-profile-wrapper[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#f1c40f;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;cursor:pointer}.user-profile-wrapper[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50%;overflow:hidden;border:2px solid transparent;transition:border .3s;padding:.1px!important}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#f1c40f;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;cursor:pointer}.profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}@media (max-width: 768px){header[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 480px){header[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{width:17px;height:17px}}.logimg[_ngcontent-%COMP%]{width:50px;height:50px;padding:.1px}']})}});function B5(n,e){n&1&&(p(0,"div",1),A(1,"div",2),f())}var Rp,eT=h(()=>{"use strict";R();oa();xe();Rp=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Rn))};static \u0275cmp=Z({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(N(0,B5,2,0,"div",0),St(1,"async")),t&2&&y("ngIf",xt(1,1,r.isLoading))},dependencies:[ve,Jt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function H5(n,e){if(n&1){let t=H();p(0,"section")(1,"h4"),b(2),f(),p(3,"button",1),x("click",function(){T(t);let i=w();return P(i.onCloseMsg())}),b(4,"X"),f()()}if(n&2){let t=e.ngIf;NM("msg ",t.type,""),y("@toggleMsg",void 0),v(2),gt(t.txt)}}var Fp,tT=h(()=>{"use strict";Me();Af();R();Fi();xe();Fp=class n{constructor(e){this.msgService=e}msg$=V(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(Nt))};static \u0275cmp=Z({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(N(0,H5,5,5,"section",0),St(1,"async")),t&2&&y("ngIf",xt(1,1,r.msg$))},dependencies:[ve,Jt],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[Tf("toggleMsg",[Lc(":enter",[tr({transform:"translateY(-100%)"}),Fc("0.3s ease-in-out",tr({transform:"translateY(0%)"}))]),Lc(":leave",[tr({transform:"translateY(0%)"}),Fc("0.3s ease-in-out",tr({transform:"translateY(-100%)"}))])])]}})}});function q5(n,e){if(n&1){let t=H();p(0,"button",4),x("click",function(){T(t);let i=w();return P(i.installPWA())}),b(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}function W5(n,e){if(n&1){let t=H();p(0,"button",4),x("click",function(){T(t);let i=w();return P(i.disableBatteryOptimization())}),b(1," \u2622\uFE0F"),f()}}var Lp,nT=h(()=>{"use strict";R();Me();Qr();la();ZO();Pp();JO();kt();Ks();R();xe();ft();XO();eT();tT();Lp=class n{title="MyAccounts";contactService=C(It);firebaseService=C(Fn);pwaService=C(Ap);notificationMobileService=C(kp);notificationService=C($i);userService=C(we);socketService=C(Tn);subscription;idleTimer;idleTime=0;idleMaxTime=600;showBatteryOptimizationButton=!0;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){window.cordova?(cordova.plugins&&cordova.plugins.backgroundMode?(cordova.plugins.backgroundMode.enable(),console.log("\u05DE\u05E6\u05D1 \u05E8\u05E7\u05E2 \u05DE\u05D5\u05E4\u05E2\u05DC (Background mode enabled)."),cordova.plugins.backgroundMode.on("activate",()=>{console.log("\u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D5\u05D1\u05E8\u05EA \u05DC\u05DE\u05E6\u05D1 \u05E8\u05E7\u05E2 (App is running in background mode).")})):console.warn("cordova.plugins.backgroundMode \u05D0\u05D9\u05E0\u05D5 \u05D6\u05DE\u05D9\u05DF."),typeof device<"u"?(console.log("\u05E4\u05DC\u05D8\u05E4\u05D5\u05E8\u05DE\u05D4:",device.platform),console.log("\u05D2\u05E8\u05E1\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA:",device.version),console.log("\u05D3\u05D2\u05DD \u05D4\u05DE\u05DB\u05E9\u05D9\u05E8:",device.model)):console.warn("cordova-plugin-device \u05D0\u05D9\u05E0\u05D5 \u05D6\u05DE\u05D9\u05DF.")):console.warn("\u05DC\u05D0 \u05D1\u05E1\u05D1\u05D9\u05D1\u05EA Cordova - \u05DE\u05E6\u05D1 \u05E8\u05E7\u05E2 \u05DC\u05D0 \u05D9\u05D5\u05E4\u05E2\u05DC."),localStorage.getItem("batteryOptimizationDisabled")==="true"&&(this.showBatteryOptimizationButton=!1),this.notificationService.startKeepAliveNotifications(),this.keepScreenAwake(),this.subscription=this.contactService.loadContacts().pipe(Ee(1)).subscribe({error:t=>console.log("err:",t)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>S(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let t=yield this.firebaseService.getFCMToken();t?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",t.data.token),this.userService.restoreLoginToken(t.data.token)),t.data&&t.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),typeof Notification<"u"&&Notification.permission==="default"&&setTimeout(()=>{let t=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-t<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(t=>{t&&console.log("\u{1F511} FCM Token received (on init):",t)}),this.firebaseService.getTokenObservable().subscribe(t=>{t&&console.log("\u{1F511} FCM Token received:",t)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}keepScreenAwake(){return S(this,null,function*(){if("wakeLock"in navigator)try{let e=yield navigator.wakeLock.request("screen");console.log("\u2705 Wake Lock enabled"),e.addEventListener("release",()=>{console.log("\u26A0\uFE0F Wake Lock was released")})}catch(e){console.error("\u274C Wake Lock failed:",e)}else console.warn("\u26A0\uFE0F Wake Lock API not supported")})}disableBatteryOptimization(){"requestWakeLock"in navigator?navigator.requestWakeLock("screen").then(()=>{console.log("\u2705 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 \u05D1\u05D5\u05D8\u05DC"),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1}).catch(e=>{console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D4\u05E8\u05E9\u05D0\u05EA Wake Lock:",e)}):(alert(`\u05DC\u05D1\u05D9\u05E6\u05D5\u05E2\u05D9\u05DD \u05D2\u05D1\u05D5\u05D4\u05D9\u05DD :
\u05DC\u05D7\u05E5 \u05DC\u05D7\u05D9\u05E6\u05D4 \u05D0\u05E8\u05D5\u05DB\u05D4 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E9\u05DC \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E2\u05DD \u05D4\u05E1\u05D9\u05DE\u05DF : (!) ,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 / \u05E1\u05D5\u05DC\u05DC\u05D4,
\u05D1\u05D7\u05E8 \u05D1\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05DC\u05DC\u05D0 \u05D4\u05D2\u05D1\u05DC\u05D4.`),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:9,vars:2,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(p(0,"main",0),A(1,"app-header"),p(2,"div",1),N(3,q5,2,0,"button",2)(4,W5,2,0,"button",2),f(),A(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),A(8,"msg")),t&2&&(v(3),y("ngIf",r.showInstallButton),v(),y("ngIf",r.showBatteryOptimizationButton))},dependencies:[ve,Jn,Np,Rp,Fp],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:.5em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function rT(n){return new I(3e3,!1)}function G5(){return new I(3100,!1)}function K5(){return new I(3101,!1)}function Y5(n){return new I(3001,!1)}function Q5(n){return new I(3003,!1)}function Z5(n){return new I(3004,!1)}function J5(n,e){return new I(3005,!1)}function X5(){return new I(3006,!1)}function e4(){return new I(3007,!1)}function t4(n,e){return new I(3008,!1)}function n4(n){return new I(3002,!1)}function r4(n,e,t,r,i){return new I(3010,!1)}function i4(){return new I(3011,!1)}function o4(){return new I(3012,!1)}function s4(){return new I(3200,!1)}function a4(){return new I(3202,!1)}function c4(){return new I(3013,!1)}function l4(n){return new I(3014,!1)}function u4(n){return new I(3015,!1)}function d4(n){return new I(3016,!1)}function f4(n,e){return new I(3404,!1)}function p4(n){return new I(3502,!1)}function h4(n){return new I(3503,!1)}function g4(){return new I(3300,!1)}function m4(n){return new I(3504,!1)}function v4(n){return new I(3301,!1)}function y4(n,e){return new I(3302,!1)}function _4(n){return new I(3303,!1)}function C4(n,e){return new I(3400,!1)}function b4(n){return new I(3401,!1)}function w4(n){return new I(3402,!1)}function E4(n,e){return new I(3505,!1)}function Hi(n){switch(n.length){case 0:return new Ri;case 1:return n[0];default:return new Rc(n)}}function vT(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let _=g,E=m;if(g!=="offset")switch(_=n.normalizePropertyName(_,i),E){case Pf:E=t.get(g);break;case wr:E=r.get(g);break;default:E=n.normalizeStyleValue(g,_,E,i);break}d.set(_,E)}),u||o.push(d),a=d,s=l}),i.length)throw p4(i);return o}function P0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&l0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&l0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&l0(t,"destroy",n)));break}}function l0(n,e,t){let r=t.totalTime,i=!!t.disabled,o=A0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function A0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function hn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function iT(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function k0(n){let e=n.parentNode||n.host||null;return e===M4?null:e}function D4(n){return n.substring(1,6)=="ebkit"}function S4(n){Vo||(Vo=x4()||{},oT=Vo.style?"WebkitAppearance"in Vo.style:!1);let e=!0;return Vo.style&&!D4(n)&&(e=n in Vo.style,!e&&oT&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vo.style)),e}function x4(){return typeof document<"u"?document.body:null}function yT(n,e){for(;e;){if(e===n)return!0;e=k0(e)}return!1}function _T(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function oi(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:v0(parseFloat(e[1]),e[2])}function v0(n,e){switch(e){case"s":return n*I4;default:return n}}function zp(n,e,t){return n.hasOwnProperty("duration")?n:T4(n,e,t)}function T4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(rT(n)),{duration:0,delay:0,easing:""};i=v0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=v0(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(G5()),a=!0),o<0&&(e.push(K5()),a=!0),a&&e.splice(c,0,rT(n))}return{duration:i,delay:o,easing:s}}function P4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Dr(n,e,t){e.forEach((r,i)=>{let o=R0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Uo(n,e){e.forEach((t,r)=>{let i=R0(r);n.style[i]=""})}function nl(n){return Array.isArray(n)?n.length==1?n[0]:Sx(n):n}function A4(n,e,t){let r=e.params||{},i=wT(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Y5(o))})}function wT(n){let e=[];if(typeof n=="string"){let t;for(;t=y0.exec(n);)e.push(t[1]);y0.lastIndex=0}return e}function il(n,e,t){let r=`${n}`,i=r.replace(y0,(o,s)=>{let a=e[s];return a==null&&(t.push(Q5(s)),a=""),a.toString()});return i==r?n:i}function R0(n){return n.replace(k4,(...e)=>e[1].toUpperCase())}function N4(n,e){return n===0||e===0}function R4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,F0(n,a)))}}return e}function pn(n,e,t){switch(e.type){case ie.Trigger:return n.visitTrigger(e,t);case ie.State:return n.visitState(e,t);case ie.Transition:return n.visitTransition(e,t);case ie.Sequence:return n.visitSequence(e,t);case ie.Group:return n.visitGroup(e,t);case ie.Animate:return n.visitAnimate(e,t);case ie.Keyframes:return n.visitKeyframes(e,t);case ie.Style:return n.visitStyle(e,t);case ie.Reference:return n.visitReference(e,t);case ie.AnimateChild:return n.visitAnimateChild(e,t);case ie.AnimateRef:return n.visitAnimateRef(e,t);case ie.Query:return n.visitQuery(e,t);case ie.Stagger:return n.visitStagger(e,t);default:throw Z5(e.type)}}function F0(n,e){return window.getComputedStyle(n)[e]}function L4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>V4(r,t,e)):t.push(n),t}function V4(n,e,t){if(n[0]==":"){let c=j4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(u4(n)),e;let i=r[1],o=r[2],s=r[3];e.push(aT(i,s));let a=i==Wp&&s==Wp;o[0]=="<"&&!a&&e.push(aT(s,i))}function j4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(d4(n)),"* => *"}}function aT(n,e){let t=jp.has(n)||Up.has(n),r=jp.has(e)||Up.has(e);return(i,o)=>{let s=n==Wp||n==i,a=e==Wp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?jp.has(n):Up.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?jp.has(e):Up.has(e)),s&&a}}function MT(n,e,t,r){return new _0(n).build(e,t,r)}function B4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==ET);return e&&(n=n.replace(U4,"")),n=n.replace(/@\*/g,Hp).replace(/@\w+/g,t=>Hp+"-"+t.slice(1)).replace(/:animating/g,m0),[n,e]}function $4(n){return n?M({},n):null}function H4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function z4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=zp(n,e).duration;return u0(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=u0(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=zp(t,e);return u0(i.duration,i.delay,i.easing)}function jo(n){return n?(n=M({},n),n.params&&(n.params=$4(n.params))):n={},n}function u0(n,e,t){return{duration:n,delay:e,easing:t}}function L0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function DT(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new b0().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function lT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function Q4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,wr)}else for(let[o,s]of i)t.set(o,s)}),t}function uT(n,e,t,r,i,o,s,a,c,l,u,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function Z4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function ST(n,e){let t=M({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function J4(n,e,t){return new D0(n,e,t)}function X4(n,e,t){let r=[(s,a)=>!0],i={type:ie.Sequence,steps:[],options:null},o={type:ie.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Yp(n,o,e)}function dT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function a8(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function c8(n){return n??null}function Bp(n){return n&&n.nodeType===1}function l8(n){return n=="start"||n=="done"}function pT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function hT(n,e,t,r,i){let o=[];t.forEach(c=>o.push(pT(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[ir]=s8,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>pT(c,o[a++])),s}function gT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Ln(n,e){n.classList?.add(e)}function ua(n,e){n.classList?.remove(e)}function u8(n,e,t){Hi(t).onDone(()=>n.processLeaveNode(e))}function d8(n){let e=[];return IT(n,e),e}function IT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Rc?IT(r.players,e):e.push(r)}}function f8(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function mT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function p8(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=h0(e[0]),e.length>1&&(r=h0(e[e.length-1]))):e instanceof Map&&(t=h0(e)),t||r?new O0(n,t,r):null}function h0(n){let e=null;return n.forEach((t,r)=>{h8(r)&&(e=e||new Map,e.set(r,t))}),e}function h8(n){return n==="display"||n==="position"}function g8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function m8(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var M4,Vo,oT,N0,Bo,$o,I4,CT,O4,bT,g0,Vp,Hp,sT,m0,y0,k4,F4,qp,Wp,jp,Up,ET,U4,cT,_0,C0,ol,q4,W4,G4,K4,Y4,b0,Gp,w0,Kp,E0,d0,Yp,M0,D0,e8,S0,fT,t8,f0,n8,r8,i8,o8,xT,s8,ir,sl,rl,p0,x0,I0,al,da,O0,Qp,Zp,$p,OT,Jp,T0,Xp,V0=h(()=>{"use strict";Af();R();R();M4=typeof document>"u"?null:document.documentElement;Vo=null,oT=!1;N0=(()=>{class n{validateStyleProperty(t){return S4(t)}containsElement(t,r){return yT(t,r)}getParentElement(t){return k0(t)}query(t,r,i){return _T(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ri(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Bo=class{static{this.NOOP=new N0}},$o=class{},I4=1e3,CT="{{",O4="}}",bT="ng-enter",g0="ng-leave",Vp="ng-trigger",Hp=".ng-trigger",sT="ng-animating",m0=".ng-animating";y0=new RegExp(`${CT}\\s*(.+?)\\s*${O4}`,"g");k4=/-+([a-z0-9])/g;F4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),qp=class extends $o{normalizePropertyName(e,t){return R0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(F4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(J5(e,r))}return s+o}},Wp="*";jp=new Set(["true","1"]),Up=new Set(["false","0"]);ET=":self",U4=new RegExp(`s*${ET}s*,?`,"g");cT="",_0=class{constructor(e){this._driver=e}build(e,t,r){let i=new C0(t);return this._resetContextStyleTimingState(i),pn(this,nl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=cT,e.collectedStyles=new Map,e.collectedStyles.set(cT,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(X5()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ie.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ie.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(e4())}),{type:ie.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{wT(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(t4(e.name,[...o.values()]))}return{type:ie.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=pn(this,nl(e.animation),t),i=L4(e.expr,t.errors);return{type:ie.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:jo(e.options)}}visitSequence(e,t){return{type:ie.Sequence,steps:e.steps.map(r=>pn(this,r,t)),options:jo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=pn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ie.Group,steps:o,options:jo(e.options)}}visitAnimate(e,t){let r=z4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:tr({});if(o.type==ie.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=tr(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ie.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===wr?r.push(a):t.errors.push(n4(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(CT)>=0){o=!0;break}}}),{type:ie.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(r4(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&A4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ie.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(i4()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(U=>{let re=this._makeStyleAst(U,t),G=re.offset!=null?re.offset:H4(re.styles),ue=0;return G!=null&&(o++,ue=re.offset=G),c=c||ue<0||ue>1,a=a||ue<l,l=ue,s.push(ue),re});c&&t.errors.push(o4()),a&&t.errors.push(s4());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(a4()):o==0&&(m=i/(d-1));let g=d-1,_=t.currentTime,E=t.currentAnimateTimings,k=E.duration;return u.forEach((U,re)=>{let G=m>0?re==g?1:m*re:s[re],ue=G*k;t.currentTime=_+E.delay+ue,E.duration=ue,this._validateStyleAst(U,t),U.offset=G,r.styles.push(U)}),r}visitReference(e,t){return{type:ie.Reference,animation:pn(this,nl(e.animation),t),options:jo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ie.AnimateChild,options:jo(e.options)}}visitAnimateRef(e,t){return{type:ie.AnimateRef,animation:this.visitReference(e.animation,t),options:jo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=B4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,hn(t.collectedStyles,t.currentQuerySelector,new Map);let a=pn(this,nl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ie.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:jo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(c4());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:zp(e.timings,t.errors,!0);return{type:ie.Stagger,animation:pn(this,nl(e.animation),t),timings:r,options:null}}};C0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};ol=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},q4=1,W4=":enter",G4=new RegExp(W4,"g"),K4=":leave",Y4=new RegExp(K4,"g");b0=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new ol;let d=new w0(e,t,l,i,o,u,[]);d.options=c;let m=c.delay?oi(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),pn(this,r,d);let g=d.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let E=g.length-1;E>=0;E--){let k=g[E];if(k.element===t){_=k;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,d.errors,c)}return g.length?g.map(_=>_.buildKeyframes()):[L0(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:oi(il(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?oi(r.duration):null,a=r.delay!=null?oi(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),pn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ie.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gp);let s=oi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>pn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?oi(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),pn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?il(r,t.params,t.errors):r;return zp(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ie.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?oi(i.delay):0;o&&(t.previousNode.type===ie.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),pn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;pn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Gp={},w0=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Kp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=oi(r.duration)),r.delay!=null&&(i.delay=oi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=il(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Gp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new E0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(G4,"."+this._enterClassName),e=e.replace(Y4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(l4(t)),a}},Kp=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=q4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||wr),this._currentKeyframe.set(t,wr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=Q4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=il(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Pf?e.add(d):u===wr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return L0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},E0=class extends Kp{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",lT(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),_=t+g*r;m.set("offset",lT(_/s)),o.push(m)}r=s,t=0,i="",e=o}return L0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};d0={},Yp=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return Z4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||d0,g=a&&a.params||d0,_=this.buildStyles(r,g,d),E=c&&c.params||d0,k=this.buildStyles(i,E,d),U=new Set,re=new Map,G=new Map,ue=i==="void",Ue={params:ST(E,m),delay:this.ast.options?.delay},Ce=u?[]:DT(e,t,this.ast.animation,o,s,_,k,Ue,l,d),Pe=0;return Ce.forEach(he=>{Pe=Math.max(he.duration+he.delay,Pe)}),d.length?uT(t,this._triggerName,r,i,ue,_,k,[],[],re,G,Pe,d):(Ce.forEach(he=>{let Be=he.element,_t=hn(re,Be,new Set);he.preStyleProps.forEach(Ot=>_t.add(Ot));let Vn=hn(G,Be,new Set);he.postStyleProps.forEach(Ot=>Vn.add(Ot)),Be!==t&&U.add(Be)}),uT(t,this._triggerName,r,i,ue,_,k,Ce,[...U.values()],re,G,Pe))}};M0=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=ST(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=il(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};D0=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new M0(i.style,o,r))}),dT(this.states,"true","1"),dT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Yp(e,i,this.states))}),this.fallbackTransition=X4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};e8=new ol,S0=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=MT(this._driver,t,r,i);if(r.length)throw h4(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=vT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=DT(this._driver,t,o,bT,g0,new Map,new Map,r,e8,i),s.forEach(u=>{let d=hn(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(g4()),s=[]),i.length)throw m4(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,wr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Hi(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw v4(e);return t}listen(e,t,r,i){let o=A0(t,"","","");return P0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},fT="ng-animate-queued",t8=".ng-animate-queued",f0="ng-animate-disabled",n8=".ng-animate-disabled",r8="ng-star-inserted",i8=".ng-star-inserted",o8=[],xT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},s8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ir="__ng_removed",sl=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=c8(i),r){let o=e,{value:s}=o,a=sh(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},rl="void",p0=new sl(rl),x0=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ln(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw y4(r,t);if(r==null||r.length==0)throw _4(t);if(!l8(r))throw C4(r,t);let o=hn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=hn(this._engine.statesByElement,e,new Map);return a.has(t)||(Ln(e,Vp),Ln(e,Vp+"-"+t),a.set(t,p0)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw b4(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new al(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Ln(e,Vp),Ln(e,Vp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new sl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=p0),!(l.value===rl)&&c.value===l.value){if(!f8(c.params,l.params)){let E=[],k=o.matchStyles(c.value,c.params,E),U=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Uo(e,k),Dr(e,U)})}return}let m=hn(this._engine.playersByElement,e,[]);m.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(Ln(e,fT),s.onStart(()=>{ua(e,fT)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let k=this._engine.playersByElement.get(e);if(k){let U=k.indexOf(s);U>=0&&k.splice(U,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Hp,!0);r.forEach(i=>{if(i[ir])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,rl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Hi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||p0,u=new sl(rl),d=new al(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[ir];(!o||o===xT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ln(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=A0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,P0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},I0=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new x0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Bp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Bp(t))return;let o=t[ir];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ln(e,f0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ua(e,f0))}removeNode(e,t,r){if(Bp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[ir]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Bp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Hp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,m0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ir];if(t&&t.setForRemoval){if(e[ir]=xT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(f0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,n8,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Ln(i,r8)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw w4(e)}_flushAnimations(e,t){let r=new ol,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(B=>{u.add(B);let W=this.driver.query(B,t8,!0);for(let Y=0;Y<W.length;Y++)u.add(W[Y])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=gT(m,this.collectedEnterElements),_=new Map,E=0;g.forEach((B,W)=>{let Y=bT+E++;_.set(W,Y),B.forEach(ye=>Ln(ye,Y))});let k=[],U=new Set,re=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){let W=this.collectedLeaveElements[B],Y=W[ir];Y&&Y.setForRemoval&&(k.push(W),U.add(W),Y.hasAnimation?this.driver.query(W,i8,!0).forEach(ye=>U.add(ye)):re.add(W))}let G=new Map,ue=gT(m,Array.from(U));ue.forEach((B,W)=>{let Y=g0+E++;G.set(W,Y),B.forEach(ye=>Ln(ye,Y))}),e.push(()=>{g.forEach((B,W)=>{let Y=_.get(W);B.forEach(ye=>ua(ye,Y))}),ue.forEach((B,W)=>{let Y=G.get(W);B.forEach(ye=>ua(ye,Y))}),k.forEach(B=>{this.processLeaveNode(B)})});let Ue=[],Ce=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(t).forEach(Y=>{let ye=Y.player,pt=Y.element;if(Ue.push(ye),this.collectedEnterElements.length){let Tt=pt[ir];if(Tt&&Tt.setForMove){if(Tt.previousTriggersValues&&Tt.previousTriggersValues.has(Y.triggerName)){let Wi=Tt.previousTriggersValues.get(Y.triggerName),gn=this.statesByElement.get(Y.element);if(gn&&gn.has(Y.triggerName)){let cl=gn.get(Y.triggerName);cl.value=Wi,gn.set(Y.triggerName,cl)}}ye.destroy();return}}let or=!d||!this.driver.containsElement(d,pt),en=G.get(pt),si=_.get(pt),We=this._buildInstruction(Y,r,si,en,or);if(We.errors&&We.errors.length){Ce.push(We);return}if(or){ye.onStart(()=>Uo(pt,We.fromStyles)),ye.onDestroy(()=>Dr(pt,We.toStyles)),i.push(ye);return}if(Y.isFallbackTransition){ye.onStart(()=>Uo(pt,We.fromStyles)),ye.onDestroy(()=>Dr(pt,We.toStyles)),i.push(ye);return}let U0=[];We.timelines.forEach(Tt=>{Tt.stretchStartingKeyframe=!0,this.disabledNodes.has(Tt.element)||U0.push(Tt)}),We.timelines=U0,r.append(pt,We.timelines);let UT={instruction:We,player:ye,element:pt};s.push(UT),We.queriedElements.forEach(Tt=>hn(a,Tt,[]).push(ye)),We.preStyleProps.forEach((Tt,Wi)=>{if(Tt.size){let gn=c.get(Wi);gn||c.set(Wi,gn=new Set),Tt.forEach((cl,oh)=>gn.add(oh))}}),We.postStyleProps.forEach((Tt,Wi)=>{let gn=l.get(Wi);gn||l.set(Wi,gn=new Set),Tt.forEach((cl,oh)=>gn.add(oh))})});if(Ce.length){let B=[];Ce.forEach(W=>{B.push(E4(W.triggerName,W.errors))}),Ue.forEach(W=>W.destroy()),this.reportError(B)}let Pe=new Map,he=new Map;s.forEach(B=>{let W=B.element;r.has(W)&&(he.set(W,W),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,Pe))}),i.forEach(B=>{let W=B.element;this._getPreviousPlayers(W,!1,B.namespaceId,B.triggerName,null).forEach(ye=>{hn(Pe,W,[]).push(ye),ye.destroy()})});let Be=k.filter(B=>mT(B,c,l)),_t=new Map;hT(_t,this.driver,re,l,wr).forEach(B=>{mT(B,c,l)&&Be.push(B)});let Ot=new Map;g.forEach((B,W)=>{hT(Ot,this.driver,new Set(B),c,Pf)}),Be.forEach(B=>{let W=_t.get(B),Y=Ot.get(B);_t.set(B,new Map([...W?.entries()??[],...Y?.entries()??[]]))});let Ft=[],zi=[],qi={};s.forEach(B=>{let{element:W,player:Y,instruction:ye}=B;if(r.has(W)){if(u.has(W)){Y.onDestroy(()=>Dr(W,ye.toStyles)),Y.disabled=!0,Y.overrideTotalTime(ye.totalTime),i.push(Y);return}let pt=qi;if(he.size>1){let en=W,si=[];for(;en=en.parentNode;){let We=he.get(en);if(We){pt=We;break}si.push(en)}si.forEach(We=>he.set(We,pt))}let or=this._buildAnimation(Y.namespaceId,ye,Pe,o,Ot,_t);if(Y.setRealPlayer(or),pt===qi)Ft.push(Y);else{let en=this.playersByElement.get(pt);en&&en.length&&(Y.parentPlayer=Hi(en)),i.push(Y)}}else Uo(W,ye.fromStyles),Y.onDestroy(()=>Dr(W,ye.toStyles)),zi.push(Y),u.has(W)&&i.push(Y)}),zi.forEach(B=>{let W=o.get(B.element);if(W&&W.length){let Y=Hi(W);B.setRealPlayer(Y)}}),i.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<k.length;B++){let W=k[B],Y=W[ir];if(ua(W,g0),Y&&Y.hasAnimation)continue;let ye=[];if(a.size){let or=a.get(W);or&&or.length&&ye.push(...or);let en=this.driver.query(W,m0,!0);for(let si=0;si<en.length;si++){let We=a.get(en[si]);We&&We.length&&ye.push(...We)}}let pt=ye.filter(or=>!or.destroyed);pt.length?u8(this,W,pt):this.processLeaveNode(W)}return k.length=0,Ft.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();let W=this.players.indexOf(B);this.players.splice(W,1)}),B.play()}),Ft}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==rl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=hn(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),d.push(g)})}Uo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,m=t.timelines.map(_=>{let E=_.element;u.add(E);let k=E[ir];if(k&&k.removedBeforeQueried)return new Ri(_.duration,_.delay);let U=E!==c,re=d8((r.get(E)||o8).map(Pe=>Pe.getRealPlayer())).filter(Pe=>{let he=Pe;return he.element?he.element===E:!1}),G=o.get(E),ue=s.get(E),Ue=vT(this._normalizer,_.keyframes,G,ue),Ce=this._buildPlayer(_,Ue,re);if(_.subTimeline&&i&&d.add(E),U){let Pe=new al(e,a,E);Pe.setRealPlayer(Ce),l.push(Pe)}return Ce});l.forEach(_=>{hn(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>a8(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>Ln(_,sT));let g=Hi(m);return g.onDestroy(()=>{u.forEach(_=>ua(_,sT)),Dr(c,t.toStyles)}),d.forEach(_=>{hn(i,_,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ri(e.duration,e.delay)}},al=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ri,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>P0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};da=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new I0(e.body,t,r),this._timelineEngine=new S0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=MT(this._driver,o,c,l);if(c.length)throw f4(i,c);l.length&&void 0,a=J4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=iT(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=iT(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};O0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Dr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dr(this._element,this._initialStyles),this._endStyles&&(Dr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Uo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uo(this._element,this._endStyles),this._endStyles=null),Dr(this._element,this._initialStyles),this._state=3)}};Qp=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:F0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Zp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return yT(e,t)}getParentElement(e){return k0(e)}query(e,t,r){return _T(e,t,r)}computeStyle(e,t,r){return F0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof Qp);N4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((_,E)=>l.set(E,_))});let d=P4(t).map(g=>new Map(g));d=R4(e,d,l);let m=p8(e,d);return new Qp(e,d,c,m)}},$p="@",OT="@.disabled",Jp=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==$p&&t==OT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},T0=class extends Jp{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==$p?t.charAt(1)=="."&&t==OT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==$p){let i=g8(e),o=t.slice(1),s="";return o.charAt(0)!=$p&&([o,s]=m8(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};Xp=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Jp(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new T0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function _8(){return new qp}function C8(n,e,t){return new Xp(n,e,t)}var y8,PT,TT,b8,AT,kT=h(()=>{"use strict";R();R();Ya();V0();V0();xe();y8=(()=>{class n extends da{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(F(mt),F(Bo),F($o))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();PT=[{provide:$o,useFactory:_8},{provide:da,useClass:y8},{provide:_i,useFactory:C8,deps:[$d,da,be]}],TT=[{provide:Bo,useFactory:()=>new Zp},{provide:$m,useValue:"BrowserAnimations"},...PT],b8=[{provide:Bo,useClass:N0},{provide:$m,useValue:"NoopAnimations"},...PT],AT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?b8:TT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Je({type:n})}static{this.\u0275inj=Ze({providers:TT,imports:[zd]})}}return n})()});var eh,NT=h(()=>{"use strict";R();eh=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}});function x8(n,e){if(n&1){let t=H();p(0,"div",30)(1,"span",31),x("click",function(){let i=T(t).$implicit,o=w(3);return P(o.joinSavedGroup(i))}),b(2),f(),p(3,"button",31),x("click",function(){let i=T(t).$implicit,o=w(3);return P(o.removeGroup(i))}),b(4,"X"),f()()}if(n&2){let t=e.$implicit;v(2),ke(" ",t," ")}}function I8(n,e){if(n&1&&(p(0,"div",28),N(1,x8,5,1,"div",29),f()),n&2){let t=w(2);Kn("open",t.isSavedGroupsOpen),v(),y("ngForOf",t.savedGroups)}}function O8(n,e){if(n&1){let t=H();p(0,"div",23)(1,"div",24),x("click",function(){T(t);let i=w();return P(i.toggleSavedGroups())}),p(2,"span",25),b(3,"\u05D7\u05D3\u05E8\u05D9\u05DD \u05E9\u05DE\u05D5\u05E8\u05D9\u05DD"),f(),p(4,"span",26),b(5,"\u25BC"),f()(),N(6,I8,2,3,"div",27),f()}if(n&2){let t=w();v(4),Kn("open",t.isSavedGroupsOpen),v(2),y("ngIf",t.savedGroups.length>0)}}function T8(n,e){if(n&1){let t=H();p(0,"div",32)(1,"input",33,3),Ht("ngModelChange",function(i){T(t);let o=w();return Zt(o.room,i)||(o.room=i),P(i)}),f(),p(3,"button",34),x("click",function(){T(t);let i=w();return i.joinRoom(),P(i.isRoomJoined=!0)}),A(4,"img",35),f()()}if(n&2){let t=w();v(),$t("ngModel",t.room)}}function P8(n,e){if(n&1){let t=H();p(0,"div",42)(1,"img",43),x("error",function(){T(t);let i=w().$implicit,o=w();return P(o.handleImageError(i.imageUrl))}),f(),p(2,"button",44),x("click",function(){T(t);let i=w().$implicit,o=w();return P(o.openMediaModal(i.imageUrl,"image"))}),A(3,"img",45),f()()}if(n&2){let t=w().$implicit;v(),y("src",t.imageUrl,Oe)}}function A8(n,e){if(n&1){let t=H();p(0,"div",46)(1,"video",47),x("error",function(){T(t);let i=w().$implicit,o=w();return P(o.handleVideoError(i.videoUrl))}),b(2," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f(),p(3,"button",44),x("click",function(){T(t);let i=w().$implicit,o=w();return P(o.openMediaModal(i.videoUrl,"video"))}),A(4,"img",45),f()()}if(n&2){let t=w().$implicit;v(),y("src",t.videoUrl,Oe)}}function k8(n,e){if(n&1&&(p(0,"div"),b(1),f()),n&2){let t=w().$implicit;v(),gt(t.text)}}function N8(n,e){if(n&1&&(p(0,"div",36)(1,"span",37),b(2),f(),p(3,"div",38),N(4,P8,4,1,"div",39)(5,A8,5,1,"div",40)(6,k8,2,1,"div",41),f()()),n&2){let t=e.$implicit;y("ngClass",Dn(5,S8,t.senderName==="Me",t.senderName!=="Me")),v(2),gt(t.senderName),v(2),y("ngIf",t.imageUrl),v(),y("ngIf",t.videoUrl),v(),y("ngIf",t.text)}}function R8(n,e){n&1&&(p(0,"span"),b(1,"\u2328\uFE0F"),f())}function F8(n,e){n&1&&(p(0,"span"),b(1,"\u2328\uFE0F"),f())}function L8(n,e){n&1&&(p(0,"span"),b(1,"\u{1F5BC}\uFE0F"),f())}function V8(n,e){n&1&&(p(0,"span"),b(1,"\u{1F3AC}"),f())}function j8(n,e){if(n&1&&(p(0,"div",48)(1,"div",49),N(2,R8,2,0,"span",41)(3,F8,2,0,"span",41)(4,L8,2,0,"span",41)(5,V8,2,0,"span",41),f()()),n&2){let t=w();v(2),y("ngIf",t.typingMessage==="Typing..."),v(),y("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),v(),y("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),v(),y("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function U8(n,e){if(n&1&&(p(0,"div",50),A(1,"div",51),p(2,"p"),b(3),f()()),n&2){let t=w();v(3),ke("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function B8(n,e){if(n&1){let t=H();p(0,"button",52),x("click",function(i){T(t);let o=w();return P(o.sendMessage(i))}),A(1,"img",53),f()}}function $8(n,e){if(n&1){let t=H();p(0,"button",52),x("click",function(i){T(t);let o=w();return P(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function H8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Oe)}}function z8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Oe)}}function q8(n,e){if(n&1){let t=H();p(0,"button",52),x("click",function(i){T(t);let o=w(2);return P(o.sendMessage(i))}),A(1,"img",53),f()}}function W8(n,e){if(n&1){let t=H();p(0,"button",52),x("click",function(i){T(t);let o=w(2);return P(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function G8(n,e){if(n&1){let t=H();p(0,"div",54),x("click",function(){T(t);let i=w();return P(i.closeMediaModal())}),p(1,"div",55),x("click",function(i){return T(t),P(i.stopPropagation())})("click",function(){T(t);let i=w();return P(i.closeMediaModal())}),N(2,H8,1,1,"img",56)(3,z8,1,1,"video",57),p(4,"div",58)(5,"div",14)(6,"textarea",59,1),Ht("ngModelChange",function(i){T(t);let o=w();return Zt(o.newMessage,i)||(o.newMessage=i),P(i)}),x("keyup",function(){T(t);let i=w();return P(i.onTyping())})("blur",function(){T(t);let i=w();return P(i.onStopTyping())}),f()(),N(8,q8,2,0,"button",20)(9,W8,2,0,"button",20),f()()()}if(n&2){let t=w();v(2),y("ngIf",t.selectedMedia.type==="image"),v(),y("ngIf",t.selectedMedia.type==="video"),v(3),$t("ngModel",t.newMessage),v(2),y("ngIf",t.chatType==="group"),v(),y("ngIf",t.chatType==="private")}}function K8(n,e){if(n&1&&A(0,"img",72),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Oe)}}function Y8(n,e){if(n&1&&A(0,"video",73),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Oe)}}function Q8(n,e){if(n&1){let t=H();p(0,"div",62)(1,"div",63)(2,"h3"),b(3,"\u05E2\u05E8\u05D9\u05DB\u05EA \u05D4\u05D5\u05D3\u05E2\u05EA \u05DE\u05D3\u05D9\u05D4"),f(),Mt(4,64),N(5,K8,1,1,"img",65)(6,Y8,1,1,"video",66),Dt(),p(7,"textarea",67),Ht("ngModelChange",function(i){T(t);let o=w();return Zt(o.pendingMediaMessage.text,i)||(o.pendingMediaMessage.text=i),P(i)}),x("keyup",function(){T(t);let i=w();return P(i.onTyping())})("blur",function(){T(t);let i=w();return P(i.onStopTyping())}),f(),p(8,"div",68)(9,"button",69),x("click",function(){T(t);let i=w();return P(i.sendPendingMediaMessage())}),A(10,"img",70),f(),p(11,"button",71),x("click",function(){T(t);let i=w();return P(i.cancelPendingMediaMessage())}),b(12,"\u2716\uFE0F"),f()()()()}if(n&2){let t=w();v(4),y("ngSwitch",t.pendingMediaMessage.mediaType),v(),y("ngSwitchCase","image"),v(),y("ngSwitchCase","video"),v(),$t("ngModel",t.pendingMediaMessage.text)}}function Z8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Oe)}}function J8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Oe)}}function X8(n,e){if(n&1){let t=H();p(0,"div",54),x("click",function(){T(t);let i=w();return P(i.closeMediaModal())}),p(1,"div",55),x("click",function(i){return T(t),P(i.stopPropagation())})("click",function(){T(t);let i=w();return P(i.closeMediaModal())}),N(2,Z8,1,1,"img",56)(3,J8,1,1,"video",57),f()()}if(n&2){let t=w();v(2),y("ngIf",t.selectedMedia.type==="image"),v(),y("ngIf",t.selectedMedia.type==="video")}}var E8,M8,D8,S8,fa,j0=h(()=>{"use strict";R();Me();Us();la();bc();R();Ks();kt();r_();NT();Pp();qa();xe();Nn();Zr();E8=["roomInput"],M8=["chatInput"],D8=["messagesContainer"],S8=(n,e)=>({"my-message":n,"other-message":e});fa=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;closeChat=new X;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;notificationPermission=typeof Notification<"u"?Notification.permission:"default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;selectedMedia=null;savedGroups=[];isSavedGroupsOpen=!1;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=C(Fn);cloudinaryService=C(br);processedMessageIds=new Set;pendingMediaMessage=null;typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.loadSavedGroups(),this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new $e,this.notificationPermission=typeof Notification<"u"?Notification.permission:"default",this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketService.subscribeToChatAddMsg(e=>S(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}}))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(typeof Notification>"u"){console.warn("Notification API is not available in this environment.");return}if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>S(this,null,function*(){if(console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),typeof Notification<"u"){let t=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")}else console.warn("Notification API is not available in this environment.");e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return S(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return S(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return S(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(at.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>$(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>S(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=$(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender}),s=this.privateMessages.findIndex(a=>a.tempId!==void 0&&o.tempId!==void 0&&a.tempId===o.tempId);if(s!==-1?this.privateMessages[s]=M(M({},this.privateMessages[s]),o):this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let a={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(a)}catch(a){this.errorLogger.log("Error handling incoming message notification",a)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return S(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinSavedGroup(e){this.room=e,this.joinRoom(),this.isSavedGroupsOpen=!1}toggleSavedGroups(){this.isSavedGroupsOpen=!this.isSavedGroupsOpen}removeGroup(e){this.savedGroups=this.savedGroups.filter(t=>t!==e),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))}loadSavedGroups(){let e=localStorage.getItem("savedGroups");e&&(this.savedGroups=JSON.parse(e))}joinRoom(){this.room.trim()&&(this.savedGroups.includes(this.room)||(this.savedGroups.push(this.room),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))),this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.pendingMediaMessage={mediaUrl:a,mediaType:i?"video":"image",text:""}},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}triggerCloseChat(){this.closeChat.emit()}sendPendingMediaMessage(){if(!this.pendingMediaMessage)return;let e={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.pendingMediaMessage.text,imageUrl:this.pendingMediaMessage.mediaType==="image"?this.pendingMediaMessage.mediaUrl:"",videoUrl:this.pendingMediaMessage.mediaType==="video"?this.pendingMediaMessage.mediaUrl:""};this.chatType==="private"?(this.socketService.sendPrivateMessage(this.targetUserId,e.text,e.tempId||void 0,e.imageUrl,e.videoUrl),this.privateMessages.push(e)):this.socketService.sendMessage(e.text,e.imageUrl,e.videoUrl),this.pendingMediaMessage=null,this.scrollToBottom(),this.onStopTyping()}cancelPendingMediaMessage(){this.pendingMediaMessage=null}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",r.tempId,e,void 0),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"",t.tempId,void 0,e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return S(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage,t.tempId,void 0,void 0),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}openMediaModal(e,t){this.selectedMedia={url:e,type:t}}closeMediaModal(){this.selectedMedia=null}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(Tn),D(we),D(Gs),D(eh),D($i),D(bo))};static \u0275cmp=Z({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(gd(E8,5),gd(M8,5),gd(D8,5)),t&2){let i;Ds(i=Ss())&&(r.roomInput=i.first),Ds(i=Ss())&&(r.chatInput=i.first),Ds(i=Ss())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},outputs:{closeChat:"closeChat"},decls:27,vars:12,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],[1,"chat-header"],[1,"close-dropdown",3,"click"],["src","../../../assets/images/backB.png","alt","go back",1,"close-chat"],["class","saved-groups-container",4,"ngIf"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],["class","pending-media-overlay",4,"ngIf"],[1,"saved-groups-container"],[1,"saved-groups-header",3,"click"],[1,"label"],[1,"arrow"],["class","saved-groups-dropdown",3,"open",4,"ngIf"],[1,"saved-groups-dropdown"],["class","saved-group-item",4,"ngFor","ngForOf"],[1,"saved-group-item"],[3,"click"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740638820/application_xnlu1o.png","alt","go back",1,"send-btn"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],["class","image-container",4,"ngIf"],["class","video-container",4,"ngIf"],[4,"ngIf"],[1,"image-container"],["alt","Image",1,"chat-image",3,"error","src"],[1,"enlarge-button",3,"click"],["src","../../../assets/images/arrows.png","alt","go back",1,"zoom-chat"],[1,"video-container"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn"],[1,"image-modal",3,"click"],["evStop","",1,"modal-content",3,"click"],["alt","Enlarged Image","class","enlarged-image",3,"src",4,"ngIf"],["controls","","class","enlarged-video",3,"src",4,"ngIf"],[1,"chat-input",2,"margin-top","1em"],["placeholder","Type a message...","rows","1",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["alt","Enlarged Image",1,"enlarged-image",3,"src"],["controls","",1,"enlarged-video",3,"src"],[1,"pending-media-overlay"],[1,"pending-media-message"],[3,"ngSwitch"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src",4,"ngSwitchCase"],["controls","","class","pending-media-video",3,"src",4,"ngSwitchCase"],["type","text","placeholder","\u05D4\u05D5\u05E1\u05D9\u05E4\u05D5 \u05D8\u05E7\u05E1\u05D8 \u05DC\u05DE\u05D3\u05D9\u05D4",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],[1,"buttons-modal"],[1,"send-button-modal",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn-modal"],[1,"cancel-button-modal",3,"click"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src"],["controls","",1,"pending-media-video",3,"src"]],template:function(t,r){if(t&1){let i=H();p(0,"div",4)(1,"div",5)(2,"button",6),x("click",function(){return T(i),P(r.triggerCloseChat())}),A(3,"img",7),f(),p(4,"h2"),b(5),f(),N(6,O8,7,3,"div",8),f(),N(7,T8,5,1,"div",9),p(8,"div",10)(9,"div",11,0),N(11,N8,7,8,"div",12),f(),p(12,"div",13)(13,"div",14)(14,"label",15),b(15,"\u{1F4CE}"),f(),p(16,"textarea",16,1),Ht("ngModelChange",function(s){return T(i),Zt(r.newMessage,s)||(r.newMessage=s),P(s)}),x("keyup",function(){return T(i),P(r.onTyping())})("blur",function(){return T(i),P(r.onStopTyping())}),f(),p(18,"input",17,2),x("change",function(s){return T(i),P(r.onFileSelected(s))}),f(),N(20,j8,6,4,"div",18),f(),N(21,U8,4,1,"div",19)(22,B8,2,0,"button",20)(23,$8,2,0,"button",20),f()()(),N(24,G8,10,5,"div",21)(25,Q8,13,4,"div",22)(26,X8,4,2,"div",21)}t&2&&(v(5),ke(" ",r.chatType==="group"?r.room:r.targetUsername," "),v(),y("ngIf",r.chatType==="group"),v(),y("ngIf",r.chatType==="group"&&!r.isRoomJoined),v(4),y("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),v(5),$t("ngModel",r.newMessage),v(4),y("ngIf",r.isTyping),v(),y("ngIf",r.isUploading),v(),y("ngIf",r.chatType==="group"),v(),y("ngIf",r.chatType==="private"),v(),y("ngIf",r.selectedMedia),v(),y("ngIf",r.pendingMediaMessage),v(),y("ngIf",r.selectedMedia))},dependencies:[yr,_r,ve,Ov,fD,An,Er,Xr,yt],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;height:90vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative;padding:.5rem;background-color:#fafafa;border-bottom:1px solid #ddd}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;margin-right:.5rem}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]   .close-chat[_ngcontent-%COMP%]{width:2.5em;height:2.5em}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;text-align:center;flex:1}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none;margin-right:1em}.join-button[_ngcontent-%COMP%]{max-width:5em;color:#fff;border:black solid 1px;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:60px;height:60px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.send-btn[_ngcontent-%COMP%]{max-width:100%;padding:.2em;position:relative;right:.3em}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1;max-width:90%}.send-button[_ngcontent-%COMP%]{position:absolute}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}.close-dropdown[_ngcontent-%COMP%]:hover{color:red}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.enlarge-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:#f4efef80;border:none;color:#fff;padding:5px;cursor:pointer;border-radius:50%;max-width:2em;max-height:2em}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-content[_ngcontent-%COMP%]{position:relative}.enlarged-image[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100;overflow:auto}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;padding:10px}.enlarged-image[_ngcontent-%COMP%]{max-width:50%;max-height:95%;display:block;margin:auto;border-radius:8px}.enlarged-video[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:0;right:15em;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.video-container[_ngcontent-%COMP%]{position:relative;display:inline-block}@media (max-width: 600px){.enlarged-image[_ngcontent-%COMP%]{max-width:70%;max-height:95%;border-radius:0}.close-modal[_ngcontent-%COMP%]{top:0;right:5em;padding:4px 8px;font-size:16px}}.saved-groups-container[_ngcontent-%COMP%]{margin-left:10px;width:7em;border:1px solid #ddd;border-radius:8px;background:#fff;box-shadow:0 2px 6px #0000000d;overflow:hidden}.saved-groups-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;cursor:pointer;background:linear-gradient(135deg,#fafafa,#f0f0f0)}.saved-groups-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f2f2f2,#e8e8e8)}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.saved-groups-dropdown[_ngcontent-%COMP%]{max-height:0;transition:max-height .4s ease-in-out;overflow:hidden;border-top:1px solid #ddd}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:300px}.saved-group-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid #f0f0f0;transition:background-color .2s}.saved-group-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#333;cursor:pointer}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#ff4d4d;font-size:1.2em;cursor:pointer;transition:color .3s}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:red}@media (max-width: 600px){.saved-groups-header[_ngcontent-%COMP%]{padding:8px}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:12px}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:200px}.saved-group-item[_ngcontent-%COMP%]{padding:6px 8px}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}}.pending-media-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1200;display:flex;align-items:center;justify-content:center}.pending-media-message[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;width:90%;max-width:500px;text-align:center;box-shadow:0 4px 10px #0003}.pending-media-message[_ngcontent-%COMP%]   .buttons-modal[_ngcontent-%COMP%]{display:flex;justify-content:center}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.pending-media-message[_ngcontent-%COMP%]   .send-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#b30c17;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]:hover{background-color:#ef9b9b}.pending-media-message[_ngcontent-%COMP%]   .cancel-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;font-size:1.2em;color:#333}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;margin:10px 0;font-size:14px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{background-color:#28a745;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type:hover{background-color:#218838}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{background-color:#dc3545;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:hover{background-color:#c82333}@media (max-width: 600px){.pending-media-message[_ngcontent-%COMP%]{width:95%;padding:15px}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1em}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:8px;font-size:13px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}}.pending-media-video[_ngcontent-%COMP%]{max-width:100%;max-height:300px;margin-bottom:1em;border-radius:8px;background:#000}']})}});function nH(n,e){if(n&1&&(p(0,"span",18),b(1),f()),n&2){let t=w().ngIf;v(),gt(t)}}function rH(n,e){if(n&1&&(Mt(0),N(1,nH,2,1,"span",17),Dt()),n&2){let t=e.ngIf,r=w();v(),y("ngIf",t>0&&!r.isPrivateChatOpen)}}function iH(n,e){if(n&1){let t=H();p(0,"li",22),x("click",function(){let i=T(t).$implicit,o=w(2);return P(o.navigateToContact(i._id))}),b(1),f()}if(n&2){let t=e.$implicit;v(),ke(" ",t.name," ")}}function oH(n,e){if(n&1){let t=H();p(0,"div",19)(1,"button",20),x("click",function(){T(t);let i=w();return P(i.closeContactsDropdown())}),b(2,"\xD7"),f(),p(3,"ul"),N(4,iH,2,1,"li",21),f()()}if(n&2){let t=w();v(4),y("ngForOf",t.contacts)}}function sH(n,e){if(n&1){let t=H();p(0,"div",23),x("clickOutsideCapture",function(){T(t);let i=w();return P(i.closePrivateChat())}),p(1,"div",24)(2,"span",25),x("click",function(){T(t);let i=w();return P(i.closePrivateChat())}),b(3,"\xD7"),f(),p(4,"app-chat",26),x("closeChat",function(){T(t);let i=w();return P(i.closePrivateChat())}),f()()()}if(n&2){let t=w();v(4),y("chatType","private")("targetUserId",t.user._id)}}var tH,th,RT=h(()=>{"use strict";R();ft();Me();kt();R();ft();Ks();up();Qr();xe();Zr();Js();j0();tH=n=>({"long-field":n});th=class n{constructor(e,t,r,i,o){this.router=e;this.socketService=t;this.cdr=r;this.userIndex=i;this.contactService=o}user;remove=new X;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=C(we).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new pe(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof Ii&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} 1) Opening private chat with user: ${this.user._id}`);try{console.log("\u{1F7E2} 2) about to set isPrivateChatOpen = true"),this.isPrivateChatOpen=!0,console.log(`\u{1F7E2} 3) isPrivateChatOpen is now: ${this.isPrivateChatOpen}`),console.log("\u{1F7E2} 4) about to call resetUnreadMessages"),this.userIndex.resetUnreadMessages(this.user._id),console.log("\u{1F7E2} 5) resetUnreadMessages finished"),console.log("\u{1F7E2} 6) about to call cdr.detectChanges()"),this.cdr.detectChanges(),console.log("\u{1F7E2} 7) detectChanges finished")}catch(t){console.error("\u274C Error in openPrivateChat:",t)}}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(Ee(1),Le(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),V(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(sg(1),Ee(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Ae),D(Tn),D(on),D(Ui),D(It))};static \u0275cmp=Z({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType","targetUserId"]],template:function(t,r){t&1&&(p(0,"article",0)(1,"div",1),x("click",function(){return r.onPreviewClick()}),A(2,"img",2),f(),p(3,"div",3)(4,"h1",4),b(5),f()(),p(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),x("click",function(o){return r.openPrivateChat(o)}),A(10,"img",9),N(11,rH,2,1,"ng-container",10),St(12,"async"),f()(),p(13,"button",11),x("click",function(o){return r.openFacebookProfile(o,r.user)}),A(14,"img",12),f()(),p(15,"div",6)(16,"button",11),x("click",function(o){return r.openInstagramProfile(o,r.user)}),A(17,"img",13),f(),p(18,"button",11),x("click",function(){return r.toggleContactsDropdown()}),A(19,"img",14),f(),N(20,oH,5,1,"div",15),f()()(),N(21,sH,5,2,"div",16),A(22,"router-outlet")),t&2&&(v(2),y("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Oe),v(2),y("title",r.user.username)("ngClass",ja(9,tH,r.isLongField(r.user.username,15))),v(),ke(" ",r.user.username," "),v(6),y("ngIf",xt(12,7,r.unreadMessagesCount$)),v(9),y("ngIf",r.showContactsDropdown),v(),y("ngIf",r.isPrivateChatOpen))},dependencies:[yr,_r,ve,Jn,yt,Pn,fa,Jt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%!important;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function cH(n,e){if(n&1){let t=H();p(0,"user-preview",3),x("remove",function(){let i=T(t).$implicit,o=w();return P(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;y("user",t)}}function lH(n,e){n&1&&(p(0,"p"),b(1,"No users found."),f())}var nh,FT=h(()=>{"use strict";R();R();kt();xe();RT();nh=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new X;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(we))};static \u0275cmp=Z({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(p(0,"section",1),N(1,cH,1,1,"user-preview",2)(2,lH,2,0,"ng-template",null,0,Yn),f()),t&2&&(v(),y("ngForOf",r.users))},dependencies:[_r,th],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:.5em;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function uH(n,e){if(n&1){let t=H();p(0,"button",4),x("click",function(){T(t);let i=w();return P(i.onClearFilter())}),b(1,"\u2716"),f()}}var rh,LT=h(()=>{"use strict";R();Me();Qs();kt();R();xe();Nn();rh=class n{userService=C(we);filterBy="";filterSubject$=new me;destroyRef=C(Bt);ngOnInit(){this.userService.filterBy$.pipe(Xt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Or(),Xt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),Ht("ngModelChange",function(o){return Zt(r.filterBy,o)||(r.filterBy=o),o}),x("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,uH,2,0,"button",3),f()()),t&2&&(v(2),$t("ngModel",r.filterBy),v(),y("ngIf",r.filterBy))},dependencies:[ve,An,Er,Xr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:.13em auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var ih,VT=h(()=>{"use strict";Ya();BI();nT();qa();Nn();kT();Zr();Js();up();FT();LT();j0();a0();R();xe();ih=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Je({type:n,bootstrap:[Lp]});static \u0275inj=Ze({imports:[zd,fp,OD,mI,vI,AT,KO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};jM(Ui,function(){return[ve,yt,Pn,nh,rh,fa]},function(){return[Jt]})});var dH=HT(jT=>{Ya();VT();la();R();Do();FD().bootstrapModule(ih).then(()=>{let n=C(Fn);"serviceWorker"in navigator&&(console.log("Platform:",et.getPlatform()),window.addEventListener("load",()=>S(jT,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),et.getPlatform()==="web"&&typeof Notification<"u"){if(console.log("Platform:",et.getPlatform()),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}else console.warn("Notification API is not available in this environment (native mode).")}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}})))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default dH();
