var d0=Object.defineProperty,$T=Object.defineProperties;var HT=Object.getOwnPropertyDescriptors;var Qc=Object.getOwnPropertySymbols;var f0=Object.prototype.hasOwnProperty,h0=Object.prototype.propertyIsEnumerable;var u0=(n,e,t)=>e in n?d0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})f0.call(e,t)&&u0(n,t,e[t]);if(Qc)for(var t of Qc(e))h0.call(e,t)&&u0(n,t,e[t]);return n},U=(n,e)=>$T(n,HT(e));var Nh=(n,e)=>{var t={};for(var r in n)f0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Qc)for(var r of Qc(n))e.indexOf(r)<0&&h0.call(n,r)&&(t[r]=n[r]);return t};var p=(n,e)=>()=>(n&&(e=n(n=0)),e);var zT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),qT=(n,e)=>{for(var t in e)d0(n,t,{get:e[t],enumerable:!0})};var I=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function p0(n,e){return Object.is(n,e)}function me(n){let e=tt;return tt=n,e}function g0(){return tt}function Fh(n){if(Zc)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(n);let e=tt.nextProducerIndex++;if(nl(tt),e<tt.producerNode.length&&tt.producerNode[e]!==n&&na(tt)){let t=tt.producerNode[e];tl(t,tt.producerIndexOfThis[e])}tt.producerNode[e]!==n&&(tt.producerNode[e]=n,tt.producerIndexOfThis[e]=na(tt)?_0(n,tt,e):0),tt.producerLastReadVersion[e]=n.version}function WT(){Jc++}function m0(n){if(!(na(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Jc)){if(!n.producerMustRecompute(n)&&!Vh(n)){n.dirty=!1,n.lastCleanEpoch=Jc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Jc}}function v0(n){if(n.liveConsumerNode===void 0)return;let e=Zc;Zc=!0;try{for(let t of n.liveConsumerNode)t.dirty||GT(t)}finally{Zc=e}}function y0(){return tt?.consumerAllowSignalWrites!==!1}function GT(n){n.dirty=!0,v0(n),n.consumerMarkedDirty?.(n)}function el(n){return n&&(n.nextProducerIndex=0),me(n)}function Lh(n,e){if(me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(na(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Vh(n){nl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(m0(t),r!==t.version))return!0}return!1}function jh(n){if(nl(n),na(n))for(let e=0;e<n.producerNode.length;e++)tl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function _0(n,e,t){if(C0(n),n.liveConsumerNode.length===0&&b0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=_0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function tl(n,e){if(C0(n),n.liveConsumerNode.length===1&&b0(n))for(let r=0;r<n.producerNode.length;r++)tl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];nl(i),i.producerIndexOfThis[r]=e}}function na(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function nl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function C0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function b0(n){return n.producerNode!==void 0}function w0(n){let e=Object.create(KT);e.computation=n;let t=()=>{if(m0(e),Fh(e),e.value===Xc)throw e.error;return e.value};return t[hr]=e,t}function YT(){throw new Error}function D0(){E0()}function M0(n){E0=n}function S0(n){let e=Object.create(x0);e.value=n;let t=()=>(Fh(e),e.value);return t[hr]=e,t}function Uh(n,e){y0()||D0(),n.equal(n.value,e)||(n.value=e,ZT(n))}function I0(n,e){y0()||D0(),Uh(n,e(n.value))}function ZT(n){n.version++,WT(),v0(n),QT?.()}var tt,Zc,Jc,hr,ra,kh,Rh,Xc,KT,E0,QT,x0,T0=p(()=>{"use strict";tt=null,Zc=!1,Jc=1,hr=Symbol("SIGNAL");ra={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};kh=Symbol("UNSET"),Rh=Symbol("COMPUTING"),Xc=Symbol("ERRORED"),KT=U(E({},ra),{value:kh,dirty:!0,error:null,equal:p0,producerMustRecompute(n){return n.value===kh||n.value===Rh},producerRecomputeValue(n){if(n.value===Rh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Rh;let t=el(n),r;try{r=n.computation()}catch(i){r=Xc,n.error=i}finally{Lh(n,t)}if(e!==kh&&e!==Xc&&r!==Xc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});E0=YT;QT=null;x0=U(E({},ra),{equal:p0,value:void 0})});function H(n){return typeof n=="function"}var qe=p(()=>{"use strict"});function Mo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var rl=p(()=>{"use strict"});var il,O0=p(()=>{"use strict";rl();il=Mo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Oi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ol=p(()=>{"use strict"});function sl(n){return n instanceof Fe||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function P0(n){H(n)?n():n.unsubscribe()}var Fe,Bh,Pi=p(()=>{"use strict";qe();O0();ol();Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof il?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{P0(o)}catch(s){e=e??[],s instanceof il?e=[...e,...s.errors]:e.push(s)}}if(e)throw new il(e)}}add(e){var t;if(e&&e!==this)if(this.closed)P0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oi(t,e)}remove(e){let{_finalizers:t}=this;t&&Oi(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();Bh=Fe.EMPTY});var Sn,ia=p(()=>{"use strict";Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var So,$h=p(()=>{"use strict";So={setTimeout(n,e,...t){let{delegate:r}=So;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=So;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function al(n){So.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(n);else throw n})}var Hh=p(()=>{"use strict";ia();$h()});function pr(){}var oa=p(()=>{"use strict"});function N0(n){return zh("E",void 0,n)}function k0(n){return zh("N",n,void 0)}function zh(n,e,t){return{kind:n,value:e,error:t}}var A0,R0=p(()=>{"use strict";A0=zh("C",void 0,void 0)});function Io(n){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!Ai;if(e&&(Ai={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ai;if(Ai=null,t)throw r}}else n()}function F0(n){Sn.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=n)}var Ai,cl=p(()=>{"use strict";ia();Ai=null});function qh(n,e){return JT.call(n,e)}function ll(n){Sn.useDeprecatedSynchronousErrorHandling?F0(n):al(n)}function XT(n){throw n}function Wh(n,e){let{onStoppedNotification:t}=Sn;t&&So.setTimeout(()=>t(n,e))}var Ni,JT,Gh,qr,eO,ul=p(()=>{"use strict";qe();Pi();ia();Hh();oa();R0();$h();cl();Ni=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sl(e)&&e.add(this)):this.destination=eO}static create(e,t,r){return new qr(e,t,r)}next(e){this.isStopped?Wh(k0(e),this):this._next(e)}error(e){this.isStopped?Wh(N0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wh(A0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JT=Function.prototype.bind;Gh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ll(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ll(r)}else ll(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ll(t)}}},qr=class extends Ni{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qh(e.next,o),error:e.error&&qh(e.error,o),complete:e.complete&&qh(e.complete,o)}):i=e}this.destination=new Gh(i)}};eO={closed:!0,next:pr,error:XT,complete:pr}});var xo,dl=p(()=>{"use strict";xo=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function ht(n){return n}var gr=p(()=>{"use strict"});function Kh(...n){return Yh(n)}function Yh(n){return n.length===0?ht:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Qh=p(()=>{"use strict";gr()});function L0(n){var e;return(e=n??Sn.Promise)!==null&&e!==void 0?e:Promise}function tO(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function nO(n){return n&&n instanceof Ni||tO(n)&&sl(n)}var J,ot=p(()=>{"use strict";ul();Pi();dl();Qh();ia();qe();cl();J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=nO(t)?t:new qr(t,r,i);return Io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=L0(r),new r((i,o)=>{let s=new qr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[xo](){return this}pipe(...t){return Yh(t)(this)}toPromise(t){return t=L0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function Zh(n){return H(n?.lift)}function X(n){return e=>{if(Zh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Le=p(()=>{"use strict";qe()});function Q(n,e,t,r,i){return new Jh(n,e,t,r,i)}var Jh,He=p(()=>{"use strict";ul();Jh=class extends Ni{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function To(){return X((n,e)=>{let t=null;n._refCount++;let r=Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Xh=p(()=>{"use strict";Le();He()});var Wr,ep=p(()=>{"use strict";ot();Pi();Xh();He();Le();Wr=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return To()(this)}}});var V0,j0=p(()=>{"use strict";rl();V0=Mo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var he,fl,sa=p(()=>{"use strict";ot();Pi();j0();ol();cl();he=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new V0}next(t){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Bh:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,Oi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new fl(e,t),n})(),fl=class extends he{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Bh}}});var ve,U0=p(()=>{"use strict";sa();ve=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var tp,B0=p(()=>{"use strict";tp={now(){return(tp.delegate||Date).now()},delegate:void 0}});var hl,$0=p(()=>{"use strict";Pi();hl=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}}});var aa,H0=p(()=>{"use strict";aa={setInterval(n,e,...t){let{delegate:r}=aa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=aa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var pl,z0=p(()=>{"use strict";$0();H0();ol();pl=class extends hl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return aa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&aa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Oo,q0=p(()=>{"use strict";B0();Oo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Oo.now=tp.now});var gl,W0=p(()=>{"use strict";q0();gl=class extends Oo{constructor(e,t=Oo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var ca,G0,ml=p(()=>{"use strict";z0();W0();ca=new gl(pl),G0=ca});var St,la=p(()=>{"use strict";ot();St=new J(n=>n.complete())});function vl(n){return n&&H(n.schedule)}var np=p(()=>{"use strict";qe()});function rp(n){return n[n.length-1]}function yl(n){return H(rp(n))?n.pop():void 0}function Wn(n){return vl(rp(n))?n.pop():void 0}function K0(n,e){return typeof rp(n)=="number"?n.pop():e}var ki=p(()=>{"use strict";qe();np()});function Q0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Y0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(n){return this instanceof Ri?(this.v=n,this):new Ri(n)}function Z0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,d)}}function a(g,y){r[g]&&(i[g]=function(w){return new Promise(function(T,j){o.push([g,w,T,j])>1||c(g,w)})},y&&(i[g]=y(i[g])))}function c(g,y){try{l(r[g](y))}catch(w){m(o[0][3],w)}}function l(g){g.value instanceof Ri?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,y){g(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function J0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Y0=="function"?Y0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ip=p(()=>{"use strict"});var Po,_l=p(()=>{"use strict";Po=n=>n&&typeof n.length=="number"&&typeof n!="function"});function Cl(n){return H(n?.then)}var op=p(()=>{"use strict";qe()});function bl(n){return H(n[xo])}var sp=p(()=>{"use strict";dl();qe()});function wl(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var ap=p(()=>{"use strict";qe()});function El(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var cp=p(()=>{"use strict"});function rO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dl,lp=p(()=>{"use strict";Dl=rO()});function Ml(n){return H(n?.[Dl])}var up=p(()=>{"use strict";lp();qe()});function Sl(n){return Z0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ri(t.read());if(i)return yield Ri(void 0);yield yield Ri(r)}}finally{t.releaseLock()}})}function Il(n){return H(n?.getReader)}var xl=p(()=>{"use strict";ip();qe()});function Ee(n){if(n instanceof J)return n;if(n!=null){if(bl(n))return iO(n);if(Po(n))return oO(n);if(Cl(n))return sO(n);if(wl(n))return X0(n);if(Ml(n))return aO(n);if(Il(n))return cO(n)}throw El(n)}function iO(n){return new J(e=>{let t=n[xo]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oO(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function sO(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,al)})}function aO(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function X0(n){return new J(e=>{lO(n,e).catch(t=>e.error(t))})}function cO(n){return X0(Sl(n))}function lO(n,e){var t,r,i,o;return Q0(this,void 0,void 0,function*(){try{for(t=J0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var vt=p(()=>{"use strict";ip();_l();op();ot();sp();ap();cp();up();xl();qe();Hh();dl()});function jt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var Ao=p(()=>{"use strict"});function Tl(n,e=0){return X((t,r)=>{t.subscribe(Q(r,i=>jt(r,n,()=>r.next(i),e),()=>jt(r,n,()=>r.complete(),e),i=>jt(r,n,()=>r.error(i),e)))})}var dp=p(()=>{"use strict";Ao();Le();He()});function Ol(n,e=0){return X((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var fp=p(()=>{"use strict";Le()});function eC(n,e){return Ee(n).pipe(Ol(e),Tl(e))}var tC=p(()=>{"use strict";vt();dp();fp()});function nC(n,e){return Ee(n).pipe(Ol(e),Tl(e))}var rC=p(()=>{"use strict";vt();dp();fp()});function iC(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var oC=p(()=>{"use strict";ot()});function sC(n,e){return new J(t=>{let r;return jt(t,e,()=>{r=n[Dl](),jt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var aC=p(()=>{"use strict";ot();lp();qe();Ao()});function Pl(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{jt(t,e,()=>{let r=n[Symbol.asyncIterator]();jt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var hp=p(()=>{"use strict";ot();Ao()});function cC(n,e){return Pl(Sl(n),e)}var lC=p(()=>{"use strict";hp();xl()});function uC(n,e){if(n!=null){if(bl(n))return eC(n,e);if(Po(n))return iC(n,e);if(Cl(n))return nC(n,e);if(wl(n))return Pl(n,e);if(Ml(n))return sC(n,e);if(Il(n))return cC(n,e)}throw El(n)}var dC=p(()=>{"use strict";tC();rC();oC();aC();hp();sp();op();_l();up();ap();cp();xl();lC()});function W(n,e){return e?uC(n,e):Ee(n)}var No=p(()=>{"use strict";dC();vt()});function F(...n){let e=Wn(n);return W(n,e)}var fC=p(()=>{"use strict";ki();No()});function nt(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}var hC=p(()=>{"use strict";ot();qe()});function pp(n){return!!n&&(n instanceof J||H(n.lift)&&H(n.subscribe))}var pC=p(()=>{"use strict";ot();qe()});var In,ko=p(()=>{"use strict";rl();In=Mo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function Fi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new qr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new In)}});n.subscribe(o)})}var gC=p(()=>{"use strict";ko();ul()});function mC(n){return n instanceof Date&&!isNaN(n)}var vC=p(()=>{"use strict"});function L(n,e){return X((t,r)=>{let i=0;t.subscribe(Q(r,o=>{r.next(n.call(e,o,i++))}))})}var Ro=p(()=>{"use strict";Le();He()});function dO(n,e){return uO(e)?n(...e):n(e)}function Fo(n){return L(e=>dO(n,e))}var uO,Al=p(()=>{"use strict";Ro();({isArray:uO}=Array)});function Nl(n){if(n.length===1){let e=n[0];if(fO(e))return{args:e,keys:null};if(mO(e)){let t=gO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function mO(n){return n&&typeof n=="object"&&hO(n)===pO}var fO,hO,pO,gO,gp=p(()=>{"use strict";({isArray:fO}=Array),{getPrototypeOf:hO,prototype:pO,keys:gO}=Object});function kl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var mp=p(()=>{"use strict"});function ua(...n){let e=Wn(n),t=yl(n),{args:r,keys:i}=Nl(n);if(r.length===0)return W([],e);let o=new J(vO(r,e,i?s=>kl(i,s):ht));return t?o.pipe(Fo(t)):o}function vO(n,e,t=ht){return r=>{yC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)yC(e,()=>{let l=W(n[c],e),u=!1;l.subscribe(Q(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yC(n,e,t){n?jt(t,n,e):e()}var _C=p(()=>{"use strict";ot();gp();No();gr();Al();ki();mp();He();Ao()});function CC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?y(w):c.push(w),y=w=>{o&&e.next(w),l++;let T=!1;Ee(t(w,u++)).subscribe(Q(e,j=>{i?.(j),o?g(j):e.next(j)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let j=c.shift();s?jt(e,s,()=>y(j)):y(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(Q(e,g,()=>{d=!0,m()})),()=>{a?.()}}var bC=p(()=>{"use strict";vt();Ao();He()});function Ve(n,e,t=1/0){return H(e)?Ve((r,i)=>L((o,s)=>e(r,o,i,s))(Ee(n(r,i))),t):(typeof e=="number"&&(t=e),X((r,i)=>CC(r,i,n,t)))}var Lo=p(()=>{"use strict";Ro();vt();Le();bC();qe()});function Gn(n=1/0){return Ve(ht,n)}var Rl=p(()=>{"use strict";Lo();gr()});function wC(){return Gn(1)}var EC=p(()=>{"use strict";Rl()});function Kn(...n){return wC()(W(n,Wn(n)))}var Fl=p(()=>{"use strict";EC();ki();No()});function Li(n){return new J(e=>{Ee(n()).subscribe(e)})}var DC=p(()=>{"use strict";ot();vt()});function vp(...n){let e=yl(n),{args:t,keys:r}=Nl(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ee(t[u]).subscribe(Q(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?kl(r,a):a),o.complete())}))}});return e?i.pipe(Fo(e)):i}var MC=p(()=>{"use strict";ot();gp();vt();ki();He();Al();mp()});function Vo(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Vo(n,e,t).pipe(Fo(r));let[i,o]=EO(n)?_O.map(s=>a=>n[s](e,a,t)):bO(n)?yO.map(SC(n,e)):wO(n)?CO.map(SC(n,e)):[];if(!i&&Po(n))return Ve(s=>Vo(s,e,t))(Ee(n));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function SC(n,e){return t=>r=>n[t](e,r)}function bO(n){return H(n.addListener)&&H(n.removeListener)}function wO(n){return H(n.on)&&H(n.off)}function EO(n){return H(n.addEventListener)&&H(n.removeEventListener)}var yO,_O,CO,IC=p(()=>{"use strict";vt();ot();Lo();_l();qe();Al();yO=["addListener","removeListener"],_O=["addEventListener","removeEventListener"],CO=["on","off"]});function Ll(n=0,e,t=G0){let r=-1;return e!=null&&(vl(e)?t=e:r=e),new J(i=>{let o=mC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var yp=p(()=>{"use strict";ot();ml();np();vC()});function Vl(...n){let e=Wn(n),t=K0(n,1/0),r=n;return r.length?r.length===1?Ee(r[0]):Gn(t)(W(r,e)):St}var xC=p(()=>{"use strict";Rl();vt();la();ki();No()});var Vi,TC=p(()=>{"use strict";ot();oa();Vi=new J(pr)});function je(n,e){return X((t,r)=>{let i=0;t.subscribe(Q(r,o=>n.call(e,o,i++)&&r.next(o)))})}var da=p(()=>{"use strict";Le();He()});var OC=p(()=>{"use strict"});function de(n){return X((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Q(t,void 0,void 0,s=>{o=Ee(n(s,de(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var _p=p(()=>{"use strict";vt();He();Le()});function PC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Q(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var AC=p(()=>{"use strict";He()});function cn(n,e){return H(e)?Ve(n,e,1):Ve(n,1)}var Cp=p(()=>{"use strict";Lo();qe()});function NC(n){return new J(e=>n.subscribe(e))}var kC=p(()=>{"use strict";ot()});function jl(n,e=DO){let{connector:t}=e;return X((r,i)=>{let o=t();Ee(n(NC(o))).subscribe(i),i.add(r.subscribe(o))})}var DO,bp=p(()=>{"use strict";sa();vt();Le();kC();DO={connector:()=>new he}});function wp(n,e=ca){return X((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(Q(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var RC=p(()=>{"use strict";ml();Le();He()});function Gr(n){return X((e,t)=>{let r=!1;e.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Ul=p(()=>{"use strict";Le();He()});function Oe(n){return n<=0?()=>St:X((e,t)=>{let r=0;e.subscribe(Q(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var fa=p(()=>{"use strict";la();Le();He()});function FC(){return X((n,e)=>{n.subscribe(Q(e,pr))})}var LC=p(()=>{"use strict";Le();He();oa()});function ha(n){return L(()=>n)}var Ep=p(()=>{"use strict";Ro()});function Dp(n,e){return e?t=>Kn(e.pipe(Oe(1),FC()),t.pipe(Dp(n))):Ve((t,r)=>Ee(n(t,r)).pipe(Oe(1),ha(t)))}var VC=p(()=>{"use strict";Fl();fa();LC();Ep();Lo();vt()});function ln(n,e=ca){let t=Ll(n,e);return Dp(()=>t)}var Mp=p(()=>{"use strict";ml();VC();yp()});function mr(n,e=ht){return n=n??MO,X((t,r)=>{let i,o=!0;t.subscribe(Q(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function MO(n,e){return n===e}var jC=p(()=>{"use strict";gr();Le();He()});function Bl(n=SO){return X((e,t)=>{let r=!1;e.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function SO(){return new In}var Sp=p(()=>{"use strict";ko();Le();He()});function Wt(n){return X((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Ip=p(()=>{"use strict";Le()});function Yn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?je((i,o)=>n(i,o,r)):ht,Oe(1),t?Gr(e):Bl(()=>new In))}var UC=p(()=>{"use strict";ko();da();fa();Ul();Sp();gr()});function jo(n){return n<=0?()=>St:X((e,t)=>{let r=[];e.subscribe(Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var xp=p(()=>{"use strict";la();Le();He()});function Tp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?je((i,o)=>n(i,o,r)):ht,jo(1),t?Gr(e):Bl(()=>new In))}var BC=p(()=>{"use strict";ko();da();xp();Sp();Ul();gr()});function $C(n,e){let t=H(n)?n:()=>n;return H(e)?jl(e,{connector:t}):r=>new Wr(r,t)}var HC=p(()=>{"use strict";ep();qe();bp()});function Op(n){return n?e=>jl(n)(e):e=>$C(new he)(e)}var zC=p(()=>{"use strict";sa();HC();bp()});function st(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?ht:X((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(Q(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Ll(r):Ee(r(d,a)),y=Q(s,()=>{y.unsubscribe(),m()},()=>{s.complete()});g.subscribe(y)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Pp=p(()=>{"use strict";Le();He();gr();yp();vt()});function Ap(n,e){return X(PC(n,e,arguments.length>=2,!0))}var qC=p(()=>{"use strict";Le();AC()});function Np(...n){let e=Wn(n);return X((t,r)=>{(e?Kn(n,t,e):Kn(n,t)).subscribe(r)})}var WC=p(()=>{"use strict";Fl();ki();Le()});function Ue(n,e){return X((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Q(r,c=>{i?.unsubscribe();let l=0,u=o++;Ee(n(c,u)).subscribe(i=Q(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var kp=p(()=>{"use strict";vt();Le();He()});function Qn(n){return X((e,t)=>{Ee(n).subscribe(Q(t,()=>t.complete(),pr)),!t.closed&&e.subscribe(t)})}var Rp=p(()=>{"use strict";Le();He();vt();oa()});function ne(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Q(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ht}var Fp=p(()=>{"use strict";qe();Le();He();gr()});var De=p(()=>{"use strict";ot();ep();sa();U0();Pi();Qh();pC();gC();ko();_C();Fl();DC();MC();No();IC();xC();fC();hC();la();TC();OC();_p();Cp();RC();Mp();jC();da();Ip();Ro();Pp();kp();fa();Rp();Fp()});var Kr=p(()=>{"use strict";_p();Cp();Ul();Mp();da();Ip();UC();BC();Ro();Ep();Rl();Lo();zC();Pp();Xh();qC();WC();kp();fa();xp();Rp();Fp()});function Tu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ea(n){return{toString:n}.toString()}function IO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Pb(n,e,t){return Ea(()=>{let r=IO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty($l)?c[$l]:Object.defineProperty(c,$l,{value:[]})[$l];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function xO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Tt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Zp(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function rr(n){return n.__forward_ref__=rr,n.toString=function(){return Tt(this())},n}function xt(n){return Ab(n)?n():n}function Ab(n){return typeof n=="function"&&n.hasOwnProperty(TO)&&n.__forward_ref__===rr}function S(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ou(n){return GC(n,kb)||GC(n,Rb)}function Nb(n){return Ou(n)!==null}function GC(n,e){return n.hasOwnProperty(e)?n[e]:null}function OO(n){let e=n&&(n[kb]||n[Rb]);return e||null}function KC(n){return n&&(n.hasOwnProperty(YC)||n.hasOwnProperty(PO))?n[YC]:null}function Fb(n){return n&&!!n.\u0275providers}function Pu(n){return typeof n=="string"?n:n==null?"":String(n)}function FO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Pu(n)}function LO(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,n)}function qg(n,e){throw new M(-201,!1)}function Lb(){return Jp}function Ut(n){let e=Jp;return Jp=n,e}function Vb(n,e,t){let r=Ou(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;qg(n,"Injector")}function $O(){return zo}function Yr(n){let e=zo;return zo=n,e}function HO(n,e=ae.Default){if(zo===void 0)throw new M(-203,!1);return zo===null?Vb(n,void 0,e):zo.get(n,e&ae.Optional?null:void 0,e)}function A(n,e=ae.Default){return(Lb()||HO)(xt(n),e)}function v(n,e=ae.Default){return A(n,Au(e))}function Au(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function eg(n){let e=[];for(let t=0;t<n.length;t++){let r=xt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=zO(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function jb(n,e){return n[Xp]=e,n.prototype[Xp]=e,n}function zO(n){return n[Xp]}function qO(n,e,t,r){let i=n[eu];throw e[ZC]&&i.unshift(e[ZC]),n.message=WO(`
`+n.message,i,t,r),n[jO]=i,n[eu]=null,n}function WO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==BO?n.slice(2):n;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(UO,`
  `)}`}function Bi(n,e){let t=n.hasOwnProperty(Xl);return t?n[Xl]:null}function GO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function KO(n){return n.flat(Number.POSITIVE_INFINITY)}function Gg(n,e){n.forEach(t=>Array.isArray(t)?Gg(t,e):e(t))}function Ub(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function YO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Kg(n,e,t){let r=Da(n,e);return r>=0?n[r|1]=t:(r=~r,YO(n,r,e,t)),r}function Lp(n,e){let t=Da(n,e);if(t>=0)return n[t|1]}function Da(n,e){return QO(n,e,1)}function QO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function ZO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function tg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];JO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function zb(n){return n===3||n===4||n===6}function JO(n){return n.charCodeAt(0)===64}function ya(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?JC(n,t,i,null,e[++r]):JC(n,t,i,null,null))}}return n}function JC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function XO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ZO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Yg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Yg(n){return n.type===4&&n.value!==qb}function eP(n,e,t){let r=n.type===4&&!t?qb:n.value;return e===r}function tP(n,e,t){let r=4,i=n.attrs,o=i!==null?iP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!xn(r)&&!xn(c))return!1;if(s&&xn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!eP(n,c,t)||c===""&&e.length===1){if(xn(r))return!1;s=!0}}else if(r&8){if(i===null||!XO(n,i,c,t)){if(xn(r))return!1;s=!0}}else{let l=e[++a],u=nP(c,i,Yg(n),t);if(u===-1){if(xn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(xn(r))return!1;s=!0}}}}return xn(r)||s}function xn(n){return(n&1)===0}function nP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return oP(e,n)}function rP(n,e,t=!1){for(let r=0;r<e.length;r++)if(tP(n,e[r],t))return!0;return!1}function iP(n){for(let e=0;e<n.length;e++){let t=n[e];if(zb(t))return e}return n.length}function oP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function XC(n,e){return n?":not("+e.trim()+")":e}function sP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xn(s)&&(e+=XC(o,i),i=""),r=s,o=o||!xn(r);t++}return i!==""&&(e+=XC(o,i)),e}function aP(n){return n.map(sP).join(",")}function cP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!xn(i))break;i=o}r++}return{attrs:e,classes:t}}function ee(n){return Ea(()=>{let e=Qb(n),t=U(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Hb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xn.Emulated,styles:n.styles||Bt,_:null,schemas:n.schemas||null,tView:null,id:""});Zb(t);let r=n.dependencies;return t.directiveDefs=ru(r,!1),t.pipeDefs=ru(r,!0),t.id=dP(t),t})}function lP(n){return Xr(n)||Wb(n)}function uP(n){return n!==null}function Ke(n){return Ea(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eb(n,e){if(n==null)return Wo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Jr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Jr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function pe(n){return Ea(()=>{let e=Qb(n);return Zb(e),e})}function Qg(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xr(n){return n[AO]||null}function Wb(n){return n[NO]||null}function Gb(n){return n[kO]||null}function Kb(n){let e=Xr(n)||Wb(n)||Gb(n);return e!==null?e.standalone:!1}function Yb(n,e){let t=n[RO]||null;if(!t&&e===!0)throw new Error(`Type ${Tt(n)} does not have '\u0275mod' property.`);return t}function Qb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Wo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eb(n.inputs,e),outputs:eb(n.outputs),debugInfo:null}}function Zb(n){n.features?.forEach(e=>e(n))}function ru(n,e){if(!n)return null;let t=e?Gb:lP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(uP)}function dP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ns(n){return{\u0275providers:n}}function fP(...n){return{\u0275providers:Jb(!0,n),\u0275fromNgModule:!0}}function Jb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Gg(e,s=>{let a=s;ng(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Xb(i,o),t}function Xb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Zg(i,o=>{e(o,r)})}}function ng(n,e,t,r){if(n=xt(n),!n)return!1;let i=null,o=KC(n),s=!o&&Xr(n);if(!o&&!s){let c=n.ngModule;if(o=KC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ng(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Gg(o.imports,u=>{ng(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Xb(l,e)}if(!a){let l=Bi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:$b,useValue:i,multi:!0},i),e({provide:Go,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Zg(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Zg(n,e){for(let t of n)Fb(t)&&(t=t.\u0275providers),Array.isArray(t)?Zg(t,e):e(t)}function ew(n){return n!==null&&typeof n=="object"&&hP in n}function pP(n){return!!(n&&n.useExisting)}function gP(n){return!!(n&&n.useFactory)}function Ko(n){return typeof n=="function"}function mP(n){return!!n.useClass}function Jg(){return Vp===void 0&&(Vp=new nu),Vp}function rg(n){let e=Ou(n),t=e!==null?e.factory:Bi(n);if(t!==null)return t;if(n instanceof k)throw new M(204,!1);if(n instanceof Function)return yP(n);throw new M(204,!1)}function yP(n){if(n.length>0)throw new M(204,!1);let t=OO(n);return t!==null?()=>t.factory(n):()=>new n}function _P(n){if(ew(n))return Uo(void 0,n.useValue);{let e=tw(n);return Uo(e,Kl)}}function tw(n,e,t){let r;if(Ko(n)){let i=xt(n);return Bi(i)||rg(i)}else if(ew(n))r=()=>xt(n.useValue);else if(gP(n))r=()=>n.useFactory(...eg(n.deps||[]));else if(pP(n))r=()=>A(xt(n.useExisting));else{let i=xt(n&&(n.useClass||n.provide));if(CP(n))r=()=>new i(...eg(n.deps));else return Bi(i)||rg(i)}return r}function Uo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CP(n){return!!n.deps}function bP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function wP(n){return typeof n=="function"||typeof n=="object"&&n instanceof k}function ig(n,e){for(let t of n)Array.isArray(t)?ig(t,e):t&&Fb(t)?ig(t.\u0275providers,e):e(t)}function dn(n,e){n instanceof _a&&n.assertNotDestroyed();let t,r=Yr(n),i=Ut(void 0);try{return e()}finally{Yr(r),Ut(i)}}function nw(){return Lb()!==void 0||$O()!=null}function Xg(n){if(!nw())throw new M(-203,!1)}function EP(n){let e=It.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function DP(n){return typeof n=="function"}function Zr(n){return Array.isArray(n)&&typeof n[iw]=="object"}function wr(n){return Array.isArray(n)&&n[iw]===!0}function em(n){return(n.flags&4)!==0}function Fu(n){return n.componentOffset>-1}function Lu(n){return(n.flags&1)===1}function ei(n){return!!n.template}function og(n){return(n[Y]&512)!==0}function ow(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Nn(){return sw}function sw(n){return n.type.prototype.ngOnChanges&&(n.setInput=SP),MP}function MP(){let n=cw(this),e=n?.current;if(e){let t=n.previous;if(t===Wo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function SP(n,e,t,r,i){let o=this.declaredInputs[r],s=cw(n)||IP(n,{previous:Wo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new sg(l&&l.currentValue,t,c===Wo),ow(n,e,i,t)}function cw(n){return n[aw]||null}function IP(n,e){return n[aw]=e}function nr(n){for(;Array.isArray(n);)n=n[br];return n}function lw(n,e){return nr(e[n])}function fn(n,e){return nr(e[n.index])}function uw(n,e){return n.data[e]}function tm(n,e){return n[e]}function ii(n,e){let t=e[n];return Zr(t)?t:t[br]}function OP(n){return(n[Y]&4)===4}function nm(n){return(n[Y]&128)===128}function PP(n){return wr(n[yt])}function Zo(n,e){return e==null?null:n[e]}function dw(n){n[Bo]=0}function fw(n){n[Y]&1024||(n[Y]|=1024,nm(n)&&ju(n))}function AP(n,e){for(;n>0;)e=e[rs],n--;return e}function Vu(n){return!!(n[Y]&9216||n[un]?.dirty)}function ag(n){n[er].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),Vu(n)&&ju(n)}function ju(n){n[er].changeDetectionScheduler?.notify(0);let e=zi(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!nm(e)));)e=zi(e)}function hw(n,e){if((n[Y]&256)===256)throw new M(911,!1);n[Qr]===null&&(n[Qr]=[]),n[Qr].push(e)}function NP(n,e){if(n[Qr]===null)return;let t=n[Qr].indexOf(e);t!==-1&&n[Qr].splice(t,1)}function zi(n){let e=n[yt];return wr(e)?e[yt]:e}function kP(){return ce.lFrame.elementDepthCount}function RP(){ce.lFrame.elementDepthCount++}function FP(){ce.lFrame.elementDepthCount--}function gw(){return ce.bindingsEnabled}function LP(){return ce.skipHydrationRootTNode!==null}function VP(n){return ce.skipHydrationRootTNode===n}function jP(){ce.skipHydrationRootTNode=null}function le(){return ce.lFrame.lView}function Je(){return ce.lFrame.tView}function B(n){return ce.lFrame.contextLView=n,n[Pn]}function $(n){return ce.lFrame.contextLView=null,n}function pt(){let n=mw();for(;n!==null&&n.type===64;)n=n.parent;return n}function mw(){return ce.lFrame.currentTNode}function UP(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zi(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function rm(){return ce.lFrame.isParent}function vw(){ce.lFrame.isParent=!1}function BP(){return ce.lFrame.contextLView}function yw(){return pw}function rb(n){pw=n}function Ma(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $P(n){return ce.lFrame.bindingIndex=n}function Uu(){return ce.lFrame.bindingIndex++}function _w(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function HP(){return ce.lFrame.inI18n}function zP(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,cg(e)}function qP(){return ce.lFrame.currentDirectiveIndex}function cg(n){ce.lFrame.currentDirectiveIndex=n}function WP(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Cw(){return ce.lFrame.currentQueryIndex}function im(n){ce.lFrame.currentQueryIndex=n}function GP(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[An]:null}function bw(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=GP(o),i===null||(o=o[rs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=ww();return r.currentTNode=e,r.lView=n,!0}function om(n){let e=ww(),t=n[re];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ww(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?Ew(n):e}function Ew(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Dw(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function sm(){let n=Dw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function KP(n){return(ce.lFrame.contextLView=AP(n,ce.lFrame.contextLView))[Pn]}function Ji(){return ce.lFrame.selectedIndex}function qi(n){ce.lFrame.selectedIndex=n}function am(){let n=ce.lFrame;return uw(n.tView,n.selectedIndex)}function YP(){return ce.lFrame.currentNamespace}function Bu(){return Sw}function $u(n){Sw=n}function QP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Hu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Yl(n,e,t){Iw(n,e,3,t)}function Ql(n,e,t,r){(n[Y]&3)===t&&Iw(n,e,t,r)}function Up(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function Iw(n,e,t,r){let i=r!==void 0?n[Bo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Bo]+=65536),(a<o||o==-1)&&(ZP(n,t,e,c),n[Bo]=(n[Bo]&4294901760)+c+2),c++}function ib(n,e){Zn(4,n,e);let t=me(null);try{e.call(n)}finally{me(t),Zn(5,n,e)}}function ZP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Y]>>14<n[Bo]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,ib(a,o)):ib(a,o)}function JP(n){return n instanceof Wi}function XP(n){return(n.flags&8)!==0}function eA(n){return(n.flags&16)!==0}function xw(n){return n!==qo}function cu(n){return n&32767}function tA(n){return n>>16}function lu(n,e){let t=tA(n),r=e;for(;t>0;)r=r[rs],t--;return r}function uu(n){let e=ug;return ug=n,e}function iA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(r=t[ga]),r==null&&(r=t[ga]=rA++);let i=r&Tw,o=1<<i;e.data[n+(i>>Ow)]|=o}function du(n,e){let t=Pw(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,$p(r.data,n),$p(e,null),$p(r.blueprint,null));let i=cm(n,e),o=n.injectorIndex;if(xw(i)){let s=cu(i),a=lu(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function $p(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Pw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function cm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Fw(i),r===null)return qo;if(t++,i=i[rs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return qo}function dg(n,e,t){iA(n,e,t)}function oA(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(zb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Aw(n,e,t){if(t&ae.Optional||n!==void 0)return n;qg(e,"NodeInjector")}function Nw(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),!(t&(ae.Self|ae.Host))){let i=n[Yo],o=Ut(void 0);try{return i?i.get(e,r,t&ae.Optional):Vb(e,r,t&ae.Optional)}finally{Ut(o)}}return Aw(r,e,t)}function kw(n,e,t,r=ae.Default,i){if(n!==null){if(e[Y]&2048&&!(r&ae.Self)){let s=lA(n,e,t,r,Jn);if(s!==Jn)return s}let o=Rw(n,e,t,r,Jn);if(o!==Jn)return o}return Nw(e,t,r,i)}function Rw(n,e,t,r,i){let o=aA(t);if(typeof o=="function"){if(!bw(e,n,r))return r&ae.Host?Aw(i,t,r):Nw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))qg(t);else return s}finally{Mw()}}else if(typeof o=="number"){let s=null,a=Pw(n,e),c=qo,l=r&ae.Host?e[tr][An]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?cm(n,e):e[a+8],c===qo||!sb(r,!1)?a=-1:(s=e[re],a=cu(c),e=lu(c,e)));a!==-1;){let u=e[re];if(ob(o,a,u.data)){let d=sA(a,e,t,s,r,l);if(d!==Jn)return d}c=e[a+8],c!==qo&&sb(r,e[re].data[a+8]===l)&&ob(o,a,e)?(s=u,a=cu(c),e=lu(c,e)):a=-1}}return i}function sA(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],c=r==null?Fu(a)&&ug:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,u=Zl(a,s,t,c,l);return u!==null?Gi(e,s,u,a):Jn}function Zl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let y=s[g];if(g<c&&t===y||g>=c&&y.type===t)return g}if(i){let g=s[c];if(g&&ei(g)&&g.type===t)return c}return null}function Gi(n,e,t,r){let i=n[t],o=e.data;if(JP(i)){let s=i;s.resolving&&LO(FO(o[t]));let a=uu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ut(s.injectImpl):null,u=bw(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&QP(t,o[t],e)}finally{l!==null&&Ut(l),uu(a),s.resolving=!1,Mw()}}return i}function aA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ga)?n[ga]:void 0;return typeof e=="number"?e>=0?e&Tw:cA:e}function ob(n,e,t){let r=1<<n;return!!(t[e+(n>>Ow)]&r)}function sb(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}function cA(){return new Ui(pt(),le())}function Xi(n){return Ea(()=>{let e=n.prototype.constructor,t=e[Xl]||fg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Xl]||fg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fg(n){return Ab(n)?()=>{let e=fg(xt(n));return e&&e()}:Bi(n)}function lA(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=Rw(o,s,t,r|ae.Self,Jn);if(a!==Jn)return a;let c=o.parent;if(!c){let l=s[rw];if(l){let u=l.get(t,Jn,r);if(u!==Jn)return u}c=Fw(s),s=s[rs]}o=c}return i}function Fw(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[An]:null}function lm(n){return oA(pt(),n)}function ab(n,e=null,t=null,r){let i=Lw(n,e,t,r);return i.resolveInjectorInitializers(),i}function Lw(n,e=null,t=null,r,i=new Set){let o=[t||Bt,fP(n)];return r=r||(typeof n=="object"?void 0:Tt(n)),new _a(o,e||Jg(),r||null,i)}function Hp(n){return n[dA]}function fA(){return new hg(le())}function fu(...n){}function jw(n){let e,t;function r(){n=fu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cb(n){return queueMicrotask(()=>n()),()=>{n=fu}}function dm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){jw(()=>{n.callbackScheduled=!1,gg(n),n.isCheckStableRunning=!0,dm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),gg(n)}function mA(n){let e=()=>{gA(n)},t=hA++;n._inner=n._inner.fork({name:"angular",properties:{[um]:!0,[hu]:t,[hu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(vA(c))return r.invokeTask(o,s,a,c);try{return lb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ub(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return lb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!yA(c)&&e(),ub(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,gg(n),dm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function gg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function lb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ub(n){n._nesting--,dm(n)}function vA(n){return Uw(n,"__ignore_ng_zone__")}function yA(n){return Uw(n,"__scheduler_tick__")}function Uw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function _A(n="zone.js",e){return n==="noop"?new pu:n==="zone.js"?new ye(e):n}function bA(){return is(pt(),le())}function is(n,e){return new At(fn(n,e))}function wA(n){return n instanceof At?n.nativeElement:n}function EA(){return this._results[Symbol.iterator]()}function Bw(n){return(n.flags&128)===128}function MA(){return DA++}function SA(n){$w.set(n[Ru],n)}function vg(n){$w.delete(n[Ru])}function ti(n,e){Zr(e)?(n[db]=e[Ru],SA(e)):n[db]=e}function Hw(n){return qw(n[Ca])}function zw(n){return qw(n[On])}function qw(n){for(;n!==null&&!wr(n);)n=n[On];return n}function Ww(n){yg=n}function IA(){if(yg!==void 0)return yg;if(typeof document<"u")return document;throw new M(210,!1)}function gm(n,e,t=!1){return PA(n,e,t)}function NA(){if(Hl===void 0&&(Hl=null,It.trustedTypes))try{Hl=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hl}function fb(n){return NA()?.createScriptURL(n)||n}function os(n){return n instanceof gu?n.changingThisBreaksApplicationSecurity:n}function mm(n,e){let t=kA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ob})`)}return t===e}function kA(n){return n instanceof gu&&n.getTypeName()||null}function Kw(n){return n=String(n),n.match(RA)?n:"unsafe:"+n}function Nt(n){let e=Qw();return e?e.sanitize(qu.URL,n)||"":mm(n,"URL")?os(n):Kw(Pu(n))}function FA(n){let e=Qw();if(e)return fb(e.sanitize(qu.RESOURCE_URL,n)||"");if(mm(n,"ResourceURL"))return fb(os(n));throw new M(904,!1)}function LA(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?FA:Nt}function Yw(n,e,t){return LA(e,t)(n)}function Qw(){let n=le();return n&&n[er].sanitizer}function BA(n){return n.replace(VA,e=>e.replace(jA,UA))}function Zw(n){return n instanceof Function?n():n}function $A(n){return(n??v(Ze)).get(Yt)==="browser"}function vm(n,e){return HA(n,e)}function $o(n,e,t,r,i){if(r!=null){let o,s=!1;wr(r)?o=r:Zr(r)&&(s=!0,r=r[br]);let a=nr(r);n===0&&t!==null?i==null?nE(e,t,a):mu(e,t,a,i||null,!0):n===1&&t!==null?mu(e,t,a,i||null,!0):n===2?o1(e,a,s):n===3&&e.destroyNode(a),o!=null&&a1(e,n,o,t,i)}}function zA(n,e){return n.createText(e)}function qA(n,e,t){n.setValue(e,t)}function WA(n,e){return n.createComment(BA(e))}function Jw(n,e,t){return n.createElement(e,t)}function GA(n,e){Xw(n,e),e[br]=null,e[An]=null}function KA(n,e,t,r,i,o){r[br]=i,r[An]=e,Gu(n,r,t,1,i,o)}function Xw(n,e){e[er].changeDetectionScheduler?.notify(9),Gu(n,e,e[We],2,null,null)}function YA(n){let e=n[Ca];if(!e)return zp(n[re],n);for(;e;){let t=null;if(Zr(e))t=e[Ca];else{let r=e[Gt];r&&(t=r)}if(!t){for(;e&&!e[On]&&e!==n;)Zr(e)&&zp(e[re],e),e=e[yt];e===null&&(e=n),Zr(e)&&zp(e[re],e),t=e&&e[On]}e=t}}function QA(n,e,t,r){let i=Gt+r,o=t.length;r>0&&(t[i-1][On]=e),r<o-Gt?(e[On]=t[i],Ub(t,Gt+r,e)):(t.push(e),e[On]=null),e[yt]=t;let s=e[$i];s!==null&&t!==s&&eE(s,e);let a=e[vr];a!==null&&a.insertView(n),ag(e),e[Y]|=128}function eE(n,e){let t=n[Qo],r=e[yt];if(Zr(r))n[Y]|=au.HasTransplantedViews;else{let i=r[yt][tr];e[tr]!==i&&(n[Y]|=au.HasTransplantedViews)}t===null?n[Qo]=[e]:t.push(e)}function ym(n,e){let t=n[Qo],r=t.indexOf(e);t.splice(r,1)}function _g(n,e){if(n.length<=Gt)return;let t=Gt+e,r=n[t];if(r){let i=r[$i];i!==null&&i!==n&&ym(i,r),e>0&&(n[t-1][On]=r[On]);let o=tu(n,Gt+e);GA(r[re],r);let s=o[vr];s!==null&&s.detachView(o[re]),r[yt]=null,r[On]=null,r[Y]&=-129}return r}function tE(n,e){if(!(e[Y]&256)){let t=e[We];t.destroyNode&&Gu(n,e,t,3,null,null),YA(e)}}function zp(n,e){if(e[Y]&256)return;let t=me(null);try{e[Y]&=-129,e[Y]|=256,e[un]&&jh(e[un]),JA(n,e),ZA(n,e),e[re].type===1&&e[We].destroy();let r=e[$i];if(r!==null&&wr(e[yt])){r!==e[yt]&&ym(r,e);let i=e[vr];i!==null&&i.detachView(n)}vg(e)}finally{me(t)}}function ZA(n,e){let t=n.cleanup,r=e[ou];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[ou]=null);let i=e[Qr];if(i!==null){e[Qr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function JA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Wi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Zn(4,a,c);try{c.call(a)}finally{Zn(5,a,c)}}else{Zn(4,i,o);try{o.call(i)}finally{Zn(5,i,o)}}}}}function XA(n,e,t){return e1(n,e.parent,t)}function e1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[br];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Xn.None||o===Xn.Emulated)return null}return fn(r,t)}}function mu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nE(n,e,t){n.appendChild(e,t)}function hb(n,e,t,r,i){r!==null?mu(n,e,t,r,i):nE(n,e,t)}function rE(n,e){return n.parentNode(e)}function t1(n,e){return n.nextSibling(e)}function n1(n,e,t){return i1(n,e,t)}function r1(n,e,t){return n.type&40?fn(n,t):null}function Wu(n,e,t,r){let i=XA(n,r,e),o=e[We],s=r.parent||e[An],a=n1(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)hb(o,i,t[c],a,!1);else hb(o,i,t,a,!1);pb!==void 0&&pb(o,r,e,t,i)}function pa(n,e){if(e!==null){let t=e.type;if(t&3)return fn(e,n);if(t&4)return Cg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return pa(n,r);{let i=n[e.index];return wr(i)?Cg(-1,i):nr(i)}}else{if(t&128)return pa(n,e.next);if(t&32)return vm(e,n)()||nr(n[e.index]);{let r=iE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(n[tr]);return pa(i,r)}else return pa(n,e.next)}}}return null}function iE(n,e){if(e!==null){let r=n[tr][An],i=e.projection;return r.projection[i]}return null}function Cg(n,e){let t=Gt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return pa(r,i)}return e[Hi]}function o1(n,e,t){n.removeChild(null,e,t)}function _m(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&ti(nr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)_m(n,e,t.child,r,i,o,!1),$o(e,n,i,a,o);else if(c&32){let l=vm(t,r),u;for(;u=l();)$o(e,n,i,u,o);$o(e,n,i,a,o)}else c&16?s1(n,e,r,t,i,o):$o(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Gu(n,e,t,r,i,o){_m(t,r,n.firstChild,e,i,o,!1)}function s1(n,e,t,r,i,o){let s=t[tr],c=s[An].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];$o(e,n,i,u,o)}else{let l=c,u=s[yt];Bw(r)&&(l.flags|=128),_m(n,e,l,u,i,o,!0)}}function a1(n,e,t,r,i){let o=t[Hi],s=nr(t);o!==s&&$o(e,n,r,o,i);for(let a=Gt;a<t.length;a++){let c=t[a];Gu(c[re],c,n,e,r,o)}}function c1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:_r.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_r.Important),n.setStyle(t,r,i,o))}}function l1(n,e,t){n.setAttribute(e,"style",t)}function oE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&tg(n,e,r),i!==null&&oE(n,e,i),o!==null&&l1(n,e,o)}function C(n=1){aE(Je(),le(),Ji()+n,!1)}function aE(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Yl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ql(e,o,0,t)}qi(t)}function D(n,e=ae.Default){let t=le();if(t===null)return A(n,e);let r=pt();return kw(r,t,xt(n),e)}function cE(){let n="invalid";throw new Error(n)}function lE(n,e,t,r,i,o){let s=me(null);try{let a=null;i&Jr.SignalBased&&(a=e[r][hr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Jr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):ow(e,a,r,o)}finally{me(s)}}function u1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)qi(~i);else{let o=i,s=t[++r],a=t[++r];zP(s,o);let c=e[o];a(2,c)}}}finally{qi(-1)}}function Ku(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[br]=i,d[Y]=r|4|128|8|64,(l!==null||n&&n[Y]&2048)&&(d[Y]|=2048),dw(d),d[yt]=d[rs]=n,d[Pn]=t,d[er]=s||n&&n[er],d[We]=a||n&&n[We],d[Yo]=c||n&&n[Yo]||null,d[An]=o,d[Ru]=MA(),d[iu]=u,d[rw]=l,d[tr]=e.type==2?n[tr]:d,d}function Sa(n,e,t,r,i){let o=n.data[e];if(o===null)o=d1(n,e,t,r,i),HP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=UP();o.injectorIndex=s===null?-1:s.injectorIndex}return Zi(o,!0),o}function d1(n,e,t,r,i){let o=mw(),s=rm(),a=s?o:o&&o.parent,c=n.data[e]=v1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function uE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function dE(n,e,t,r,i){let o=Ji(),s=r&2;try{qi(-1),s&&e.length>Kt&&aE(n,e,Kt,!1),Zn(s?2:0,i),t(r,i)}finally{qi(o),Zn(s?3:1,i)}}function Cm(n,e,t){if(em(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{me(r)}}}function bm(n,e,t){gw()&&(E1(n,e,t,fn(t,e)),(t.flags&64)===64&&gE(n,e,t))}function wm(n,e,t=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function fE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Em(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Em(n,e,t,r,i,o,s,a,c,l,u){let d=Kt+r,m=d+i,g=f1(d,m),y=typeof l=="function"?l():l;return g[re]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function f1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ir);return t}function h1(n,e,t,r){let o=r.get(AA,Gw)||t===Xn.ShadowDom,s=n.selectRootElement(e,o);return p1(s),s}function p1(n){g1(n)}function m1(n,e,t,r){let i=yE(e);i.push(t),n.firstCreatePass&&_E(n).push(r,i.length-1)}function v1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return LP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Jr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?mb(r,t,l,a,c):mb(r,t,l,a)}return r}function mb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function y1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,g=m?m.inputs:null,y=m?m.outputs:null;c=gb(0,d.inputs,u,c,g),l=gb(1,d.outputs,u,l,y);let w=c!==null&&s!==null&&!Yg(e)?k1(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function hE(n,e,t,r,i,o,s,a){let c=fn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Mm(n,t,u,r,i),Fu(e)&&C1(t,e.index)):e.type&3?(r=_1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function C1(n,e){let t=ii(e,n);t[Y]&16||(t[Y]|=64)}function Dm(n,e,t,r){if(gw()){let i=r===null?null:{"":-1},o=M1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&pE(n,e,t,s,i,a),i&&S1(t,r,i)}t.mergedAttrs=ya(t.mergedAttrs,t.attrs)}function pE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)dg(du(t,e),n,r[l].type);x1(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=uE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=ya(t.mergedAttrs,u.hostAttrs),T1(n,t,e,c,u),I1(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}y1(n,t,o)}function b1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;w1(s)!=a&&s.push(a),s.push(t,r,o)}}function w1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function E1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Fu(t)&&O1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||du(t,e),ti(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Gi(e,n,a,t);if(ti(l,e),s!==null&&N1(e,a-i,l,c,t,s),ei(c)){let u=ii(t.index,e);u[Pn]=Gi(e,n,a,t)}}}function gE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=qP();try{qi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];cg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&D1(c,l)}}finally{qi(-1),cg(s)}}function D1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function M1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(rP(e,s.selectors,!1))if(r||(r=[]),ei(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;bg(n,e,c)}else r.unshift(s),bg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function bg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function S1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function I1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ei(e)&&(t[""]=n)}}function x1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function T1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Bi(i.type,!0)),s=new Wi(o,ei(i),D);n.blueprint[r]=s,t[r]=s,b1(n,e,r,uE(n,t,i.hostVars,ir),i)}function O1(n,e,t){let r=fn(e,n),i=fE(t),o=n[er].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Yu(n,Ku(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function P1(n,e,t,r,i,o){let s=fn(n,e);A1(e[We],s,o,n.value,t,r,i)}function A1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Pu(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function N1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];lE(r,t,c,l,u,d)}}function k1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function mE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function vE(n,e){let t=n.contentQueries;if(t!==null){let r=me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];im(o),a.contentQueries(2,e[s],s)}}}finally{me(r)}}}function Yu(n,e){return n[Ca]?n[tb][On]=e:n[Ca]=e,n[tb]=e,e}function wg(n,e,t){im(0);let r=me(null);try{e(n,t)}finally{me(r)}}function yE(n){return n[ou]??=[]}function _E(n){return n.cleanup??=[]}function CE(n,e){let t=n[Yo],r=t?t.get(yr,null):null;r&&r.handleError(e)}function Mm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];lE(u,l,r,a,c,i)}}function R1(n,e,t){let r=lw(e,n);qA(n[We],r,t)}function F1(n,e){let t=ii(e,n),r=t[re];L1(r,t);let i=t[br];i!==null&&t[iu]===null&&(t[iu]=gm(i,t[Yo])),Sm(r,t,t[Pn])}function L1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Sm(n,e,t){om(e);try{let r=n.viewQuery;r!==null&&wg(1,r,t);let i=n.template;i!==null&&dE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[vr]?.finishViewCreation(n),n.staticContentQueries&&vE(n,e),n.staticViewQueries&&wg(2,n.viewQuery,t);let o=n.components;o!==null&&V1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,sm()}}function V1(n,e){for(let t=0;t<e.length;t++)F1(n,e[t])}function j1(n,e,t,r){let i=me(null);try{let o=e.tView,a=n[Y]&4096?4096:16,c=Ku(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[$i]=l;let u=n[vr];return u!==null&&(c[vr]=u.createEmbeddedView(o)),Sm(o,c,t),c}finally{me(i)}}function vb(n,e){return!e||e.firstChild===null||Bw(n)}function U1(n,e,t,r=!0){let i=e[re];if(QA(i,e,n,t),r){let s=Cg(t,n),a=e[We],c=rE(a,n[Hi]);c!==null&&KA(i,n[An],a,e,c,s)}let o=e[iu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(nr(o)),wr(o)&&B1(o,r);let s=t.type;if(s&8)vu(n,e,t.child,r);else if(s&32){let a=vm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=iE(e,t);if(Array.isArray(a))r.push(...a);else{let c=zi(e[tr]);vu(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function B1(n,e){for(let t=Gt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&vu(r[re],r,i,e)}n[Hi]!==n[br]&&e.push(n[Hi])}function $1(n){return n[un]??H1(n)}function H1(n){let e=bE.pop()??Object.create(q1);return e.lView=n,e}function z1(n){n.lView[un]!==n&&(n.lView=null,bE.push(n))}function W1(n){let e=n[un]??Object.create(G1);return e.lView=n,e}function wE(n){return n.type!==2}function EE(n,e=!0,t=0){let r=n[er],i=r.rendererFactory,o=!1;o||i.begin?.();try{Y1(n,t)}catch(s){throw e&&CE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Y1(n,e){let t=yw();try{rb(!0),Eg(n,e);let r=0;for(;Vu(n);){if(r===K1)throw new M(103,!1);r++,Eg(n,1)}}finally{rb(t)}}function Q1(n,e,t,r){let i=e[Y];if((i&256)===256)return;let o=!1,s=!1;!o&&e[er].inlineEffectRunner?.flush(),om(e);let a=!0,c=null,l=null;o||(wE(n)?(l=$1(e),c=el(l)):g0()===null?(a=!1,l=W1(e),c=el(l)):e[un]&&(jh(e[un]),e[un]=null));try{dw(e),$P(n.bindingStartIndex),t!==null&&dE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&Yl(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Ql(e,g,0,null),Up(e,0)}if(s||Z1(e),DE(e,0),n.contentQueries!==null&&vE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&Yl(e,g)}else{let g=n.contentHooks;g!==null&&Ql(e,g,1),Up(e,1)}u1(n,e);let d=n.components;d!==null&&SE(e,d,0);let m=n.viewQuery;if(m!==null&&wg(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&Yl(e,g)}else{let g=n.viewHooks;g!==null&&Ql(e,g,2),Up(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[jp]){for(let g of e[jp])g();e[jp]=null}o||(e[Y]&=-73)}catch(u){throw o||ju(e),u}finally{l!==null&&(Lh(l,c),a&&z1(l)),sm()}}function DE(n,e){for(let t=Hw(n);t!==null;t=zw(t))for(let r=Gt;r<t.length;r++){let i=t[r];ME(i,e)}}function Z1(n){for(let e=Hw(n);e!==null;e=zw(e)){if(!(e[Y]&au.HasTransplantedViews))continue;let t=e[Qo];for(let r=0;r<t.length;r++){let i=t[r];fw(i)}}}function J1(n,e,t){let r=ii(e,n);ME(r,t)}function ME(n,e){nm(n)&&Eg(n,e)}function Eg(n,e){let r=n[re],i=n[Y],o=n[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vh(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)Q1(r,n,r.template,n[Pn]);else if(i&8192){DE(n,1);let a=r.components;a!==null&&SE(n,a,1)}}function SE(n,e,t){for(let r=0;r<e.length;r++)J1(n,e[r],t)}function Im(n,e){let t=yw()?64:1088;for(n[er].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=zi(n);if(og(n)&&!r)return n;n=r}return null}function tN(){return Qu(pt(),le())}function Qu(n,e){return n.type&4?new eN(e,n,is(n,e)):null}function yb(n,e){return nN(n,e)}function rN(n){let e=Error(`No component factory found for ${Tt(n)}.`);return e[iN]=n,e}function oN(){let n=le(),e=pt(),t=ii(e.index,n);return(Zr(t)?t:n)[We]}function _u(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Zp(i,a);else if(o==2){let c=a,l=e[++s];r=Zp(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function _b(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Jr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Jr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function aN(n){let e=n.toLowerCase();return e==="svg"?xP:e==="math"?TP:null}function cN(n,e){let t=n[re],r=Kt;return n[r]=e,Sa(t,r,2,"#host",null)}function lN(n,e,t,r,i,o,s){let a=i[re];uN(r,n,e,s);let c=null;e!==null&&(c=gm(e,i[Yo]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=Ku(i,fE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&bg(a,n,r.length-1),Yu(i,d),i[n.index]=d}function uN(n,e,t,r){for(let i of n)e.mergedAttrs=ya(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(_u(e,e.mergedAttrs,!0),t!==null&&sE(r,t,e))}function dN(n,e,t,r,i,o){let s=pt(),a=i[re],c=fn(s,i);pE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,m=Gi(i,a,d,s);ti(m,i)}gE(a,i,s),c&&ti(c,i);let l=Gi(i,a,s.directiveStart+s.componentOffset,s);if(n[Pn]=i[Pn]=l,o!==null)for(let u of o)u(l,e);return Cm(a,s,i),l}function fN(n,e,t,r){if(r)tg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=cP(e.selectors[0]);i&&tg(n,t,i),o&&o.length>0&&oE(n,t,o.join(" "))}}function hN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function pN(){let n=pt();Hu(le()[re],n)}function gN(){let n=pt();return OE(n,le())}function Cb(n){return n[su]}function qp(n){return n[su]||(n[su]=[])}function OE(n,e){let t,r=e[n.index];return wr(r)?t=r:(t=mE(r,e,null,n),e[n.index]=t,Yu(e,t)),yN(t,e,n,r),new TE(t,n,e)}function vN(n,e){let t=n[We],r=t.createComment(""),i=fn(e,n),o=rE(t,i);return mu(t,o,r,t1(t,i),!1),r}function CN(n,e,t){return _N(n,e,t)}function bN(n,e,t,r){if(n[Hi])return;let i;t.type&8?i=nr(r):i=vN(e,t),n[Hi]=i}function wN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function EN(n,e){return n.type&11?is(n,e):n.type&4?Qu(n,e):null}function DN(n,e,t,r){return t===-1?EN(e,n):t===-2?MN(n,e,r):Gi(n,n[re],t,e)}function MN(n,e,t){if(t===At)return is(e,n);if(t===Yi)return Qu(e,n);if(t===oi)return OE(e,n)}function PE(n,e,t,r){let i=e[vr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(DN(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Pg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=PE(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Gt;d<u.length;d++){let m=u[d];m[$i]===m[yt]&&Pg(m[re],m,l,r)}if(u[Qo]!==null){let d=u[Qo];for(let m=0;m<d.length;m++){let g=d[m];Pg(g[re],g,l,r)}}}}}return r}function SN(n,e){return n[vr].queries[e].queryList}function AE(n,e,t){let r=new mg((t&4)===4);return m1(n,e,r,r.destroy),(e[vr]??=new xg).queries.push(new Ig(r))-1}function IN(n,e,t){let r=Je();return r.firstCreatePass&&(NE(r,new bu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),AE(r,le(),e)}function xN(n,e,t,r){let i=Je();if(i.firstCreatePass){let o=pt();NE(i,new bu(e,t,r),o.index),ON(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return AE(i,le(),t)}function TN(n){return n.split(",").map(e=>e.trim())}function NE(n,e,t){n.queries===null&&(n.queries=new Tg),n.queries.track(new Og(e,t))}function ON(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Tm(n,e){return n.queries.getByIndex(e)}function PN(n,e){let t=n[re],r=Tm(t,e);return r.crossesNgTemplate?Pg(t,n,e,[]):PE(t,n,r,e)}function eo(n){bb.has(n)||(bb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function AN(n){return typeof n=="function"&&n[hr]!==void 0}function to(n,e){eo("NgSignals");let t=S0(n),r=t[hr];return e?.equal&&(r.equal=e.equal),t.set=i=>Uh(r,i),t.update=i=>I0(r,i),t.asReadonly=NN.bind(t),t}function NN(){let n=this[hr];if(n.readonlyFn===void 0){let e=()=>this();e[hr]=n,n.readonlyFn=e}return n.readonlyFn}function kE(n){return AN(n)&&typeof n.set=="function"}function kN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(VN))}return o}return wu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>jN(o));e.push(c)}),FN(),Promise.all(e).then(()=>{})}function FN(){let n=wu;return wu=new Map,n}function LN(){return wu.size===0}function VN(n){return typeof n=="string"?n:n.text()}function jN(n){RN.delete(n)}function UN(n){return Object.getPrototypeOf(n.prototype).constructor}function hn(n){let e=UN(n.type),t=!0,r=[n];for(;e;){let i;if(ei(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=zl(n.inputs),s.inputTransforms=zl(n.inputTransforms),s.declaredInputs=zl(n.declaredInputs),s.outputs=zl(n.outputs);let a=i.hostBindings;a&&qN(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&HN(n,c),l&&zN(n,l),BN(n,i),xO(n.outputs,i.outputs),ei(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===hn&&(t=!1)}}e=Object.getPrototypeOf(e)}$N(r)}function BN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function $N(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ya(i.hostAttrs,t=ya(t,i.hostAttrs))}}function zl(n){return n===Wo?{}:n===Bt?[]:n}function HN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function zN(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function qN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Om(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function WN(n,e,t){return new Eu(n,e,t,!1)}function Zu(n,e,t=null){return new Ag({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function RE(n){return KN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function GN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function KN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Pm(n,e,t){return n[e]=t}function YN(n,e){return n[e]}function Cr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function QN(n,e,t,r){let i=Cr(n,e,t);return Cr(n,e+1,r)||i}function ZN(n){return(n.flags&32)===32}function JN(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Sa(e,n,4,s||null,a||null);Dm(e,t,u,Zo(l,c)),Hu(e,u);let d=u.tView=Em(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function XN(n,e,t,r,i,o,s,a,c,l){let u=t+Kt,d=e.firstCreatePass?JN(u,e,n,r,i,o,s,a,c):e.data[u];Zi(d,!1);let m=ek(e,n,d,t);Bu()&&Wu(e,n,m,d),ti(m,n);let g=mE(m,n,m,d);return n[u]=g,Yu(n,g),CN(g,d,n),Lu(d)&&bm(e,n,d),c!=null&&wm(n,d,l),d}function N(n,e,t,r,i,o,s,a){let c=le(),l=Je(),u=Zo(l.consts,o);return XN(c,l,n,e,t,r,i,u,s,a),N}function tk(n,e,t,r){return $u(!0),e[We].createComment("")}function Am(n,e){!e?.injector&&Xg(Am);let t=e?.injector??v(Ze);return $A(t)?(eo("NgAfterNextRender"),rk(n,t,e,!0)):ik}function nk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function rk(n,e,t,r){let i=e.get(FE);i.impl??=e.get(Ng);let o=t?.phase??Ho.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Pt):null,a=new kg(i.impl,nk(n,o),r,s);return i.impl.register(a),a}function ss(n,e,t,r){let i=le(),o=Uu();if(Cr(i,o,e)){let s=Je(),a=am();P1(a,i,n,e,t,r)}return ss}function LE(n,e,t,r){return Cr(n,Uu(),t)?e+Pu(t)+r:ir}function ql(n,e){return n<<17|e<<2}function Qi(n){return n>>17&32767}function ok(n){return(n&2)==2}function sk(n,e){return n&131071|e<<17}function Rg(n){return n|2}function ts(n){return(n&131068)>>2}function Wp(n,e){return n&-131069|e<<2}function ak(n){return(n&1)===1}function Fg(n){return n|1}function ck(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Qi(s),c=ts(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Da(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let m=Qi(n[a+1]);n[r+1]=ql(m,a),m!==0&&(n[m+1]=Wp(n[m+1],r)),n[a+1]=sk(n[a+1],r)}else n[r+1]=ql(a,0),a!==0&&(n[a+1]=Wp(n[a+1],r)),a=r;else n[r+1]=ql(c,0),a===0?a=r:n[c+1]=Wp(n[c+1],r),c=r;l&&(n[r+1]=Rg(n[r+1])),wb(n,u,r,!0),wb(n,u,r,!1),lk(e,u,n,r,o),s=ql(a,c),o?e.classBindings=s:e.styleBindings=s}function lk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Da(o,e)>=0&&(t[r+1]=Fg(t[r+1]))}function wb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Qi(i):ts(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];uk(c,e)&&(a=!0,n[s+1]=r?Fg(l):Rg(l)),s=r?Qi(l):ts(l)}a&&(n[t+1]=r?Rg(i):Fg(i))}function uk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Da(n,e)>=0:!1}function dk(n){return n.substring(Tn.key,Tn.keyEnd)}function fk(n){return hk(n),VE(n,jE(n,0,Tn.textEnd))}function VE(n,e){let t=Tn.textEnd;return t===e?-1:(e=Tn.keyEnd=pk(n,Tn.key=e,t),jE(n,e,t))}function hk(n){Tn.key=0,Tn.keyEnd=0,Tn.value=0,Tn.valueEnd=0,Tn.textEnd=n.length}function jE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function pk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=le(),i=Uu();if(Cr(r,i,e)){let o=Je(),s=am();hE(o,s,r,n,e,r[We],t,!1)}return b}function Lg(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Mm(n,t,o[s],s,r)}function Ju(n,e){return mk(n,e,null,!0),Ju}function gk(n,e){for(let t=fk(e);t>=0;t=VE(e,t))Kg(n,dk(e),!0)}function mk(n,e,t,r){let i=le(),o=Je(),s=_w(2);if(o.firstUpdatePass&&BE(o,n,s,r),e!==ir&&Cr(i,s,e)){let a=o.data[Ji()];$E(o,a,i,i[We],n,i[s+1]=Dk(e,t),r,s)}}function vk(n,e,t,r){let i=Je(),o=_w(2);i.firstUpdatePass&&BE(i,null,o,r);let s=le();if(t!==ir&&Cr(s,o,t)){let a=i.data[Ji()];if(HE(a,r)&&!UE(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Zp(c,t||"")),Lg(i,a,s,t,r)}else Ek(i,a,s,s[We],s[o+1],s[o+1]=wk(n,e,t),r,o)}}function UE(n,e){return e>=n.expandoStartIndex}function BE(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ji()],s=UE(n,t);HE(o,r)&&e===null&&!s&&(e=!1),e=yk(i,o,e,r),ck(i,o,e,t,s,r)}}function yk(n,e,t,r){let i=WP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Gp(null,n,e,t,r),t=wa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Gp(i,n,e,t,r),o===null){let c=_k(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Gp(null,n,e,c[1],r),c=wa(c,e.attrs,r),Ck(n,e,r,c))}else o=bk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function _k(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ts(r)!==0)return n[Qi(r)]}function Ck(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Qi(i)]=r}function bk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=wa(r,s,t)}return wa(r,e.attrs,t)}function Gp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=wa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function wa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Kg(n,s,t?!0:e[++o]))}return n===void 0?null:n}function wk(n,e,t){if(t==null||t==="")return Bt;let r=[],i=os(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Ek(n,e,t,r,i,o,s,a){i===ir&&(i=Bt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,y=null,w;u===d?(c+=2,l+=2,m!==g&&(y=d,w=g)):d===null||u!==null&&u<d?(c+=2,y=u):(l+=2,y=d,w=g),y!==null&&$E(n,e,t,r,y,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function $E(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=ak(l)?Eb(c,e,t,i,ts(l),s):void 0;if(!Mu(u)){Mu(o)||ok(l)&&(o=Eb(c,null,t,i,a,s));let d=lw(Ji(),t);c1(r,s,d,i,o)}}function Eb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=t[i+1];m===ir&&(m=d?Bt:void 0);let g=d?Lp(m,r):u===r?m:void 0;if(l&&!Mu(g)&&(g=Lp(c,r)),Mu(g)&&(a=g,s))return a;let y=n[i+1];i=s?Qi(y):ts(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Lp(c,r))}return a}function Mu(n){return n!==void 0}function Dk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Tt(os(n)))),n}function HE(n,e){return(n.flags&(e?8:16))!==0}function zE(n,e,t){let r=le(),i=LE(r,n,e,t);vk(Kg,gk,i,!0)}function Mk(n,e,t,r,i,o){let s=e.consts,a=Zo(s,i),c=Sa(e,n,2,r,a);return Dm(e,t,c,Zo(s,o)),c.attrs!==null&&_u(c,c.attrs,!1),c.mergedAttrs!==null&&_u(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(n,e,t,r){let i=le(),o=Je(),s=Kt+n,a=i[We],c=o.firstCreatePass?Mk(s,o,i,e,t,r):o.data[s],l=Sk(o,i,c,a,e,n);i[s]=l;let u=Lu(c);return Zi(c,!0),sE(a,l,c),!ZN(c)&&Bu()&&Wu(o,i,l,c),kP()===0&&ti(l,i),RP(),u&&(bm(o,i,c),Cm(o,c,i)),r!==null&&wm(i,c),h}function f(){let n=pt();rm()?vw():(n=n.parent,Zi(n,!1));let e=n;VP(e)&&jP(),FP();let t=Je();return t.firstCreatePass&&(Hu(t,n),em(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&XP(e)&&Lg(t,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eA(e)&&Lg(t,e,le(),e.stylesWithoutHost,!1),f}function R(n,e,t,r){return h(n,e,t,r),f(),R}function Ik(n,e,t,r,i){let o=e.consts,s=Zo(o,r),a=Sa(e,n,8,"ng-container",s);s!==null&&_u(a,s,!0);let c=Zo(o,i);return Dm(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function _t(n,e,t){let r=le(),i=Je(),o=n+Kt,s=i.firstCreatePass?Ik(o,i,r,e,t):i.data[o];Zi(s,!0);let a=xk(i,r,s,n);return r[o]=a,Bu()&&Wu(i,r,a,s),ti(a,r),Lu(s)&&(bm(i,r,s),Cm(i,s,r)),t!=null&&wm(r,s),_t}function Ct(){let n=pt(),e=Je();return rm()?vw():(n=n.parent,Zi(n,!1)),e.firstCreatePass&&(Hu(e,n),em(n)&&e.queries.elementEnd(n)),Ct}function Z(){return le()}function Tk(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function pn(n){let e=Pk(n),t=Db(e);if(t)return t;let r=e.split("-")[0];if(t=Db(r),t)return t;if(r==="en")return Ok;throw new M(701,!1)}function Db(n){return n in Kp||(Kp[n]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[n]),Kp[n]}function Pk(n){return n.toLowerCase().replace(/_/g,"-")}function Nk(n){typeof n=="string"&&(Ak=n.toLowerCase().replace(/_/g,"-"))}function P(n,e,t,r){let i=le(),o=Je(),s=pt();return qE(o,i,i[We],s,n,e,r),P}function Rk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ou],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function qE(n,e,t,r,i,o,s){let a=Lu(r),l=n.firstCreatePass&&_E(n),u=e[Pn],d=yE(e),m=!0;if(r.type&3||s){let w=fn(r,e),T=s?s(w):w,j=d.length,oe=s?ue=>s(nr(ue[r.index])):r.index,K=null;if(!s&&a&&(K=Rk(n,e,i,r.index)),K!==null){let ue=K.__ngLastListenerFn__||K;ue.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,m=!1}else{o=Sb(r,e,u,o),kk(w,i,o);let ue=t.listen(T,i,o);d.push(o,ue),l&&l.push(i,oe,j,j+1)}}else o=Sb(r,e,u,o);let g=r.outputs,y;if(m&&g!==null&&(y=g[i])){let w=y.length;if(w)for(let T=0;T<w;T+=2){let j=y[T],oe=y[T+1],ze=e[j][oe].subscribe(o),we=d.length;d.push(o,ze),l&&l.push(i,r.index,we,-(we+1))}}}function Mb(n,e,t,r){let i=me(null);try{return Zn(6,e,t),t(r)!==!1}catch(o){return CE(n,o),!1}finally{Zn(7,e,t),me(i)}}function Sb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?ii(n.index,e):e;Im(s,5);let a=Mb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Mb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function O(n=1){return KP(n)}function WE(n,e,t,r){xN(n,e,t,r)}function Nm(n,e,t){IN(n,e,t)}function Ia(n){let e=le(),t=Je(),r=Cw();im(r+1);let i=Tm(t,r);if(n.dirty&&OP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=PN(e,r);n.reset(o,wA),n.notifyOnChanges()}return!0}return!1}function xa(){return SN(le(),Cw())}function Fk(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function bt(n){let e=BP();return tm(e,Kt+n)}function _(n,e=""){let t=le(),r=Je(),i=n+Kt,o=r.firstCreatePass?Sa(r,i,1,e,null):r.data[i],s=Lk(r,t,o,e,n);t[i]=s,Bu()&&Wu(r,t,s,o),Zi(o,!1)}function gt(n){return Ie("",n,""),gt}function Ie(n,e,t){let r=le(),i=LE(r,n,e,t);return i!==ir&&R1(r,Ji(),i),Ie}function gn(n,e,t){kE(e)&&(e=e());let r=le(),i=Uu();if(Cr(r,i,e)){let o=Je(),s=am();hE(o,s,r,n,e,r[We],t,!1)}return gn}function kn(n,e){let t=kE(n);return t&&n.set(e),t}function mn(n,e){let t=le(),r=Je(),i=pt();return qE(r,t,t[We],i,n,e),mn}function Vk(n,e,t){let r=Je();if(r.firstCreatePass){let i=ei(n);Vg(t,r.data,r.blueprint,i,!0),Vg(e,r.data,r.blueprint,i,!1)}}function Vg(n,e,t,r,i){if(n=xt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Vg(n[o],e,t,r,i);else{let o=Je(),s=le(),a=pt(),c=Ko(n)?n:xt(n.provide),l=tw(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(Ko(n)||!n.multi){let g=new Wi(l,i,D),y=Qp(c,e,i?u:u+m,d);y===-1?(dg(du(a,s),o,c),Yp(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[y]=g,s[y]=g)}else{let g=Qp(c,e,u+m,d),y=Qp(c,e,u,u+m),w=g>=0&&t[g],T=y>=0&&t[y];if(i&&!T||!i&&!w){dg(du(a,s),o,c);let j=Bk(i?Uk:jk,t.length,i,r,l);!i&&T&&(t[y].providerFactory=j),Yp(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=GE(t[i?y:g],l,!i&&r);Yp(o,n,g>-1?g:y,j)}!i&&r&&T&&t[y].componentProviders++}}}function Yp(n,e,t,r){let i=Ko(e),o=mP(e);if(i||o){let c=(o?xt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function GE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Qp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function jk(n,e,t,r){return jg(this.multi,[])}function Uk(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Gi(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),jg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],jg(i,o);return o}function jg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Bk(n,e,t,r,i){let o=new Wi(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,GE(o,i,r&&!t),o}function at(n,e=[]){return t=>{t.providersResolver=(r,i)=>Vk(r,i?i(n):n,e)}}function KE(n){eo("NgStandalone"),n.getStandaloneInjector=e=>e.get($k).getOrCreateStandaloneInjector(n)}function YE(n,e,t){let r=n.\u0275cmp;r.directiveDefs=ru(e,!1),r.pipeDefs=ru(t,!0)}function as(n,e,t){let r=Ma()+n,i=le();return i[r]===ir?Pm(i,r,t?e.call(t):e()):YN(i,r)}function cs(n,e,t,r){return JE(le(),Ma(),n,e,t,r)}function QE(n,e,t,r,i){return XE(le(),Ma(),n,e,t,r,i)}function ZE(n,e){let t=n[e];return t===ir?void 0:t}function JE(n,e,t,r,i,o){let s=e+t;return Cr(n,s,i)?Pm(n,s+1,o?r.call(o,i):r(i)):ZE(n,s+1)}function XE(n,e,t,r,i,o,s){let a=e+t;return QN(n,a,i,o)?Pm(n,a+2,s?r.call(s,i,o):r(i,o)):ZE(n,a+2)}function kt(n,e){let t=Je(),r,i=n+Kt;t.firstCreatePass?(r=Hk(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Bi(r.type,!0)),s,a=Ut(D);try{let c=uu(!1),l=o();return uu(c),Fk(t,le(),i,l),l}finally{Ut(a)}}function Hk(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function $t(n,e,t){let r=n+Kt,i=le(),o=tm(i,r);return tD(i,r)?JE(i,Ma(),e,o.transform,t,o):o.transform(t)}function eD(n,e,t,r){let i=n+Kt,o=le(),s=tm(o,i);return tD(o,i)?XE(o,Ma(),e,s.transform,t,r,s):s.transform(t,r)}function tD(n,e){return n[re].data[e].pure}function or(n,e){return Qu(n,e)}function zk(n){Wl!==null&&(n.defaultEncapsulation!==Wl.defaultEncapsulation||n.preserveWhitespaces!==Wl.preserveWhitespaces)||(Wl=n)}function qk(n){Rm=n}function si(n){return!!n&&typeof n.then=="function"}function Fm(n){return!!n&&typeof n.subscribe=="function"}function Wk(){M0(()=>{throw new M(600,!1)})}function Gk(n){return n.isBoundToModule}function Yk(n,e,t){try{let r=t();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function rD(n,e){return Array.isArray(e)?e.reduce(rD,n):E(E({},n),e)}function Jl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qk(n,e,t,r){if(!t&&!Vu(n))return;EE(n,e,t&&!r?0:1)}function Jk(n,e,t){let r=new Du(t);return Promise.resolve(r)}function Ib(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function eR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(U(E({},iD()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:Go,multi:!0,useFactory:()=>{let r=v(Xk,{optional:!0});return()=>r.initialize()}},{provide:Go,multi:!0,useFactory:()=>{let r=v(tR);return()=>{r.initialize()}}},e===!0?{provide:IE,useValue:!0}:[],{provide:xE,useValue:t??Vw}]}function iD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function rR(){return typeof $localize<"u"&&$localize.locale||Su}function Gl(n){return!n.moduleRef}function iR(n){let e=Gl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{Gl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(yr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Gl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Iu);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Iu);s.add(o),n.moduleRef.onDestroy(()=>{Jl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Yk(r,t,()=>{let o=e.get(nD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(id,Su);if(Nk(s||Su),Gl(n)){let a=e.get(vn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return oR(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function oR(n,e){let t=n.injector.get(vn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new M(-403,!1);e.push(n)}function sR(n){if(ma&&!ma.get(sD,!1))throw new M(400,!1);Wk(),ma=n;let e=n.get(oD);return lR(n),e}function Lm(n,e,t=[]){let r=`Platform: ${e}`,i=new k(r);return(o=[])=>{let s=aD();if(!s||s.injector.get(sD,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):sR(aR(a,r))}return cR(i)}}function aR(n=[],e){return Ze.create({name:e,providers:[{provide:ku,useValue:"platform"},{provide:Iu,useValue:new Set([()=>ma=null])},...n]})}function cR(n){let e=aD();if(!e)throw new M(401,!1);return e}function aD(){return ma?.get(oD)??null}function lR(n){n.get(fm,null)?.forEach(t=>t())}function uR(n){return dR(pt(),le(),(n&16)===16)}function dR(n,e,t){if(Fu(n)&&!t){let r=ii(n.index,e);return new Ki(r,r)}else if(n.type&175){let r=e[tr];return new Ki(r,e)}return null}function xb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Tb(){return new Vm([new Bg])}function ai(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function no(n,e){eo("NgSignals");let t=w0(n);return e?.equal&&(t[hr].equal=e.equal),t}function Qt(n){let e=me(null);try{return n()}finally{me(e)}}function uD(n){let e=Xr(n);if(!e)return null;let t=new es(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ob,M,$l,It,TO,kb,YC,Rb,PO,k,AO,NO,kO,RO,Xl,ga,QC,ae,Jp,VO,va,Xp,eu,jO,UO,BO,ZC,zo,Nu,Wg,Wo,Bt,Go,Bb,$b,nu,Hb,Xn,Jr,qb,hP,ku,Kl,vP,Vp,Ot,_a,br,re,Y,yt,On,An,iu,ou,Pn,Yo,er,We,Ca,tb,rs,tr,$i,Bo,vr,Ru,rw,Qr,jp,un,Kt,iw,Hi,su,Qo,Gt,au,sg,aw,nb,Zn,xP,TP,ce,pw,Mw,Sw,qo,Wi,Bp,lg,ug,nA,Tw,Ow,rA,Jn,Ui,Ze,uA,dA,Vw,Pt,hg,Er,pg,se,um,hu,hA,ye,pA,pu,yr,CA,At,mg,$w,DA,db,yg,zu,xA,fm,Yt,hm,pm,TA,OA,PA,Gw,AA,Hl,gu,RA,qu,VA,jA,UA,_r,HA,i1,pb,ir,g1,bE,q1,G1,K1,Ki,Yi,X1,eN,KG,nN,Jo,xm,IE,xE,Dg,yu,iN,Mg,Xo,ni,Dr,sN,Cu,es,Sg,oi,mN,TE,yN,_N,Ig,xg,bu,Tg,Og,bb,wu,RN,ri,ba,Eu,Du,Ag,ek,Ho,FE,Ng,kg,ik,Tn,Sk,xk,ji,Ok,Kp,Ye,Su,Ak,kk,Lk,$k,Wl,Xu,km,Ta,ed,td,Rm,ls,nD,nd,Kk,vn,Ug,rd,Zk,Xk,tR,nR,id,Iu,oD,ma,sD,Mr,Bg,fR,$g,Hg,zg,xu,Vm,cD,lD,x=p(()=>{"use strict";T0();De();Kr();Ob="https://g.co/ng/security#xss",M=class extends Error{constructor(e,t){super(Tu(e,t)),this.code=e}};$l="__parameters__";It=globalThis;TO=Pe({__forward_ref__:Pe});kb=Pe({\u0275prov:Pe}),YC=Pe({\u0275inj:Pe}),Rb=Pe({ngInjectableDef:Pe}),PO=Pe({ngInjectorDef:Pe}),k=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};AO=Pe({\u0275cmp:Pe}),NO=Pe({\u0275dir:Pe}),kO=Pe({\u0275pipe:Pe}),RO=Pe({\u0275mod:Pe}),Xl=Pe({\u0275fac:Pe}),ga=Pe({__NG_ELEMENT_ID__:Pe}),QC=Pe({__NG_ENV_ID__:Pe});ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{});VO={},va=VO,Xp="__NG_DI_FLAG__",eu="ngTempTokenPath",jO="ngTokenPath",UO=/\n/gm,BO="\u0275",ZC="__source";Nu=jb(Pb("Optional"),8),Wg=jb(Pb("SkipSelf"),4);Wo={},Bt=[],Go=new k(""),Bb=new k("",-1),$b=new k(""),nu=class{get(e,t=va){if(t===va){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return t}},Hb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Hb||{}),Xn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Xn||{}),Jr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Jr||{});qb="ng-template";hP=Pe({provide:String,useValue:Pe});ku=new k(""),Kl={},vP={};Ot=class{},_a=class extends Ot{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ig(e,s=>this.processProvider(s)),this.records.set(Bb,Uo(void 0,this)),i.has("environment")&&this.records.set(Ot,Uo(void 0,this));let o=this.records.get(ku);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($b,Bt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Yr(this),r=Ut(void 0),i;try{return e()}finally{Yr(t),Ut(r)}}get(e,t=va,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(QC))return e[QC](this);r=Au(r);let i,o=Yr(this),s=Ut(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=wP(e)&&Ou(e);l&&this.injectableDefInScope(l)?c=Uo(rg(e),Kl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?Jg():this.parent;return t=r&ae.Optional&&t===va?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[eu]=a[eu]||[]).unshift(Tt(e)),o)throw a;return qO(a,e,"R3InjectorError",this.source)}else throw a}finally{Ut(s),Yr(o)}}resolveInjectorInitializers(){let e=me(null),t=Yr(this),r=Ut(void 0),i;try{let o=this.get(Go,Bt,ae.Self);for(let s of o)s()}finally{Yr(t),Ut(r),me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=xt(e);let t=Ko(e)?e:xt(e&&e.provide),r=_P(e);if(!Ko(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Uo(void 0,Kl,!0),i.factory=()=>eg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=me(null);try{return t.value===Kl&&(t.value=vP,t.value=t.factory()),typeof t.value=="object"&&t.value&&bP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=xt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};br=0,re=1,Y=2,yt=3,On=4,An=5,iu=6,ou=7,Pn=8,Yo=9,er=10,We=11,Ca=12,tb=13,rs=14,tr=15,$i=16,Bo=17,vr=18,Ru=19,rw=20,Qr=21,jp=22,un=23,Kt=25,iw=1,Hi=7,su=8,Qo=9,Gt=10,au=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(au||{});sg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};Nn.ngInherit=!0;aw="__ngSimpleChanges__";nb=null,Zn=function(n,e,t){nb?.(n,e,t)},xP="svg",TP="math";ce={lFrame:Ew(null),bindingsEnabled:!0,skipHydrationRootTNode:null},pw=!1;Mw=Dw;Sw=!0;qo=-1,Wi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};Bp={},lg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Au(r);let i=this.injector.get(e,Bp,r);return i!==Bp||t===Bp?i:this.parentInjector.get(e,t,r)}};ug=!0;nA=256,Tw=nA-1,Ow=5,rA=0,Jn={};Ui=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return kw(this._tNode,this._lView,e,Au(r),t)}};Ze=class n{static{this.THROW_IF_NOT_FOUND=va}static{this.NULL=new nu}static create(e,t){if(Array.isArray(e))return ab({name:""},t,e,"");{let r=e.name??"";return ab({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=S({token:n,providedIn:"any",factory:()=>A(Bb)})}static{this.__NG_ELEMENT_ID__=-1}};uA=new k("");uA.__NG_ELEMENT_ID__=n=>{let e=pt();if(e===null)throw new M(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new M(204,!1)};dA="ngOriginalError";Vw=!0,Pt=(()=>{class n{static{this.__NG_ELEMENT_ID__=fA}static{this.__NG_ENV_ID__=t=>t}}return n})(),hg=class extends Pt{constructor(e){super(),this._lView=e}onDestroy(e){return hw(this._lView,e),()=>NP(this._lView,e)}};Er=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}}return n})(),pg=class extends he{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,nw()&&(this.destroyRef=v(Pt,{optional:!0})??void 0,this.pendingTasks=v(Er,{optional:!0})??void 0)}emit(e){let t=me(null);try{super.next(e)}finally{me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=pg;um="isAngularZone",hu=um+"_ID",hA=0,ye=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Vw}=e;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,mA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(um)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pA,fu,fu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},pA={};pu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};yr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Hp(e);for(;t&&Hp(t);)t=Hp(t);return t||null}},CA=new k("",{providedIn:"root",factory:()=>{let n=v(ye),e=v(yr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});At=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=bA}}return n})();mg=class n{get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=EA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=KO(e);(this._changesDetected=!GO(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};$w=new Map,DA=0;db="__ngContext__";zu=new k("",{providedIn:"root",factory:()=>xA}),xA="ng",fm=new k(""),Yt=new k("",{providedIn:"platform",factory:()=>"unknown"}),hm=new k(""),pm=new k("",{providedIn:"root",factory:()=>IA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),TA="h",OA="b",PA=()=>null;Gw=!1,AA=new k("",{providedIn:"root",factory:()=>Gw});gu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ob})`}};RA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;qu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qu||{});VA=/^>|^->|<!--|-->|--!>|<!-$/g,jA=/(<|>)/g,UA="\u200B$1\u200B";_r=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(_r||{});i1=r1;ir={};g1=()=>null;bE=[];q1=U(E({},ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ju(n.lView)},consumerOnSignalRead(){this.lView[un]=this}});G1=U(E({},ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=zi(n.lView);for(;e&&!wE(e[re]);)e=zi(e);e&&fw(e)},consumerOnSignalRead(){this.lView[un]=this}});K1=100;Ki=class{get rootNodes(){let e=this._lView,t=e[re];return vu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(e){this._lView[Pn]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(wr(e)){let t=e[su],r=t?t.indexOf(this):-1;r>-1&&(_g(e,r),tu(t,r))}this._attachedToViewContainer=!1}tE(this._lView[re],this._lView)}onDestroy(e){hw(this._lView,e)}markForCheck(){Im(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){ag(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,EE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=og(this._lView),t=this._lView[$i];t!==null&&!e&&ym(t,this._lView),Xw(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e;let t=og(this._lView),r=this._lView[$i];r!==null&&!t&&eE(r,this._lView),ag(this._lView)}},Yi=(()=>{class n{static{this.__NG_ELEMENT_ID__=tN}}return n})(),X1=Yi,eN=class extends X1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=j1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ki(i)}};KG=new RegExp(`^(\\d+)*(${OA}|${TA})*(.*)`),nN=()=>null;Jo=class{},xm=new k("",{providedIn:"root",factory:()=>!1}),IE=new k(""),xE=new k(""),Dg=class{},yu=class{};iN="ngComponent",Mg=class{resolveComponentFactory(e){throw rN(e)}},Xo=class{static{this.NULL=new Mg}},ni=class{},Dr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>oN()}}return n})();sN=(()=>{class n{static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>null})}}return n})();Cu=class extends Xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Xr(e);return new es(t,this.ngModule)}};es=class extends yu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=_b(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return _b(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=aP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof Ot?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new lg(e,s):e,c=a.get(ni,null);if(c===null)throw new M(407,!1);let l=a.get(sN,null),u=a.get(Jo,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?h1(m,r,this.componentDef.encapsulation,a):Jw(m,g,aN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let T=null;y!==null&&(T=gm(y,a,!0));let j=Em(0,null,null,1,0,null,null,null,null,null,null),oe=Ku(null,j,null,w,null,null,d,m,a,null,T);om(oe);let K,ue,ze=null;try{let we=this.componentDef,Re,rt=null;we.findHostDirectiveDefs?(Re=[],rt=new Map,we.findHostDirectiveDefs(we,Re,rt),Re.push(we)):Re=[we];let fr=cN(oe,y);ze=lN(fr,y,we,Re,oe,d,m),ue=uw(j,Kt),y&&fN(m,we,y,r),t!==void 0&&hN(ue,this.ngContentSelectors,t),K=dN(ze,we,Re,rt,oe,[pN]),Sm(j,oe,null)}catch(we){throw ze!==null&&vg(ze),vg(oe),we}finally{sm()}return new Sg(this.componentType,K,is(ue,oe),oe,ue)}finally{me(o)}}},Sg=class extends Dg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ki(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Mm(o[re],o,i,e,t),this.previousInputValues.set(e,t);let s=ii(this._tNode.index,o);Im(s,1)}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};oi=(()=>{class n{static{this.__NG_ELEMENT_ID__=gN}}return n})();mN=oi,TE=class extends mN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return is(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=cm(this._hostTNode,this._hostLView);if(xw(e)){let t=lu(e,this._hostLView),r=cu(e),i=t[re].data[r+8];return new Ui(i,t)}else return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Cb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=yb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,vb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!DP(e),a;if(s)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new es(Xr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Ot,null);w&&(o=w)}let u=Xr(c.componentType??{}),d=yb(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,vb(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(PP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[yt],l=new TE(c,c[An],c[yt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return U1(s,i,o,r),e.attachToViewContainerRef(),Ub(qp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Cb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=_g(this._lContainer,t);r&&(tu(qp(this._lContainer),t),tE(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=_g(this._lContainer,t);return r&&tu(qp(this._lContainer),t)!=null?new Ki(r):null}_adjustIndex(e,t=0){return e??this.length+t}};yN=bN,_N=()=>!1;Ig=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},xg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Tm(e,t).matches!==null&&this.queries[t].setDirty()}},bu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=TN(e):this.predicate=e}},Tg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Og=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,wN(t,o)),this.matchTNodeWithReadOption(e,t,Zl(t,e,o,!1,!1))}else r===Yi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===oi||i===Yi&&t.type&4)this.addMatch(t.index,-2);else{let o=Zl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};bb=new Set;wu=new Map,RN=new Set;ri=class{},ba=class{},Eu=class extends ri{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cu(this);let o=Yb(e);this._bootstrapComponents=Zw(o.bootstrap),this._r3Injector=Lw(e,t,[{provide:ri,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Du=class extends ba{constructor(e){super(),this.moduleType=e}create(e){return new Eu(this.moduleType,e,[])}};Ag=class extends ri{constructor(e){super(),this.componentFactoryResolver=new Cu(this),this.instance=null;let t=new _a([...e.providers,{provide:ri,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],e.parent||Jg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};ek=tk;Ho=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ho||{}),FE=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Ng=class n{constructor(){this.ngZone=v(ye),this.scheduler=v(Jo),this.errorHandler=v(yr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ho.EarlyRead,Ho.Write,Ho.MixedReadWrite,Ho.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}},kg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};ik={destroy(){}};Tn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};Sk=(n,e,t,r,i,o)=>($u(!0),Jw(r,i,YP()));xk=(n,e,t,r)=>($u(!0),WA(e[We],""));ji=void 0;Ok=["en",[["a","p"],["AM","PM"],ji],[["AM","PM"],ji,ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ji,"{1} 'at' {0}",ji],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Tk],Kp={};Ye=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ye||{});Su="en-US",Ak=Su;kk=(n,e,t)=>{};Lk=(n,e,t,r,i)=>($u(!0),zA(e[We],r));$k=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Jb(!1,t.type),i=r.length>0?Zu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=S({token:n,providedIn:"environment",factory:()=>new n(A(Ot))})}}return n})();Wl=null;Xu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),km=new k(""),Ta=new k(""),ed=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Rm||(qk(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(A(ye),A(td),A(Ta))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),td=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Rm?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();ls=new k(""),nD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=v(ls,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(si(o))t.push(o);else if(Fm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nd=new k("");Kk=10;vn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(CA),this.afterRenderManager=v(FE),this.zonelessEnabled=v(xm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new he,this.afterTick=new he,this.componentTypes=[],this.components=[],this.isStable=v(Er).hasPendingTasks.pipe(L(t=>!t)),this._injector=v(Ot)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof yu;if(!this._injector.get(nD).done){let m=!i&&Kb(t),g=!1;throw new M(405,g)}let s;i?s=t:s=this._injector.get(Xo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=Gk(s)?void 0:this._injector.get(ri),c=r||s.selector,l=s.create(Ze.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(km,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Jl(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);let t=me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,me(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ni,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Kk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Qk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Vu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Jl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(nd,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Jl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Ug=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},rd=(()=>{class n{compileModuleSync(t){return new Du(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Yb(t),o=Zw(i.declarations).reduce((s,a)=>{let c=Xr(a);return c&&s.push(new es(c)),s},[]);return new Ug(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zk=new k("");Xk=(()=>{class n{constructor(){this.zone=v(ye),this.changeDetectionScheduler=v(Jo),this.applicationRef=v(vn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();tR=(()=>{class n{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=v(ye),this.pendingTasks=v(Er)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nR=(()=>{class n{constructor(){this.appRef=v(vn),this.taskService=v(Er),this.ngZone=v(ye),this.zonelessEnabled=v(xm),this.disableScheduling=v(IE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(xE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cb:jw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();id=new k("",{providedIn:"root",factory:()=>v(id,ae.Optional|ae.SkipSelf)||rR()}),Iu=new k("");oD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>_A(r?.ngZone,U(E({},iD({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[eR({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Jo,useExisting:nR}],c=WN(t.moduleType,this.injector,a);return iR({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=rD({},r);return Jk(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Iu,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(A(Ze))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ma=null,sD=new k("");Mr=(()=>{class n{static{this.__NG_ELEMENT_ID__=uR}}return n})();Bg=class{constructor(){}supports(e){return RE(e)}create(e){return new $g(e)}},fR=(n,e)=>e,$g=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fR}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<xb(r,i,o)?t:r,a=xb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,y=g+m;u<=y&&y<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!RE(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,GN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Hg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new xu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Hg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},xu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new zg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};Vm=(()=>{class n{static{this.\u0275prov=S({token:n,providedIn:"root",factory:Tb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Tb()),deps:[[n,new Wg,new Nu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new M(901,!1)}}return n})(),cD=Lm(null,"core",[]),lD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(A(vn))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})()});function sr(){return vD}function yD(n){vD??=n}function Zm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function dD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ir(n){return n&&n[0]!=="?"?"?"+n:n}function gR(){return new ds(A(Tr))}function mR(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function fD(n){return n.replace(/\/index.html$/,"")}function vR(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function yR(n){return pn(n)[Ye.LocaleId]}function _R(n,e,t){let r=pn(n),i=[r[Ye.DayPeriodsFormat],r[Ye.DayPeriodsStandalone]],o=yn(i,e);return yn(o,t)}function CR(n,e,t){let r=pn(n),i=[r[Ye.DaysFormat],r[Ye.DaysStandalone]],o=yn(i,e);return yn(o,t)}function bR(n,e,t){let r=pn(n),i=[r[Ye.MonthsFormat],r[Ye.MonthsStandalone]],o=yn(i,e);return yn(o,t)}function wR(n,e){let r=pn(n)[Ye.Eras];return yn(r,e)}function od(n,e){let t=pn(n);return yn(t[Ye.DateFormat],e)}function sd(n,e){let t=pn(n);return yn(t[Ye.TimeFormat],e)}function ad(n,e){let r=pn(n)[Ye.DateTimeFormat];return yn(r,e)}function gd(n,e){let t=pn(n),r=t[Ye.NumberSymbols][e];if(typeof r>"u"){if(e===ci.CurrencyDecimal)return t[Ye.NumberSymbols][ci.Decimal];if(e===ci.CurrencyGroup)return t[Ye.NumberSymbols][ci.Group]}return r}function wD(n){if(!n[Ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ER(n){let e=pn(n);return wD(e),(e[Ye.ExtraData][2]||[]).map(r=>typeof r=="string"?jm(r):[jm(r[0]),jm(r[1])])}function DR(n,e,t){let r=pn(n);wD(r);let i=[r[Ye.ExtraData][0],r[Ye.ExtraData][1]],o=yn(i,e)||[];return yn(o,t)||[]}function yn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function jm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function IR(n,e,t,r){let i=FR(n);e=Sr(t,e)||e;let s=[],a;for(;e;)if(a=SR.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=DD(r,c),i=RR(i,r,!0));let l="";return s.forEach(u=>{let d=NR(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function pd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Sr(n,e){let t=yR(n);if(cd[t]??={},cd[t][e])return cd[t][e];let r="";switch(e){case"shortDate":r=od(n,Zt.Short);break;case"mediumDate":r=od(n,Zt.Medium);break;case"longDate":r=od(n,Zt.Long);break;case"fullDate":r=od(n,Zt.Full);break;case"shortTime":r=sd(n,Zt.Short);break;case"mediumTime":r=sd(n,Zt.Medium);break;case"longTime":r=sd(n,Zt.Long);break;case"fullTime":r=sd(n,Zt.Full);break;case"short":let i=Sr(n,"shortTime"),o=Sr(n,"shortDate");r=ld(ad(n,Zt.Short),[i,o]);break;case"medium":let s=Sr(n,"mediumTime"),a=Sr(n,"mediumDate");r=ld(ad(n,Zt.Medium),[s,a]);break;case"long":let c=Sr(n,"longTime"),l=Sr(n,"longDate");r=ld(ad(n,Zt.Long),[c,l]);break;case"full":let u=Sr(n,"fullTime"),d=Sr(n,"fullDate");r=ld(ad(n,Zt.Full),[u,d]);break}return r&&(cd[t][e]=r),r}function ld(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Rn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function xR(n,e){return Rn(n,3).substring(0,e)}function Xe(n,e,t=0,r=!1,i=!1){return function(o,s){let a=TR(n,o);if((t>0||a>-t)&&(a+=t),n===be.Hours)a===0&&t===-12&&(a=12);else if(n===be.FractionalSeconds)return xR(a,e);let c=gd(s,ci.MinusSign);return Rn(a,e,c,r,i)}}function TR(n,e){switch(n){case be.FullYear:return e.getFullYear();case be.Month:return e.getMonth();case be.Date:return e.getDate();case be.Hours:return e.getHours();case be.Minutes:return e.getMinutes();case be.Seconds:return e.getSeconds();case be.FractionalSeconds:return e.getMilliseconds();case be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ne(n,e,t=Rt.Format,r=!1){return function(i,o){return OR(i,o,n,e,t,r)}}function OR(n,e,t,r,i,o){switch(t){case Ce.Months:return bR(e,i,r)[n.getMonth()];case Ce.Days:return CR(e,i,r)[n.getDay()];case Ce.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=ER(e),u=DR(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,y]=m,w=s>=g.hours&&a>=g.minutes,T=s<y.hours||s===y.hours&&a<y.minutes;if(g.hours<y.hours){if(w&&T)return!0}else if(w||T)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return _R(e,i,r)[s<12?0:1];case Ce.Eras:return wR(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function ud(n){return function(e,t,r){let i=-1*r,o=gd(t,ci.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case xr.Short:return(i>=0?"+":"")+Rn(s,2,o)+Rn(Math.abs(i%60),2,o);case xr.ShortGMT:return"GMT"+(i>=0?"+":"")+Rn(s,1,o);case xr.Long:return"GMT"+(i>=0?"+":"")+Rn(s,2,o)+":"+Rn(Math.abs(i%60),2,o);case xr.Extended:return r===0?"Z":(i>=0?"+":"")+Rn(s,2,o)+":"+Rn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function AR(n){let e=pd(n,PR,1).getDay();return pd(n,0,1+(e<=fd?fd:fd+7)-e)}function ED(n){let e=n.getDay(),t=e===0?-3:fd-e;return pd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Um(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ED(t),s=AR(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Rn(i,n,gd(r,ci.MinusSign))}}function dd(n,e=!1){return function(t,r){let o=ED(t).getFullYear();return Rn(o,n,gd(r,ci.MinusSign),e)}}function NR(n){if(Bm[n])return Bm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ne(Ce.Eras,Ae.Abbreviated);break;case"GGGG":e=Ne(Ce.Eras,Ae.Wide);break;case"GGGGG":e=Ne(Ce.Eras,Ae.Narrow);break;case"y":e=Xe(be.FullYear,1,0,!1,!0);break;case"yy":e=Xe(be.FullYear,2,0,!0,!0);break;case"yyy":e=Xe(be.FullYear,3,0,!1,!0);break;case"yyyy":e=Xe(be.FullYear,4,0,!1,!0);break;case"Y":e=dd(1);break;case"YY":e=dd(2,!0);break;case"YYY":e=dd(3);break;case"YYYY":e=dd(4);break;case"M":case"L":e=Xe(be.Month,1,1);break;case"MM":case"LL":e=Xe(be.Month,2,1);break;case"MMM":e=Ne(Ce.Months,Ae.Abbreviated);break;case"MMMM":e=Ne(Ce.Months,Ae.Wide);break;case"MMMMM":e=Ne(Ce.Months,Ae.Narrow);break;case"LLL":e=Ne(Ce.Months,Ae.Abbreviated,Rt.Standalone);break;case"LLLL":e=Ne(Ce.Months,Ae.Wide,Rt.Standalone);break;case"LLLLL":e=Ne(Ce.Months,Ae.Narrow,Rt.Standalone);break;case"w":e=Um(1);break;case"ww":e=Um(2);break;case"W":e=Um(1,!0);break;case"d":e=Xe(be.Date,1);break;case"dd":e=Xe(be.Date,2);break;case"c":case"cc":e=Xe(be.Day,1);break;case"ccc":e=Ne(Ce.Days,Ae.Abbreviated,Rt.Standalone);break;case"cccc":e=Ne(Ce.Days,Ae.Wide,Rt.Standalone);break;case"ccccc":e=Ne(Ce.Days,Ae.Narrow,Rt.Standalone);break;case"cccccc":e=Ne(Ce.Days,Ae.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(Ce.Days,Ae.Abbreviated);break;case"EEEE":e=Ne(Ce.Days,Ae.Wide);break;case"EEEEE":e=Ne(Ce.Days,Ae.Narrow);break;case"EEEEEE":e=Ne(Ce.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Ne(Ce.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Ne(Ce.DayPeriods,Ae.Wide);break;case"aaaaa":e=Ne(Ce.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Ne(Ce.DayPeriods,Ae.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Ne(Ce.DayPeriods,Ae.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Ne(Ce.DayPeriods,Ae.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(Ce.DayPeriods,Ae.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Ne(Ce.DayPeriods,Ae.Wide,Rt.Format,!0);break;case"BBBBB":e=Ne(Ce.DayPeriods,Ae.Narrow,Rt.Format,!0);break;case"h":e=Xe(be.Hours,1,-12);break;case"hh":e=Xe(be.Hours,2,-12);break;case"H":e=Xe(be.Hours,1);break;case"HH":e=Xe(be.Hours,2);break;case"m":e=Xe(be.Minutes,1);break;case"mm":e=Xe(be.Minutes,2);break;case"s":e=Xe(be.Seconds,1);break;case"ss":e=Xe(be.Seconds,2);break;case"S":e=Xe(be.FractionalSeconds,1);break;case"SS":e=Xe(be.FractionalSeconds,2);break;case"SSS":e=Xe(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ud(xr.Short);break;case"ZZZZZ":e=ud(xr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ud(xr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ud(xr.Long);break;default:return null}return Bm[n]=e,e}function DD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function kR(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function RR(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=DD(e,i);return kR(n,r*(o-i))}function FR(n){if(hD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return pd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(MR))return LR(r)}let e=new Date(n);if(!hD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function LR(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function hD(n){return n instanceof Date&&!isNaN(n.valueOf())}function md(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function gD(n,e){n.context.$implicit=e.item}function mD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Tt(e)}'.`)}function MD(n,e){return new M(2100,!1)}function vd(n){return n===Xm}function yd(n){return n===HR}function zR(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var vD,hd,ct,Qm,_D,pR,Tr,CD,Jm,bD,ds,Rt,Ae,Zt,ci,MR,cd,SR,xr,be,Ce,PR,fd,Bm,$m,pD,fs,Hm,hs,Me,zm,qm,Wm,VR,jR,Ht,UR,BR,$R,ps,SD,Xm,HR,ID,Gm,Km,us,xe=p(()=>{"use strict";x();x();vD=null;hd=class{},ct=new k(""),Qm=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>v(pR),providedIn:"platform"})}}return n})(),_D=new k(""),pR=(()=>{class n extends Qm{constructor(){super(),this._doc=v(ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sr().getBaseHref(this._doc)}onPopState(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Tr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>v(Jm),providedIn:"root"})}}return n})(),CD=new k(""),Jm=(()=>{class n extends Tr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Zm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Qm),A(CD,8))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bD=(()=>{class n extends Tr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Zm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Qm),A(CD,8))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),ds=(()=>{class n{constructor(t){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=vR(dD(fD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ir(r))}normalize(t){return n.stripTrailingSlash(mR(this._basePath,fD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ir}static{this.joinWithSlash=Zm}static{this.stripTrailingSlash=dD}static{this.\u0275fac=function(r){return new(r||n)(A(Tr))}}static{this.\u0275prov=S({token:n,factory:()=>gR(),providedIn:"root"})}}return n})();Rt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Rt||{}),Ae=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ae||{}),Zt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Zt||{}),ci={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};MR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cd={},SR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(xr||{}),be=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(be||{}),Ce=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ce||{});PR=0,fd=4;Bm={};$m=/\s+/,pD=[],fs=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=pD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split($m):pD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split($m):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split($m).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(At),D(Dr))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),Hm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(oi),D(Yi),D(Vm))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();Me=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new zm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(oi),D(Yi))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),zm=class{constructor(){this.$implicit=null,this.ngIf=null}};qm=class{createSubscription(e,t){return Qt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Qt(()=>e.unsubscribe())}},Wm=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},VR=new Wm,jR=new qm,Ht=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(si(t))return VR;if(Fm(t))return jR;throw MD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(Mr,16))}}static{this.\u0275pipe=Qg({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),UR="mediumDate",BR=new k(""),$R=new k(""),ps=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??UR,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return IR(t,s,o||this.locale,a)}catch(s){throw MD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(id,16),D(BR,24),D($R,24))}}static{this.\u0275pipe=Qg({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),SD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})(),Xm="browser",HR="server";ID=(()=>{class n{static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>vd(v(Yt))?new Gm(v(ct),window):new Km})}}return n})(),Gm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=zR(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};Km=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},us=class{}});function qR(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function xD(n){return encodeURIComponent(n).replace(WR,(e,t)=>GR[t]??e)}function _d(n){return`${n}`}function KR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function TD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function OD(n){return typeof Blob<"u"&&n instanceof Blob}function PD(n){return typeof FormData<"u"&&n instanceof FormData}function YR(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function ev(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function AD(n){if(n.url)return n.url;let e=JR.toLocaleLowerCase();return n.headers.get(e)}function iv(){}function eF(n){n.then(iv,iv)}function LD(n,e){return e(n)}function tF(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function nF(n,e,t){return(r,i)=>dn(t,()=>e(r,o=>n(o,i)))}function oF(){let n=null;return(e,t)=>{n===null&&(n=(v(rF,{optional:!0})??[]).reduceRight(tF,LD));let r=v(Er);if(v(VD)){let o=r.add();return n(e,t).pipe(Wt(()=>r.remove(o)))}else return n(e,t)}}function aF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function hF(n,e){let t=n.url.toLowerCase();if(!v(jD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=v(wd).getToken(),i=v(dF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function pF(n,e){return{\u0275kind:n,\u0275providers:e}}function gF(...n){let e=[ro,kD,ND,{provide:Pa,useExisting:ND},{provide:Cd,useFactory:()=>v(XR,{optional:!0})??v(kD)},{provide:ov,useValue:hF,multi:!0},{provide:jD,useValue:!0},{provide:wd,useClass:fF}];for(let t of n)e.push(...t.\u0275providers);return ns(e)}function mF(){return pF(UD.LegacyInterceptors,[{provide:RD,useFactory:oF},{provide:ov,useExisting:RD,multi:!0}])}var Pa,Cd,Or,tv,WR,GR,ui,nv,Oa,di,Aa,bd,Na,li,FD,QR,ro,ZR,JR,XR,rv,rF,ov,iF,VD,ND,sF,kD,jD,cF,lF,uF,dF,wd,fF,UD,RD,BD,ka=p(()=>{"use strict";x();x();De();Kr();xe();xe();Pa=class{},Cd=class{},Or=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},tv=class{encodeKey(e){return xD(e)}encodeValue(e){return xD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};WR=/%(\d[a-f0-9])/gi,GR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};ui=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(_d):[_d(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(_d(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_d(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},nv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};Oa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Or,this.context??=new nv,!this.params)this.params=new ui,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||TD(this.body)||OD(this.body)||PD(this.body)||YR(this.body)?this.body:this.body instanceof ui?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PD(this.body)?null:OD(this.body)?this.body.type||null:TD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ui?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},di=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(di||{}),Aa=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Or,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bd=class n extends Aa{constructor(e={}){super(e),this.type=di.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Na=class n extends Aa{constructor(e={}){super(e),this.type=di.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},li=class extends Aa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},FD=200,QR=204;ro=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Oa)o=t;else{let c;i.headers instanceof Or?c=i.headers:c=new Or(i.headers);let l;i.params&&(i.params instanceof ui?l=i.params:l=new ui({fromObject:i.params})),o=new Oa(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=F(o).pipe(cn(c=>this.handler.handle(c)));if(t instanceof Oa||i.observe==="events")return s;let a=s.pipe(je(c=>c instanceof Na));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(L(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(L(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ui().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ev(i,r))}post(t,r,i={}){return this.request("POST",t,ev(i,r))}put(t,r,i={}){return this.request("PUT",t,ev(i,r))}static{this.\u0275fac=function(r){return new(r||n)(A(Pa))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),ZR=/^\)\]\}',?\n/,JR="X-Request-URL";XR=(()=>{class n{constructor(){this.fetchImpl=v(rv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=v(ye)}handle(t){return new J(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(iv,o=>r.error(new li({error:o}))),()=>i.abort()})}doRequest(t,r,i){return I(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));eF(g),i.next({type:di.Sent}),s=yield g}catch(g){i.error(new li({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Or(s.headers),c=s.statusText,l=AD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new bd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),y=[],w=s.body.getReader(),T=0,j,oe,K=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:ze,value:we}=yield w.read();if(ze)break;if(y.push(we),T+=we.length,t.reportProgress){oe=t.responseType==="text"?(oe??"")+(j??=new TextDecoder).decode(we,{stream:!0}):void 0;let Re=()=>i.next({type:di.DownloadProgress,total:g?+g:void 0,loaded:T,partialText:oe});K?K.run(Re):Re()}}}));let ue=this.concatChunks(y,T);try{let ze=s.headers.get("Content-Type")??"";d=this.parseBody(t,ue,ze)}catch(ze){i.error(new li({error:ze,headers:new Or(s.headers),status:s.status,statusText:s.statusText,url:AD(s)??t.urlWithParams}));return}}u===0&&(u=d?FD:0),u>=200&&u<300?(i.next(new Na({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new li({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(ZR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),rv=class{};rF=new k(""),ov=new k(""),iF=new k(""),VD=new k("",{providedIn:"root",factory:()=>!0});ND=(()=>{class n extends Pa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=v(Er),this.contributeToStability=v(VD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ov),...this.injector.get(iF,[])]));this.chain=r.reduceRight((i,o)=>nF(i,o,this.injector),LD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Wt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(A(Cd),A(Ot))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),sF=/^\)\]\}',?\n/;kD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new M(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?W(r.\u0275loadImpl()):F(null)).pipe(Ue(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,T)=>s.setRequestHeader(w,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",T=new Or(s.getAllResponseHeaders()),j=aF(s)||t.url;return c=new bd({headers:T,status:s.status,statusText:w,url:j}),c},u=()=>{let{headers:w,status:T,statusText:j,url:oe}=l(),K=null;T!==QR&&(K=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=K?FD:0);let ue=T>=200&&T<300;if(t.responseType==="json"&&typeof K=="string"){let ze=K;K=K.replace(sF,"");try{K=K!==""?JSON.parse(K):null}catch(we){K=ze,ue&&(ue=!1,K={error:we,text:K})}}ue?(o.next(new Na({body:K,headers:w,status:T,statusText:j,url:oe||void 0})),o.complete()):o.error(new li({error:K,headers:w,status:T,statusText:j,url:oe||void 0}))},d=w=>{let{url:T}=l(),j=new li({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(j)},m=!1,g=w=>{m||(o.next(l()),m=!0);let T={type:di.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),t.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),o.next(T)},y=w=>{let T={type:di.UploadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),o.next(T)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:di.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(A(us))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),jD=new k(""),cF="XSRF-TOKEN",lF=new k("",{providedIn:"root",factory:()=>cF}),uF="X-XSRF-TOKEN",dF=new k("",{providedIn:"root",factory:()=>uF}),wd=class{},fF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=md(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(A(ct),A(Yt),A(lF))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();UD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(UD||{});RD=new k("");BD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[gF(mF())]})}}return n})()});function vF(){return Ra=Ra||document.querySelector("base"),Ra?Ra.getAttribute("href"):null}function yF(n){return new URL(n,document.baseURI).pathname}function DF(n){return bF.replace(pv,n)}function MF(n){return CF.replace(pv,n)}function GD(n,e){return e.map(t=>t.replace(pv,n))}function $D(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function OF(){uv.makeCurrent()}function PF(){return new yr}function AF(){return Ww(document),document}var lv,uv,Ra,dv,_F,fv,zD,Ed,av,qD,cv,pv,WD,CF,bF,wF,EF,Dd,Fa,hv,La,Md,SF,HD,IF,xF,TF,NF,KD,kF,RF,FF,Sd,YD,Va=p(()=>{"use strict";xe();x();x();lv=class extends hd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},uv=class n extends lv{static makeCurrent(){yD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=vF();return t==null?null:yF(t)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return md(document.cookie,e)}},Ra=null;dv=class{addToWindow(e){It.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new M(5103,!1);return o},It.getAllAngularTestabilities=()=>e.getAllTestabilities(),It.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=It.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?sr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},_F=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),fv=new k(""),zD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(A(fv),A(ye))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),Ed=class{constructor(e){this._doc=e}},av="ng-app-id",qD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${av}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(av),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(av,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(A(ct),A(zu),A(pm,8),A(Yt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),cv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pv=/%COMP%/g,WD="%COMP%",CF=`_nghost-${WD}`,bF=`_ngcontent-${WD}`,wF=!0,EF=new k("",{providedIn:"root",factory:()=>wF});Dd=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yd(a),this.defaultRenderer=new Fa(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xn.ShadowDom&&(r=U(E({},r),{encapsulation:Xn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Md?i.applyToHost(t):i instanceof La&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Xn.Emulated:o=new Md(c,l,r,this.appId,u,s,a,d);break;case Xn.ShadowDom:return new hv(c,l,t,r,s,a,this.nonce,d);default:o=new La(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(A(zD),A(qD),A(zu),A(EF),A(ct),A(Yt),A(ye),A(pm))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),Fa=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(cv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($D(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($D(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=cv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=cv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(_r.DashCase|_r.Important)?e.style.setProperty(t,r,i&_r.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};hv=class extends Fa{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=GD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},La=class extends Fa{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?GD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Md=class extends La{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=DF(l),this.hostAttr=MF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},SF=(()=>{class n extends Ed{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(A(ct))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),HD=["alt","control","meta","shift"],IF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},TF=(()=>{class n extends Ed{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=IF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HD.forEach(s=>{if(s!==i){let a=xF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(A(ct))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();NF=[{provide:Yt,useValue:Xm},{provide:fm,useValue:OF,multi:!0},{provide:ct,useFactory:AF,deps:[]}],KD=Lm(cD,"browser",NF),kF=new k(""),RF=[{provide:Ta,useClass:dv,deps:[]},{provide:km,useClass:ed,deps:[ye,td,Ta]},{provide:ed,useClass:ed,deps:[ye,td,Ta]}],FF=[{provide:ku,useValue:"root"},{provide:yr,useFactory:PF,deps:[]},{provide:fv,useClass:SF,multi:!0,deps:[ct,ye,Yt]},{provide:fv,useClass:TF,multi:!0,deps:[ct]},Dd,qD,zD,{provide:ni,useExisting:Dd},{provide:us,useClass:_F,deps:[]},[]],Sd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:zu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(A(kF,12))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[...FF,...RF],imports:[SD,lD]})}}return n})(),YD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(A(ct))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Cs(n){return new _v(n)}function LF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function VF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ar(n[t],e[t]))return!1;return!0}function ar(n,e){let t=n?Cv(n):void 0,r=e?Cv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!aM(n[i],e[i]))return!1;return!0}function Cv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function cM(n){return n.length>0?n[n.length-1]:null}function hi(n){return pp(n)?n:si(n)?W(Promise.resolve(n)):F(n)}function ZD(n,e,t){return jF[t.paths](n.root,e.root,t.matrixParams)&&lM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function UF(n,e){return ar(n,e)}function uM(n,e,t){if(!oo(n.segments,e.segments)||!Td(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!uM(n.children[r],e.children[r],t))return!1;return!0}function BF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aM(n[t],e[t]))}function dM(n,e,t){return fM(n,e,e.segments,t)}function fM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!oo(i,t)||e.hasChildren()||!Td(i,t,r))}else if(n.segments.length===t.length){if(!oo(n.segments,t)||!Td(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!dM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!oo(n.segments,i)||!Td(n.segments,i,r)||!n.children[ie]?!1:fM(n.children[ie],e,o,r)}}function Td(n,e,t){return e.every((r,i)=>lM[t](n[i].parameters,r.parameters))}function $F(n,e){return oo(n,e)&&n.every((t,r)=>ar(t.parameters,e[r].parameters))}function oo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function HF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}function Od(n){return n.segments.map(e=>pM(e)).join("/")}function ja(n,e){if(!n.hasChildren())return Od(n);if(e){let t=n.children[ie]?ja(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${ja(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=HF(n,(r,i)=>i===ie?[ja(n.children[ie],!1)]:[`${i}:${ja(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Od(n)}/${t[0]}`:`${Od(n)}/(${t.join("//")})`}}function hM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Id(n){return hM(n).replace(/%3B/gi,";")}function qF(n){return encodeURI(n)}function bv(n){return hM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pd(n){return decodeURIComponent(n)}function JD(n){return Pd(n.replace(/\+/g,"%20"))}function pM(n){return`${bv(n.path)}${WF(n.parameters)}`}function WF(n){return Object.entries(n).map(([e,t])=>`;${bv(e)}=${bv(t)}`).join("")}function GF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Id(t)}=${Id(i)}`).join("&"):`${Id(t)}=${Id(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function gv(n){let e=n.match(KF);return e?e[0]:""}function QF(n){let e=n.match(YF);return e?e[0]:""}function JF(n){let e=n.match(ZF);return e?e[0]:""}function eL(n){let e=n.match(XF);return e?e[0]:""}function gM(n){return n.segments.length>0?new Se([],{[ie]:n}):n}function mM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=mM(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return tL(t)}function tL(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new Se(n.segments.concat(e.segments),e.children)}return n}function so(n){return n instanceof Ar}function nL(n,e,t=null,r=null){let i=vM(n);return yM(i,e,t,r)}function vM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=gM(r);return e??i}function yM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return mv(i,i,i,t,r);let o=rL(e);if(o.toRoot())return mv(i,i,new Se([],{}),t,r);let s=iL(o,i,n),a=s.processChildren?$a(s.segmentGroup,s.index,o.commands):CM(s.segmentGroup,s.index,o.commands);return mv(i,s.segmentGroup,a,t,r)}function Ad(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function qa(n){return typeof n=="object"&&n!=null&&n.outlets}function mv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=_M(n,e,t);let a=gM(mM(s));return new Ar(a,o,i)}function _M(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=_M(o,e,t)}),new Se(n.segments,r)}function rL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Nd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Nd(t,e,r)}function iL(n,e,t){if(n.isAbsolute)return new vs(e,!0,0);if(!t)return new vs(e,!1,NaN);if(t.parent===null)return new vs(t,!0,0);let r=Ad(n.commands[0])?0:1,i=t.segments.length-1+r;return oL(t,i,n.numberOfDoubleDots)}function oL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new vs(r,!1,i-o)}function sL(n){return qa(n[0])?n[0].outlets:{[ie]:n}}function CM(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return $a(n,e,t);let r=aL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new Se(n.segments.slice(r.pathIndex),n.children),$a(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?Ev(n,e,t):r.match?$a(n,0,i):Ev(n,e,t)}function $a(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=sL(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=$a(n.children[ie],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=CM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function aL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(qa(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!eM(c,l,s))return o;r+=2}else{if(!eM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ev(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(qa(o)){let c=cL(o.outlets);return new Se(r,c)}if(i===0&&Ad(t[0])){let c=n.segments[e];r.push(new io(c.path,XD(t[0]))),i++;continue}let s=qa(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ad(a)?(r.push(new io(s,XD(a))),i+=2):(r.push(new io(s,{})),i++)}return new Se(r,{})}function cL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ev(new Se([],{}),0,r))}),e}function XD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function eM(n,e,t){return n==t.path&&ar(e,t.parameters)}function lL(n,e){return n.providers&&!n._injector&&(n._injector=Zu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fn(n){return n.outlet||ie}function uL(n,e){let t=n.filter(r=>Fn(r)===e);return t.push(...n.filter(r=>Fn(r)!==e)),t}function ec(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function Rv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Rv(n,t);if(r)return r}return null}function Fv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Fv(n,t);if(r.length)return r.unshift(e),r}return[]}function ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function bM(n){let e=dL(n),t=new ve([new io("",{})]),r=new ve({}),i=new ve({}),o=new ve({}),s=new ve(""),a=new Ft(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new Vd(new Jt(a,[]),e)}function dL(n){let e={},t={},r={},i="",o=new ys([],e,r,i,t,ie,n,null,{});return new Ud("",new Jt(o,[]))}function jd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),i?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},i&&EM(i)&&(r.resolve[Ja]=i.title),r}function qv(n,e){e.value._routerState=n,e.children.forEach(t=>qv(n,t))}function wM(n){let e=n.children.length>0?` { ${n.children.map(wM).join(", ")} } `:"";return`${n.value}${e}`}function vv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ar(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ar(e.params,t.params)||n.paramsSubject.next(t.params),VF(e.url,t.url)||n.urlSubject.next(t.url),ar(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Lv(n,e){let t=ar(n.params,e.params)&&$F(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Lv(n.parent,e.parent))}function EM(n){return typeof n.title=="string"||n.title===null}function fL(n,e,t){let r=Ka(n,e._root,t?t._root:void 0);return new Vd(r,e)}function Ka(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=hL(n,e,t);return new Jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ka(n,a)),s}}let r=pL(e.value),i=e.children.map(o=>Ka(n,o));return new Jt(r,i)}}function hL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ka(n,r,i);return Ka(n,r)})}function pL(n){return new Ft(new ve(n.url),new ve(n.params),new ve(n.queryParams),new ve(n.fragment),new ve(n.data),n.outlet,n.component,n)}function Bd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MM(!1,Xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function MM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[DM]=!0,t.cancellationCode=e,t}function gL(n){return SM(n)&&so(n.url)}function SM(n){return!!n&&n[DM]}function vL(n,e,t){let r=n._root,i=e?e._root:null;return Ua(r,i,t,[r.value])}function yL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ms(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Nb(n)?n:e.get(n):r}function Ua(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(e);return n.children.forEach(s=>{_L(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>za(a,t.getContext(s),i)),i}function _L(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=CL(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new $d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ua(n,e,a?a.children:null,r,i):Ua(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _s(a.outlet.component,s))}else s&&za(e,a,i),i.canActivateChecks.push(new $d(r)),o.component?Ua(n,null,a?a.children:null,r,i):Ua(n,null,t,r,i);return i}function CL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!oo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oo(n.url,e.url)||!ar(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lv(n,e)||!ar(n.queryParams,e.queryParams);case"paramsChange":default:return!Lv(n,e)}}function za(n,e,t){let r=ms(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?za(s,e.children.getContext(o),t):za(s,null,t):za(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new _s(e.outlet.component,i)):t.canDeactivateChecks.push(new _s(null,i)):t.canDeactivateChecks.push(new _s(null,i))}function nc(n){return typeof n=="function"}function bL(n){return typeof n=="boolean"}function wL(n){return n&&nc(n.canLoad)}function EL(n){return n&&nc(n.canActivate)}function DL(n){return n&&nc(n.canActivateChild)}function ML(n){return n&&nc(n.canDeactivate)}function SL(n){return n&&nc(n.canMatch)}function IM(n){return n instanceof In||n?.name==="EmptyError"}function Ds(){return Ue(n=>ua(n.map(e=>e.pipe(Oe(1),Np(xd)))).pipe(L(e=>{for(let t of e)if(t!==!0){if(t===xd)return xd;if(t===!1||IL(t))return t}return!0}),je(e=>e!==xd),Oe(1)))}function IL(n){return so(n)||n instanceof Ya}function xL(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F(U(E({},t),{guardsResult:!0})):TL(s,r,i,n).pipe(Ve(a=>a&&bL(a)?OL(r,o,n,e):F(a)),L(a=>U(E({},t),{guardsResult:a})))})}function TL(n,e,t,r){return W(n).pipe(Ve(i=>RL(i.component,i.route,t,e,r)),Yn(i=>i!==!0,!0))}function OL(n,e,t,r){return W(e).pipe(cn(i=>Kn(AL(i.route.parent,r),PL(i.route,r),kL(n,i.path,t),NL(n,i.route,t))),Yn(i=>i!==!0,!0))}function PL(n,e){return n!==null&&e&&e(new Av(n)),F(!0)}function AL(n,e){return n!==null&&e&&e(new Ov(n)),F(!0)}function NL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>Li(()=>{let s=ec(e)??t,a=Ms(o,s),c=EL(a)?a.canActivate(e,n):dn(s,()=>a(e,n));return hi(c).pipe(Yn())}));return F(i).pipe(Ds())}function kL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yL(s)).filter(s=>s!==null).map(s=>Li(()=>{let a=s.guards.map(c=>{let l=ec(s.node)??t,u=Ms(c,l),d=DL(u)?u.canActivateChild(r,n):dn(l,()=>u(r,n));return hi(d).pipe(Yn())});return F(a).pipe(Ds())}));return F(o).pipe(Ds())}function RL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=ec(e)??i,l=Ms(a,c),u=ML(l)?l.canDeactivate(n,e,t,r):dn(c,()=>l(n,e,t,r));return hi(u).pipe(Yn())});return F(s).pipe(Ds())}function FL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=Ms(s,n),c=wL(a)?a.canLoad(e,t):dn(n,()=>a(e,t));return hi(c)});return F(o).pipe(Ds(),xM(r))}function xM(n){return Kh(ne(e=>{if(typeof e!="boolean")throw Bd(n,e)}),L(e=>e===!0))}function LL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=Ms(s,n),c=SL(a)?a.canMatch(e,t):dn(n,()=>a(e,t));return hi(c)});return F(o).pipe(Ds(),xM(r))}function gs(n){return nt(new Qa(n))}function VL(n){return nt(new M(4e3,!1))}function jL(n){return nt(MM(!1,Xt.GuardRejected))}function UL(n,e,t,r,i){let o=TM(n,e,t);return o.matched?(r=lL(e,r),LL(r,e,t,i).pipe(L(s=>s===!0?o:E({},Bv)))):F(o)}function TM(n,e,t){if(e.path==="**")return BL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},Bv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LF)(t,n,e);if(!i)return E({},Bv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BL(n){return{matched:!0,parameters:n.length>0?cM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nM(n,e,t,r){return t.length>0&&zL(n,t,r)?{segmentGroup:new Se(e,HL(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&qL(n,t,r)?{segmentGroup:new Se(n.segments,$L(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function $L(n,e,t,r){let i={};for(let o of t)if(Wd(n,e,o)&&!r[Fn(o)]){let s=new Se([],{});i[Fn(o)]=s}return E(E({},r),i)}function HL(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&Fn(r)!==ie){let i=new Se([],{});t[Fn(r)]=i}return t}function zL(n,e,t){return t.some(r=>Wd(n,e,r)&&Fn(r)!==ie)}function qL(n,e,t){return t.some(r=>Wd(n,e,r))}function Wd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function WL(n,e,t){return e.length===0&&!n.children[t]}function GL(n,e,t,r,i,o,s="emptyOnly"){return new Hv(n,e,t,r,i,s,o).recognize()}function YL(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function QL(n){let e=n.value.routeConfig;return e&&e.path===""}function OM(n){let e=[],t=new Set;for(let r of n){if(!QL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OM(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!t.has(r))}function rM(n){return n.data||{}}function iM(n){return n.resolve||{}}function ZL(n,e,t,r,i,o){return Ve(s=>GL(n,e,t,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>U(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function JL(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return F(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of PM(c))s.add(l);let a=0;return W(s).pipe(cn(c=>o.has(c)?XL(c,r,n,e):(c.data=jd(c,c.parent,n).resolve,F(void 0))),ne(()=>a++),jo(1),Ve(c=>a===s.size?F(t):St))})}function PM(n){let e=n.children.map(t=>PM(t)).flat();return[n,...e]}function XL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!EM(i)&&(o[Ja]=i.title),eV(o,n,e,r).pipe(L(s=>(n._resolvedData=s,n.data=jd(n,n.parent,t).resolve,null)))}function eV(n,e,t,r){let i=Cv(n);if(i.length===0)return F({});let o={};return W(i).pipe(Ve(s=>tV(n[s],e,t,r).pipe(Yn(),ne(a=>{if(a instanceof Ya)throw Bd(new bs,a);o[s]=a}))),jo(1),ha(o),de(s=>IM(s)?St:nt(s)))}function tV(n,e,t,r){let i=ec(e)??r,o=Ms(n,i),s=o.resolve?o.resolve(e,t):dn(i,()=>o(e,t));return hi(s)}function yv(n){return Ue(e=>{let t=n(e);return t?W(t).pipe(L(()=>e)):F(e)})}function Wv(n){let e=n.children&&n.children.map(Wv),t=e?U(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=rV),t}function iV(n,e,t,r){return hi(n.loadChildren()).pipe(L(NM),Ve(i=>i instanceof ba||Array.isArray(i)?F(i):W(e.compileModuleAsync(i))),L(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Hd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wv),injector:o}}))}function oV(n){return n&&typeof n=="object"&&"default"in n}function NM(n){return oV(n)?n.default:n}function aV(n,e,t){let r=n.get(RM),i=n.get(ct);return n.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),cV(n))),{onViewTransitionCreated:c}=r;return c&&dn(n,()=>c({transition:a,from:e,to:t})),s})}function cV(n){return new Promise(e=>{Am({read:()=>setTimeout(e)},{injector:n})})}function uV(n){return n!==Ha}function LM(n,e){n.events.pipe(je(t=>t instanceof en||t instanceof Pr||t instanceof Wa||t instanceof fi),L(t=>t instanceof en||t instanceof fi?Ba.COMPLETE:(t instanceof Pr?t.code===Xt.Redirect||t.code===Xt.SupersededByNewNavigation:!1)?Ba.REDIRECTING:Ba.FAILED),je(t=>t!==Ba.REDIRECTING),Oe(1)).subscribe(()=>{e()})}function pV(n){throw n}function vV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new M(4008,!1)}function yV(n){return!(n instanceof Ga)&&!(n instanceof Es)}function _V(n){return!!n.paths}function wV(n){return n.routerState.root}function ic(n,e){return{\u0275kind:n,\u0275providers:e}}function EV(){let n=v(Ze);return e=>{let t=n.get(vn);if(e!==t.components[0])return;let r=n.get(Te),i=n.get(UM);n.get(Qv)===1&&r.initialNavigation(),n.get(BM,null,ae.Optional)?.setUpPreloading(),n.get(jM,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function DV(){return ic(2,[{provide:Qv,useValue:0},{provide:ls,multi:!0,deps:[Ze],useFactory:e=>{let t=e.get(_D,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(UM);LM(i,()=>{r(!0)}),e.get(Yv).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}])}function MV(){return ic(3,[{provide:ls,multi:!0,useFactory:()=>{let e=v(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:Qv,useValue:2}])}function SV(n){return ic(0,[{provide:BM,useExisting:CV},{provide:zd,useExisting:n}])}function IV(){return ic(8,[tM,{provide:qd,useExisting:tM}])}function xV(n){let e=[{provide:kM,useValue:aV},{provide:RM,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return ic(9,e)}function OV(){return{provide:jM,useFactory:()=>{let n=v(ID),e=v(ye),t=v(rc),r=v(Yv),i=v(Xa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new bV(i,r,n,e,t)}}}function PV(){return{provide:Tr,useClass:bD}}function AV(){return{provide:Tr,useClass:Jm}}function NV(n){return"guarded"}function kV(n){return[n.initialNavigation==="disabled"?MV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?DV().\u0275providers:[]]}function RV(){return[{provide:sM,useFactory:EV},{provide:nd,multi:!0,useExisting:sM}]}var ie,Ja,_v,jF,lM,Ar,Se,io,Xa,bs,zF,KF,YF,ZF,XF,wv,Nd,vs,Ha,lt,_n,ws,en,Xt,kd,Pr,fi,Wa,Rd,Dv,Mv,Sv,Iv,xv,Tv,Ov,Pv,Av,Nv,Fd,Ga,Es,kv,tc,Ld,Jt,Vd,Ft,ys,Ud,Ln,Vv,qd,tM,Ya,DM,mL,jv,$d,_s,xd,Qa,Za,Uv,Bv,$v,KL,Hv,AM,nV,rc,rV,Hd,Gv,Kv,sV,kM,RM,lV,Yv,dV,zv,fV,FM,hV,Ba,gV,mV,Te,Cn,VM,zd,CV,jM,bV,UM,Qv,BM,oM,TV,Zv,sM,ut=p(()=>{"use strict";x();x();De();xe();xe();Kr();Va();ie="primary",Ja=Symbol("RouteTitle"),_v=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};jF={exact:uM,subset:dM},lM={exact:UF,subset:BF,ignored:()=>!0};Ar=class{constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return zF.serialize(this)}},Se=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Od(this)}},io=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return pM(this)}};Xa=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>new bs,providedIn:"root"})}}return n})(),bs=class{parse(e){let t=new wv(e);return new Ar(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ja(e.root,!0)}`,r=GF(e.queryParams),i=typeof e.fragment=="string"?`#${qF(e.fragment)}`:"";return`${t}${r}${i}`}},zF=new bs;KF=/^[^\/()?;#]+/;YF=/^[^\/()?;=#]+/;ZF=/^[^=?&#]+/;XF=/^[^&#]+/;wv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new Se(e,t)),r}parseSegment(){let e=gv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new io(Pd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=QF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=gv(this.remaining);i&&(r=i,this.capture(r))}e[Pd(t)]=Pd(r)}parseQueryParam(e){let t=JF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=eL(this.remaining);s&&(r=s,this.capture(r))}let i=JD(t),o=JD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};Nd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ad(r[0]))throw new M(4003,!1);let i=r.find(qa);if(i&&i!==cM(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};vs=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};Ha="imperative",lt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(lt||{}),_n=class{constructor(e,t){this.id=e,this.url=t}},ws=class extends _n{constructor(e,t,r="imperative",i=null){super(e,t),this.type=lt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends _n{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),kd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(kd||{}),Pr=class extends _n{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends _n{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=lt.NavigationSkipped}},Wa=class extends _n{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rd=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dv=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mv=class extends _n{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sv=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xv=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tv=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ov=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pv=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Av=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nv=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=lt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ga=class{},Es=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};kv=class{get injector(){return ec(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new tc(this.rootInjector),this.attachRef=null}},tc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new kv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(A(Ot))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ld=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Rv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Rv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Fv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fv(e,this._root).map(t=>t.value)}};Jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Vd=class extends Ld{constructor(e,t){super(e),this.snapshot=t,qv(this,e)}toString(){return this.snapshot.toString()}};Ft=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Ja]))??F(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};ys=class{get title(){return this.data?.[Ja]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ud=class extends Ld{constructor(e,t){super(t),this.url=e,qv(this,t)}toString(){return wM(this._root)}};Ln=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=v(tc),this.location=v(oi),this.changeDetector=v(Mr),this.inputBinder=v(qd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Vv(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nn]})}}return n})(),Vv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ft?this.route:e===tc?this.childContexts:this.parent.get(e,t)}},qd=new k(""),tM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ua([r.queryParams,r.params,r.data]).pipe(Ue(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=uD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();Ya=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},DM="ngNavigationCancelingError";mL=(n,e,t,r)=>L(i=>(new jv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),jv=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Pv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(vv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$d=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_s=class{constructor(e,t){this.component=e,this.route=t}};xd=Symbol("INITIAL_VALUE");Qa=class{constructor(e){this.segmentGroup=e||null}},Za=class extends Error{constructor(e){super(),this.urlTree=e}};Uv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[ie])return VL(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:y,title:w}=i,T=dn(o,()=>a({params:g,data:y,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:w}));if(T instanceof Ar)throw new Za(T);t=T}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Za(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ar(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Bv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};$v=class{};KL=31,Hv=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Uv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=nM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:t,rootSnapshot:r})=>{let i=new Jt(r,t),o=new Ud("",i),s=nL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ys([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(L(r=>({children:r,rootSnapshot:t})),de(r=>{if(r instanceof Za)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(L(s=>s instanceof Jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return W(o).pipe(cn(s=>{let a=r.children[s],c=uL(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Ap((s,a)=>(s.push(...a),s)),Gr(null),Tp(),Ve(s=>{if(s===null)return gs(r);let a=OM(s);return YL(a),F(a)}))}processSegment(e,t,r,i,o,s,a){return W(t).pipe(cn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(de(l=>{if(l instanceof Qa)return F(null);throw l}))),Yn(c=>!!c),de(c=>{if(IM(c))return WL(r,i,o)?F(new $v):gs(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Fn(r)!==s&&(s===ie||!Wd(i,o,r))?gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):gs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=TM(t,i,o);if(!c)return gs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>KL&&(this.allowRedirects=!1));let g=new ys(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,rM(i),Fn(i),i.component??i._loadedComponent??null,i,iM(i)),y=jd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ve(T=>this.processSegment(e,r,t,T.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=UL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ue(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ue(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,y=new ys(m,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,rM(r),Fn(r),r.component??r._loadedComponent??null,r,iM(r)),w=jd(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let{segmentGroup:T,slicedSegments:j}=nM(t,m,g,l);if(j.length===0&&T.hasChildren())return this.processChildren(u,l,T,y).pipe(L(K=>new Jt(y,K)));if(l.length===0&&j.length===0)return F(new Jt(y,[]));let oe=Fn(r)===o;return this.processSegment(u,l,T,j,oe?ie:o,!0,y).pipe(L(K=>new Jt(y,K instanceof Jt?[K]:[])))}))):gs(t)))}getChildConfig(e,t,r){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):FL(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):jL(t))):F({routes:[],injector:e})}};AM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Ja]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>v(nV),providedIn:"root"})}}return n})(),nV=(()=>{class n extends AM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(A(YD))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rc=new k("",{providedIn:"root",factory:()=>({})}),rV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ee({type:n,selectors:[["ng-component"]],standalone:!0,features:[KE],decls:1,vars:0,template:function(r,i){r&1&&R(0,"router-outlet")},dependencies:[Ln],encapsulation:2})}}return n})();Hd=new k(""),Gv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(rd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=hi(t.loadComponent()).pipe(L(NM),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Wt(()=>{this.componentLoaders.delete(t)})),i=new Wr(r,()=>new he).pipe(To());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=iV(r,this.compiler,t,this.onLoadEndListener).pipe(Wt(()=>{this.childrenLoaders.delete(r)})),s=new Wr(o,()=>new he).pipe(To());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Kv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>v(sV),providedIn:"root"})}}return n})(),sV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kM=new k(""),RM=new k("");lV=new k(""),Yv=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=v(Gv),this.environmentInjector=v(Ot),this.urlSerializer=v(Xa),this.rootContexts=v(tc),this.location=v(ds),this.inputBindingEnabled=v(qd,{optional:!0})!==null,this.titleStrategy=v(AM),this.options=v(rc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Kv),this.createViewTransition=v(kM,{optional:!0}),this.navigationErrorHandler=v(lV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let t=i=>this.events.next(new xv(i)),r=i=>this.events.next(new Tv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(U(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ve({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ha,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(je(o=>o.id!==0),L(o=>U(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{let s=!1,a=!1;return F(o).pipe(Ue(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),St;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?U(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.rawUrl),d,kd.IgnoredSameUrlNavigation)),c.resolve(!1),St}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(Ue(d=>{let m=this.transitions?.getValue();return this.events.next(new ws(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?St:Promise.resolve(d)}),ZL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=U(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Rd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:y,extras:w}=c,T=new ws(d,this.urlSerializer.serialize(m),g,y);this.events.next(T);let j=bM(this.rootComponentType).snapshot;return this.currentTransition=o=U(E({},c),{targetSnapshot:j,urlAfterRedirects:m,extras:U(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,F(o)}else{let d="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,kd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),St}}),ne(c=>{let l=new Dv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),L(c=>(this.currentTransition=o=U(E({},c),{guards:vL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),xL(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Bd(this.urlSerializer,c.guardsResult);let l=new Mv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),je(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Xt.GuardRejected),!1)),yv(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(ne(l=>{let u=new Sv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ue(l=>{let u=!1;return F(l).pipe(JL(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),ne(l=>{let u=new Iv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),yv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(m=>{u.component=m}),L(()=>{})));for(let m of u.children)d.push(...l(m));return d};return ua(l(c.targetSnapshot.root)).pipe(Gr(null),Oe(1))}),yv(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?W(u).pipe(L(()=>o)):F(o)}),L(c=>{let l=fL(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=U(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new Ga)}),mL(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Oe(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Qn(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),Wt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),de(c=>{if(a=!0,SM(c))this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),gL(c)?this.events.next(new Es(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Wa(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ya){let{message:d,cancellationCode:m}=Bd(this.urlSerializer,u);this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new Es(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return St}))}))}cancelNavigationTransition(t,r,i){let o=new Pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();dV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>v(fV),providedIn:"root"})}}return n})(),zv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},fV=(()=>{class n extends zv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xi(n)))(i||n)}})()}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>v(hV),providedIn:"root"})}}return n})(),hV=(()=>{class n extends FM{constructor(){super(...arguments),this.location=v(ds),this.urlSerializer=v(Xa),this.options=v(rc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Kv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ws)this.stateMemento=this.createStateMemento();else if(t instanceof fi)this.rawUrlTree=r.initialUrl;else if(t instanceof Rd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ga?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Pr&&(t.code===Xt.GuardRejected||t.code===Xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Wa?this.restoreHistory(r,!0):t instanceof en&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ar?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xi(n)))(i||n)}})()}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ba=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ba||{});gV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=v(Xu),this.stateManager=v(FM),this.options=v(rc,{optional:!0})||{},this.pendingTasks=v(Er),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(Yv),this.urlSerializer=v(Xa),this.location=v(ds),this.urlHandlingStrategy=v(Kv),this._events=new he,this.errorHandler=this.options.errorHandler||pV,this.navigated=!1,this.routeReuseStrategy=v(dV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Hd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(qd,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof en)this.navigated=!0;else if(r instanceof Es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uV(i.source)},s);this.scheduleNavigation(a,Ha,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Wv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=vM(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return yM(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=so(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ha,null,r)}navigate(t,r={skipLocationChange:!1}){return vV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},gV):r===!1?i=E({},mV):i=r,so(t))return ZD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ZD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return LM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Cn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(so(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Yw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:so(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Ft),lm("tabindex"),D(Dr),D(At),D(Tr))}}static{this.\u0275dir=pe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&P("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ss("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ai],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ai],replaceUrl:[2,"replaceUrl","replaceUrl",ai],routerLink:"routerLink"},standalone:!0,features:[Om,Nn]})}}return n})(),VM=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new se,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof en&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(Gn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=W(t).pipe(Gn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=_V(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(At),D(Dr),D(Mr),D(Cn,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&WE(o,Cn,5),r&2){let s;Ia(s=xa())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Nn]})}}return n})();zd=class{},CV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(je(t=>t instanceof en),cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Zu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return W(i).pipe(Gn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=F(null);let o=i.pipe(Ve(s=>s===null?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return W([o,s]).pipe(Gn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(A(Te),A(rd),A(Ot),A(zd),A(Gv))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jM=new k(""),bV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof en?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fi&&t.code===kd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){cE()}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();UM=new k("",{factory:()=>new he}),Qv=new k("",{providedIn:"root",factory:()=>1});BM=new k("");oM=new k("ROUTER_FORROOT_GUARD"),TV=[ds,{provide:Xa,useClass:bs},Te,tc,{provide:Ft,useFactory:wV,deps:[Te]},Gv,[]],Zv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[TV,[],{provide:Hd,multi:!0,useValue:t},{provide:oM,useFactory:NV,deps:[[Te,new Nu,new Wg]]},{provide:rc,useValue:r||{}},r?.useHash?PV():AV(),OV(),r?.preloadingStrategy?SV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?kV(r):[],r?.bindToComponentInputs?IV().\u0275providers:[],r?.enableViewTransitions?xV().\u0275providers:[],RV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Hd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(A(oM,8))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})();sM=new k("")});var Gd,$M=p(()=>{"use strict";Kr();De();x();ka();Gd=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(st(1),de(e=>(console.log("err:",e),nt(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(st(1),de(e=>(console.log("err:",e),nt(()=>e))))}static \u0275fac=function(t){return new(t||n)(A(ro))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var FV,LV,dt,oc=p(()=>{"use strict";FV=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],LV=!FV.includes(window.location.hostname),dt={baseURL:LV?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function sc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var HM=p(()=>{"use strict"});function cc(n,e=200){return I(this,null,function*(){if(ac){let t=sc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${dt.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function VV(n,e){return I(this,null,function*(){if(ac){let t=yield fetch(`${dt.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield cc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function jV(n,e){return I(this,null,function*(){let t=`${dt.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function UV(n,e,t){return I(this,null,function*(){if(ac){let r=t?`${dt.baseURL}/${t}`:`${dt.baseURL}/${n}`,i={"Content-Type":"application/json"},o=sc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=U(E({},e),{_id:HV()}),i=yield cc(n);return i.push(r),Jv(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function BV(n,e){return I(this,null,function*(){if(ac){let t=`${dt.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=sc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield cc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),Jv(n,t),e}})}function $V(n,e){return I(this,null,function*(){if(ac){let t=sc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${dt.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield cc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),Jv(n,t)}})}function Jv(n,e){localStorage.setItem(n,JSON.stringify(e))}function HV(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var ft,ac,Xv=p(()=>{"use strict";oc();HM();ft={post:UV,get:VV,put:BV,remove:$V,query:cc,login:jV},ac=!0});var zM,zV,qV,ey,qM=p(()=>{"use strict";zM="dzqnyehxn",zV="fuhrsp2z",qV=`https://api.cloudinary.com/v1_1/${zM}/image/upload`,ey={CLOUD_NAME:zM,UPLOAD_PRESET:zV,UPLOAD_URL:qV}});var Ss,ty=p(()=>{"use strict";qM();De();x();Ss=class n{uploadUrl=ey.UPLOAD_URL;constructor(){}uploadImage(e){let t=new FormData;return t.append("file",e),t.append("upload_preset",ey.UPLOAD_PRESET),W(fetch(this.uploadUrl,{method:"POST",body:t}).then(r=>{if(!r.ok)throw new Error(`Upload failed: ${r.statusText}`);return r.json()}).then(r=>r.secure_url))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var jn,lc,uc,Kd=p(()=>{"use strict";jn=Object.create(null);jn.open="0";jn.close="1";jn.ping="2";jn.pong="3";jn.message="4";jn.upgrade="5";jn.noop="6";lc=Object.create(null);Object.keys(jn).forEach(n=>{lc[jn[n]]=n});uc={type:"error",data:"parser error"}});function KM(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function JM(n,e){if(YM&&n.data instanceof Blob)return n.data.arrayBuffer().then(KM).then(e);if(QM&&(n.data instanceof ArrayBuffer||ZM(n.data)))return e(KM(n.data));dc(n,!1,t=>{ny||(ny=new TextEncoder),e(ny.encode(t))})}var YM,QM,ZM,dc,GM,ny,XM=p(()=>{"use strict";Kd();YM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",QM=typeof ArrayBuffer=="function",ZM=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,dc=({type:n,data:e},t,r)=>YM&&e instanceof Blob?t?r(e):GM(e,r):QM&&(e instanceof ArrayBuffer||ZM(e))?t?r(e):GM(new Blob([e]),r):r(jn[n]+(e||"")),GM=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var eS,fc,tS,nS=p(()=>{"use strict";eS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<eS.length;n++)fc[eS.charCodeAt(n)]=n;tS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=fc[n.charCodeAt(r)],s=fc[n.charCodeAt(r+1)],a=fc[n.charCodeAt(r+2)],c=fc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var WV,hc,GV,rS,iS=p(()=>{"use strict";Kd();nS();WV=typeof ArrayBuffer=="function",hc=(n,e)=>{if(typeof n!="string")return{type:"message",data:rS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:GV(n.substring(1),e)}:lc[t]?n.length>1?{type:lc[t],data:n.substring(1)}:{type:lc[t]}:uc},GV=(n,e)=>{if(WV){let t=tS(n);return rS(t,e)}else return{base64:!0,data:n}},rS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function cS(){return new TransformStream({transform(n,e){JM(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function Yd(n){return n.reduce((e,t)=>e+t.length,0)}function Qd(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function lS(n,e){ry||(ry=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Yd(t)<1)break;let c=Qd(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Yd(t)<2)break;let c=Qd(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Yd(t)<8)break;let c=Qd(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(uc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Yd(t)<i)break;let c=Qd(t,i);a.enqueue(hc(o?c:ry.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(uc);break}}}})}var oS,sS,aS,ry,iy,Is=p(()=>{"use strict";XM();iS();Kd();oS="",sS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{dc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(oS))})})},aS=(n,e)=>{let t=n.split(oS),r=[];for(let i=0;i<t.length;i++){let o=hc(t[i],e);if(r.push(o),o.type==="error")break}return r};iy=4});function ke(n){if(n)return KV(n)}function KV(n){for(var e in ke.prototype)n[e]=ke.prototype[e];return n}var ao=p(()=>{"use strict";ke.prototype.on=ke.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};ke.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};ke.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ke.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Nr,Lt,uS,co=p(()=>{"use strict";Nr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Lt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),uS="arraybuffer"});function Zd(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function kr(n,e){e.useNativeTimers?(n.setTimeoutFn=YV.bind(Lt),n.clearTimeoutFn=QV.bind(Lt)):(n.setTimeoutFn=Lt.setTimeout.bind(Lt),n.clearTimeoutFn=Lt.clearTimeout.bind(Lt))}function dS(n){return typeof n=="string"?JV(n):Math.ceil((n.byteLength||n.size)*ZV)}function JV(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Jd(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var YV,QV,ZV,lo=p(()=>{"use strict";co();YV=Lt.setTimeout,QV=Lt.clearTimeout;ZV=1.33});function fS(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function hS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var oy=p(()=>{"use strict"});var Xd,Rr,pc=p(()=>{"use strict";Is();ao();lo();oy();Xd=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Rr=class extends ke{constructor(e){super(),this.writable=!1,kr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Xd(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=hc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=fS(e);return t.length?"?"+t:""}}});var gc,sy=p(()=>{"use strict";pc();lo();Is();gc=class extends Rr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};aS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,sS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Jd()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var pS,gS,mS=p(()=>{"use strict";pS=!1;try{pS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}gS=pS});function XV(){}function vS(){for(let n in ef.requests)ef.requests.hasOwnProperty(n)&&ef.requests[n].abort()}function yS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||gS))return new XMLHttpRequest}catch{}if(!e)try{return new Lt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var ay,ef,e2,pi,tf=p(()=>{"use strict";sy();ao();lo();co();mS();ay=class extends gc{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},ef=(()=>{class n extends ke{constructor(t,r,i){super(),this.createRequest=t,kr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=Zd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=XV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vS);else if(typeof addEventListener=="function"){let n="onpagehide"in Lt?"pagehide":"unload";addEventListener(n,vS,!1)}}e2=function(){let n=yS({xdomain:!1});return n&&n.responseType!==null}(),pi=class extends ay{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=e2&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ef(yS,this.uri(),e)}}});var _S,ly,cy,gi,nf=p(()=>{"use strict";pc();lo();Is();co();_S=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",ly=class extends Rr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=_S?{}:Zd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;dc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Jd()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},cy=Lt.WebSocket||Lt.MozWebSocket,gi=class extends ly{createSocket(e,t,r){return _S?new cy(e,t,r):t?new cy(e,t):new cy(e)}doWrite(e,t){this.ws.send(t)}}});var xs,uy=p(()=>{"use strict";pc();co();Is();xs=class extends Rr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=lS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=cS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var dy,fy=p(()=>{"use strict";tf();nf();uy();dy={websocket:gi,webtransport:xs,polling:pi}});function Ts(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=t2.exec(n||""),o={},s=14;for(;s--;)o[n2[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=r2(o,o.path),o.queryKey=i2(o,o.query),o}function r2(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function i2(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var t2,n2,hy=p(()=>{"use strict";t2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var py,rf,of,sf,Os,gy=p(()=>{"use strict";fy();lo();oy();hy();ao();Is();co();py=typeof addEventListener=="function"&&typeof removeEventListener=="function",rf=[];py&&addEventListener("offline",()=>{rf.forEach(n=>n())},!1);of=(()=>{class n extends ke{constructor(t,r){if(super(),this.binaryType=uS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Ts(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Ts(r.host).host);kr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hS(this.opts.query)),py&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},rf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=iy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=dS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Nr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),py&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=rf.indexOf(this._offlineEventListener);i!==-1&&rf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=iy,n})(),sf=class extends of{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;of.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;of.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=t.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Os=class extends sf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>dy[i]).filter(i=>!!i)),super(e,r)}}});var CS=p(()=>{"use strict";sy()});var AK,af=p(()=>{"use strict";gy();gy();pc();fy();lo();hy();co();CS();tf();tf();nf();nf();uy();AK=Os.protocol});function bS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Ts(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var wS=p(()=>{"use strict";af()});function vc(n){return s2&&(n instanceof ArrayBuffer||a2(n))||c2&&n instanceof Blob||l2&&n instanceof File}function mc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(mc(n[t]))return!0;return!1}if(vc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return mc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&mc(n[t]))return!0;return!1}var s2,a2,ES,c2,l2,my=p(()=>{"use strict";s2=typeof ArrayBuffer=="function",a2=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ES=Object.prototype.toString,c2=typeof Blob=="function"||typeof Blob<"u"&&ES.call(Blob)==="[object BlobConstructor]",l2=typeof File=="function"||typeof File<"u"&&ES.call(File)==="[object FileConstructor]"});function DS(n){let e=[],t=n.data,r=n;return r.data=vy(t,e),r.attachments=e.length,{packet:r,buffers:e}}function vy(n,e){if(!n)return n;if(vc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=vy(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=vy(n[r],e));return t}return n}function MS(n,e){return n.data=yy(n.data,e),delete n.attachments,n}function yy(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=yy(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=yy(n[t],e));return n}var SS=p(()=>{"use strict";my()});var wy={};qT(wy,{Decoder:()=>Cy,Encoder:()=>_y,PacketType:()=>fe,protocol:()=>xS});function IS(n){return Object.prototype.toString.call(n)==="[object Object]"}var u2,xS,fe,_y,Cy,by,cf=p(()=>{"use strict";ao();SS();my();u2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],xS=5,fe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(fe||{}),_y=class{constructor(e){this.replacer=e}encode(e){return(e.type===fe.EVENT||e.type===fe.ACK)&&mc(e)?this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=DS(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};Cy=class n extends ke{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===fe.BINARY_EVENT;r||t.type===fe.BINARY_ACK?(t.type=r?fe.EVENT:fe.ACK,this.reconstructor=new by(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(vc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case fe.CONNECT:return IS(t);case fe.DISCONNECT:return t===void 0;case fe.CONNECT_ERROR:return typeof t=="string"||IS(t);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&u2.indexOf(t[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},by=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=MS(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function tn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Ey=p(()=>{"use strict"});var d2,Ps,Dy=p(()=>{"use strict";cf();Ey();ao();d2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ps=class extends ke{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[tn(e,"open",this.onopen.bind(this)),tn(e,"packet",this.onpacket.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(d2.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:fe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:fe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function uo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var TS=p(()=>{"use strict";uo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};uo.prototype.reset=function(){this.attempts=0};uo.prototype.setMin=function(n){this.ms=n};uo.prototype.setMax=function(n){this.max=n};uo.prototype.setJitter=function(n){this.jitter=n}});var As,OS=p(()=>{"use strict";af();Dy();cf();Ey();TS();ao();As=class extends ke{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,kr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new uo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||wy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Os(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=tn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=tn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(tn(e,"ping",this.onping.bind(this)),tn(e,"data",this.ondata.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Nr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ps(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function _c(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=bS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=yc[i]&&o in yc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new As(r,e):(yc[i]||(yc[i]=new As(r,e)),c=yc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var yc,PS=p(()=>{"use strict";wS();OS();Dy();cf();af();yc={};Object.assign(_c,{Manager:As,Socket:Ps,io:_c,connect:_c})});var Ns,My=p(()=>{"use strict";x();Ns=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function NS(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var bY,f2,h2,p2,g2,m2,v2,y2,cr,Cc=p(()=>{"use strict";PS();wt();x();My();bY=NS(),f2="chat-add-msg",h2="chat-add-private-msg",p2="chat-send-msg",g2="chat-set-topic",m2="chat-send-private-msg",v2="set-user-socket",y2="unset-user-socket",cr=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;get userService(){return this.injector.get(_e)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=NS(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=_c(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(g2,e)}sendMessage(e){console.log("asdfasdasdasd"),this.socket||this.setup();let t=this.userService?.getLoggedInUser();if(console.log(`user: ${t}`),!t)return;let r={text:e};this.socket?.emit(p2,r),console.log(`user: ${t}`),console.log(`message: ${r}`)}sendPrivateMessage(e,t){this.socket||this.setup();let r=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",r),!r||!e||!t.trim()){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:r,toUserId:e,msg:t});return}let i={sender:r._id,senderName:r.username,text:t,toUserId:e};this.addToBuffer(U(E({},i),{senderName:"Me"})),console.log("\u2705 Sending private message:",i),this.socket?.emit(m2,{toUserId:e,text:t,sender:r._id,senderName:r.username})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-PRCI5Y4X.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(v2,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(f2,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(h2,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=U(E({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(y2)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(A(Ze),A(Ns))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var bc,mi,kS,RS,vi,_e,wt=p(()=>{"use strict";De();Xv();oc();x();ty();Cc();bc="user",mi="loggedInUser",kS="facebookId",RS="facebookAccessToken",vi="loginTokenBackup",_e=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(mi)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new ve([]);users$=this._users$.asObservable();_filterBy$=new ve("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new ve(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){W(ft.query(bc)).pipe(ne(e=>{this._users$.next(this._sort(e))}),de(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(mi)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(mi)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(mi,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(vi,e),sessionStorage.setItem(vi,e)}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(vi)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(vi)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(vi)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(vi)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(vi)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${dt.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={username:e,password:t};return W(ft.login("auth/login",r)).pipe(ne(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(mi,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),L(i=>i.user),de(this._handleError))}loginWithFacebook(e){return W(ft.login("auth/facebook",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(mi,JSON.stringify(t)),localStorage.setItem(kS,e.facebookId),localStorage.setItem(RS,e.accessToken),this.socketService.login(t._id)}),de(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(mi),localStorage.removeItem(kS),localStorage.removeItem(RS),localStorage.removeItem(vi),this.socketService.logout()}loadUsers(){return W(ft.query(bc)).pipe(L(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),ne(e=>this._users$.next(e)),st(3),de(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(Oe(1)).subscribe()}deleteUser(e){return W(ft.remove(bc,e)).pipe(ne(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),st(2),de(this._handleError))}getUserById(e){return W(ft.get(bc,e)).pipe(st(3),de(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=U(E({},e),{_id:this._getRandomId()});return W(ft.post("auth/signup",t)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),st(3),de(this._handleError))}_updateUser(e){return W(ft.put(bc,e)).pipe(ne(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),st(3),de(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),nt(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?W(ft.put("user/updateProfile",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(mi,JSON.stringify(t))}),de(this._handleError)):nt(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Ue(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return nt(()=>new Error("No logged-in user found. Please log in."));let i=U(E({},r),{img:t});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),de(t=>(console.error("Error updating user image:",t.message||t),nt(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(A(Ss),A(cr))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function lf(n,e){return{type:te.Trigger,name:n,definitions:e,options:{}}}function Dc(n,e=null){return{type:te.Animate,styles:e,timings:n}}function FS(n,e=null){return{type:te.Sequence,steps:n,options:e}}function Un(n){return{type:te.Style,styles:n,offset:null}}function Iy(n,e,t){return{type:te.State,name:n,styles:e,options:t}}function Mc(n,e,t=null){return{type:te.Transition,expr:n,animation:e,options:t}}var te,lr,yi,Ec,uf,df=p(()=>{"use strict";te=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(te||{}),lr="*";yi=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ec=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},uf="!"});var Sc,Vt,_i=p(()=>{"use strict";De();Xv();x();Sc="contact",Vt=class n{_contacts$=new ve([]);contacts$=this._contacts$.asObservable();_filterBy$=new ve({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){W(ft.query(Sc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),de(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return nt(()=>new Error("Contact not found"));let i=U(E({},r),{img:t});return W(ft.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),de(o=>this._handleError(o)))}loadContacts(){return W(ft.query(Sc)).pipe(ne(e=>{let t=this._filterBy$.value;e=e.map(r=>U(E({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),st(1),de(this._handleError))}deleteContact(e){return W(ft.remove(Sc,e)).pipe(ne(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),st(1),de(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(Oe(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return W(ft.get(Sc,e)).pipe(st(1),de(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),W(ft.put("contact/edit",e)).pipe(ne(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),st(1),de(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),W(ft.post(Sc,e)).pipe(ne(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),st(1),de(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),nt(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var ks,xy=p(()=>{"use strict";x();ks=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function zt(n){n||(Xg(zt),n=v(Pt));let e=new J(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(Qn(e))}var Rs=p(()=>{"use strict";x();De();Kr();});var Et,Ci=p(()=>{"use strict";x();De();Rs();x();Et=class n{destroyRef=v(Pt);_msg=new ve(null);msg$=this._msg.asObservable().pipe(mr());_msgQueue$=new he;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(cn(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?F(null):(this._currentMsg=e,F(e).pipe(ne(()=>this._msg.next(e)),ln(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(zt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Dt,bi=p(()=>{"use strict";x();Dt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&P("click",function(o){return r.onClick(o)})}})}});function _2(n,e){if(n&1&&(_t(0),h(1,"h1"),_(2),f(),R(3,"img",3),Ct()),n&2){let t=O();C(2),Ie("Hello: ",t.logdinUser.username,"!"),C(),b("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Nt)}}function C2(n,e){if(n&1){let t=Z();h(0,"h1"),_(1," Welcome!"),R(2,"br"),_(3," Please login or sign up"),R(4,"br"),h(5,"span",4),R(6,"img",5),f()(),h(7,"section",6)(8,"a",7),_(9,"Login"),f(),h(10,"a",8),_(11,"Sign Up"),f(),h(12,"button",9),P("click",function(){B(t);let i=O();return $(i.loginWithFacebook())}),R(13,"img",10),h(14,"span",11),_(15,"Login with Facebook"),f()()()}}var ff,VS=p(()=>{"use strict";x();$M();De();wt();df();_i();x();xy();Ci();ut();xe();bi();ff=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=v(Gd);userService=v(_e);logdinUser=this.userService.getLoggedInUser();contactService=v(Vt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(Oe(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(ks),D(Et),D(Te))};static \u0275cmp=ee({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(h(0,"section",1),N(1,_2,4,2,"ng-container",2)(2,C2,16,0,"ng-template",null,0,or),f()),t&2){let i=bt(3);C(),b("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[Me,Cn,Dt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[lf("bounceArrow",[Iy("up",Un({transform:"translateY(-10px)"})),Iy("down",Un({transform:"translateY(10px)"})),Mc("up <=> down",[Dc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var bn,Vs=p(()=>{"use strict";x();x();bn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new se;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(At))};static \u0275dir=pe({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function b2(n,e){if(n&1){let t=Z();h(0,"div",1)(1,"div",2),P("clickOutsideCapture",function(){B(t);let i=O();return $(i.cancel())}),h(2,"p"),_(3),f(),h(4,"div",3)(5,"button",4),P("click",function(){B(t);let i=O();return $(i.confirm())}),_(6,"Yes"),f(),h(7,"button",4),P("click",function(){B(t);let i=O();return $(i.cancel())}),_(8,"No"),f()()()()}if(n&2){let t=O();C(3),gt(t.message)}}var js,Ty=p(()=>{"use strict";x();x();xe();bi();Vs();js=class n{isVisible=!1;message="";confirmed=new se;canceled=new se;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&N(0,b2,9,1,"div",0),t&2&&b("ngIf",r.isVisible)},dependencies:[Me,Dt,bn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var US,w2,pf,BS=p(()=>{"use strict";x();x();ut();Ci();xy();xe();Ty();bi();US=n=>({"long-name":n}),w2=n=>["/contact/edit",n],pf=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new se;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Te),D(Et),D(ks))};static \u0275cmp=ee({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:16,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",3,"src"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"contact-last-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(h(0,"article",0),P("click",function(){return r.onPreviewClick()}),R(1,"img",1),h(2,"div",2)(3,"h1",3),_(4),f(),h(5,"h1",4),_(6),f()(),h(7,"div",5)(8,"button",6),P("click",function(){return r.onDeleteClick()}),R(9,"img",7),f(),h(10,"button",8),P("click",function(){return r.onEditClick()}),R(11,"img",9),f(),h(12,"button",10),P("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),R(13,"img",11),f()()(),h(14,"app-modal",12),P("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),R(15,"router-outlet")),t&2&&(C(),b("src",r.contact.img?r.contact.img:"../../../assets/images/contact.png",Nt),C(2),b("ngClass",cs(8,US,r.isLongName)),C(),Ie(" ",r.contact.name," "),C(),b("ngClass",cs(10,US,r.isLongName)),C(),Ie(" ",r.contact.lastName," "),C(4),b("routerLink",cs(12,w2,r.contact._id)),C(4),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[fs,Ln,Cn,js,Dt],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:300px;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 70px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0 auto;font-size:1.25rem;color:#1c284e;cursor:pointer;font-weight:700;text-align:center;min-width:100px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;min-width:unset}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]})}});function D2(n,e){if(n&1){let t=Z();h(0,"contact-preview",2),P("remove",function(){let i=B(t).$implicit,o=O();return $(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;b("contact",t)}}var gf,$S=p(()=>{"use strict";x();ut();De();x();ut();xe();BS();gf=class n{constructor(e){this.router=e}contacts;remove=new se;destroy$=new he;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(je(e=>e instanceof en)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=ee({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(h(0,"section",0),N(1,D2,1,1,"contact-preview",1),f()),t&2&&(C(),b("ngForOf",r.contacts))},dependencies:[hs,pf],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function x2(){let n=sr()?sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function wi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function JS(n){return n!=null&&typeof n.length=="number"}function P2(n){return e=>{if(wi(e.value)||wi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function A2(n){return e=>{if(wi(e.value)||wi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function XS(n){return wi(n.value)?{required:!0}:null}function N2(n){return n.value===!0?null:{required:!0}}function k2(n){return wi(n.value)||O2.test(n.value)?null:{email:!0}}function eI(n){return e=>wi(e.value)||!JS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function R2(n){return e=>JS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function F2(n){if(!n)return vf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(wi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function vf(n){return null}function tI(n){return n!=null}function nI(n){return si(n)?W(n):n}function rI(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function iI(n,e){return e.map(t=>t(n))}function L2(n){return!n.validate}function oI(n){return n.map(e=>L2(e)?e:t=>e.validate(t))}function sI(n){if(!n)return null;let e=n.filter(tI);return e.length==0?null:function(t){return rI(iI(t,e))}}function Fy(n){return n!=null?sI(oI(n)):null}function aI(n){if(!n)return null;let e=n.filter(tI);return e.length==0?null:function(t){let r=iI(t,e).map(nI);return vp(r).pipe(L(rI))}}function Ly(n){return n!=null?aI(oI(n)):null}function HS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cI(n){return n._rawValidators}function lI(n){return n._rawAsyncValidators}function Oy(n){return n?Array.isArray(n)?n:[n]:[]}function yf(n,e){return Array.isArray(n)?n.includes(e):n===e}function zS(n,e){let t=Oy(e);return Oy(n).forEach(i=>{yf(t,i)||t.push(i)}),t}function qS(n,e){return Oy(e).filter(t=>!yf(n,t))}function Vy(n){return(Mf(n)?n.validators:n)||null}function j2(n){return Array.isArray(n)?Fy(n):n||null}function jy(n,e){return(Mf(e)?e.asyncValidators:n)||null}function U2(n){return Array.isArray(n)?Ly(n):n||null}function Mf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function uI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")}function dI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new M(1002,"")})}function fI(n,e){return[...e.path,n]}function wf(n,e,t=Sf){Uy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$2(n,e),z2(n,e),H2(n,e),B2(n,e)}function WS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Df(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ef(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function B2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Uy(n,e){let t=cI(n);e.validator!==null?n.setValidators(HS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lI(n);e.asyncValidator!==null?n.setAsyncValidators(HS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ef(e._rawValidators,i),Ef(e._rawAsyncValidators,i)}function Df(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=cI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=lI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Ef(e._rawValidators,r),Ef(e._rawAsyncValidators,r),t}function $2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&hI(n,e)})}function H2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&hI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function hI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pI(n,e){n==null,Uy(n,e)}function q2(n,e){return Df(n,e)}function gI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function W2(n){return Object.getPrototypeOf(n.constructor)===S2}function mI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vI(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===wn?t=o:W2(o)?r=o:i=o}),i||r||t||null}function G2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function X2(n){return typeof n=="number"?n:parseInt(n,10)}function QS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ZS,S2,Ry,I2,T2,wn,En,zs,O2,Bn,_f,Fr,fo,Cf,V2,qQ,ur,qs,Ic,mf,Us,xc,Ei,bf,Oc,Pc,Bs,Py,Ay,$s,Hs,Ny,Nc,Sf,K2,Tc,kc,Ac,Y2,Q2,YS,Lr,Ws,yI,Z2,By,J2,$y,_I,ej,Hy,tj,zy,CI,ky,bI,wI,EI,nn=p(()=>{"use strict";x();x();xe();De();Kr();ZS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Dr),D(At))}}static{this.\u0275dir=pe({type:n})}}return n})(),S2=(()=>{class n extends ZS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xi(n)))(i||n)}})()}static{this.\u0275dir=pe({type:n,features:[hn]})}}return n})(),Ry=new k(""),I2={provide:Ry,useExisting:rr(()=>wn),multi:!0};T2=new k(""),wn=(()=>{class n extends ZS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!x2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Dr),D(At),D(T2,8))}}static{this.\u0275dir=pe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&P("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[at([I2]),hn]})}}return n})();En=new k(""),zs=new k(""),O2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bn=class{static min(e){return P2(e)}static max(e){return A2(e)}static required(e){return XS(e)}static requiredTrue(e){return N2(e)}static email(e){return k2(e)}static minLength(e){return eI(e)}static maxLength(e){return R2(e)}static pattern(e){return F2(e)}static nullValidator(e){return vf(e)}static compose(e){return sI(e)}static composeAsync(e){return aI(e)}};_f=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ly(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Fr=class extends _f{get formDirective(){return null}get path(){return null}},fo=class extends _f{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},V2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qQ=U(E({},V2),{"[class.ng-submitted]":"isSubmitted"}),ur=(()=>{class n extends Cf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(fo,2))}}static{this.\u0275dir=pe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ju("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[hn]})}}return n})(),qs=(()=>{class n extends Cf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Fr,10))}}static{this.\u0275dir=pe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ju("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[hn]})}}return n})(),Ic="VALID",mf="INVALID",Us="PENDING",xc="DISABLED",Ei=class{},bf=class extends Ei{constructor(e,t){super(),this.value=e,this.source=t}},Oc=class extends Ei{constructor(e,t){super(),this.pristine=e,this.source=t}},Pc=class extends Ei{constructor(e,t){super(),this.touched=e,this.source=t}},Bs=class extends Ei{constructor(e,t){super(),this.status=e,this.source=t}},Py=class extends Ei{constructor(e){super(),this.source=e}},Ay=class extends Ei{constructor(e){super(),this.source=e}};$s=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=no(()=>this.statusReactive()),this.statusReactive=to(void 0),this._pristine=no(()=>this.pristineReactive()),this.pristineReactive=to(!0),this._touched=no(()=>this.touchedReactive()),this.touchedReactive=to(!1),this._events=new he,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qt(this.statusReactive)}set status(e){Qt(()=>this.statusReactive.set(e))}get valid(){return this.status===Ic}get invalid(){return this.status===mf}get pending(){return this.status==Us}get disabled(){return this.status===xc}get enabled(){return this.status!==xc}get pristine(){return Qt(this.pristineReactive)}set pristine(e){Qt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qt(this.touchedReactive)}set touched(e){Qt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qS(e,this._rawAsyncValidators))}hasValidator(e){return yf(this._rawValidators,e)}hasAsyncValidator(e){return yf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(U(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Pc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Pc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(U(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAsPending(e={}){this.status=Us;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(U(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xc,this.errors=null,this._forEachChild(i=>{i.disable(U(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bf(this.value,r)),this._events.next(new Bs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ic,this._forEachChild(r=>{r.enable(U(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(U(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ic||this.status===Us)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bf(this.value,t)),this._events.next(new Bs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(U(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xc:Ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Us,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=nI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Bs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?xc:this.errors?mf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Us)?Us:this._anyControlsHaveStatus(mf)?mf:Ic}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Oc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Pc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=j2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=U2(this._rawAsyncValidators)}},Hs=class extends $s{constructor(e,t,r){super(Vy(t),jy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){dI(this,!0,e),Object.keys(e).forEach(r=>{uI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Ny=class extends Hs{},Nc=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Sf}),Sf="always";K2={provide:Fr,useExisting:rr(()=>kc)},Tc=Promise.resolve(),kc=(()=>{class n extends Fr{get submitted(){return Qt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=no(()=>this.submittedReactive()),this.submittedReactive=to(!1),this._directives=new Set,this.ngSubmit=new se,this.form=new Hs({},Fy(t),Ly(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),wf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tc.then(()=>{let r=this._findContainer(t.path),i=new Hs({});pI(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),mI(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(En,10),D(zs,10),D(Nc,8))}}static{this.\u0275dir=pe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&P("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([K2]),hn]})}}return n})();Ac=class extends $s{constructor(e=null,t,r){super(Vy(t),jy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(KS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){KS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Y2=n=>n instanceof Ac,Q2={provide:fo,useExisting:rr(()=>Lr)},YS=Promise.resolve(),Lr=(()=>{class n extends fo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Ac,this._registered=!1,this.name="",this.update=new se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){YS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ai(r);YS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?fI(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Fr,9),D(En,10),D(zs,10),D(Ry,10),D(Mr,8),D(Nc,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[at([Q2]),hn,Nn]})}}return n})(),Ws=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),yI=new k(""),Z2={provide:Fr,useExisting:rr(()=>By)},By=(()=>{class n extends Fr{get submitted(){return Qt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=no(()=>this._submittedReactive()),this._submittedReactive=to(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Df(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return wf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){WS(t.control||null,t,!1),G2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),mI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Py(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ay(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(WS(r||null,t),Y2(i)&&(wf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);pI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&q2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Uy(this.form,this),this._oldForm&&Df(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(En,10),D(zs,10),D(Nc,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&P("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[at([Z2]),hn,Nn]})}}return n})(),J2={provide:fo,useExisting:rr(()=>$y)},$y=(()=>{class n extends fo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),gI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return fI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Fr,13),D(En,10),D(zs,10),D(Ry,10),D(yI,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[at([J2]),hn,Nn]})}}return n})();_I=(()=>{class n{constructor(){this._validator=vf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pe({type:n,features:[Nn]})}}return n})(),ej={provide:En,useExisting:rr(()=>Hy),multi:!0},Hy=(()=>{class n extends _I{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ai,this.createValidator=t=>XS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xi(n)))(i||n)}})()}static{this.\u0275dir=pe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ss("required",i._enabled?"":null)},inputs:{required:"required"},features:[at([ej]),hn]})}}return n})(),tj={provide:En,useExisting:rr(()=>zy),multi:!0},zy=(()=>{class n extends _I{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>X2(t),this.createValidator=t=>eI(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xi(n)))(i||n)}})()}static{this.\u0275dir=pe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ss("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[at([tj]),hn]})}}return n})(),CI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})(),ky=class extends $s{constructor(e,t,r){super(Vy(t),jy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){dI(this,!1,e),e.forEach((r,i)=>{uI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};bI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return QS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Hs(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ny(i,r)}control(t,r,i){let o={};return this.useNonNullable?(QS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ac(t,U(E({},o),{nonNullable:!0}))):new Ac(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new ky(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ac)return t;if(t instanceof $s)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Nc,useValue:t.callSetDisabledState??Sf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({imports:[CI]})}}return n})(),EI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Nc,useValue:t.callSetDisabledState??Sf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({imports:[CI]})}}return n})()});function nj(n,e){if(n&1){let t=Z();h(0,"button",4),P("click",function(){B(t);let i=O();return $(i.onClearFilter())}),_(1," \u2716 "),f()}}var If,DI=p(()=>{"use strict";x();De();Rs();_i();x();xe();nn();If=class n{contactService=v(Vt);filterBy;filterSubject$=new he;destroyRef=v(Pt);ngOnInit(){this.contactService.filterBy$.pipe(zt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(mr(),zt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),mn("ngModelChange",function(o){return kn(r.filterBy.name,o)||(r.filterBy.name=o),o}),P("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,nj,2,0,"button",3),f()()),t&2&&(C(2),gn("ngModel",r.filterBy.name),C(),b("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[Me,wn,ur,Lr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var xf,MI=p(()=>{"use strict";x();Rs();_i();x();ut();$S();DI();xe();xf=class n{contactService=v(Vt);contacts$;destroyRef=v(Pt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(zt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"contact-filter"),R(2,"input",1),f(),h(3,"button",2),R(4,"img",3),h(5,"span"),_(6,"Add Contact"),f()(),h(7,"contact-list",4),kt(8,"async"),P("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(C(7),b("contacts",$t(8,1,r.contacts$)))},dependencies:[Cn,gf,If,Ht],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});function ij(n,e){if(n&1&&(h(0,"p")(1,"strong"),_(2,"Last Name:"),f(),_(3),f()),n&2){let t=O().ngIf;C(3),Ie(" ",t.lastName,"")}}function oj(n,e){if(n&1){let t=Z();h(0,"section",2),P("clickOutsideCapture",function(){B(t);let i=O();return $(i.onBack())}),h(1,"section",3)(2,"button",4),P("click",function(){B(t);let i=O();return $(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),_(5,"Contact Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),_(11,"Name:"),f(),_(12),f(),N(13,ij,4,1,"p",9),h(14,"p")(15,"strong"),_(16,"Phone:"),f(),_(17),f(),h(18,"p")(19,"strong"),_(20,"Email:"),f(),_(21),f(),h(22,"p")(23,"strong"),_(24,"Birthday:"),f(),_(25),kt(26,"date"),f()()()}if(n&2){let t=e.ngIf;C(7),b("src",t.img?t.img:"../../../assets/images/contact.png",Nt),C(5),Ie(" ",t.name,""),C(),b("ngIf",t.lastName),C(4),Ie(" ",t.phone,""),C(4),Ie(" ",t.email,""),C(4),Ie(" ",eD(26,6,t.birthday,"longDate"),"")}}var Tf,SI=p(()=>{"use strict";x();De();ut();x();xe();ut();bi();Vs();Tf=class n{router=v(Te);route=v(Ft);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(L(e=>{let t=e.contact;return t&&U(E({},t),{lastName:t.lastName,birthday:t.birth})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"contact-image-container"],["alt","contact-image",3,"src"],[1,"contact-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(R(0,"div",0),N(1,oj,27,9,"section",1),kt(2,"async"),R(3,"router-outlet")),t&2&&(C(),b("ngIf",$t(2,1,r.contact$)))},dependencies:[Me,Ln,Dt,bn,Ht,ps],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var Di,Of=p(()=>{"use strict";De();x();Di=class n{isLoadingSubject=new ve(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var qy,II=p(()=>{"use strict";x();_i();De();Of();qy=(n,e)=>{let t=n.params.id,r=v(Di),i=v(Vt);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getById(t).pipe(ln(250),de(o=>(console.error("Error fetching contact:",o),F(null))),Wt(()=>r.hide()))}});var Ks,Wy=p(()=>{"use strict";x();x();ty();nn();Ks=class n{constructor(e){this.cloudinaryService=e}imageUploaded=new se;uploadError=new se;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedFile=t.files[0])}onUpload(){this.selectedFile&&(this.isLoading=!0,this.cloudinaryService.uploadImage(this.selectedFile).subscribe({next:e=>{console.log("Uploaded image URL:",e),this.imageUploaded.emit(e),this.isLoading=!1},error:e=>{console.error("Error uploading the image:",e),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1}}))}static \u0275fac=function(t){return new(t||n)(D(Ss))};static \u0275cmp=ee({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:2,consts:[[3,"submit"],["type","file",3,"change"],["type","submit",3,"disabled"]],template:function(t,r){t&1&&(h(0,"form",0),P("submit",function(){return r.onUpload()}),h(1,"label")(2,"input",1),P("change",function(o){return r.onFileSelect(o)}),f()(),h(3,"button",2),_(4),f()()),t&2&&(C(3),b("disabled",r.isLoading||!r.selectedFile),C(),Ie(" ",r.isLoading?"Uploading...":"Upload Image"," "))},dependencies:[Ws,qs,kc],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-upload[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1rem;max-width:300px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})}});function aj(n,e){if(n&1){let t=Z();h(0,"button",29),P("click",function(){B(t);let i=O(2);return $(i.onDeleteClick())}),R(1,"img",30),f()}}function cj(n,e){if(n&1){let t=Z();h(0,"img",31),P("click",function(){B(t);let i=O(2);return $(i.toggleImageUpload())}),f()}if(n&2){let t=O(2);b("src",t.contact.img,Nt)}}function lj(n,e){if(n&1){let t=Z();h(0,"div",33),P("click",function(){B(t);let i=O(3);return $(i.toggleImageUpload())}),_(1),f()}if(n&2){let t=O(3);C(),Ie(" ",t.getInitials(t.contact.name)," ")}}function uj(n,e){if(n&1){let t=Z();h(0,"img",34),P("click",function(){B(t);let i=O(3);return $(i.toggleImageUpload())}),f()}}function dj(n,e){if(n&1&&N(0,lj,2,1,"div",32)(1,uj,1,0,"ng-template",null,1,or),n&2){let t=bt(2),r=O(2);b("ngIf",r.contact.name)("ngIfElse",t)}}function fj(n,e){if(n&1){let t=Z();h(0,"div",35)(1,"image-upload",36),P("imageUploaded",function(i){B(t);let o=O(2);return $(o.onImageUploaded(i))})("uploadError",function(i){B(t);let o=O(2);return $(o.onUploadError(i))}),f()()}}function hj(n,e){n&1&&(h(0,"span"),_(1,"Name is required!"),f())}function pj(n,e){n&1&&(h(0,"span"),_(1,"Name must be at least 3 characters long!"),f())}function gj(n,e){if(n&1&&(h(0,"p",38),N(1,hj,2,0,"span",18)(2,pj,2,0,"span",18),f()),n&2){let t=O().ngIf;C(),b("ngIf",t.errors.required),C(),b("ngIf",t.errors.minlength)}}function mj(n,e){if(n&1&&(_t(0),N(1,gj,3,2,"p",37),Ct()),n&2){let t=e.ngIf;C(),b("ngIf",t.errors&&t.touched)}}function vj(n,e){n&1&&(h(0,"div",15)(1,"label",39),_(2,"Last Name"),f(),R(3,"input",40),f())}function yj(n,e){n&1&&(h(0,"span"),_(1,"Last name is required!"),f())}function _j(n,e){n&1&&(h(0,"span"),_(1,"Last name must be at least 3 characters long!"),f())}function Cj(n,e){if(n&1&&(h(0,"p",38),N(1,yj,2,0,"span",18)(2,_j,2,0,"span",18),f()),n&2){let t=O().ngIf;C(),b("ngIf",t.errors.required),C(),b("ngIf",t.errors.minlength)}}function bj(n,e){if(n&1&&(_t(0),N(1,Cj,3,2,"p",37),Ct()),n&2){let t=e.ngIf;C(),b("ngIf",t.errors&&t.touched)}}function wj(n,e){n&1&&(h(0,"span"),_(1,"Phone number is required!"),f())}function Ej(n,e){n&1&&(h(0,"span"),_(1,"Phone number is not valid!"),f())}function Dj(n,e){if(n&1&&(h(0,"p",38),N(1,wj,2,0,"span",18)(2,Ej,2,0,"span",18),f()),n&2){let t=O().ngIf;C(),b("ngIf",t.errors.required),C(),b("ngIf",t.errors.pattern)}}function Mj(n,e){if(n&1&&(_t(0),N(1,Dj,3,2,"p",37),Ct()),n&2){let t=e.ngIf;C(),b("ngIf",t.errors&&t.touched)}}function Sj(n,e){n&1&&(h(0,"span"),_(1,"Email is required!"),f())}function Ij(n,e){n&1&&(h(0,"span"),_(1," Email is not valid! "),f())}function xj(n,e){if(n&1&&(h(0,"p",38),N(1,Sj,2,0,"span",18)(2,Ij,2,0,"span",18),f()),n&2){let t=O().ngIf;C(),b("ngIf",t.errors.required),C(),b("ngIf",!t.errors.nonEnglishLetters&&t.errors.email)}}function Tj(n,e){if(n&1&&(_t(0),N(1,xj,3,2,"p",37),Ct()),n&2){let t=e.ngIf;C(),b("ngIf",t.errors&&t.touched)}}function Oj(n,e){n&1&&(h(0,"span"),_(1,"Birth date is required!"),f())}function Pj(n,e){if(n&1&&(h(0,"p",38),N(1,Oj,2,0,"span",18),f()),n&2){let t=O().ngIf;C(),b("ngIf",t.errors.required)}}function Aj(n,e){if(n&1&&(_t(0),N(1,Pj,2,1,"p",37),Ct()),n&2){let t=e.ngIf;C(),b("ngIf",t.errors&&t.touched)}}function Nj(n,e){if(n&1){let t=Z();h(0,"div",41)(1,"label",42)(2,"input",43),P("change",function(i){B(t);let o=O(2);return $(o.onToggleLastName(i))}),f(),R(3,"span",44),f(),h(4,"span",45),_(5,"Add Last Name"),f()()}if(n&2){let t=O(2);C(2),b("checked",t.IsLastName||t.contact.lastName)}}function kj(n,e){if(n&1){let t=Z();h(0,"div",4)(1,"section",5),P("clickOutsideCapture",function(){B(t);let i=O();return $(i.onBack())}),h(2,"section",6)(3,"a",7),R(4,"img",8),f(),N(5,aj,2,0,"button",9),f(),h(6,"div",10),N(7,cj,1,1,"img",11)(8,dj,3,2,"ng-template",null,0,or)(10,fj,2,0,"div",12),f(),h(11,"form",13),P("ngSubmit",function(){B(t);let i=O();return $(i.onSaveContact())}),h(12,"h2"),_(13),f(),h(14,"div",14)(15,"div",15)(16,"label",16),_(17,"Name"),f(),R(18,"input",17),f(),N(19,mj,2,1,"ng-container",18)(20,vj,4,0,"div",19)(21,bj,2,1,"ng-container",18),h(22,"div",15)(23,"label",20),_(24,"Phone"),f(),R(25,"input",21),f(),N(26,Mj,2,1,"ng-container",18),h(27,"div",15)(28,"label",22),_(29,"Email"),f(),R(30,"input",23),f(),N(31,Tj,2,1,"ng-container",18),h(32,"div",15)(33,"label",24),_(34,"Birth"),f(),R(35,"input",25),f(),N(36,Aj,2,1,"ng-container",18),h(37,"div",26),N(38,Nj,6,1,"div",27),h(39,"button",28),_(40," Save "),f()()()()()()}if(n&2){let t=bt(9),r=O();C(5),b("ngIf",r.contact._id),C(2),b("ngIf",r.contact.img)("ngIfElse",t),C(3),b("ngIf",r.showImageUpload),C(),b("formGroup",r.form),C(2),Ie("",r.contact._id?"Edit":"Add"," Contact"),C(6),b("ngIf",r.form.controls.name),C(),b("ngIf",r.IsLastName||r.contact.lastName),C(),b("ngIf",r.form.controls.lastName),C(5),b("ngIf",r.form.controls.phone),C(5),b("ngIf",r.form.controls.email),C(5),b("ngIf",r.form.controls.birth),C(2),b("ngIf",!r.contact.lastName),C(),b("disabled",r.form.invalid)}}var Rc,TI=p(()=>{"use strict";x();_i();ut();De();nn();xe();x();nn();xe();Ci();ut();Ty();bi();Vs();Wy();Rc=class n{constructor(e,t,r){this.fb=e;this.datePipe=t;this.msgService=r}IsLastName=!1;showImageUpload=!1;form;showDeleteModal=!1;formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}contactService=v(Vt);contact=this.contactService.getEmptyContact();router=v(Te);route=v(Ft);destroySubject$=new he;ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Bn.required,Bn.minLength(3)]],lastName:[e?this.contact.lastName:"",[Bn.minLength(3)]],phone:[e?this.contact.phone:"",[Bn.required,Bn.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Bn.required,Bn.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date),[Bn.required]],img:[e?this.contact.img:""],_id:[e?this.contact._id:null]}),this.route.data.pipe(L(t=>t.contact),je(t=>!!t),Qn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue(U(E({},t),{birth:r}))})}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(Qn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=E({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),this.contactService.saveContact(e).pipe(Qn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}static \u0275fac=function(t){return new(t||n)(D(bI),D(ps),D(Et))};static \u0275cmp=ee({type:n,selectors:[["contact-edit"]],features:[at([ps])],decls:3,vars:3,consts:[["fallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"contact-image-container"],["alt","Contact Image","class","contact-image",3,"src","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","form-input",4,"ngIf"],["for","phone"],["formControlName","phone","placeholder","Phone number","id","phone"],["for","email"],["formControlName","email","placeholder","Contact Email","id","email"],["for","birthday"],["type","date","formControlName","birth","id","birthday"],["evStop","",1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],["alt","Contact Image",1,"contact-image",3,"click","src"],["class","default-avatar",3,"click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click"],["src","../../../assets/images/contact.png","alt","Default Contact Image",1,"contact-image",3,"click"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["class","errors",4,"ngIf"],[1,"errors"],["for","lastName"],["formControlName","lastName","placeholder","Contact Last Name","id","lastName"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(N(0,kj,41,14,"div",2),h(1,"section")(2,"app-modal",3),P("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(b("ngIf",r.contact),C(2),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[Me,Cn,Ws,wn,ur,qs,By,$y,js,Dt,bn,Ks],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:25em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:#bdc3c7;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:700;color:#34495e;border:3px solid #f1c40f;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px;margin-top:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}']})}});function OI(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function PI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(wp(200),mr(),Ue(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function AI(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Pf=p(()=>{"use strict";De();_i()});var Af,NI=p(()=>{"use strict";nn();Pf();x();Af=class n{validate(e){return OI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","appEmailValidator",""]],features:[at([{provide:En,useExisting:n,multi:!0}])]})}});var Nf,kI=p(()=>{"use strict";nn();Pf();x();wt();Nf=class n{constructor(e){this.userService=e}validate(e){return PI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(_e))};static \u0275dir=pe({type:n,selectors:[["","appEmailTaken",""]],features:[at([{provide:zs,useExisting:n,multi:!0}])]})}});var kf,RI=p(()=>{"use strict";nn();Pf();x();kf=class n{validate(e){return AI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","appPasswordValidator",""]],features:[at([{provide:En,useExisting:n,multi:!0}])]})}});var Rf,FI=p(()=>{"use strict";nn();x();Rf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","appFullNameValidator",""]],features:[at([{provide:En,useExisting:n,multi:!0}])]})}});function Uj(n,e){n&1&&(h(0,"span"),_(1,"Username is required."),f())}function Bj(n,e){n&1&&(h(0,"span"),_(1," Username must be at least 3 characters long. "),f())}function $j(n,e){if(n&1&&(h(0,"div",14),N(1,Uj,2,0,"span",11)(2,Bj,2,0,"span",11),h(3,"span"),_(4,"Enter your full name (first name and last name)."),f()()),n&2){O();let t=bt(8);C(),b("ngIf",t.errors==null?null:t.errors.required),C(),b("ngIf",t.errors==null?null:t.errors.minlength)}}function Hj(n,e){n&1&&(h(0,"span"),_(1,"Password is required."),f())}function zj(n,e){n&1&&(h(0,"span"),_(1,"Password must be at least 6 characters long."),f())}function qj(n,e){n&1&&(h(0,"span"),_(1,"Password must contain at least one capital letter."),f())}function Wj(n,e){n&1&&(h(0,"span"),_(1,"Password must contain at least one special character."),f())}function Gj(n,e){if(n&1&&(h(0,"div",14),N(1,Hj,2,0,"span",11)(2,zj,2,0,"span",11)(3,qj,2,0,"span",11)(4,Wj,2,0,"span",11),f()),n&2){O();let t=bt(14);C(),b("ngIf",t.errors==null?null:t.errors.required),C(),b("ngIf",t.errors==null?null:t.errors.minlength),C(),b("ngIf",t.errors==null?null:t.errors.noCapitalLetter),C(),b("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function Kj(n,e){n&1&&(h(0,"span"),_(1,"Email is required."),f())}function Yj(n,e){n&1&&(h(0,"span"),_(1,"Please enter a valid email address."),f())}function Qj(n,e){n&1&&(h(0,"span"),_(1,"This email is already registered."),f())}function Zj(n,e){if(n&1&&(h(0,"div",14),N(1,Kj,2,0,"span",11)(2,Yj,2,0,"span",11)(3,Qj,2,0,"span",11),f()),n&2){O();let t=bt(4);C(),b("ngIf",t.errors==null?null:t.errors.required),C(),b("ngIf",t.errors==null?null:t.errors.email),C(),b("ngIf",t.errors==null?null:t.errors.emailTaken)}}function Jj(n,e){n&1&&(h(0,"div",18),_(1," Checking email availability... "),f())}function Xj(n,e){if(n&1){let t=Z();_t(0),h(1,"label",15),_(2,"Email:"),f(),h(3,"input",16,3),mn("ngModelChange",function(i){B(t);let o=O();return kn(o.user.email,i)||(o.user.email=i),$(i)}),f(),N(5,Zj,4,3,"div",8)(6,Jj,2,0,"div",17),R(7,"br"),Ct()}if(n&2){let t=bt(4),r=O();C(3),gn("ngModel",r.user.email),b("ngModelOptions",as(5,jj))("ngModel",r.user.email),C(2),b("ngIf",t.touched&&t.invalid),C(),b("ngIf",t.pending)}}function eU(n,e){if(n&1&&(h(0,"p",14),_(1),f()),n&2){let t=O();C(),gt(t.errorMessage)}}var jj,Fc,LI=p(()=>{"use strict";x();wt();ut();Ci();xe();nn();NI();kI();RI();FI();jj=()=>({updateOn:"change"});Fc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=U(E({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(_e),D(Te),D(Et),D(Ft))};static \u0275cmp=ee({type:n,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=Z();h(0,"div",4)(1,"h4"),_(2),f(),h(3,"form",5,0),P("ngSubmit",function(){return B(i),$(r.onSubmit())}),h(5,"label",6),_(6,"Username:"),f(),h(7,"input",7,1),mn("ngModelChange",function(s){return B(i),kn(r.user.username,s)||(r.user.username=s),$(s)}),f(),N(9,$j,5,2,"div",8),R(10,"br"),h(11,"label",9),_(12,"Password:"),f(),h(13,"input",10,2),mn("ngModelChange",function(s){return B(i),kn(r.user.password,s)||(r.user.password=s),$(s)}),f(),N(15,Gj,5,4,"div",8),R(16,"br"),N(17,Xj,8,6,"ng-container",11),h(18,"button",12),_(19),f(),h(20,"p"),_(21),h(22,"a",13),P("click",function(s){return B(i),r.toggleMode(),$(s.preventDefault())}),_(23),f()(),R(24,"br"),f(),N(25,eU,2,1,"p",8),f()}if(t&2){let i=bt(4),o=bt(8),s=bt(14);C(2),gt(r.isSignupMode?"Create an Account":"Sign In"),C(5),gn("ngModel",r.user.username),C(2),b("ngIf",o.touched&&o.invalid),C(4),gn("ngModel",r.user.password),C(2),b("ngIf",s.touched&&s.invalid),C(2),b("ngIf",r.isSignupMode),C(),b("disabled",i.invalid),C(),Ie(" ",r.isSignupMode?"Sign Up":"Log In"," "),C(2),Ie(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),C(2),Ie(" ",r.isSignupMode?"Sign in here":"Create an account"," "),C(2),b("ngIf",r.errorMessage)}},dependencies:[Me,Ws,wn,ur,qs,Hy,zy,Lr,kc,Af,Nf,kf,Rf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var ho,VI=p(()=>{"use strict";x();ut();wt();De();Ci();ho=(n,e)=>{let t=v(_e),r=v(Te),i=v(Et);return t.loggedInUser$.pipe(ln(100),L(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var Ff,jI=p(()=>{"use strict";x();Ff=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(h(0,"html",0)(1,"head"),R(2,"meta",1)(3,"meta",2),h(4,"title"),_(5,"Privacy Policy - My Accounts App"),f(),R(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),_(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),_(19,"Effective Date:"),f(),_(20," 07/02/2025"),f(),h(21,"p"),_(22,"Welcome to "),h(23,"strong"),_(24,"My Accounts App"),f(),_(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),_(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),_(31,"Personal Information:"),f(),_(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),_(35,"Usage Data:"),f(),_(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),_(39,"Device Information:"),f(),_(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),_(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),_(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),_(47,"Personalize your experience."),f(),h(48,"li"),_(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),_(51,"Comply with legal requirements."),f()(),h(52,"h2"),_(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),_(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),_(59,"Service Providers:"),f(),_(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),_(63,"Legal Authorities:"),f(),_(64," When required by law or to protect our rights."),f()(),h(65,"h2"),_(66,"4. Data Retention & Security"),f(),h(67,"p"),_(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),_(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),_(73,"Access and review your personal data."),f(),h(74,"li"),_(75,"Request correction or deletion of your information."),f(),h(76,"li"),_(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),_(79,"6. Third-Party Links"),f(),h(80,"p"),_(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),_(83,"7. Changes to This Policy"),f(),h(84,"p"),_(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),_(87,"8. Contact Us"),f(),h(88,"p"),_(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),_(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}"]})}});function nU(n,e){if(n&1){let t=Z();h(0,"user-list",6),P("remove",function(i){B(t);let o=O();return $(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;b("users",(t=r)!==null&&t!==void 0?t:as(1,tU))}}function rU(n,e){if(n&1){let t=Z();h(0,"div",7),P("clickOutsideCapture",function(){B(t);let i=O();return $(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),P("click",function(){B(t);let i=O();return $(i.closeChat("group"))}),_(3,"\xD7"),f(),R(4,"app-chat",10),f()()}n&2&&(C(4),b("chatType","group"))}function iU(n,e){if(n&1){let t=Z();h(0,"div",11)(1,"div",8)(2,"span",9),P("click",function(){B(t);let i=O();return $(i.closeChat("private"))}),_(3,"\xD7"),f(),R(4,"app-chat",10),f()()}n&2&&(C(4),b("chatType","private"))}var tU,Mi,Lf=p(()=>{"use strict";x();Rs();De();wt();Cc();x();tU=()=>[];Mi=class n{userService=v(_e);socketService=v(cr);users$;destroyRef=v(Pt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new ve(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(zt(this.destroyRef),L(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new ve(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(zt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-index"]],decls:8,vars:5,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","chat-modal",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType"],[1,"chat-modal"]],template:function(t,r){t&1&&(h(0,"section",0),R(1,"user-filter",1),N(2,nU,1,2,"user-list",2),kt(3,"async"),f(),h(4,"button",3),P("click",function(){return r.openChat("group")}),_(5,"Group Chat"),f(),N(6,rU,5,1,"div",4)(7,iU,5,1,"div",5)),t&2&&(C(2),b("ngIf",$t(3,3,r.users$)),C(4),b("ngIf",r.isGroupChatOpen),C(),b("ngIf",r.isPrivateChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background-color:#007bff}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.group-chat-btn[_ngcontent-%COMP%]{right:100px}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function sU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=O().ngIf;C(),gt(t.username)}}function aU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=O().ngIf;C(),Ie("",t.username.substring(0,15),"...")}}function cU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=O().ngIf;C(),gt(t.email)}}function lU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=O().ngIf;C(),Ie("",t.email.substring(0,20),"...")}}function uU(n,e){if(n&1){let t=Z();h(0,"section",2)(1,"section",3)(2,"button",4),P("click",function(){B(t);let i=O();return $(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),_(5,"User Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),_(11,"Username:"),f(),N(12,sU,2,1,"span",9)(13,aU,2,1,"span",9),f(),h(14,"p")(15,"strong"),_(16,"Email:"),f(),N(17,cU,2,1,"span",9)(18,lU,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=O();C(7),b("src",t.img?t.img:"../../../assets/images/contact.png",Nt),C(5),b("ngIf",!r.isLongField(t.username,15)),C(),b("ngIf",r.isLongField(t.username,15)),C(4),b("ngIf",!r.isLongField(t.email,20)),C(),b("ngIf",r.isLongField(t.email,20))}}var Vf,UI=p(()=>{"use strict";x();De();ut();wt();x();xe();ut();Vf=class n{router=v(Te);route=v(Ft);subscription;userService=v(_e);user$;ngOnInit(){this.user$=this.route.data.pipe(L(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0),P("click",function(){return r.onBack()}),f(),N(1,uU,19,5,"section",1),kt(2,"async"),R(3,"router-outlet")),t&2&&(C(),b("ngIf",$t(2,1,r.user$)))},dependencies:[Me,Ln,Ht],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var BI,$I=p(()=>{"use strict";x();wt();De();Of();BI=(n,e)=>{let t=n.params.id,r=v(Di),i=v(_e);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getUserById(t).pipe(ln(250),de(o=>(console.error("Error fetching user:",o),F(null))),Wt(()=>r.hide()))}});var dU,jf,HI=p(()=>{"use strict";ut();VS();MI();SI();II();TI();LI();VI();jI();Lf();UI();$I();x();dU=[{path:"contact",component:xf,canActivate:[ho],children:[{path:"edit",component:Rc,canActivate:[ho]},{path:"edit/:id",component:Rc,resolve:{contact:qy},canActivate:[ho]}]},{path:"contact/:id",component:Tf,outlet:"modal",resolve:{contact:qy},canActivate:[ho]},{path:"login",component:Fc},{path:"signup",component:Fc},{path:"privacy-policy",component:Ff},{path:"users",component:Mi,canActivate:[ho]},{path:"user/:id",component:Vf,outlet:"modal",resolve:{user:BI},canActivate:[ho]},{path:"",component:ff}],jf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ge({imports:[Zv.forRoot(dU,{useHash:!1}),Zv]})}});function pU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function Bf(){try{return typeof indexedDB=="object"}catch{return!1}}function $f(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function KI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function CU(n,e){return n.replace(bU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function Hf(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(zI(o)&&zI(s)){if(!Hf(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function zI(n){return n!==null&&typeof n=="object"}function zf(n){return n&&n._delegate?n._delegate:n}var qI,fU,WI,Gy,hU,Ky,GI,gU,mU,vU,yU,Yy,Uf,_U,Vr,jr,bU,sX,Ys=p(()=>{"use strict";qI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},WI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[u],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Gy;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hU=function(n){let e=qI(n);return WI.encodeByteArray(e,!0)},Ky=function(n){return hU(n).replace(/\./g,"")},GI=function(n){try{return WI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};gU=()=>pU().__FIREBASE_DEFAULTS__,mU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&GI(n[1]);return e&&JSON.parse(e)},yU=()=>{try{return gU()||mU()||vU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yy=()=>{var n;return(n=yU())===null||n===void 0?void 0:n.config};Uf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};_U="FirebaseError",Vr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_U,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vr(i,a,r)}};bU=/\{\$([^}]+)}/g;sX=4*60*60*1e3;});function wU(n){return n===po?void 0:n}function EU(n){return n.instantiationMode==="EAGER"}var rn,po,Qy,qf,Wf=p(()=>{"use strict";Ys();rn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};po="[DEFAULT]";Qy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Uf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EU(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};qf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Qy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var DU,Be,MU,SU,IU,xU,Gf,YI=p(()=>{"use strict";DU=[],Be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Be||{}),MU={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},SU=Be.INFO,IU={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},xU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=IU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gf=class{constructor(e){this.name=e,this._logLevel=SU,this._logHandler=xU,this._userLogHandler=null,DU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}});function OU(){return QI||(QI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PU(){return ZI||(ZI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function AU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t($n(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&JI.set(t,n)}).catch(()=>{}),e_.set(e,n),e}function NU(n){if(Jy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Jy.set(n,e)}function ex(n){Xy=n(Xy)}function kU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Kf(this),e,...t);return XI.set(r,e.sort?e.sort():[e]),$n(r)}:PU().includes(n)?function(...e){return n.apply(Kf(this),e),$n(JI.get(this))}:function(...e){return $n(n.apply(Kf(this),e))}}function RU(n){return typeof n=="function"?kU(n):(n instanceof IDBTransaction&&NU(n),TU(n,OU())?new Proxy(n,Xy):n)}function $n(n){if(n instanceof IDBRequest)return AU(n);if(Zy.has(n))return Zy.get(n);let e=RU(n);return e!==n&&(Zy.set(n,e),e_.set(e,n)),e}var TU,QI,ZI,JI,Jy,XI,Zy,e_,Xy,Kf,t_=p(()=>{"use strict";TU=(n,e)=>e.some(t=>n instanceof t);JI=new WeakMap,Jy=new WeakMap,XI=new WeakMap,Zy=new WeakMap,e_=new WeakMap;Xy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $n(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};Kf=n=>e_.get(n)});function go(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=$n(s);return r&&s.addEventListener("upgradeneeded",c=>{r($n(s.result),c.oldVersion,c.newVersion,$n(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Yf(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),$n(t).then(()=>{})}function tx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(n_.get(e))return n_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=LU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FU.includes(t)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return n_.set(e,o),o}var FU,LU,n_,Qf=p(()=>{"use strict";t_();t_();FU=["get","getKey","getAll","getAllKeys","count"],LU=["put","add","delete","clear"],n_=new Map;ex(n=>U(E({},n),{get:(e,t,r)=>tx(e,t)||n.get(e,t,r),has:(e,t)=>!!tx(e,t)||n.has(e,t)}))});function VU(n){let e=n.getComponent();return e?.type==="VERSION"}function rx(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Br(n){let e=n.name;if(a_.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,n);for(let t of Zf.values())rx(t,n);for(let t of fB.values())rx(t,n);return!0}function Vc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function d_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:s_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(t||(t=Yy()),!t)throw Si.create("no-options");let o=Zf.get(i);if(o){if(Hf(t,o.options)&&Hf(r,o.config))return o;throw Si.create("duplicate-app",{appName:i})}let s=new qf(i);for(let c of a_.values())s.addComponent(c);let a=new c_(t,r,s);return Zf.set(i,a),a}function f_(n=s_){let e=Zf.get(n);if(!e&&n===s_&&Yy())return d_();if(!e)throw Si.create("no-app",{appName:n});return e}function Hn(n,e,t){var r;let i=(r=dB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}Br(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function ax(){return r_||(r_=go(pB,gB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),r_}function mB(n){return I(this,null,function*(){try{let t=(yield ax()).transaction(Lc),r=yield t.objectStore(Lc).get(cx(n));return yield t.done,r}catch(e){if(e instanceof Vr)Ur.warn(e.message);else{let t=Si.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(t.message)}}})}function ix(n,e){return I(this,null,function*(){try{let r=(yield ax()).transaction(Lc,"readwrite");yield r.objectStore(Lc).put(e,cx(n)),yield r.done}catch(t){if(t instanceof Vr)Ur.warn(t.message);else{let r=Si.create("idb-set",{originalErrorMessage:t?.message});Ur.warn(r.message)}}})}function cx(n){return`${n.name}!${n.options.appId}`}function ox(){return new Date().toISOString().substring(0,10)}function _B(n,e=vB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function sx(n){return Ky(JSON.stringify({version:2,heartbeats:n})).length}function CB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function bB(n){Br(new rn("platform-logger",e=>new i_(e),"PRIVATE")),Br(new rn("heartbeat",e=>new l_(e),"PRIVATE")),Hn(o_,nx,n),Hn(o_,nx,"esm2017"),Hn("fire-js","")}var i_,o_,nx,Ur,jU,UU,BU,$U,HU,zU,qU,WU,GU,KU,YU,QU,ZU,JU,XU,eB,tB,nB,rB,iB,oB,sB,aB,cB,lB,uB,s_,dB,Zf,fB,a_,hB,Si,c_,pB,gB,Lc,r_,vB,yB,l_,u_,jc=p(()=>{"use strict";Wf();YI();Ys();Ys();Qf();i_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};o_="@firebase/app",nx="0.11.0";Ur=new Gf("@firebase/app"),jU="@firebase/app-compat",UU="@firebase/analytics-compat",BU="@firebase/analytics",$U="@firebase/app-check-compat",HU="@firebase/app-check",zU="@firebase/auth",qU="@firebase/auth-compat",WU="@firebase/database",GU="@firebase/data-connect",KU="@firebase/database-compat",YU="@firebase/functions",QU="@firebase/functions-compat",ZU="@firebase/installations",JU="@firebase/installations-compat",XU="@firebase/messaging",eB="@firebase/messaging-compat",tB="@firebase/performance",nB="@firebase/performance-compat",rB="@firebase/remote-config",iB="@firebase/remote-config-compat",oB="@firebase/storage",sB="@firebase/storage-compat",aB="@firebase/firestore",cB="@firebase/vertexai",lB="@firebase/firestore-compat",uB="firebase";s_="[DEFAULT]",dB={[o_]:"fire-core",[jU]:"fire-core-compat",[BU]:"fire-analytics",[UU]:"fire-analytics-compat",[HU]:"fire-app-check",[$U]:"fire-app-check-compat",[zU]:"fire-auth",[qU]:"fire-auth-compat",[WU]:"fire-rtdb",[GU]:"fire-data-connect",[KU]:"fire-rtdb-compat",[YU]:"fire-fn",[QU]:"fire-fn-compat",[ZU]:"fire-iid",[JU]:"fire-iid-compat",[XU]:"fire-fcm",[eB]:"fire-fcm-compat",[tB]:"fire-perf",[nB]:"fire-perf-compat",[rB]:"fire-rc",[iB]:"fire-rc-compat",[oB]:"fire-gcs",[sB]:"fire-gcs-compat",[aB]:"fire-fst",[lB]:"fire-fst-compat",[cB]:"fire-vertex","fire-js":"fire-js",[uB]:"fire-js-all"};Zf=new Map,fB=new Map,a_=new Map;hB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new jr("app","Firebase",hB);c_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}};pB="firebase-heartbeat-database",gB=1,Lc="firebase-heartbeat-store",r_=null;vB=1024,yB=30,l_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new u_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ox();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yB){let s=CB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ox(),{heartbeatsToSend:r,unsentEntries:i}=_B(this._heartbeatsCache.heartbeats),o=Ky(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ur.warn(t),""}})}};u_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Bf()?$f().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield mB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ix(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ix(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};bB("")});var wB,EB,lx=p(()=>{"use strict";jc();jc();wB="firebase",EB="11.3.0";Hn(wB,EB,"app")});function mx(n){return n instanceof Vr&&n.code.includes("request-failed")}function vx({projectId:n}){return`${DB}/projects/${n}/installations`}function yx(n){return{token:n.token,requestStatus:2,expiresIn:OB(n.expiresIn),creationTime:Date.now()}}function _x(n,e){return I(this,null,function*(){let r=(yield e.json()).error;return vo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Cx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function TB(n,{refreshToken:e}){let t=Cx(n);return t.append("Authorization",PB(e)),t}function bx(n){return I(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function OB(n){return Number(n.replace("s","000"))}function PB(n){return`${gx} ${n}`}function AB(r,i){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=vx(n),s=Cx(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:gx,appId:n.appId,sdkVersion:px},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield bx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:yx(d.authToken)}}else throw yield _x("Create Installation",u)})}function wx(n){return new Promise(e=>{setTimeout(e,n)})}function NB(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function RB(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=LB(n);return kB.test(t)?t:g_}catch{return g_}}function LB(n){return NB(n).substr(0,22)}function Xf(n){return`${n.appName}!${n.appId}`}function Dx(n,e){let t=Xf(n);Mx(t,e),VB(t,e)}function Mx(n,e){let t=Ex.get(n);if(t)for(let r of t)r(e)}function VB(n,e){let t=jB();t&&t.postMessage({key:n,fid:e}),UB()}function jB(){return!mo&&"BroadcastChannel"in self&&(mo=new BroadcastChannel("[Firebase] FID Change"),mo.onmessage=n=>{Mx(n.data.key,n.data.fid)}),mo}function UB(){Ex.size===0&&mo&&(mo.close(),mo=null)}function v_(){return h_||(h_=go(BB,$B,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(yo)}}})),h_}function Jf(n,e){return I(this,null,function*(){let t=Xf(n),i=(yield v_()).transaction(yo,"readwrite"),o=i.objectStore(yo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&Dx(n,e.fid),e})}function Sx(n){return I(this,null,function*(){let e=Xf(n),r=(yield v_()).transaction(yo,"readwrite");yield r.objectStore(yo).delete(e),yield r.done})}function eh(n,e){return I(this,null,function*(){let t=Xf(n),i=(yield v_()).transaction(yo,"readwrite"),o=i.objectStore(yo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&Dx(n,a.fid),a})}function y_(n){return I(this,null,function*(){let e,t=yield eh(n.appConfig,r=>{let i=HB(r),o=zB(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===g_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function HB(n){let e=n||{fid:RB(),registrationStatus:0};return Ix(e)}function zB(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=qB(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WB(n)}:{installationEntry:e}}function qB(n,e){return I(this,null,function*(){try{let t=yield AB(n,e);return Jf(n.appConfig,t)}catch(t){throw mx(t)&&t.customData.serverCode===409?yield Sx(n.appConfig):yield Jf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function WB(n){return I(this,null,function*(){let e=yield ux(n.appConfig);for(;e.registrationStatus===1;)yield wx(100),e=yield ux(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield y_(n);return r||t}return e})}function ux(n){return eh(n,e=>{if(!e)throw vo.create("installation-not-found");return Ix(e)})}function Ix(n){return GB(n)?{fid:n.fid,registrationStatus:0}:n}function GB(n){return n.registrationStatus===1&&n.registrationTime+hx<Date.now()}function KB(r,i){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=YB(n,t),s=TB(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:px,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield bx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return yx(d)}else throw yield _x("Generate Auth Token",u)})}function YB(n,{fid:e}){return`${vx(n)}/${e}/authTokens:generate`}function __(n,e=!1){return I(this,null,function*(){let t,r=yield eh(n.appConfig,o=>{if(!xx(o))throw vo.create("not-registered");let s=o.authToken;if(!e&&JB(s))return o;if(s.requestStatus===1)return t=QB(n,e),o;{if(!navigator.onLine)throw vo.create("app-offline");let a=e$(o);return t=ZB(n,a),a}});return t?yield t:r.authToken})}function QB(n,e){return I(this,null,function*(){let t=yield dx(n.appConfig);for(;t.authToken.requestStatus===1;)yield wx(100),t=yield dx(n.appConfig);let r=t.authToken;return r.requestStatus===0?__(n,e):r})}function dx(n){return eh(n,e=>{if(!xx(e))throw vo.create("not-registered");let t=e.authToken;return t$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ZB(n,e){return I(this,null,function*(){try{let t=yield KB(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Jf(n.appConfig,r),t}catch(t){if(mx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield Sx(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Jf(n.appConfig,r)}throw t}})}function xx(n){return n!==void 0&&n.registrationStatus===2}function JB(n){return n.requestStatus===2&&!XB(n)}function XB(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+MB}function e$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function t$(n){return n.requestStatus===1&&n.requestTime+hx<Date.now()}function n$(n){return I(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield y_(e);return r?r.catch(console.error):__(e).catch(console.error),t.fid})}function r$(n,e=!1){return I(this,null,function*(){let t=n;return yield i$(t),(yield __(t,e)).token})}function i$(n){return I(this,null,function*(){let{registrationPromise:e}=yield y_(n);e&&(yield e)})}function o$(n){if(!n||!n.options)throw p_("App Configuration");if(!n.name)throw p_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw p_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function p_(n){return vo.create("missing-app-config-values",{valueName:n})}function l$(){Br(new rn(Tx,a$,"PUBLIC")),Br(new rn(s$,c$,"PRIVATE"))}var fx,m_,hx,px,gx,DB,MB,SB,IB,xB,vo,kB,g_,Ex,mo,BB,$B,yo,h_,Tx,s$,a$,c$,Ox=p(()=>{"use strict";jc();Wf();Ys();Qf();fx="@firebase/installations",m_="0.6.12";hx=1e4,px=`w:${m_}`,gx="FIS_v2",DB="https://firebaseinstallations.googleapis.com/v1",MB=60*60*1e3,SB="installations",IB="Installations";xB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new jr(SB,IB,xB);kB=/^[cdef][\w-]{21}$/,g_="";Ex=new Map;mo=null;BB="firebase-installations-database",$B=1,yo="firebase-installations-store",h_=null;Tx="installations",s$="installations-internal",a$=n=>{let e=n.getProvider("app").getImmediate(),t=o$(e),r=Vc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},c$=n=>{let e=n.getProvider("app").getImmediate(),t=Vc(e,Tx).getImmediate();return{getId:()=>n$(t),getToken:i=>r$(t,i)}};l$();Hn(fx,m_);Hn(fx,m_,"esm2017")});function $r(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function y$(n){return I(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(C_))return null;let e=null;return(yield go(C_,v$,{upgrade:(r,i,o,s)=>I(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(Ax))return;let c=s.objectStore(Ax),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:$r(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:$r(u.auth),p256dh:$r(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:$r(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:$r(u.auth),p256dh:$r(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:$r(u.vapidKey)}}}}})})).close(),yield Yf(C_),yield Yf("fcm_vapid_details_db"),yield Yf("undefined"),_$(e)?e:null})}function _$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function jx(){return b_||(b_=go(C$,b$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Uc)}}})),b_}function w$(n){return I(this,null,function*(){let e=Ux(n),r=yield(yield jx()).transaction(Uc).objectStore(Uc).get(e);if(r)return r;{let i=yield y$(n.appConfig.senderId);if(i)return yield D_(n,i),i}})}function D_(n,e){return I(this,null,function*(){let t=Ux(n),i=(yield jx()).transaction(Uc,"readwrite");return yield i.objectStore(Uc).put(e,t),yield i.done,e})}function Ux({appConfig:n}){return n.appId}function D$(n,e){return I(this,null,function*(){let t=yield S_(n),r=Bx(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(M_(n.appConfig),i)).json()}catch(s){throw Mt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Mt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Mt.create("token-subscribe-no-token");return o.token})}function M$(n,e){return I(this,null,function*(){let t=yield S_(n),r=Bx(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${M_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Mt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Mt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Mt.create("token-update-no-token");return o.token})}function S$(n,e){return I(this,null,function*(){let r={method:"DELETE",headers:yield S_(n)};try{let o=yield(yield fetch(`${M_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw Mt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Mt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function M_({projectId:n}){return`${f$}/projects/${n}/registrations`}function S_(t){return I(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function Bx({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Lx&&(i.web.applicationPubKey=r),i}function x$(n){return I(this,null,function*(){let e=yield O$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:$r(e.getKey("auth")),p256dh:$r(e.getKey("p256dh"))},r=yield w$(n.firebaseDependencies);if(r){if(P$(r.subscriptionOptions,t))return Date.now()>=r.createTime+I$?T$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield S$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Nx(n.firebaseDependencies,t)}else return Nx(n.firebaseDependencies,t)})}function T$(n,e){return I(this,null,function*(){try{let t=yield M$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield D_(n.firebaseDependencies,r),t}catch(t){throw t}})}function Nx(n,e){return I(this,null,function*(){let r={token:yield D$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield D_(n,r),r.token})}function O$(n,e){return I(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m$(e)})})}function P$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function kx(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return A$(e,n),N$(e,n),k$(e,n),e}function A$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function N$(n,e){e.data&&(n.data=e.data)}function k$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function R$(n){return typeof n=="object"&&!!n&&Vx in n}function F$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function L$(n){if(!n||!n.options)throw w_("App Configuration Object");if(!n.name)throw w_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw w_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function w_(n){return Mt.create("missing-app-config-values",{valueName:n})}function V$(n){return I(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(u$,{scope:d$}),n.swRegistration.update().catch(()=>{}),yield j$(n.swRegistration)}catch(e){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function j$(n){return I(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${Px} ms`)),Px),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function U$(n,e){return I(this,null,function*(){if(!e&&!n.swRegistration&&(yield V$(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");n.swRegistration=e}})}function B$(n,e){return I(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Lx)})}function $x(n,e){return I(this,null,function*(){if(!navigator)throw Mt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Mt.create("permission-blocked");return yield B$(n,e?.vapidKey),yield U$(n,e?.serviceWorkerRegistration),x$(n)})}function $$(n,e,t){return I(this,null,function*(){let r=H$(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Vx],message_name:t[h$],message_time:t[p$],message_device_time:Math.floor(Date.now()/1e3)})})}function H$(n){switch(n){case th.NOTIFICATION_CLICKED:return"notification_open";case th.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function z$(n,e){return I(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===th.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(kx(t)):n.onMessageHandler.next(kx(t)));let r=t.data;R$(r)&&r[g$]==="1"&&(yield $$(n,t.messageType,r))})}function G$(){Br(new rn("messaging",q$,"PUBLIC")),Br(new rn("messaging-internal",W$,"PRIVATE")),Hn(Rx,Fx),Hn(Rx,Fx,"esm2017")}function K$(){return I(this,null,function*(){try{yield $f()}catch{return!1}return typeof window<"u"&&Bf()&&KI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function Y$(n,e){if(!navigator)throw Mt.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function Hx(n=f_()){return K$().then(e=>{if(!e)throw Mt.create("unsupported-browser")},e=>{throw Mt.create("indexed-db-unsupported")}),Vc(zf(n),"messaging").getImmediate()}function zx(n,e){return I(this,null,function*(){return n=zf(n),$x(n,e)})}function qx(n,e){return n=zf(n),Y$(n,e)}var u$,d$,Lx,f$,Vx,h$,p$,g$,Px,th,C_,v$,Ax,C$,b$,Uc,b_,E$,Mt,I$,E_,Rx,Fx,q$,W$,Wx=p(()=>{"use strict";Ox();Wf();Qf();Ys();jc();u$="/firebase-messaging-sw.js",d$="/firebase-cloud-messaging-push-scope",Lx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",f$="https://fcmregistrations.googleapis.com/v1",Vx="google.c.a.c_id",h$="google.c.a.c_l",p$="google.c.a.ts",g$="google.c.a.e",Px=1e4;th=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(th||{});C_="fcm_token_details_db",v$=5,Ax="fcm_token_object_Store";C$="firebase-messaging-database",b$=1,Uc="firebase-messaging-store",b_=null;E$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Mt=new jr("messaging","Messaging",E$);I$=7*24*60*60*1e3;F$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");E_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=L$(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};Rx="@firebase/messaging",Fx="0.12.16";q$=n=>{let e=new E_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>z$(e,t)),e},W$=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>$x(e,r)}};G$()});var Gx=p(()=>{"use strict";Wx()});function Q$(n){return Li(()=>nt(new Error(n)))}function Z$(n,e,t,r){return()=>{if(!(vd(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(ye),o=n.get(vn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=F(null);break;case"registerWithDelay":s=Yx(+c[0]||0);break;case"registerWhenStable":let l=W(n.get(vn).whenStable());s=c[0]?Vl(l,Yx(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(Oe(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Yx(n){return F(null).pipe(ln(n))}function J$(n,e){return new Qs(vd(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function X$(n,e={}){return ns([nh,rh,{provide:Kx,useValue:n},{provide:Bc,useValue:e},{provide:Qs,useFactory:J$,deps:[Bc,Yt]},{provide:ls,useFactory:Z$,deps:[Ze,Kx,Bc,Yt],multi:!0}])}var $c,Qs,nh,rh,Kx,Bc,Qx,I_=p(()=>{"use strict";x();x();xe();De();Kr();$c="Service workers are disabled or not supported by this browser";Qs=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Q$($c);else{let r=Vo(e,"controllerchange").pipe(L(()=>e.controller)),i=Li(()=>F(e.controller)),o=Kn(i,r);this.worker=o.pipe(je(u=>!!u)),this.registration=this.worker.pipe(Ue(()=>e.getRegistration()));let l=Vo(e,"message").pipe(L(u=>u.data)).pipe(je(u=>u&&u.type)).pipe(Op());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(Oe(1),ne(r=>{r.postMessage(E({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(je(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Oe(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(je(t=>t.nonce===e),Oe(1),L(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},nh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new he,!t.isEnabled){this.messages=Vi,this.notificationClicks=Vi,this.subscription=Vi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(L(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(L(i=>i.data)),this.pushManager=this.sw.registration.pipe(L(i=>i.pushManager));let r=this.pushManager.pipe(Ue(i=>i.getSubscription()));this.subscription=Vl(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error($c));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Ue(s=>s.subscribe(r)),Oe(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error($c));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Oe(1),Ue(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Qs))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),rh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Vi,this.unrecoverable=Vi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error($c));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error($c));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(A(Qs))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();Kx=new k("");Bc=class{};Qx=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[X$(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[nh,rh]})}}return n})()});var Zs,x_=p(()=>{"use strict";De();oc();x();I_();ka();Js();Zs=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return I(this,null,function*(){try{let e=yield Fi(this.http.get(`${dt.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return I(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield Fi(this.http.post(`${dt.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return I(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",{title:e.title,body:e.body});try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Sending notification to server");let r=yield Fi(this.http.post(`${dt.baseURL}/notification/send`,{title:e.title,body:e.body,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return I(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return I(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield Fi(this.http.get(`${dt.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return I(this,null,function*(){try{let e=yield Fi(this.http.get(`${dt.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(A(nh),A(ro),A(rh),A(Dn))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var n3,Dn,Js=p(()=>{"use strict";x();lx();Gx();De();x_();wt();x();n3={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},Dn=class n{messaging;fcmToken={};tokenSubject=new ve(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=v(Ze);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=d_(n3);this.messaging=Hx(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(Zs)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(_e)),this._userService}registerServiceWorker(){return I(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return I(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return I(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield zx(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){qx(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now(),new Notification(e.notification?.title??"New Notification",{body:e.notification?.body,icon:e.notification?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png"})})}sendTokenToServer(e){return I(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var ih,Jx=p(()=>{"use strict";x();ih=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var oh,Xx=p(()=>{"use strict";x();Js();oh=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return I(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>I(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(A(Dn))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function i3(n,e){n&1&&(_t(0),h(1,"a",15),_(2,"Login"),f(),h(3,"a",16),_(4,"Sign Up"),f(),Ct())}function o3(n,e){if(n&1&&(_t(0),R(1,"img",19),Ct()),n&2){let t=O(2);C(),b("src",t.loggedInUser==null?null:t.loggedInUser.img,Nt)}}function s3(n,e){if(n&1&&_(0),n&2){let t=O(2);Ie(" ",t.getUserInitial()," ")}}function a3(n,e){if(n&1){let t=Z();h(0,"div",17),P("click",function(){B(t);let i=O();return $(i.toggleUpload=!i.toggleUpload)}),N(1,o3,2,1,"ng-container",13)(2,s3,1,1,"ng-template",null,1,or),f(),h(4,"button",18),P("click",function(){B(t);let i=O();return $(i.onLogout())}),_(5,"Logout"),f()}if(n&2){let t=bt(3),r=O();C(),b("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function c3(n,e){if(n&1){let t=Z();h(0,"div")(1,"image-upload",20),P("imageUploaded",function(i){B(t);let o=O();return $(o.onImageUploaded(i))}),f()()}}var r3,sh,eT=p(()=>{"use strict";x();wt();ut();Ci();xe();Wy();r3=()=>({exact:!0});sh=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=U(E({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(_e),D(Te),D(Et))};static \u0275cmp=ee({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(h(0,"header")(1,"div",2),R(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),R(6,"img",6),f(),h(7,"a",7),R(8,"img",8),f(),h(9,"a",9),R(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),N(13,i3,5,0,"ng-container",13)(14,a3,6,2,"ng-template",null,0,or),f()(),N(16,c3,2,0,"div",14),f()),t&2){let i=bt(15);C(5),b("routerLinkActiveOptions",as(4,r3)),C(8),b("ngIf",!r.loggedInUser)("ngIfElse",i),C(3),b("ngIf",r.toggleUpload)}},dependencies:[Me,Cn,VM,Ks],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function u3(n,e){n&1&&(h(0,"div",1),R(1,"div",2),f())}var ah,tT=p(()=>{"use strict";x();Of();xe();ah=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Di))};static \u0275cmp=ee({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(N(0,u3,2,0,"div",0),kt(1,"async")),t&2&&b("ngIf",$t(1,1,r.isLoading))},dependencies:[Me,Ht],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function f3(n,e){if(n&1){let t=Z();h(0,"section")(1,"h4"),_(2),f(),h(3,"button",1),P("click",function(){B(t);let i=O();return $(i.onCloseMsg())}),_(4,"X"),f()()}if(n&2){let t=e.ngIf;zE("msg ",t.type,""),b("@toggleMsg",void 0),C(2),gt(t.txt)}}var ch,nT=p(()=>{"use strict";De();df();x();Ci();xe();ch=class n{constructor(e){this.msgService=e}msg$=F(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(Et))};static \u0275cmp=ee({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(N(0,f3,5,5,"section",0),kt(1,"async")),t&2&&b("ngIf",$t(1,1,r.msg$))},dependencies:[Me,Ht],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[lf("toggleMsg",[Mc(":enter",[Un({transform:"translateY(-100%)"}),Dc("0.3s ease-in-out",Un({transform:"translateY(0%)"}))]),Mc(":leave",[Un({transform:"translateY(0%)"}),Dc("0.3s ease-in-out",Un({transform:"translateY(-100%)"}))])])]}})}});function p3(n,e){if(n&1){let t=Z();h(0,"button",4),P("click",function(){B(t);let i=O();return $(i.installPWA())}),_(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}var lh,rT=p(()=>{"use strict";x();De();_i();Js();Jx();Xx();wt();x();xe();ut();eT();tT();nT();lh=class n{title="MyAccounts";contactService=v(Vt);firebaseService=v(Dn);pwaService=v(ih);notificationMobileService=v(oh);userService=v(_e);subscription;idleTimer;idleTime=0;idleMaxTime=600;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){this.subscription=this.contactService.loadContacts().pipe(Oe(1)).subscribe({error:e=>console.log("err:",e)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded())}),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",e=>{e.data&&e.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",e.data.token),this.userService.restoreLoginToken(e.data.token))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},5*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let e=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-e<8e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(e=>{e&&console.log("\u{1F511} FCM Token received (on init):",e)}),this.firebaseService.getTokenObservable().subscribe(e=>{e&&console.log("\u{1F511} FCM Token received:",e)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(h(0,"main",0),R(1,"app-header"),h(2,"div",1),N(3,p3,2,0,"button",2),f(),R(4,"router-outlet")(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),R(8,"msg")),t&2&&(C(3),b("ngIf",r.showInstallButton))},dependencies:[Me,Ln,sh,ah,ch],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:2em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function iT(n){return new M(3e3,!1)}function g3(){return new M(3100,!1)}function m3(){return new M(3101,!1)}function v3(n){return new M(3001,!1)}function y3(n){return new M(3003,!1)}function _3(n){return new M(3004,!1)}function C3(n,e){return new M(3005,!1)}function b3(){return new M(3006,!1)}function w3(){return new M(3007,!1)}function E3(n,e){return new M(3008,!1)}function D3(n){return new M(3002,!1)}function M3(n,e,t,r,i){return new M(3010,!1)}function S3(){return new M(3011,!1)}function I3(){return new M(3012,!1)}function x3(){return new M(3200,!1)}function T3(){return new M(3202,!1)}function O3(){return new M(3013,!1)}function P3(n){return new M(3014,!1)}function A3(n){return new M(3015,!1)}function N3(n){return new M(3016,!1)}function k3(n,e){return new M(3404,!1)}function R3(n){return new M(3502,!1)}function F3(n){return new M(3503,!1)}function L3(){return new M(3300,!1)}function V3(n){return new M(3504,!1)}function j3(n){return new M(3301,!1)}function U3(n,e){return new M(3302,!1)}function B3(n){return new M(3303,!1)}function $3(n,e){return new M(3400,!1)}function H3(n){return new M(3401,!1)}function z3(n){return new M(3402,!1)}function q3(n,e){return new M(3505,!1)}function Ii(n){switch(n.length){case 0:return new yi;case 1:return n[0];default:return new Ec(n)}}function yT(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let y=g,w=m;if(g!=="offset")switch(y=n.normalizePropertyName(y,i),w){case uf:w=t.get(g);break;case lr:w=r.get(g);break;default:w=n.normalizeStyleValue(g,y,w,i);break}d.set(y,w)}),u||o.push(d),a=d,s=l}),i.length)throw R3(i);return o}function Z_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&T_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&T_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&T_(t,"destroy",n)));break}}function T_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=J_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function J_(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function sn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function oT(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function X_(n){let e=n.parentNode||n.host||null;return e===W3?null:e}function G3(n){return n.substring(1,6)=="ebkit"}function K3(n){_o||(_o=Y3()||{},sT=_o.style?"WebkitAppearance"in _o.style:!1);let e=!0;return _o.style&&!G3(n)&&(e=n in _o.style,!e&&sT&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _o.style)),e}function Y3(){return typeof document<"u"?document.body:null}function _T(n,e){for(;e;){if(e===n)return!0;e=X_(e)}return!1}function CT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Hr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:L_(parseFloat(e[1]),e[2])}function L_(n,e){switch(e){case"s":return n*Q3;default:return n}}function mh(n,e,t){return n.hasOwnProperty("duration")?n:J3(n,e,t)}function J3(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(iT(n)),{duration:0,delay:0,easing:""};i=L_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=L_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(g3()),a=!0),o<0&&(e.push(m3()),a=!0),a&&e.splice(c,0,iT(n))}return{duration:i,delay:o,easing:s}}function X3(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function dr(n,e,t){e.forEach((r,i)=>{let o=t0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function bo(n,e){e.forEach((t,r)=>{let i=t0(r);n.style[i]=""})}function Hc(n){return Array.isArray(n)?n.length==1?n[0]:FS(n):n}function eH(n,e,t){let r=e.params||{},i=ET(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(v3(o))})}function ET(n){let e=[];if(typeof n=="string"){let t;for(;t=V_.exec(n);)e.push(t[1]);V_.lastIndex=0}return e}function qc(n,e,t){let r=`${n}`,i=r.replace(V_,(o,s)=>{let a=e[s];return a==null&&(t.push(y3(s)),a=""),a.toString()});return i==r?n:i}function t0(n){return n.replace(tH,(...e)=>e[1].toUpperCase())}function nH(n,e){return n===0||e===0}function rH(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,n0(n,a)))}}return e}function on(n,e,t){switch(e.type){case te.Trigger:return n.visitTrigger(e,t);case te.State:return n.visitState(e,t);case te.Transition:return n.visitTransition(e,t);case te.Sequence:return n.visitSequence(e,t);case te.Group:return n.visitGroup(e,t);case te.Animate:return n.visitAnimate(e,t);case te.Keyframes:return n.visitKeyframes(e,t);case te.Style:return n.visitStyle(e,t);case te.Reference:return n.visitReference(e,t);case te.AnimateChild:return n.visitAnimateChild(e,t);case te.AnimateRef:return n.visitAnimateRef(e,t);case te.Query:return n.visitQuery(e,t);case te.Stagger:return n.visitStagger(e,t);default:throw _3(e.type)}}function n0(n,e){return window.getComputedStyle(n)[e]}function oH(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>sH(r,t,e)):t.push(n),t}function sH(n,e,t){if(n[0]==":"){let c=aH(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(A3(n)),e;let i=r[1],o=r[2],s=r[3];e.push(cT(i,s));let a=i==yh&&s==yh;o[0]=="<"&&!a&&e.push(cT(s,i))}function aH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(N3(n)),"* => *"}}function cT(n,e){let t=dh.has(n)||fh.has(n),r=dh.has(e)||fh.has(e);return(i,o)=>{let s=n==yh||n==i,a=e==yh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?dh.has(n):fh.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?dh.has(e):fh.has(e)),s&&a}}function MT(n,e,t,r){return new j_(n).build(e,t,r)}function lH(n){let e=!!n.split(/\s*,\s*/).find(t=>t==DT);return e&&(n=n.replace(cH,"")),n=n.replace(/@\*/g,gh).replace(/@\w+/g,t=>gh+"-"+t.slice(1)).replace(/:animating/g,F_),[n,e]}function uH(n){return n?E({},n):null}function dH(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function fH(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=mh(n,e).duration;return O_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=O_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=mh(t,e);return O_(i.duration,i.delay,i.easing)}function Co(n){return n?(n=E({},n),n.params&&(n.params=uH(n.params))):n={},n}function O_(n,e,t){return{duration:n,delay:e,easing:t}}function r0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function ST(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new B_().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function uT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function yH(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,lr)}else for(let[o,s]of i)t.set(o,s)}),t}function dT(n,e,t,r,i,o,s,a,c,l,u,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function _H(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function IT(n,e){let t=E({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function CH(n,e,t){return new q_(n,e,t)}function bH(n,e,t){let r=[(s,a)=>!0],i={type:te.Sequence,steps:[],options:null},o={type:te.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new bh(n,o,e)}function fT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function TH(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function OH(n){return n??null}function hh(n){return n&&n.nodeType===1}function PH(n){return n=="start"||n=="done"}function pT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function gT(n,e,t,r,i){let o=[];t.forEach(c=>o.push(pT(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[zn]=xH,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>pT(c,o[a++])),s}function mT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Mn(n,e){n.classList?.add(e)}function Xs(n,e){n.classList?.remove(e)}function AH(n,e,t){Ii(t).onDone(()=>n.processLeaveNode(e))}function NH(n){let e=[];return TT(n,e),e}function TT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Ec?TT(r.players,e):e.push(r)}}function kH(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function vT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function RH(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=k_(e[0]),e.length>1&&(r=k_(e[e.length-1]))):e instanceof Map&&(t=k_(e)),t||r?new Y_(n,t,r):null}function k_(n){let e=null;return n.forEach((t,r)=>{FH(r)&&(e=e||new Map,e.set(r,t))}),e}function FH(n){return n==="display"||n==="position"}function LH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function VH(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var W3,_o,sT,e0,wo,Eo,Q3,bT,Z3,wT,R_,uh,gh,aT,F_,V_,tH,iH,vh,yh,dh,fh,DT,cH,lT,j_,U_,Wc,hH,pH,gH,mH,vH,B_,_h,$_,Ch,H_,P_,bh,z_,q_,wH,W_,hT,EH,A_,DH,MH,SH,IH,xT,xH,zn,Gc,zc,N_,G_,K_,Kc,ea,Y_,wh,Eh,ph,OT,Dh,Q_,Mh,i0=p(()=>{"use strict";df();x();x();W3=typeof document>"u"?null:document.documentElement;_o=null,sT=!1;e0=(()=>{class n{validateStyleProperty(t){return K3(t)}containsElement(t,r){return _T(t,r)}getParentElement(t){return X_(t)}query(t,r,i){return CT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new yi(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),wo=class{static{this.NOOP=new e0}},Eo=class{},Q3=1e3,bT="{{",Z3="}}",wT="ng-enter",R_="ng-leave",uh="ng-trigger",gh=".ng-trigger",aT="ng-animating",F_=".ng-animating";V_=new RegExp(`${bT}\\s*(.+?)\\s*${Z3}`,"g");tH=/-+([a-z0-9])/g;iH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),vh=class extends Eo{normalizePropertyName(e,t){return t0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(iH.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(C3(e,r))}return s+o}},yh="*";dh=new Set(["true","1"]),fh=new Set(["false","0"]);DT=":self",cH=new RegExp(`s*${DT}s*,?`,"g");lT="",j_=class{constructor(e){this._driver=e}build(e,t,r){let i=new U_(t);return this._resetContextStyleTimingState(i),on(this,Hc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=lT,e.collectedStyles=new Map,e.collectedStyles.set(lT,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(b3()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==te.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==te.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(w3())}),{type:te.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{ET(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(E3(e.name,[...o.values()]))}return{type:te.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=on(this,Hc(e.animation),t),i=oH(e.expr,t.errors);return{type:te.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Co(e.options)}}visitSequence(e,t){return{type:te.Sequence,steps:e.steps.map(r=>on(this,r,t)),options:Co(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=on(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:te.Group,steps:o,options:Co(e.options)}}visitAnimate(e,t){let r=fH(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Un({});if(o.type==te.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Un(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:te.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===lr?r.push(a):t.errors.push(D3(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(bT)>=0){o=!0;break}}}),{type:te.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(M3(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&eH(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:te.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(S3()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(j=>{let oe=this._makeStyleAst(j,t),K=oe.offset!=null?oe.offset:dH(oe.styles),ue=0;return K!=null&&(o++,ue=oe.offset=K),c=c||ue<0||ue>1,a=a||ue<l,l=ue,s.push(ue),oe});c&&t.errors.push(I3()),a&&t.errors.push(x3());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(T3()):o==0&&(m=i/(d-1));let g=d-1,y=t.currentTime,w=t.currentAnimateTimings,T=w.duration;return u.forEach((j,oe)=>{let K=m>0?oe==g?1:m*oe:s[oe],ue=K*T;t.currentTime=y+w.delay+ue,w.duration=ue,this._validateStyleAst(j,t),j.offset=K,r.styles.push(j)}),r}visitReference(e,t){return{type:te.Reference,animation:on(this,Hc(e.animation),t),options:Co(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:te.AnimateChild,options:Co(e.options)}}visitAnimateRef(e,t){return{type:te.AnimateRef,animation:this.visitReference(e.animation,t),options:Co(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=lH(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,sn(t.collectedStyles,t.currentQuerySelector,new Map);let a=on(this,Hc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:te.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Co(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(O3());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:mh(e.timings,t.errors,!0);return{type:te.Stagger,animation:on(this,Hc(e.animation),t),timings:r,options:null}}};U_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};Wc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},hH=1,pH=":enter",gH=new RegExp(pH,"g"),mH=":leave",vH=new RegExp(mH,"g");B_=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Wc;let d=new $_(e,t,l,i,o,u,[]);d.options=c;let m=c.delay?Hr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),on(this,r,d);let g=d.timelines.filter(y=>y.containsAnimation());if(g.length&&a.size){let y;for(let w=g.length-1;w>=0;w--){let T=g[w];if(T.element===t){y=T;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return g.length?g.map(y=>y.buildKeyframes()):[r0(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Hr(qc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Hr(r.duration):null,a=r.delay!=null?Hr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),on(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==te.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_h);let s=Hr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>on(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Hr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),on(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?qc(r,t.params,t.errors):r;return mh(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==te.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Hr(i.delay):0;o&&(t.previousNode.type===te.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_h);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),on(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;on(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},_h={},$_=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_h,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Ch(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Hr(r.duration)),r.delay!=null&&(i.delay=Hr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=qc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=_h,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new H_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(gH,"."+this._enterClassName),e=e.replace(vH,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(P3(t)),a}},Ch=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=hH,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||lr),this._currentKeyframe.set(t,lr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=yH(e,this._globalTimelineStyles);for(let[a,c]of s){let l=qc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??lr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===uf?e.add(d):u===lr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return r0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},H_=class extends Ch{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",uT(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),y=t+g*r;m.set("offset",uT(y/s)),o.push(m)}r=s,t=0,i="",e=o}return r0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};P_={},bh=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return _H(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||P_,g=a&&a.params||P_,y=this.buildStyles(r,g,d),w=c&&c.params||P_,T=this.buildStyles(i,w,d),j=new Set,oe=new Map,K=new Map,ue=i==="void",ze={params:IT(w,m),delay:this.ast.options?.delay},we=u?[]:ST(e,t,this.ast.animation,o,s,y,T,ze,l,d),Re=0;return we.forEach(rt=>{Re=Math.max(rt.duration+rt.delay,Re)}),d.length?dT(t,this._triggerName,r,i,ue,y,T,[],[],oe,K,Re,d):(we.forEach(rt=>{let fr=rt.element,Do=sn(oe,fr,new Set);rt.preStyleProps.forEach(xi=>Do.add(xi));let s0=sn(K,fr,new Set);rt.postStyleProps.forEach(xi=>s0.add(xi)),fr!==t&&j.add(fr)}),dT(t,this._triggerName,r,i,ue,y,T,we,[...j.values()],oe,K,Re))}};z_=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=IT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=qc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};q_=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new z_(i.style,o,r))}),fT(this.states,"true","1"),fT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new bh(e,i,this.states))}),this.fallbackTransition=bH(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};wH=new Wc,W_=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=MT(this._driver,t,r,i);if(r.length)throw F3(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=yT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=ST(this._driver,t,o,wT,R_,new Map,new Map,r,wH,i),s.forEach(u=>{let d=sn(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(L3()),s=[]),i.length)throw V3(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,lr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Ii(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw j3(e);return t}listen(e,t,r,i){let o=J_(t,"","","");return Z_(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},hT="ng-animate-queued",EH=".ng-animate-queued",A_="ng-animate-disabled",DH=".ng-animate-disabled",MH="ng-star-inserted",SH=".ng-star-inserted",IH=[],xT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zn="__ng_removed",Gc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=OH(i),r){let o=e,{value:s}=o,a=Nh(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},zc="void",N_=new Gc(zc),G_=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw U3(r,t);if(r==null||r.length==0)throw B3(t);if(!PH(r))throw $3(r,t);let o=sn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=sn(this._engine.statesByElement,e,new Map);return a.has(t)||(Mn(e,uh),Mn(e,uh+"-"+t),a.set(t,N_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw H3(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Kc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Mn(e,uh),Mn(e,uh+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Gc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=N_),!(l.value===zc)&&c.value===l.value){if(!kH(c.params,l.params)){let w=[],T=o.matchStyles(c.value,c.params,w),j=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{bo(e,T),dr(e,j)})}return}let m=sn(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!g){if(!i)return;g=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(Mn(e,hT),s.onStart(()=>{Xs(e,hT)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let T=this._engine.playersByElement.get(e);if(T){let j=T.indexOf(s);j>=0&&T.splice(j,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,gh,!0);r.forEach(i=>{if(i[zn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,zc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ii(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||N_,u=new Gc(zc),d=new Kc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[zn];(!o||o===xT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Mn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=J_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Z_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},K_=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new G_(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(hh(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!hh(t))return;let o=t[zn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mn(e,A_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xs(e,A_))}removeNode(e,t,r){if(hh(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[zn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return hh(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,gh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,F_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ii(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[zn];if(t&&t.setForRemoval){if(e[zn]=xT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(A_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,DH,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Mn(i,MH)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ii(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw z3(e)}_flushAnimations(e,t){let r=new Wc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);let z=this.driver.query(V,EH,!0);for(let G=0;G<z.length;G++)u.add(z[G])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=mT(m,this.collectedEnterElements),y=new Map,w=0;g.forEach((V,z)=>{let G=wT+w++;y.set(z,G),V.forEach(ge=>Mn(ge,G))});let T=[],j=new Set,oe=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let z=this.collectedLeaveElements[V],G=z[zn];G&&G.setForRemoval&&(T.push(z),j.add(z),G.hasAnimation?this.driver.query(z,SH,!0).forEach(ge=>j.add(ge)):oe.add(z))}let K=new Map,ue=mT(m,Array.from(j));ue.forEach((V,z)=>{let G=R_+w++;K.set(z,G),V.forEach(ge=>Mn(ge,G))}),e.push(()=>{g.forEach((V,z)=>{let G=y.get(z);V.forEach(ge=>Xs(ge,G))}),ue.forEach((V,z)=>{let G=K.get(z);V.forEach(ge=>Xs(ge,G))}),T.forEach(V=>{this.processLeaveNode(V)})});let ze=[],we=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(t).forEach(G=>{let ge=G.player,it=G.element;if(ze.push(ge),this.collectedEnterElements.length){let mt=it[zn];if(mt&&mt.setForMove){if(mt.previousTriggersValues&&mt.previousTriggersValues.has(G.triggerName)){let Ti=mt.previousTriggersValues.get(G.triggerName),an=this.statesByElement.get(G.element);if(an&&an.has(G.triggerName)){let Yc=an.get(G.triggerName);Yc.value=Ti,an.set(G.triggerName,Yc)}}ge.destroy();return}}let qn=!d||!this.driver.containsElement(d,it),qt=K.get(it),zr=y.get(it),$e=this._buildInstruction(G,r,zr,qt,qn);if($e.errors&&$e.errors.length){we.push($e);return}if(qn){ge.onStart(()=>bo(it,$e.fromStyles)),ge.onDestroy(()=>dr(it,$e.toStyles)),i.push(ge);return}if(G.isFallbackTransition){ge.onStart(()=>bo(it,$e.fromStyles)),ge.onDestroy(()=>dr(it,$e.toStyles)),i.push(ge);return}let l0=[];$e.timelines.forEach(mt=>{mt.stretchStartingKeyframe=!0,this.disabledNodes.has(mt.element)||l0.push(mt)}),$e.timelines=l0,r.append(it,$e.timelines);let BT={instruction:$e,player:ge,element:it};s.push(BT),$e.queriedElements.forEach(mt=>sn(a,mt,[]).push(ge)),$e.preStyleProps.forEach((mt,Ti)=>{if(mt.size){let an=c.get(Ti);an||c.set(Ti,an=new Set),mt.forEach((Yc,Ah)=>an.add(Ah))}}),$e.postStyleProps.forEach((mt,Ti)=>{let an=l.get(Ti);an||l.set(Ti,an=new Set),mt.forEach((Yc,Ah)=>an.add(Ah))})});if(we.length){let V=[];we.forEach(z=>{V.push(q3(z.triggerName,z.errors))}),ze.forEach(z=>z.destroy()),this.reportError(V)}let Re=new Map,rt=new Map;s.forEach(V=>{let z=V.element;r.has(z)&&(rt.set(z,z),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,Re))}),i.forEach(V=>{let z=V.element;this._getPreviousPlayers(z,!1,V.namespaceId,V.triggerName,null).forEach(ge=>{sn(Re,z,[]).push(ge),ge.destroy()})});let fr=T.filter(V=>vT(V,c,l)),Do=new Map;gT(Do,this.driver,oe,l,lr).forEach(V=>{vT(V,c,l)&&fr.push(V)});let xi=new Map;g.forEach((V,z)=>{gT(xi,this.driver,new Set(V),c,uf)}),fr.forEach(V=>{let z=Do.get(V),G=xi.get(V);Do.set(V,new Map([...z?.entries()??[],...G?.entries()??[]]))});let Ph=[],a0=[],c0={};s.forEach(V=>{let{element:z,player:G,instruction:ge}=V;if(r.has(z)){if(u.has(z)){G.onDestroy(()=>dr(z,ge.toStyles)),G.disabled=!0,G.overrideTotalTime(ge.totalTime),i.push(G);return}let it=c0;if(rt.size>1){let qt=z,zr=[];for(;qt=qt.parentNode;){let $e=rt.get(qt);if($e){it=$e;break}zr.push(qt)}zr.forEach($e=>rt.set($e,it))}let qn=this._buildAnimation(G.namespaceId,ge,Re,o,xi,Do);if(G.setRealPlayer(qn),it===c0)Ph.push(G);else{let qt=this.playersByElement.get(it);qt&&qt.length&&(G.parentPlayer=Ii(qt)),i.push(G)}}else bo(z,ge.fromStyles),G.onDestroy(()=>dr(z,ge.toStyles)),a0.push(G),u.has(z)&&i.push(G)}),a0.forEach(V=>{let z=o.get(V.element);if(z&&z.length){let G=Ii(z);V.setRealPlayer(G)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<T.length;V++){let z=T[V],G=z[zn];if(Xs(z,R_),G&&G.hasAnimation)continue;let ge=[];if(a.size){let qn=a.get(z);qn&&qn.length&&ge.push(...qn);let qt=this.driver.query(z,F_,!0);for(let zr=0;zr<qt.length;zr++){let $e=a.get(qt[zr]);$e&&$e.length&&ge.push(...$e)}}let it=ge.filter(qn=>!qn.destroyed);it.length?AH(this,z,it):this.processLeaveNode(z)}return T.length=0,Ph.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let z=this.players.indexOf(V);this.players.splice(z,1)}),V.play()}),Ph}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==zc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=sn(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),d.push(g)})}bo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,m=t.timelines.map(y=>{let w=y.element;u.add(w);let T=w[zn];if(T&&T.removedBeforeQueried)return new yi(y.duration,y.delay);let j=w!==c,oe=NH((r.get(w)||IH).map(Re=>Re.getRealPlayer())).filter(Re=>{let rt=Re;return rt.element?rt.element===w:!1}),K=o.get(w),ue=s.get(w),ze=yT(this._normalizer,y.keyframes,K,ue),we=this._buildPlayer(y,ze,oe);if(y.subTimeline&&i&&d.add(w),j){let Re=new Kc(e,a,w);Re.setRealPlayer(we),l.push(Re)}return we});l.forEach(y=>{sn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>TH(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Mn(y,aT));let g=Ii(m);return g.onDestroy(()=>{u.forEach(y=>Xs(y,aT)),dr(c,t.toStyles)}),d.forEach(y=>{sn(i,y,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yi(e.duration,e.delay)}},Kc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new yi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Z_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};ea=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new K_(e.body,t,r),this._timelineEngine=new W_(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=MT(this._driver,o,c,l);if(c.length)throw k3(i,c);l.length&&void 0,a=CH(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=oT(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=oT(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};Y_=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&dr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dr(this._element,this._initialStyles),this._endStyles&&(dr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(bo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),dr(this._element,this._initialStyles),this._state=3)}};wh=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:n0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Eh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return _T(e,t)}getParentElement(e){return X_(e)}query(e,t,r){return CT(e,t,r)}computeStyle(e,t,r){return n0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof wh);nH(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((y,w)=>l.set(w,y))});let d=X3(t).map(g=>new Map(g));d=rH(e,d,l);let m=RH(e,d);return new wh(e,d,c,m)}},ph="@",OT="@.disabled",Dh=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==ph&&t==OT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Q_=class extends Dh{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==ph?t.charAt(1)=="."&&t==OT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==ph){let i=LH(e),o=t.slice(1),s="";return o.charAt(0)!=ph&&([o,s]=VH(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};Mh=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Dh(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Q_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function BH(){return new vh}function $H(n,e,t){return new Mh(n,e,t)}var UH,AT,PT,HH,NT,kT=p(()=>{"use strict";x();x();Va();i0();i0();xe();UH=(()=>{class n extends ea{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(A(ct),A(wo),A(Eo))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();AT=[{provide:Eo,useFactory:BH},{provide:ea,useClass:UH},{provide:ni,useFactory:$H,deps:[Dd,ea,ye]}],PT=[{provide:wo,useFactory:()=>new Eh},{provide:hm,useValue:"BrowserAnimations"},...AT],HH=[{provide:wo,useClass:e0},{provide:hm,useValue:"NoopAnimations"},...AT],NT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?HH:PT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:PT,imports:[Sd]})}}return n})()});var Sh,RT=p(()=>{"use strict";x();Sh=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function KH(n,e){if(n&1){let t=Z();h(0,"div",11)(1,"input",12,1),mn("ngModelChange",function(i){B(t);let o=O();return kn(o.room,i)||(o.room=i),$(i)}),f(),h(3,"button",13),P("click",function(){B(t);let i=O();return i.joinRoom(),$(i.isRoomJoined=!0)}),_(4,"Join Room"),f()()}if(n&2){let t=O();C(),gn("ngModel",t.room)}}function YH(n,e){if(n&1&&(h(0,"div",14)(1,"span",15),_(2),f(),h(3,"div",16),_(4),f()()),n&2){let t=e.$implicit;b("ngClass",QE(3,GH,t.senderName==="Me",t.senderName!=="Me")),C(2),gt(t.senderName),C(2),gt(t.text)}}function QH(n,e){if(n&1){let t=Z();h(0,"button",17),P("click",function(){B(t);let i=O();return $(i.sendMessage())}),_(1,"Send"),f()}}function ZH(n,e){if(n&1){let t=Z();h(0,"div")(1,"button",17),P("click",function(){B(t);let i=O();return $(i.sendPrivateMessage())}),_(2,"Send Private"),f()()}}var qH,WH,GH,ta,o0=p(()=>{"use strict";x();De();oc();Js();x();Cc();wt();My();RT();x_();ka();xe();nn();qH=["roomInput"],WH=["chatInput"],GH=(n,e)=>({"my-message":n,"other-message":e});ta=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;chatType="group";targetUserId="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=v(Dn);ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId}),this.socketSubscription=new Fe,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>I(this,null,function*(){if(console.log("\u{1F4E9} New group message received:",e),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}}))):this.chatType==="private"&&this.loadPrivateMessages()}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>I(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>I(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}sendTestNotification(){return I(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return I(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return I(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(dt.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>U(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>I(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){let o=U(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),this.notificationsEnabled&&r.sender!==t._id)try{let s={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(s)}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return I(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}sendMessage(){if(!this.newMessage.trim())return;let e={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",e),this.newMessage=""}sendPrivateMessage(){return I(this,null,function*(){if(this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let e=this.userService.getLoggedInUser(),t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};if(this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),console.log("Message content:",this.newMessage),this.privateMessages.push(t),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let r={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:this.newMessage,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739170705/notification-badge_p0oafv.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(r)}catch(r){this.errorLogger.log("Error handling notification",r)}this.newMessage=""})}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(cr),D(_e),D(Ns),D(Sh),D(Zs),D(ro))};static \u0275cmp=ee({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(Nm(qH,5),Nm(WH,5)),t&2){let i;Ia(i=xa())&&(r.roomInput=i.first),Ia(i=xa())&&(r.chatInput=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},decls:12,vars:6,consts:[["chatInput",""],["roomInput",""],[1,"chat-container"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","ngModel"],["class","styled-button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[1,"styled-button",3,"click"]],template:function(t,r){if(t&1){let i=Z();h(0,"div",2)(1,"h2"),_(2),f(),N(3,KH,5,1,"div",3),h(4,"div",4)(5,"div",5),N(6,YH,5,6,"div",6),f(),h(7,"div",7)(8,"input",8,0),mn("ngModelChange",function(s){return B(i),kn(r.newMessage,s)||(r.newMessage=s),$(s)}),f(),N(10,QH,2,0,"button",9)(11,ZH,3,0,"div",10),f()()()}t&2&&(C(2),gt(r.chatType==="group"?"Group Chat - "+r.room:"Private Chat"),C(),b("ngIf",r.chatType==="group"&&!r.isRoomJoined),C(3),b("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),C(2),gn("ngModel",r.newMessage),C(2),b("ngIf",r.chatType==="group"),C(),b("ngIf",r.chatType==="private"))},dependencies:[fs,hs,Me,wn,ur,Lr],styles:[".chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;max-height:85vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none}.join-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden}.messages[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:80%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-input[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.styled-input[_ngcontent-%COMP%]{flex:1;padding:12px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.styled-button[_ngcontent-%COMP%]{padding:12px 18px;border:none;background-color:#25d366;color:#fff;cursor:pointer;border-radius:20px;font-size:14px;transition:background-color .3s}.styled-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:column}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}",`.debug-panel[_ngcontent-%COMP%] {
        position: fixed;
        bottom: 10px;
        

        right: 10px;
        

        z-index: 1000;
    }

    .debug-button[_ngcontent-%COMP%] {
        width: 30px;
        

        height: 30px;
        background-color: rgba(240, 240, 240, 0.8);
        

        border: 1px solid #ddd;
        border-radius: 50%;
        

        padding: 0;
        font-size: 16px;
        

        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        opacity: 0.6;
        

    }

    .debug-button[_ngcontent-%COMP%]:active {
        transform: scale(0.95);
        

    }

    .notification-permission[_ngcontent-%COMP%] {
        position: fixed;
        bottom: 60px;
        

        right: 10px;
        z-index: 1000;
    }

    .notification-button[_ngcontent-%COMP%] {
        background: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .notification-button[_ngcontent-%COMP%]:hover {
        background: #0056b3;
    }

    .notification-button[_ngcontent-%COMP%]:active {
        transform: scale(0.98);
    }`]})}});function e4(n,e){if(n&1&&(h(0,"span",15),_(1),f()),n&2){let t=O().ngIf;C(),gt(t)}}function t4(n,e){if(n&1&&(_t(0),N(1,e4,2,1,"span",14),Ct()),n&2){let t=e.ngIf,r=O();C(),b("ngIf",t>0&&!r.isPrivateChatOpen)}}function n4(n,e){if(n&1){let t=Z();h(0,"div",16),P("clickOutsideCapture",function(){B(t);let i=O();return $(i.closePrivateChat())}),h(1,"div",17)(2,"span",18),P("click",function(){B(t);let i=O();return $(i.closePrivateChat())}),_(3,"\xD7"),f(),R(4,"app-chat",19),f()()}if(n&2){let t=O();C(4),b("chatType","private")("targetUserId",t.user._id)}}var XH,Ih,FT=p(()=>{"use strict";x();wt();x();ut();Cc();Lf();xe();bi();Vs();o0();XH=n=>({"long-field":n});Ih=class n{constructor(e,t,r){this.router=e;this.socketService=t;this.userIndex=r}user;remove=new se;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=v(_e).getLoggedInUser()._id;ngOnInit(){this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Te),D(cr),D(Mi))};static \u0275cmp=ee({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:18,vars:10,consts:[[1,"user-preview",3,"click"],[1,"image-container"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook Profile",1,"fb-img"],["src","../../../assets/images/instagram.png","alt","Instagram Profile",1,"insta-img"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType","targetUserId"]],template:function(t,r){t&1&&(h(0,"article",0),P("click",function(){return r.onPreviewClick()}),h(1,"div",1),R(2,"img",2),f(),h(3,"div",3)(4,"h1",4),_(5),f()(),h(6,"div",5)(7,"div",6)(8,"button",7),P("click",function(o){return r.openPrivateChat(o)}),R(9,"img",8),N(10,t4,2,1,"ng-container",9),kt(11,"async"),f()(),h(12,"button",10),P("click",function(o){return r.openFacebookProfile(o,r.user)}),R(13,"img",11),f(),h(14,"button",10),P("click",function(o){return r.openInstagramProfile(o,r.user)}),R(15,"img",12),f()()(),N(16,n4,5,2,"div",13),R(17,"router-outlet")),t&2&&(C(2),b("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Nt),C(2),b("title",r.user.username)("ngClass",cs(8,XH,r.isLongField(r.user.username,15))),C(),Ie(" ",r.user.username," "),C(5),b("ngIf",$t(11,6,r.unreadMessagesCount$)),C(6),b("ngIf",r.isPrivateChatOpen))},dependencies:[fs,Me,Ln,Dt,bn,ta,Ht],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:320px;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 65px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.4em;width:2.4em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.4em;width:1.4em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{font-size:1rem;min-width:unset}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:row;gap:5px}}.long-field[_ngcontent-%COMP%]{font-size:.9em}"]})}});function i4(n,e){if(n&1){let t=Z();h(0,"user-preview",3),P("remove",function(){let i=B(t).$implicit,o=O();return $(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;b("user",t)}}function o4(n,e){n&1&&(h(0,"p"),_(1,"No users found."),f())}var xh,LT=p(()=>{"use strict";x();x();wt();xe();FT();xh=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new se;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(_e))};static \u0275cmp=ee({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(h(0,"section",1),N(1,i4,1,1,"user-preview",2)(2,o4,2,0,"ng-template",null,0,or),f()),t&2&&(C(),b("ngForOf",r.users))},dependencies:[hs,Ih],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function s4(n,e){if(n&1){let t=Z();h(0,"button",4),P("click",function(){B(t);let i=O();return $(i.onClearFilter())}),_(1,"\u2716"),f()}}var Th,VT=p(()=>{"use strict";x();De();Rs();wt();x();xe();nn();Th=class n{userService=v(_e);filterBy="";filterSubject$=new he;destroyRef=v(Pt);ngOnInit(){this.userService.filterBy$.pipe(zt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(mr(),zt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),mn("ngModelChange",function(o){return kn(r.filterBy,o)||(r.filterBy=o),o}),P("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,s4,2,0,"button",3),f()()),t&2&&(C(2),gn("ngModel",r.filterBy),C(),b("ngIf",r.filterBy))},dependencies:[Me,wn,ur,Lr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Oh,jT=p(()=>{"use strict";Va();HI();rT();ka();nn();kT();bi();Vs();Lf();LT();VT();o0();I_();x();xe();Oh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ke({type:n,bootstrap:[lh]});static \u0275inj=Ge({imports:[Sd,jf,BD,wI,EI,NT,Qx.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};YE(Mi,function(){return[Me,Dt,bn,xh,Th,ta]},function(){return[Ht]})});var a4=zT(UT=>{Va();jT();Js();x();KD().bootstrapModule(Oh).then(()=>{let n=v(Dn);"serviceWorker"in navigator&&window.addEventListener("load",()=>I(UT,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default a4();
