var x0=Object.defineProperty,CT=Object.defineProperties;var bT=Object.getOwnPropertyDescriptors;var Xc=Object.getOwnPropertySymbols;var O0=Object.prototype.hasOwnProperty,T0=Object.prototype.propertyIsEnumerable;var I0=(n,e,t)=>e in n?x0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})O0.call(e,t)&&I0(n,t,e[t]);if(Xc)for(var t of Xc(e))T0.call(e,t)&&I0(n,t,e[t]);return n},$=(n,e)=>CT(n,bT(e));var Kh=(n,e)=>{var t={};for(var r in n)O0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Xc)for(var r of Xc(n))e.indexOf(r)<0&&T0.call(n,r)&&(t[r]=n[r]);return t};var p=(n,e)=>()=>(n&&(e=n(n=0)),e);var wT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),ET=(n,e)=>{for(var t in e)x0(n,t,{get:e[t],enumerable:!0})};var x=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function P0(n,e){return Object.is(n,e)}function ve(n){let e=rt;return rt=n,e}function A0(){return rt}function Zh(n){if(el)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let e=rt.nextProducerIndex++;if(ol(rt),e<rt.producerNode.length&&rt.producerNode[e]!==n&&oa(rt)){let t=rt.producerNode[e];il(t,rt.producerIndexOfThis[e])}rt.producerNode[e]!==n&&(rt.producerNode[e]=n,rt.producerIndexOfThis[e]=oa(rt)?F0(n,rt,e):0),rt.producerLastReadVersion[e]=n.version}function DT(){tl++}function N0(n){if(!(oa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===tl)){if(!n.producerMustRecompute(n)&&!Xh(n)){n.dirty=!1,n.lastCleanEpoch=tl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=tl}}function k0(n){if(n.liveConsumerNode===void 0)return;let e=el;el=!0;try{for(let t of n.liveConsumerNode)t.dirty||MT(t)}finally{el=e}}function R0(){return rt?.consumerAllowSignalWrites!==!1}function MT(n){n.dirty=!0,k0(n),n.consumerMarkedDirty?.(n)}function rl(n){return n&&(n.nextProducerIndex=0),ve(n)}function Jh(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(oa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)il(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Xh(n){ol(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(N0(t),r!==t.version))return!0}return!1}function ep(n){if(ol(n),oa(n))for(let e=0;e<n.producerNode.length;e++)il(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function F0(n,e,t){if(L0(n),n.liveConsumerNode.length===0&&V0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=F0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function il(n,e){if(L0(n),n.liveConsumerNode.length===1&&V0(n))for(let r=0;r<n.producerNode.length;r++)il(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ol(i),i.producerIndexOfThis[r]=e}}function oa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ol(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function L0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function V0(n){return n.producerNode!==void 0}function j0(n){let e=Object.create(ST);e.computation=n;let t=()=>{if(N0(e),Zh(e),e.value===nl)throw e.error;return e.value};return t[vr]=e,t}function IT(){throw new Error}function B0(){U0()}function $0(n){U0=n}function H0(n){let e=Object.create(q0);e.value=n;let t=()=>(Zh(e),e.value);return t[vr]=e,t}function tp(n,e){R0()||B0(),n.equal(n.value,e)||(n.value=e,OT(n))}function z0(n,e){R0()||B0(),tp(n,e(n.value))}function OT(n){n.version++,DT(),k0(n),xT?.()}var rt,el,tl,vr,sa,Yh,Qh,nl,ST,U0,xT,q0,W0=p(()=>{"use strict";rt=null,el=!1,tl=1,vr=Symbol("SIGNAL");sa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Yh=Symbol("UNSET"),Qh=Symbol("COMPUTING"),nl=Symbol("ERRORED"),ST=$(E({},sa),{value:Yh,dirty:!0,error:null,equal:P0,producerMustRecompute(n){return n.value===Yh||n.value===Qh},producerRecomputeValue(n){if(n.value===Qh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Qh;let t=rl(n),r;try{r=n.computation()}catch(i){r=nl,n.error=i}finally{Jh(n,t)}if(e!==Yh&&e!==nl&&r!==nl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});U0=IT;xT=null;q0=$(E({},sa),{equal:P0,value:void 0})});function H(n){return typeof n=="function"}var We=p(()=>{"use strict"});function No(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var sl=p(()=>{"use strict"});var al,G0=p(()=>{"use strict";sl();al=No(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Li(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var cl=p(()=>{"use strict"});function ll(n){return n instanceof Ve||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function K0(n){H(n)?n():n.unsubscribe()}var Ve,np,Vi=p(()=>{"use strict";We();G0();cl();Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof al?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{K0(o)}catch(s){e=e??[],s instanceof al?e=[...e,...s.errors]:e.push(s)}}if(e)throw new al(e)}}add(e){var t;if(e&&e!==this)if(this.closed)K0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Li(t,e)}remove(e){let{_finalizers:t}=this;t&&Li(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();np=Ve.EMPTY});var On,aa=p(()=>{"use strict";On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var ko,rp=p(()=>{"use strict";ko={setTimeout(n,e,...t){let{delegate:r}=ko;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ko;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function ul(n){ko.setTimeout(()=>{let{onUnhandledError:e}=On;if(e)e(n);else throw n})}var ip=p(()=>{"use strict";aa();rp()});function yr(){}var ca=p(()=>{"use strict"});function Q0(n){return op("E",void 0,n)}function Z0(n){return op("N",n,void 0)}function op(n,e,t){return{kind:n,value:e,error:t}}var Y0,J0=p(()=>{"use strict";Y0=op("C",void 0,void 0)});function Ro(n){if(On.useDeprecatedSynchronousErrorHandling){let e=!ji;if(e&&(ji={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ji;if(ji=null,t)throw r}}else n()}function X0(n){On.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=n)}var ji,dl=p(()=>{"use strict";aa();ji=null});function sp(n,e){return TT.call(n,e)}function fl(n){On.useDeprecatedSynchronousErrorHandling?X0(n):ul(n)}function PT(n){throw n}function ap(n,e){let{onStoppedNotification:t}=On;t&&ko.setTimeout(()=>t(n,e))}var Ui,TT,cp,Qr,AT,hl=p(()=>{"use strict";We();Vi();aa();ip();ca();J0();rp();dl();Ui=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ll(e)&&e.add(this)):this.destination=AT}static create(e,t,r){return new Qr(e,t,r)}next(e){this.isStopped?ap(Z0(e),this):this._next(e)}error(e){this.isStopped?ap(Q0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ap(Y0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TT=Function.prototype.bind;cp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fl(r)}else fl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fl(t)}}},Qr=class extends Ui{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sp(e.next,o),error:e.error&&sp(e.error,o),complete:e.complete&&sp(e.complete,o)}):i=e}this.destination=new cp(i)}};AT={closed:!0,next:yr,error:PT,complete:yr}});var Fo,pl=p(()=>{"use strict";Fo=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function pt(n){return n}var _r=p(()=>{"use strict"});function lp(...n){return up(n)}function up(n){return n.length===0?pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var dp=p(()=>{"use strict";_r()});function eC(n){var e;return(e=n??On.Promise)!==null&&e!==void 0?e:Promise}function NT(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function kT(n){return n&&n instanceof Ui||NT(n)&&ll(n)}var J,lt=p(()=>{"use strict";hl();Vi();pl();dp();aa();We();dl();J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=kT(t)?t:new Qr(t,r,i);return Ro(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=eC(r),new r((i,o)=>{let s=new Qr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Fo](){return this}pipe(...t){return up(t)(this)}toPromise(t){return t=eC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function fp(n){return H(n?.lift)}function X(n){return e=>{if(fp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var je=p(()=>{"use strict";We()});function Z(n,e,t,r,i){return new hp(n,e,t,r,i)}var hp,He=p(()=>{"use strict";hl();hp=class extends Ui{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function Lo(){return X((n,e)=>{let t=null;n._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var pp=p(()=>{"use strict";je();He()});var Zr,gp=p(()=>{"use strict";lt();Vi();pp();He();je();Zr=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return Lo()(this)}}});var tC,nC=p(()=>{"use strict";sl();tC=No(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var ge,gl,la=p(()=>{"use strict";lt();Vi();nC();cl();dl();ge=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new gl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new tC}next(t){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?np:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,Li(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new gl(e,t),n})(),gl=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:np}}});var de,rC=p(()=>{"use strict";la();de=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var mp,iC=p(()=>{"use strict";mp={now(){return(mp.delegate||Date).now()},delegate:void 0}});var ml,oC=p(()=>{"use strict";Vi();ml=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}}});var ua,sC=p(()=>{"use strict";ua={setInterval(n,e,...t){let{delegate:r}=ua;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ua;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var vl,aC=p(()=>{"use strict";oC();sC();cl();vl=class extends ml{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ua.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Li(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Vo,cC=p(()=>{"use strict";iC();Vo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Vo.now=mp.now});var yl,lC=p(()=>{"use strict";cC();yl=class extends Vo{constructor(e,t=Vo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var da,uC,_l=p(()=>{"use strict";aC();lC();da=new yl(vl),uC=da});var Tt,fa=p(()=>{"use strict";lt();Tt=new J(n=>n.complete())});function Cl(n){return n&&H(n.schedule)}var vp=p(()=>{"use strict";We()});function yp(n){return n[n.length-1]}function bl(n){return H(yp(n))?n.pop():void 0}function Qn(n){return Cl(yp(n))?n.pop():void 0}function dC(n,e){return typeof yp(n)=="number"?n.pop():e}var Bi=p(()=>{"use strict";We();vp()});function hC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function fC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $i(n){return this instanceof $i?(this.v=n,this):new $i(n)}function pC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(w){return new Promise(function(P,B){o.push([g,w,P,B])>1||c(g,w)})},_&&(i[g]=_(i[g])))}function c(g,_){try{l(r[g](_))}catch(w){m(o[0][3],w)}}function l(g){g.value instanceof $i?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function gC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof fC=="function"?fC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var _p=p(()=>{"use strict"});var jo,wl=p(()=>{"use strict";jo=n=>n&&typeof n.length=="number"&&typeof n!="function"});function El(n){return H(n?.then)}var Cp=p(()=>{"use strict";We()});function Dl(n){return H(n[Fo])}var bp=p(()=>{"use strict";pl();We()});function Ml(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var wp=p(()=>{"use strict";We()});function Sl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Ep=p(()=>{"use strict"});function RT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Il,Dp=p(()=>{"use strict";Il=RT()});function xl(n){return H(n?.[Il])}var Mp=p(()=>{"use strict";Dp();We()});function Ol(n){return pC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield $i(t.read());if(i)return yield $i(void 0);yield yield $i(r)}}finally{t.releaseLock()}})}function Tl(n){return H(n?.getReader)}var Pl=p(()=>{"use strict";_p();We()});function Se(n){if(n instanceof J)return n;if(n!=null){if(Dl(n))return FT(n);if(jo(n))return LT(n);if(El(n))return VT(n);if(Ml(n))return mC(n);if(xl(n))return jT(n);if(Tl(n))return UT(n)}throw Sl(n)}function FT(n){return new J(e=>{let t=n[Fo]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LT(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function VT(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ul)})}function jT(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function mC(n){return new J(e=>{BT(n,e).catch(t=>e.error(t))})}function UT(n){return mC(Ol(n))}function BT(n,e){var t,r,i,o;return hC(this,void 0,void 0,function*(){try{for(t=gC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var wt=p(()=>{"use strict";_p();wl();Cp();lt();bp();wp();Ep();Mp();Pl();We();ip();pl()});function Vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var Uo=p(()=>{"use strict"});function Al(n,e=0){return X((t,r)=>{t.subscribe(Z(r,i=>Vt(r,n,()=>r.next(i),e),()=>Vt(r,n,()=>r.complete(),e),i=>Vt(r,n,()=>r.error(i),e)))})}var Sp=p(()=>{"use strict";Uo();je();He()});function Nl(n,e=0){return X((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var Ip=p(()=>{"use strict";je()});function vC(n,e){return Se(n).pipe(Nl(e),Al(e))}var yC=p(()=>{"use strict";wt();Sp();Ip()});function _C(n,e){return Se(n).pipe(Nl(e),Al(e))}var CC=p(()=>{"use strict";wt();Sp();Ip()});function bC(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var wC=p(()=>{"use strict";lt()});function EC(n,e){return new J(t=>{let r;return Vt(t,e,()=>{r=n[Il](),Vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var DC=p(()=>{"use strict";lt();Dp();We();Uo()});function kl(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{Vt(t,e,()=>{let r=n[Symbol.asyncIterator]();Vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var xp=p(()=>{"use strict";lt();Uo()});function MC(n,e){return kl(Ol(n),e)}var SC=p(()=>{"use strict";xp();Pl()});function IC(n,e){if(n!=null){if(Dl(n))return vC(n,e);if(jo(n))return bC(n,e);if(El(n))return _C(n,e);if(Ml(n))return kl(n,e);if(xl(n))return EC(n,e);if(Tl(n))return MC(n,e)}throw Sl(n)}var xC=p(()=>{"use strict";yC();CC();wC();DC();xp();bp();Cp();wl();Mp();wp();Ep();Pl();SC()});function W(n,e){return e?IC(n,e):Se(n)}var Bo=p(()=>{"use strict";xC();wt()});function F(...n){let e=Qn(n);return W(n,e)}var OC=p(()=>{"use strict";Bi();Bo()});function it(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}var TC=p(()=>{"use strict";lt();We()});function Op(n){return!!n&&(n instanceof J||H(n.lift)&&H(n.subscribe))}var PC=p(()=>{"use strict";lt();We()});var Tn,$o=p(()=>{"use strict";sl();Tn=No(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function Hi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Qr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Tn)}});n.subscribe(o)})}var AC=p(()=>{"use strict";$o();hl()});function NC(n){return n instanceof Date&&!isNaN(n)}var kC=p(()=>{"use strict"});function j(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>{r.next(n.call(e,o,i++))}))})}var Ho=p(()=>{"use strict";je();He()});function HT(n,e){return $T(e)?n(...e):n(e)}function zo(n){return j(e=>HT(n,e))}var $T,Rl=p(()=>{"use strict";Ho();({isArray:$T}=Array)});function Fl(n){if(n.length===1){let e=n[0];if(zT(e))return{args:e,keys:null};if(KT(e)){let t=GT(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function KT(n){return n&&typeof n=="object"&&qT(n)===WT}var zT,qT,WT,GT,Tp=p(()=>{"use strict";({isArray:zT}=Array),{getPrototypeOf:qT,prototype:WT,keys:GT}=Object});function Ll(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Pp=p(()=>{"use strict"});function ha(...n){let e=Qn(n),t=bl(n),{args:r,keys:i}=Fl(n);if(r.length===0)return W([],e);let o=new J(YT(r,e,i?s=>Ll(i,s):pt));return t?o.pipe(zo(t)):o}function YT(n,e,t=pt){return r=>{RC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)RC(e,()=>{let l=W(n[c],e),u=!1;l.subscribe(Z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function RC(n,e,t){n?Vt(t,n,e):e()}var FC=p(()=>{"use strict";lt();Tp();Bo();_r();Rl();Bi();Pp();He();Uo()});function LC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?_(w):c.push(w),_=w=>{o&&e.next(w),l++;let P=!1;Se(t(w,u++)).subscribe(Z(e,B=>{i?.(B),o?g(B):e.next(B)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){let B=c.shift();s?Vt(e,s,()=>_(B)):_(B)}m()}catch(B){e.error(B)}}))};return n.subscribe(Z(e,g,()=>{d=!0,m()})),()=>{a?.()}}var VC=p(()=>{"use strict";wt();Uo();He()});function Ue(n,e,t=1/0){return H(e)?Ue((r,i)=>j((o,s)=>e(r,o,i,s))(Se(n(r,i))),t):(typeof e=="number"&&(t=e),X((r,i)=>LC(r,i,n,t)))}var qo=p(()=>{"use strict";Ho();wt();je();VC();We()});function Zn(n=1/0){return Ue(pt,n)}var Vl=p(()=>{"use strict";qo();_r()});function jC(){return Zn(1)}var UC=p(()=>{"use strict";Vl()});function Jn(...n){return jC()(W(n,Qn(n)))}var jl=p(()=>{"use strict";UC();Bi();Bo()});function zi(n){return new J(e=>{Se(n()).subscribe(e)})}var BC=p(()=>{"use strict";lt();wt()});function Ap(...n){let e=bl(n),{args:t,keys:r}=Fl(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Se(t[u]).subscribe(Z(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ll(r,a):a),o.complete())}))}});return e?i.pipe(zo(e)):i}var $C=p(()=>{"use strict";lt();Tp();wt();Bi();He();Rl();Pp()});function Wo(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Wo(n,e,t).pipe(zo(r));let[i,o]=tP(n)?ZT.map(s=>a=>n[s](e,a,t)):XT(n)?QT.map(HC(n,e)):eP(n)?JT.map(HC(n,e)):[];if(!i&&jo(n))return Ue(s=>Wo(s,e,t))(Se(n));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function HC(n,e){return t=>r=>n[t](e,r)}function XT(n){return H(n.addListener)&&H(n.removeListener)}function eP(n){return H(n.on)&&H(n.off)}function tP(n){return H(n.addEventListener)&&H(n.removeEventListener)}var QT,ZT,JT,zC=p(()=>{"use strict";wt();lt();qo();wl();We();Rl();QT=["addListener","removeListener"],ZT=["addEventListener","removeEventListener"],JT=["on","off"]});function Ul(n=0,e,t=uC){let r=-1;return e!=null&&(Cl(e)?t=e:r=e),new J(i=>{let o=NC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var Np=p(()=>{"use strict";lt();_l();vp();kC()});function Bl(...n){let e=Qn(n),t=dC(n,1/0),r=n;return r.length?r.length===1?Se(r[0]):Zn(t)(W(r,e)):Tt}var qC=p(()=>{"use strict";Vl();wt();fa();Bi();Bo()});var qi,WC=p(()=>{"use strict";lt();ca();qi=new J(yr)});function Ne(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Go=p(()=>{"use strict";je();He()});var GC=p(()=>{"use strict"});function fe(n){return X((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Z(t,void 0,void 0,s=>{o=Se(n(s,fe(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var kp=p(()=>{"use strict";wt();He();je()});function KC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Z(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var YC=p(()=>{"use strict";He()});function an(n,e){return H(e)?Ue(n,e,1):Ue(n,1)}var Rp=p(()=>{"use strict";qo();We()});function QC(n){return new J(e=>n.subscribe(e))}var ZC=p(()=>{"use strict";lt()});function $l(n,e=nP){let{connector:t}=e;return X((r,i)=>{let o=t();Se(n(QC(o))).subscribe(i),i.add(r.subscribe(o))})}var nP,Fp=p(()=>{"use strict";la();wt();je();ZC();nP={connector:()=>new ge}});function Lp(n,e=da){return X((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(Z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var JC=p(()=>{"use strict";_l();je();He()});function Jr(n){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Hl=p(()=>{"use strict";je();He()});function be(n){return n<=0?()=>Tt:X((e,t)=>{let r=0;e.subscribe(Z(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var pa=p(()=>{"use strict";fa();je();He()});function XC(){return X((n,e)=>{n.subscribe(Z(e,yr))})}var eb=p(()=>{"use strict";je();He();ca()});function ga(n){return j(()=>n)}var Vp=p(()=>{"use strict";Ho()});function jp(n,e){return e?t=>Jn(e.pipe(be(1),XC()),t.pipe(jp(n))):Ue((t,r)=>Se(n(t,r)).pipe(be(1),ga(t)))}var tb=p(()=>{"use strict";jl();pa();eb();Vp();qo();wt()});function cn(n,e=da){let t=Ul(n,e);return jp(()=>t)}var Up=p(()=>{"use strict";_l();tb();Np()});function Cr(n,e=pt){return n=n??rP,X((t,r)=>{let i,o=!0;t.subscribe(Z(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function rP(n,e){return n===e}var nb=p(()=>{"use strict";_r();je();He()});function zl(n=iP){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function iP(){return new Tn}var Bp=p(()=>{"use strict";$o();je();He()});function Gt(n){return X((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var $p=p(()=>{"use strict";je()});function Xn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):pt,be(1),t?Jr(e):zl(()=>new Tn))}var rb=p(()=>{"use strict";$o();Go();pa();Hl();Bp();_r()});function Ko(n){return n<=0?()=>Tt:X((e,t)=>{let r=[];e.subscribe(Z(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Hp=p(()=>{"use strict";fa();je();He()});function zp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):pt,Ko(1),t?Jr(e):zl(()=>new Tn))}var ib=p(()=>{"use strict";$o();Go();Hp();Bp();Hl();_r()});function ob(n,e){let t=H(n)?n:()=>n;return H(e)?$l(e,{connector:t}):r=>new Zr(r,t)}var sb=p(()=>{"use strict";gp();We();Fp()});function qp(n){return n?e=>$l(n)(e):e=>ob(new ge)(e)}var ab=p(()=>{"use strict";la();sb();Fp()});function ut(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?pt:X((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(Z(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Ul(r):Se(r(d,a)),_=Z(s,()=>{_.unsubscribe(),m()},()=>{s.complete()});g.subscribe(_)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Wp=p(()=>{"use strict";je();He();_r();Np();wt()});function Gp(n,e){return X(KC(n,e,arguments.length>=2,!0))}var cb=p(()=>{"use strict";je();YC()});function Kp(n){return Ne((e,t)=>n<=t)}var lb=p(()=>{"use strict";Go()});function Yp(...n){let e=Qn(n);return X((t,r)=>{(e?Jn(n,t,e):Jn(n,t)).subscribe(r)})}var ub=p(()=>{"use strict";jl();Bi();je()});function ke(n,e){return X((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Z(r,c=>{i?.unsubscribe();let l=0,u=o++;Se(n(c,u)).subscribe(i=Z(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Qp=p(()=>{"use strict";wt();je();He()});function ln(n){return X((e,t)=>{Se(n).subscribe(Z(t,()=>t.complete(),yr)),!t.closed&&e.subscribe(t)})}var Zp=p(()=>{"use strict";je();He();wt();ca()});function te(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var Jp=p(()=>{"use strict";We();je();He();_r()});var we=p(()=>{"use strict";lt();gp();la();rC();Vi();dp();PC();AC();$o();FC();jl();BC();$C();Bo();zC();qC();OC();TC();fa();WC();GC();kp();Rp();JC();Up();nb();Go();$p();Ho();Wp();lb();Qp();pa();Zp();Jp()});var Xr=p(()=>{"use strict";kp();Rp();Hl();Up();Go();$p();rb();ib();Ho();Vp();Vl();qo();ab();Wp();pp();cb();ub();Qp();pa();Hp();Zp();Jp()});function ku(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ma(n){return{toString:n}.toString()}function oP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ew(n,e,t){return Ma(()=>{let r=oP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ql)?c[ql]:Object.defineProperty(c,ql,{value:[]})[ql];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function sP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function At(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(At).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function hg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function fn(n){return n.__forward_ref__=fn,n.toString=function(){return At(this())},n}function Pt(n){return tw(n)?n():n}function tw(n){return typeof n=="function"&&n.hasOwnProperty(aP)&&n.__forward_ref__===fn}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ru(n){return db(n,rw)||db(n,iw)}function nw(n){return Ru(n)!==null}function db(n,e){return n.hasOwnProperty(e)?n[e]:null}function cP(n){let e=n&&(n[rw]||n[iw]);return e||null}function fb(n){return n&&(n.hasOwnProperty(hb)||n.hasOwnProperty(lP))?n[hb]:null}function ow(n){return n&&!!n.\u0275providers}function Sa(n){return typeof n=="string"?n:n==null?"":String(n)}function pP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Sa(n)}function gP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,n)}function um(n,e){throw new S(-201,!1)}function sw(){return pg}function jt(n){let e=pg;return pg=n,e}function aw(n,e,t){let r=Ru(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;um(n,"Injector")}function CP(){return Xo}function ei(n){let e=Xo;return Xo=n,e}function bP(n,e=ae.Default){if(Xo===void 0)throw new S(-203,!1);return Xo===null?aw(n,void 0,e):Xo.get(n,e&ae.Optional?null:void 0,e)}function A(n,e=ae.Default){return(sw()||bP)(Pt(n),e)}function v(n,e=ae.Default){return A(n,Fu(e))}function Fu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mg(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=wP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function cw(n,e){return n[gg]=e,n.prototype[gg]=e,n}function wP(n){return n[gg]}function EP(n,e,t,r){let i=n[ou];throw e[gb]&&i.unshift(e[gb]),n.message=DP(`
`+n.message,i,t,r),n[vP]=i,n[ou]=null,n}function DP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==_P?n.slice(2):n;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(yP,`
  `)}`}function Ki(n,e){let t=n.hasOwnProperty(iu);return t?n[iu]:null}function MP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function SP(n){return n.flat(Number.POSITIVE_INFINITY)}function fm(n,e){n.forEach(t=>Array.isArray(t)?fm(t,e):e(t))}function lw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function su(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function IP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function hm(n,e,t){let r=Ia(n,e);return r>=0?n[r|1]=t:(r=~r,IP(n,r,e,t)),r}function Xp(n,e){let t=Ia(n,e);if(t>=0)return n[t|1]}function Ia(n,e){return xP(n,e,1)}function xP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function OP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function vg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];TP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function hw(n){return n===3||n===4||n===6}function TP(n){return n.charCodeAt(0)===64}function Ca(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?mb(n,t,i,null,e[++r]):mb(n,t,i,null,null))}}return n}function mb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function PP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&OP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(pm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function pm(n){return n.type===4&&n.value!==pw}function AP(n,e,t){let r=n.type===4&&!t?pw:n.value;return e===r}function NP(n,e,t){let r=4,i=n.attrs,o=i!==null?FP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Pn(r)&&!Pn(c))return!1;if(s&&Pn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!AP(n,c,t)||c===""&&e.length===1){if(Pn(r))return!1;s=!0}}else if(r&8){if(i===null||!PP(n,i,c,t)){if(Pn(r))return!1;s=!0}}else{let l=e[++a],u=kP(c,i,pm(n),t);if(u===-1){if(Pn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Pn(r))return!1;s=!0}}}}return Pn(r)||s}function Pn(n){return(n&1)===0}function kP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LP(e,n)}function RP(n,e,t=!1){for(let r=0;r<e.length;r++)if(NP(n,e[r],t))return!0;return!1}function FP(n){for(let e=0;e<n.length;e++){let t=n[e];if(hw(t))return e}return n.length}function LP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vb(n,e){return n?":not("+e.trim()+")":e}function VP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Pn(s)&&(e+=vb(o,i),i=""),r=s,o=o||!Pn(r);t++}return i!==""&&(e+=vb(o,i)),e}function jP(n){return n.map(VP).join(",")}function UP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Pn(i))break;i=o}r++}return{attrs:e,classes:t}}function ee(n){return Ma(()=>{let e=_w(n),t=$(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===fw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nr.Emulated,styles:n.styles||Ut,_:null,schemas:n.schemas||null,tView:null,id:""});Cw(t);let r=n.dependencies;return t.directiveDefs=cu(r,!1),t.pipeDefs=cu(r,!0),t.id=HP(t),t})}function BP(n){return ii(n)||gw(n)}function $P(n){return n!==null}function Ye(n){return Ma(()=>({type:n.type,bootstrap:n.bootstrap||Ut,declarations:n.declarations||Ut,imports:n.imports||Ut,exports:n.exports||Ut,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yb(n,e){if(n==null)return ts;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ri.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ri.None?[r,a]:r,e[o]=s):t[o]=r}return t}function le(n){return Ma(()=>{let e=_w(n);return Cw(e),e})}function io(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ii(n){return n[uP]||null}function gw(n){return n[dP]||null}function mw(n){return n[fP]||null}function vw(n){let e=ii(n)||gw(n)||mw(n);return e!==null?e.standalone:!1}function yw(n,e){let t=n[hP]||null;if(!t&&e===!0)throw new Error(`Type ${At(n)} does not have '\u0275mod' property.`);return t}function _w(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ts,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ut,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yb(n.inputs,e),outputs:yb(n.outputs),debugInfo:null}}function Cw(n){n.features?.forEach(e=>e(n))}function cu(n,e){if(!n)return null;let t=e?mw:BP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter($P)}function HP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ds(n){return{\u0275providers:n}}function zP(...n){return{\u0275providers:bw(!0,n),\u0275fromNgModule:!0}}function bw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return fm(e,s=>{let a=s;yg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ww(i,o),t}function ww(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];gm(i,o=>{e(o,r)})}}function yg(n,e,t,r){if(n=Pt(n),!n)return!1;let i=null,o=fb(n),s=!o&&ii(n);if(!o&&!s){let c=n.ngModule;if(o=fb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)yg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fm(o.imports,u=>{yg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&ww(l,e)}if(!a){let l=Ki(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ut},i),e({provide:dw,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;gm(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function gm(n,e){for(let t of n)ow(t)&&(t=t.\u0275providers),Array.isArray(t)?gm(t,e):e(t)}function Ew(n){return n!==null&&typeof n=="object"&&qP in n}function WP(n){return!!(n&&n.useExisting)}function GP(n){return!!(n&&n.useFactory)}function rs(n){return typeof n=="function"}function KP(n){return!!n.useClass}function mm(){return eg===void 0&&(eg=new au),eg}function _g(n){let e=Ru(n),t=e!==null?e.factory:Ki(n);if(t!==null)return t;if(n instanceof R)throw new S(204,!1);if(n instanceof Function)return QP(n);throw new S(204,!1)}function QP(n){if(n.length>0)throw new S(204,!1);let t=cP(n);return t!==null?()=>t.factory(n):()=>new n}function ZP(n){if(Ew(n))return Yo(void 0,n.useValue);{let e=Dw(n);return Yo(e,Xl)}}function Dw(n,e,t){let r;if(rs(n)){let i=Pt(n);return Ki(i)||_g(i)}else if(Ew(n))r=()=>Pt(n.useValue);else if(GP(n))r=()=>n.useFactory(...mg(n.deps||[]));else if(WP(n))r=()=>A(Pt(n.useExisting));else{let i=Pt(n&&(n.useClass||n.provide));if(JP(n))r=()=>new i(...mg(n.deps));else return Ki(i)||_g(i)}return r}function Yo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function JP(n){return!!n.deps}function XP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function eA(n){return typeof n=="function"||typeof n=="object"&&n instanceof R}function Cg(n,e){for(let t of n)Array.isArray(t)?Cg(t,e):t&&ow(t)?Cg(t.\u0275providers,e):e(t)}function hn(n,e){n instanceof ba&&n.assertNotDestroyed();let t,r=ei(n),i=jt(void 0);try{return e()}finally{ei(r),jt(i)}}function Mw(){return sw()!==void 0||CP()!=null}function vm(n){if(!Mw())throw new S(-203,!1)}function tA(n){let e=gt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function nA(n){return typeof n=="function"}function ni(n){return Array.isArray(n)&&typeof n[Iw]=="object"}function Sr(n){return Array.isArray(n)&&n[Iw]===!0}function ym(n){return(n.flags&4)!==0}function Uu(n){return n.componentOffset>-1}function Bu(n){return(n.flags&1)===1}function oi(n){return!!n.template}function bg(n){return(n[Q]&512)!==0}function xw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Fn(){return Ow}function Ow(n){return n.type.prototype.ngOnChanges&&(n.setInput=iA),rA}function rA(){let n=Pw(this),e=n?.current;if(e){let t=n.previous;if(t===ts)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function iA(n,e,t,r,i){let o=this.declaredInputs[r],s=Pw(n)||oA(n,{previous:ts,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new wg(l&&l.currentValue,t,c===ts),xw(n,e,i,t)}function Pw(n){return n[Tw]||null}function oA(n,e){return n[Tw]=e}function or(n){for(;Array.isArray(n);)n=n[Mr];return n}function Aw(n,e){return or(e[n])}function pn(n,e){return or(e[n.index])}function Nw(n,e){return n.data[e]}function kw(n,e){return n[e]}function li(n,e){let t=e[n];return ni(t)?t:t[Mr]}function cA(n){return(n[Q]&4)===4}function _m(n){return(n[Q]&128)===128}function lA(n){return Sr(n[Et])}function ss(n,e){return e==null?null:n[e]}function Rw(n){n[Qo]=0}function Fw(n){n[Q]&1024||(n[Q]|=1024,_m(n)&&Hu(n))}function uA(n,e){for(;n>0;)e=e[fs],n--;return e}function $u(n){return!!(n[Q]&9216||n[un]?.dirty)}function Eg(n){n[rr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),$u(n)&&Hu(n)}function Hu(n){n[rr].changeDetectionScheduler?.notify(0);let e=Zi(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!_m(e)));)e=Zi(e)}function Lw(n,e){if((n[Q]&256)===256)throw new S(911,!1);n[ti]===null&&(n[ti]=[]),n[ti].push(e)}function dA(n,e){if(n[ti]===null)return;let t=n[ti].indexOf(e);t!==-1&&n[ti].splice(t,1)}function Zi(n){let e=n[Et];return Sr(e)?e[Et]:e}function fA(){return ce.lFrame.elementDepthCount}function hA(){ce.lFrame.elementDepthCount++}function pA(){ce.lFrame.elementDepthCount--}function jw(){return ce.bindingsEnabled}function gA(){return ce.skipHydrationRootTNode!==null}function mA(n){return ce.skipHydrationRootTNode===n}function vA(){ce.skipHydrationRootTNode=null}function ue(){return ce.lFrame.lView}function Je(){return ce.lFrame.tView}function L(n){return ce.lFrame.contextLView=n,n[kn]}function V(n){return ce.lFrame.contextLView=null,n}function mt(){let n=Uw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Uw(){return ce.lFrame.currentTNode}function yA(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function oo(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function Cm(){return ce.lFrame.isParent}function Bw(){ce.lFrame.isParent=!1}function _A(){return ce.lFrame.contextLView}function $w(){return Vw}function bb(n){Vw=n}function zu(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function CA(n){return ce.lFrame.bindingIndex=n}function qu(){return ce.lFrame.bindingIndex++}function Hw(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function bA(){return ce.lFrame.inI18n}function wA(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dg(e)}function EA(){return ce.lFrame.currentDirectiveIndex}function Dg(n){ce.lFrame.currentDirectiveIndex=n}function DA(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function zw(){return ce.lFrame.currentQueryIndex}function bm(n){ce.lFrame.currentQueryIndex=n}function MA(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[Rn]:null}function qw(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=MA(o),i===null||(o=o[fs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=Ww();return r.currentTNode=e,r.lView=n,!0}function wm(n){let e=Ww(),t=n[re];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ww(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?Gw(n):e}function Gw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Kw(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function Em(){let n=Kw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function SA(n){return(ce.lFrame.contextLView=uA(n,ce.lFrame.contextLView))[kn]}function so(){return ce.lFrame.selectedIndex}function Ji(n){ce.lFrame.selectedIndex=n}function Dm(){let n=ce.lFrame;return Nw(n.tView,n.selectedIndex)}function IA(){return ce.lFrame.currentNamespace}function Wu(){return Qw}function Gu(n){Qw=n}function xA(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ow(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Ku(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function eu(n,e,t){Zw(n,e,3,t)}function tu(n,e,t,r){(n[Q]&3)===t&&Zw(n,e,t,r)}function ng(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function Zw(n,e,t,r){let i=r!==void 0?n[Qo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Qo]+=65536),(a<o||o==-1)&&(OA(n,t,e,c),n[Qo]=(n[Qo]&4294901760)+c+2),c++}function wb(n,e){er(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),er(5,n,e)}}function OA(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[Qo]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,wb(a,o)):wb(a,o)}function TA(n){return n instanceof Xi}function PA(n){return(n.flags&8)!==0}function AA(n){return(n.flags&16)!==0}function Jw(n){return n!==es}function hu(n){return n&32767}function NA(n){return n>>16}function pu(n,e){let t=NA(n),r=e;for(;t>0;)r=r[fs],t--;return r}function gu(n){let e=Sg;return Sg=n,e}function FA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(va)&&(r=t[va]),r==null&&(r=t[va]=RA++);let i=r&Xw,o=1<<i;e.data[n+(i>>eE)]|=o}function mu(n,e){let t=tE(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,ig(r.data,n),ig(e,null),ig(r.blueprint,null));let i=Mm(n,e),o=n.injectorIndex;if(Jw(i)){let s=hu(i),a=pu(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ig(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Mm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=sE(i),r===null)return es;if(t++,i=i[fs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return es}function Ig(n,e,t){FA(n,e,t)}function LA(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(hw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function nE(n,e,t){if(t&ae.Optional||n!==void 0)return n;um(e,"NodeInjector")}function rE(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),!(t&(ae.Self|ae.Host))){let i=n[is],o=jt(void 0);try{return i?i.get(e,r,t&ae.Optional):aw(e,r,t&ae.Optional)}finally{jt(o)}}return nE(r,e,t)}function iE(n,e,t,r=ae.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ae.Self)){let s=BA(n,e,t,r,tr);if(s!==tr)return s}let o=oE(n,e,t,r,tr);if(o!==tr)return o}return rE(e,t,r,i)}function oE(n,e,t,r,i){let o=jA(t);if(typeof o=="function"){if(!qw(e,n,r))return r&ae.Host?nE(i,t,r):rE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))um(t);else return s}finally{Yw()}}else if(typeof o=="number"){let s=null,a=tE(n,e),c=es,l=r&ae.Host?e[ir][Rn]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?Mm(n,e):e[a+8],c===es||!Db(r,!1)?a=-1:(s=e[re],a=hu(c),e=pu(c,e)));a!==-1;){let u=e[re];if(Eb(o,a,u.data)){let d=VA(a,e,t,s,r,l);if(d!==tr)return d}c=e[a+8],c!==es&&Db(r,e[re].data[a+8]===l)&&Eb(o,a,e)?(s=u,a=hu(c),e=pu(c,e)):a=-1}}return i}function VA(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],c=r==null?Uu(a)&&Sg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,u=nu(a,s,t,c,l);return u!==null?eo(e,s,u,a):tr}function nu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let _=s[g];if(g<c&&t===_||g>=c&&_.type===t)return g}if(i){let g=s[c];if(g&&oi(g)&&g.type===t)return c}return null}function eo(n,e,t,r){let i=n[t],o=e.data;if(TA(i)){let s=i;s.resolving&&gP(pP(o[t]));let a=gu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?jt(s.injectImpl):null,u=qw(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&xA(t,o[t],e)}finally{l!==null&&jt(l),gu(a),s.resolving=!1,Yw()}}return i}function jA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(va)?n[va]:void 0;return typeof e=="number"?e>=0?e&Xw:UA:e}function Eb(n,e,t){let r=1<<n;return!!(t[e+(n>>eE)]&r)}function Db(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}function UA(){return new Gi(mt(),ue())}function Ir(n){return Ma(()=>{let e=n.prototype.constructor,t=e[iu]||xg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[iu]||xg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xg(n){return tw(n)?()=>{let e=xg(Pt(n));return e&&e()}:Ki(n)}function BA(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=oE(o,s,t,r|ae.Self,tr);if(a!==tr)return a;let c=o.parent;if(!c){let l=s[Sw];if(l){let u=l.get(t,tr,r);if(u!==tr)return u}c=sE(s),s=s[fs]}o=c}return i}function sE(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[Rn]:null}function Sm(n){return LA(mt(),n)}function Mb(n,e=null,t=null,r){let i=aE(n,e,t,r);return i.resolveInjectorInitializers(),i}function aE(n,e=null,t=null,r,i=new Set){let o=[t||Ut,zP(n)];return r=r||(typeof n=="object"?void 0:At(n)),new ba(o,e||mm(),r||null,i)}function og(n){return n[HA]}function zA(){return new Og(ue())}function vu(...n){}function lE(n){let e,t;function r(){n=vu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Sb(n){return queueMicrotask(()=>n()),()=>{n=vu}}function xm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function GA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){lE(()=>{n.callbackScheduled=!1,Pg(n),n.isCheckStableRunning=!0,xm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pg(n)}function KA(n){let e=()=>{GA(n)},t=qA++;n._inner=n._inner.fork({name:"angular",properties:{[Im]:!0,[yu]:t,[yu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(YA(c))return r.invokeTask(o,s,a,c);try{return Ib(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),xb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Ib(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!QA(c)&&e(),xb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pg(n),xm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Ib(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xb(n){n._nesting--,xm(n)}function YA(n){return uE(n,"__ignore_ng_zone__")}function QA(n){return uE(n,"__scheduler_tick__")}function uE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function ZA(n="zone.js",e){return n==="noop"?new _u:n==="zone.js"?new ye(e):n}function XA(){return hs(mt(),ue())}function hs(n,e){return new vt(pn(n,e))}function e1(n){return n instanceof vt?n.nativeElement:n}function t1(){return this._results[Symbol.iterator]()}function dE(n){return(n.flags&128)===128}function r1(){return n1++}function i1(n){fE.set(n[ju],n)}function Ng(n){fE.delete(n[ju])}function si(n,e){ni(e)?(n[Ob]=e[ju],i1(e)):n[Ob]=e}function hE(n){return gE(n[wa])}function pE(n){return gE(n[Nn])}function gE(n){for(;n!==null&&!Sr(n);)n=n[Nn];return n}function mE(n){kg=n}function vE(){if(kg!==void 0)return kg;if(typeof document<"u")return document;throw new S(210,!1)}function Am(n,e,t=!1){return c1(n,e,t)}function u1(){if(Wl===void 0&&(Wl=null,gt.trustedTypes))try{Wl=gt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wl}function Qu(n){return u1()?.createHTML(n)||n}function _E(){if(Gl===void 0&&(Gl=null,gt.trustedTypes))try{Gl=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gl}function Tb(n){return _E()?.createHTML(n)||n}function Pb(n){return _E()?.createScriptURL(n)||n}function ao(n){return n instanceof Cu?n.changingThisBreaksApplicationSecurity:n}function Zu(n,e){let t=d1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Xb})`)}return t===e}function d1(n){return n instanceof Cu&&n.getTypeName()||null}function f1(n){let e=new Fg(n);return h1()?new Rg(e):e}function h1(){try{return!!new window.DOMParser().parseFromString(Qu(""),"text/html")}catch{return!1}}function Nm(n){return n=String(n),n.match(p1)?n:"unsafe:"+n}function Or(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function xa(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}function w1(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function E1(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw DE(e);return e}function D1(n){let e=n.firstChild;if(e&&w1(n,e))throw DE(e);return e}function Nb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function DE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}function kb(n){return n.replace(/&/g,"&amp;").replace(M1,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(S1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ME(n,e){let t=null;try{Kl=Kl||f1(n);let r=e?String(e):"";t=Kl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Kl.getInertBodyElement(r)}while(r!==o);let a=new Lg().sanitizeChildren(Rb(t)||t);return Qu(a)}finally{if(t){let r=Rb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Rb(n){return"content"in n&&I1(n)?n.content:null}function I1(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function Ju(n){let e=km();return e?Tb(e.sanitize(Oa.HTML,n)||""):Zu(n,"HTML")?Tb(ao(n)):ME(vE(),Sa(n))}function Xe(n){let e=km();return e?e.sanitize(Oa.URL,n)||"":Zu(n,"URL")?ao(n):Nm(Sa(n))}function x1(n){let e=km();if(e)return Pb(e.sanitize(Oa.RESOURCE_URL,n)||"");if(Zu(n,"ResourceURL"))return Pb(ao(n));throw new S(904,!1)}function O1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?x1:Xe}function SE(n,e,t){return O1(e,t)(n)}function km(){let n=ue();return n&&n[rr].sanitizer}function N1(n){return n.replace(T1,e=>e.replace(P1,A1))}function IE(n){return n instanceof Function?n():n}function k1(n){return(n??v(Ze)).get(Yt)==="browser"}function Rm(n,e){return R1(n,e)}function Zo(n,e,t,r,i){if(r!=null){let o,s=!1;Sr(r)?o=r:ni(r)&&(s=!0,r=r[Mr]);let a=or(r);n===0&&t!==null?i==null?AE(e,t,a):bu(e,t,a,i||null,!0):n===1&&t!==null?bu(e,t,a,i||null,!0):n===2?Z1(e,a,s):n===3&&e.destroyNode(a),o!=null&&X1(e,n,o,t,i)}}function F1(n,e){return n.createText(e)}function L1(n,e,t){n.setValue(e,t)}function V1(n,e){return n.createComment(N1(e))}function xE(n,e,t){return n.createElement(e,t)}function j1(n,e){OE(n,e),e[Mr]=null,e[Rn]=null}function U1(n,e,t,r,i,o){r[Mr]=i,r[Rn]=e,ed(n,r,t,1,i,o)}function OE(n,e){e[rr].changeDetectionScheduler?.notify(9),ed(n,e,e[Ge],2,null,null)}function B1(n){let e=n[wa];if(!e)return sg(n[re],n);for(;e;){let t=null;if(ni(e))t=e[wa];else{let r=e[Kt];r&&(t=r)}if(!t){for(;e&&!e[Nn]&&e!==n;)ni(e)&&sg(e[re],e),e=e[Et];e===null&&(e=n),ni(e)&&sg(e[re],e),t=e&&e[Nn]}e=t}}function $1(n,e,t,r){let i=Kt+r,o=t.length;r>0&&(t[i-1][Nn]=e),r<o-Kt?(e[Nn]=t[i],lw(t,Kt+r,e)):(t.push(e),e[Nn]=null),e[Et]=t;let s=e[Yi];s!==null&&t!==s&&TE(s,e);let a=e[br];a!==null&&a.insertView(n),Eg(e),e[Q]|=128}function TE(n,e){let t=n[os],r=e[Et];if(ni(r))n[Q]|=fu.HasTransplantedViews;else{let i=r[Et][ir];e[ir]!==i&&(n[Q]|=fu.HasTransplantedViews)}t===null?n[os]=[e]:t.push(e)}function Fm(n,e){let t=n[os],r=t.indexOf(e);t.splice(r,1)}function Vg(n,e){if(n.length<=Kt)return;let t=Kt+e,r=n[t];if(r){let i=r[Yi];i!==null&&i!==n&&Fm(i,r),e>0&&(n[t-1][Nn]=r[Nn]);let o=su(n,Kt+e);j1(r[re],r);let s=o[br];s!==null&&s.detachView(o[re]),r[Et]=null,r[Nn]=null,r[Q]&=-129}return r}function PE(n,e){if(!(e[Q]&256)){let t=e[Ge];t.destroyNode&&ed(n,e,t,3,null,null),B1(e)}}function sg(n,e){if(e[Q]&256)return;let t=ve(null);try{e[Q]&=-129,e[Q]|=256,e[un]&&ep(e[un]),z1(n,e),H1(n,e),e[re].type===1&&e[Ge].destroy();let r=e[Yi];if(r!==null&&Sr(e[Et])){r!==e[Et]&&Fm(r,e);let i=e[br];i!==null&&i.detachView(n)}Ng(e)}finally{ve(t)}}function H1(n,e){let t=n.cleanup,r=e[uu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[uu]=null);let i=e[ti];if(i!==null){e[ti]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function z1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Xi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];er(4,a,c);try{c.call(a)}finally{er(5,a,c)}}else{er(4,i,o);try{o.call(i)}finally{er(5,i,o)}}}}}function q1(n,e,t){return W1(n,e.parent,t)}function W1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Mr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===nr.None||o===nr.Emulated)return null}return pn(r,t)}}function bu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function AE(n,e,t){n.appendChild(e,t)}function Fb(n,e,t,r,i){r!==null?bu(n,e,t,r,i):AE(n,e,t)}function NE(n,e){return n.parentNode(e)}function G1(n,e){return n.nextSibling(e)}function K1(n,e,t){return Q1(n,e,t)}function Y1(n,e,t){return n.type&40?pn(n,t):null}function Xu(n,e,t,r){let i=q1(n,r,e),o=e[Ge],s=r.parent||e[Rn],a=K1(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Fb(o,i,t[c],a,!1);else Fb(o,i,t,a,!1);Lb!==void 0&&Lb(o,r,e,t,i)}function ma(n,e){if(e!==null){let t=e.type;if(t&3)return pn(e,n);if(t&4)return jg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ma(n,r);{let i=n[e.index];return Sr(i)?jg(-1,i):or(i)}}else{if(t&128)return ma(n,e.next);if(t&32)return Rm(e,n)()||or(n[e.index]);{let r=kE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zi(n[ir]);return ma(i,r)}else return ma(n,e.next)}}}return null}function kE(n,e){if(e!==null){let r=n[ir][Rn],i=e.projection;return r.projection[i]}return null}function jg(n,e){let t=Kt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return ma(r,i)}return e[Qi]}function Z1(n,e,t){n.removeChild(null,e,t)}function Lm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&si(or(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Lm(n,e,t.child,r,i,o,!1),Zo(e,n,i,a,o);else if(c&32){let l=Rm(t,r),u;for(;u=l();)Zo(e,n,i,u,o);Zo(e,n,i,a,o)}else c&16?J1(n,e,r,t,i,o):Zo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ed(n,e,t,r,i,o){Lm(t,r,n.firstChild,e,i,o,!1)}function J1(n,e,t,r,i,o){let s=t[ir],c=s[Rn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Zo(e,n,i,u,o)}else{let l=c,u=s[Et];dE(r)&&(l.flags|=128),Lm(n,e,l,u,i,o,!0)}}function X1(n,e,t,r,i){let o=t[Qi],s=or(t);o!==s&&Zo(e,n,r,o,i);for(let a=Kt;a<t.length;a++){let c=t[a];ed(c[re],c,n,e,r,o)}}function eN(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Er.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Er.Important),n.setStyle(t,r,i,o))}}function tN(n,e,t){n.setAttribute(e,"style",t)}function RE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function FE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&vg(n,e,r),i!==null&&RE(n,e,i),o!==null&&tN(n,e,o)}function y(n=1){LE(Je(),ue(),so()+n,!1)}function LE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&eu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&tu(e,o,0,t)}Ji(t)}function D(n,e=ae.Default){let t=ue();if(t===null)return A(n,e);let r=mt();return iE(r,t,Pt(n),e)}function VE(){let n="invalid";throw new Error(n)}function jE(n,e,t,r,i,o){let s=ve(null);try{let a=null;i&ri.SignalBased&&(a=e[r][vr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ri.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):xw(e,a,r,o)}finally{ve(s)}}function nN(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ji(~i);else{let o=i,s=t[++r],a=t[++r];wA(s,o);let c=e[o];a(2,c)}}}finally{Ji(-1)}}function td(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Mr]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),Rw(d),d[Et]=d[fs]=n,d[kn]=t,d[rr]=s||n&&n[rr],d[Ge]=a||n&&n[Ge],d[is]=c||n&&n[is]||null,d[Rn]=o,d[ju]=r1(),d[lu]=u,d[Sw]=l,d[ir]=e.type==2?n[ir]:d,d}function Ta(n,e,t,r,i){let o=n.data[e];if(o===null)o=rN(n,e,t,r,i),bA()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=yA();o.injectorIndex=s===null?-1:s.injectorIndex}return oo(o,!0),o}function rN(n,e,t,r,i){let o=Uw(),s=Cm(),a=s?o:o&&o.parent,c=n.data[e]=lN(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function UE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function BE(n,e,t,r,i){let o=so(),s=r&2;try{Ji(-1),s&&e.length>dn&&LE(n,e,dn,!1),er(s?2:0,i),t(r,i)}finally{Ji(o),er(s?3:1,i)}}function Vm(n,e,t){if(ym(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(r)}}}function jm(n,e,t){jw()&&(gN(n,e,t,pn(t,e)),(t.flags&64)===64&&qE(n,e,t))}function Um(n,e,t=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function $E(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Bm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Bm(n,e,t,r,i,o,s,a,c,l,u){let d=dn+r,m=d+i,g=iN(d,m),_=typeof l=="function"?l():l;return g[re]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function iN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:sr);return t}function oN(n,e,t,r){let o=r.get(l1,yE)||t===nr.ShadowDom,s=n.selectRootElement(e,o);return sN(s),s}function sN(n){aN(n)}function cN(n,e,t,r){let i=KE(e);i.push(t),n.firstCreatePass&&YE(n).push(r,i.length-1)}function lN(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return gA()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ri.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?jb(r,t,l,a,c):jb(r,t,l,a)}return r}function jb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function uN(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,g=m?m.inputs:null,_=m?m.outputs:null;c=Vb(0,d.inputs,u,c,g),l=Vb(1,d.outputs,u,l,_);let w=c!==null&&s!==null&&!pm(e)?SN(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function dN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function HE(n,e,t,r,i,o,s,a){let c=pn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Hm(n,t,u,r,i),Uu(e)&&fN(t,e.index)):e.type&3?(r=dN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function fN(n,e){let t=li(e,n);t[Q]&16||(t[Q]|=64)}function $m(n,e,t,r){if(jw()){let i=r===null?null:{"":-1},o=vN(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&zE(n,e,t,s,i,a),i&&yN(t,r,i)}t.mergedAttrs=Ca(t.mergedAttrs,t.attrs)}function zE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Ig(mu(t,e),n,r[l].type);CN(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=UE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=Ca(t.mergedAttrs,u.hostAttrs),bN(n,t,e,c,u),_N(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}uN(n,t,o)}function hN(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;pN(s)!=a&&s.push(a),s.push(t,r,o)}}function pN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function gN(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Uu(t)&&wN(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||mu(t,e),si(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=eo(e,n,a,t);if(si(l,e),s!==null&&MN(e,a-i,l,c,t,s),oi(c)){let u=li(t.index,e);u[kn]=eo(e,n,a,t)}}}function qE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=EA();try{Ji(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Dg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mN(c,l)}}finally{Ji(-1),Dg(s)}}function mN(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function vN(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(RP(e,s.selectors,!1))if(r||(r=[]),oi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Ug(n,e,c)}else r.unshift(s),Ug(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ug(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function yN(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}}function _N(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;oi(e)&&(t[""]=n)}}function CN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bN(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ki(i.type,!0)),s=new Xi(o,oi(i),D);n.blueprint[r]=s,t[r]=s,hN(n,e,r,UE(n,t,i.hostVars,sr),i)}function wN(n,e,t){let r=pn(e,n),i=$E(t),o=n[rr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=nd(n,td(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function EN(n,e,t,r,i,o){let s=pn(n,e);DN(e[Ge],s,o,n.value,t,r,i)}function DN(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Sa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function MN(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];jE(r,t,c,l,u,d)}}function SN(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function WE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function GE(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];bm(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function nd(n,e){return n[wa]?n[_b][Nn]=e:n[wa]=e,n[_b]=e,e}function Bg(n,e,t){bm(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function KE(n){return n[uu]??=[]}function YE(n){return n.cleanup??=[]}function QE(n,e){let t=n[is],r=t?t.get(wr,null):null;r&&r.handleError(e)}function Hm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];jE(u,l,r,a,c,i)}}function IN(n,e,t){let r=Aw(e,n);L1(n[Ge],r,t)}function xN(n,e){let t=li(e,n),r=t[re];ON(r,t);let i=t[Mr];i!==null&&t[lu]===null&&(t[lu]=Am(i,t[is])),zm(r,t,t[kn])}function ON(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function zm(n,e,t){wm(e);try{let r=n.viewQuery;r!==null&&Bg(1,r,t);let i=n.template;i!==null&&BE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[br]?.finishViewCreation(n),n.staticContentQueries&&GE(n,e),n.staticViewQueries&&Bg(2,n.viewQuery,t);let o=n.components;o!==null&&TN(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Em()}}function TN(n,e){for(let t=0;t<e.length;t++)xN(n,e[t])}function PN(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=td(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Yi]=l;let u=n[br];return u!==null&&(c[br]=u.createEmbeddedView(o)),zm(o,c,t),c}finally{ve(i)}}function Ub(n,e){return!e||e.firstChild===null||dE(n)}function AN(n,e,t,r=!0){let i=e[re];if($1(i,e,n,t),r){let s=jg(t,n),a=e[Ge],c=NE(a,n[Qi]);c!==null&&U1(i,n[Rn],a,e,c,s)}let o=e[lu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(or(o)),Sr(o)&&NN(o,r);let s=t.type;if(s&8)wu(n,e,t.child,r);else if(s&32){let a=Rm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=kE(e,t);if(Array.isArray(a))r.push(...a);else{let c=Zi(e[ir]);wu(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function NN(n,e){for(let t=Kt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&wu(r[re],r,i,e)}n[Qi]!==n[Mr]&&e.push(n[Qi])}function kN(n){return n[un]??RN(n)}function RN(n){let e=ZE.pop()??Object.create(LN);return e.lView=n,e}function FN(n){n.lView[un]!==n&&(n.lView=null,ZE.push(n))}function VN(n){let e=n[un]??Object.create(jN);return e.lView=n,e}function JE(n){return n.type!==2}function XE(n,e=!0,t=0){let r=n[rr],i=r.rendererFactory,o=!1;o||i.begin?.();try{BN(n,t)}catch(s){throw e&&QE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function BN(n,e){let t=$w();try{bb(!0),$g(n,e);let r=0;for(;$u(n);){if(r===UN)throw new S(103,!1);r++,$g(n,1)}}finally{bb(t)}}function $N(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[rr].inlineEffectRunner?.flush(),wm(e);let a=!0,c=null,l=null;o||(JE(n)?(l=kN(e),c=rl(l)):A0()===null?(a=!1,l=VN(e),c=rl(l)):e[un]&&(ep(e[un]),e[un]=null));try{Rw(e),CA(n.bindingStartIndex),t!==null&&BE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&eu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&tu(e,g,0,null),ng(e,0)}if(s||HN(e),eD(e,0),n.contentQueries!==null&&GE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&eu(e,g)}else{let g=n.contentHooks;g!==null&&tu(e,g,1),ng(e,1)}nN(n,e);let d=n.components;d!==null&&nD(e,d,0);let m=n.viewQuery;if(m!==null&&Bg(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&eu(e,g)}else{let g=n.viewHooks;g!==null&&tu(e,g,2),ng(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[tg]){for(let g of e[tg])g();e[tg]=null}o||(e[Q]&=-73)}catch(u){throw o||Hu(e),u}finally{l!==null&&(Jh(l,c),a&&FN(l)),Em()}}function eD(n,e){for(let t=hE(n);t!==null;t=pE(t))for(let r=Kt;r<t.length;r++){let i=t[r];tD(i,e)}}function HN(n){for(let e=hE(n);e!==null;e=pE(e)){if(!(e[Q]&fu.HasTransplantedViews))continue;let t=e[os];for(let r=0;r<t.length;r++){let i=t[r];Fw(i)}}}function zN(n,e,t){let r=li(e,n);tD(r,t)}function tD(n,e){_m(n)&&$g(n,e)}function $g(n,e){let r=n[re],i=n[Q],o=n[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xh(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)$N(r,n,r.template,n[kn]);else if(i&8192){eD(n,1);let a=r.components;a!==null&&nD(n,a,1)}}function nD(n,e,t){for(let r=0;r<e.length;r++)zN(n,e[r],t)}function qm(n,e){let t=$w()?64:1088;for(n[rr].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Zi(n);if(bg(n)&&!r)return n;n=r}return null}function GN(){return rd(mt(),ue())}function rd(n,e){return n.type&4?new WN(e,n,hs(n,e)):null}function Bb(n,e){return KN(n,e)}function YN(n){let e=Error(`No component factory found for ${At(n)}.`);return e[QN]=n,e}function ZN(){let n=ue(),e=mt(),t=li(e.index,n);return(ni(t)?t:n)[Ge]}function Du(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hg(i,a);else if(o==2){let c=a,l=e[++s];r=hg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function $b(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ri.None;e?t.push({propName:s,templateName:r,isSignal:(a&ri.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function XN(n){let e=n.toLowerCase();return e==="svg"?sA:e==="math"?aA:null}function ek(n,e){let t=n[re],r=dn;return n[r]=e,Ta(t,r,2,"#host",null)}function tk(n,e,t,r,i,o,s){let a=i[re];nk(r,n,e,s);let c=null;e!==null&&(c=Am(e,i[is]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=td(i,$E(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Ug(a,n,r.length-1),nd(i,d),i[n.index]=d}function nk(n,e,t,r){for(let i of n)e.mergedAttrs=Ca(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Du(e,e.mergedAttrs,!0),t!==null&&FE(r,t,e))}function rk(n,e,t,r,i,o){let s=mt(),a=i[re],c=pn(s,i);zE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,m=eo(i,a,d,s);si(m,i)}qE(a,i,s),c&&si(c,i);let l=eo(i,a,s.directiveStart+s.componentOffset,s);if(n[kn]=i[kn]=l,o!==null)for(let u of o)u(l,e);return Vm(a,s,i),l}function ik(n,e,t,r){if(r)vg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=UP(e.selectors[0]);i&&vg(n,t,i),o&&o.length>0&&RE(n,t,o.join(" "))}}function ok(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function sk(){let n=mt();Ku(ue()[re],n)}function ak(){let n=mt();return sD(n,ue())}function Hb(n){return n[du]}function ag(n){return n[du]||(n[du]=[])}function sD(n,e){let t,r=e[n.index];return Sr(r)?t=r:(t=WE(r,e,null,n),e[n.index]=t,nd(e,t)),uk(t,e,n,r),new oD(t,n,e)}function lk(n,e){let t=n[Ge],r=t.createComment(""),i=pn(e,n),o=NE(t,i);return bu(t,o,r,G1(t,i),!1),r}function fk(n,e,t){return dk(n,e,t)}function hk(n,e,t,r){if(n[Qi])return;let i;t.type&8?i=or(r):i=lk(e,t),n[Qi]=i}function pk(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function gk(n,e){return n.type&11?hs(n,e):n.type&4?rd(n,e):null}function mk(n,e,t,r){return t===-1?gk(e,n):t===-2?vk(n,e,r):eo(n,n[re],t,e)}function vk(n,e,t){if(t===vt)return hs(e,n);if(t===no)return rd(e,n);if(t===ui)return sD(e,n)}function aD(n,e,t,r){let i=e[br].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(mk(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Qg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=aD(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Kt;d<u.length;d++){let m=u[d];m[Yi]===m[Et]&&Qg(m[re],m,l,r)}if(u[os]!==null){let d=u[os];for(let m=0;m<d.length;m++){let g=d[m];Qg(g[re],g,l,r)}}}}}return r}function yk(n,e){return n[br].queries[e].queryList}function cD(n,e,t){let r=new Ag((t&4)===4);return cN(n,e,r,r.destroy),(e[br]??=new Gg).queries.push(new Wg(r))-1}function _k(n,e,t){let r=Je();return r.firstCreatePass&&(lD(r,new Su(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),cD(r,ue(),e)}function Ck(n,e,t,r){let i=Je();if(i.firstCreatePass){let o=mt();lD(i,new Su(e,t,r),o.index),wk(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return cD(i,ue(),t)}function bk(n){return n.split(",").map(e=>e.trim())}function lD(n,e,t){n.queries===null&&(n.queries=new Kg),n.queries.track(new Yg(e,t))}function wk(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Gm(n,e){return n.queries.getByIndex(e)}function Ek(n,e){let t=n[re],r=Gm(t,e);return r.crossesNgTemplate?Qg(t,n,e,[]):aD(t,n,r,e)}function co(n){zb.has(n)||(zb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Dk(n){return typeof n=="function"&&n[vr]!==void 0}function lo(n,e){co("NgSignals");let t=H0(n),r=t[vr];return e?.equal&&(r.equal=e.equal),t.set=i=>tp(r,i),t.update=i=>z0(r,i),t.asReadonly=Mk.bind(t),t}function Mk(){let n=this[vr];if(n.readonlyFn===void 0){let e=()=>this();e[vr]=n,n.readonlyFn=e}return n.readonlyFn}function uD(n){return Dk(n)&&typeof n.set=="function"}function Sk(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(Tk))}return o}return Iu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>Pk(o));e.push(c)}),xk(),Promise.all(e).then(()=>{})}function xk(){let n=Iu;return Iu=new Map,n}function Ok(){return Iu.size===0}function Tk(n){return typeof n=="string"?n:n.text()}function Pk(n){Ik.delete(n)}function Ak(n){return Object.getPrototypeOf(n.prototype).constructor}function Bt(n){let e=Ak(n.type),t=!0,r=[n];for(;e;){let i;if(oi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Yl(n.inputs),s.inputTransforms=Yl(n.inputTransforms),s.declaredInputs=Yl(n.declaredInputs),s.outputs=Yl(n.outputs);let a=i.hostBindings;a&&Lk(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Rk(n,c),l&&Fk(n,l),Nk(n,i),sP(n.outputs,i.outputs),oi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Bt&&(t=!1)}}e=Object.getPrototypeOf(e)}kk(r)}function Nk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function kk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ca(i.hostAttrs,t=Ca(t,i.hostAttrs))}}function Yl(n){return n===ts?{}:n===Ut?[]:n}function Rk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Fk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Lk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Km(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function Vk(n,e,t){return new xu(n,e,t,!1)}function id(n,e,t=null){return new Zg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function dD(n){return Uk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function jk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Uk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ym(n,e,t){return n[e]=t}function Bk(n,e){return n[e]}function Dr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function $k(n,e,t,r){let i=Dr(n,e,t);return Dr(n,e+1,r)||i}function Hk(n){return(n.flags&32)===32}function zk(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ta(e,n,4,s||null,a||null);$m(e,t,u,ss(l,c)),Ku(e,u);let d=u.tView=Bm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function qk(n,e,t,r,i,o,s,a,c,l){let u=t+dn,d=e.firstCreatePass?zk(u,e,n,r,i,o,s,a,c):e.data[u];oo(d,!1);let m=Wk(e,n,d,t);Wu()&&Xu(e,n,m,d),si(m,n);let g=WE(m,n,m,d);return n[u]=g,nd(n,g),fk(g,d,n),Bu(d)&&jm(e,n,d),c!=null&&Um(n,d,l),d}function N(n,e,t,r,i,o,s,a){let c=ue(),l=Je(),u=ss(l.consts,o);return qk(c,l,n,e,t,r,i,u,s,a),N}function Gk(n,e,t,r){return Gu(!0),e[Ge].createComment("")}function Qm(n,e){!e?.injector&&vm(Qm);let t=e?.injector??v(Ze);return k1(t)?(co("NgAfterNextRender"),Yk(n,t,e,!0)):Qk}function Kk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Yk(n,e,t,r){let i=e.get(fD);i.impl??=e.get(Jg);let o=t?.phase??Jo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(kt):null,a=new Xg(i.impl,Kk(n,o),r,s);return i.impl.register(a),a}function ps(n,e,t,r){let i=ue(),o=qu();if(Dr(i,o,e)){let s=Je(),a=Dm();EN(a,i,n,e,t,r)}return ps}function hD(n,e,t,r){return Dr(n,qu(),t)?e+Sa(t)+r:sr}function Ql(n,e){return n<<17|e<<2}function ro(n){return n>>17&32767}function Zk(n){return(n&2)==2}function Jk(n,e){return n&131071|e<<17}function em(n){return n|2}function us(n){return(n&131068)>>2}function cg(n,e){return n&-131069|e<<2}function Xk(n){return(n&1)===1}function tm(n){return n|1}function eR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),c=us(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ia(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let m=ro(n[a+1]);n[r+1]=Ql(m,a),m!==0&&(n[m+1]=cg(n[m+1],r)),n[a+1]=Jk(n[a+1],r)}else n[r+1]=Ql(a,0),a!==0&&(n[a+1]=cg(n[a+1],r)),a=r;else n[r+1]=Ql(c,0),a===0?a=r:n[c+1]=cg(n[c+1],r),c=r;l&&(n[r+1]=em(n[r+1])),qb(n,u,r,!0),qb(n,u,r,!1),tR(e,u,n,r,o),s=Ql(a,c),o?e.classBindings=s:e.styleBindings=s}function tR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ia(o,e)>=0&&(t[r+1]=tm(t[r+1]))}function qb(n,e,t,r){let i=n[t+1],o=e===null,s=r?ro(i):us(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];nR(c,e)&&(a=!0,n[s+1]=r?tm(l):em(l)),s=r?ro(l):us(l)}a&&(n[t+1]=r?em(i):tm(i))}function nR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ia(n,e)>=0:!1}function rR(n){return n.substring(An.key,An.keyEnd)}function iR(n){return oR(n),pD(n,gD(n,0,An.textEnd))}function pD(n,e){let t=An.textEnd;return t===e?-1:(e=An.keyEnd=sR(n,An.key=e,t),gD(n,e,t))}function oR(n){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=n.length}function gD(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function sR(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=ue(),i=qu();if(Dr(r,i,e)){let o=Je(),s=Dm();HE(o,s,r,n,e,r[Ge],t,!1)}return b}function nm(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Hm(n,t,o[s],s,r)}function gs(n,e){return cR(n,e,null,!0),gs}function aR(n,e){for(let t=iR(e);t>=0;t=pD(e,t))hm(n,rR(e),!0)}function cR(n,e,t,r){let i=ue(),o=Je(),s=Hw(2);if(o.firstUpdatePass&&vD(o,n,s,r),e!==sr&&Dr(i,s,e)){let a=o.data[so()];yD(o,a,i,i[Ge],n,i[s+1]=mR(e,t),r,s)}}function lR(n,e,t,r){let i=Je(),o=Hw(2);i.firstUpdatePass&&vD(i,null,o,r);let s=ue();if(t!==sr&&Dr(s,o,t)){let a=i.data[so()];if(_D(a,r)&&!mD(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=hg(c,t||"")),nm(i,a,s,t,r)}else gR(i,a,s,s[Ge],s[o+1],s[o+1]=pR(n,e,t),r,o)}}function mD(n,e){return e>=n.expandoStartIndex}function vD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[so()],s=mD(n,t);_D(o,r)&&e===null&&!s&&(e=!1),e=uR(i,o,e,r),eR(i,o,e,t,s,r)}}function uR(n,e,t,r){let i=DA(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=lg(null,n,e,t,r),t=Da(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=lg(i,n,e,t,r),o===null){let c=dR(n,e,r);c!==void 0&&Array.isArray(c)&&(c=lg(null,n,e,c[1],r),c=Da(c,e.attrs,r),fR(n,e,r,c))}else o=hR(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function dR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(us(r)!==0)return n[ro(r)]}function fR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ro(i)]=r}function hR(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Da(r,s,t)}return Da(r,e.attrs,t)}function lg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Da(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Da(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function pR(n,e,t){if(t==null||t==="")return Ut;let r=[],i=ao(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function gR(n,e,t,r,i,o,s,a){i===sr&&(i=Ut);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,_=null,w;u===d?(c+=2,l+=2,m!==g&&(_=d,w=g)):d===null||u!==null&&u<d?(c+=2,_=u):(l+=2,_=d,w=g),_!==null&&yD(n,e,t,r,_,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function yD(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=Xk(l)?Wb(c,e,t,i,us(l),s):void 0;if(!Tu(u)){Tu(o)||Zk(l)&&(o=Wb(c,null,t,i,a,s));let d=Aw(so(),t);eN(r,s,d,i,o)}}function Wb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=t[i+1];m===sr&&(m=d?Ut:void 0);let g=d?Xp(m,r):u===r?m:void 0;if(l&&!Tu(g)&&(g=Xp(c,r)),Tu(g)&&(a=g,s))return a;let _=n[i+1];i=s?ro(_):us(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Xp(c,r))}return a}function Tu(n){return n!==void 0}function mR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=At(ao(n)))),n}function _D(n,e){return(n.flags&(e?8:16))!==0}function CD(n,e,t){let r=ue(),i=hD(r,n,e,t);lR(hm,aR,i,!0)}function vR(n,e,t,r,i,o){let s=e.consts,a=ss(s,i),c=Ta(e,n,2,r,a);return $m(e,t,c,ss(s,o)),c.attrs!==null&&Du(c,c.attrs,!1),c.mergedAttrs!==null&&Du(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(n,e,t,r){let i=ue(),o=Je(),s=dn+n,a=i[Ge],c=o.firstCreatePass?vR(s,o,i,e,t,r):o.data[s],l=yR(o,i,c,a,e,n);i[s]=l;let u=Bu(c);return oo(c,!0),FE(a,l,c),!Hk(c)&&Wu()&&Xu(o,i,l,c),fA()===0&&si(l,i),hA(),u&&(jm(o,i,c),Vm(o,c,i)),r!==null&&Um(i,c),h}function f(){let n=mt();Cm()?Bw():(n=n.parent,oo(n,!1));let e=n;mA(e)&&vA(),pA();let t=Je();return t.firstCreatePass&&(Ku(t,n),ym(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&PA(e)&&nm(t,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&AA(e)&&nm(t,e,ue(),e.stylesWithoutHost,!1),f}function k(n,e,t,r){return h(n,e,t,r),f(),k}function _R(n,e,t,r,i){let o=e.consts,s=ss(o,r),a=Ta(e,n,8,"ng-container",s);s!==null&&Du(a,s,!0);let c=ss(o,i);return $m(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function $t(n,e,t){let r=ue(),i=Je(),o=n+dn,s=i.firstCreatePass?_R(o,i,r,e,t):i.data[o];oo(s,!0);let a=CR(i,r,s,n);return r[o]=a,Wu()&&Xu(i,r,a,s),si(a,r),Bu(s)&&(jm(i,r,s),Vm(i,s,r)),t!=null&&Um(r,s),$t}function Ht(){let n=mt(),e=Je();return Cm()?Bw():(n=n.parent,oo(n,!1)),e.firstCreatePass&&(Ku(e,n),ym(n)&&e.queries.elementEnd(n)),Ht}function K(){return ue()}function bR(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function gn(n){let e=ER(n),t=Gb(e);if(t)return t;let r=e.split("-")[0];if(t=Gb(r),t)return t;if(r==="en")return wR;throw new S(701,!1)}function Gb(n){return n in ug||(ug[n]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[n]),ug[n]}function ER(n){return n.toLowerCase().replace(/_/g,"-")}function MR(n){typeof n=="string"&&(DR=n.toLowerCase().replace(/_/g,"-"))}function O(n,e,t,r){let i=ue(),o=Je(),s=mt();return bD(o,i,i[Ge],s,n,e,r),O}function IR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[uu],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function bD(n,e,t,r,i,o,s){let a=Bu(r),l=n.firstCreatePass&&YE(n),u=e[kn],d=KE(e),m=!0;if(r.type&3||s){let w=pn(r,e),P=s?s(w):w,B=d.length,oe=s?he=>s(or(he[r.index])):r.index,Y=null;if(!s&&a&&(Y=IR(n,e,i,r.index)),Y!==null){let he=Y.__ngLastListenerFn__||Y;he.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,m=!1}else{o=Yb(r,e,u,o),SR(w,i,o);let he=t.listen(P,i,o);d.push(o,he),l&&l.push(i,oe,B,B+1)}}else o=Yb(r,e,u,o);let g=r.outputs,_;if(m&&g!==null&&(_=g[i])){let w=_.length;if(w)for(let P=0;P<w;P+=2){let B=_[P],oe=_[P+1],qe=e[B][oe].subscribe(o),Me=d.length;d.push(o,qe),l&&l.push(i,r.index,Me,-(Me+1))}}}function Kb(n,e,t,r){let i=ve(null);try{return er(6,e,t),t(r)!==!1}catch(o){return QE(n,o),!1}finally{er(7,e,t),ve(i)}}function Yb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?li(n.index,e):e;qm(s,5);let a=Kb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Kb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function M(n=1){return SA(n)}function wD(n,e,t,r){Ck(n,e,t,r)}function od(n,e,t){_k(n,e,t)}function ms(n){let e=ue(),t=Je(),r=zw();bm(r+1);let i=Gm(t,r);if(n.dirty&&cA(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Ek(e,r);n.reset(o,e1),n.notifyOnChanges()}return!0}return!1}function vs(){return yk(ue(),zw())}function xR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Dt(n){let e=_A();return kw(e,dn+n)}function C(n,e=""){let t=ue(),r=Je(),i=n+dn,o=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],s=OR(r,t,o,e,n);t[i]=s,Wu()&&Xu(r,t,s,o),oo(o,!1)}function Mt(n){return Oe("",n,""),Mt}function Oe(n,e,t){let r=ue(),i=hD(r,n,e,t);return i!==sr&&IN(r,so(),i),Oe}function mn(n,e,t){uD(e)&&(e=e());let r=ue(),i=qu();if(Dr(r,i,e)){let o=Je(),s=Dm();HE(o,s,r,n,e,r[Ge],t,!1)}return mn}function Vn(n,e){let t=uD(n);return t&&n.set(e),t}function vn(n,e){let t=ue(),r=Je(),i=mt();return bD(r,t,t[Ge],i,n,e),vn}function TR(n,e,t){let r=Je();if(r.firstCreatePass){let i=oi(n);rm(t,r.data,r.blueprint,i,!0),rm(e,r.data,r.blueprint,i,!1)}}function rm(n,e,t,r,i){if(n=Pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)rm(n[o],e,t,r,i);else{let o=Je(),s=ue(),a=mt(),c=rs(n)?n:Pt(n.provide),l=Dw(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(rs(n)||!n.multi){let g=new Xi(l,i,D),_=fg(c,e,i?u:u+m,d);_===-1?(Ig(mu(a,s),o,c),dg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[_]=g,s[_]=g)}else{let g=fg(c,e,u+m,d),_=fg(c,e,u,u+m),w=g>=0&&t[g],P=_>=0&&t[_];if(i&&!P||!i&&!w){Ig(mu(a,s),o,c);let B=NR(i?AR:PR,t.length,i,r,l);!i&&P&&(t[_].providerFactory=B),dg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=ED(t[i?_:g],l,!i&&r);dg(o,n,g>-1?g:_,B)}!i&&r&&P&&t[_].componentProviders++}}}function dg(n,e,t,r){let i=rs(e),o=KP(e);if(i||o){let c=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function ED(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function PR(n,e,t,r){return im(this.multi,[])}function AR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=eo(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),im(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],im(i,o);return o}function im(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function NR(n,e,t,r,i){let o=new Xi(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,ED(o,i,r&&!t),o}function et(n,e=[]){return t=>{t.providersResolver=(r,i)=>TR(r,i?i(n):n,e)}}function DD(n){co("NgStandalone"),n.getStandaloneInjector=e=>e.get(kR).getOrCreateStandaloneInjector(n)}function MD(n,e,t){let r=n.\u0275cmp;r.directiveDefs=cu(e,!1),r.pipeDefs=cu(t,!0)}function ys(n,e,t){let r=zu()+n,i=ue();return i[r]===sr?Ym(i,r,t?e.call(t):e()):Bk(i,r)}function Pa(n,e,t,r){return ID(ue(),zu(),n,e,t,r)}function ar(n,e,t,r,i){return RR(ue(),zu(),n,e,t,r,i)}function SD(n,e){let t=n[e];return t===sr?void 0:t}function ID(n,e,t,r,i,o){let s=e+t;return Dr(n,s,i)?Ym(n,s+1,o?r.call(o,i):r(i)):SD(n,s+1)}function RR(n,e,t,r,i,o,s){let a=e+t;return $k(n,a,i,o)?Ym(n,a+2,s?r.call(s,i,o):r(i,o)):SD(n,a+2)}function yt(n,e){let t=Je(),r,i=n+dn;t.firstCreatePass?(r=FR(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ki(r.type,!0)),s,a=jt(D);try{let c=gu(!1),l=o();return gu(c),xR(t,ue(),i,l),l}finally{jt(a)}}function FR(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function _t(n,e,t){let r=n+dn,i=ue(),o=kw(i,r);return LR(i,r)?ID(i,zu(),e,o.transform,t,o):o.transform(t)}function LR(n,e){return n[re].data[e].pure}function cr(n,e){return rd(n,e)}function VR(n){Zl!==null&&(n.defaultEncapsulation!==Zl.defaultEncapsulation||n.preserveWhitespaces!==Zl.preserveWhitespaces)||(Zl=n)}function jR(n){Jm=n}function di(n){return!!n&&typeof n.then=="function"}function Xm(n){return!!n&&typeof n.subscribe=="function"}function UR(){$0(()=>{throw new S(600,!1)})}function BR(n){return n.isBoundToModule}function HR(n,e,t){try{let r=t();return di(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function OD(n,e){return Array.isArray(e)?e.reduce(OD,n):E(E({},n),e)}function ru(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zR(n,e,t,r){if(!t&&!$u(n))return;XE(n,e,t&&!r?0:1)}function WR(n,e,t){let r=new Ou(t);return Promise.resolve(r)}function Qb(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function KR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye($(E({},TD()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:ns,multi:!0,useFactory:()=>{let r=v(GR,{optional:!0});return()=>r.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let r=v(YR);return()=>{r.initialize()}}},e===!0?{provide:rD,useValue:!0}:[],{provide:iD,useValue:t??cE}]}function TD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function ZR(){return typeof $localize<"u"&&$localize.locale||Pu}function Jl(n){return!n.moduleRef}function JR(n){let e=Jl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{Jl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(wr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Jl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Au);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Au);s.add(o),n.moduleRef.onDestroy(()=>{ru(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return HR(r,t,()=>{let o=e.get(xD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(dd,Pu);if(MR(s||Pu),Jl(n)){let a=e.get(yn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return XR(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function XR(n,e){let t=n.injector.get(yn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new S(-403,!1);e.push(n)}function eF(n){if(ya&&!ya.get(AD,!1))throw new S(400,!1);UR(),ya=n;let e=n.get(PD);return rF(n),e}function ev(n,e,t=[]){let r=`Platform: ${e}`,i=new R(r);return(o=[])=>{let s=ND();if(!s||s.injector.get(AD,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):eF(tF(a,r))}return nF(i)}}function tF(n=[],e){return Ze.create({name:e,providers:[{provide:Vu,useValue:"platform"},{provide:Au,useValue:new Set([()=>ya=null])},...n]})}function nF(n){let e=ND();if(!e)throw new S(401,!1);return e}function ND(){return ya?.get(PD)??null}function rF(n){n.get(Om,null)?.forEach(t=>t())}function iF(n){return oF(mt(),ue(),(n&16)===16)}function oF(n,e,t){if(Uu(n)&&!t){let r=li(n.index,e);return new to(r,r)}else if(n.type&175){let r=e[ir];return new to(r,e)}return null}function Zb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Jb(){return new tv([new sm])}function fi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function uo(n,e){co("NgSignals");let t=j0(n);return e?.equal&&(t[vr].equal=e.equal),t}function Qt(n){let e=ve(null);try{return n()}finally{ve(e)}}function FD(n){let e=ii(n);if(!e)return null;let t=new ls(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Xb,S,ql,gt,aP,rw,hb,iw,lP,R,uP,dP,fP,hP,iu,va,pb,ae,pg,mP,_a,gg,ou,vP,yP,_P,gb,Xo,Lu,dm,ts,Ut,ns,uw,dw,au,fw,nr,ri,pw,qP,Vu,Xl,YP,eg,Nt,ba,Mr,re,Q,Et,Nn,Rn,lu,uu,kn,is,rr,Ge,wa,_b,fs,ir,Yi,Qo,br,ju,Sw,ti,tg,un,dn,Iw,Qi,du,os,Kt,fu,wg,Tw,Cb,er,sA,aA,ce,Vw,Yw,Qw,es,Xi,rg,Mg,Sg,kA,Xw,eE,RA,tr,Gi,Ze,$A,HA,cE,kt,Og,xr,Tg,se,Im,yu,qA,ye,WA,_u,wr,JA,vt,Ag,fE,n1,Ob,kg,Yu,o1,Om,Yt,Tm,Pm,s1,a1,c1,yE,l1,Wl,Gl,Cu,Rg,Fg,p1,CE,bE,wE,g1,m1,v1,Ab,EE,y1,_1,C1,b1,Lg,M1,S1,Kl,Oa,T1,P1,A1,Er,R1,Q1,Lb,sr,aN,ZE,LN,jN,UN,to,no,qN,WN,a9,KN,as,Wm,rD,iD,Hg,Eu,QN,zg,cs,ai,Ln,JN,Mu,ls,qg,ui,ck,oD,uk,dk,Wg,Gg,Su,Kg,Yg,zb,Iu,Ik,ci,Ea,xu,Ou,Zg,Wk,Jo,fD,Jg,Xg,Qk,An,yR,CR,Wi,wR,ug,Qe,Pu,DR,SR,OR,kR,Zl,sd,Zm,Aa,ad,cd,Jm,_s,xD,ld,$R,yn,om,ud,qR,GR,YR,QR,dd,Au,PD,ya,AD,jn,sm,sF,am,cm,lm,Nu,tv,kD,RD,T=p(()=>{"use strict";W0();we();Xr();Xb="https://g.co/ng/security#xss",S=class extends Error{constructor(e,t){super(ku(e,t)),this.code=e}};ql="__parameters__";gt=globalThis;aP=Pe({__forward_ref__:Pe});rw=Pe({\u0275prov:Pe}),hb=Pe({\u0275inj:Pe}),iw=Pe({ngInjectableDef:Pe}),lP=Pe({ngInjectorDef:Pe}),R=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};uP=Pe({\u0275cmp:Pe}),dP=Pe({\u0275dir:Pe}),fP=Pe({\u0275pipe:Pe}),hP=Pe({\u0275mod:Pe}),iu=Pe({\u0275fac:Pe}),va=Pe({__NG_ELEMENT_ID__:Pe}),pb=Pe({__NG_ENV_ID__:Pe});ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{});mP={},_a=mP,gg="__NG_DI_FLAG__",ou="ngTempTokenPath",vP="ngTokenPath",yP=/\n/gm,_P="\u0275",gb="__source";Lu=cw(ew("Optional"),8),dm=cw(ew("SkipSelf"),4);ts={},Ut=[],ns=new R(""),uw=new R("",-1),dw=new R(""),au=class{get(e,t=_a){if(t===_a){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return t}},fw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(fw||{}),nr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nr||{}),ri=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ri||{});pw="ng-template";qP=Pe({provide:String,useValue:Pe});Vu=new R(""),Xl={},YP={};Nt=class{},ba=class extends Nt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cg(e,s=>this.processProvider(s)),this.records.set(uw,Yo(void 0,this)),i.has("environment")&&this.records.set(Nt,Yo(void 0,this));let o=this.records.get(Vu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dw,Ut,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ei(this),r=jt(void 0),i;try{return e()}finally{ei(t),jt(r)}}get(e,t=_a,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pb))return e[pb](this);r=Fu(r);let i,o=ei(this),s=jt(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=eA(e)&&Ru(e);l&&this.injectableDefInScope(l)?c=Yo(_g(e),Xl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?mm():this.parent;return t=r&ae.Optional&&t===_a?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ou]=a[ou]||[]).unshift(At(e)),o)throw a;return EP(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(s),ei(o)}}resolveInjectorInitializers(){let e=ve(null),t=ei(this),r=jt(void 0),i;try{let o=this.get(ns,Ut,ae.Self);for(let s of o)s()}finally{ei(t),jt(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=Pt(e);let t=rs(e)?e:Pt(e&&e.provide),r=ZP(e);if(!rs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Yo(void 0,Xl,!0),i.factory=()=>mg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ve(null);try{return t.value===Xl&&(t.value=YP,t.value=t.factory()),typeof t.value=="object"&&t.value&&XP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Mr=0,re=1,Q=2,Et=3,Nn=4,Rn=5,lu=6,uu=7,kn=8,is=9,rr=10,Ge=11,wa=12,_b=13,fs=14,ir=15,Yi=16,Qo=17,br=18,ju=19,Sw=20,ti=21,tg=22,un=23,dn=25,Iw=1,Qi=7,du=8,os=9,Kt=10,fu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(fu||{});wg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};Fn.ngInherit=!0;Tw="__ngSimpleChanges__";Cb=null,er=function(n,e,t){Cb?.(n,e,t)},sA="svg",aA="math";ce={lFrame:Gw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Vw=!1;Yw=Kw;Qw=!0;es=-1,Xi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};rg={},Mg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Fu(r);let i=this.injector.get(e,rg,r);return i!==rg||t===rg?i:this.parentInjector.get(e,t,r)}};Sg=!0;kA=256,Xw=kA-1,eE=5,RA=0,tr={};Gi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return iE(this._tNode,this._lView,e,Fu(r),t)}};Ze=class n{static{this.THROW_IF_NOT_FOUND=_a}static{this.NULL=new au}static create(e,t){if(Array.isArray(e))return Mb({name:""},t,e,"");{let r=e.name??"";return Mb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=I({token:n,providedIn:"any",factory:()=>A(uw)})}static{this.__NG_ELEMENT_ID__=-1}};$A=new R("");$A.__NG_ELEMENT_ID__=n=>{let e=mt();if(e===null)throw new S(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new S(204,!1)};HA="ngOriginalError";cE=!0,kt=(()=>{class n{static{this.__NG_ELEMENT_ID__=zA}static{this.__NG_ENV_ID__=t=>t}}return n})(),Og=class extends kt{constructor(e){super(),this._lView=e}onDestroy(e){return Lw(this._lView,e),()=>dA(this._lView,e)}};xr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Tg=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Mw()&&(this.destroyRef=v(kt,{optional:!0})??void 0,this.pendingTasks=v(xr,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=Tg;Im="isAngularZone",yu=Im+"_ID",qA=0,ye=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cE}=e;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Im)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new S(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WA,vu,vu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},WA={};_u=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};wr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&og(e);for(;t&&og(t);)t=og(t);return t||null}},JA=new R("",{providedIn:"root",factory:()=>{let n=v(ye),e=v(wr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});vt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=XA}}return n})();Ag=class n{get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=t1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=SP(e);(this._changesDetected=!MP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};fE=new Map,n1=0;Ob="__ngContext__";Yu=new R("",{providedIn:"root",factory:()=>o1}),o1="ng",Om=new R(""),Yt=new R("",{providedIn:"platform",factory:()=>"unknown"}),Tm=new R(""),Pm=new R("",{providedIn:"root",factory:()=>vE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),s1="h",a1="b",c1=()=>null;yE=!1,l1=new R("",{providedIn:"root",factory:()=>yE});Cu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xb})`}};Rg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Qu(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Fg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Qu(e),t}};p1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;CE=Or("area,br,col,hr,img,wbr"),bE=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wE=Or("rp,rt"),g1=xa(wE,bE),m1=xa(bE,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),v1=xa(wE,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ab=xa(CE,m1,v1,g1),EE=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),y1=Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_1=Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),C1=xa(EE,y1,_1),b1=Or("script,style,template"),Lg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=D1(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=E1(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Nb(e).toLowerCase();if(!Ab.hasOwnProperty(t))return this.sanitizedSomething=!0,!b1.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!C1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;EE[a]&&(c=Nm(c)),this.buf.push(" ",s,'="',kb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Nb(e).toLowerCase();Ab.hasOwnProperty(t)&&!CE.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(kb(e))}};M1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S1=/([^\#-~ |!])/g;Oa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Oa||{});T1=/^>|^->|<!--|-->|--!>|<!-$/g,P1=/(<|>)/g,A1="\u200B$1\u200B";Er=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Er||{});Q1=Y1;sr={};aN=()=>null;ZE=[];LN=$(E({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Hu(n.lView)},consumerOnSignalRead(){this.lView[un]=this}});jN=$(E({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Zi(n.lView);for(;e&&!JE(e[re]);)e=Zi(e);e&&Fw(e)},consumerOnSignalRead(){this.lView[un]=this}});UN=100;to=class{get rootNodes(){let e=this._lView,t=e[re];return wu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(e){this._lView[kn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Et];if(Sr(e)){let t=e[du],r=t?t.indexOf(this):-1;r>-1&&(Vg(e,r),su(t,r))}this._attachedToViewContainer=!1}PE(this._lView[re],this._lView)}onDestroy(e){Lw(this._lView,e)}markForCheck(){qm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Eg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,XE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bg(this._lView),t=this._lView[Yi];t!==null&&!e&&Fm(t,this._lView),OE(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let t=bg(this._lView),r=this._lView[Yi];r!==null&&!t&&TE(r,this._lView),Eg(this._lView)}},no=(()=>{class n{static{this.__NG_ELEMENT_ID__=GN}}return n})(),qN=no,WN=class extends qN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=PN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new to(i)}};a9=new RegExp(`^(\\d+)*(${a1}|${s1})*(.*)`),KN=()=>null;as=class{},Wm=new R("",{providedIn:"root",factory:()=>!1}),rD=new R(""),iD=new R(""),Hg=class{},Eu=class{};QN="ngComponent",zg=class{resolveComponentFactory(e){throw YN(e)}},cs=class{static{this.NULL=new zg}},ai=class{},Ln=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ZN()}}return n})();JN=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>null})}}return n})();Mu=class extends cs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ii(e);return new ls(t,this.ngModule)}};ls=class extends Eu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=$b(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return $b(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=jP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Mg(e,s):e,c=a.get(ai,null);if(c===null)throw new S(407,!1);let l=a.get(JN,null),u=a.get(as,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?oN(m,r,this.componentDef.encapsulation,a):xE(m,g,XN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let P=null;_!==null&&(P=Am(_,a,!0));let B=Bm(0,null,null,1,0,null,null,null,null,null,null),oe=td(null,B,null,w,null,null,d,m,a,null,P);wm(oe);let Y,he,qe=null;try{let Me=this.componentDef,Le,at=null;Me.findHostDirectiveDefs?(Le=[],at=new Map,Me.findHostDirectiveDefs(Me,Le,at),Le.push(Me)):Le=[Me];let mr=ek(oe,_);qe=tk(mr,_,Me,Le,oe,d,m),he=Nw(B,dn),_&&ik(m,Me,_,r),t!==void 0&&ok(he,this.ngContentSelectors,t),Y=rk(qe,Me,Le,at,oe,[sk]),zm(B,oe,null)}catch(Me){throw qe!==null&&Ng(qe),Ng(oe),Me}finally{Em()}return new qg(this.componentType,Y,hs(he,oe),oe,he)}finally{ve(o)}}},qg=class extends Hg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new to(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Hm(o[re],o,i,e,t),this.previousInputValues.set(e,t);let s=li(this._tNode.index,o);qm(s,1)}}get injector(){return new Gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};ui=(()=>{class n{static{this.__NG_ELEMENT_ID__=ak}}return n})();ck=ui,oD=class extends ck{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return hs(this._hostTNode,this._hostLView)}get injector(){return new Gi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mm(this._hostTNode,this._hostLView);if(Jw(e)){let t=pu(e,this._hostLView),r=hu(e),i=t[re].data[r+8];return new Gi(i,t)}else return new Gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Hb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Bb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ub(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!nA(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new ls(ii(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Nt,null);w&&(o=w)}let u=ii(c.componentType??{}),d=Bb(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,Ub(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(lA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Et],l=new oD(c,c[Rn],c[Et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return AN(s,i,o,r),e.attachToViewContainerRef(),lw(ag(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Hb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);r&&(su(ag(this._lContainer),t),PE(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);return r&&su(ag(this._lContainer),t)!=null?new to(r):null}_adjustIndex(e,t=0){return e??this.length+t}};uk=hk,dk=()=>!1;Wg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Gg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Gm(e,t).matches!==null&&this.queries[t].setDirty()}},Su=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=bk(e):this.predicate=e}},Kg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Yg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,pk(t,o)),this.matchTNodeWithReadOption(e,t,nu(t,e,o,!1,!1))}else r===no?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===vt||i===ui||i===no&&t.type&4)this.addMatch(t.index,-2);else{let o=nu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};zb=new Set;Iu=new Map,Ik=new Set;ci=class{},Ea=class{},xu=class extends ci{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mu(this);let o=yw(e);this._bootstrapComponents=IE(o.bootstrap),this._r3Injector=aE(e,t,[{provide:ci,useValue:this},{provide:cs,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ou=class extends Ea{constructor(e){super(),this.moduleType=e}create(e){return new xu(this.moduleType,e,[])}};Zg=class extends ci{constructor(e){super(),this.componentFactoryResolver=new Mu(this),this.instance=null;let t=new ba([...e.providers,{provide:ci,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],e.parent||mm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};Wk=Gk;Jo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Jo||{}),fD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Jg=class n{constructor(){this.ngZone=v(ye),this.scheduler=v(as),this.errorHandler=v(wr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Jo.EarlyRead,Jo.Write,Jo.MixedReadWrite,Jo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}},Xg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};Qk={destroy(){}};An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};yR=(n,e,t,r,i,o)=>(Gu(!0),xE(r,i,IA()));CR=(n,e,t,r)=>(Gu(!0),V1(e[Ge],""));Wi=void 0;wR=["en",[["a","p"],["AM","PM"],Wi],[["AM","PM"],Wi,Wi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wi,"{1} 'at' {0}",Wi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",bR],ug={};Qe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Qe||{});Pu="en-US",DR=Pu;SR=(n,e,t)=>{};OR=(n,e,t,r,i)=>(Gu(!0),F1(e[Ge],r));kR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=bw(!1,t.type),i=r.length>0?id([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(A(Nt))})}}return n})();Zl=null;sd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Zm=new R(""),Aa=new R(""),ad=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Jm||(jR(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(A(ye),A(cd),A(Aa))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),cd=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Jm?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();_s=new R(""),xD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=v(_s,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(di(o))t.push(o);else if(Xm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ld=new R("");$R=10;yn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(JA),this.afterRenderManager=v(fD),this.zonelessEnabled=v(Wm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=v(xr).hasPendingTasks.pipe(j(t=>!t)),this._injector=v(Nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Eu;if(!this._injector.get(xD).done){let m=!i&&vw(t),g=!1;throw new S(405,g)}let s;i?s=t:s=this._injector.get(cs).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=BR(s)?void 0:this._injector.get(ci),c=r||s.selector,l=s.create(Ze.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Zm,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ru(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new S(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ve(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ai,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<$R;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)zR(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>$u(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ru(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(ld,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ru(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();om=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ud=(()=>{class n{compileModuleSync(t){return new Ou(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=yw(t),o=IE(i.declarations).reduce((s,a)=>{let c=ii(a);return c&&s.push(new ls(c)),s},[]);return new om(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qR=new R("");GR=(()=>{class n{constructor(){this.zone=v(ye),this.changeDetectionScheduler=v(as),this.applicationRef=v(yn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();YR=(()=>{class n{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=v(ye),this.pendingTasks=v(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QR=(()=>{class n{constructor(){this.appRef=v(yn),this.taskService=v(xr),this.ngZone=v(ye),this.zonelessEnabled=v(Wm),this.disableScheduling=v(rD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ve,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(iD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _u||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Sb:lE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();dd=new R("",{providedIn:"root",factory:()=>v(dd,ae.Optional|ae.SkipSelf)||ZR()}),Au=new R("");PD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>ZA(r?.ngZone,$(E({},TD({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[KR({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:as,useExisting:QR}],c=Vk(t.moduleType,this.injector,a);return JR({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=OD({},r);return WR(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Au,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(A(Ze))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ya=null,AD=new R("");jn=(()=>{class n{static{this.__NG_ELEMENT_ID__=iF}}return n})();sm=class{constructor(){}supports(e){return dD(e)}create(e){return new am(e)}},sF=(n,e)=>e,am=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Zb(r,i,o)?t:r,a=Zb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;u<=_&&_<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!dD(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,jk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new cm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Nu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new lm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};tv=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:Jb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Jb()),deps:[[n,new dm,new Lu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new S(901,!1)}}return n})(),kD=ev(null,"core",[]),RD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(A(yn))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})()});function lr(){return HD}function zD(n){HD??=n}function pv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function LD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Pr(n){return n&&n[0]!=="?"?"?"+n:n}function lF(){return new bs(A(Nr))}function uF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function VD(n){return n.replace(/\/index.html$/,"")}function dF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function fF(n){return gn(n)[Qe.LocaleId]}function hF(n,e,t){let r=gn(n),i=[r[Qe.DayPeriodsFormat],r[Qe.DayPeriodsStandalone]],o=_n(i,e);return _n(o,t)}function pF(n,e,t){let r=gn(n),i=[r[Qe.DaysFormat],r[Qe.DaysStandalone]],o=_n(i,e);return _n(o,t)}function gF(n,e,t){let r=gn(n),i=[r[Qe.MonthsFormat],r[Qe.MonthsStandalone]],o=_n(i,e);return _n(o,t)}function mF(n,e){let r=gn(n)[Qe.Eras];return _n(r,e)}function fd(n,e){let t=gn(n);return _n(t[Qe.DateFormat],e)}function hd(n,e){let t=gn(n);return _n(t[Qe.TimeFormat],e)}function pd(n,e){let r=gn(n)[Qe.DateTimeFormat];return _n(r,e)}function wd(n,e){let t=gn(n),r=t[Qe.NumberSymbols][e];if(typeof r>"u"){if(e===hi.CurrencyDecimal)return t[Qe.NumberSymbols][hi.Decimal];if(e===hi.CurrencyGroup)return t[Qe.NumberSymbols][hi.Group]}return r}function KD(n){if(!n[Qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vF(n){let e=gn(n);return KD(e),(e[Qe.ExtraData][2]||[]).map(r=>typeof r=="string"?nv(r):[nv(r[0]),nv(r[1])])}function yF(n,e,t){let r=gn(n);KD(r);let i=[r[Qe.ExtraData][0],r[Qe.ExtraData][1]],o=_n(i,e)||[];return _n(o,t)||[]}function _n(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function nv(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function bF(n,e,t,r){let i=TF(n);e=Tr(t,e)||e;let s=[],a;for(;e;)if(a=CF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=QD(r,c),i=OF(i,r,!0));let l="";return s.forEach(u=>{let d=IF(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function bd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Tr(n,e){let t=fF(n);if(gd[t]??={},gd[t][e])return gd[t][e];let r="";switch(e){case"shortDate":r=fd(n,Zt.Short);break;case"mediumDate":r=fd(n,Zt.Medium);break;case"longDate":r=fd(n,Zt.Long);break;case"fullDate":r=fd(n,Zt.Full);break;case"shortTime":r=hd(n,Zt.Short);break;case"mediumTime":r=hd(n,Zt.Medium);break;case"longTime":r=hd(n,Zt.Long);break;case"fullTime":r=hd(n,Zt.Full);break;case"short":let i=Tr(n,"shortTime"),o=Tr(n,"shortDate");r=md(pd(n,Zt.Short),[i,o]);break;case"medium":let s=Tr(n,"mediumTime"),a=Tr(n,"mediumDate");r=md(pd(n,Zt.Medium),[s,a]);break;case"long":let c=Tr(n,"longTime"),l=Tr(n,"longDate");r=md(pd(n,Zt.Long),[c,l]);break;case"full":let u=Tr(n,"fullTime"),d=Tr(n,"fullDate");r=md(pd(n,Zt.Full),[u,d]);break}return r&&(gd[t][e]=r),r}function md(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Un(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function wF(n,e){return Un(n,3).substring(0,e)}function tt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=EF(n,o);if((t>0||a>-t)&&(a+=t),n===De.Hours)a===0&&t===-12&&(a=12);else if(n===De.FractionalSeconds)return wF(a,e);let c=wd(s,hi.MinusSign);return Un(a,e,c,r,i)}}function EF(n,e){switch(n){case De.FullYear:return e.getFullYear();case De.Month:return e.getMonth();case De.Date:return e.getDate();case De.Hours:return e.getHours();case De.Minutes:return e.getMinutes();case De.Seconds:return e.getSeconds();case De.FractionalSeconds:return e.getMilliseconds();case De.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Re(n,e,t=Rt.Format,r=!1){return function(i,o){return DF(i,o,n,e,t,r)}}function DF(n,e,t,r,i,o){switch(t){case Ee.Months:return gF(e,i,r)[n.getMonth()];case Ee.Days:return pF(e,i,r)[n.getDay()];case Ee.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=vF(e),u=yF(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,_]=m,w=s>=g.hours&&a>=g.minutes,P=s<_.hours||s===_.hours&&a<_.minutes;if(g.hours<_.hours){if(w&&P)return!0}else if(w||P)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return hF(e,i,r)[s<12?0:1];case Ee.Eras:return mF(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function vd(n){return function(e,t,r){let i=-1*r,o=wd(t,hi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ar.Short:return(i>=0?"+":"")+Un(s,2,o)+Un(Math.abs(i%60),2,o);case Ar.ShortGMT:return"GMT"+(i>=0?"+":"")+Un(s,1,o);case Ar.Long:return"GMT"+(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);case Ar.Extended:return r===0?"Z":(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function SF(n){let e=bd(n,MF,1).getDay();return bd(n,0,1+(e<=_d?_d:_d+7)-e)}function YD(n){let e=n.getDay(),t=e===0?-3:_d-e;return bd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function rv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=YD(t),s=SF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Un(i,n,wd(r,hi.MinusSign))}}function yd(n,e=!1){return function(t,r){let o=YD(t).getFullYear();return Un(o,n,wd(r,hi.MinusSign),e)}}function IF(n){if(iv[n])return iv[n];let e;switch(n){case"G":case"GG":case"GGG":e=Re(Ee.Eras,Ae.Abbreviated);break;case"GGGG":e=Re(Ee.Eras,Ae.Wide);break;case"GGGGG":e=Re(Ee.Eras,Ae.Narrow);break;case"y":e=tt(De.FullYear,1,0,!1,!0);break;case"yy":e=tt(De.FullYear,2,0,!0,!0);break;case"yyy":e=tt(De.FullYear,3,0,!1,!0);break;case"yyyy":e=tt(De.FullYear,4,0,!1,!0);break;case"Y":e=yd(1);break;case"YY":e=yd(2,!0);break;case"YYY":e=yd(3);break;case"YYYY":e=yd(4);break;case"M":case"L":e=tt(De.Month,1,1);break;case"MM":case"LL":e=tt(De.Month,2,1);break;case"MMM":e=Re(Ee.Months,Ae.Abbreviated);break;case"MMMM":e=Re(Ee.Months,Ae.Wide);break;case"MMMMM":e=Re(Ee.Months,Ae.Narrow);break;case"LLL":e=Re(Ee.Months,Ae.Abbreviated,Rt.Standalone);break;case"LLLL":e=Re(Ee.Months,Ae.Wide,Rt.Standalone);break;case"LLLLL":e=Re(Ee.Months,Ae.Narrow,Rt.Standalone);break;case"w":e=rv(1);break;case"ww":e=rv(2);break;case"W":e=rv(1,!0);break;case"d":e=tt(De.Date,1);break;case"dd":e=tt(De.Date,2);break;case"c":case"cc":e=tt(De.Day,1);break;case"ccc":e=Re(Ee.Days,Ae.Abbreviated,Rt.Standalone);break;case"cccc":e=Re(Ee.Days,Ae.Wide,Rt.Standalone);break;case"ccccc":e=Re(Ee.Days,Ae.Narrow,Rt.Standalone);break;case"cccccc":e=Re(Ee.Days,Ae.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Re(Ee.Days,Ae.Abbreviated);break;case"EEEE":e=Re(Ee.Days,Ae.Wide);break;case"EEEEE":e=Re(Ee.Days,Ae.Narrow);break;case"EEEEEE":e=Re(Ee.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Re(Ee.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Re(Ee.DayPeriods,Ae.Wide);break;case"aaaaa":e=Re(Ee.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Re(Ee.DayPeriods,Ae.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Re(Ee.DayPeriods,Ae.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Re(Ee.DayPeriods,Ae.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(Ee.DayPeriods,Ae.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Re(Ee.DayPeriods,Ae.Wide,Rt.Format,!0);break;case"BBBBB":e=Re(Ee.DayPeriods,Ae.Narrow,Rt.Format,!0);break;case"h":e=tt(De.Hours,1,-12);break;case"hh":e=tt(De.Hours,2,-12);break;case"H":e=tt(De.Hours,1);break;case"HH":e=tt(De.Hours,2);break;case"m":e=tt(De.Minutes,1);break;case"mm":e=tt(De.Minutes,2);break;case"s":e=tt(De.Seconds,1);break;case"ss":e=tt(De.Seconds,2);break;case"S":e=tt(De.FractionalSeconds,1);break;case"SS":e=tt(De.FractionalSeconds,2);break;case"SSS":e=tt(De.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=vd(Ar.Short);break;case"ZZZZZ":e=vd(Ar.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=vd(Ar.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=vd(Ar.Long);break;default:return null}return iv[n]=e,e}function QD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function xF(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function OF(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=QD(e,i);return xF(n,r*(o-i))}function TF(n){if(jD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return bd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(_F))return PF(r)}let e=new Date(n);if(!jD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function PF(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function jD(n){return n instanceof Date&&!isNaN(n.valueOf())}function Ed(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function BD(n,e){n.context.$implicit=e.item}function $D(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${At(e)}'.`)}function ZD(n,e){return new S(2100,!1)}function Md(n){return n===mv}function Sd(n){return n===LF}function VF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var HD,Cd,dt,hv,qD,cF,Nr,WD,gv,GD,bs,Rt,Ae,Zt,hi,_F,gd,CF,Ar,De,Ee,MF,_d,iv,ov,UD,ur,sv,dr,_e,av,cv,lv,AF,NF,zt,kF,RF,FF,Dd,JD,mv,LF,XD,uv,dv,Cs,Ie=p(()=>{"use strict";T();T();HD=null;Cd=class{},dt=new R(""),hv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(cF),providedIn:"platform"})}}return n})(),qD=new R(""),cF=(()=>{class n extends hv{constructor(){super(),this._doc=v(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Nr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(gv),providedIn:"root"})}}return n})(),WD=new R(""),gv=(()=>{class n extends Nr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Pr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(hv),A(WD,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GD=(()=>{class n extends Nr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=pv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(hv),A(WD,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),bs=(()=>{class n{constructor(t){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=dF(LD(VD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pr(r))}normalize(t){return n.stripTrailingSlash(uF(this._basePath,VD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Pr}static{this.joinWithSlash=pv}static{this.stripTrailingSlash=LD}static{this.\u0275fac=function(r){return new(r||n)(A(Nr))}}static{this.\u0275prov=I({token:n,factory:()=>lF(),providedIn:"root"})}}return n})();Rt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Rt||{}),Ae=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ae||{}),Zt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Zt||{}),hi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};_F=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gd={},CF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ar=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ar||{}),De=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(De||{}),Ee=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ee||{});MF=0,_d=4;iv={};ov=/\s+/,UD=[],ur=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=UD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(ov):UD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ov):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ov).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(vt),D(Ln))}}static{this.\u0275dir=le({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),sv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new sv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(ui),D(no),D(tv))}}static{this.\u0275dir=le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();_e=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new av,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(ui),D(no))}}static{this.\u0275dir=le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),av=class{constructor(){this.$implicit=null,this.ngIf=null}};cv=class{createSubscription(e,t){return Qt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Qt(()=>e.unsubscribe())}},lv=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},AF=new lv,NF=new cv,zt=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(di(t))return AF;if(Xm(t))return NF;throw ZD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(jn,16))}}static{this.\u0275pipe=io({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),kF="mediumDate",RF=new R(""),FF=new R(""),Dd=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??kF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bF(t,s,o||this.locale,a)}catch(s){throw ZD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(dd,16),D(RF,24),D(FF,24))}}static{this.\u0275pipe=io({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),JD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})(),mv="browser",LF="server";XD=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>Md(v(Yt))?new uv(v(dt),window):new dv})}}return n})(),uv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=VF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};dv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Cs=class{}});function jF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function eM(n){return encodeURIComponent(n).replace(UF,(e,t)=>BF[t]??e)}function Id(n){return`${n}`}function $F(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nM(n){return typeof Blob<"u"&&n instanceof Blob}function rM(n){return typeof FormData<"u"&&n instanceof FormData}function HF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function vv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function iM(n){if(n.url)return n.url;let e=WF.toLocaleLowerCase();return n.headers.get(e)}function bv(){}function KF(n){n.then(bv,bv)}function lM(n,e){return e(n)}function YF(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function QF(n,e,t){return(r,i)=>hn(t,()=>e(r,o=>n(o,i)))}function XF(){let n=null;return(e,t)=>{n===null&&(n=(v(ZF,{optional:!0})??[]).reduceRight(YF,lM));let r=v(xr);if(v(uM)){let o=r.add();return n(e,t).pipe(Gt(()=>r.remove(o)))}else return n(e,t)}}function tL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function aL(n,e){let t=n.url.toLowerCase();if(!v(dM)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=v(Td).getToken(),i=v(oL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function cL(n,e){return{\u0275kind:n,\u0275providers:e}}function lL(...n){let e=[fo,sM,oM,{provide:ka,useExisting:oM},{provide:xd,useFactory:()=>v(GF,{optional:!0})??v(sM)},{provide:wv,useValue:aL,multi:!0},{provide:dM,useValue:!0},{provide:Td,useClass:sL}];for(let t of n)e.push(...t.\u0275providers);return ds(e)}function uL(){return cL(fM.LegacyInterceptors,[{provide:aM,useFactory:XF},{provide:wv,useExisting:aM,multi:!0}])}var ka,xd,kr,yv,UF,BF,gi,_v,Na,mi,Ra,Od,Fa,pi,cM,zF,fo,qF,WF,GF,Cv,ZF,wv,JF,uM,oM,eL,sM,dM,nL,rL,iL,oL,Td,sL,fM,aM,hM,La=p(()=>{"use strict";T();T();we();Xr();Ie();Ie();ka=class{},xd=class{},kr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},yv=class{encodeKey(e){return eM(e)}encodeValue(e){return eM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};UF=/%(\d[a-f0-9])/gi,BF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};gi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=jF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Id):[Id(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Id(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Id(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},_v=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};Na=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if($F(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new kr,this.context??=new _v,!this.params)this.params=new gi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tM(this.body)||nM(this.body)||rM(this.body)||HF(this.body)?this.body:this.body instanceof gi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rM(this.body)?null:nM(this.body)?this.body.type||null:tM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof gi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},mi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(mi||{}),Ra=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new kr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Od=class n extends Ra{constructor(e={}){super(e),this.type=mi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fa=class n extends Ra{constructor(e={}){super(e),this.type=mi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pi=class extends Ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},cM=200,zF=204;fo=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Na)o=t;else{let c;i.headers instanceof kr?c=i.headers:c=new kr(i.headers);let l;i.params&&(i.params instanceof gi?l=i.params:l=new gi({fromObject:i.params})),o=new Na(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=F(o).pipe(an(c=>this.handler.handle(c)));if(t instanceof Na||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof Fa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new gi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,vv(i,r))}post(t,r,i={}){return this.request("POST",t,vv(i,r))}put(t,r,i={}){return this.request("PUT",t,vv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(A(ka))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),qF=/^\)\]\}',?\n/,WF="X-Request-URL";GF=(()=>{class n{constructor(){this.fetchImpl=v(Cv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=v(ye)}handle(t){return new J(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(bv,o=>r.error(new pi({error:o}))),()=>i.abort()})}doRequest(t,r,i){return x(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));KF(g),i.next({type:mi.Sent}),s=yield g}catch(g){i.error(new pi({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new kr(s.headers),c=s.statusText,l=iM(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new Od({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),_=[],w=s.body.getReader(),P=0,B,oe,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>x(this,null,function*(){for(;;){let{done:qe,value:Me}=yield w.read();if(qe)break;if(_.push(Me),P+=Me.length,t.reportProgress){oe=t.responseType==="text"?(oe??"")+(B??=new TextDecoder).decode(Me,{stream:!0}):void 0;let Le=()=>i.next({type:mi.DownloadProgress,total:g?+g:void 0,loaded:P,partialText:oe});Y?Y.run(Le):Le()}}}));let he=this.concatChunks(_,P);try{let qe=s.headers.get("Content-Type")??"";d=this.parseBody(t,he,qe)}catch(qe){i.error(new pi({error:qe,headers:new kr(s.headers),status:s.status,statusText:s.statusText,url:iM(s)??t.urlWithParams}));return}}u===0&&(u=d?cM:0),u>=200&&u<300?(i.next(new Fa({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new pi({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(qF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Cv=class{};ZF=new R(""),wv=new R(""),JF=new R(""),uM=new R("",{providedIn:"root",factory:()=>!0});oM=(()=>{class n extends ka{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=v(xr),this.contributeToStability=v(uM)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(wv),...this.injector.get(JF,[])]));this.chain=r.reduceRight((i,o)=>QF(i,o,this.injector),lM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Gt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(A(xd),A(Nt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),eL=/^\)\]\}',?\n/;sM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new S(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?W(r.\u0275loadImpl()):F(null)).pipe(ke(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,P)=>s.setRequestHeader(w,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",P=new kr(s.getAllResponseHeaders()),B=tL(s)||t.url;return c=new Od({headers:P,status:s.status,statusText:w,url:B}),c},u=()=>{let{headers:w,status:P,statusText:B,url:oe}=l(),Y=null;P!==zF&&(Y=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=Y?cM:0);let he=P>=200&&P<300;if(t.responseType==="json"&&typeof Y=="string"){let qe=Y;Y=Y.replace(eL,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Me){Y=qe,he&&(he=!1,Y={error:Me,text:Y})}}he?(o.next(new Fa({body:Y,headers:w,status:P,statusText:B,url:oe||void 0})),o.complete()):o.error(new pi({error:Y,headers:w,status:P,statusText:B,url:oe||void 0}))},d=w=>{let{url:P}=l(),B=new pi({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(B)},m=!1,g=w=>{m||(o.next(l()),m=!0);let P={type:mi.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},_=w=>{let P={type:mi.UploadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),o.next(P)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:mi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(A(Cs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),dM=new R(""),nL="XSRF-TOKEN",rL=new R("",{providedIn:"root",factory:()=>nL}),iL="X-XSRF-TOKEN",oL=new R("",{providedIn:"root",factory:()=>iL}),Td=class{},sL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ed(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Yt),A(rL))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();fM=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(fM||{});aM=new R("");hM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:[lL(uL())]})}}return n})()});function dL(){return Va=Va||document.querySelector("base"),Va?Va.getAttribute("href"):null}function fL(n){return new URL(n,document.baseURI).pathname}function yL(n){return gL.replace(Pv,n)}function _L(n){return pL.replace(Pv,n)}function _M(n,e){return e.map(t=>t.replace(Pv,n))}function pM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function DL(){Iv.makeCurrent()}function ML(){return new wr}function SL(){return mE(document),document}var Sv,Iv,Va,xv,hL,Ov,mM,Pd,Dv,vM,Mv,Pv,yM,pL,gL,mL,vL,Ad,ja,Tv,Ua,Nd,CL,gM,bL,wL,EL,IL,CM,xL,OL,TL,kd,bM,Ba=p(()=>{"use strict";Ie();T();T();Sv=class extends Cd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Iv=class n extends Sv{static makeCurrent(){zD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=dL();return t==null?null:fL(t)}resetBaseElement(){Va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ed(document.cookie,e)}},Va=null;xv=class{addToWindow(e){gt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new S(5103,!1);return o},gt.getAllAngularTestabilities=()=>e.getAllTestabilities(),gt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=gt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};gt.frameworkStabilizers||(gt.frameworkStabilizers=[]),gt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?lr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},hL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Ov=new R(""),mM=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(A(Ov),A(ye))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Pd=class{constructor(e){this._doc=e}},Dv="ng-app-id",vM=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Dv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Dv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Dv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Yu),A(Pm,8),A(Yt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Mv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pv=/%COMP%/g,yM="%COMP%",pL=`_nghost-${yM}`,gL=`_ngcontent-${yM}`,mL=!0,vL=new R("",{providedIn:"root",factory:()=>mL});Ad=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Sd(a),this.defaultRenderer=new ja(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nr.ShadowDom&&(r=$(E({},r),{encapsulation:nr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Nd?i.applyToHost(t):i instanceof Ua&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case nr.Emulated:o=new Nd(c,l,r,this.appId,u,s,a,d);break;case nr.ShadowDom:return new Tv(c,l,t,r,s,a,this.nonce,d);default:o=new Ua(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(A(mM),A(vM),A(Yu),A(vL),A(dt),A(Yt),A(ye),A(Pm))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ja=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Mv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Mv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Mv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(t,r,i&Er.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Er.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};Tv=class extends ja{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=_M(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ua=class extends ja{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?_M(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nd=class extends Ua{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=yL(l),this.hostAttr=_L(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},CL=(()=>{class n extends Pd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),gM=["alt","control","meta","shift"],bL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},EL=(()=>{class n extends Pd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),gM.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=bL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),gM.forEach(s=>{if(s!==i){let a=wL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();IL=[{provide:Yt,useValue:mv},{provide:Om,useValue:DL,multi:!0},{provide:dt,useFactory:SL,deps:[]}],CM=ev(kD,"browser",IL),xL=new R(""),OL=[{provide:Aa,useClass:xv,deps:[]},{provide:Zm,useClass:ad,deps:[ye,cd,Aa]},{provide:ad,useClass:ad,deps:[ye,cd,Aa]}],TL=[{provide:Vu,useValue:"root"},{provide:wr,useFactory:ML,deps:[]},{provide:Ov,useClass:CL,multi:!0,deps:[dt,ye,Yt]},{provide:Ov,useClass:EL,multi:!0,deps:[dt]},Ad,vM,mM,{provide:ai,useExisting:Ad},{provide:Cs,useClass:hL,deps:[]},[]],kd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Yu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(A(xL,12))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:[...TL,...OL],imports:[JD,RD]})}}return n})(),bM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Is(n){return new Fv(n)}function PL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function AL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}function fr(n,e){let t=n?Lv(n):void 0,r=e?Lv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!NM(n[i],e[i]))return!1;return!0}function Lv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function NM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function kM(n){return n.length>0?n[n.length-1]:null}function _i(n){return Op(n)?n:di(n)?W(Promise.resolve(n)):F(n)}function EM(n,e,t){return NL[t.paths](n.root,e.root,t.matrixParams)&&RM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function kL(n,e){return fr(n,e)}function FM(n,e,t){if(!po(n.segments,e.segments)||!Ld(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!FM(n.children[r],e.children[r],t))return!1;return!0}function RL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NM(n[t],e[t]))}function LM(n,e,t){return VM(n,e,e.segments,t)}function VM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!po(i,t)||e.hasChildren()||!Ld(i,t,r))}else if(n.segments.length===t.length){if(!po(n.segments,t)||!Ld(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!LM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!po(n.segments,i)||!Ld(n.segments,i,r)||!n.children[ie]?!1:VM(n.children[ie],e,o,r)}}function Ld(n,e,t){return e.every((r,i)=>RM[t](n[i].parameters,r.parameters))}function FL(n,e){return po(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}function po(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function LL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}function Vd(n){return n.segments.map(e=>UM(e)).join("/")}function $a(n,e){if(!n.hasChildren())return Vd(n);if(e){let t=n.children[ie]?$a(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${$a(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=LL(n,(r,i)=>i===ie?[$a(n.children[ie],!1)]:[`${i}:${$a(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Vd(n)}/${t[0]}`:`${Vd(n)}/(${t.join("//")})`}}function jM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(n){return jM(n).replace(/%3B/gi,";")}function jL(n){return encodeURI(n)}function Vv(n){return jM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jd(n){return decodeURIComponent(n)}function DM(n){return jd(n.replace(/\+/g,"%20"))}function UM(n){return`${Vv(n.path)}${UL(n.parameters)}`}function UL(n){return Object.entries(n).map(([e,t])=>`;${Vv(e)}=${Vv(t)}`).join("")}function BL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Rd(t)}=${Rd(i)}`).join("&"):`${Rd(t)}=${Rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function Av(n){let e=n.match($L);return e?e[0]:""}function zL(n){let e=n.match(HL);return e?e[0]:""}function WL(n){let e=n.match(qL);return e?e[0]:""}function KL(n){let e=n.match(GL);return e?e[0]:""}function BM(n){return n.segments.length>0?new xe([],{[ie]:n}):n}function $M(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=$M(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return YL(t)}function YL(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new xe(n.segments.concat(e.segments),e.children)}return n}function go(n){return n instanceof Fr}function QL(n,e,t=null,r=null){let i=HM(n);return zM(i,e,t,r)}function HM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=BM(r);return e??i}function zM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Nv(i,i,i,t,r);let o=ZL(e);if(o.toRoot())return Nv(i,i,new xe([],{}),t,r);let s=JL(o,i,n),a=s.processChildren?qa(s.segmentGroup,s.index,o.commands):WM(s.segmentGroup,s.index,o.commands);return Nv(i,s.segmentGroup,a,t,r)}function Ud(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ka(n){return typeof n=="object"&&n!=null&&n.outlets}function Nv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=qM(n,e,t);let a=BM($M(s));return new Fr(a,o,i)}function qM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=qM(o,e,t)}),new xe(n.segments,r)}function ZL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bd(t,e,r)}function JL(n,e,t){if(n.isAbsolute)return new Ds(e,!0,0);if(!t)return new Ds(e,!1,NaN);if(t.parent===null)return new Ds(t,!0,0);let r=Ud(n.commands[0])?0:1,i=t.segments.length-1+r;return XL(t,i,n.numberOfDoubleDots)}function XL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Ds(r,!1,i-o)}function e2(n){return Ka(n[0])?n[0].outlets:{[ie]:n}}function WM(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return qa(n,e,t);let r=t2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new xe(n.segments.slice(r.pathIndex),n.children),qa(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?Uv(n,e,t):r.match?qa(n,0,i):Uv(n,e,t)}function qa(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=e2(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=qa(n.children[ie],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=WM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function t2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ka(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!SM(c,l,s))return o;r+=2}else{if(!SM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Uv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ka(o)){let c=n2(o.outlets);return new xe(r,c)}if(i===0&&Ud(t[0])){let c=n.segments[e];r.push(new ho(c.path,MM(t[0]))),i++;continue}let s=Ka(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ud(a)?(r.push(new ho(s,MM(a))),i+=2):(r.push(new ho(s,{})),i++)}return new xe(r,{})}function n2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Uv(new xe([],{}),0,r))}),e}function MM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function SM(n,e,t){return n==t.path&&fr(e,t.parameters)}function r2(n,e){return n.providers&&!n._injector&&(n._injector=id(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bn(n){return n.outlet||ie}function i2(n,e){let t=n.filter(r=>Bn(r)===e);return t.push(...n.filter(r=>Bn(r)!==e)),t}function rc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function Jv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Jv(n,t);if(r)return r}return null}function Xv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Xv(n,t);if(r.length)return r.unshift(e),r}return[]}function Es(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function GM(n){let e=o2(n),t=new de([new ho("",{})]),r=new de({}),i=new de({}),o=new de({}),s=new de(""),a=new Ft(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new Wd(new Jt(a,[]),e)}function o2(n){let e={},t={},r={},i="",o=new Ms([],e,r,i,t,ie,n,null,{});return new Kd("",new Jt(o,[]))}function Gd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),i?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},i&&YM(i)&&(r.resolve[tc]=i.title),r}function cy(n,e){e.value._routerState=n,e.children.forEach(t=>cy(n,t))}function KM(n){let e=n.children.length>0?` { ${n.children.map(KM).join(", ")} } `:"";return`${n.value}${e}`}function kv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fr(e.params,t.params)||n.paramsSubject.next(t.params),AL(e.url,t.url)||n.urlSubject.next(t.url),fr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ey(n,e){let t=fr(n.params,e.params)&&FL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ey(n.parent,e.parent))}function YM(n){return typeof n.title=="string"||n.title===null}function s2(n,e,t){let r=Za(n,e._root,t?t._root:void 0);return new Wd(r,e)}function Za(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=a2(n,e,t);return new Jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Za(n,a)),s}}let r=c2(e.value),i=e.children.map(o=>Za(n,o));return new Jt(r,i)}}function a2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Za(n,r,i);return Za(n,r)})}function c2(n){return new Ft(new de(n.url),new de(n.params),new de(n.queryParams),new de(n.fragment),new de(n.data),n.outlet,n.component,n)}function Yd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZM(!1,Xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ZM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[QM]=!0,t.cancellationCode=e,t}function l2(n){return JM(n)&&go(n.url)}function JM(n){return!!n&&n[QM]}function d2(n,e,t){let r=n._root,i=e?e._root:null;return Ha(r,i,t,[r.value])}function f2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ps(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!nw(n)?n:e.get(n):r}function Ha(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Es(e);return n.children.forEach(s=>{h2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,t.getContext(s),i)),i}function h2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=p2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ha(n,e,a?a.children:null,r,i):Ha(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ss(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new Qd(r)),o.component?Ha(n,null,a?a.children:null,r,i):Ha(n,null,t,r,i);return i}function p2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!po(n.url,e.url);case"pathParamsOrQueryParamsChange":return!po(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ey(n,e)||!fr(n.queryParams,e.queryParams);case"paramsChange":default:return!ey(n,e)}}function Ga(n,e,t){let r=Es(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),t):Ga(s,null,t):Ga(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ss(e.outlet.component,i)):t.canDeactivateChecks.push(new Ss(null,i)):t.canDeactivateChecks.push(new Ss(null,i))}function oc(n){return typeof n=="function"}function g2(n){return typeof n=="boolean"}function m2(n){return n&&oc(n.canLoad)}function v2(n){return n&&oc(n.canActivate)}function y2(n){return n&&oc(n.canActivateChild)}function _2(n){return n&&oc(n.canDeactivate)}function C2(n){return n&&oc(n.canMatch)}function XM(n){return n instanceof Tn||n?.name==="EmptyError"}function Ts(){return ke(n=>ha(n.map(e=>e.pipe(be(1),Yp(Fd)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Fd)return Fd;if(t===!1||b2(t))return t}return!0}),Ne(e=>e!==Fd),be(1)))}function b2(n){return go(n)||n instanceof Ja}function w2(n,e){return Ue(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F($(E({},t),{guardsResult:!0})):E2(s,r,i,n).pipe(Ue(a=>a&&g2(a)?D2(r,o,n,e):F(a)),j(a=>$(E({},t),{guardsResult:a})))})}function E2(n,e,t,r){return W(n).pipe(Ue(i=>O2(i.component,i.route,t,e,r)),Xn(i=>i!==!0,!0))}function D2(n,e,t,r){return W(e).pipe(an(i=>Jn(S2(i.route.parent,r),M2(i.route,r),x2(n,i.path,t),I2(n,i.route,t))),Xn(i=>i!==!0,!0))}function M2(n,e){return n!==null&&e&&e(new Yv(n)),F(!0)}function S2(n,e){return n!==null&&e&&e(new Gv(n)),F(!0)}function I2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>zi(()=>{let s=rc(e)??t,a=Ps(o,s),c=v2(a)?a.canActivate(e,n):hn(s,()=>a(e,n));return _i(c).pipe(Xn())}));return F(i).pipe(Ts())}function x2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>f2(s)).filter(s=>s!==null).map(s=>zi(()=>{let a=s.guards.map(c=>{let l=rc(s.node)??t,u=Ps(c,l),d=y2(u)?u.canActivateChild(r,n):hn(l,()=>u(r,n));return _i(d).pipe(Xn())});return F(a).pipe(Ts())}));return F(o).pipe(Ts())}function O2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=rc(e)??i,l=Ps(a,c),u=_2(l)?l.canDeactivate(n,e,t,r):hn(c,()=>l(n,e,t,r));return _i(u).pipe(Xn())});return F(s).pipe(Ts())}function T2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=Ps(s,n),c=m2(a)?a.canLoad(e,t):hn(n,()=>a(e,t));return _i(c)});return F(o).pipe(Ts(),eS(r))}function eS(n){return lp(te(e=>{if(typeof e!="boolean")throw Yd(n,e)}),j(e=>e===!0))}function P2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=Ps(s,n),c=C2(a)?a.canMatch(e,t):hn(n,()=>a(e,t));return _i(c)});return F(o).pipe(Ts(),eS(r))}function ws(n){return it(new Xa(n))}function A2(n){return it(new S(4e3,!1))}function N2(n){return it(ZM(!1,Xt.GuardRejected))}function k2(n,e,t,r,i){let o=tS(n,e,t);return o.matched?(r=r2(e,r),P2(r,e,t,i).pipe(j(s=>s===!0?o:E({},iy)))):F(o)}function tS(n,e,t){if(e.path==="**")return R2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},iy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PL)(t,n,e);if(!i)return E({},iy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function R2(n){return{matched:!0,parameters:n.length>0?kM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function xM(n,e,t,r){return t.length>0&&V2(n,t,r)?{segmentGroup:new xe(e,L2(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&j2(n,t,r)?{segmentGroup:new xe(n.segments,F2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function F2(n,e,t,r){let i={};for(let o of t)if(ef(n,e,o)&&!r[Bn(o)]){let s=new xe([],{});i[Bn(o)]=s}return E(E({},r),i)}function L2(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&Bn(r)!==ie){let i=new xe([],{});t[Bn(r)]=i}return t}function V2(n,e,t){return t.some(r=>ef(n,e,r)&&Bn(r)!==ie)}function j2(n,e,t){return t.some(r=>ef(n,e,r))}function ef(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function U2(n,e,t){return e.length===0&&!n.children[t]}function B2(n,e,t,r,i,o,s="emptyOnly"){return new sy(n,e,t,r,i,s,o).recognize()}function H2(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function z2(n){let e=n.value.routeConfig;return e&&e.path===""}function nS(n){let e=[],t=new Set;for(let r of n){if(!z2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=nS(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!t.has(r))}function OM(n){return n.data||{}}function TM(n){return n.resolve||{}}function q2(n,e,t,r,i,o){return Ue(s=>B2(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>$(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function W2(n,e){return Ue(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return F(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of rS(c))s.add(l);let a=0;return W(s).pipe(an(c=>o.has(c)?G2(c,r,n,e):(c.data=Gd(c,c.parent,n).resolve,F(void 0))),te(()=>a++),Ko(1),Ue(c=>a===s.size?F(t):Tt))})}function rS(n){let e=n.children.map(t=>rS(t)).flat();return[n,...e]}function G2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!YM(i)&&(o[tc]=i.title),K2(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=Gd(n,n.parent,t).resolve,null)))}function K2(n,e,t,r){let i=Lv(n);if(i.length===0)return F({});let o={};return W(i).pipe(Ue(s=>Y2(n[s],e,t,r).pipe(Xn(),te(a=>{if(a instanceof Ja)throw Yd(new xs,a);o[s]=a}))),Ko(1),ga(o),fe(s=>XM(s)?Tt:it(s)))}function Y2(n,e,t,r){let i=rc(e)??r,o=Ps(n,i),s=o.resolve?o.resolve(e,t):hn(i,()=>o(e,t));return _i(s)}function Rv(n){return ke(e=>{let t=n(e);return t?W(t).pipe(j(()=>e)):F(e)})}function ly(n){let e=n.children&&n.children.map(ly),t=e?$(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=Z2),t}function J2(n,e,t,r){return _i(n.loadChildren()).pipe(j(oS),Ue(i=>i instanceof Ea||Array.isArray(i)?F(i):W(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Zd,[],{optional:!0,self:!0}).flat()),{routes:s.map(ly),injector:o}}))}function X2(n){return n&&typeof n=="object"&&"default"in n}function oS(n){return X2(n)?n.default:n}function tV(n,e,t){let r=n.get(aS),i=n.get(dt);return n.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),nV(n))),{onViewTransitionCreated:c}=r;return c&&hn(n,()=>c({transition:a,from:e,to:t})),s})}function nV(n){return new Promise(e=>{Qm({read:()=>setTimeout(e)},{injector:n})})}function iV(n){return n!==Wa}function lS(n,e){n.events.pipe(Ne(t=>t instanceof en||t instanceof Rr||t instanceof Ya||t instanceof yi),j(t=>t instanceof en||t instanceof yi?za.COMPLETE:(t instanceof Rr?t.code===Xt.Redirect||t.code===Xt.SupersededByNewNavigation:!1)?za.REDIRECTING:za.FAILED),Ne(t=>t!==za.REDIRECTING),be(1)).subscribe(()=>{e()})}function cV(n){throw n}function dV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new S(4008,!1)}function fV(n){return!(n instanceof Qa)&&!(n instanceof Os)}function hV(n){return!!n.paths}function mV(n){return n.routerState.root}function ac(n,e){return{\u0275kind:n,\u0275providers:e}}function vV(){let n=v(Ze);return e=>{let t=n.get(yn);if(e!==t.components[0])return;let r=n.get(Te),i=n.get(fS);n.get(hy)===1&&r.initialNavigation(),n.get(hS,null,ae.Optional)?.setUpPreloading(),n.get(dS,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function yV(){return ac(2,[{provide:hy,useValue:0},{provide:_s,multi:!0,deps:[Ze],useFactory:e=>{let t=e.get(qD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(fS);lS(i,()=>{r(!0)}),e.get(fy).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}])}function _V(){return ac(3,[{provide:_s,multi:!0,useFactory:()=>{let e=v(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:hy,useValue:2}])}function CV(n){return ac(0,[{provide:hS,useExisting:pV},{provide:Jd,useExisting:n}])}function bV(){return ac(8,[IM,{provide:Xd,useExisting:IM}])}function wV(n){let e=[{provide:sS,useValue:tV},{provide:aS,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return ac(9,e)}function DV(){return{provide:dS,useFactory:()=>{let n=v(XD),e=v(ye),t=v(sc),r=v(fy),i=v(nc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gV(i,r,n,e,t)}}}function MV(){return{provide:Nr,useClass:GD}}function SV(){return{provide:Nr,useClass:gv}}function IV(n){return"guarded"}function xV(n){return[n.initialNavigation==="disabled"?_V().\u0275providers:[],n.initialNavigation==="enabledBlocking"?yV().\u0275providers:[]]}function OV(){return[{provide:AM,useFactory:vV},{provide:ld,multi:!0,useExisting:AM}]}var ie,tc,Fv,NL,RM,Fr,xe,ho,nc,xs,VL,$L,HL,qL,GL,jv,Bd,Ds,Wa,ft,Cn,vi,en,Xt,$d,Rr,yi,Ya,Hd,Bv,$v,Hv,zv,qv,Wv,Gv,Kv,Yv,Qv,zd,Qa,Os,Zv,ic,qd,Jt,Wd,Ft,Ms,Kd,$n,ty,Xd,IM,Ja,QM,u2,ny,Qd,Ss,Fd,Xa,ec,ry,iy,oy,$2,sy,iS,Q2,sc,Z2,Zd,uy,dy,eV,sS,aS,rV,fy,oV,ay,sV,cS,aV,za,lV,uV,Te,bn,uS,Jd,pV,dS,gV,fS,hy,hS,PM,EV,py,AM,ot=p(()=>{"use strict";T();T();we();Ie();Ie();Xr();Ba();ie="primary",tc=Symbol("RouteTitle"),Fv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};NL={exact:FM,subset:LM},RM={exact:kL,subset:RL,ignored:()=>!0};Fr=class{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return VL.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vd(this)}},ho=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return UM(this)}};nc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new xs,providedIn:"root"})}}return n})(),xs=class{parse(e){let t=new jv(e);return new Fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$a(e.root,!0)}`,r=BL(e.queryParams),i=typeof e.fragment=="string"?`#${jL(e.fragment)}`:"";return`${t}${r}${i}`}},VL=new xs;$L=/^[^\/()?;#]+/;HL=/^[^\/()?;=#]+/;qL=/^[^=?&#]+/;GL=/^[^&#]+/;jv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new xe(e,t)),r}parseSegment(){let e=Av(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new ho(jd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=zL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Av(this.remaining);i&&(r=i,this.capture(r))}e[jd(t)]=jd(r)}parseQueryParam(e){let t=WL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=KL(this.remaining);s&&(r=s,this.capture(r))}let i=DM(t),o=DM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Av(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};Bd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ud(r[0]))throw new S(4003,!1);let i=r.find(Ka);if(i&&i!==kM(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Ds=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};Wa="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),Cn=class{constructor(e,t){this.id=e,this.url=t}},vi=class extends Cn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends Cn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),$d=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}($d||{}),Rr=class extends Cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends Cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},Ya=class extends Cn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hd=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bv=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$v=class extends Cn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hv=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zv=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Qa=class{},Os=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};Zv=class{get injector(){return rc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ic(this.rootInjector),this.attachRef=null}},ic=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(A(Nt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Jv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Jv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Xv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xv(e,this._root).map(t=>t.value)}};Jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Wd=class extends qd{constructor(e,t){super(e),this.snapshot=t,cy(this,e)}toString(){return this.snapshot.toString()}};Ft=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[tc]))??F(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>Is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>Is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};Ms=class{get title(){return this.data?.[tc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Kd=class extends qd{constructor(e,t){super(t),this.url=e,cy(this,t)}toString(){return KM(this._root)}};$n=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=v(ic),this.location=v(ui),this.changeDetector=v(jn),this.inputBinder=v(Xd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ty(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]})}}return n})(),ty=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ft?this.route:e===ic?this.childContexts:this.parent.get(e,t)}},Xd=new R(""),IM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ha([r.queryParams,r.params,r.data]).pipe(ke(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=FD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();Ja=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},QM="ngNavigationCancelingError";u2=(n,e,t,r)=>j(i=>(new ny(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ny=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Es(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Es(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Qv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(kv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Qd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ss=class{constructor(e,t){this.component=e,this.route=t}};Fd=Symbol("INITIAL_VALUE");Xa=class{constructor(e){this.segmentGroup=e||null}},ec=class extends Error{constructor(e){super(),this.urlTree=e}};ry=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[ie])return A2(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:_,title:w}=i,P=hn(o,()=>a({params:g,data:_,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:w}));if(P instanceof Fr)throw new ec(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ec(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Fr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};oy=class{};$2=31,sy=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ry(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=xM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new Jt(r,t),o=new Kd("",i),s=QL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ms([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(j(r=>({children:r,rootSnapshot:t})),fe(r=>{if(r instanceof ec)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof Jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return W(o).pipe(an(s=>{let a=r.children[s],c=i2(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Gp((s,a)=>(s.push(...a),s)),Jr(null),zp(),Ue(s=>{if(s===null)return ws(r);let a=nS(s);return H2(a),F(a)}))}processSegment(e,t,r,i,o,s,a){return W(t).pipe(an(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(fe(l=>{if(l instanceof Xa)return F(null);throw l}))),Xn(c=>!!c),fe(c=>{if(XM(c))return U2(r,i,o)?F(new oy):ws(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Bn(r)!==s&&(s===ie||!ef(i,o,r))?ws(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ws(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=tS(t,i,o);if(!c)return ws(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$2&&(this.allowRedirects=!1));let g=new Ms(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,OM(i),Bn(i),i.component??i._loadedComponent??null,i,TM(i)),_=Gd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ue(P=>this.processSegment(e,r,t,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=k2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ke(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ke(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,_=new Ms(m,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,OM(r),Bn(r),r.component??r._loadedComponent??null,r,TM(r)),w=Gd(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:P,slicedSegments:B}=xM(t,m,g,l);if(B.length===0&&P.hasChildren())return this.processChildren(u,l,P,_).pipe(j(Y=>new Jt(_,Y)));if(l.length===0&&B.length===0)return F(new Jt(_,[]));let oe=Bn(r)===o;return this.processSegment(u,l,P,B,oe?ie:o,!0,_).pipe(j(Y=>new Jt(_,Y instanceof Jt?[Y]:[])))}))):ws(t)))}getChildConfig(e,t,r){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):T2(e,t,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,t).pipe(te(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):N2(t))):F({routes:[],injector:e})}};iS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[tc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(Q2),providedIn:"root"})}}return n})(),Q2=(()=>{class n extends iS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(A(bM))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sc=new R("",{providedIn:"root",factory:()=>({})}),Z2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ee({type:n,selectors:[["ng-component"]],standalone:!0,features:[DD],decls:1,vars:0,template:function(r,i){r&1&&k(0,"router-outlet")},dependencies:[$n],encapsulation:2})}}return n})();Zd=new R(""),uy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(ud)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=_i(t.loadComponent()).pipe(j(oS),te(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Gt(()=>{this.componentLoaders.delete(t)})),i=new Zr(r,()=>new ge).pipe(Lo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=J2(r,this.compiler,t,this.onLoadEndListener).pipe(Gt(()=>{this.childrenLoaders.delete(r)})),s=new Zr(o,()=>new ge).pipe(Lo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();dy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(eV),providedIn:"root"})}}return n})(),eV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sS=new R(""),aS=new R("");rV=new R(""),fy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=v(uy),this.environmentInjector=v(Nt),this.urlSerializer=v(nc),this.rootContexts=v(ic),this.location=v(bs),this.inputBindingEnabled=v(Xd,{optional:!0})!==null,this.titleStrategy=v(iS),this.options=v(sc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(dy),this.createViewTransition=v(sS,{optional:!0}),this.navigationErrorHandler=v(rV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let t=i=>this.events.next(new qv(i)),r=i=>this.events.next(new Wv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new de({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),j(o=>$(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ke(o=>{let s=!1,a=!1;return F(o).pipe(ke(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new yi(c.id,this.urlSerializer.serialize(c.rawUrl),d,$d.IgnoredSameUrlNavigation)),c.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(ke(d=>{let m=this.transitions?.getValue();return this.events.next(new vi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Tt:Promise.resolve(d)}),q2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),te(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=$(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Hd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:_,extras:w}=c,P=new vi(d,this.urlSerializer.serialize(m),g,_);this.events.next(P);let B=GM(this.rootComponentType).snapshot;return this.currentTransition=o=$(E({},c),{targetSnapshot:B,urlAfterRedirects:m,extras:$(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,F(o)}else{let d="";return this.events.next(new yi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,$d.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Tt}}),te(c=>{let l=new Bv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=$(E({},c),{guards:d2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),w2(this.environmentInjector,c=>this.events.next(c)),te(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Yd(this.urlSerializer,c.guardsResult);let l=new $v(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Xt.GuardRejected),!1)),Rv(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(te(l=>{let u=new Hv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ke(l=>{let u=!1;return F(l).pipe(W2(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),te(l=>{let u=new zv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Rv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(te(m=>{u.component=m}),j(()=>{})));for(let m of u.children)d.push(...l(m));return d};return ha(l(c.targetSnapshot.root)).pipe(Jr(null),be(1))}),Rv(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?W(u).pipe(j(()=>o)):F(o)}),j(c=>{let l=s2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),te(()=>{this.events.next(new Qa)}),u2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),be(1),te({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ln(this.transitionAbortSubject.pipe(te(c=>{throw c}))),Gt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fe(c=>{if(a=!0,JM(c))this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),l2(c)?this.events.next(new Os(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ya(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=hn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ja){let{message:d,cancellationCode:m}=Yd(this.urlSerializer,u);this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new Os(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new Rr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();oV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(sV),providedIn:"root"})}}return n})(),ay=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},sV=(()=>{class n extends ay{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(aV),providedIn:"root"})}}return n})(),aV=(()=>{class n extends cS{constructor(){super(...arguments),this.location=v(bs),this.urlSerializer=v(nc),this.options=v(sc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(dy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof vi)this.stateMemento=this.createStateMemento();else if(t instanceof yi)this.rawUrlTree=r.initialUrl;else if(t instanceof Hd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Qa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Rr&&(t.code===Xt.GuardRejected||t.code===Xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ya?this.restoreHistory(r,!0):t instanceof en&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Fr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),za=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(za||{});lV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=v(sd),this.stateManager=v(cS),this.options=v(sc,{optional:!0})||{},this.pendingTasks=v(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(fy),this.urlSerializer=v(nc),this.location=v(bs),this.urlHandlingStrategy=v(dy),this._events=new ge,this.errorHandler=this.options.errorHandler||cV,this.navigated=!1,this.routeReuseStrategy=v(oV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Zd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(Xd,{optional:!0}),this.eventsSubscription=new Ve,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof en)this.navigated=!0;else if(r instanceof Os){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||iV(i.source)},s);this.scheduleNavigation(a,Wa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ly),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=HM(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return zM(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=go(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wa,null,r)}navigate(t,r={skipLocationChange:!1}){return dV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},lV):r===!1?i=E({},uV):i=r,go(t))return EM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return EM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return lS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();bn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(go(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:SE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:go(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Ft),Sm("tabindex"),D(Ln),D(vt),D(Nr))}}static{this.\u0275dir=le({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&O("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ps("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fi],replaceUrl:[2,"replaceUrl","replaceUrl",fi],routerLink:"routerLink"},standalone:!0,features:[Km,Fn]})}}return n})(),uS=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new se,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof en&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(Zn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=W(t).pipe(Zn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=hV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(vt),D(Ln),D(jn),D(bn,8))}}static{this.\u0275dir=le({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&wD(o,bn,5),r&2){let s;ms(s=vs())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]})}}return n})();Jd=class{},pV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof en),an(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=id(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return W(i).pipe(Zn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=F(null);let o=i.pipe(Ue(s=>s===null?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return W([o,s]).pipe(Zn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(A(Te),A(ud),A(Nt),A(Jd),A(uy))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dS=new R(""),gV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof en?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof yi&&t.code===$d.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){VE()}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();fS=new R("",{factory:()=>new ge}),hy=new R("",{providedIn:"root",factory:()=>1});hS=new R("");PM=new R("ROUTER_FORROOT_GUARD"),EV=[bs,{provide:nc,useClass:xs},Te,ic,{provide:Ft,useFactory:mV,deps:[Te]},uy,[]],py=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[EV,[],{provide:Zd,multi:!0,useValue:t},{provide:PM,useFactory:IV,deps:[[Te,new Lu,new dm]]},{provide:sc,useValue:r||{}},r?.useHash?MV():SV(),DV(),r?.preloadingStrategy?CV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xV(r):[],r?.bindToComponentInputs?bV().\u0275providers:[],r?.enableViewTransitions?wV().\u0275providers:[],OV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Zd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(A(PM,8))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})();AM=new R("")});var tf,pS=p(()=>{"use strict";Xr();we();T();La();tf=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(ut(1),fe(e=>(console.log("err:",e),it(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(ut(1),fe(e=>(console.log("err:",e),it(()=>e))))}static \u0275fac=function(t){return new(t||n)(A(fo))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var TV,PV,ht,cc=p(()=>{"use strict";TV=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],PV=!TV.includes(window.location.hostname),ht={baseURL:PV?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function lc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var gS=p(()=>{"use strict"});function dc(n,e=200){return x(this,null,function*(){if(uc){let t=lc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function AV(n,e){return x(this,null,function*(){if(uc){let t=yield fetch(`${ht.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield dc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function NV(n,e){return x(this,null,function*(){let t=`${ht.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function kV(n,e,t){return x(this,null,function*(){if(uc){let r=t?`${ht.baseURL}/${t}`:`${ht.baseURL}/${n}`,i={"Content-Type":"application/json"},o=lc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=$(E({},e),{_id:LV()}),i=yield dc(n);return i.push(r),gy(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function RV(n,e){return x(this,null,function*(){if(uc){let t=`${ht.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=lc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield dc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),gy(n,t),e}})}function FV(n,e){return x(this,null,function*(){if(uc){let t=lc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield dc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),gy(n,t)}})}function gy(n,e){localStorage.setItem(n,JSON.stringify(e))}function LV(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var st,uc,my=p(()=>{"use strict";cc();gS();st={post:kV,get:AV,put:RV,remove:FV,query:dc,login:NV},uc=!0});var mS,VV,nf,vS=p(()=>{"use strict";mS="dzqnyehxn",VV="fuhrsp2z",nf={CLOUD_NAME:mS,UPLOAD_PRESET:VV,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${mS}/${n}/upload`}});var Ci,rf=p(()=>{"use strict";vS();we();T();Ci=class n{cloudName=nf.CLOUD_NAME;uploadPreset=nf.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=nf.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),W(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var zn,fc,hc,of=p(()=>{"use strict";zn=Object.create(null);zn.open="0";zn.close="1";zn.ping="2";zn.pong="3";zn.message="4";zn.upgrade="5";zn.noop="6";fc=Object.create(null);Object.keys(zn).forEach(n=>{fc[zn[n]]=n});hc={type:"error",data:"parser error"}});function CS(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function DS(n,e){if(bS&&n.data instanceof Blob)return n.data.arrayBuffer().then(CS).then(e);if(wS&&(n.data instanceof ArrayBuffer||ES(n.data)))return e(CS(n.data));pc(n,!1,t=>{vy||(vy=new TextEncoder),e(vy.encode(t))})}var bS,wS,ES,pc,_S,vy,MS=p(()=>{"use strict";of();bS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wS=typeof ArrayBuffer=="function",ES=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,pc=({type:n,data:e},t,r)=>bS&&e instanceof Blob?t?r(e):_S(e,r):wS&&(e instanceof ArrayBuffer||ES(e))?t?r(e):_S(new Blob([e]),r):r(zn[n]+(e||"")),_S=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var SS,gc,IS,xS=p(()=>{"use strict";SS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<SS.length;n++)gc[SS.charCodeAt(n)]=n;IS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=gc[n.charCodeAt(r)],s=gc[n.charCodeAt(r+1)],a=gc[n.charCodeAt(r+2)],c=gc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var jV,mc,UV,OS,TS=p(()=>{"use strict";of();xS();jV=typeof ArrayBuffer=="function",mc=(n,e)=>{if(typeof n!="string")return{type:"message",data:OS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:UV(n.substring(1),e)}:fc[t]?n.length>1?{type:fc[t],data:n.substring(1)}:{type:fc[t]}:hc},UV=(n,e)=>{if(jV){let t=IS(n);return OS(t,e)}else return{base64:!0,data:n}},OS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function kS(){return new TransformStream({transform(n,e){DS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function sf(n){return n.reduce((e,t)=>e+t.length,0)}function af(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function RS(n,e){yy||(yy=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(sf(t)<1)break;let c=af(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(sf(t)<2)break;let c=af(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(sf(t)<8)break;let c=af(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(hc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(sf(t)<i)break;let c=af(t,i);a.enqueue(mc(o?c:yy.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(hc);break}}}})}var PS,AS,NS,yy,_y,As=p(()=>{"use strict";MS();TS();of();PS="",AS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{pc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(PS))})})},NS=(n,e)=>{let t=n.split(PS),r=[];for(let i=0;i<t.length;i++){let o=mc(t[i],e);if(r.push(o),o.type==="error")break}return r};_y=4});function Fe(n){if(n)return BV(n)}function BV(n){for(var e in Fe.prototype)n[e]=Fe.prototype[e];return n}var mo=p(()=>{"use strict";Fe.prototype.on=Fe.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Fe.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Fe.prototype.off=Fe.prototype.removeListener=Fe.prototype.removeAllListeners=Fe.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Fe.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Fe.prototype.emitReserved=Fe.prototype.emit;Fe.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Fe.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Lr,Lt,FS,vo=p(()=>{"use strict";Lr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Lt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),FS="arraybuffer"});function cf(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Vr(n,e){e.useNativeTimers?(n.setTimeoutFn=$V.bind(Lt),n.clearTimeoutFn=HV.bind(Lt)):(n.setTimeoutFn=Lt.setTimeout.bind(Lt),n.clearTimeoutFn=Lt.clearTimeout.bind(Lt))}function LS(n){return typeof n=="string"?qV(n):Math.ceil((n.byteLength||n.size)*zV)}function qV(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function lf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var $V,HV,zV,yo=p(()=>{"use strict";vo();$V=Lt.setTimeout,HV=Lt.clearTimeout;zV=1.33});function VS(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function jS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Cy=p(()=>{"use strict"});var uf,jr,vc=p(()=>{"use strict";As();mo();yo();Cy();uf=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},jr=class extends Fe{constructor(e){super(),this.writable=!1,Vr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new uf(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=mc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=VS(e);return t.length?"?"+t:""}}});var yc,by=p(()=>{"use strict";vc();yo();As();yc=class extends jr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};NS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,AS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=lf()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var US,BS,$S=p(()=>{"use strict";US=!1;try{US=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}BS=US});function WV(){}function HS(){for(let n in df.requests)df.requests.hasOwnProperty(n)&&df.requests[n].abort()}function zS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||BS))return new XMLHttpRequest}catch{}if(!e)try{return new Lt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var wy,df,GV,bi,ff=p(()=>{"use strict";by();mo();yo();vo();$S();wy=class extends yc{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},df=(()=>{class n extends Fe{constructor(t,r,i){super(),this.createRequest=t,Vr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=cf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=WV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",HS);else if(typeof addEventListener=="function"){let n="onpagehide"in Lt?"pagehide":"unload";addEventListener(n,HS,!1)}}GV=function(){let n=zS({xdomain:!1});return n&&n.responseType!==null}(),bi=class extends wy{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=GV&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new df(zS,this.uri(),e)}}});var qS,Dy,Ey,wi,hf=p(()=>{"use strict";vc();yo();As();vo();qS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Dy=class extends jr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=qS?{}:cf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;pc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Lr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=lf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Ey=Lt.WebSocket||Lt.MozWebSocket,wi=class extends Dy{createSocket(e,t,r){return qS?new Ey(e,t,r):t?new Ey(e,t):new Ey(e)}doWrite(e,t){this.ws.send(t)}}});var Ns,My=p(()=>{"use strict";vc();vo();As();Ns=class extends jr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=RS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=kS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Lr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var Sy,Iy=p(()=>{"use strict";ff();hf();My();Sy={websocket:wi,webtransport:Ns,polling:bi}});function ks(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=KV.exec(n||""),o={},s=14;for(;s--;)o[YV[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=QV(o,o.path),o.queryKey=ZV(o,o.query),o}function QV(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function ZV(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var KV,YV,xy=p(()=>{"use strict";KV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,YV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Oy,pf,gf,mf,Rs,Ty=p(()=>{"use strict";Iy();yo();Cy();xy();mo();As();vo();Oy=typeof addEventListener=="function"&&typeof removeEventListener=="function",pf=[];Oy&&addEventListener("offline",()=>{pf.forEach(n=>n())},!1);gf=(()=>{class n extends Fe{constructor(t,r){if(super(),this.binaryType=FS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=ks(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=ks(r.host).host);Vr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jS(this.opts.query)),Oy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=_y,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=LS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Lr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Oy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=pf.indexOf(this._offlineEventListener);i!==-1&&pf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=_y,n})(),mf=class extends gf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;gf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;gf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=t.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Rs=class extends mf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Sy[i]).filter(i=>!!i)),super(e,r)}}});var WS=p(()=>{"use strict";by()});var zY,vf=p(()=>{"use strict";Ty();Ty();vc();Iy();yo();xy();vo();WS();ff();ff();hf();hf();My();zY=Rs.protocol});function GS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=ks(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var KS=p(()=>{"use strict";vf()});function Cc(n){return XV&&(n instanceof ArrayBuffer||ej(n))||tj&&n instanceof Blob||nj&&n instanceof File}function _c(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(_c(n[t]))return!0;return!1}if(Cc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return _c(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&_c(n[t]))return!0;return!1}var XV,ej,YS,tj,nj,Py=p(()=>{"use strict";XV=typeof ArrayBuffer=="function",ej=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,YS=Object.prototype.toString,tj=typeof Blob=="function"||typeof Blob<"u"&&YS.call(Blob)==="[object BlobConstructor]",nj=typeof File=="function"||typeof File<"u"&&YS.call(File)==="[object FileConstructor]"});function QS(n){let e=[],t=n.data,r=n;return r.data=Ay(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Ay(n,e){if(!n)return n;if(Cc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Ay(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Ay(n[r],e));return t}return n}function ZS(n,e){return n.data=Ny(n.data,e),delete n.attachments,n}function Ny(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Ny(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Ny(n[t],e));return n}var JS=p(()=>{"use strict";Py()});var Ly={};ET(Ly,{Decoder:()=>Ry,Encoder:()=>ky,PacketType:()=>pe,protocol:()=>eI});function XS(n){return Object.prototype.toString.call(n)==="[object Object]"}var rj,eI,pe,ky,Ry,Fy,yf=p(()=>{"use strict";mo();JS();Py();rj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eI=5,pe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(pe||{}),ky=class{constructor(e){this.replacer=e}encode(e){return(e.type===pe.EVENT||e.type===pe.ACK)&&_c(e)?this.encodeAsBinary({type:e.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===pe.BINARY_EVENT||e.type===pe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=QS(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};Ry=class n extends Fe{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===pe.BINARY_EVENT;r||t.type===pe.BINARY_ACK?(t.type=r?pe.EVENT:pe.ACK,this.reconstructor=new Fy(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Cc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(pe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===pe.BINARY_EVENT||r.type===pe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case pe.CONNECT:return XS(t);case pe.DISCONNECT:return t===void 0;case pe.CONNECT_ERROR:return typeof t=="string"||XS(t);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&rj.indexOf(t[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Fy=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=ZS(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function tn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Vy=p(()=>{"use strict"});var ij,Fs,jy=p(()=>{"use strict";yf();Vy();mo();ij=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Fs=class extends Fe{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[tn(e,"open",this.onopen.bind(this)),tn(e,"packet",this.onpacket.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(ij.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:pe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(e);break;case pe.ACK:case pe.BINARY_ACK:this.onack(e);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:pe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function _o(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var tI=p(()=>{"use strict";_o.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};_o.prototype.reset=function(){this.attempts=0};_o.prototype.setMin=function(n){this.ms=n};_o.prototype.setMax=function(n){this.max=n};_o.prototype.setJitter=function(n){this.jitter=n}});var Ls,nI=p(()=>{"use strict";vf();jy();yf();Vy();tI();mo();Ls=class extends Fe{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Vr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new _o({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||Ly;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Rs(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=tn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=tn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(tn(e,"ping",this.onping.bind(this)),tn(e,"data",this.ondata.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Lr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Fs(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function wc(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=GS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=bc[i]&&o in bc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Ls(r,e):(bc[i]||(bc[i]=new Ls(r,e)),c=bc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var bc,rI=p(()=>{"use strict";KS();nI();jy();yf();vf();bc={};Object.assign(wc,{Manager:Ls,Socket:Fs,io:wc,connect:wc})});var Vs,Uy=p(()=>{"use strict";T();Vs=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function oI(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var NQ,oj,sj,aj,cj,lj,uj,dj,wn,js=p(()=>{"use strict";rI();St();T();Uy();NQ=oI(),oj="chat-add-msg",sj="chat-add-private-msg",aj="chat-send-msg",cj="chat-set-topic",lj="chat-send-private-msg",uj="set-user-socket",dj="unset-user-socket",wn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=oI(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=wc(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(cj,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(aj,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i){this.socket||this.setup();let o=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",o),!o||!e||!t.trim()&&!r&&!i){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:o,toUserId:e,msg:t,imageUrl:r,videoUrl:i});return}let s={sender:o._id,senderName:o.username,text:t||"",imageUrl:r||void 0,videoUrl:i||void 0,toUserId:e};this.addToBuffer($(E({},s),{senderName:"Me"})),console.log("\u2705 Sending private message:",s),this.socket?.emit(lj,{toUserId:e,text:t,imageUrl:r,videoUrl:i,sender:o._id,senderName:o.username})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(uj,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(oj,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(sj,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=$(E({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(dj)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(A(Ze),A(Vs))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ec,Ei,sI,aI,Di,Ce,St=p(()=>{"use strict";we();my();cc();T();rf();js();Ec="user",Ei="loggedInUser",sI="facebookId",aI="facebookAccessToken",Di="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(Ei)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new de([]);users$=this._users$.asObservable();_filterBy$=new de("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new de(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){W(st.query(Ec)).pipe(te(e=>{this._users$.next(this._sort(e))}),fe(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(Ei)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(Ei)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(Ei,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Di,e),sessionStorage.setItem(Di,e),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"SAVE_LOGIN_TOKEN",token:e}),console.log("\u{1F4BE} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC-Service Worker \u05DC\u05E9\u05DE\u05D9\u05E8\u05EA token \u05D1\u05BEIndexedDB"))}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Di)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Di)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Di)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Di)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Di)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${ht.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={username:e,password:t};return W(st.login("auth/login",r)).pipe(te(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(Ei,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),fe(this._handleError))}loginWithFacebook(e){return W(st.login("auth/facebook",e)).pipe(te(t=>{this._loggedInUser$.next(t),localStorage.setItem(Ei,JSON.stringify(t)),localStorage.setItem(sI,e.facebookId),localStorage.setItem(aI,e.accessToken),this.socketService.login(t._id)}),fe(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(Ei),localStorage.removeItem(sI),localStorage.removeItem(aI),localStorage.removeItem(Di),this.socketService.logout()}loadUsers(){return W(st.query(Ec)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),te(e=>this._users$.next(e)),ut(3),fe(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(be(1)).subscribe()}deleteUser(e){return W(st.remove(Ec,e)).pipe(te(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),ut(2),fe(this._handleError))}getUserById(e){return W(st.get(Ec,e)).pipe(ut(3),fe(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=$(E({},e),{_id:this._getRandomId()});return W(st.post("auth/signup",t)).pipe(te(r=>{let i=this._users$.value;this._users$.next([...i,r])}),ut(3),fe(this._handleError))}_updateUser(e){return W(st.put(Ec,e)).pipe(te(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),ut(3),fe(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),it(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?W(st.put("user/updateProfile",e)).pipe(te(t=>{this._loggedInUser$.next(t),localStorage.setItem(Ei,JSON.stringify(t))}),fe(this._handleError)):it(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(ke(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return it(()=>new Error("No logged-in user found. Please log in."));let i=$(E({},r),{img:t});return this.saveUser(i).pipe(te(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),fe(t=>(console.error("Error updating user image:",t.message||t),it(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(A(Ci),A(wn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function _f(n,e){return{type:ne.Trigger,name:n,definitions:e,options:{}}}function Sc(n,e=null){return{type:ne.Animate,styles:e,timings:n}}function cI(n,e=null){return{type:ne.Sequence,steps:n,options:e}}function qn(n){return{type:ne.Style,styles:n,offset:null}}function $y(n,e,t){return{type:ne.State,name:n,styles:e,options:t}}function Ic(n,e,t=null){return{type:ne.Transition,expr:n,animation:e,options:t}}var ne,hr,Mi,Mc,Cf,bf=p(()=>{"use strict";ne=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ne||{}),hr="*";Mi=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Mc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Cf="!"});var xc,Ct,Ur=p(()=>{"use strict";we();my();T();xc="contact",Ct=class n{_contacts$=new de([]);contacts$=this._contacts$.asObservable();_allContacts$=new de([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new de({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){W(st.query(xc)).pipe(te(e=>{this._contacts$.next(this._sort(e))}),fe(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),W(st.query("contact/All")).pipe(te(e=>{this._allContacts$.next(this._sort(e))}),fe(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return it(()=>new Error("Contact not found"));let i=$(E({},r),{img:t});return W(st.put("contact/edit",i)).pipe(te(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),ut(1),fe(o=>this._handleError(o)))}loadContacts(){return W(st.query(xc)).pipe(te(e=>{let t=this._filterBy$.value;e=e.map(r=>$(E({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),ut(1),fe(this._handleError))}deleteContact(e){return W(st.remove(xc,e)).pipe(te(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),ut(1),fe(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(be(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return W(st.get(xc,e)).pipe(ut(1),fe(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),W(st.put("contact/edit",e)).pipe(te(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),ut(1),fe(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),W(st.post(xc,e)).pipe(te(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),ut(1),fe(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),it(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Us,Hy=p(()=>{"use strict";T();Us=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function qt(n){n||(vm(qt),n=v(kt));let e=new J(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(ln(e))}var Bs=p(()=>{"use strict";T();we();Xr();});var It,Si=p(()=>{"use strict";T();we();Bs();T();It=class n{destroyRef=v(kt);_msg=new de(null);msg$=this._msg.asObservable().pipe(Cr());_msgQueue$=new ge;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(an(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?F(null):(this._currentMsg=e,F(e).pipe(te(()=>this._msg.next(e)),cn(1100),te(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(qt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var xt,Ii=p(()=>{"use strict";T();xt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&O("click",function(o){return r.onClick(o)})}})}});function hj(n,e){if(n&1&&($t(0),h(1,"h1"),C(2),f(),k(3,"img",3),Ht()),n&2){let t=M();y(2),Oe("Hello: ",t.logdinUser.username,"!"),y(),b("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Xe)}}function pj(n,e){if(n&1){let t=K();h(0,"h1"),C(1," Welcome!"),k(2,"br"),C(3," Please login or sign up"),k(4,"br"),h(5,"span",4),k(6,"img",5),f()(),h(7,"section",6)(8,"a",7),C(9,"Login"),f(),h(10,"a",8),C(11,"Sign Up"),f(),h(12,"button",9),O("click",function(){L(t);let i=M();return V(i.loginWithFacebook())}),k(13,"img",10),h(14,"span",11),C(15,"Login with Facebook"),f()()()}}var wf,uI=p(()=>{"use strict";T();pS();we();St();bf();Ur();T();Hy();Si();ot();Ie();Ii();wf=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=v(tf);userService=v(Ce);logdinUser=this.userService.getLoggedInUser();contactService=v(Ct);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(be(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Us),D(It),D(Te))};static \u0275cmp=ee({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(h(0,"section",1),N(1,hj,4,2,"ng-container",2)(2,pj,16,0,"ng-template",null,0,cr),f()),t&2){let i=Dt(3);y(),b("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[_e,bn,xt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[_f("bounceArrow",[$y("up",qn({transform:"translateY(-10px)"})),$y("down",qn({transform:"translateY(10px)"})),Ic("up <=> down",[Sc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var En,zs=p(()=>{"use strict";T();T();En=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new se;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(vt))};static \u0275dir=le({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function gj(n,e){if(n&1){let t=K();h(0,"div",1)(1,"div",2),O("clickOutsideCapture",function(){L(t);let i=M();return V(i.cancel())}),h(2,"p"),C(3),f(),h(4,"div",3)(5,"button",4),O("click",function(){L(t);let i=M();return V(i.confirm())}),C(6,"Yes"),f(),h(7,"button",4),O("click",function(){L(t);let i=M();return V(i.cancel())}),C(8,"No"),f()()()()}if(n&2){let t=M();y(3),Mt(t.message)}}var qs,zy=p(()=>{"use strict";T();T();Ie();Ii();zs();qs=class n{isVisible=!1;message="";confirmed=new se;canceled=new se;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&N(0,gj,9,1,"div",0),t&2&&b("ngIf",r.isVisible)},dependencies:[_e,xt,En],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var mj,vj,yj,Df,fI=p(()=>{"use strict";T();T();ot();Si();Hy();Ie();zy();Ii();mj=(n,e)=>[n,e],vj=n=>({"long-name":n}),yj=n=>["/contact/edit",n],Df=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new se;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Te),D(It),D(Us))};static \u0275cmp=ee({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:14,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(h(0,"article",0),O("click",function(){return r.onPreviewClick()}),k(1,"img",1),h(2,"div",2)(3,"h1",3),C(4),f()(),h(5,"div",4)(6,"button",5),O("click",function(){return r.onDeleteClick()}),k(7,"img",6),f(),h(8,"button",7),O("click",function(){return r.onEditClick()}),k(9,"img",8),f(),h(10,"button",9),O("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),k(11,"img",10),f()()(),h(12,"app-modal",11),O("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),k(13,"router-outlet")),t&2&&(y(),b("src",r.contact.img?r.contact.img:"../../../assets/images/contact.png",Xe)("ngClass",ar(7,mj,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),y(2),b("ngClass",Pa(10,vj,r.isLongName)),y(),Oe(" ",r.contact.name," "),y(4),b("routerLink",Pa(12,yj,r.contact._id)),y(4),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[ur,$n,bn,qs,xt],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 70px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0 auto;font-size:1.25rem;color:#1c284e;cursor:pointer;font-weight:700;text-align:center;min-width:100px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;min-width:unset}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]})}});function Cj(n,e){if(n&1){let t=K();h(0,"contact-preview",2),O("remove",function(){let i=L(t).$implicit,o=M();return V(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;b("contact",t)}}var Mf,hI=p(()=>{"use strict";T();ot();we();T();ot();Ie();fI();Mf=class n{constructor(e){this.router=e}contacts;remove=new se;destroy$=new ge;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof en)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=ee({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(h(0,"section",0),N(1,Cj,1,1,"contact-preview",1),f()),t&2&&(y(),b("ngForOf",r.contacts))},dependencies:[dr,Df],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function Ej(){let n=lr()?lr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function xi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function DI(n){return n!=null&&typeof n.length=="number"}function Sj(n){return e=>{if(xi(e.value)||xi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Ij(n){return e=>{if(xi(e.value)||xi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function MI(n){return xi(n.value)?{required:!0}:null}function xj(n){return n.value===!0?null:{required:!0}}function Oj(n){return xi(n.value)||Mj.test(n.value)?null:{email:!0}}function SI(n){return e=>xi(e.value)||!DI(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Tj(n){return e=>DI(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Pj(n){if(!n)return If;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function If(n){return null}function II(n){return n!=null}function xI(n){return di(n)?W(n):n}function OI(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function TI(n,e){return e.map(t=>t(n))}function Aj(n){return!n.validate}function PI(n){return n.map(e=>Aj(e)?e:t=>e.validate(t))}function AI(n){if(!n)return null;let e=n.filter(II);return e.length==0?null:function(t){return OI(TI(t,e))}}function Zy(n){return n!=null?AI(PI(n)):null}function NI(n){if(!n)return null;let e=n.filter(II);return e.length==0?null:function(t){let r=TI(t,e).map(xI);return Ap(r).pipe(j(OI))}}function Jy(n){return n!=null?NI(PI(n)):null}function pI(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kI(n){return n._rawValidators}function RI(n){return n._rawAsyncValidators}function qy(n){return n?Array.isArray(n)?n:[n]:[]}function xf(n,e){return Array.isArray(n)?n.includes(e):n===e}function gI(n,e){let t=qy(e);return qy(n).forEach(i=>{xf(t,i)||t.push(i)}),t}function mI(n,e){return qy(e).filter(t=>!xf(n,t))}function Xy(n){return(Ff(n)?n.validators:n)||null}function kj(n){return Array.isArray(n)?Zy(n):n||null}function e_(n,e){return(Ff(e)?e.asyncValidators:n)||null}function Rj(n){return Array.isArray(n)?Jy(n):n||null}function Ff(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function FI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[t])throw new S(1001,"")}function LI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new S(1002,"")})}function VI(n,e){return[...e.path,n]}function Af(n,e,t=Lf){t_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Lj(n,e),jj(n,e),Vj(n,e),Fj(n,e)}function vI(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Nf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Fj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function t_(n,e){let t=kI(n);e.validator!==null?n.setValidators(pI(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=RI(n);e.asyncValidator!==null?n.setAsyncValidators(pI(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Nf(e._rawValidators,i),Nf(e._rawAsyncValidators,i)}function kf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=kI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=RI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Nf(e._rawValidators,r),Nf(e._rawAsyncValidators,r),t}function Lj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&jI(n,e)})}function Vj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&jI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function jI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function UI(n,e){n==null,t_(n,e)}function Uj(n,e){return kf(n,e)}function BI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Bj(n){return Object.getPrototypeOf(n.constructor)===Qy}function $I(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HI(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Dn?t=o:Bj(o)?r=o:i=o}),i||r||t||null}function $j(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function yI(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function _I(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function qI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Yj(n){return n.split(":")[0]}function bI(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Zj(n){return n.split(":")[0]}function Jj(n){return typeof n=="number"?n:parseInt(n,10)}function wI(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var EI,Qy,Rc,wj,Dj,Dn,Mn,Qs,Mj,Oi,Of,Br,Co,Tf,Nj,nJ,pr,Rf,Oc,Sf,Ws,Tc,Ti,Pf,Ac,Nc,Gs,Wy,Gy,Ks,Ys,Ky,Fc,Lf,Hj,Pc,n_,kc,zj,qj,CI,$r,Vf,zI,Wj,r_,Gj,i_,Kj,jf,WI,Qj,GI,KI,YI,Xj,o_,eU,s_,QI,Yy,ZI,JI,XI,Sn=p(()=>{"use strict";T();T();Ie();we();Xr();EI=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ln),D(vt))}}static{this.\u0275dir=le({type:n})}}return n})(),Qy=(()=>{class n extends EI{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,features:[Bt]})}}return n})(),Rc=new R(""),wj={provide:Rc,useExisting:fn(()=>Dn),multi:!0};Dj=new R(""),Dn=(()=>{class n extends EI{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ej())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ln),D(vt),D(Dj,8))}}static{this.\u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[et([wj]),Bt]})}}return n})();Mn=new R(""),Qs=new R(""),Mj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Oi=class{static min(e){return Sj(e)}static max(e){return Ij(e)}static required(e){return MI(e)}static requiredTrue(e){return xj(e)}static email(e){return Oj(e)}static minLength(e){return SI(e)}static maxLength(e){return Tj(e)}static pattern(e){return Pj(e)}static nullValidator(e){return If(e)}static compose(e){return AI(e)}static composeAsync(e){return NI(e)}};Of=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Br=class extends Of{get formDirective(){return null}get path(){return null}},Co=class extends Of{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Nj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nJ=$(E({},Nj),{"[class.ng-submitted]":"isSubmitted"}),pr=(()=>{class n extends Tf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Co,2))}}static{this.\u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&gs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bt]})}}return n})(),Rf=(()=>{class n extends Tf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Br,10))}}static{this.\u0275dir=le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&gs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bt]})}}return n})(),Oc="VALID",Sf="INVALID",Ws="PENDING",Tc="DISABLED",Ti=class{},Pf=class extends Ti{constructor(e,t){super(),this.value=e,this.source=t}},Ac=class extends Ti{constructor(e,t){super(),this.pristine=e,this.source=t}},Nc=class extends Ti{constructor(e,t){super(),this.touched=e,this.source=t}},Gs=class extends Ti{constructor(e,t){super(),this.status=e,this.source=t}},Wy=class extends Ti{constructor(e){super(),this.source=e}},Gy=class extends Ti{constructor(e){super(),this.source=e}};Ks=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=uo(()=>this.statusReactive()),this.statusReactive=lo(void 0),this._pristine=uo(()=>this.pristineReactive()),this.pristineReactive=lo(!0),this._touched=uo(()=>this.touchedReactive()),this.touchedReactive=lo(!1),this._events=new ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qt(this.statusReactive)}set status(e){Qt(()=>this.statusReactive.set(e))}get valid(){return this.status===Oc}get invalid(){return this.status===Sf}get pending(){return this.status==Ws}get disabled(){return this.status===Tc}get enabled(){return this.status!==Tc}get pristine(){return Qt(this.pristineReactive)}set pristine(e){Qt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qt(this.touchedReactive)}set touched(e){Qt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mI(e,this._rawAsyncValidators))}hasValidator(e){return xf(this._rawValidators,e)}hasAsyncValidator(e){return xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ac(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ac(!0,r))}markAsPending(e={}){this.status=Ws;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this.errors=null,this._forEachChild(i=>{i.disable($(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pf(this.value,r)),this._events.next(new Gs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this._forEachChild(r=>{r.enable($(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oc||this.status===Ws)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pf(this.value,t)),this._events.next(new Gs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tc:Oc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ws,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=xI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Gs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Tc:this.errors?Sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ws)?Ws:this._anyControlsHaveStatus(Sf)?Sf:Oc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ac(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ff(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=kj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Rj(this._rawAsyncValidators)}},Ys=class extends Ks{constructor(e,t,r){super(Xy(t),e_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){LI(this,!0,e),Object.keys(e).forEach(r=>{FI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Ky=class extends Ys{},Fc=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Lf}),Lf="always";Hj={provide:Br,useExisting:fn(()=>n_)},Pc=Promise.resolve(),n_=(()=>{class n extends Br{get submitted(){return Qt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=uo(()=>this.submittedReactive()),this.submittedReactive=lo(!1),this._directives=new Set,this.ngSubmit=new se,this.form=new Ys({},Zy(t),Jy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Af(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Pc.then(()=>{let r=this._findContainer(t.path),i=new Ys({});UI(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Pc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),$I(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Mn,10),D(Qs,10),D(Fc,8))}}static{this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([Hj]),Bt]})}}return n})();kc=class extends Ks{constructor(e=null,t,r){super(Xy(t),e_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ff(t)&&(t.nonNullable||t.initialValueIsDefault)&&(_I(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_I(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},zj=n=>n instanceof kc,qj={provide:Co,useExisting:fn(()=>$r)},CI=Promise.resolve(),$r=(()=>{class n extends Co{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new kc,this._registered=!1,this.name="",this.update=new se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),BI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Af(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){CI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&fi(r);CI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?VI(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Br,9),D(Mn,10),D(Qs,10),D(Rc,10),D(jn,8),D(Fc,8))}}static{this.\u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[et([qj]),Bt,Fn]})}}return n})(),Vf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),zI=new R(""),Wj={provide:Br,useExisting:fn(()=>r_)},r_=(()=>{class n extends Br{get submitted(){return Qt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=uo(()=>this._submittedReactive()),this._submittedReactive=lo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Af(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){vI(t.control||null,t,!1),$j(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),$I(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Wy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Gy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(vI(r||null,t),zj(i)&&(Af(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);UI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Uj(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){t_(this.form,this),this._oldForm&&kf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Mn,10),D(Qs,10),D(Fc,8))}}static{this.\u0275dir=le({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([Wj]),Bt,Fn]})}}return n})(),Gj={provide:Co,useExisting:fn(()=>i_)},i_=(()=>{class n extends Co{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),BI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return VI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Br,13),D(Mn,10),D(Qs,10),D(Rc,10),D(zI,8))}}static{this.\u0275dir=le({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[et([Gj]),Bt,Fn]})}}return n})(),Kj={provide:Rc,useExisting:fn(()=>jf),multi:!0};jf=(()=>{class n extends Qy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=qI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Yj(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([Kj]),Bt]})}}return n})(),WI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(qI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(vt),D(Ln),D(jf,9))}}static{this.\u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Qj={provide:Rc,useExisting:fn(()=>GI),multi:!0};GI=(()=>{class n extends Qy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Zj(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([Qj]),Bt]})}}return n})(),KI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(bI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(vt),D(Ln),D(GI,9))}}static{this.\u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();YI=(()=>{class n{constructor(){this._validator=If}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):If,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,features:[Fn]})}}return n})(),Xj={provide:Mn,useExisting:fn(()=>o_),multi:!0},o_=(()=>{class n extends YI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fi,this.createValidator=t=>MI}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ps("required",i._enabled?"":null)},inputs:{required:"required"},features:[et([Xj]),Bt]})}}return n})(),eU={provide:Mn,useExisting:fn(()=>s_),multi:!0},s_=(()=>{class n extends YI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>Jj(t),this.createValidator=t=>SI(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ps("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[et([eU]),Bt]})}}return n})(),QI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})(),Yy=class extends Ks{constructor(e,t,r){super(Xy(t),e_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){LI(this,!1,e),e.forEach((r,i)=>{FI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};ZI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return wI(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ys(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ky(i,r)}control(t,r,i){let o={};return this.useNonNullable?(wI(r)?o=r:(o.validators=r,o.asyncValidators=i),new kc(t,$(E({},o),{nonNullable:!0}))):new kc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Yy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof kc)return t;if(t instanceof Ks)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fc,useValue:t.callSetDisabledState??Lf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({imports:[QI]})}}return n})(),XI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fc,useValue:t.callSetDisabledState??Lf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({imports:[QI]})}}return n})()});function tU(n,e){if(n&1){let t=K();h(0,"button",4),O("click",function(){L(t);let i=M();return V(i.onClearFilter())}),C(1," \u2716 "),f()}}var Uf,ex=p(()=>{"use strict";T();we();Bs();Ur();T();Ie();Sn();Uf=class n{contactService=v(Ct);filterBy;filterSubject$=new ge;destroyRef=v(kt);ngOnInit(){this.contactService.filterBy$.pipe(qt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Cr(),qt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),vn("ngModelChange",function(o){return Vn(r.filterBy.name,o)||(r.filterBy.name=o),o}),O("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,tU,2,0,"button",3),f()()),t&2&&(y(2),mn("ngModel",r.filterBy.name),y(),b("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[_e,Dn,pr,$r],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Bf,tx=p(()=>{"use strict";T();Bs();Ur();T();ot();hI();ex();Ie();Bf=class n{contactService=v(Ct);contacts$;destroyRef=v(kt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(qt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"contact-filter"),k(2,"input",1),f(),h(3,"button",2),k(4,"img",3),h(5,"span"),C(6,"Add Contact"),f()(),h(7,"contact-list",4),yt(8,"async"),O("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(y(7),b("contacts",_t(8,1,r.contacts$)))},dependencies:[bn,Mf,Uf,zt],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});var $f,nx=p(()=>{"use strict";T();$f=class n{transform(e){if(!e)return"";let t=/(https?:\/\/)?(www\.)?([^\/.]+)\.co/,r=e.match(t);if(r){let i=r[3];return`<a href="${e}" target="_blank" rel="noopener noreferrer">${i}</a>`}return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=io({name:"extractDomain",type:n,pure:!0})}});function oU(n,e){if(n&1&&(h(0,"p")(1,"strong"),C(2,"Dscription:"),f(),C(3),f()),n&2){let t=M().ngIf;y(3),Oe(" ",t.lastName,"")}}function sU(n,e){if(n&1&&(h(0,"p")(1,"strong"),C(2,"Info:"),f(),k(3,"span",10),yt(4,"extractDomain"),f()),n&2){let t=M().ngIf;y(3),b("innerHTML",_t(4,1,t.additionalInfo),Ju)}}function aU(n,e){if(n&1){let t=K();h(0,"section",2),O("clickOutsideCapture",function(){L(t);let i=M();return V(i.onBack())}),h(1,"section",3)(2,"button",4),O("click",function(){L(t);let i=M();return V(i.onBack())}),k(3,"img",5),f(),h(4,"h1"),C(5,"Contact Details"),f()(),h(6,"div",6),k(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),C(11,"Name:"),f(),C(12),f(),N(13,oU,4,1,"p",9)(14,sU,5,3,"p",9),f()()}if(n&2){let t=e.ngIf;y(7),b("src",t.img?t.img:"../../../assets/images/contact.png",Xe)("ngClass",ar(5,iU,t.imageSize||"medium",t.imageShape||"circle")),y(5),Oe(" ",t.name,""),y(),b("ngIf",t.lastName),y(),b("ngIf",t.additionalInfo)}}var iU,Hf,rx=p(()=>{"use strict";T();we();ot();T();Ie();ot();Ii();zs();nx();iU=(n,e)=>[n,e];Hf=class n{router=v(Te);route=v(Ft);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&$(E({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-fields"],[4,"ngIf"],[3,"innerHTML"]],template:function(t,r){t&1&&(k(0,"div",0),N(1,aU,15,8,"section",1),yt(2,"async"),k(3,"router-outlet")),t&2&&(y(),b("ngIf",_t(2,1,r.contact$)))},dependencies:[ur,_e,$n,xt,En,zt,$f],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var Pi,zf=p(()=>{"use strict";we();T();Pi=class n{isLoadingSubject=new de(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var a_,ix=p(()=>{"use strict";T();Ur();we();zf();a_=(n,e)=>{let t=n.params.id,r=v(Pi),i=v(Ct);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getById(t).pipe(cn(250),fe(o=>(console.error("Error fetching contact:",o),F(null))),Gt(()=>r.hide()))}});function lU(n,e){if(n&1&&(h(0,"div",4),k(1,"img",5),f()),n&2){let t=M();y(),b("src",t.uploadedImageUrl,Xe)}}var Zs,c_=p(()=>{"use strict";T();T();rf();Ie();Zs=class n{constructor(e){this.cloudinaryService=e}imageUploaded=new se;uploadError=new se;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadImage(r)}}uploadImage(e){this.isLoading=!0,this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded image URL:",t),this.imageUploaded.emit(t),this.isLoading=!1},error:t=>{console.error("Error uploading the image:",t),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1}})}static \u0275fac=function(t){return new(t||n)(D(Ci))};static \u0275cmp=ee({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"image-upload"],["class","contact-image-container",4,"ngIf"],["for","fileInput"],["type","file","id","fileInput",3,"change","disabled"],[1,"contact-image-container"],["alt","Uploaded Image",1,"contact-image",3,"src"]],template:function(t,r){t&1&&(h(0,"div",0),N(1,lU,2,1,"div",1),h(2,"label",2),C(3,"\u05D1\u05D7\u05E8 \u05EA\u05DE\u05D5\u05E0\u05D4 \u{1F4F7}"),f(),h(4,"input",3),O("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(y(),b("ngIf",r.uploadedImageUrl),y(),gs("hidden",r.uploadedImageUrl),y(2),b("disabled",r.isLoading))},dependencies:[_e],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;background-color:transparent;box-shadow:none;max-width:200px;text-align:center}.image-upload[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #ddd;display:flex;justify-content:center;align-items:center}.image-upload[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;width:7em;height:1em;background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003;margin-top:.5rem;visibility:visible}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.image-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8rem;color:#555;max-width:150px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});var qf,sx=p(()=>{"use strict";T();qf=class n{transform(e){if(!e)return e;let t=/(https?:\/\/[^\s]+)/g;return e.replace(t,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>')}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=io({name:"linkify",type:n,pure:!0})}});function dU(n,e){if(n&1){let t=K();h(0,"button",33),O("click",function(){L(t);let i=M(2);return V(i.onDeleteClick())}),k(1,"img",34),f()}}function fU(n,e){if(n&1){let t=K();h(0,"img",35),O("click",function(){L(t);let i=M(2);return V(i.toggleImageUpload())}),f()}if(n&2){let t=M(2);b("src",t.contact.img,Xe)("ngClass",ar(2,l_,t.selectedImageSize,t.selectedImageShape))}}function hU(n,e){if(n&1){let t=K();h(0,"div",37),O("click",function(){L(t);let i=M(3);return V(i.toggleImageUpload())}),C(1),f()}if(n&2){let t,r=M(3);b("ngClass",ar(2,l_,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),y(),Oe(" ",r.getInitials(r.contact.name)," ")}}function pU(n,e){if(n&1){let t=K();h(0,"img",38),O("click",function(){L(t);let i=M(3);return V(i.toggleImageUpload())}),f()}if(n&2){let t,r=M(3);b("ngClass",ar(1,l_,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function gU(n,e){if(n&1&&N(0,hU,2,5,"div",36)(1,pU,1,4,"ng-template",null,1,cr),n&2){let t=Dt(2),r=M(2);b("ngIf",r.contact.name)("ngIfElse",t)}}function mU(n,e){if(n&1){let t=K();h(0,"div",39)(1,"image-upload",40),O("imageUploaded",function(i){L(t);let o=M(2);return V(o.onImageUploaded(i))})("uploadError",function(i){L(t);let o=M(2);return V(o.onUploadError(i))}),f()()}}function vU(n,e){if(n&1&&(h(0,"option",41),C(1),f()),n&2){let t=e.$implicit;b("value",t.value),y(),Oe("",t.label," ")}}function yU(n,e){if(n&1&&(h(0,"option",41),C(1),f()),n&2){let t=e.$implicit;b("value",t.value),y(),Oe("",t.label," ")}}function _U(n,e){n&1&&(h(0,"span"),C(1,"Name is required!"),f())}function CU(n,e){n&1&&(h(0,"span"),C(1,"Name must be at least 3 characters long!"),f())}function bU(n,e){if(n&1&&(h(0,"p",43),N(1,_U,2,0,"span",24)(2,CU,2,0,"span",24),f()),n&2){let t=M().ngIf;y(),b("ngIf",t.errors.required),y(),b("ngIf",t.errors.minlength)}}function wU(n,e){if(n&1&&($t(0),N(1,bU,3,2,"p",42),Ht()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function EU(n,e){n&1&&(h(0,"div",44)(1,"label",45),C(2,"Description"),f(),k(3,"textarea",46),f())}function DU(n,e){n&1&&(h(0,"span"),C(1,"Description must be at least 3 characters long!"),f())}function MU(n,e){if(n&1&&(h(0,"p",43),N(1,DU,2,0,"span",24),f()),n&2){let t=M().ngIf;y(),b("ngIf",t.errors.minlength)}}function SU(n,e){if(n&1&&($t(0),N(1,MU,2,1,"p",42),Ht()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function IU(n,e){if(n&1&&(k(0,"p",47),yt(1,"linkify")),n&2){let t=M(2);b("innerHTML",_t(1,1,t.form.controls.additionalInfo.value),Ju)}}function xU(n,e){n&1&&(h(0,"span"),C(1,"Additional Info must be at least 3 characters long!"),f())}function OU(n,e){if(n&1&&(h(0,"p",43),N(1,xU,2,0,"span",24),f()),n&2){let t=M().ngIf;y(),b("ngIf",t.errors.minlength)}}function TU(n,e){if(n&1&&($t(0),N(1,OU,2,1,"p",42),Ht()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function PU(n,e){if(n&1){let t=K();h(0,"div",48)(1,"label",49)(2,"input",50),O("change",function(i){L(t);let o=M(2);return V(o.onToggleLastName(i))}),f(),k(3,"span",51),f(),h(4,"span",52),C(5,"Add Description"),f()()}if(n&2){let t=M(2);y(2),b("checked",t.IsLastName||t.contact.lastName)}}function AU(n,e){if(n&1){let t=K();h(0,"div",4)(1,"section",5),O("clickOutsideCapture",function(){L(t);let i=M();return V(i.onBack())}),h(2,"section",6)(3,"a",7),k(4,"img",8),f(),h(5,"h2"),C(6),f(),N(7,dU,2,0,"button",9),f(),h(8,"form",10),O("ngSubmit",function(){L(t);let i=M();return V(i.onSaveContact())}),h(9,"div",11),N(10,fU,1,5,"img",12)(11,gU,3,2,"ng-template",null,0,cr)(13,mU,2,0,"div",13),f(),h(14,"div",14)(15,"label",15),C(16,"Size:"),f(),h(17,"select",16),O("change",function(i){L(t);let o=M();return V(o.onImageSizeChange(i))}),N(18,vU,2,2,"option",17),f(),h(19,"label",18),C(20,"Shape:"),f(),h(21,"select",19),O("change",function(i){L(t);let o=M();return V(o.onImageShapeChange(i))}),N(22,yU,2,2,"option",17),f()(),h(23,"div",20)(24,"div",21)(25,"label",22),C(26,"Name"),f(),k(27,"input",23),f(),N(28,wU,2,1,"ng-container",24)(29,EU,4,0,"div",25)(30,SU,2,1,"ng-container",24),h(31,"div",26)(32,"label",27),C(33,"Additional Info"),f(),k(34,"textarea",28),f(),N(35,IU,2,3,"p",29)(36,TU,2,1,"ng-container",24),h(37,"div",30),N(38,PU,6,1,"div",31),h(39,"button",32),C(40," Save "),f()()()()()()}if(n&2){let t=Dt(12),r=M();y(6),Oe("",r.contact._id?"Edit":"Add"," Contact"),y(),b("ngIf",r.contact._id),y(),b("formGroup",r.form),y(2),b("ngIf",r.contact.img)("ngIfElse",t),y(3),b("ngIf",r.showImageUpload),y(5),b("ngForOf",r.imageSizeOptions)("ngForTrackBy",r.trackByFn),y(4),b("ngForOf",r.imageShapeOptions)("ngForTrackBy",r.trackByFn),y(6),b("ngIf",r.form.controls.name),y(),b("ngIf",r.IsLastName||r.contact.lastName),y(),b("ngIf",r.form.controls.lastName),y(5),b("ngIf",r.form.controls.additionalInfo.value),y(),b("ngIf",r.form.controls.additionalInfo),y(2),b("ngIf",!r.contact.lastName),y(),b("disabled",r.form.invalid)}}var l_,Vc,ax=p(()=>{"use strict";T();Ur();ot();we();Sn();Ie();T();Sn();Ie();Si();ot();zy();Ii();zs();c_();sx();l_=(n,e)=>[n,e];Vc=class n{constructor(e,t,r,i){this.fb=e;this.datePipe=t;this.msgService=r;this.cd=i}IsLastName=!1;showImageUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new ge;contactService=v(Ct);contact=this.contactService.getEmptyContact();router=v(Te);route=v(Ft);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Oi.required,Oi.minLength(3)]],lastName:[e?this.contact.lastName:"",[Oi.minLength(3)]],additionalInfo:[e?this.contact.additionalInfo:""],phone:[e?this.contact.phone:"",[Oi.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Oi.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date)],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(ln(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(ln(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Ne(t=>!!t),ln(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue($(E({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(ln(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=E({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(ln(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.patchValue({img:e}),this.showImageUpload=!1,this.cd.detectChanges(),this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}static \u0275fac=function(t){return new(t||n)(D(ZI),D(Dd),D(It),D(jn))};static \u0275cmp=ee({type:n,selectors:[["contact-edit"]],features:[et([Dd])],decls:3,vars:3,consts:[["fallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","desc form-input",4,"ngIf"],[1,"form-input","desc"],["for","additionalInfo"],["formControlName","additionalInfo","placeholder","Enter text, links, or anything...","id","additionalInfo",1,"lastName"],["class","formatted-text",3,"innerHTML",4,"ngIf"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"click","src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/contact.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],[1,"desc","form-input"],["for","lastName"],["formControlName","lastName","placeholder","Enter description...","id","description"],[1,"formatted-text",3,"innerHTML"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(N(0,AU,41,17,"div",2),h(1,"section")(2,"app-modal",3),O("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(b("ngIf",r.contact),y(2),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[ur,dr,_e,bn,Vf,WI,KI,Dn,jf,pr,Rf,r_,i_,qs,xt,En,Zs,qf],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:25em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:8px;font-size:16px;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;background-color:#fff;resize:vertical;font-family:Roboto,sans-serif}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none;box-shadow:0 0 5px #f1c40f80}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:3em;height:1em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:.6em;width:1em;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:180px!important;height:100px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:180px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:7em;font-size:13px;margin-right:.7em}}']})}});function cx(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function lx(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(Lp(200),Cr(),ke(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function ux(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Wf=p(()=>{"use strict";we();Ur()});var Gf,dx=p(()=>{"use strict";Sn();Wf();T();Gf=class n{validate(e){return cx()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appEmailValidator",""]],features:[et([{provide:Mn,useExisting:n,multi:!0}])]})}});var Kf,fx=p(()=>{"use strict";Sn();Wf();T();St();Kf=class n{constructor(e){this.userService=e}validate(e){return lx(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275dir=le({type:n,selectors:[["","appEmailTaken",""]],features:[et([{provide:Qs,useExisting:n,multi:!0}])]})}});var Yf,hx=p(()=>{"use strict";Sn();Wf();T();Yf=class n{validate(e){return ux()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appPasswordValidator",""]],features:[et([{provide:Mn,useExisting:n,multi:!0}])]})}});var Qf,px=p(()=>{"use strict";Sn();T();Qf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appFullNameValidator",""]],features:[et([{provide:Mn,useExisting:n,multi:!0}])]})}});function VU(n,e){n&1&&(h(0,"span"),C(1,"Username is required."),f())}function jU(n,e){n&1&&(h(0,"span"),C(1," Username must be at least 3 characters long. "),f())}function UU(n,e){if(n&1&&(h(0,"div",14),N(1,VU,2,0,"span",11)(2,jU,2,0,"span",11),h(3,"span"),C(4,"Enter your full name (first name and last name)."),f()()),n&2){M();let t=Dt(8);y(),b("ngIf",t.errors==null?null:t.errors.required),y(),b("ngIf",t.errors==null?null:t.errors.minlength)}}function BU(n,e){n&1&&(h(0,"span"),C(1,"Password is required."),f())}function $U(n,e){n&1&&(h(0,"span"),C(1,"Password must be at least 6 characters long."),f())}function HU(n,e){n&1&&(h(0,"span"),C(1,"Password must contain at least one capital letter."),f())}function zU(n,e){n&1&&(h(0,"span"),C(1,"Password must contain at least one special character."),f())}function qU(n,e){if(n&1&&(h(0,"div",14),N(1,BU,2,0,"span",11)(2,$U,2,0,"span",11)(3,HU,2,0,"span",11)(4,zU,2,0,"span",11),f()),n&2){M();let t=Dt(14);y(),b("ngIf",t.errors==null?null:t.errors.required),y(),b("ngIf",t.errors==null?null:t.errors.minlength),y(),b("ngIf",t.errors==null?null:t.errors.noCapitalLetter),y(),b("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function WU(n,e){n&1&&(h(0,"span"),C(1,"Email is required."),f())}function GU(n,e){n&1&&(h(0,"span"),C(1,"Please enter a valid email address."),f())}function KU(n,e){n&1&&(h(0,"span"),C(1,"This email is already registered."),f())}function YU(n,e){if(n&1&&(h(0,"div",14),N(1,WU,2,0,"span",11)(2,GU,2,0,"span",11)(3,KU,2,0,"span",11),f()),n&2){M();let t=Dt(4);y(),b("ngIf",t.errors==null?null:t.errors.required),y(),b("ngIf",t.errors==null?null:t.errors.email),y(),b("ngIf",t.errors==null?null:t.errors.emailTaken)}}function QU(n,e){n&1&&(h(0,"div",18),C(1," Checking email availability... "),f())}function ZU(n,e){if(n&1){let t=K();$t(0),h(1,"label",15),C(2,"Email:"),f(),h(3,"input",16,3),vn("ngModelChange",function(i){L(t);let o=M();return Vn(o.user.email,i)||(o.user.email=i),V(i)}),f(),N(5,YU,4,3,"div",8)(6,QU,2,0,"div",17),k(7,"br"),Ht()}if(n&2){let t=Dt(4),r=M();y(3),mn("ngModel",r.user.email),b("ngModelOptions",ys(5,LU))("ngModel",r.user.email),y(2),b("ngIf",t.touched&&t.invalid),y(),b("ngIf",t.pending)}}function JU(n,e){if(n&1&&(h(0,"p",14),C(1),f()),n&2){let t=M();y(),Mt(t.errorMessage)}}var LU,jc,gx=p(()=>{"use strict";T();St();ot();Si();Ie();Sn();dx();fx();hx();px();LU=()=>({updateOn:"change"});jc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=$(E({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(It),D(Ft))};static \u0275cmp=ee({type:n,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=K();h(0,"div",4)(1,"h4"),C(2),f(),h(3,"form",5,0),O("ngSubmit",function(){return L(i),V(r.onSubmit())}),h(5,"label",6),C(6,"Username:"),f(),h(7,"input",7,1),vn("ngModelChange",function(s){return L(i),Vn(r.user.username,s)||(r.user.username=s),V(s)}),f(),N(9,UU,5,2,"div",8),k(10,"br"),h(11,"label",9),C(12,"Password:"),f(),h(13,"input",10,2),vn("ngModelChange",function(s){return L(i),Vn(r.user.password,s)||(r.user.password=s),V(s)}),f(),N(15,qU,5,4,"div",8),k(16,"br"),N(17,ZU,8,6,"ng-container",11),h(18,"button",12),C(19),f(),h(20,"p"),C(21),h(22,"a",13),O("click",function(s){return L(i),r.toggleMode(),V(s.preventDefault())}),C(23),f()(),k(24,"br"),f(),N(25,JU,2,1,"p",8),f()}if(t&2){let i=Dt(4),o=Dt(8),s=Dt(14);y(2),Mt(r.isSignupMode?"Create an Account":"Sign In"),y(5),mn("ngModel",r.user.username),y(2),b("ngIf",o.touched&&o.invalid),y(4),mn("ngModel",r.user.password),y(2),b("ngIf",s.touched&&s.invalid),y(2),b("ngIf",r.isSignupMode),y(),b("disabled",i.invalid),y(),Oe(" ",r.isSignupMode?"Sign Up":"Log In"," "),y(2),Oe(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),y(2),Oe(" ",r.isSignupMode?"Sign in here":"Create an account"," "),y(2),b("ngIf",r.errorMessage)}},dependencies:[_e,Vf,Dn,pr,Rf,o_,s_,$r,n_,Gf,Kf,Yf,Qf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var bo,mx=p(()=>{"use strict";T();ot();St();we();Si();bo=(n,e)=>{let t=v(Ce),r=v(Te),i=v(It);return t.loggedInUser$.pipe(cn(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var Zf,vx=p(()=>{"use strict";T();Zf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(h(0,"html",0)(1,"head"),k(2,"meta",1)(3,"meta",2),h(4,"title"),C(5,"Privacy Policy - My Accounts App"),f(),k(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),C(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),C(19,"Effective Date:"),f(),C(20," 07/02/2025"),f(),h(21,"p"),C(22,"Welcome to "),h(23,"strong"),C(24,"My Accounts App"),f(),C(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),C(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),C(31,"Personal Information:"),f(),C(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),C(35,"Usage Data:"),f(),C(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),C(39,"Device Information:"),f(),C(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),C(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),C(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),C(47,"Personalize your experience."),f(),h(48,"li"),C(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),C(51,"Comply with legal requirements."),f()(),h(52,"h2"),C(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),C(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),C(59,"Service Providers:"),f(),C(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),C(63,"Legal Authorities:"),f(),C(64," When required by law or to protect our rights."),f()(),h(65,"h2"),C(66,"4. Data Retention & Security"),f(),h(67,"p"),C(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),C(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),C(73,"Access and review your personal data."),f(),h(74,"li"),C(75,"Request correction or deletion of your information."),f(),h(76,"li"),C(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),C(79,"6. Third-Party Links"),f(),h(80,"p"),C(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),C(83,"7. Changes to This Policy"),f(),h(84,"p"),C(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),C(87,"8. Contact Us"),f(),h(88,"p"),C(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),C(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:180px!important;height:100px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:180px!important;border-radius:5px!important}"]})}});function eB(n,e){if(n&1){let t=K();h(0,"user-list",6),O("remove",function(i){L(t);let o=M();return V(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;b("users",(t=r)!==null&&t!==void 0?t:ys(1,XU))}}function tB(n,e){if(n&1){let t=K();h(0,"div",7),O("clickOutsideCapture",function(){L(t);let i=M();return V(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),O("click",function(){L(t);let i=M();return V(i.closeChat("group"))}),C(3,"\xD7"),f(),k(4,"app-chat",10),f()()}n&2&&(y(4),b("chatType","group"))}function nB(n,e){if(n&1){let t=K();h(0,"div",11)(1,"div",8)(2,"span",9),O("click",function(){L(t);let i=M();return V(i.closeChat("private"))}),C(3,"\xD7"),f(),k(4,"app-chat",10),f()()}n&2&&(y(4),b("chatType","private"))}var XU,Ai,Jf=p(()=>{"use strict";T();Bs();we();St();js();T();XU=()=>[];Ai=class n{userService=v(Ce);socketService=v(wn);users$;destroyRef=v(kt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new de(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(qt(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new de(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(qt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-index"]],decls:8,vars:5,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","chat-modal",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType"],[1,"chat-modal"]],template:function(t,r){t&1&&(h(0,"section",0),k(1,"user-filter",1),N(2,eB,1,2,"user-list",2),yt(3,"async"),f(),h(4,"button",3),O("click",function(){return r.openChat("group")}),C(5,"Group Chat"),f(),N(6,tB,5,1,"div",4)(7,nB,5,1,"div",5)),t&2&&(y(2),b("ngIf",_t(3,3,r.users$)),y(4),b("ngIf",r.isGroupChatOpen),y(),b("ngIf",r.isPrivateChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background-color:#007bff}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.group-chat-btn[_ngcontent-%COMP%]{right:100px}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function iB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=M().ngIf;y(),Mt(t.username)}}function oB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=M().ngIf;y(),Oe("",t.username.substring(0,15),"...")}}function sB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=M().ngIf;y(),Mt(t.email)}}function aB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=M().ngIf;y(),Oe("",t.email.substring(0,20),"...")}}function cB(n,e){if(n&1){let t=K();h(0,"section",2)(1,"section",3)(2,"button",4),O("click",function(){L(t);let i=M();return V(i.onBack())}),k(3,"img",5),f(),h(4,"h1"),C(5,"User Details"),f()(),h(6,"div",6),k(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),C(11,"Username:"),f(),N(12,iB,2,1,"span",9)(13,oB,2,1,"span",9),f(),h(14,"p")(15,"strong"),C(16,"Email:"),f(),N(17,sB,2,1,"span",9)(18,aB,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=M();y(7),b("src",t.img?t.img:"../../../assets/images/contact.png",Xe),y(5),b("ngIf",!r.isLongField(t.username,15)),y(),b("ngIf",r.isLongField(t.username,15)),y(4),b("ngIf",!r.isLongField(t.email,20)),y(),b("ngIf",r.isLongField(t.email,20))}}var Xf,yx=p(()=>{"use strict";T();we();ot();St();T();Ie();ot();Xf=class n{router=v(Te);route=v(Ft);subscription;userService=v(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0),O("click",function(){return r.onBack()}),f(),N(1,cB,19,5,"section",1),yt(2,"async"),k(3,"router-outlet")),t&2&&(y(),b("ngIf",_t(2,1,r.user$)))},dependencies:[_e,$n,zt],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var _x,Cx=p(()=>{"use strict";T();St();we();zf();_x=(n,e)=>{let t=n.params.id,r=v(Pi),i=v(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getUserById(t).pipe(cn(250),fe(o=>(console.error("Error fetching user:",o),F(null))),Gt(()=>r.hide()))}});var lB,eh,bx=p(()=>{"use strict";ot();uI();tx();rx();ix();ax();gx();mx();vx();Jf();yx();Cx();T();lB=[{path:"contact",component:Bf,canActivate:[bo],children:[{path:"edit",component:Vc,canActivate:[bo]},{path:"edit/:id",component:Vc,resolve:{contact:a_},canActivate:[bo]}]},{path:"contact/:id",component:Hf,outlet:"modal",resolve:{contact:a_},canActivate:[bo]},{path:"login",component:jc},{path:"signup",component:jc},{path:"privacy-policy",component:Zf},{path:"users",component:Ai,canActivate:[bo]},{path:"user/:id",component:Xf,outlet:"modal",resolve:{user:_x},canActivate:[bo]},{path:"",component:wf}],eh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ye({type:n});static \u0275inj=Ke({imports:[py.forRoot(lB,{useHash:!1}),py]})}});function fB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function nh(){try{return typeof indexedDB=="object"}catch{return!1}}function rh(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function Sx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function yB(n,e){return n.replace(_B,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function ih(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(wx(o)&&wx(s)){if(!ih(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function wx(n){return n!==null&&typeof n=="object"}function oh(n){return n&&n._delegate?n._delegate:n}var Ex,uB,Dx,u_,dB,d_,Mx,hB,pB,gB,mB,f_,th,vB,Hr,zr,_B,yee,Js=p(()=>{"use strict";Ex=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[u],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ex(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new u_;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let _=l<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},u_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dB=function(n){let e=Ex(n);return Dx.encodeByteArray(e,!0)},d_=function(n){return dB(n).replace(/\./g,"")},Mx=function(n){try{return Dx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};hB=()=>fB().__FIREBASE_DEFAULTS__,pB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Mx(n[1]);return e&&JSON.parse(e)},mB=()=>{try{return hB()||pB()||gB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},f_=()=>{var n;return(n=mB())===null||n===void 0?void 0:n.config};th=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};vB="FirebaseError",Hr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}},zr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?yB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Hr(i,a,r)}};_B=/\{\$([^}]+)}/g;yee=4*60*60*1e3;});function CB(n){return n===wo?void 0:n}function bB(n){return n.instantiationMode==="EAGER"}var nn,wo,h_,sh,ah=p(()=>{"use strict";Js();nn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};wo="[DEFAULT]";h_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new th;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bB(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};sh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new h_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var wB,Be,EB,DB,MB,SB,ch,Ix=p(()=>{"use strict";wB=[],Be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Be||{}),EB={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},DB=Be.INFO,MB={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},SB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=MB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ch=class{constructor(e){this.name=e,this._logLevel=DB,this._logHandler=SB,this._userLogHandler=null,wB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}});function xB(){return xx||(xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OB(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function TB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Wn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Tx.set(t,n)}).catch(()=>{}),v_.set(e,n),e}function PB(n){if(g_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});g_.set(n,e)}function Ax(n){m_=n(m_)}function AB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(lh(this),e,...t);return Px.set(r,e.sort?e.sort():[e]),Wn(r)}:OB().includes(n)?function(...e){return n.apply(lh(this),e),Wn(Tx.get(this))}:function(...e){return Wn(n.apply(lh(this),e))}}function NB(n){return typeof n=="function"?AB(n):(n instanceof IDBTransaction&&PB(n),IB(n,xB())?new Proxy(n,m_):n)}function Wn(n){if(n instanceof IDBRequest)return TB(n);if(p_.has(n))return p_.get(n);let e=NB(n);return e!==n&&(p_.set(n,e),v_.set(e,n)),e}var IB,xx,Ox,Tx,g_,Px,p_,v_,m_,lh,y_=p(()=>{"use strict";IB=(n,e)=>e.some(t=>n instanceof t);Tx=new WeakMap,g_=new WeakMap,Px=new WeakMap,p_=new WeakMap,v_=new WeakMap;m_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return g_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Px.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};lh=n=>v_.get(n)});function Eo(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Wn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Wn(s.result),c.oldVersion,c.newVersion,Wn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function uh(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Wn(t).then(()=>{})}function Nx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(__.get(e))return __.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=RB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kB.includes(t)))return;let o=function(s,...a){return x(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return __.set(e,o),o}var kB,RB,__,dh=p(()=>{"use strict";y_();y_();kB=["get","getKey","getAll","getAllKeys","count"],RB=["put","add","delete","clear"],__=new Map;Ax(n=>$(E({},n),{get:(e,t,r)=>Nx(e,t)||n.get(e,t,r),has:(e,t)=>!!Nx(e,t)||n.has(e,t)}))});function LB(n){let e=n.getComponent();return e?.type==="VERSION"}function Rx(n,e){try{n.container.addComponent(e)}catch(t){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wr(n){let e=n.name;if(D_.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;D_.set(e,n);for(let t of fh.values())Rx(t,n);for(let t of d$.values())Rx(t,n);return!0}function Bc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function x_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:E_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(t||(t=f_()),!t)throw Ni.create("no-options");let o=fh.get(i);if(o){if(ih(t,o.options)&&ih(r,o.config))return o;throw Ni.create("duplicate-app",{appName:i})}let s=new sh(i);for(let c of D_.values())s.addComponent(c);let a=new M_(t,r,s);return fh.set(i,a),a}function O_(n=E_){let e=fh.get(n);if(!e&&n===E_&&f_())return x_();if(!e)throw Ni.create("no-app",{appName:n});return e}function Gn(n,e,t){var r;let i=(r=u$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}Wr(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jx(){return C_||(C_=Eo(h$,p$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ni.create("idb-open",{originalErrorMessage:n.message})})),C_}function g$(n){return x(this,null,function*(){try{let t=(yield jx()).transaction(Uc),r=yield t.objectStore(Uc).get(Ux(n));return yield t.done,r}catch(e){if(e instanceof Hr)qr.warn(e.message);else{let t=Ni.create("idb-get",{originalErrorMessage:e?.message});qr.warn(t.message)}}})}function Fx(n,e){return x(this,null,function*(){try{let r=(yield jx()).transaction(Uc,"readwrite");yield r.objectStore(Uc).put(e,Ux(n)),yield r.done}catch(t){if(t instanceof Hr)qr.warn(t.message);else{let r=Ni.create("idb-set",{originalErrorMessage:t?.message});qr.warn(r.message)}}})}function Ux(n){return`${n.name}!${n.options.appId}`}function Lx(){return new Date().toISOString().substring(0,10)}function y$(n,e=m$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Vx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Vx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function Vx(n){return d_(JSON.stringify({version:2,heartbeats:n})).length}function _$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function C$(n){Wr(new nn("platform-logger",e=>new b_(e),"PRIVATE")),Wr(new nn("heartbeat",e=>new S_(e),"PRIVATE")),Gn(w_,kx,n),Gn(w_,kx,"esm2017"),Gn("fire-js","")}var b_,w_,kx,qr,VB,jB,UB,BB,$B,HB,zB,qB,WB,GB,KB,YB,QB,ZB,JB,XB,e$,t$,n$,r$,i$,o$,s$,a$,c$,l$,E_,u$,fh,d$,D_,f$,Ni,M_,h$,p$,Uc,C_,m$,v$,S_,I_,$c=p(()=>{"use strict";ah();Ix();Js();Js();dh();b_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};w_="@firebase/app",kx="0.11.0";qr=new ch("@firebase/app"),VB="@firebase/app-compat",jB="@firebase/analytics-compat",UB="@firebase/analytics",BB="@firebase/app-check-compat",$B="@firebase/app-check",HB="@firebase/auth",zB="@firebase/auth-compat",qB="@firebase/database",WB="@firebase/data-connect",GB="@firebase/database-compat",KB="@firebase/functions",YB="@firebase/functions-compat",QB="@firebase/installations",ZB="@firebase/installations-compat",JB="@firebase/messaging",XB="@firebase/messaging-compat",e$="@firebase/performance",t$="@firebase/performance-compat",n$="@firebase/remote-config",r$="@firebase/remote-config-compat",i$="@firebase/storage",o$="@firebase/storage-compat",s$="@firebase/firestore",a$="@firebase/vertexai",c$="@firebase/firestore-compat",l$="firebase";E_="[DEFAULT]",u$={[w_]:"fire-core",[VB]:"fire-core-compat",[UB]:"fire-analytics",[jB]:"fire-analytics-compat",[$B]:"fire-app-check",[BB]:"fire-app-check-compat",[HB]:"fire-auth",[zB]:"fire-auth-compat",[qB]:"fire-rtdb",[WB]:"fire-data-connect",[GB]:"fire-rtdb-compat",[KB]:"fire-fn",[YB]:"fire-fn-compat",[QB]:"fire-iid",[ZB]:"fire-iid-compat",[JB]:"fire-fcm",[XB]:"fire-fcm-compat",[e$]:"fire-perf",[t$]:"fire-perf-compat",[n$]:"fire-rc",[r$]:"fire-rc-compat",[i$]:"fire-gcs",[o$]:"fire-gcs-compat",[s$]:"fire-fst",[c$]:"fire-fst-compat",[a$]:"fire-vertex","fire-js":"fire-js",[l$]:"fire-js-all"};fh=new Map,d$=new Map,D_=new Map;f$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new zr("app","Firebase",f$);M_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}};h$="firebase-heartbeat-database",p$=1,Uc="firebase-heartbeat-store",C_=null;m$=1024,v$=30,S_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new I_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Lx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>v$){let s=_$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qr.warn(r)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Lx(),{heartbeatsToSend:r,unsentEntries:i}=y$(this._heartbeatsCache.heartbeats),o=d_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qr.warn(t),""}})}};I_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return nh()?rh().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield g$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Fx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Fx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};C$("")});var b$,w$,Bx=p(()=>{"use strict";$c();$c();b$="firebase",w$="11.3.0";Gn(b$,w$,"app")});function Kx(n){return n instanceof Hr&&n.code.includes("request-failed")}function Yx({projectId:n}){return`${E$}/projects/${n}/installations`}function Qx(n){return{token:n.token,requestStatus:2,expiresIn:O$(n.expiresIn),creationTime:Date.now()}}function Zx(n,e){return x(this,null,function*(){let r=(yield e.json()).error;return Mo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Jx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function x$(n,{refreshToken:e}){let t=Jx(n);return t.append("Authorization",T$(e)),t}function Xx(n){return x(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function O$(n){return Number(n.replace("s","000"))}function T$(n){return`${Gx} ${n}`}function P$(r,i){return x(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=Yx(n),s=Jx(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:Gx,appId:n.appId,sdkVersion:Wx},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Xx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:Qx(d.authToken)}}else throw yield Zx("Create Installation",u)})}function eO(n){return new Promise(e=>{setTimeout(e,n)})}function A$(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function k$(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=R$(n);return N$.test(t)?t:A_}catch{return A_}}function R$(n){return A$(n).substr(0,22)}function ph(n){return`${n.appName}!${n.appId}`}function nO(n,e){let t=ph(n);rO(t,e),F$(t,e)}function rO(n,e){let t=tO.get(n);if(t)for(let r of t)r(e)}function F$(n,e){let t=L$();t&&t.postMessage({key:n,fid:e}),V$()}function L$(){return!Do&&"BroadcastChannel"in self&&(Do=new BroadcastChannel("[Firebase] FID Change"),Do.onmessage=n=>{rO(n.data.key,n.data.fid)}),Do}function V$(){tO.size===0&&Do&&(Do.close(),Do=null)}function k_(){return T_||(T_=Eo(j$,U$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(So)}}})),T_}function hh(n,e){return x(this,null,function*(){let t=ph(n),i=(yield k_()).transaction(So,"readwrite"),o=i.objectStore(So),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&nO(n,e.fid),e})}function iO(n){return x(this,null,function*(){let e=ph(n),r=(yield k_()).transaction(So,"readwrite");yield r.objectStore(So).delete(e),yield r.done})}function gh(n,e){return x(this,null,function*(){let t=ph(n),i=(yield k_()).transaction(So,"readwrite"),o=i.objectStore(So),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&nO(n,a.fid),a})}function R_(n){return x(this,null,function*(){let e,t=yield gh(n.appConfig,r=>{let i=B$(r),o=$$(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===A_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function B$(n){let e=n||{fid:k$(),registrationStatus:0};return oO(e)}function $$(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Mo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=H$(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:z$(n)}:{installationEntry:e}}function H$(n,e){return x(this,null,function*(){try{let t=yield P$(n,e);return hh(n.appConfig,t)}catch(t){throw Kx(t)&&t.customData.serverCode===409?yield iO(n.appConfig):yield hh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function z$(n){return x(this,null,function*(){let e=yield $x(n.appConfig);for(;e.registrationStatus===1;)yield eO(100),e=yield $x(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield R_(n);return r||t}return e})}function $x(n){return gh(n,e=>{if(!e)throw Mo.create("installation-not-found");return oO(e)})}function oO(n){return q$(n)?{fid:n.fid,registrationStatus:0}:n}function q$(n){return n.registrationStatus===1&&n.registrationTime+qx<Date.now()}function W$(r,i){return x(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=G$(n,t),s=x$(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:Wx,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Xx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return Qx(d)}else throw yield Zx("Generate Auth Token",u)})}function G$(n,{fid:e}){return`${Yx(n)}/${e}/authTokens:generate`}function F_(n,e=!1){return x(this,null,function*(){let t,r=yield gh(n.appConfig,o=>{if(!sO(o))throw Mo.create("not-registered");let s=o.authToken;if(!e&&Q$(s))return o;if(s.requestStatus===1)return t=K$(n,e),o;{if(!navigator.onLine)throw Mo.create("app-offline");let a=J$(o);return t=Y$(n,a),a}});return t?yield t:r.authToken})}function K$(n,e){return x(this,null,function*(){let t=yield Hx(n.appConfig);for(;t.authToken.requestStatus===1;)yield eO(100),t=yield Hx(n.appConfig);let r=t.authToken;return r.requestStatus===0?F_(n,e):r})}function Hx(n){return gh(n,e=>{if(!sO(e))throw Mo.create("not-registered");let t=e.authToken;return X$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Y$(n,e){return x(this,null,function*(){try{let t=yield W$(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield hh(n.appConfig,r),t}catch(t){if(Kx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield iO(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hh(n.appConfig,r)}throw t}})}function sO(n){return n!==void 0&&n.registrationStatus===2}function Q$(n){return n.requestStatus===2&&!Z$(n)}function Z$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+D$}function J$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function X$(n){return n.requestStatus===1&&n.requestTime+qx<Date.now()}function e3(n){return x(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield R_(e);return r?r.catch(console.error):F_(e).catch(console.error),t.fid})}function t3(n,e=!1){return x(this,null,function*(){let t=n;return yield n3(t),(yield F_(t,e)).token})}function n3(n){return x(this,null,function*(){let{registrationPromise:e}=yield R_(n);e&&(yield e)})}function r3(n){if(!n||!n.options)throw P_("App Configuration");if(!n.name)throw P_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw P_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function P_(n){return Mo.create("missing-app-config-values",{valueName:n})}function a3(){Wr(new nn(aO,o3,"PUBLIC")),Wr(new nn(i3,s3,"PRIVATE"))}var zx,N_,qx,Wx,Gx,E$,D$,M$,S$,I$,Mo,N$,A_,tO,Do,j$,U$,So,T_,aO,i3,o3,s3,cO=p(()=>{"use strict";$c();ah();Js();dh();zx="@firebase/installations",N_="0.6.12";qx=1e4,Wx=`w:${N_}`,Gx="FIS_v2",E$="https://firebaseinstallations.googleapis.com/v1",D$=60*60*1e3,M$="installations",S$="Installations";I$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Mo=new zr(M$,S$,I$);N$=/^[cdef][\w-]{21}$/,A_="";tO=new Map;Do=null;j$="firebase-installations-database",U$=1,So="firebase-installations-store",T_=null;aO="installations",i3="installations-internal",o3=n=>{let e=n.getProvider("app").getImmediate(),t=r3(e),r=Bc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},s3=n=>{let e=n.getProvider("app").getImmediate(),t=Bc(e,aO).getImmediate();return{getId:()=>e3(t),getToken:i=>t3(t,i)}};a3();Gn(zx,N_);Gn(zx,N_,"esm2017")});function Gr(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p3(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function m3(n){return x(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(L_))return null;let e=null;return(yield Eo(L_,g3,{upgrade:(r,i,o,s)=>x(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(uO))return;let c=s.objectStore(uO),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Gr(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gr(u.auth),p256dh:Gr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gr(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gr(u.auth),p256dh:Gr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gr(u.vapidKey)}}}}})})).close(),yield uh(L_),yield uh("fcm_vapid_details_db"),yield uh("undefined"),v3(e)?e:null})}function v3(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function vO(){return V_||(V_=Eo(y3,_3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hc)}}})),V_}function C3(n){return x(this,null,function*(){let e=yO(n),r=yield(yield vO()).transaction(Hc).objectStore(Hc).get(e);if(r)return r;{let i=yield m3(n.appConfig.senderId);if(i)return yield B_(n,i),i}})}function B_(n,e){return x(this,null,function*(){let t=yO(n),i=(yield vO()).transaction(Hc,"readwrite");return yield i.objectStore(Hc).put(e,t),yield i.done,e})}function yO({appConfig:n}){return n.appId}function w3(n,e){return x(this,null,function*(){let t=yield H_(n),r=_O(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch($_(n.appConfig),i)).json()}catch(s){throw Ot.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Ot.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Ot.create("token-subscribe-no-token");return o.token})}function E3(n,e){return x(this,null,function*(){let t=yield H_(n),r=_O(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${$_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Ot.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Ot.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Ot.create("token-update-no-token");return o.token})}function D3(n,e){return x(this,null,function*(){let r={method:"DELETE",headers:yield H_(n)};try{let o=yield(yield fetch(`${$_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw Ot.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Ot.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function $_({projectId:n}){return`${u3}/projects/${n}/registrations`}function H_(t){return x(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function _O({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==gO&&(i.web.applicationPubKey=r),i}function S3(n){return x(this,null,function*(){let e=yield x3(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Gr(e.getKey("auth")),p256dh:Gr(e.getKey("p256dh"))},r=yield C3(n.firebaseDependencies);if(r){if(O3(r.subscriptionOptions,t))return Date.now()>=r.createTime+M3?I3(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield D3(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return dO(n.firebaseDependencies,t)}else return dO(n.firebaseDependencies,t)})}function I3(n,e){return x(this,null,function*(){try{let t=yield E3(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield B_(n.firebaseDependencies,r),t}catch(t){throw t}})}function dO(n,e){return x(this,null,function*(){let r={token:yield w3(n,e),createTime:Date.now(),subscriptionOptions:e};return yield B_(n,r),r.token})}function x3(n,e){return x(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p3(e)})})}function O3(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function fO(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return T3(e,n),P3(e,n),A3(e,n),e}function T3(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function P3(n,e){e.data&&(n.data=e.data)}function A3(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function N3(n){return typeof n=="object"&&!!n&&mO in n}function k3(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function R3(n){if(!n||!n.options)throw j_("App Configuration Object");if(!n.name)throw j_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw j_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function j_(n){return Ot.create("missing-app-config-values",{valueName:n})}function F3(n){return x(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(c3,{scope:l3}),n.swRegistration.update().catch(()=>{}),yield L3(n.swRegistration)}catch(e){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function L3(n){return x(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${lO} ms`)),lO),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function V3(n,e){return x(this,null,function*(){if(!e&&!n.swRegistration&&(yield F3(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");n.swRegistration=e}})}function j3(n,e){return x(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=gO)})}function CO(n,e){return x(this,null,function*(){if(!navigator)throw Ot.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Ot.create("permission-blocked");return yield j3(n,e?.vapidKey),yield V3(n,e?.serviceWorkerRegistration),S3(n)})}function U3(n,e,t){return x(this,null,function*(){let r=B3(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[mO],message_name:t[d3],message_time:t[f3],message_device_time:Math.floor(Date.now()/1e3)})})}function B3(n){switch(n){case mh.NOTIFICATION_CLICKED:return"notification_open";case mh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $3(n,e){return x(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===mh.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(fO(t)):n.onMessageHandler.next(fO(t)));let r=t.data;N3(r)&&r[h3]==="1"&&(yield U3(n,t.messageType,r))})}function q3(){Wr(new nn("messaging",H3,"PUBLIC")),Wr(new nn("messaging-internal",z3,"PRIVATE")),Gn(hO,pO),Gn(hO,pO,"esm2017")}function W3(){return x(this,null,function*(){try{yield rh()}catch{return!1}return typeof window<"u"&&nh()&&Sx()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function G3(n,e){if(!navigator)throw Ot.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function bO(n=O_()){return W3().then(e=>{if(!e)throw Ot.create("unsupported-browser")},e=>{throw Ot.create("indexed-db-unsupported")}),Bc(oh(n),"messaging").getImmediate()}function wO(n,e){return x(this,null,function*(){return n=oh(n),CO(n,e)})}function EO(n,e){return n=oh(n),G3(n,e)}var c3,l3,gO,u3,mO,d3,f3,h3,lO,mh,L_,g3,uO,y3,_3,Hc,V_,b3,Ot,M3,U_,hO,pO,H3,z3,DO=p(()=>{"use strict";cO();ah();dh();Js();$c();c3="/firebase-messaging-sw.js",l3="/firebase-cloud-messaging-push-scope",gO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",u3="https://fcmregistrations.googleapis.com/v1",mO="google.c.a.c_id",d3="google.c.a.c_l",f3="google.c.a.ts",h3="google.c.a.e",lO=1e4;mh=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(mh||{});L_="fcm_token_details_db",g3=5,uO="fcm_token_object_Store";y3="firebase-messaging-database",_3=1,Hc="firebase-messaging-store",V_=null;b3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ot=new zr("messaging","Messaging",b3);M3=7*24*60*60*1e3;k3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");U_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=R3(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};hO="@firebase/messaging",pO="0.12.16";H3=n=>{let e=new U_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>$3(e,t)),e},z3=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>CO(e,r)}};q3()});var MO=p(()=>{"use strict";DO()});function K3(n){return zi(()=>it(new Error(n)))}function Y3(n,e,t,r){return()=>{if(!(Md(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(ye),o=n.get(yn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=F(null);break;case"registerWithDelay":s=IO(+c[0]||0);break;case"registerWhenStable":let l=W(n.get(yn).whenStable());s=c[0]?Bl(l,IO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function IO(n){return F(null).pipe(cn(n))}function Q3(n,e){return new Xs(Md(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function Z3(n,e={}){return ds([vh,yh,{provide:SO,useValue:n},{provide:zc,useValue:e},{provide:Xs,useFactory:Q3,deps:[zc,Yt]},{provide:_s,useFactory:Y3,deps:[Ze,SO,zc,Yt],multi:!0}])}var qc,Xs,vh,yh,SO,zc,xO,z_=p(()=>{"use strict";T();T();Ie();we();Xr();qc="Service workers are disabled or not supported by this browser";Xs=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=K3(qc);else{let r=Wo(e,"controllerchange").pipe(j(()=>e.controller)),i=zi(()=>F(e.controller)),o=Jn(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(ke(()=>e.getRegistration()));let l=Wo(e,"message").pipe(j(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(qp());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(be(1),te(r=>{r.postMessage(E({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),be(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},vh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ge,!t.isEnabled){this.messages=qi,this.notificationClicks=qi,this.subscription=qi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(ke(i=>i.getSubscription()));this.subscription=Bl(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(qc));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(ke(s=>s.subscribe(r)),be(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(qc));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),ke(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Xs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),yh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=qi,this.unrecoverable=qi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(qc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(qc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(A(Xs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();SO=new R("");zc=class{};xO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[Z3(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:[vh,yh]})}}return n})()});var ea,q_=p(()=>{"use strict";we();cc();T();z_();La();ta();ea=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return x(this,null,function*(){try{let e=yield Hi(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return x(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield Hi(this.http.post(`${ht.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return x(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",{title:e.title,body:e.body});try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Sending notification to server");let r=yield Hi(this.http.post(`${ht.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return x(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return x(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield Hi(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return x(this,null,function*(){try{let e=yield Hi(this.http.get(`${ht.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(A(vh),A(fo),A(yh),A(In))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var e4,In,ta=p(()=>{"use strict";T();Bx();MO();we();q_();St();T();e4={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},In=class n{messaging;fcmToken={};tokenSubject=new de(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=v(Ze);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=x_(e4);this.messaging=bO(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(ea)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return x(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return x(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return x(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield wO(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){EO(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return x(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var _h,TO=p(()=>{"use strict";T();_h=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ch,PO=p(()=>{"use strict";T();ta();Ch=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return x(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>x(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(A(In))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function n4(n,e){n&1&&($t(0),h(1,"a",15),C(2,"Login"),f(),h(3,"a",16),C(4,"Sign Up"),f(),Ht())}function r4(n,e){if(n&1&&($t(0),k(1,"img",19),Ht()),n&2){let t=M(2);y(),b("src",t.loggedInUser==null?null:t.loggedInUser.img,Xe)}}function i4(n,e){if(n&1&&C(0),n&2){let t=M(2);Oe(" ",t.getUserInitial()," ")}}function o4(n,e){if(n&1){let t=K();h(0,"div",17),O("click",function(){L(t);let i=M();return V(i.toggleUpload=!i.toggleUpload)}),N(1,r4,2,1,"ng-container",13)(2,i4,1,1,"ng-template",null,1,cr),f(),h(4,"button",18),O("click",function(){L(t);let i=M();return V(i.onLogout())}),C(5,"Logout"),f()}if(n&2){let t=Dt(3),r=M();y(),b("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function s4(n,e){if(n&1){let t=K();h(0,"div")(1,"image-upload",20),O("imageUploaded",function(i){L(t);let o=M();return V(o.onImageUploaded(i))}),f()()}}var t4,bh,AO=p(()=>{"use strict";T();St();ot();Si();Ie();c_();t4=()=>({exact:!0});bh=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=$(E({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(It))};static \u0275cmp=ee({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(h(0,"header")(1,"div",2),k(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),k(6,"img",6),f(),h(7,"a",7),k(8,"img",8),f(),h(9,"a",9),k(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),N(13,n4,5,0,"ng-container",13)(14,o4,6,2,"ng-template",null,0,cr),f()(),N(16,s4,2,0,"div",14),f()),t&2){let i=Dt(15);y(5),b("routerLinkActiveOptions",ys(4,t4)),y(8),b("ngIf",!r.loggedInUser)("ngIfElse",i),y(3),b("ngIf",r.toggleUpload)}},dependencies:[_e,bn,uS,Zs],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function c4(n,e){n&1&&(h(0,"div",1),k(1,"div",2),f())}var wh,NO=p(()=>{"use strict";T();zf();Ie();wh=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Pi))};static \u0275cmp=ee({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(N(0,c4,2,0,"div",0),yt(1,"async")),t&2&&b("ngIf",_t(1,1,r.isLoading))},dependencies:[_e,zt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function u4(n,e){if(n&1){let t=K();h(0,"section")(1,"h4"),C(2),f(),h(3,"button",1),O("click",function(){L(t);let i=M();return V(i.onCloseMsg())}),C(4,"X"),f()()}if(n&2){let t=e.ngIf;CD("msg ",t.type,""),b("@toggleMsg",void 0),y(2),Mt(t.txt)}}var Eh,kO=p(()=>{"use strict";we();bf();T();Si();Ie();Eh=class n{constructor(e){this.msgService=e}msg$=F(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(It))};static \u0275cmp=ee({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(N(0,u4,5,5,"section",0),yt(1,"async")),t&2&&b("ngIf",_t(1,1,r.msg$))},dependencies:[_e,zt],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[_f("toggleMsg",[Ic(":enter",[qn({transform:"translateY(-100%)"}),Sc("0.3s ease-in-out",qn({transform:"translateY(0%)"}))]),Ic(":leave",[qn({transform:"translateY(0%)"}),Sc("0.3s ease-in-out",qn({transform:"translateY(-100%)"}))])])]}})}});function f4(n,e){if(n&1){let t=K();h(0,"button",4),O("click",function(){L(t);let i=M();return V(i.installPWA())}),C(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}var Dh,RO=p(()=>{"use strict";T();we();Ur();ta();TO();PO();St();js();T();Ie();ot();AO();NO();kO();Dh=class n{title="MyAccounts";contactService=v(Ct);firebaseService=v(In);pwaService=v(_h);notificationMobileService=v(Ch);userService=v(Ce);socketService=v(wn);subscription;idleTimer;idleTime=0;idleMaxTime=600;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){this.subscription=this.contactService.loadContacts().pipe(be(1)).subscribe({error:e=>console.log("err:",e)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>x(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let e=yield this.firebaseService.getFCMToken();e?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",e):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",e=>{e.data&&e.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",e.data.token),this.userService.restoreLoginToken(e.data.token)),e.data&&e.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let e=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-e<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(e=>{e&&console.log("\u{1F511} FCM Token received (on init):",e)}),this.firebaseService.getTokenObservable().subscribe(e=>{e&&console.log("\u{1F511} FCM Token received:",e)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(h(0,"main",0),k(1,"app-header"),h(2,"div",1),N(3,f4,2,0,"button",2),f(),k(4,"router-outlet")(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),k(8,"msg")),t&2&&(y(3),b("ngIf",r.showInstallButton))},dependencies:[_e,$n,bh,wh,Eh],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:2em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function FO(n){return new S(3e3,!1)}function h4(){return new S(3100,!1)}function p4(){return new S(3101,!1)}function g4(n){return new S(3001,!1)}function m4(n){return new S(3003,!1)}function v4(n){return new S(3004,!1)}function y4(n,e){return new S(3005,!1)}function _4(){return new S(3006,!1)}function C4(){return new S(3007,!1)}function b4(n,e){return new S(3008,!1)}function w4(n){return new S(3002,!1)}function E4(n,e,t,r,i){return new S(3010,!1)}function D4(){return new S(3011,!1)}function M4(){return new S(3012,!1)}function S4(){return new S(3200,!1)}function I4(){return new S(3202,!1)}function x4(){return new S(3013,!1)}function O4(n){return new S(3014,!1)}function T4(n){return new S(3015,!1)}function P4(n){return new S(3016,!1)}function A4(n,e){return new S(3404,!1)}function N4(n){return new S(3502,!1)}function k4(n){return new S(3503,!1)}function R4(){return new S(3300,!1)}function F4(n){return new S(3504,!1)}function L4(n){return new S(3301,!1)}function V4(n,e){return new S(3302,!1)}function j4(n){return new S(3303,!1)}function U4(n,e){return new S(3400,!1)}function B4(n){return new S(3401,!1)}function $4(n){return new S(3402,!1)}function H4(n,e){return new S(3505,!1)}function ki(n){switch(n.length){case 0:return new Mi;case 1:return n[0];default:return new Mc(n)}}function QO(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let _=g,w=m;if(g!=="offset")switch(_=n.normalizePropertyName(_,i),w){case Cf:w=t.get(g);break;case hr:w=r.get(g);break;default:w=n.normalizeStyleValue(g,_,w,i);break}d.set(_,w)}),u||o.push(d),a=d,s=l}),i.length)throw N4(i);return o}function p0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&W_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&W_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&W_(t,"destroy",n)));break}}function W_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=g0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function g0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function on(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function LO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function m0(n){let e=n.parentNode||n.host||null;return e===z4?null:e}function q4(n){return n.substring(1,6)=="ebkit"}function W4(n){Io||(Io=G4()||{},VO=Io.style?"WebkitAppearance"in Io.style:!1);let e=!0;return Io.style&&!q4(n)&&(e=n in Io.style,!e&&VO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Io.style)),e}function G4(){return typeof document<"u"?document.body:null}function ZO(n,e){for(;e;){if(e===n)return!0;e=m0(e)}return!1}function JO(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Kr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:e0(parseFloat(e[1]),e[2])}function e0(n,e){switch(e){case"s":return n*K4;default:return n}}function Ph(n,e,t){return n.hasOwnProperty("duration")?n:Q4(n,e,t)}function Q4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(FO(n)),{duration:0,delay:0,easing:""};i=e0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=e0(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(h4()),a=!0),o<0&&(e.push(p4()),a=!0),a&&e.splice(c,0,FO(n))}return{duration:i,delay:o,easing:s}}function Z4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function gr(n,e,t){e.forEach((r,i)=>{let o=y0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Oo(n,e){e.forEach((t,r)=>{let i=y0(r);n.style[i]=""})}function Wc(n){return Array.isArray(n)?n.length==1?n[0]:cI(n):n}function J4(n,e,t){let r=e.params||{},i=tT(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(g4(o))})}function tT(n){let e=[];if(typeof n=="string"){let t;for(;t=t0.exec(n);)e.push(t[1]);t0.lastIndex=0}return e}function Kc(n,e,t){let r=`${n}`,i=r.replace(t0,(o,s)=>{let a=e[s];return a==null&&(t.push(m4(s)),a=""),a.toString()});return i==r?n:i}function y0(n){return n.replace(X4,(...e)=>e[1].toUpperCase())}function e5(n,e){return n===0||e===0}function t5(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,_0(n,a)))}}return e}function rn(n,e,t){switch(e.type){case ne.Trigger:return n.visitTrigger(e,t);case ne.State:return n.visitState(e,t);case ne.Transition:return n.visitTransition(e,t);case ne.Sequence:return n.visitSequence(e,t);case ne.Group:return n.visitGroup(e,t);case ne.Animate:return n.visitAnimate(e,t);case ne.Keyframes:return n.visitKeyframes(e,t);case ne.Style:return n.visitStyle(e,t);case ne.Reference:return n.visitReference(e,t);case ne.AnimateChild:return n.visitAnimateChild(e,t);case ne.AnimateRef:return n.visitAnimateRef(e,t);case ne.Query:return n.visitQuery(e,t);case ne.Stagger:return n.visitStagger(e,t);default:throw v4(e.type)}}function _0(n,e){return window.getComputedStyle(n)[e]}function r5(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>i5(r,t,e)):t.push(n),t}function i5(n,e,t){if(n[0]==":"){let c=o5(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(T4(n)),e;let i=r[1],o=r[2],s=r[3];e.push(UO(i,s));let a=i==Nh&&s==Nh;o[0]=="<"&&!a&&e.push(UO(s,i))}function o5(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(P4(n)),"* => *"}}function UO(n,e){let t=Sh.has(n)||Ih.has(n),r=Sh.has(e)||Ih.has(e);return(i,o)=>{let s=n==Nh||n==i,a=e==Nh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Sh.has(n):Ih.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Sh.has(e):Ih.has(e)),s&&a}}function rT(n,e,t,r){return new n0(n).build(e,t,r)}function a5(n){let e=!!n.split(/\s*,\s*/).find(t=>t==nT);return e&&(n=n.replace(s5,"")),n=n.replace(/@\*/g,Th).replace(/@\w+/g,t=>Th+"-"+t.slice(1)).replace(/:animating/g,X_),[n,e]}function c5(n){return n?E({},n):null}function l5(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function u5(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Ph(n,e).duration;return G_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=G_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Ph(t,e);return G_(i.duration,i.delay,i.easing)}function xo(n){return n?(n=E({},n),n.params&&(n.params=c5(n.params))):n={},n}function G_(n,e,t){return{duration:n,delay:e,easing:t}}function C0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function iT(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new i0().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function $O(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function m5(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,hr)}else for(let[o,s]of i)t.set(o,s)}),t}function HO(n,e,t,r,i,o,s,a,c,l,u,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function v5(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function oT(n,e){let t=E({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function y5(n,e,t){return new c0(n,e,t)}function _5(n,e,t){let r=[(s,a)=>!0],i={type:ne.Sequence,steps:[],options:null},o={type:ne.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Fh(n,o,e)}function zO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function I5(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function x5(n){return n??null}function xh(n){return n&&n.nodeType===1}function O5(n){return n=="start"||n=="done"}function WO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function GO(n,e,t,r,i){let o=[];t.forEach(c=>o.push(WO(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[Kn]=S5,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>WO(c,o[a++])),s}function KO(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function xn(n,e){n.classList?.add(e)}function na(n,e){n.classList?.remove(e)}function T5(n,e,t){ki(t).onDone(()=>n.processLeaveNode(e))}function P5(n){let e=[];return aT(n,e),e}function aT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Mc?aT(r.players,e):e.push(r)}}function A5(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function YO(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function N5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Z_(e[0]),e.length>1&&(r=Z_(e[e.length-1]))):e instanceof Map&&(t=Z_(e)),t||r?new f0(n,t,r):null}function Z_(n){let e=null;return n.forEach((t,r)=>{k5(r)&&(e=e||new Map,e.set(r,t))}),e}function k5(n){return n==="display"||n==="position"}function R5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function F5(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var z4,Io,VO,v0,To,Po,K4,XO,Y4,eT,J_,Mh,Th,jO,X_,t0,X4,n5,Ah,Nh,Sh,Ih,nT,s5,BO,n0,r0,Yc,d5,f5,h5,p5,g5,i0,kh,o0,Rh,s0,K_,Fh,a0,c0,C5,l0,qO,b5,Y_,w5,E5,D5,M5,sT,S5,Kn,Qc,Gc,Q_,u0,d0,Zc,ra,f0,Lh,Vh,Oh,cT,jh,h0,Uh,b0=p(()=>{"use strict";bf();T();T();z4=typeof document>"u"?null:document.documentElement;Io=null,VO=!1;v0=(()=>{class n{validateStyleProperty(t){return W4(t)}containsElement(t,r){return ZO(t,r)}getParentElement(t){return m0(t)}query(t,r,i){return JO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Mi(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),To=class{static{this.NOOP=new v0}},Po=class{},K4=1e3,XO="{{",Y4="}}",eT="ng-enter",J_="ng-leave",Mh="ng-trigger",Th=".ng-trigger",jO="ng-animating",X_=".ng-animating";t0=new RegExp(`${XO}\\s*(.+?)\\s*${Y4}`,"g");X4=/-+([a-z0-9])/g;n5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ah=class extends Po{normalizePropertyName(e,t){return y0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(n5.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(y4(e,r))}return s+o}},Nh="*";Sh=new Set(["true","1"]),Ih=new Set(["false","0"]);nT=":self",s5=new RegExp(`s*${nT}s*,?`,"g");BO="",n0=class{constructor(e){this._driver=e}build(e,t,r){let i=new r0(t);return this._resetContextStyleTimingState(i),rn(this,Wc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=BO,e.collectedStyles=new Map,e.collectedStyles.set(BO,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(_4()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ne.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ne.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(C4())}),{type:ne.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{tT(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(b4(e.name,[...o.values()]))}return{type:ne.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=rn(this,Wc(e.animation),t),i=r5(e.expr,t.errors);return{type:ne.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:xo(e.options)}}visitSequence(e,t){return{type:ne.Sequence,steps:e.steps.map(r=>rn(this,r,t)),options:xo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=rn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ne.Group,steps:o,options:xo(e.options)}}visitAnimate(e,t){let r=u5(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:qn({});if(o.type==ne.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=qn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ne.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===hr?r.push(a):t.errors.push(w4(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(XO)>=0){o=!0;break}}}),{type:ne.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(E4(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&J4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ne.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(D4()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(B=>{let oe=this._makeStyleAst(B,t),Y=oe.offset!=null?oe.offset:l5(oe.styles),he=0;return Y!=null&&(o++,he=oe.offset=Y),c=c||he<0||he>1,a=a||he<l,l=he,s.push(he),oe});c&&t.errors.push(M4()),a&&t.errors.push(S4());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(I4()):o==0&&(m=i/(d-1));let g=d-1,_=t.currentTime,w=t.currentAnimateTimings,P=w.duration;return u.forEach((B,oe)=>{let Y=m>0?oe==g?1:m*oe:s[oe],he=Y*P;t.currentTime=_+w.delay+he,w.duration=he,this._validateStyleAst(B,t),B.offset=Y,r.styles.push(B)}),r}visitReference(e,t){return{type:ne.Reference,animation:rn(this,Wc(e.animation),t),options:xo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ne.AnimateChild,options:xo(e.options)}}visitAnimateRef(e,t){return{type:ne.AnimateRef,animation:this.visitReference(e.animation,t),options:xo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=a5(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,on(t.collectedStyles,t.currentQuerySelector,new Map);let a=rn(this,Wc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ne.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:xo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(x4());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ph(e.timings,t.errors,!0);return{type:ne.Stagger,animation:rn(this,Wc(e.animation),t),timings:r,options:null}}};r0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};Yc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},d5=1,f5=":enter",h5=new RegExp(f5,"g"),p5=":leave",g5=new RegExp(p5,"g");i0=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Yc;let d=new o0(e,t,l,i,o,u,[]);d.options=c;let m=c.delay?Kr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),rn(this,r,d);let g=d.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let w=g.length-1;w>=0;w--){let P=g[w];if(P.element===t){_=P;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,d.errors,c)}return g.length?g.map(_=>_.buildKeyframes()):[C0(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Kr(Kc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Kr(r.duration):null,a=r.delay!=null?Kr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),rn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ne.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=kh);let s=Kr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>rn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Kr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),rn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Kc(r,t.params,t.errors):r;return Ph(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ne.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Kr(i.delay):0;o&&(t.previousNode.type===ne.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kh);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),rn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;rn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},kh={},o0=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Rh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Kr(r.duration)),r.delay!=null&&(i.delay=Kr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Kc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=kh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new s0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(h5,"."+this._enterClassName),e=e.replace(g5,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(O4(t)),a}},Rh=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=d5,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||hr),this._currentKeyframe.set(t,hr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=m5(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Kc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??hr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Cf?e.add(d):u===hr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return C0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},s0=class extends Rh{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",$O(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),_=t+g*r;m.set("offset",$O(_/s)),o.push(m)}r=s,t=0,i="",e=o}return C0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};K_={},Fh=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return v5(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||K_,g=a&&a.params||K_,_=this.buildStyles(r,g,d),w=c&&c.params||K_,P=this.buildStyles(i,w,d),B=new Set,oe=new Map,Y=new Map,he=i==="void",qe={params:oT(w,m),delay:this.ast.options?.delay},Me=u?[]:iT(e,t,this.ast.animation,o,s,_,P,qe,l,d),Le=0;return Me.forEach(at=>{Le=Math.max(at.duration+at.delay,Le)}),d.length?HO(t,this._triggerName,r,i,he,_,P,[],[],oe,Y,Le,d):(Me.forEach(at=>{let mr=at.element,Ao=on(oe,mr,new Set);at.preStyleProps.forEach(Ri=>Ao.add(Ri));let E0=on(Y,mr,new Set);at.postStyleProps.forEach(Ri=>E0.add(Ri)),mr!==t&&B.add(mr)}),HO(t,this._triggerName,r,i,he,_,P,Me,[...B.values()],oe,Y,Le))}};a0=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=oT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Kc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};c0=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new a0(i.style,o,r))}),zO(this.states,"true","1"),zO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Fh(e,i,this.states))}),this.fallbackTransition=_5(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};C5=new Yc,l0=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=rT(this._driver,t,r,i);if(r.length)throw k4(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=QO(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=iT(this._driver,t,o,eT,J_,new Map,new Map,r,C5,i),s.forEach(u=>{let d=on(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(R4()),s=[]),i.length)throw F4(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,hr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=ki(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw L4(e);return t}listen(e,t,r,i){let o=g0(t,"","","");return p0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},qO="ng-animate-queued",b5=".ng-animate-queued",Y_="ng-animate-disabled",w5=".ng-animate-disabled",E5="ng-star-inserted",D5=".ng-star-inserted",M5=[],sT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kn="__ng_removed",Qc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=x5(i),r){let o=e,{value:s}=o,a=Kh(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Gc="void",Q_=new Qc(Gc),u0=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw V4(r,t);if(r==null||r.length==0)throw j4(t);if(!O5(r))throw U4(r,t);let o=on(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=on(this._engine.statesByElement,e,new Map);return a.has(t)||(xn(e,Mh),xn(e,Mh+"-"+t),a.set(t,Q_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw B4(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Zc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(xn(e,Mh),xn(e,Mh+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Qc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=Q_),!(l.value===Gc)&&c.value===l.value){if(!A5(c.params,l.params)){let w=[],P=o.matchStyles(c.value,c.params,w),B=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Oo(e,P),gr(e,B)})}return}let m=on(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(xn(e,qO),s.onStart(()=>{na(e,qO)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let P=this._engine.playersByElement.get(e);if(P){let B=P.indexOf(s);B>=0&&P.splice(B,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Th,!0);r.forEach(i=>{if(i[Kn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Gc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&ki(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||Q_,u=new Qc(Gc),d=new Zc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Kn];(!o||o===sT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=g0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,p0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},d0=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new u0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(xh(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!xh(t))return;let o=t[Kn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xn(e,Y_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),na(e,Y_))}removeNode(e,t,r){if(xh(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Kn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return xh(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Th,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,X_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ki(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Kn];if(t&&t.setForRemoval){if(e[Kn]=sT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Y_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,w5,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];xn(i,E5)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?ki(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw $4(e)}_flushAnimations(e,t){let r=new Yc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let z=this.driver.query(U,b5,!0);for(let G=0;G<z.length;G++)u.add(z[G])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=KO(m,this.collectedEnterElements),_=new Map,w=0;g.forEach((U,z)=>{let G=eT+w++;_.set(z,G),U.forEach(me=>xn(me,G))});let P=[],B=new Set,oe=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let z=this.collectedLeaveElements[U],G=z[Kn];G&&G.setForRemoval&&(P.push(z),B.add(z),G.hasAnimation?this.driver.query(z,D5,!0).forEach(me=>B.add(me)):oe.add(z))}let Y=new Map,he=KO(m,Array.from(B));he.forEach((U,z)=>{let G=J_+w++;Y.set(z,G),U.forEach(me=>xn(me,G))}),e.push(()=>{g.forEach((U,z)=>{let G=_.get(z);U.forEach(me=>na(me,G))}),he.forEach((U,z)=>{let G=Y.get(z);U.forEach(me=>na(me,G))}),P.forEach(U=>{this.processLeaveNode(U)})});let qe=[],Me=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(G=>{let me=G.player,ct=G.element;if(qe.push(me),this.collectedEnterElements.length){let bt=ct[Kn];if(bt&&bt.setForMove){if(bt.previousTriggersValues&&bt.previousTriggersValues.has(G.triggerName)){let Fi=bt.previousTriggersValues.get(G.triggerName),sn=this.statesByElement.get(G.element);if(sn&&sn.has(G.triggerName)){let Jc=sn.get(G.triggerName);Jc.value=Fi,sn.set(G.triggerName,Jc)}}me.destroy();return}}let Yn=!d||!this.driver.containsElement(d,ct),Wt=Y.get(ct),Yr=_.get(ct),$e=this._buildInstruction(G,r,Yr,Wt,Yn);if($e.errors&&$e.errors.length){Me.push($e);return}if(Yn){me.onStart(()=>Oo(ct,$e.fromStyles)),me.onDestroy(()=>gr(ct,$e.toStyles)),i.push(me);return}if(G.isFallbackTransition){me.onStart(()=>Oo(ct,$e.fromStyles)),me.onDestroy(()=>gr(ct,$e.toStyles)),i.push(me);return}let S0=[];$e.timelines.forEach(bt=>{bt.stretchStartingKeyframe=!0,this.disabledNodes.has(bt.element)||S0.push(bt)}),$e.timelines=S0,r.append(ct,$e.timelines);let _T={instruction:$e,player:me,element:ct};s.push(_T),$e.queriedElements.forEach(bt=>on(a,bt,[]).push(me)),$e.preStyleProps.forEach((bt,Fi)=>{if(bt.size){let sn=c.get(Fi);sn||c.set(Fi,sn=new Set),bt.forEach((Jc,Gh)=>sn.add(Gh))}}),$e.postStyleProps.forEach((bt,Fi)=>{let sn=l.get(Fi);sn||l.set(Fi,sn=new Set),bt.forEach((Jc,Gh)=>sn.add(Gh))})});if(Me.length){let U=[];Me.forEach(z=>{U.push(H4(z.triggerName,z.errors))}),qe.forEach(z=>z.destroy()),this.reportError(U)}let Le=new Map,at=new Map;s.forEach(U=>{let z=U.element;r.has(z)&&(at.set(z,z),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Le))}),i.forEach(U=>{let z=U.element;this._getPreviousPlayers(z,!1,U.namespaceId,U.triggerName,null).forEach(me=>{on(Le,z,[]).push(me),me.destroy()})});let mr=P.filter(U=>YO(U,c,l)),Ao=new Map;GO(Ao,this.driver,oe,l,hr).forEach(U=>{YO(U,c,l)&&mr.push(U)});let Ri=new Map;g.forEach((U,z)=>{GO(Ri,this.driver,new Set(U),c,Cf)}),mr.forEach(U=>{let z=Ao.get(U),G=Ri.get(U);Ao.set(U,new Map([...z?.entries()??[],...G?.entries()??[]]))});let Wh=[],D0=[],M0={};s.forEach(U=>{let{element:z,player:G,instruction:me}=U;if(r.has(z)){if(u.has(z)){G.onDestroy(()=>gr(z,me.toStyles)),G.disabled=!0,G.overrideTotalTime(me.totalTime),i.push(G);return}let ct=M0;if(at.size>1){let Wt=z,Yr=[];for(;Wt=Wt.parentNode;){let $e=at.get(Wt);if($e){ct=$e;break}Yr.push(Wt)}Yr.forEach($e=>at.set($e,ct))}let Yn=this._buildAnimation(G.namespaceId,me,Le,o,Ri,Ao);if(G.setRealPlayer(Yn),ct===M0)Wh.push(G);else{let Wt=this.playersByElement.get(ct);Wt&&Wt.length&&(G.parentPlayer=ki(Wt)),i.push(G)}}else Oo(z,me.fromStyles),G.onDestroy(()=>gr(z,me.toStyles)),D0.push(G),u.has(z)&&i.push(G)}),D0.forEach(U=>{let z=o.get(U.element);if(z&&z.length){let G=ki(z);U.setRealPlayer(G)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<P.length;U++){let z=P[U],G=z[Kn];if(na(z,J_),G&&G.hasAnimation)continue;let me=[];if(a.size){let Yn=a.get(z);Yn&&Yn.length&&me.push(...Yn);let Wt=this.driver.query(z,X_,!0);for(let Yr=0;Yr<Wt.length;Yr++){let $e=a.get(Wt[Yr]);$e&&$e.length&&me.push(...$e)}}let ct=me.filter(Yn=>!Yn.destroyed);ct.length?T5(this,z,ct):this.processLeaveNode(z)}return P.length=0,Wh.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let z=this.players.indexOf(U);this.players.splice(z,1)}),U.play()}),Wh}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Gc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=on(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),d.push(g)})}Oo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,m=t.timelines.map(_=>{let w=_.element;u.add(w);let P=w[Kn];if(P&&P.removedBeforeQueried)return new Mi(_.duration,_.delay);let B=w!==c,oe=P5((r.get(w)||M5).map(Le=>Le.getRealPlayer())).filter(Le=>{let at=Le;return at.element?at.element===w:!1}),Y=o.get(w),he=s.get(w),qe=QO(this._normalizer,_.keyframes,Y,he),Me=this._buildPlayer(_,qe,oe);if(_.subTimeline&&i&&d.add(w),B){let Le=new Zc(e,a,w);Le.setRealPlayer(Me),l.push(Le)}return Me});l.forEach(_=>{on(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>I5(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>xn(_,jO));let g=ki(m);return g.onDestroy(()=>{u.forEach(_=>na(_,jO)),gr(c,t.toStyles)}),d.forEach(_=>{on(i,_,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Mi(e.duration,e.delay)}},Zc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Mi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>p0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){on(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};ra=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new d0(e.body,t,r),this._timelineEngine=new l0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=rT(this._driver,o,c,l);if(c.length)throw A4(i,c);l.length&&void 0,a=y5(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=LO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=LO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};f0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&gr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gr(this._element,this._initialStyles),this._endStyles&&(gr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Oo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Oo(this._element,this._endStyles),this._endStyles=null),gr(this._element,this._initialStyles),this._state=3)}};Lh=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:_0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Vh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return ZO(e,t)}getParentElement(e){return m0(e)}query(e,t,r){return JO(e,t,r)}computeStyle(e,t,r){return _0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof Lh);e5(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((_,w)=>l.set(w,_))});let d=Z4(t).map(g=>new Map(g));d=t5(e,d,l);let m=N5(e,d);return new Lh(e,d,c,m)}},Oh="@",cT="@.disabled",jh=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Oh&&t==cT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},h0=class extends jh{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Oh?t.charAt(1)=="."&&t==cT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==Oh){let i=R5(e),o=t.slice(1),s="";return o.charAt(0)!=Oh&&([o,s]=F5(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};Uh=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new jh(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new h0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function j5(){return new Ah}function U5(n,e,t){return new Uh(n,e,t)}var V5,uT,lT,B5,dT,fT=p(()=>{"use strict";T();T();Ba();b0();b0();Ie();V5=(()=>{class n extends ra{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(To),A(Po))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();uT=[{provide:Po,useFactory:j5},{provide:ra,useClass:V5},{provide:ai,useFactory:U5,deps:[Ad,ra,ye]}],lT=[{provide:To,useFactory:()=>new Vh},{provide:Tm,useValue:"BrowserAnimations"},...uT],B5=[{provide:To,useClass:v0},{provide:Tm,useValue:"NoopAnimations"},...uT],dT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?B5:lT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:lT,imports:[kd]})}}return n})()});var Bh,hT=p(()=>{"use strict";T();Bh=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function G5(n,e){if(n&1){let t=K();h(0,"div",17)(1,"input",18,3),vn("ngModelChange",function(i){L(t);let o=M();return Vn(o.room,i)||(o.room=i),V(i)}),f(),h(3,"button",19),O("click",function(){L(t);let i=M();return i.joinRoom(),V(i.isRoomJoined=!0)}),C(4,"Join Room"),f()()}if(n&2){let t=M();y(),mn("ngModel",t.room)}}function K5(n,e){if(n&1&&(h(0,"div"),C(1),f()),n&2){let t=M().$implicit;y(),Mt(t.text)}}function Y5(n,e){if(n&1){let t=K();h(0,"img",26),O("error",function(){L(t);let i=M().$implicit,o=M();return V(o.handleImageError(i.imageUrl))}),f()}if(n&2){let t=M().$implicit;b("src",t.imageUrl,Xe)}}function Q5(n,e){if(n&1){let t=K();h(0,"video",27),O("error",function(){L(t);let i=M().$implicit,o=M();return V(o.handleVideoError(i.videoUrl))}),C(1," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f()}if(n&2){let t=M().$implicit;b("src",t.videoUrl,Xe)}}function Z5(n,e){if(n&1&&(h(0,"div",20)(1,"span",21),C(2),f(),h(3,"div",22),N(4,K5,2,1,"div",23)(5,Y5,1,1,"img",24)(6,Q5,2,1,"video",25),f()()),n&2){let t=e.$implicit;b("ngClass",ar(5,W5,t.senderName==="Me",t.senderName!=="Me")),y(2),Mt(t.senderName),y(2),b("ngIf",t.text),y(),b("ngIf",t.imageUrl),y(),b("ngIf",t.videoUrl)}}function J5(n,e){n&1&&(h(0,"span"),C(1,"\u2328\uFE0F"),f())}function X5(n,e){n&1&&(h(0,"span"),C(1,"\u2328\uFE0F"),f())}function eH(n,e){n&1&&(h(0,"span"),C(1,"\u{1F5BC}\uFE0F"),f())}function tH(n,e){n&1&&(h(0,"span"),C(1,"\u{1F3AC}"),f())}function nH(n,e){if(n&1&&(h(0,"div",28)(1,"div",29),N(2,J5,2,0,"span",23)(3,X5,2,0,"span",23)(4,eH,2,0,"span",23)(5,tH,2,0,"span",23),f()()),n&2){let t=M();y(2),b("ngIf",t.typingMessage==="Typing..."),y(),b("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),y(),b("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),y(),b("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function rH(n,e){if(n&1&&(h(0,"div",30),k(1,"div",31),h(2,"p"),C(3),f()()),n&2){let t=M();y(3),Oe("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function iH(n,e){if(n&1){let t=K();h(0,"button",32),O("click",function(i){L(t);let o=M();return V(o.sendMessage(i))}),C(1,"\u{1F680}"),f()}}function oH(n,e){if(n&1){let t=K();h(0,"button",32),O("click",function(i){L(t);let o=M();return V(o.sendPrivateMessage(i))}),C(1,"\u{1F680}"),f()}}var H5,z5,q5,W5,ia,w0=p(()=>{"use strict";T();we();cc();ta();rf();T();js();St();Uy();hT();q_();La();Ie();Sn();H5=["roomInput"],z5=["chatInput"],q5=["messagesContainer"],W5=(n,e)=>({"my-message":n,"other-message":e});ia=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=v(In);cloudinaryService=v(Ci);typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new Ve,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>x(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}})))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>x(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>x(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return x(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return x(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return x(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(ht.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>x(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let s={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(s)}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return x(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.chatType==="private"?r.type.startsWith("image/")?this.sendPrivateImageMessage(a):r.type.startsWith("video/")&&this.sendPrivateVideoMessage(a):r.type.startsWith("image/")?this.sendImageMessage(a):r.type.startsWith("video/")&&this.sendVideoMessage(a)},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",e),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"","",e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.messages.push(t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return x(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(wn),D(Ce),D(Vs),D(Bh),D(ea),D(fo))};static \u0275cmp=ee({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(od(H5,5),od(z5,5),od(q5,5)),t&2){let i;ms(i=vs())&&(r.roomInput=i.first),ms(i=vs())&&(r.chatInput=i.first),ms(i=vs())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},decls:20,vars:8,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[4,"ngIf"],["alt","Image","class","chat-image",3,"src","error",4,"ngIf"],["class","chat-video","controls","","preload","metadata",3,"src","error",4,"ngIf"],["alt","Image",1,"chat-image",3,"error","src"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"]],template:function(t,r){if(t&1){let i=K();h(0,"div",4)(1,"h2"),C(2),f(),N(3,G5,5,1,"div",5),h(4,"div",6)(5,"div",7,0),N(7,Z5,7,8,"div",8),f(),h(8,"div",9)(9,"div",10)(10,"label",11),C(11,"\u{1F4CE}"),f(),h(12,"input",12,1),vn("ngModelChange",function(s){return L(i),Vn(r.newMessage,s)||(r.newMessage=s),V(s)}),O("keyup",function(){return L(i),V(r.onTyping())})("blur",function(){return L(i),V(r.onStopTyping())}),f(),h(14,"input",13,2),O("change",function(s){return L(i),V(r.onFileSelected(s))}),f(),N(16,nH,6,4,"div",14),f(),N(17,rH,4,1,"div",15)(18,iH,2,0,"button",16)(19,oH,2,0,"button",16),f()()()}t&2&&(y(2),Oe(" ",r.chatType==="group"?"Group Chat - "+r.room:"Private Chat With - "+r.targetUsername," "),y(),b("ngIf",r.chatType==="group"&&!r.isRoomJoined),y(4),b("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),y(5),mn("ngModel",r.newMessage),y(4),b("ngIf",r.isTyping),y(),b("ngIf",r.isUploading),y(),b("ngIf",r.chatType==="group"),y(),b("ngIf",r.chatType==="private"))},dependencies:[ur,dr,_e,Dn,pr,$r],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;max-height:85vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none}.join-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:10px;width:40px;height:40px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:36px;height:36px}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']})}});function cH(n,e){if(n&1&&(h(0,"span",18),C(1),f()),n&2){let t=M().ngIf;y(),Mt(t)}}function lH(n,e){if(n&1&&($t(0),N(1,cH,2,1,"span",17),Ht()),n&2){let t=e.ngIf,r=M();y(),b("ngIf",t>0&&!r.isPrivateChatOpen)}}function uH(n,e){if(n&1){let t=K();h(0,"li",22),O("click",function(){let i=L(t).$implicit,o=M(2);return V(o.navigateToContact(i._id))}),C(1),f()}if(n&2){let t=e.$implicit;y(),Oe(" ",t.name," ")}}function dH(n,e){if(n&1){let t=K();h(0,"div",19)(1,"button",20),O("click",function(){L(t);let i=M();return V(i.closeContactsDropdown())}),C(2,"\xD7"),f(),h(3,"ul"),N(4,uH,2,1,"li",21),f()()}if(n&2){let t=M();y(4),b("ngForOf",t.contacts)}}function fH(n,e){if(n&1){let t=K();h(0,"div",23),O("clickOutsideCapture",function(){L(t);let i=M();return V(i.closePrivateChat())}),h(1,"div",24)(2,"span",25),O("click",function(){L(t);let i=M();return V(i.closePrivateChat())}),C(3,"\xD7"),f(),k(4,"app-chat",26),f()()}if(n&2){let t=M();y(4),b("chatType","private")("targetUserId",t.user._id)}}var aH,$h,pT=p(()=>{"use strict";T();ot();we();St();T();ot();js();Jf();Ur();Ie();Ii();zs();w0();aH=n=>({"long-field":n});$h=class n{constructor(e,t,r,i){this.router=e;this.socketService=t;this.userIndex=r;this.contactService=i}user;remove=new se;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=v(Ce).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new de(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof vi&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(be(1),ke(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),F(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(Kp(1),be(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Te),D(wn),D(Ai),D(Ct))};static \u0275cmp=ee({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType","targetUserId"]],template:function(t,r){t&1&&(h(0,"article",0)(1,"div",1),O("click",function(){return r.onPreviewClick()}),k(2,"img",2),f(),h(3,"div",3)(4,"h1",4),C(5),f()(),h(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),O("click",function(o){return r.openPrivateChat(o)}),k(10,"img",9),N(11,lH,2,1,"ng-container",10),yt(12,"async"),f()(),h(13,"button",11),O("click",function(o){return r.openFacebookProfile(o,r.user)}),k(14,"img",12),f()(),h(15,"div",6)(16,"button",11),O("click",function(o){return r.openInstagramProfile(o,r.user)}),k(17,"img",13),f(),h(18,"button",11),O("click",function(){return r.toggleContactsDropdown()}),k(19,"img",14),f(),N(20,dH,5,1,"div",15),f()()(),N(21,fH,5,2,"div",16),k(22,"router-outlet")),t&2&&(y(2),b("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Xe),y(2),b("title",r.user.username)("ngClass",Pa(9,aH,r.isLongField(r.user.username,15))),y(),Oe(" ",r.user.username," "),y(6),b("ngIf",_t(12,7,r.unreadMessagesCount$)),y(9),b("ngIf",r.showContactsDropdown),y(),b("ngIf",r.isPrivateChatOpen))},dependencies:[ur,dr,_e,$n,xt,En,ia,zt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function pH(n,e){if(n&1){let t=K();h(0,"user-preview",3),O("remove",function(){let i=L(t).$implicit,o=M();return V(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;b("user",t)}}function gH(n,e){n&1&&(h(0,"p"),C(1,"No users found."),f())}var Hh,gT=p(()=>{"use strict";T();T();St();Ie();pT();Hh=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new se;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275cmp=ee({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(h(0,"section",1),N(1,pH,1,1,"user-preview",2)(2,gH,2,0,"ng-template",null,0,cr),f()),t&2&&(y(),b("ngForOf",r.users))},dependencies:[dr,$h],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function mH(n,e){if(n&1){let t=K();h(0,"button",4),O("click",function(){L(t);let i=M();return V(i.onClearFilter())}),C(1,"\u2716"),f()}}var zh,mT=p(()=>{"use strict";T();we();Bs();St();T();Ie();Sn();zh=class n{userService=v(Ce);filterBy="";filterSubject$=new ge;destroyRef=v(kt);ngOnInit(){this.userService.filterBy$.pipe(qt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Cr(),qt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),vn("ngModelChange",function(o){return Vn(r.filterBy,o)||(r.filterBy=o),o}),O("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,mH,2,0,"button",3),f()()),t&2&&(y(2),mn("ngModel",r.filterBy),y(),b("ngIf",r.filterBy))},dependencies:[_e,Dn,pr,$r],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var qh,vT=p(()=>{"use strict";Ba();bx();RO();La();Sn();fT();Ii();zs();Jf();gT();mT();w0();z_();T();Ie();qh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ye({type:n,bootstrap:[Dh]});static \u0275inj=Ke({imports:[kd,eh,hM,JI,XI,dT,xO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};MD(Ai,function(){return[_e,xt,En,Hh,zh,ia]},function(){return[zt]})});var vH=wT(yT=>{Ba();vT();ta();T();CM().bootstrapModule(qh).then(()=>{let n=v(In);"serviceWorker"in navigator&&window.addEventListener("load",()=>x(yT,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default vH();
