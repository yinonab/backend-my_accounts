var g0=Object.defineProperty,KO=Object.defineProperties;var YO=Object.getOwnPropertyDescriptors;var Kc=Object.getOwnPropertySymbols;var m0=Object.prototype.hasOwnProperty,v0=Object.prototype.propertyIsEnumerable;var p0=(n,e,t)=>e in n?g0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})m0.call(e,t)&&p0(n,t,e[t]);if(Kc)for(var t of Kc(e))v0.call(e,t)&&p0(n,t,e[t]);return n},$=(n,e)=>KO(n,YO(e));var Vh=(n,e)=>{var t={};for(var r in n)m0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Kc)for(var r of Kc(n))e.indexOf(r)<0&&v0.call(n,r)&&(t[r]=n[r]);return t};var p=(n,e)=>()=>(n&&(e=n(n=0)),e);var QO=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),ZO=(n,e)=>{for(var t in e)g0(n,t,{get:e[t],enumerable:!0})};var x=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function y0(n,e){return Object.is(n,e)}function ve(n){let e=rt;return rt=n,e}function _0(){return rt}function Bh(n){if(Yc)throw new Error("");if(rt===null)return;rt.consumerOnSignalRead(n);let e=rt.nextProducerIndex++;if(el(rt),e<rt.producerNode.length&&rt.producerNode[e]!==n&&ra(rt)){let t=rt.producerNode[e];Xc(t,rt.producerIndexOfThis[e])}rt.producerNode[e]!==n&&(rt.producerNode[e]=n,rt.producerIndexOfThis[e]=ra(rt)?E0(n,rt,e):0),rt.producerLastReadVersion[e]=n.version}function JO(){Qc++}function C0(n){if(!(ra(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Qc)){if(!n.producerMustRecompute(n)&&!Hh(n)){n.dirty=!1,n.lastCleanEpoch=Qc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Qc}}function b0(n){if(n.liveConsumerNode===void 0)return;let e=Yc;Yc=!0;try{for(let t of n.liveConsumerNode)t.dirty||XO(t)}finally{Yc=e}}function w0(){return rt?.consumerAllowSignalWrites!==!1}function XO(n){n.dirty=!0,b0(n),n.consumerMarkedDirty?.(n)}function Jc(n){return n&&(n.nextProducerIndex=0),ve(n)}function $h(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ra(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hh(n){el(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(C0(t),r!==t.version))return!0}return!1}function zh(n){if(el(n),ra(n))for(let e=0;e<n.producerNode.length;e++)Xc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function E0(n,e,t){if(D0(n),n.liveConsumerNode.length===0&&M0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=E0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Xc(n,e){if(D0(n),n.liveConsumerNode.length===1&&M0(n))for(let r=0;r<n.producerNode.length;r++)Xc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];el(i),i.producerIndexOfThis[r]=e}}function ra(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function el(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function D0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function M0(n){return n.producerNode!==void 0}function S0(n){let e=Object.create(eT);e.computation=n;let t=()=>{if(C0(e),Bh(e),e.value===Zc)throw e.error;return e.value};return t[vr]=e,t}function tT(){throw new Error}function x0(){I0()}function O0(n){I0=n}function T0(n){let e=Object.create(A0);e.value=n;let t=()=>(Bh(e),e.value);return t[vr]=e,t}function qh(n,e){w0()||x0(),n.equal(n.value,e)||(n.value=e,rT(n))}function P0(n,e){w0()||x0(),qh(n,e(n.value))}function rT(n){n.version++,JO(),b0(n),nT?.()}var rt,Yc,Qc,vr,ia,jh,Uh,Zc,eT,I0,nT,A0,N0=p(()=>{"use strict";rt=null,Yc=!1,Qc=1,vr=Symbol("SIGNAL");ia={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};jh=Symbol("UNSET"),Uh=Symbol("COMPUTING"),Zc=Symbol("ERRORED"),eT=$(E({},ia),{value:jh,dirty:!0,error:null,equal:y0,producerMustRecompute(n){return n.value===jh||n.value===Uh},producerRecomputeValue(n){if(n.value===Uh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Uh;let t=Jc(n),r;try{r=n.computation()}catch(i){r=Zc,n.error=i}finally{$h(n,t)}if(e!==jh&&e!==Zc&&r!==Zc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});I0=tT;nT=null;A0=$(E({},ia),{equal:y0,value:void 0})});function H(n){return typeof n=="function"}var We=p(()=>{"use strict"});function To(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var tl=p(()=>{"use strict"});var nl,k0=p(()=>{"use strict";tl();nl=To(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Fi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var rl=p(()=>{"use strict"});function il(n){return n instanceof Ve||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function R0(n){H(n)?n():n.unsubscribe()}var Ve,Wh,Li=p(()=>{"use strict";We();k0();rl();Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof nl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{R0(o)}catch(s){e=e??[],s instanceof nl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)R0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fi(t,e)}remove(e){let{_finalizers:t}=this;t&&Fi(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();Wh=Ve.EMPTY});var On,oa=p(()=>{"use strict";On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Po,Gh=p(()=>{"use strict";Po={setTimeout(n,e,...t){let{delegate:r}=Po;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Po;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function ol(n){Po.setTimeout(()=>{let{onUnhandledError:e}=On;if(e)e(n);else throw n})}var Kh=p(()=>{"use strict";oa();Gh()});function yr(){}var sa=p(()=>{"use strict"});function L0(n){return Yh("E",void 0,n)}function V0(n){return Yh("N",n,void 0)}function Yh(n,e,t){return{kind:n,value:e,error:t}}var F0,j0=p(()=>{"use strict";F0=Yh("C",void 0,void 0)});function Ao(n){if(On.useDeprecatedSynchronousErrorHandling){let e=!Vi;if(e&&(Vi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Vi;if(Vi=null,t)throw r}}else n()}function U0(n){On.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=n)}var Vi,sl=p(()=>{"use strict";oa();Vi=null});function Qh(n,e){return iT.call(n,e)}function al(n){On.useDeprecatedSynchronousErrorHandling?U0(n):ol(n)}function oT(n){throw n}function Zh(n,e){let{onStoppedNotification:t}=On;t&&Po.setTimeout(()=>t(n,e))}var ji,iT,Jh,Yr,sT,cl=p(()=>{"use strict";We();Li();oa();Kh();sa();j0();Gh();sl();ji=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,il(e)&&e.add(this)):this.destination=sT}static create(e,t,r){return new Yr(e,t,r)}next(e){this.isStopped?Zh(V0(e),this):this._next(e)}error(e){this.isStopped?Zh(L0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zh(F0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iT=Function.prototype.bind;Jh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){al(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){al(r)}else al(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){al(t)}}},Yr=class extends ji{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qh(e.next,o),error:e.error&&Qh(e.error,o),complete:e.complete&&Qh(e.complete,o)}):i=e}this.destination=new Jh(i)}};sT={closed:!0,next:yr,error:oT,complete:yr}});var No,ll=p(()=>{"use strict";No=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function pt(n){return n}var _r=p(()=>{"use strict"});function Xh(...n){return ep(n)}function ep(n){return n.length===0?pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var tp=p(()=>{"use strict";_r()});function B0(n){var e;return(e=n??On.Promise)!==null&&e!==void 0?e:Promise}function aT(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function cT(n){return n&&n instanceof ji||aT(n)&&il(n)}var J,lt=p(()=>{"use strict";cl();Li();ll();tp();oa();We();sl();J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=cT(t)?t:new Yr(t,r,i);return Ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=B0(r),new r((i,o)=>{let s=new Yr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[No](){return this}pipe(...t){return ep(t)(this)}toPromise(t){return t=B0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function np(n){return H(n?.lift)}function X(n){return e=>{if(np(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var je=p(()=>{"use strict";We()});function Z(n,e,t,r,i){return new rp(n,e,t,r,i)}var rp,He=p(()=>{"use strict";cl();rp=class extends ji{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function ko(){return X((n,e)=>{let t=null;n._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ip=p(()=>{"use strict";je();He()});var Qr,op=p(()=>{"use strict";lt();Li();ip();He();je();Qr=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,np(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return ko()(this)}}});var $0,H0=p(()=>{"use strict";tl();$0=To(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var ge,ul,aa=p(()=>{"use strict";lt();Li();H0();rl();sl();ge=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ul(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $0}next(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wh:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,Fi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new ul(e,t),n})(),ul=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Wh}}});var de,z0=p(()=>{"use strict";aa();de=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var sp,q0=p(()=>{"use strict";sp={now(){return(sp.delegate||Date).now()},delegate:void 0}});var dl,W0=p(()=>{"use strict";Li();dl=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}}});var ca,G0=p(()=>{"use strict";ca={setInterval(n,e,...t){let{delegate:r}=ca;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ca;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var fl,K0=p(()=>{"use strict";W0();G0();rl();fl=class extends dl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ca.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Ro,Y0=p(()=>{"use strict";q0();Ro=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ro.now=sp.now});var hl,Q0=p(()=>{"use strict";Y0();hl=class extends Ro{constructor(e,t=Ro.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var la,Z0,pl=p(()=>{"use strict";K0();Q0();la=new hl(fl),Z0=la});var It,ua=p(()=>{"use strict";lt();It=new J(n=>n.complete())});function gl(n){return n&&H(n.schedule)}var ap=p(()=>{"use strict";We()});function cp(n){return n[n.length-1]}function ml(n){return H(cp(n))?n.pop():void 0}function Qn(n){return gl(cp(n))?n.pop():void 0}function J0(n,e){return typeof cp(n)=="number"?n.pop():e}var Ui=p(()=>{"use strict";We();ap()});function eC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function X0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function tC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,d)}}function a(g,y){r[g]&&(i[g]=function(w){return new Promise(function(P,B){o.push([g,w,P,B])>1||c(g,w)})},y&&(i[g]=y(i[g])))}function c(g,y){try{l(r[g](y))}catch(w){m(o[0][3],w)}}function l(g){g.value instanceof Bi?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,y){g(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function nC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof X0=="function"?X0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var lp=p(()=>{"use strict"});var Fo,vl=p(()=>{"use strict";Fo=n=>n&&typeof n.length=="number"&&typeof n!="function"});function yl(n){return H(n?.then)}var up=p(()=>{"use strict";We()});function _l(n){return H(n[No])}var dp=p(()=>{"use strict";ll();We()});function Cl(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var fp=p(()=>{"use strict";We()});function bl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var hp=p(()=>{"use strict"});function lT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wl,pp=p(()=>{"use strict";wl=lT()});function El(n){return H(n?.[wl])}var gp=p(()=>{"use strict";pp();We()});function Dl(n){return tC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{t.releaseLock()}})}function Ml(n){return H(n?.getReader)}var Sl=p(()=>{"use strict";lp();We()});function Se(n){if(n instanceof J)return n;if(n!=null){if(_l(n))return uT(n);if(Fo(n))return dT(n);if(yl(n))return fT(n);if(Cl(n))return rC(n);if(El(n))return hT(n);if(Ml(n))return pT(n)}throw bl(n)}function uT(n){return new J(e=>{let t=n[No]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dT(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function fT(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ol)})}function hT(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function rC(n){return new J(e=>{gT(n,e).catch(t=>e.error(t))})}function pT(n){return rC(Dl(n))}function gT(n,e){var t,r,i,o;return eC(this,void 0,void 0,function*(){try{for(t=nC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var _t=p(()=>{"use strict";lp();vl();up();lt();dp();fp();hp();gp();Sl();We();Kh();ll()});function Ft(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var Lo=p(()=>{"use strict"});function Il(n,e=0){return X((t,r)=>{t.subscribe(Z(r,i=>Ft(r,n,()=>r.next(i),e),()=>Ft(r,n,()=>r.complete(),e),i=>Ft(r,n,()=>r.error(i),e)))})}var mp=p(()=>{"use strict";Lo();je();He()});function xl(n,e=0){return X((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var vp=p(()=>{"use strict";je()});function iC(n,e){return Se(n).pipe(xl(e),Il(e))}var oC=p(()=>{"use strict";_t();mp();vp()});function sC(n,e){return Se(n).pipe(xl(e),Il(e))}var aC=p(()=>{"use strict";_t();mp();vp()});function cC(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var lC=p(()=>{"use strict";lt()});function uC(n,e){return new J(t=>{let r;return Ft(t,e,()=>{r=n[wl](),Ft(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var dC=p(()=>{"use strict";lt();pp();We();Lo()});function Ol(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{Ft(t,e,()=>{let r=n[Symbol.asyncIterator]();Ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var yp=p(()=>{"use strict";lt();Lo()});function fC(n,e){return Ol(Dl(n),e)}var hC=p(()=>{"use strict";yp();Sl()});function pC(n,e){if(n!=null){if(_l(n))return iC(n,e);if(Fo(n))return cC(n,e);if(yl(n))return sC(n,e);if(Cl(n))return Ol(n,e);if(El(n))return uC(n,e);if(Ml(n))return fC(n,e)}throw bl(n)}var gC=p(()=>{"use strict";oC();aC();lC();dC();yp();dp();up();vl();gp();fp();hp();Sl();hC()});function q(n,e){return e?pC(n,e):Se(n)}var Vo=p(()=>{"use strict";gC();_t()});function F(...n){let e=Qn(n);return q(n,e)}var mC=p(()=>{"use strict";Ui();Vo()});function it(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}var vC=p(()=>{"use strict";lt();We()});function _p(n){return!!n&&(n instanceof J||H(n.lift)&&H(n.subscribe))}var yC=p(()=>{"use strict";lt();We()});var Tn,jo=p(()=>{"use strict";tl();Tn=To(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function $i(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Yr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Tn)}});n.subscribe(o)})}var _C=p(()=>{"use strict";jo();cl()});function CC(n){return n instanceof Date&&!isNaN(n)}var bC=p(()=>{"use strict"});function j(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>{r.next(n.call(e,o,i++))}))})}var Uo=p(()=>{"use strict";je();He()});function vT(n,e){return mT(e)?n(...e):n(e)}function Bo(n){return j(e=>vT(n,e))}var mT,Tl=p(()=>{"use strict";Uo();({isArray:mT}=Array)});function Pl(n){if(n.length===1){let e=n[0];if(yT(e))return{args:e,keys:null};if(wT(e)){let t=bT(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function wT(n){return n&&typeof n=="object"&&_T(n)===CT}var yT,_T,CT,bT,Cp=p(()=>{"use strict";({isArray:yT}=Array),{getPrototypeOf:_T,prototype:CT,keys:bT}=Object});function Al(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var bp=p(()=>{"use strict"});function da(...n){let e=Qn(n),t=ml(n),{args:r,keys:i}=Pl(n);if(r.length===0)return q([],e);let o=new J(ET(r,e,i?s=>Al(i,s):pt));return t?o.pipe(Bo(t)):o}function ET(n,e,t=pt){return r=>{wC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)wC(e,()=>{let l=q(n[c],e),u=!1;l.subscribe(Z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wC(n,e,t){n?Ft(t,n,e):e()}var EC=p(()=>{"use strict";lt();Cp();Vo();_r();Tl();Ui();bp();He();Lo()});function DC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?y(w):c.push(w),y=w=>{o&&e.next(w),l++;let P=!1;Se(t(w,u++)).subscribe(Z(e,B=>{i?.(B),o?g(B):e.next(B)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){let B=c.shift();s?Ft(e,s,()=>y(B)):y(B)}m()}catch(B){e.error(B)}}))};return n.subscribe(Z(e,g,()=>{d=!0,m()})),()=>{a?.()}}var MC=p(()=>{"use strict";_t();Lo();He()});function Ue(n,e,t=1/0){return H(e)?Ue((r,i)=>j((o,s)=>e(r,o,i,s))(Se(n(r,i))),t):(typeof e=="number"&&(t=e),X((r,i)=>DC(r,i,n,t)))}var $o=p(()=>{"use strict";Uo();_t();je();MC();We()});function Zn(n=1/0){return Ue(pt,n)}var Nl=p(()=>{"use strict";$o();_r()});function SC(){return Zn(1)}var IC=p(()=>{"use strict";Nl()});function Jn(...n){return SC()(q(n,Qn(n)))}var kl=p(()=>{"use strict";IC();Ui();Vo()});function Hi(n){return new J(e=>{Se(n()).subscribe(e)})}var xC=p(()=>{"use strict";lt();_t()});function wp(...n){let e=ml(n),{args:t,keys:r}=Pl(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Se(t[u]).subscribe(Z(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Al(r,a):a),o.complete())}))}});return e?i.pipe(Bo(e)):i}var OC=p(()=>{"use strict";lt();Cp();_t();Ui();He();Tl();bp()});function Ho(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Ho(n,e,t).pipe(Bo(r));let[i,o]=OT(n)?MT.map(s=>a=>n[s](e,a,t)):IT(n)?DT.map(TC(n,e)):xT(n)?ST.map(TC(n,e)):[];if(!i&&Fo(n))return Ue(s=>Ho(s,e,t))(Se(n));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function TC(n,e){return t=>r=>n[t](e,r)}function IT(n){return H(n.addListener)&&H(n.removeListener)}function xT(n){return H(n.on)&&H(n.off)}function OT(n){return H(n.addEventListener)&&H(n.removeEventListener)}var DT,MT,ST,PC=p(()=>{"use strict";_t();lt();$o();vl();We();Tl();DT=["addListener","removeListener"],MT=["addEventListener","removeEventListener"],ST=["on","off"]});function Rl(n=0,e,t=Z0){let r=-1;return e!=null&&(gl(e)?t=e:r=e),new J(i=>{let o=CC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var Ep=p(()=>{"use strict";lt();pl();ap();bC()});function Fl(...n){let e=Qn(n),t=J0(n,1/0),r=n;return r.length?r.length===1?Se(r[0]):Zn(t)(q(r,e)):It}var AC=p(()=>{"use strict";Nl();_t();ua();Ui();Vo()});var zi,NC=p(()=>{"use strict";lt();sa();zi=new J(yr)});function Ne(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>n.call(e,o,i++)&&r.next(o)))})}var zo=p(()=>{"use strict";je();He()});var kC=p(()=>{"use strict"});function fe(n){return X((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Z(t,void 0,void 0,s=>{o=Se(n(s,fe(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var Dp=p(()=>{"use strict";_t();He();je()});function RC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Z(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var FC=p(()=>{"use strict";He()});function an(n,e){return H(e)?Ue(n,e,1):Ue(n,1)}var Mp=p(()=>{"use strict";$o();We()});function LC(n){return new J(e=>n.subscribe(e))}var VC=p(()=>{"use strict";lt()});function Ll(n,e=TT){let{connector:t}=e;return X((r,i)=>{let o=t();Se(n(LC(o))).subscribe(i),i.add(r.subscribe(o))})}var TT,Sp=p(()=>{"use strict";aa();_t();je();VC();TT={connector:()=>new ge}});function Ip(n,e=la){return X((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(Z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var jC=p(()=>{"use strict";pl();je();He()});function Zr(n){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Vl=p(()=>{"use strict";je();He()});function be(n){return n<=0?()=>It:X((e,t)=>{let r=0;e.subscribe(Z(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var fa=p(()=>{"use strict";ua();je();He()});function UC(){return X((n,e)=>{n.subscribe(Z(e,yr))})}var BC=p(()=>{"use strict";je();He();sa()});function ha(n){return j(()=>n)}var xp=p(()=>{"use strict";Uo()});function Op(n,e){return e?t=>Jn(e.pipe(be(1),UC()),t.pipe(Op(n))):Ue((t,r)=>Se(n(t,r)).pipe(be(1),ha(t)))}var $C=p(()=>{"use strict";kl();fa();BC();xp();$o();_t()});function cn(n,e=la){let t=Rl(n,e);return Op(()=>t)}var Tp=p(()=>{"use strict";pl();$C();Ep()});function Cr(n,e=pt){return n=n??PT,X((t,r)=>{let i,o=!0;t.subscribe(Z(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function PT(n,e){return n===e}var HC=p(()=>{"use strict";_r();je();He()});function jl(n=AT){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function AT(){return new Tn}var Pp=p(()=>{"use strict";jo();je();He()});function qt(n){return X((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Ap=p(()=>{"use strict";je()});function Xn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):pt,be(1),t?Zr(e):jl(()=>new Tn))}var zC=p(()=>{"use strict";jo();zo();fa();Vl();Pp();_r()});function qo(n){return n<=0?()=>It:X((e,t)=>{let r=[];e.subscribe(Z(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Np=p(()=>{"use strict";ua();je();He()});function kp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):pt,qo(1),t?Zr(e):jl(()=>new Tn))}var qC=p(()=>{"use strict";jo();zo();Np();Pp();Vl();_r()});function WC(n,e){let t=H(n)?n:()=>n;return H(e)?Ll(e,{connector:t}):r=>new Qr(r,t)}var GC=p(()=>{"use strict";op();We();Sp()});function Rp(n){return n?e=>Ll(n)(e):e=>WC(new ge)(e)}var KC=p(()=>{"use strict";aa();GC();Sp()});function ut(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?pt:X((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(Z(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Rl(r):Se(r(d,a)),y=Z(s,()=>{y.unsubscribe(),m()},()=>{s.complete()});g.subscribe(y)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Fp=p(()=>{"use strict";je();He();_r();Ep();_t()});function Lp(n,e){return X(RC(n,e,arguments.length>=2,!0))}var YC=p(()=>{"use strict";je();FC()});function Vp(n){return Ne((e,t)=>n<=t)}var QC=p(()=>{"use strict";zo()});function jp(...n){let e=Qn(n);return X((t,r)=>{(e?Jn(n,t,e):Jn(n,t)).subscribe(r)})}var ZC=p(()=>{"use strict";kl();Ui();je()});function ke(n,e){return X((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Z(r,c=>{i?.unsubscribe();let l=0,u=o++;Se(n(c,u)).subscribe(i=Z(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Up=p(()=>{"use strict";_t();je();He()});function ln(n){return X((e,t)=>{Se(n).subscribe(Z(t,()=>t.complete(),yr)),!t.closed&&e.subscribe(t)})}var Bp=p(()=>{"use strict";je();He();_t();sa()});function te(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var $p=p(()=>{"use strict";We();je();He();_r()});var we=p(()=>{"use strict";lt();op();aa();z0();Li();tp();yC();_C();jo();EC();kl();xC();OC();Vo();PC();AC();mC();vC();ua();NC();kC();Dp();Mp();jC();Tp();HC();zo();Ap();Uo();Fp();QC();Up();fa();Bp();$p()});var Jr=p(()=>{"use strict";Dp();Mp();Vl();Tp();zo();Ap();zC();qC();Uo();xp();Nl();$o();KC();Fp();ip();YC();ZC();Up();fa();Np();Bp();$p()});function Iu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ea(n){return{toString:n}.toString()}function NT(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Fb(n,e,t){return Ea(()=>{let r=NT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ul)?c[Ul]:Object.defineProperty(c,Ul,{value:[]})[Ul];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function kT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Tt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function rg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function fn(n){return n.__forward_ref__=fn,n.toString=function(){return Tt(this())},n}function Ot(n){return Lb(n)?n():n}function Lb(n){return typeof n=="function"&&n.hasOwnProperty(RT)&&n.__forward_ref__===fn}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function xu(n){return JC(n,jb)||JC(n,Ub)}function Vb(n){return xu(n)!==null}function JC(n,e){return n.hasOwnProperty(e)?n[e]:null}function FT(n){let e=n&&(n[jb]||n[Ub]);return e||null}function XC(n){return n&&(n.hasOwnProperty(eb)||n.hasOwnProperty(LT))?n[eb]:null}function Bb(n){return n&&!!n.\u0275providers}function Ou(n){return typeof n=="string"?n:n==null?"":String(n)}function $T(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ou(n)}function HT(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,n)}function Zg(n,e){throw new M(-201,!1)}function $b(){return ig}function Lt(n){let e=ig;return ig=n,e}function Hb(n,e,t){let r=xu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;Zg(n,"Injector")}function KT(){return Qo}function Xr(n){let e=Qo;return Qo=n,e}function YT(n,e=ae.Default){if(Qo===void 0)throw new M(-203,!1);return Qo===null?Hb(n,void 0,e):Qo.get(n,e&ae.Optional?null:void 0,e)}function A(n,e=ae.Default){return($b()||YT)(Ot(n),e)}function v(n,e=ae.Default){return A(n,Tu(e))}function Tu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sg(n){let e=[];for(let t=0;t<n.length;t++){let r=Ot(n[t]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=QT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function zb(n,e){return n[og]=e,n.prototype[og]=e,n}function QT(n){return n[og]}function ZT(n,e,t,r){let i=n[Jl];throw e[nb]&&i.unshift(e[nb]),n.message=JT(`
`+n.message,i,t,r),n[qT]=i,n[Jl]=null,n}function JT(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==GT?n.slice(2):n;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(WT,`
  `)}`}function Gi(n,e){let t=n.hasOwnProperty(Zl);return t?n[Zl]:null}function XT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function eP(n){return n.flat(Number.POSITIVE_INFINITY)}function Xg(n,e){n.forEach(t=>Array.isArray(t)?Xg(t,e):e(t))}function qb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function em(n,e,t){let r=Da(n,e);return r>=0?n[r|1]=t:(r=~r,tP(n,r,e,t)),r}function Hp(n,e){let t=Da(n,e);if(t>=0)return n[t|1]}function Da(n,e){return nP(n,e,1)}function nP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function rP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function ag(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];iP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Yb(n){return n===3||n===4||n===6}function iP(n){return n.charCodeAt(0)===64}function ya(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?rb(n,t,i,null,e[++r]):rb(n,t,i,null,null))}}return n}function rb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function oP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(tm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function tm(n){return n.type===4&&n.value!==Qb}function sP(n,e,t){let r=n.type===4&&!t?Qb:n.value;return e===r}function aP(n,e,t){let r=4,i=n.attrs,o=i!==null?uP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Pn(r)&&!Pn(c))return!1;if(s&&Pn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!sP(n,c,t)||c===""&&e.length===1){if(Pn(r))return!1;s=!0}}else if(r&8){if(i===null||!oP(n,i,c,t)){if(Pn(r))return!1;s=!0}}else{let l=e[++a],u=cP(c,i,tm(n),t);if(u===-1){if(Pn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Pn(r))return!1;s=!0}}}}return Pn(r)||s}function Pn(n){return(n&1)===0}function cP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return dP(e,n)}function lP(n,e,t=!1){for(let r=0;r<e.length;r++)if(aP(n,e[r],t))return!0;return!1}function uP(n){for(let e=0;e<n.length;e++){let t=n[e];if(Yb(t))return e}return n.length}function dP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ib(n,e){return n?":not("+e.trim()+")":e}function fP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Pn(s)&&(e+=ib(o,i),i=""),r=s,o=o||!Pn(r);t++}return i!==""&&(e+=ib(o,i)),e}function hP(n){return n.map(fP).join(",")}function pP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Pn(i))break;i=o}r++}return{attrs:e,classes:t}}function ee(n){return Ea(()=>{let e=tw(n),t=$(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Kb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nr.Emulated,styles:n.styles||Vt,_:null,schemas:n.schemas||null,tView:null,id:""});nw(t);let r=n.dependencies;return t.directiveDefs=tu(r,!1),t.pipeDefs=tu(r,!0),t.id=vP(t),t})}function gP(n){return ri(n)||Zb(n)}function mP(n){return n!==null}function Ye(n){return Ea(()=>({type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ob(n,e){if(n==null)return Jo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ni.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ni.None?[r,a]:r,e[o]=s):t[o]=r}return t}function le(n){return Ea(()=>{let e=tw(n);return nw(e),e})}function nm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ri(n){return n[VT]||null}function Zb(n){return n[jT]||null}function Jb(n){return n[UT]||null}function Xb(n){let e=ri(n)||Zb(n)||Jb(n);return e!==null?e.standalone:!1}function ew(n,e){let t=n[BT]||null;if(!t&&e===!0)throw new Error(`Type ${Tt(n)} does not have '\u0275mod' property.`);return t}function tw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Jo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ob(n.inputs,e),outputs:ob(n.outputs),debugInfo:null}}function nw(n){n.features?.forEach(e=>e(n))}function tu(n,e){if(!n)return null;let t=e?Jb:gP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(mP)}function vP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cs(n){return{\u0275providers:n}}function yP(...n){return{\u0275providers:rw(!0,n),\u0275fromNgModule:!0}}function rw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Xg(e,s=>{let a=s;cg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&iw(i,o),t}function iw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];rm(i,o=>{e(o,r)})}}function cg(n,e,t,r){if(n=Ot(n),!n)return!1;let i=null,o=XC(n),s=!o&&ri(n);if(!o&&!s){let c=n.ngModule;if(o=XC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)cg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Xg(o.imports,u=>{cg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&iw(l,e)}if(!a){let l=Gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vt},i),e({provide:Gb,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;rm(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function rm(n,e){for(let t of n)Bb(t)&&(t=t.\u0275providers),Array.isArray(t)?rm(t,e):e(t)}function ow(n){return n!==null&&typeof n=="object"&&_P in n}function CP(n){return!!(n&&n.useExisting)}function bP(n){return!!(n&&n.useFactory)}function es(n){return typeof n=="function"}function wP(n){return!!n.useClass}function im(){return zp===void 0&&(zp=new eu),zp}function lg(n){let e=xu(n),t=e!==null?e.factory:Gi(n);if(t!==null)return t;if(n instanceof k)throw new M(204,!1);if(n instanceof Function)return DP(n);throw new M(204,!1)}function DP(n){if(n.length>0)throw new M(204,!1);let t=FT(n);return t!==null?()=>t.factory(n):()=>new n}function MP(n){if(ow(n))return Wo(void 0,n.useValue);{let e=sw(n);return Wo(e,Wl)}}function sw(n,e,t){let r;if(es(n)){let i=Ot(n);return Gi(i)||lg(i)}else if(ow(n))r=()=>Ot(n.useValue);else if(bP(n))r=()=>n.useFactory(...sg(n.deps||[]));else if(CP(n))r=()=>A(Ot(n.useExisting));else{let i=Ot(n&&(n.useClass||n.provide));if(SP(n))r=()=>new i(...sg(n.deps));else return Gi(i)||lg(i)}return r}function Wo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function SP(n){return!!n.deps}function IP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function xP(n){return typeof n=="function"||typeof n=="object"&&n instanceof k}function ug(n,e){for(let t of n)Array.isArray(t)?ug(t,e):t&&Bb(t)?ug(t.\u0275providers,e):e(t)}function hn(n,e){n instanceof _a&&n.assertNotDestroyed();let t,r=Xr(n),i=Lt(void 0);try{return e()}finally{Xr(r),Lt(i)}}function aw(){return $b()!==void 0||KT()!=null}function om(n){if(!aw())throw new M(-203,!1)}function OP(n){let e=xt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function TP(n){return typeof n=="function"}function ti(n){return Array.isArray(n)&&typeof n[lw]=="object"}function Sr(n){return Array.isArray(n)&&n[lw]===!0}function sm(n){return(n.flags&4)!==0}function ku(n){return n.componentOffset>-1}function Ru(n){return(n.flags&1)===1}function ii(n){return!!n.template}function dg(n){return(n[Q]&512)!==0}function uw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Fn(){return dw}function dw(n){return n.type.prototype.ngOnChanges&&(n.setInput=AP),PP}function PP(){let n=hw(this),e=n?.current;if(e){let t=n.previous;if(t===Jo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function AP(n,e,t,r,i){let o=this.declaredInputs[r],s=hw(n)||NP(n,{previous:Jo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new fg(l&&l.currentValue,t,c===Jo),uw(n,e,i,t)}function hw(n){return n[fw]||null}function NP(n,e){return n[fw]=e}function or(n){for(;Array.isArray(n);)n=n[Mr];return n}function pw(n,e){return or(e[n])}function pn(n,e){return or(e[n.index])}function gw(n,e){return n.data[e]}function mw(n,e){return n[e]}function ci(n,e){let t=e[n];return ti(t)?t:t[Mr]}function FP(n){return(n[Q]&4)===4}function am(n){return(n[Q]&128)===128}function LP(n){return Sr(n[Ct])}function rs(n,e){return e==null?null:n[e]}function vw(n){n[Go]=0}function yw(n){n[Q]&1024||(n[Q]|=1024,am(n)&&Lu(n))}function VP(n,e){for(;n>0;)e=e[ls],n--;return e}function Fu(n){return!!(n[Q]&9216||n[un]?.dirty)}function hg(n){n[rr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Fu(n)&&Lu(n)}function Lu(n){n[rr].changeDetectionScheduler?.notify(0);let e=Qi(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!am(e)));)e=Qi(e)}function _w(n,e){if((n[Q]&256)===256)throw new M(911,!1);n[ei]===null&&(n[ei]=[]),n[ei].push(e)}function jP(n,e){if(n[ei]===null)return;let t=n[ei].indexOf(e);t!==-1&&n[ei].splice(t,1)}function Qi(n){let e=n[Ct];return Sr(e)?e[Ct]:e}function UP(){return ce.lFrame.elementDepthCount}function BP(){ce.lFrame.elementDepthCount++}function $P(){ce.lFrame.elementDepthCount--}function bw(){return ce.bindingsEnabled}function HP(){return ce.skipHydrationRootTNode!==null}function zP(n){return ce.skipHydrationRootTNode===n}function qP(){ce.skipHydrationRootTNode=null}function ue(){return ce.lFrame.lView}function Je(){return ce.lFrame.tView}function L(n){return ce.lFrame.contextLView=n,n[kn]}function V(n){return ce.lFrame.contextLView=null,n}function gt(){let n=ww();for(;n!==null&&n.type===64;)n=n.parent;return n}function ww(){return ce.lFrame.currentTNode}function WP(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ro(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function cm(){return ce.lFrame.isParent}function Ew(){ce.lFrame.isParent=!1}function GP(){return ce.lFrame.contextLView}function Dw(){return Cw}function cb(n){Cw=n}function Vu(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function KP(n){return ce.lFrame.bindingIndex=n}function ju(){return ce.lFrame.bindingIndex++}function Mw(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function YP(){return ce.lFrame.inI18n}function QP(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,pg(e)}function ZP(){return ce.lFrame.currentDirectiveIndex}function pg(n){ce.lFrame.currentDirectiveIndex=n}function JP(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Sw(){return ce.lFrame.currentQueryIndex}function lm(n){ce.lFrame.currentQueryIndex=n}function XP(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[Rn]:null}function Iw(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=XP(o),i===null||(o=o[ls],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=xw();return r.currentTNode=e,r.lView=n,!0}function um(n){let e=xw(),t=n[re];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xw(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?Ow(n):e}function Ow(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Tw(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function dm(){let n=Tw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function eA(n){return(ce.lFrame.contextLView=VP(n,ce.lFrame.contextLView))[kn]}function io(){return ce.lFrame.selectedIndex}function Zi(n){ce.lFrame.selectedIndex=n}function fm(){let n=ce.lFrame;return gw(n.tView,n.selectedIndex)}function tA(){return ce.lFrame.currentNamespace}function Uu(){return Aw}function Bu(n){Aw=n}function nA(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function $u(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Gl(n,e,t){Nw(n,e,3,t)}function Kl(n,e,t,r){(n[Q]&3)===t&&Nw(n,e,t,r)}function Wp(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function Nw(n,e,t,r){let i=r!==void 0?n[Go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Go]+=65536),(a<o||o==-1)&&(rA(n,t,e,c),n[Go]=(n[Go]&4294901760)+c+2),c++}function lb(n,e){er(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),er(5,n,e)}}function rA(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[Go]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,lb(a,o)):lb(a,o)}function iA(n){return n instanceof Ji}function oA(n){return(n.flags&8)!==0}function sA(n){return(n.flags&16)!==0}function kw(n){return n!==Zo}function su(n){return n&32767}function aA(n){return n>>16}function au(n,e){let t=aA(n),r=e;for(;t>0;)r=r[ls],t--;return r}function cu(n){let e=mg;return mg=n,e}function uA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(r=t[ga]),r==null&&(r=t[ga]=lA++);let i=r&Rw,o=1<<i;e.data[n+(i>>Fw)]|=o}function lu(n,e){let t=Lw(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,Kp(r.data,n),Kp(e,null),Kp(r.blueprint,null));let i=hm(n,e),o=n.injectorIndex;if(kw(i)){let s=su(i),a=au(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Kp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Lw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=$w(i),r===null)return Zo;if(t++,i=i[ls],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Zo}function vg(n,e,t){uA(n,e,t)}function dA(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Yb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Vw(n,e,t){if(t&ae.Optional||n!==void 0)return n;Zg(e,"NodeInjector")}function jw(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),!(t&(ae.Self|ae.Host))){let i=n[ts],o=Lt(void 0);try{return i?i.get(e,r,t&ae.Optional):Hb(e,r,t&ae.Optional)}finally{Lt(o)}}return Vw(r,e,t)}function Uw(n,e,t,r=ae.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ae.Self)){let s=gA(n,e,t,r,tr);if(s!==tr)return s}let o=Bw(n,e,t,r,tr);if(o!==tr)return o}return jw(e,t,r,i)}function Bw(n,e,t,r,i){let o=hA(t);if(typeof o=="function"){if(!Iw(e,n,r))return r&ae.Host?Vw(i,t,r):jw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))Zg(t);else return s}finally{Pw()}}else if(typeof o=="number"){let s=null,a=Lw(n,e),c=Zo,l=r&ae.Host?e[ir][Rn]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?hm(n,e):e[a+8],c===Zo||!db(r,!1)?a=-1:(s=e[re],a=su(c),e=au(c,e)));a!==-1;){let u=e[re];if(ub(o,a,u.data)){let d=fA(a,e,t,s,r,l);if(d!==tr)return d}c=e[a+8],c!==Zo&&db(r,e[re].data[a+8]===l)&&ub(o,a,e)?(s=u,a=su(c),e=au(c,e)):a=-1}}return i}function fA(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],c=r==null?ku(a)&&mg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,u=Yl(a,s,t,c,l);return u!==null?Xi(e,s,u,a):tr}function Yl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let y=s[g];if(g<c&&t===y||g>=c&&y.type===t)return g}if(i){let g=s[c];if(g&&ii(g)&&g.type===t)return c}return null}function Xi(n,e,t,r){let i=n[t],o=e.data;if(iA(i)){let s=i;s.resolving&&HT($T(o[t]));let a=cu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Lt(s.injectImpl):null,u=Iw(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&nA(t,o[t],e)}finally{l!==null&&Lt(l),cu(a),s.resolving=!1,Pw()}}return i}function hA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ga)?n[ga]:void 0;return typeof e=="number"?e>=0?e&Rw:pA:e}function ub(n,e,t){let r=1<<n;return!!(t[e+(n>>Fw)]&r)}function db(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}function pA(){return new Wi(gt(),ue())}function Ir(n){return Ea(()=>{let e=n.prototype.constructor,t=e[Zl]||yg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Zl]||yg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yg(n){return Lb(n)?()=>{let e=yg(Ot(n));return e&&e()}:Gi(n)}function gA(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=Bw(o,s,t,r|ae.Self,tr);if(a!==tr)return a;let c=o.parent;if(!c){let l=s[cw];if(l){let u=l.get(t,tr,r);if(u!==tr)return u}c=$w(s),s=s[ls]}o=c}return i}function $w(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[Rn]:null}function pm(n){return dA(gt(),n)}function fb(n,e=null,t=null,r){let i=Hw(n,e,t,r);return i.resolveInjectorInitializers(),i}function Hw(n,e=null,t=null,r,i=new Set){let o=[t||Vt,yP(n)];return r=r||(typeof n=="object"?void 0:Tt(n)),new _a(o,e||im(),r||null,i)}function Yp(n){return n[vA]}function yA(){return new _g(ue())}function uu(...n){}function qw(n){let e,t;function r(){n=uu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function hb(n){return queueMicrotask(()=>n()),()=>{n=uu}}function mm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){qw(()=>{n.callbackScheduled=!1,bg(n),n.isCheckStableRunning=!0,mm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),bg(n)}function wA(n){let e=()=>{bA(n)},t=_A++;n._inner=n._inner.fork({name:"angular",properties:{[gm]:!0,[du]:t,[du+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(EA(c))return r.invokeTask(o,s,a,c);try{return pb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),gb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return pb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!DA(c)&&e(),gb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,bg(n),mm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function bg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function pb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gb(n){n._nesting--,mm(n)}function EA(n){return Ww(n,"__ignore_ng_zone__")}function DA(n){return Ww(n,"__scheduler_tick__")}function Ww(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function MA(n="zone.js",e){return n==="noop"?new fu:n==="zone.js"?new ye(e):n}function IA(){return us(gt(),ue())}function us(n,e){return new mt(pn(n,e))}function xA(n){return n instanceof mt?n.nativeElement:n}function OA(){return this._results[Symbol.iterator]()}function Gw(n){return(n.flags&128)===128}function PA(){return TA++}function AA(n){Kw.set(n[Nu],n)}function Eg(n){Kw.delete(n[Nu])}function oi(n,e){ti(e)?(n[mb]=e[Nu],AA(e)):n[mb]=e}function Yw(n){return Zw(n[Ca])}function Qw(n){return Zw(n[Nn])}function Zw(n){for(;n!==null&&!Sr(n);)n=n[Nn];return n}function Jw(n){Dg=n}function NA(){if(Dg!==void 0)return Dg;if(typeof document<"u")return document;throw new M(210,!1)}function Cm(n,e,t=!1){return LA(n,e,t)}function jA(){if(Bl===void 0&&(Bl=null,xt.trustedTypes))try{Bl=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bl}function vb(n){return jA()?.createScriptURL(n)||n}function ds(n){return n instanceof hu?n.changingThisBreaksApplicationSecurity:n}function bm(n,e){let t=UA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Rb})`)}return t===e}function UA(n){return n instanceof hu&&n.getTypeName()||null}function eE(n){return n=String(n),n.match(BA)?n:"unsafe:"+n}function Xe(n){let e=nE();return e?e.sanitize(zu.URL,n)||"":bm(n,"URL")?ds(n):eE(Ou(n))}function $A(n){let e=nE();if(e)return vb(e.sanitize(zu.RESOURCE_URL,n)||"");if(bm(n,"ResourceURL"))return vb(ds(n));throw new M(904,!1)}function HA(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?$A:Xe}function tE(n,e,t){return HA(e,t)(n)}function nE(){let n=ue();return n&&n[rr].sanitizer}function GA(n){return n.replace(zA,e=>e.replace(qA,WA))}function rE(n){return n instanceof Function?n():n}function KA(n){return(n??v(Ze)).get(Gt)==="browser"}function wm(n,e){return YA(n,e)}function Ko(n,e,t,r,i){if(r!=null){let o,s=!1;Sr(r)?o=r:ti(r)&&(s=!0,r=r[Mr]);let a=or(r);n===0&&t!==null?i==null?cE(e,t,a):pu(e,t,a,i||null,!0):n===1&&t!==null?pu(e,t,a,i||null,!0):n===2?d1(e,a,s):n===3&&e.destroyNode(a),o!=null&&h1(e,n,o,t,i)}}function QA(n,e){return n.createText(e)}function ZA(n,e,t){n.setValue(e,t)}function JA(n,e){return n.createComment(GA(e))}function iE(n,e,t){return n.createElement(e,t)}function XA(n,e){oE(n,e),e[Mr]=null,e[Rn]=null}function e1(n,e,t,r,i,o){r[Mr]=i,r[Rn]=e,Wu(n,r,t,1,i,o)}function oE(n,e){e[rr].changeDetectionScheduler?.notify(9),Wu(n,e,e[Ge],2,null,null)}function t1(n){let e=n[Ca];if(!e)return Qp(n[re],n);for(;e;){let t=null;if(ti(e))t=e[Ca];else{let r=e[Wt];r&&(t=r)}if(!t){for(;e&&!e[Nn]&&e!==n;)ti(e)&&Qp(e[re],e),e=e[Ct];e===null&&(e=n),ti(e)&&Qp(e[re],e),t=e&&e[Nn]}e=t}}function n1(n,e,t,r){let i=Wt+r,o=t.length;r>0&&(t[i-1][Nn]=e),r<o-Wt?(e[Nn]=t[i],qb(t,Wt+r,e)):(t.push(e),e[Nn]=null),e[Ct]=t;let s=e[Ki];s!==null&&t!==s&&sE(s,e);let a=e[br];a!==null&&a.insertView(n),hg(e),e[Q]|=128}function sE(n,e){let t=n[ns],r=e[Ct];if(ti(r))n[Q]|=ou.HasTransplantedViews;else{let i=r[Ct][ir];e[ir]!==i&&(n[Q]|=ou.HasTransplantedViews)}t===null?n[ns]=[e]:t.push(e)}function Em(n,e){let t=n[ns],r=t.indexOf(e);t.splice(r,1)}function Mg(n,e){if(n.length<=Wt)return;let t=Wt+e,r=n[t];if(r){let i=r[Ki];i!==null&&i!==n&&Em(i,r),e>0&&(n[t-1][Nn]=r[Nn]);let o=Xl(n,Wt+e);XA(r[re],r);let s=o[br];s!==null&&s.detachView(o[re]),r[Ct]=null,r[Nn]=null,r[Q]&=-129}return r}function aE(n,e){if(!(e[Q]&256)){let t=e[Ge];t.destroyNode&&Wu(n,e,t,3,null,null),t1(e)}}function Qp(n,e){if(e[Q]&256)return;let t=ve(null);try{e[Q]&=-129,e[Q]|=256,e[un]&&zh(e[un]),i1(n,e),r1(n,e),e[re].type===1&&e[Ge].destroy();let r=e[Ki];if(r!==null&&Sr(e[Ct])){r!==e[Ct]&&Em(r,e);let i=e[br];i!==null&&i.detachView(n)}Eg(e)}finally{ve(t)}}function r1(n,e){let t=n.cleanup,r=e[ru];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[ru]=null);let i=e[ei];if(i!==null){e[ei]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function i1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ji)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];er(4,a,c);try{c.call(a)}finally{er(5,a,c)}}else{er(4,i,o);try{o.call(i)}finally{er(5,i,o)}}}}}function o1(n,e,t){return s1(n,e.parent,t)}function s1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Mr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===nr.None||o===nr.Emulated)return null}return pn(r,t)}}function pu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function cE(n,e,t){n.appendChild(e,t)}function yb(n,e,t,r,i){r!==null?pu(n,e,t,r,i):cE(n,e,t)}function lE(n,e){return n.parentNode(e)}function a1(n,e){return n.nextSibling(e)}function c1(n,e,t){return u1(n,e,t)}function l1(n,e,t){return n.type&40?pn(n,t):null}function qu(n,e,t,r){let i=o1(n,r,e),o=e[Ge],s=r.parent||e[Rn],a=c1(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)yb(o,i,t[c],a,!1);else yb(o,i,t,a,!1);_b!==void 0&&_b(o,r,e,t,i)}function pa(n,e){if(e!==null){let t=e.type;if(t&3)return pn(e,n);if(t&4)return Sg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return pa(n,r);{let i=n[e.index];return Sr(i)?Sg(-1,i):or(i)}}else{if(t&128)return pa(n,e.next);if(t&32)return wm(e,n)()||or(n[e.index]);{let r=uE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qi(n[ir]);return pa(i,r)}else return pa(n,e.next)}}}return null}function uE(n,e){if(e!==null){let r=n[ir][Rn],i=e.projection;return r.projection[i]}return null}function Sg(n,e){let t=Wt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return pa(r,i)}return e[Yi]}function d1(n,e,t){n.removeChild(null,e,t)}function Dm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&oi(or(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Dm(n,e,t.child,r,i,o,!1),Ko(e,n,i,a,o);else if(c&32){let l=wm(t,r),u;for(;u=l();)Ko(e,n,i,u,o);Ko(e,n,i,a,o)}else c&16?f1(n,e,r,t,i,o):Ko(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Wu(n,e,t,r,i,o){Dm(t,r,n.firstChild,e,i,o,!1)}function f1(n,e,t,r,i,o){let s=t[ir],c=s[Rn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ko(e,n,i,u,o)}else{let l=c,u=s[Ct];Gw(r)&&(l.flags|=128),Dm(n,e,l,u,i,o,!0)}}function h1(n,e,t,r,i){let o=t[Yi],s=or(t);o!==s&&Ko(e,n,r,o,i);for(let a=Wt;a<t.length;a++){let c=t[a];Wu(c[re],c,n,e,r,o)}}function p1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Er.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Er.Important),n.setStyle(t,r,i,o))}}function g1(n,e,t){n.setAttribute(e,"style",t)}function dE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function fE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ag(n,e,r),i!==null&&dE(n,e,i),o!==null&&g1(n,e,o)}function C(n=1){hE(Je(),ue(),io()+n,!1)}function hE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Gl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Kl(e,o,0,t)}Zi(t)}function D(n,e=ae.Default){let t=ue();if(t===null)return A(n,e);let r=gt();return Uw(r,t,Ot(n),e)}function pE(){let n="invalid";throw new Error(n)}function gE(n,e,t,r,i,o){let s=ve(null);try{let a=null;i&ni.SignalBased&&(a=e[r][vr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ni.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):uw(e,a,r,o)}finally{ve(s)}}function m1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zi(~i);else{let o=i,s=t[++r],a=t[++r];QP(s,o);let c=e[o];a(2,c)}}}finally{Zi(-1)}}function Gu(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Mr]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),vw(d),d[Ct]=d[ls]=n,d[kn]=t,d[rr]=s||n&&n[rr],d[Ge]=a||n&&n[Ge],d[ts]=c||n&&n[ts]||null,d[Rn]=o,d[Nu]=PA(),d[nu]=u,d[cw]=l,d[ir]=e.type==2?n[ir]:d,d}function Ma(n,e,t,r,i){let o=n.data[e];if(o===null)o=v1(n,e,t,r,i),YP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=WP();o.injectorIndex=s===null?-1:s.injectorIndex}return ro(o,!0),o}function v1(n,e,t,r,i){let o=ww(),s=cm(),a=s?o:o&&o.parent,c=n.data[e]=E1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function mE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vE(n,e,t,r,i){let o=io(),s=r&2;try{Zi(-1),s&&e.length>dn&&hE(n,e,dn,!1),er(s?2:0,i),t(r,i)}finally{Zi(o),er(s?3:1,i)}}function Mm(n,e,t){if(sm(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(r)}}}function Sm(n,e,t){bw()&&(O1(n,e,t,pn(t,e)),(t.flags&64)===64&&bE(n,e,t))}function Im(n,e,t=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function yE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=xm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xm(n,e,t,r,i,o,s,a,c,l,u){let d=dn+r,m=d+i,g=y1(d,m),y=typeof l=="function"?l():l;return g[re]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function y1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:sr);return t}function _1(n,e,t,r){let o=r.get(VA,Xw)||t===nr.ShadowDom,s=n.selectRootElement(e,o);return C1(s),s}function C1(n){b1(n)}function w1(n,e,t,r){let i=DE(e);i.push(t),n.firstCreatePass&&ME(n).push(r,i.length-1)}function E1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return HP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Cb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ni.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?bb(r,t,l,a,c):bb(r,t,l,a)}return r}function bb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function D1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,g=m?m.inputs:null,y=m?m.outputs:null;c=Cb(0,d.inputs,u,c,g),l=Cb(1,d.outputs,u,l,y);let w=c!==null&&s!==null&&!tm(e)?U1(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function M1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _E(n,e,t,r,i,o,s,a){let c=pn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Tm(n,t,u,r,i),ku(e)&&S1(t,e.index)):e.type&3?(r=M1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function S1(n,e){let t=ci(e,n);t[Q]&16||(t[Q]|=64)}function Om(n,e,t,r){if(bw()){let i=r===null?null:{"":-1},o=P1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&CE(n,e,t,s,i,a),i&&A1(t,r,i)}t.mergedAttrs=ya(t.mergedAttrs,t.attrs)}function CE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)vg(lu(t,e),n,r[l].type);k1(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=mE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=ya(t.mergedAttrs,u.hostAttrs),R1(n,t,e,c,u),N1(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}D1(n,t,o)}function I1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;x1(s)!=a&&s.push(a),s.push(t,r,o)}}function x1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function O1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;ku(t)&&F1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||lu(t,e),oi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Xi(e,n,a,t);if(oi(l,e),s!==null&&j1(e,a-i,l,c,t,s),ii(c)){let u=ci(t.index,e);u[kn]=Xi(e,n,a,t)}}}function bE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=ZP();try{Zi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];pg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&T1(c,l)}}finally{Zi(-1),pg(s)}}function T1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function P1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(lP(e,s.selectors,!1))if(r||(r=[]),ii(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Ig(n,e,c)}else r.unshift(s),Ig(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ig(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function A1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function N1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ii(e)&&(t[""]=n)}}function k1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function R1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Gi(i.type,!0)),s=new Ji(o,ii(i),D);n.blueprint[r]=s,t[r]=s,I1(n,e,r,mE(n,t,i.hostVars,sr),i)}function F1(n,e,t){let r=pn(e,n),i=yE(t),o=n[rr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Ku(n,Gu(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function L1(n,e,t,r,i,o){let s=pn(n,e);V1(e[Ge],s,o,n.value,t,r,i)}function V1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ou(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function j1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];gE(r,t,c,l,u,d)}}function U1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function wE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function EE(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];lm(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function Ku(n,e){return n[Ca]?n[sb][Nn]=e:n[Ca]=e,n[sb]=e,e}function xg(n,e,t){lm(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function DE(n){return n[ru]??=[]}function ME(n){return n.cleanup??=[]}function SE(n,e){let t=n[ts],r=t?t.get(wr,null):null;r&&r.handleError(e)}function Tm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];gE(u,l,r,a,c,i)}}function B1(n,e,t){let r=pw(e,n);ZA(n[Ge],r,t)}function $1(n,e){let t=ci(e,n),r=t[re];H1(r,t);let i=t[Mr];i!==null&&t[nu]===null&&(t[nu]=Cm(i,t[ts])),Pm(r,t,t[kn])}function H1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Pm(n,e,t){um(e);try{let r=n.viewQuery;r!==null&&xg(1,r,t);let i=n.template;i!==null&&vE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[br]?.finishViewCreation(n),n.staticContentQueries&&EE(n,e),n.staticViewQueries&&xg(2,n.viewQuery,t);let o=n.components;o!==null&&z1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,dm()}}function z1(n,e){for(let t=0;t<e.length;t++)$1(n,e[t])}function q1(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=Gu(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ki]=l;let u=n[br];return u!==null&&(c[br]=u.createEmbeddedView(o)),Pm(o,c,t),c}finally{ve(i)}}function wb(n,e){return!e||e.firstChild===null||Gw(n)}function W1(n,e,t,r=!0){let i=e[re];if(n1(i,e,n,t),r){let s=Sg(t,n),a=e[Ge],c=lE(a,n[Yi]);c!==null&&e1(i,n[Rn],a,e,c,s)}let o=e[nu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(or(o)),Sr(o)&&G1(o,r);let s=t.type;if(s&8)gu(n,e,t.child,r);else if(s&32){let a=wm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=uE(e,t);if(Array.isArray(a))r.push(...a);else{let c=Qi(e[ir]);gu(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function G1(n,e){for(let t=Wt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&gu(r[re],r,i,e)}n[Yi]!==n[Mr]&&e.push(n[Yi])}function K1(n){return n[un]??Y1(n)}function Y1(n){let e=IE.pop()??Object.create(Z1);return e.lView=n,e}function Q1(n){n.lView[un]!==n&&(n.lView=null,IE.push(n))}function J1(n){let e=n[un]??Object.create(X1);return e.lView=n,e}function xE(n){return n.type!==2}function OE(n,e=!0,t=0){let r=n[rr],i=r.rendererFactory,o=!1;o||i.begin?.();try{tN(n,t)}catch(s){throw e&&SE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function tN(n,e){let t=Dw();try{cb(!0),Og(n,e);let r=0;for(;Fu(n);){if(r===eN)throw new M(103,!1);r++,Og(n,1)}}finally{cb(t)}}function nN(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[rr].inlineEffectRunner?.flush(),um(e);let a=!0,c=null,l=null;o||(xE(n)?(l=K1(e),c=Jc(l)):_0()===null?(a=!1,l=J1(e),c=Jc(l)):e[un]&&(zh(e[un]),e[un]=null));try{vw(e),KP(n.bindingStartIndex),t!==null&&vE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&Gl(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Kl(e,g,0,null),Wp(e,0)}if(s||rN(e),TE(e,0),n.contentQueries!==null&&EE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&Gl(e,g)}else{let g=n.contentHooks;g!==null&&Kl(e,g,1),Wp(e,1)}m1(n,e);let d=n.components;d!==null&&AE(e,d,0);let m=n.viewQuery;if(m!==null&&xg(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&Gl(e,g)}else{let g=n.viewHooks;g!==null&&Kl(e,g,2),Wp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[qp]){for(let g of e[qp])g();e[qp]=null}o||(e[Q]&=-73)}catch(u){throw o||Lu(e),u}finally{l!==null&&($h(l,c),a&&Q1(l)),dm()}}function TE(n,e){for(let t=Yw(n);t!==null;t=Qw(t))for(let r=Wt;r<t.length;r++){let i=t[r];PE(i,e)}}function rN(n){for(let e=Yw(n);e!==null;e=Qw(e)){if(!(e[Q]&ou.HasTransplantedViews))continue;let t=e[ns];for(let r=0;r<t.length;r++){let i=t[r];yw(i)}}}function iN(n,e,t){let r=ci(e,n);PE(r,t)}function PE(n,e){am(n)&&Og(n,e)}function Og(n,e){let r=n[re],i=n[Q],o=n[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hh(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)nN(r,n,r.template,n[kn]);else if(i&8192){TE(n,1);let a=r.components;a!==null&&AE(n,a,1)}}function AE(n,e,t){for(let r=0;r<e.length;r++)iN(n,e[r],t)}function Am(n,e){let t=Dw()?64:1088;for(n[rr].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Qi(n);if(dg(n)&&!r)return n;n=r}return null}function aN(){return Yu(gt(),ue())}function Yu(n,e){return n.type&4?new sN(e,n,us(n,e)):null}function Eb(n,e){return cN(n,e)}function lN(n){let e=Error(`No component factory found for ${Tt(n)}.`);return e[uN]=n,e}function dN(){let n=ue(),e=gt(),t=ci(e.index,n);return(ti(t)?t:n)[Ge]}function vu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=rg(i,a);else if(o==2){let c=a,l=e[++s];r=rg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Db(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ni.None;e?t.push({propName:s,templateName:r,isSignal:(a&ni.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function hN(n){let e=n.toLowerCase();return e==="svg"?kP:e==="math"?RP:null}function pN(n,e){let t=n[re],r=dn;return n[r]=e,Ma(t,r,2,"#host",null)}function gN(n,e,t,r,i,o,s){let a=i[re];mN(r,n,e,s);let c=null;e!==null&&(c=Cm(e,i[ts]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=Gu(i,yE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Ig(a,n,r.length-1),Ku(i,d),i[n.index]=d}function mN(n,e,t,r){for(let i of n)e.mergedAttrs=ya(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(vu(e,e.mergedAttrs,!0),t!==null&&fE(r,t,e))}function vN(n,e,t,r,i,o){let s=gt(),a=i[re],c=pn(s,i);CE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,m=Xi(i,a,d,s);oi(m,i)}bE(a,i,s),c&&oi(c,i);let l=Xi(i,a,s.directiveStart+s.componentOffset,s);if(n[kn]=i[kn]=l,o!==null)for(let u of o)u(l,e);return Mm(a,s,i),l}function yN(n,e,t,r){if(r)ag(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=pP(e.selectors[0]);i&&ag(n,t,i),o&&o.length>0&&dE(n,t,o.join(" "))}}function _N(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function CN(){let n=gt();$u(ue()[re],n)}function bN(){let n=gt();return FE(n,ue())}function Mb(n){return n[iu]}function Zp(n){return n[iu]||(n[iu]=[])}function FE(n,e){let t,r=e[n.index];return Sr(r)?t=r:(t=wE(r,e,null,n),e[n.index]=t,Ku(e,t)),DN(t,e,n,r),new RE(t,n,e)}function EN(n,e){let t=n[Ge],r=t.createComment(""),i=pn(e,n),o=lE(t,i);return pu(t,o,r,a1(t,i),!1),r}function SN(n,e,t){return MN(n,e,t)}function IN(n,e,t,r){if(n[Yi])return;let i;t.type&8?i=or(r):i=EN(e,t),n[Yi]=i}function xN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function ON(n,e){return n.type&11?us(n,e):n.type&4?Yu(n,e):null}function TN(n,e,t,r){return t===-1?ON(e,n):t===-2?PN(n,e,r):Xi(n,n[re],t,e)}function PN(n,e,t){if(t===mt)return us(e,n);if(t===to)return Yu(e,n);if(t===li)return FE(e,n)}function LE(n,e,t,r){let i=e[br].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(TN(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Lg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=LE(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Wt;d<u.length;d++){let m=u[d];m[Ki]===m[Ct]&&Lg(m[re],m,l,r)}if(u[ns]!==null){let d=u[ns];for(let m=0;m<d.length;m++){let g=d[m];Lg(g[re],g,l,r)}}}}}return r}function AN(n,e){return n[br].queries[e].queryList}function VE(n,e,t){let r=new wg((t&4)===4);return w1(n,e,r,r.destroy),(e[br]??=new kg).queries.push(new Ng(r))-1}function NN(n,e,t){let r=Je();return r.firstCreatePass&&(jE(r,new _u(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),VE(r,ue(),e)}function kN(n,e,t,r){let i=Je();if(i.firstCreatePass){let o=gt();jE(i,new _u(e,t,r),o.index),FN(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return VE(i,ue(),t)}function RN(n){return n.split(",").map(e=>e.trim())}function jE(n,e,t){n.queries===null&&(n.queries=new Rg),n.queries.track(new Fg(e,t))}function FN(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function km(n,e){return n.queries.getByIndex(e)}function LN(n,e){let t=n[re],r=km(t,e);return r.crossesNgTemplate?Lg(t,n,e,[]):LE(t,n,r,e)}function oo(n){Sb.has(n)||(Sb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function VN(n){return typeof n=="function"&&n[vr]!==void 0}function so(n,e){oo("NgSignals");let t=T0(n),r=t[vr];return e?.equal&&(r.equal=e.equal),t.set=i=>qh(r,i),t.update=i=>P0(r,i),t.asReadonly=jN.bind(t),t}function jN(){let n=this[vr];if(n.readonlyFn===void 0){let e=()=>this();e[vr]=n,n.readonlyFn=e}return n.readonlyFn}function UE(n){return VN(n)&&typeof n.set=="function"}function UN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(zN))}return o}return Cu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>qN(o));e.push(c)}),$N(),Promise.all(e).then(()=>{})}function $N(){let n=Cu;return Cu=new Map,n}function HN(){return Cu.size===0}function zN(n){return typeof n=="string"?n:n.text()}function qN(n){BN.delete(n)}function WN(n){return Object.getPrototypeOf(n.prototype).constructor}function jt(n){let e=WN(n.type),t=!0,r=[n];for(;e;){let i;if(ii(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=$l(n.inputs),s.inputTransforms=$l(n.inputTransforms),s.declaredInputs=$l(n.declaredInputs),s.outputs=$l(n.outputs);let a=i.hostBindings;a&&ZN(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&YN(n,c),l&&QN(n,l),GN(n,i),kT(n.outputs,i.outputs),ii(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===jt&&(t=!1)}}e=Object.getPrototypeOf(e)}KN(r)}function GN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function KN(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ya(i.hostAttrs,t=ya(t,i.hostAttrs))}}function $l(n){return n===Jo?{}:n===Vt?[]:n}function YN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function QN(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function ZN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Rm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function JN(n,e,t){return new bu(n,e,t,!1)}function Qu(n,e,t=null){return new Vg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function BE(n){return ek(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function XN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function ek(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Fm(n,e,t){return n[e]=t}function tk(n,e){return n[e]}function Dr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function nk(n,e,t,r){let i=Dr(n,e,t);return Dr(n,e+1,r)||i}function rk(n){return(n.flags&32)===32}function ik(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ma(e,n,4,s||null,a||null);Om(e,t,u,rs(l,c)),$u(e,u);let d=u.tView=xm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function ok(n,e,t,r,i,o,s,a,c,l){let u=t+dn,d=e.firstCreatePass?ik(u,e,n,r,i,o,s,a,c):e.data[u];ro(d,!1);let m=sk(e,n,d,t);Uu()&&qu(e,n,m,d),oi(m,n);let g=wE(m,n,m,d);return n[u]=g,Ku(n,g),SN(g,d,n),Ru(d)&&Sm(e,n,d),c!=null&&Im(n,d,l),d}function N(n,e,t,r,i,o,s,a){let c=ue(),l=Je(),u=rs(l.consts,o);return ok(c,l,n,e,t,r,i,u,s,a),N}function ak(n,e,t,r){return Bu(!0),e[Ge].createComment("")}function Lm(n,e){!e?.injector&&om(Lm);let t=e?.injector??v(Ze);return KA(t)?(oo("NgAfterNextRender"),lk(n,t,e,!0)):uk}function ck(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function lk(n,e,t,r){let i=e.get($E);i.impl??=e.get(jg);let o=t?.phase??Yo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(At):null,a=new Ug(i.impl,ck(n,o),r,s);return i.impl.register(a),a}function fs(n,e,t,r){let i=ue(),o=ju();if(Dr(i,o,e)){let s=Je(),a=fm();L1(a,i,n,e,t,r)}return fs}function HE(n,e,t,r){return Dr(n,ju(),t)?e+Ou(t)+r:sr}function Hl(n,e){return n<<17|e<<2}function no(n){return n>>17&32767}function dk(n){return(n&2)==2}function fk(n,e){return n&131071|e<<17}function Bg(n){return n|2}function as(n){return(n&131068)>>2}function Jp(n,e){return n&-131069|e<<2}function hk(n){return(n&1)===1}function $g(n){return n|1}function pk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=no(s),c=as(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Da(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let m=no(n[a+1]);n[r+1]=Hl(m,a),m!==0&&(n[m+1]=Jp(n[m+1],r)),n[a+1]=fk(n[a+1],r)}else n[r+1]=Hl(a,0),a!==0&&(n[a+1]=Jp(n[a+1],r)),a=r;else n[r+1]=Hl(c,0),a===0?a=r:n[c+1]=Jp(n[c+1],r),c=r;l&&(n[r+1]=Bg(n[r+1])),Ib(n,u,r,!0),Ib(n,u,r,!1),gk(e,u,n,r,o),s=Hl(a,c),o?e.classBindings=s:e.styleBindings=s}function gk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Da(o,e)>=0&&(t[r+1]=$g(t[r+1]))}function Ib(n,e,t,r){let i=n[t+1],o=e===null,s=r?no(i):as(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];mk(c,e)&&(a=!0,n[s+1]=r?$g(l):Bg(l)),s=r?no(l):as(l)}a&&(n[t+1]=r?Bg(i):$g(i))}function mk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Da(n,e)>=0:!1}function vk(n){return n.substring(An.key,An.keyEnd)}function yk(n){return _k(n),zE(n,qE(n,0,An.textEnd))}function zE(n,e){let t=An.textEnd;return t===e?-1:(e=An.keyEnd=Ck(n,An.key=e,t),qE(n,e,t))}function _k(n){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=n.length}function qE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ck(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=ue(),i=ju();if(Dr(r,i,e)){let o=Je(),s=fm();_E(o,s,r,n,e,r[Ge],t,!1)}return b}function Hg(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Tm(n,t,o[s],s,r)}function hs(n,e){return wk(n,e,null,!0),hs}function bk(n,e){for(let t=yk(e);t>=0;t=zE(e,t))em(n,vk(e),!0)}function wk(n,e,t,r){let i=ue(),o=Je(),s=Mw(2);if(o.firstUpdatePass&&GE(o,n,s,r),e!==sr&&Dr(i,s,e)){let a=o.data[io()];KE(o,a,i,i[Ge],n,i[s+1]=Tk(e,t),r,s)}}function Ek(n,e,t,r){let i=Je(),o=Mw(2);i.firstUpdatePass&&GE(i,null,o,r);let s=ue();if(t!==sr&&Dr(s,o,t)){let a=i.data[io()];if(YE(a,r)&&!WE(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=rg(c,t||"")),Hg(i,a,s,t,r)}else Ok(i,a,s,s[Ge],s[o+1],s[o+1]=xk(n,e,t),r,o)}}function WE(n,e){return e>=n.expandoStartIndex}function GE(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[io()],s=WE(n,t);YE(o,r)&&e===null&&!s&&(e=!1),e=Dk(i,o,e,r),pk(i,o,e,t,s,r)}}function Dk(n,e,t,r){let i=JP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Xp(null,n,e,t,r),t=wa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Xp(i,n,e,t,r),o===null){let c=Mk(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Xp(null,n,e,c[1],r),c=wa(c,e.attrs,r),Sk(n,e,r,c))}else o=Ik(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Mk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(as(r)!==0)return n[no(r)]}function Sk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[no(i)]=r}function Ik(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=wa(r,s,t)}return wa(r,e.attrs,t)}function Xp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=wa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function wa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),em(n,s,t?!0:e[++o]))}return n===void 0?null:n}function xk(n,e,t){if(t==null||t==="")return Vt;let r=[],i=ds(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Ok(n,e,t,r,i,o,s,a){i===sr&&(i=Vt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,y=null,w;u===d?(c+=2,l+=2,m!==g&&(y=d,w=g)):d===null||u!==null&&u<d?(c+=2,y=u):(l+=2,y=d,w=g),y!==null&&KE(n,e,t,r,y,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function KE(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=hk(l)?xb(c,e,t,i,as(l),s):void 0;if(!Eu(u)){Eu(o)||dk(l)&&(o=xb(c,null,t,i,a,s));let d=pw(io(),t);p1(r,s,d,i,o)}}function xb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=t[i+1];m===sr&&(m=d?Vt:void 0);let g=d?Hp(m,r):u===r?m:void 0;if(l&&!Eu(g)&&(g=Hp(c,r)),Eu(g)&&(a=g,s))return a;let y=n[i+1];i=s?no(y):as(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Hp(c,r))}return a}function Eu(n){return n!==void 0}function Tk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Tt(ds(n)))),n}function YE(n,e){return(n.flags&(e?8:16))!==0}function QE(n,e,t){let r=ue(),i=HE(r,n,e,t);Ek(em,bk,i,!0)}function Pk(n,e,t,r,i,o){let s=e.consts,a=rs(s,i),c=Ma(e,n,2,r,a);return Om(e,t,c,rs(s,o)),c.attrs!==null&&vu(c,c.attrs,!1),c.mergedAttrs!==null&&vu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(n,e,t,r){let i=ue(),o=Je(),s=dn+n,a=i[Ge],c=o.firstCreatePass?Pk(s,o,i,e,t,r):o.data[s],l=Ak(o,i,c,a,e,n);i[s]=l;let u=Ru(c);return ro(c,!0),fE(a,l,c),!rk(c)&&Uu()&&qu(o,i,l,c),UP()===0&&oi(l,i),BP(),u&&(Sm(o,i,c),Mm(o,c,i)),r!==null&&Im(i,c),h}function f(){let n=gt();cm()?Ew():(n=n.parent,ro(n,!1));let e=n;zP(e)&&qP(),$P();let t=Je();return t.firstCreatePass&&($u(t,n),sm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&oA(e)&&Hg(t,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&sA(e)&&Hg(t,e,ue(),e.stylesWithoutHost,!1),f}function R(n,e,t,r){return h(n,e,t,r),f(),R}function Nk(n,e,t,r,i){let o=e.consts,s=rs(o,r),a=Ma(e,n,8,"ng-container",s);s!==null&&vu(a,s,!0);let c=rs(o,i);return Om(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Kt(n,e,t){let r=ue(),i=Je(),o=n+dn,s=i.firstCreatePass?Nk(o,i,r,e,t):i.data[o];ro(s,!0);let a=kk(i,r,s,n);return r[o]=a,Uu()&&qu(i,r,a,s),oi(a,r),Ru(s)&&(Sm(i,r,s),Mm(i,s,r)),t!=null&&Im(r,s),Kt}function Yt(){let n=gt(),e=Je();return cm()?Ew():(n=n.parent,ro(n,!1)),e.firstCreatePass&&($u(e,n),sm(n)&&e.queries.elementEnd(n)),Yt}function K(){return ue()}function Rk(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function gn(n){let e=Lk(n),t=Ob(e);if(t)return t;let r=e.split("-")[0];if(t=Ob(r),t)return t;if(r==="en")return Fk;throw new M(701,!1)}function Ob(n){return n in eg||(eg[n]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[n]),eg[n]}function Lk(n){return n.toLowerCase().replace(/_/g,"-")}function jk(n){typeof n=="string"&&(Vk=n.toLowerCase().replace(/_/g,"-"))}function O(n,e,t,r){let i=ue(),o=Je(),s=gt();return ZE(o,i,i[Ge],s,n,e,r),O}function Bk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ru],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ZE(n,e,t,r,i,o,s){let a=Ru(r),l=n.firstCreatePass&&ME(n),u=e[kn],d=DE(e),m=!0;if(r.type&3||s){let w=pn(r,e),P=s?s(w):w,B=d.length,oe=s?he=>s(or(he[r.index])):r.index,Y=null;if(!s&&a&&(Y=Bk(n,e,i,r.index)),Y!==null){let he=Y.__ngLastListenerFn__||Y;he.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,m=!1}else{o=Pb(r,e,u,o),Uk(w,i,o);let he=t.listen(P,i,o);d.push(o,he),l&&l.push(i,oe,B,B+1)}}else o=Pb(r,e,u,o);let g=r.outputs,y;if(m&&g!==null&&(y=g[i])){let w=y.length;if(w)for(let P=0;P<w;P+=2){let B=y[P],oe=y[P+1],qe=e[B][oe].subscribe(o),Me=d.length;d.push(o,qe),l&&l.push(i,r.index,Me,-(Me+1))}}}function Tb(n,e,t,r){let i=ve(null);try{return er(6,e,t),t(r)!==!1}catch(o){return SE(n,o),!1}finally{er(7,e,t),ve(i)}}function Pb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?ci(n.index,e):e;Am(s,5);let a=Tb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Tb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function S(n=1){return eA(n)}function JE(n,e,t,r){kN(n,e,t,r)}function Zu(n,e,t){NN(n,e,t)}function ps(n){let e=ue(),t=Je(),r=Sw();lm(r+1);let i=km(t,r);if(n.dirty&&FP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=LN(e,r);n.reset(o,xA),n.notifyOnChanges()}return!0}return!1}function gs(){return AN(ue(),Sw())}function $k(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function bt(n){let e=GP();return mw(e,dn+n)}function _(n,e=""){let t=ue(),r=Je(),i=n+dn,o=r.firstCreatePass?Ma(r,i,1,e,null):r.data[i],s=Hk(r,t,o,e,n);t[i]=s,Uu()&&qu(r,t,s,o),ro(o,!1)}function wt(n){return Oe("",n,""),wt}function Oe(n,e,t){let r=ue(),i=HE(r,n,e,t);return i!==sr&&B1(r,io(),i),Oe}function mn(n,e,t){UE(e)&&(e=e());let r=ue(),i=ju();if(Dr(r,i,e)){let o=Je(),s=fm();_E(o,s,r,n,e,r[Ge],t,!1)}return mn}function Vn(n,e){let t=UE(n);return t&&n.set(e),t}function vn(n,e){let t=ue(),r=Je(),i=gt();return ZE(r,t,t[Ge],i,n,e),vn}function zk(n,e,t){let r=Je();if(r.firstCreatePass){let i=ii(n);zg(t,r.data,r.blueprint,i,!0),zg(e,r.data,r.blueprint,i,!1)}}function zg(n,e,t,r,i){if(n=Ot(n),Array.isArray(n))for(let o=0;o<n.length;o++)zg(n[o],e,t,r,i);else{let o=Je(),s=ue(),a=gt(),c=es(n)?n:Ot(n.provide),l=sw(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(es(n)||!n.multi){let g=new Ji(l,i,D),y=ng(c,e,i?u:u+m,d);y===-1?(vg(lu(a,s),o,c),tg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[y]=g,s[y]=g)}else{let g=ng(c,e,u+m,d),y=ng(c,e,u,u+m),w=g>=0&&t[g],P=y>=0&&t[y];if(i&&!P||!i&&!w){vg(lu(a,s),o,c);let B=Gk(i?Wk:qk,t.length,i,r,l);!i&&P&&(t[y].providerFactory=B),tg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=XE(t[i?y:g],l,!i&&r);tg(o,n,g>-1?g:y,B)}!i&&r&&P&&t[y].componentProviders++}}}function tg(n,e,t,r){let i=es(e),o=wP(e);if(i||o){let c=(o?Ot(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function XE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ng(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qk(n,e,t,r){return qg(this.multi,[])}function Wk(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Xi(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),qg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],qg(i,o);return o}function qg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Gk(n,e,t,r,i){let o=new Ji(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,XE(o,i,r&&!t),o}function et(n,e=[]){return t=>{t.providersResolver=(r,i)=>zk(r,i?i(n):n,e)}}function eD(n){oo("NgStandalone"),n.getStandaloneInjector=e=>e.get(Kk).getOrCreateStandaloneInjector(n)}function tD(n,e,t){let r=n.\u0275cmp;r.directiveDefs=tu(e,!1),r.pipeDefs=tu(t,!0)}function ms(n,e,t){let r=Vu()+n,i=ue();return i[r]===sr?Fm(i,r,t?e.call(t):e()):tk(i,r)}function Sa(n,e,t,r){return rD(ue(),Vu(),n,e,t,r)}function ar(n,e,t,r,i){return Yk(ue(),Vu(),n,e,t,r,i)}function nD(n,e){let t=n[e];return t===sr?void 0:t}function rD(n,e,t,r,i,o){let s=e+t;return Dr(n,s,i)?Fm(n,s+1,o?r.call(o,i):r(i)):nD(n,s+1)}function Yk(n,e,t,r,i,o,s){let a=e+t;return nk(n,a,i,o)?Fm(n,a+2,s?r.call(s,i,o):r(i,o)):nD(n,a+2)}function Ut(n,e){let t=Je(),r,i=n+dn;t.firstCreatePass?(r=Qk(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Gi(r.type,!0)),s,a=Lt(D);try{let c=cu(!1),l=o();return cu(c),$k(t,ue(),i,l),l}finally{Lt(a)}}function Qk(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Bt(n,e,t){let r=n+dn,i=ue(),o=mw(i,r);return Zk(i,r)?rD(i,Vu(),e,o.transform,t,o):o.transform(t)}function Zk(n,e){return n[re].data[e].pure}function cr(n,e){return Yu(n,e)}function Jk(n){zl!==null&&(n.defaultEncapsulation!==zl.defaultEncapsulation||n.preserveWhitespaces!==zl.preserveWhitespaces)||(zl=n)}function Xk(n){jm=n}function ui(n){return!!n&&typeof n.then=="function"}function Um(n){return!!n&&typeof n.subscribe=="function"}function eR(){O0(()=>{throw new M(600,!1)})}function tR(n){return n.isBoundToModule}function rR(n,e,t){try{let r=t();return ui(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function oD(n,e){return Array.isArray(e)?e.reduce(oD,n):E(E({},n),e)}function Ql(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function iR(n,e,t,r){if(!t&&!Fu(n))return;OE(n,e,t&&!r?0:1)}function sR(n,e,t){let r=new wu(t);return Promise.resolve(r)}function Ab(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function cR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye($(E({},sD()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:Xo,multi:!0,useFactory:()=>{let r=v(aR,{optional:!0});return()=>r.initialize()}},{provide:Xo,multi:!0,useFactory:()=>{let r=v(lR);return()=>{r.initialize()}}},e===!0?{provide:NE,useValue:!0}:[],{provide:kE,useValue:t??zw}]}function sD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function dR(){return typeof $localize<"u"&&$localize.locale||Du}function ql(n){return!n.moduleRef}function fR(n){let e=ql(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{ql(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(wr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),ql(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Mu);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Mu);s.add(o),n.moduleRef.onDestroy(()=>{Ql(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return rR(r,t,()=>{let o=e.get(iD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(rd,Du);if(jk(s||Du),ql(n)){let a=e.get(yn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return hR(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function hR(n,e){let t=n.injector.get(yn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new M(-403,!1);e.push(n)}function pR(n){if(ma&&!ma.get(cD,!1))throw new M(400,!1);eR(),ma=n;let e=n.get(aD);return vR(n),e}function Bm(n,e,t=[]){let r=`Platform: ${e}`,i=new k(r);return(o=[])=>{let s=lD();if(!s||s.injector.get(cD,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):pR(gR(a,r))}return mR(i)}}function gR(n=[],e){return Ze.create({name:e,providers:[{provide:Au,useValue:"platform"},{provide:Mu,useValue:new Set([()=>ma=null])},...n]})}function mR(n){let e=lD();if(!e)throw new M(401,!1);return e}function lD(){return ma?.get(aD)??null}function vR(n){n.get(vm,null)?.forEach(t=>t())}function yR(n){return _R(gt(),ue(),(n&16)===16)}function _R(n,e,t){if(ku(n)&&!t){let r=ci(n.index,e);return new eo(r,r)}else if(n.type&175){let r=e[ir];return new eo(r,e)}return null}function Nb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function kb(){return new $m([new Gg])}function di(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ao(n,e){oo("NgSignals");let t=S0(n);return e?.equal&&(t[vr].equal=e.equal),t}function Qt(n){let e=ve(null);try{return n()}finally{ve(e)}}function fD(n){let e=ri(n);if(!e)return null;let t=new ss(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Rb,M,Ul,xt,RT,jb,eb,Ub,LT,k,VT,jT,UT,BT,Zl,ga,tb,ae,ig,zT,va,og,Jl,qT,WT,GT,nb,Qo,Pu,Jg,Jo,Vt,Xo,Wb,Gb,eu,Kb,nr,ni,Qb,_P,Au,Wl,EP,zp,Pt,_a,Mr,re,Q,Ct,Nn,Rn,nu,ru,kn,ts,rr,Ge,Ca,sb,ls,ir,Ki,Go,br,Nu,cw,ei,qp,un,dn,lw,Yi,iu,ns,Wt,ou,fg,fw,ab,er,kP,RP,ce,Cw,Pw,Aw,Zo,Ji,Gp,gg,mg,cA,Rw,Fw,lA,tr,Wi,Ze,mA,vA,zw,At,_g,xr,Cg,se,gm,du,_A,ye,CA,fu,wr,SA,mt,wg,Kw,TA,mb,Dg,Hu,kA,vm,Gt,ym,_m,RA,FA,LA,Xw,VA,Bl,hu,BA,zu,zA,qA,WA,Er,YA,u1,_b,sr,b1,IE,Z1,X1,eN,eo,to,oN,sN,p7,cN,is,Nm,NE,kE,Tg,mu,uN,Pg,os,si,Ln,fN,yu,ss,Ag,li,wN,RE,DN,MN,Ng,kg,_u,Rg,Fg,Sb,Cu,BN,ai,ba,bu,wu,Vg,sk,Yo,$E,jg,Ug,uk,An,Ak,kk,qi,Fk,eg,Qe,Du,Vk,Uk,Hk,Kk,zl,Ju,Vm,Ia,Xu,ed,jm,vs,iD,td,nR,yn,Wg,nd,oR,aR,lR,uR,rd,Mu,aD,ma,cD,jn,Gg,CR,Kg,Yg,Qg,Su,$m,uD,dD,T=p(()=>{"use strict";N0();we();Jr();Rb="https://g.co/ng/security#xss",M=class extends Error{constructor(e,t){super(Iu(e,t)),this.code=e}};Ul="__parameters__";xt=globalThis;RT=Pe({__forward_ref__:Pe});jb=Pe({\u0275prov:Pe}),eb=Pe({\u0275inj:Pe}),Ub=Pe({ngInjectableDef:Pe}),LT=Pe({ngInjectorDef:Pe}),k=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};VT=Pe({\u0275cmp:Pe}),jT=Pe({\u0275dir:Pe}),UT=Pe({\u0275pipe:Pe}),BT=Pe({\u0275mod:Pe}),Zl=Pe({\u0275fac:Pe}),ga=Pe({__NG_ELEMENT_ID__:Pe}),tb=Pe({__NG_ENV_ID__:Pe});ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{});zT={},va=zT,og="__NG_DI_FLAG__",Jl="ngTempTokenPath",qT="ngTokenPath",WT=/\n/gm,GT="\u0275",nb="__source";Pu=zb(Fb("Optional"),8),Jg=zb(Fb("SkipSelf"),4);Jo={},Vt=[],Xo=new k(""),Wb=new k("",-1),Gb=new k(""),eu=class{get(e,t=va){if(t===va){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return t}},Kb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Kb||{}),nr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nr||{}),ni=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ni||{});Qb="ng-template";_P=Pe({provide:String,useValue:Pe});Au=new k(""),Wl={},EP={};Pt=class{},_a=class extends Pt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ug(e,s=>this.processProvider(s)),this.records.set(Wb,Wo(void 0,this)),i.has("environment")&&this.records.set(Pt,Wo(void 0,this));let o=this.records.get(Au);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gb,Vt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Xr(this),r=Lt(void 0),i;try{return e()}finally{Xr(t),Lt(r)}}get(e,t=va,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tb))return e[tb](this);r=Tu(r);let i,o=Xr(this),s=Lt(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=xP(e)&&xu(e);l&&this.injectableDefInScope(l)?c=Wo(lg(e),Wl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?im():this.parent;return t=r&ae.Optional&&t===va?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Jl]=a[Jl]||[]).unshift(Tt(e)),o)throw a;return ZT(a,e,"R3InjectorError",this.source)}else throw a}finally{Lt(s),Xr(o)}}resolveInjectorInitializers(){let e=ve(null),t=Xr(this),r=Lt(void 0),i;try{let o=this.get(Xo,Vt,ae.Self);for(let s of o)s()}finally{Xr(t),Lt(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=Ot(e);let t=es(e)?e:Ot(e&&e.provide),r=MP(e);if(!es(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Wo(void 0,Wl,!0),i.factory=()=>sg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ve(null);try{return t.value===Wl&&(t.value=EP,t.value=t.factory()),typeof t.value=="object"&&t.value&&IP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ot(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Mr=0,re=1,Q=2,Ct=3,Nn=4,Rn=5,nu=6,ru=7,kn=8,ts=9,rr=10,Ge=11,Ca=12,sb=13,ls=14,ir=15,Ki=16,Go=17,br=18,Nu=19,cw=20,ei=21,qp=22,un=23,dn=25,lw=1,Yi=7,iu=8,ns=9,Wt=10,ou=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ou||{});fg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};Fn.ngInherit=!0;fw="__ngSimpleChanges__";ab=null,er=function(n,e,t){ab?.(n,e,t)},kP="svg",RP="math";ce={lFrame:Ow(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Cw=!1;Pw=Tw;Aw=!0;Zo=-1,Ji=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};Gp={},gg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Tu(r);let i=this.injector.get(e,Gp,r);return i!==Gp||t===Gp?i:this.parentInjector.get(e,t,r)}};mg=!0;cA=256,Rw=cA-1,Fw=5,lA=0,tr={};Wi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Uw(this._tNode,this._lView,e,Tu(r),t)}};Ze=class n{static{this.THROW_IF_NOT_FOUND=va}static{this.NULL=new eu}static create(e,t){if(Array.isArray(e))return fb({name:""},t,e,"");{let r=e.name??"";return fb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=I({token:n,providedIn:"any",factory:()=>A(Wb)})}static{this.__NG_ELEMENT_ID__=-1}};mA=new k("");mA.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new M(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new M(204,!1)};vA="ngOriginalError";zw=!0,At=(()=>{class n{static{this.__NG_ELEMENT_ID__=yA}static{this.__NG_ENV_ID__=t=>t}}return n})(),_g=class extends At{constructor(e){super(),this._lView=e}onDestroy(e){return _w(this._lView,e),()=>jP(this._lView,e)}};xr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Cg=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,aw()&&(this.destroyRef=v(At,{optional:!0})??void 0,this.pendingTasks=v(xr,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=Cg;gm="isAngularZone",du=gm+"_ID",_A=0,ye=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zw}=e;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,wA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,CA,uu,uu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},CA={};fu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};wr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yp(e);for(;t&&Yp(t);)t=Yp(t);return t||null}},SA=new k("",{providedIn:"root",factory:()=>{let n=v(ye),e=v(wr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});mt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=IA}}return n})();wg=class n{get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=OA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=eP(e);(this._changesDetected=!XT(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};Kw=new Map,TA=0;mb="__ngContext__";Hu=new k("",{providedIn:"root",factory:()=>kA}),kA="ng",vm=new k(""),Gt=new k("",{providedIn:"platform",factory:()=>"unknown"}),ym=new k(""),_m=new k("",{providedIn:"root",factory:()=>NA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),RA="h",FA="b",LA=()=>null;Xw=!1,VA=new k("",{providedIn:"root",factory:()=>Xw});hu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rb})`}};BA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;zu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zu||{});zA=/^>|^->|<!--|-->|--!>|<!-$/g,qA=/(<|>)/g,WA="\u200B$1\u200B";Er=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Er||{});u1=l1;sr={};b1=()=>null;IE=[];Z1=$(E({},ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Lu(n.lView)},consumerOnSignalRead(){this.lView[un]=this}});X1=$(E({},ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Qi(n.lView);for(;e&&!xE(e[re]);)e=Qi(e);e&&yw(e)},consumerOnSignalRead(){this.lView[un]=this}});eN=100;eo=class{get rootNodes(){let e=this._lView,t=e[re];return gu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(e){this._lView[kn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(Sr(e)){let t=e[iu],r=t?t.indexOf(this):-1;r>-1&&(Mg(e,r),Xl(t,r))}this._attachedToViewContainer=!1}aE(this._lView[re],this._lView)}onDestroy(e){_w(this._lView,e)}markForCheck(){Am(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){hg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,OE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=dg(this._lView),t=this._lView[Ki];t!==null&&!e&&Em(t,this._lView),oE(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e;let t=dg(this._lView),r=this._lView[Ki];r!==null&&!t&&sE(r,this._lView),hg(this._lView)}},to=(()=>{class n{static{this.__NG_ELEMENT_ID__=aN}}return n})(),oN=to,sN=class extends oN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=q1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new eo(i)}};p7=new RegExp(`^(\\d+)*(${FA}|${RA})*(.*)`),cN=()=>null;is=class{},Nm=new k("",{providedIn:"root",factory:()=>!1}),NE=new k(""),kE=new k(""),Tg=class{},mu=class{};uN="ngComponent",Pg=class{resolveComponentFactory(e){throw lN(e)}},os=class{static{this.NULL=new Pg}},si=class{},Ln=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>dN()}}return n})();fN=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>null})}}return n})();yu=class extends os{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ri(e);return new ss(t,this.ngModule)}};ss=class extends mu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Db(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Db(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Pt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new gg(e,s):e,c=a.get(si,null);if(c===null)throw new M(407,!1);let l=a.get(fN,null),u=a.get(is,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?_1(m,r,this.componentDef.encapsulation,a):iE(m,g,hN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let P=null;y!==null&&(P=Cm(y,a,!0));let B=xm(0,null,null,1,0,null,null,null,null,null,null),oe=Gu(null,B,null,w,null,null,d,m,a,null,P);um(oe);let Y,he,qe=null;try{let Me=this.componentDef,Le,at=null;Me.findHostDirectiveDefs?(Le=[],at=new Map,Me.findHostDirectiveDefs(Me,Le,at),Le.push(Me)):Le=[Me];let mr=pN(oe,y);qe=gN(mr,y,Me,Le,oe,d,m),he=gw(B,dn),y&&yN(m,Me,y,r),t!==void 0&&_N(he,this.ngContentSelectors,t),Y=vN(qe,Me,Le,at,oe,[CN]),Pm(B,oe,null)}catch(Me){throw qe!==null&&Eg(qe),Eg(oe),Me}finally{dm()}return new Ag(this.componentType,Y,us(he,oe),oe,he)}finally{ve(o)}}},Ag=class extends Tg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new eo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Tm(o[re],o,i,e,t),this.previousInputValues.set(e,t);let s=ci(this._tNode.index,o);Am(s,1)}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};li=(()=>{class n{static{this.__NG_ELEMENT_ID__=bN}}return n})();wN=li,RE=class extends wN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return us(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=hm(this._hostTNode,this._hostLView);if(kw(e)){let t=au(e,this._hostLView),r=su(e),i=t[re].data[r+8];return new Wi(i,t)}else return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Mb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Eb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,wb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!TP(e),a;if(s)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new ss(ri(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Pt,null);w&&(o=w)}let u=ri(c.componentType??{}),d=Eb(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,wb(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(LP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ct],l=new RE(c,c[Rn],c[Ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return W1(s,i,o,r),e.attachToViewContainerRef(),qb(Zp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Mb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Mg(this._lContainer,t);r&&(Xl(Zp(this._lContainer),t),aE(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Mg(this._lContainer,t);return r&&Xl(Zp(this._lContainer),t)!=null?new eo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};DN=IN,MN=()=>!1;Ng=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},kg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)km(e,t).matches!==null&&this.queries[t].setDirty()}},_u=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=RN(e):this.predicate=e}},Rg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,xN(t,o)),this.matchTNodeWithReadOption(e,t,Yl(t,e,o,!1,!1))}else r===to?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===li||i===to&&t.type&4)this.addMatch(t.index,-2);else{let o=Yl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};Sb=new Set;Cu=new Map,BN=new Set;ai=class{},ba=class{},bu=class extends ai{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yu(this);let o=ew(e);this._bootstrapComponents=rE(o.bootstrap),this._r3Injector=Hw(e,t,[{provide:ai,useValue:this},{provide:os,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wu=class extends ba{constructor(e){super(),this.moduleType=e}create(e){return new bu(this.moduleType,e,[])}};Vg=class extends ai{constructor(e){super(),this.componentFactoryResolver=new yu(this),this.instance=null;let t=new _a([...e.providers,{provide:ai,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],e.parent||im(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};sk=ak;Yo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Yo||{}),$E=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),jg=class n{constructor(){this.ngZone=v(ye),this.scheduler=v(is),this.errorHandler=v(wr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yo.EarlyRead,Yo.Write,Yo.MixedReadWrite,Yo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}},Ug=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};uk={destroy(){}};An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};Ak=(n,e,t,r,i,o)=>(Bu(!0),iE(r,i,tA()));kk=(n,e,t,r)=>(Bu(!0),JA(e[Ge],""));qi=void 0;Fk=["en",[["a","p"],["AM","PM"],qi],[["AM","PM"],qi,qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qi,"{1} 'at' {0}",qi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Rk],eg={};Qe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Qe||{});Du="en-US",Vk=Du;Uk=(n,e,t)=>{};Hk=(n,e,t,r,i)=>(Bu(!0),QA(e[Ge],r));Kk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=rw(!1,t.type),i=r.length>0?Qu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(A(Pt))})}}return n})();zl=null;Ju=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Vm=new k(""),Ia=new k(""),Xu=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,jm||(Xk(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(A(ye),A(ed),A(Ia))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ed=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return jm?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();vs=new k(""),iD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=v(vs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ui(o))t.push(o);else if(Um(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),td=new k("");nR=10;yn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(SA),this.afterRenderManager=v($E),this.zonelessEnabled=v(Nm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=v(xr).hasPendingTasks.pipe(j(t=>!t)),this._injector=v(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof mu;if(!this._injector.get(iD).done){let m=!i&&Xb(t),g=!1;throw new M(405,g)}let s;i?s=t:s=this._injector.get(os).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=tR(s)?void 0:this._injector.get(ai),c=r||s.selector,l=s.create(Ze.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Vm,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Ql(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ve(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(si,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<nR;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)iR(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Fu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ql(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(td,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ql(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Wg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},nd=(()=>{class n{compileModuleSync(t){return new wu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ew(t),o=rE(i.declarations).reduce((s,a)=>{let c=ri(a);return c&&s.push(new ss(c)),s},[]);return new Wg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oR=new k("");aR=(()=>{class n{constructor(){this.zone=v(ye),this.changeDetectionScheduler=v(is),this.applicationRef=v(yn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();lR=(()=>{class n{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=v(ye),this.pendingTasks=v(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),uR=(()=>{class n{constructor(){this.appRef=v(yn),this.taskService=v(xr),this.ngZone=v(ye),this.zonelessEnabled=v(Nm),this.disableScheduling=v(NE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ve,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(du):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(kE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?hb:qw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(du+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();rd=new k("",{providedIn:"root",factory:()=>v(rd,ae.Optional|ae.SkipSelf)||dR()}),Mu=new k("");aD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>MA(r?.ngZone,$(E({},sD({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[cR({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:is,useExisting:uR}],c=JN(t.moduleType,this.injector,a);return fR({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=oD({},r);return sR(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Mu,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(A(Ze))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ma=null,cD=new k("");jn=(()=>{class n{static{this.__NG_ELEMENT_ID__=yR}}return n})();Gg=class{constructor(){}supports(e){return BE(e)}create(e){return new Kg(e)}},CR=(n,e)=>e,Kg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CR}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Nb(r,i,o)?t:r,a=Nb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,y=g+m;u<=y&&y<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!BE(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,XN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Yg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Su),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Su),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Qg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Su=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Qg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};$m=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:kb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||kb()),deps:[[n,new Jg,new Pu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new M(901,!1)}}return n})(),uD=Bm(null,"core",[]),dD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(A(yn))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})()});function lr(){return _D}function CD(n){_D??=n}function tv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function hD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Tr(n){return n&&n[0]!=="?"?"?"+n:n}function ER(){return new _s(A(Ar))}function DR(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function pD(n){return n.replace(/\/index.html$/,"")}function MR(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function SR(n){return gn(n)[Qe.LocaleId]}function IR(n,e,t){let r=gn(n),i=[r[Qe.DayPeriodsFormat],r[Qe.DayPeriodsStandalone]],o=_n(i,e);return _n(o,t)}function xR(n,e,t){let r=gn(n),i=[r[Qe.DaysFormat],r[Qe.DaysStandalone]],o=_n(i,e);return _n(o,t)}function OR(n,e,t){let r=gn(n),i=[r[Qe.MonthsFormat],r[Qe.MonthsStandalone]],o=_n(i,e);return _n(o,t)}function TR(n,e){let r=gn(n)[Qe.Eras];return _n(r,e)}function id(n,e){let t=gn(n);return _n(t[Qe.DateFormat],e)}function od(n,e){let t=gn(n);return _n(t[Qe.TimeFormat],e)}function sd(n,e){let r=gn(n)[Qe.DateTimeFormat];return _n(r,e)}function pd(n,e){let t=gn(n),r=t[Qe.NumberSymbols][e];if(typeof r>"u"){if(e===fi.CurrencyDecimal)return t[Qe.NumberSymbols][fi.Decimal];if(e===fi.CurrencyGroup)return t[Qe.NumberSymbols][fi.Group]}return r}function DD(n){if(!n[Qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function PR(n){let e=gn(n);return DD(e),(e[Qe.ExtraData][2]||[]).map(r=>typeof r=="string"?Hm(r):[Hm(r[0]),Hm(r[1])])}function AR(n,e,t){let r=gn(n);DD(r);let i=[r[Qe.ExtraData][0],r[Qe.ExtraData][1]],o=_n(i,e)||[];return _n(o,t)||[]}function _n(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Hm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function RR(n,e,t,r){let i=zR(n);e=Or(t,e)||e;let s=[],a;for(;e;)if(a=kR.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=SD(r,c),i=HR(i,r,!0));let l="";return s.forEach(u=>{let d=BR(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function hd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Or(n,e){let t=SR(n);if(ad[t]??={},ad[t][e])return ad[t][e];let r="";switch(e){case"shortDate":r=id(n,Zt.Short);break;case"mediumDate":r=id(n,Zt.Medium);break;case"longDate":r=id(n,Zt.Long);break;case"fullDate":r=id(n,Zt.Full);break;case"shortTime":r=od(n,Zt.Short);break;case"mediumTime":r=od(n,Zt.Medium);break;case"longTime":r=od(n,Zt.Long);break;case"fullTime":r=od(n,Zt.Full);break;case"short":let i=Or(n,"shortTime"),o=Or(n,"shortDate");r=cd(sd(n,Zt.Short),[i,o]);break;case"medium":let s=Or(n,"mediumTime"),a=Or(n,"mediumDate");r=cd(sd(n,Zt.Medium),[s,a]);break;case"long":let c=Or(n,"longTime"),l=Or(n,"longDate");r=cd(sd(n,Zt.Long),[c,l]);break;case"full":let u=Or(n,"fullTime"),d=Or(n,"fullDate");r=cd(sd(n,Zt.Full),[u,d]);break}return r&&(ad[t][e]=r),r}function cd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Un(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function FR(n,e){return Un(n,3).substring(0,e)}function tt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=LR(n,o);if((t>0||a>-t)&&(a+=t),n===De.Hours)a===0&&t===-12&&(a=12);else if(n===De.FractionalSeconds)return FR(a,e);let c=pd(s,fi.MinusSign);return Un(a,e,c,r,i)}}function LR(n,e){switch(n){case De.FullYear:return e.getFullYear();case De.Month:return e.getMonth();case De.Date:return e.getDate();case De.Hours:return e.getHours();case De.Minutes:return e.getMinutes();case De.Seconds:return e.getSeconds();case De.FractionalSeconds:return e.getMilliseconds();case De.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Re(n,e,t=Nt.Format,r=!1){return function(i,o){return VR(i,o,n,e,t,r)}}function VR(n,e,t,r,i,o){switch(t){case Ee.Months:return OR(e,i,r)[n.getMonth()];case Ee.Days:return xR(e,i,r)[n.getDay()];case Ee.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=PR(e),u=AR(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,y]=m,w=s>=g.hours&&a>=g.minutes,P=s<y.hours||s===y.hours&&a<y.minutes;if(g.hours<y.hours){if(w&&P)return!0}else if(w||P)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return IR(e,i,r)[s<12?0:1];case Ee.Eras:return TR(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function ld(n){return function(e,t,r){let i=-1*r,o=pd(t,fi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Pr.Short:return(i>=0?"+":"")+Un(s,2,o)+Un(Math.abs(i%60),2,o);case Pr.ShortGMT:return"GMT"+(i>=0?"+":"")+Un(s,1,o);case Pr.Long:return"GMT"+(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);case Pr.Extended:return r===0?"Z":(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function UR(n){let e=hd(n,jR,1).getDay();return hd(n,0,1+(e<=dd?dd:dd+7)-e)}function MD(n){let e=n.getDay(),t=e===0?-3:dd-e;return hd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function zm(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=MD(t),s=UR(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Un(i,n,pd(r,fi.MinusSign))}}function ud(n,e=!1){return function(t,r){let o=MD(t).getFullYear();return Un(o,n,pd(r,fi.MinusSign),e)}}function BR(n){if(qm[n])return qm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Re(Ee.Eras,Ae.Abbreviated);break;case"GGGG":e=Re(Ee.Eras,Ae.Wide);break;case"GGGGG":e=Re(Ee.Eras,Ae.Narrow);break;case"y":e=tt(De.FullYear,1,0,!1,!0);break;case"yy":e=tt(De.FullYear,2,0,!0,!0);break;case"yyy":e=tt(De.FullYear,3,0,!1,!0);break;case"yyyy":e=tt(De.FullYear,4,0,!1,!0);break;case"Y":e=ud(1);break;case"YY":e=ud(2,!0);break;case"YYY":e=ud(3);break;case"YYYY":e=ud(4);break;case"M":case"L":e=tt(De.Month,1,1);break;case"MM":case"LL":e=tt(De.Month,2,1);break;case"MMM":e=Re(Ee.Months,Ae.Abbreviated);break;case"MMMM":e=Re(Ee.Months,Ae.Wide);break;case"MMMMM":e=Re(Ee.Months,Ae.Narrow);break;case"LLL":e=Re(Ee.Months,Ae.Abbreviated,Nt.Standalone);break;case"LLLL":e=Re(Ee.Months,Ae.Wide,Nt.Standalone);break;case"LLLLL":e=Re(Ee.Months,Ae.Narrow,Nt.Standalone);break;case"w":e=zm(1);break;case"ww":e=zm(2);break;case"W":e=zm(1,!0);break;case"d":e=tt(De.Date,1);break;case"dd":e=tt(De.Date,2);break;case"c":case"cc":e=tt(De.Day,1);break;case"ccc":e=Re(Ee.Days,Ae.Abbreviated,Nt.Standalone);break;case"cccc":e=Re(Ee.Days,Ae.Wide,Nt.Standalone);break;case"ccccc":e=Re(Ee.Days,Ae.Narrow,Nt.Standalone);break;case"cccccc":e=Re(Ee.Days,Ae.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":e=Re(Ee.Days,Ae.Abbreviated);break;case"EEEE":e=Re(Ee.Days,Ae.Wide);break;case"EEEEE":e=Re(Ee.Days,Ae.Narrow);break;case"EEEEEE":e=Re(Ee.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Re(Ee.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Re(Ee.DayPeriods,Ae.Wide);break;case"aaaaa":e=Re(Ee.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Re(Ee.DayPeriods,Ae.Abbreviated,Nt.Standalone,!0);break;case"bbbb":e=Re(Ee.DayPeriods,Ae.Wide,Nt.Standalone,!0);break;case"bbbbb":e=Re(Ee.DayPeriods,Ae.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(Ee.DayPeriods,Ae.Abbreviated,Nt.Format,!0);break;case"BBBB":e=Re(Ee.DayPeriods,Ae.Wide,Nt.Format,!0);break;case"BBBBB":e=Re(Ee.DayPeriods,Ae.Narrow,Nt.Format,!0);break;case"h":e=tt(De.Hours,1,-12);break;case"hh":e=tt(De.Hours,2,-12);break;case"H":e=tt(De.Hours,1);break;case"HH":e=tt(De.Hours,2);break;case"m":e=tt(De.Minutes,1);break;case"mm":e=tt(De.Minutes,2);break;case"s":e=tt(De.Seconds,1);break;case"ss":e=tt(De.Seconds,2);break;case"S":e=tt(De.FractionalSeconds,1);break;case"SS":e=tt(De.FractionalSeconds,2);break;case"SSS":e=tt(De.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ld(Pr.Short);break;case"ZZZZZ":e=ld(Pr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ld(Pr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ld(Pr.Long);break;default:return null}return qm[n]=e,e}function SD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function $R(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function HR(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=SD(e,i);return $R(n,r*(o-i))}function zR(n){if(gD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return hd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(NR))return qR(r)}let e=new Date(n);if(!gD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function qR(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function gD(n){return n instanceof Date&&!isNaN(n.valueOf())}function gd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function vD(n,e){n.context.$implicit=e.item}function yD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Tt(e)}'.`)}function ID(n,e){return new M(2100,!1)}function vd(n){return n===rv}function yd(n){return n===ZR}function JR(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _D,fd,dt,ev,bD,wR,Ar,wD,nv,ED,_s,Nt,Ae,Zt,fi,NR,ad,kR,Pr,De,Ee,jR,dd,qm,Wm,mD,ur,Gm,dr,_e,Km,Ym,Qm,WR,GR,$t,KR,YR,QR,md,xD,rv,ZR,OD,Zm,Jm,ys,Ie=p(()=>{"use strict";T();T();_D=null;fd=class{},dt=new k(""),ev=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(wR),providedIn:"platform"})}}return n})(),bD=new k(""),wR=(()=>{class n extends ev{constructor(){super(),this._doc=v(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Ar=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(nv),providedIn:"root"})}}return n})(),wD=new k(""),nv=(()=>{class n extends Ar{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return tv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(ev),A(wD,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ED=(()=>{class n extends Ar{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=tv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(ev),A(wD,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),_s=(()=>{class n{constructor(t){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=MR(hD(pD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Tr(r))}normalize(t){return n.stripTrailingSlash(DR(this._basePath,pD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Tr}static{this.joinWithSlash=tv}static{this.stripTrailingSlash=hD}static{this.\u0275fac=function(r){return new(r||n)(A(Ar))}}static{this.\u0275prov=I({token:n,factory:()=>ER(),providedIn:"root"})}}return n})();Nt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Nt||{}),Ae=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ae||{}),Zt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Zt||{}),fi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};NR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ad={},kR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Pr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Pr||{}),De=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(De||{}),Ee=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ee||{});jR=0,dd=4;qm={};Wm=/\s+/,mD=[],ur=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=mD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Wm):mD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Wm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Wm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(mt),D(Ln))}}static{this.\u0275dir=le({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),Gm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Gm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),vD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);vD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(li),D(to),D($m))}}static{this.\u0275dir=le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();_e=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Km,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(li),D(to))}}static{this.\u0275dir=le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Km=class{constructor(){this.$implicit=null,this.ngIf=null}};Ym=class{createSubscription(e,t){return Qt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Qt(()=>e.unsubscribe())}},Qm=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},WR=new Qm,GR=new Ym,$t=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ui(t))return WR;if(Um(t))return GR;throw ID(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(jn,16))}}static{this.\u0275pipe=nm({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),KR="mediumDate",YR=new k(""),QR=new k(""),md=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??KR,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return RR(t,s,o||this.locale,a)}catch(s){throw ID(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(rd,16),D(YR,24),D(QR,24))}}static{this.\u0275pipe=nm({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),xD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})(),rv="browser",ZR="server";OD=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>vd(v(Gt))?new Zm(v(dt),window):new Jm})}}return n})(),Zm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=JR(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};Jm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ys=class{}});function XR(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function TD(n){return encodeURIComponent(n).replace(eF,(e,t)=>tF[t]??e)}function _d(n){return`${n}`}function nF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AD(n){return typeof Blob<"u"&&n instanceof Blob}function ND(n){return typeof FormData<"u"&&n instanceof FormData}function rF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function iv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function kD(n){if(n.url)return n.url;let e=sF.toLocaleLowerCase();return n.headers.get(e)}function cv(){}function cF(n){n.then(cv,cv)}function jD(n,e){return e(n)}function lF(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function uF(n,e,t){return(r,i)=>hn(t,()=>e(r,o=>n(o,i)))}function hF(){let n=null;return(e,t)=>{n===null&&(n=(v(dF,{optional:!0})??[]).reduceRight(lF,jD));let r=v(xr);if(v(UD)){let o=r.add();return n(e,t).pipe(qt(()=>r.remove(o)))}else return n(e,t)}}function gF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function bF(n,e){let t=n.url.toLowerCase();if(!v(BD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=v(wd).getToken(),i=v(_F);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function wF(n,e){return{\u0275kind:n,\u0275providers:e}}function EF(...n){let e=[co,FD,RD,{provide:Oa,useExisting:RD},{provide:Cd,useFactory:()=>v(aF,{optional:!0})??v(FD)},{provide:lv,useValue:bF,multi:!0},{provide:BD,useValue:!0},{provide:wd,useClass:CF}];for(let t of n)e.push(...t.\u0275providers);return cs(e)}function DF(){return wF($D.LegacyInterceptors,[{provide:LD,useFactory:hF},{provide:lv,useExisting:LD,multi:!0}])}var Oa,Cd,Nr,ov,eF,tF,pi,sv,xa,gi,Ta,bd,Pa,hi,VD,iF,co,oF,sF,aF,av,dF,lv,fF,UD,RD,pF,FD,BD,mF,vF,yF,_F,wd,CF,$D,LD,HD,Aa=p(()=>{"use strict";T();T();we();Jr();Ie();Ie();Oa=class{},Cd=class{},Nr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},ov=class{encodeKey(e){return TD(e)}encodeValue(e){return TD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};eF=/%(\d[a-f0-9])/gi,tF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};pi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ov,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=XR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(_d):[_d(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(_d(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_d(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},sv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};xa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(nF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Nr,this.context??=new sv,!this.params)this.params=new pi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||PD(this.body)||AD(this.body)||ND(this.body)||rF(this.body)?this.body:this.body instanceof pi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ND(this.body)?null:AD(this.body)?this.body.type||null:PD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof pi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},gi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(gi||{}),Ta=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Nr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bd=class n extends Ta{constructor(e={}){super(e),this.type=gi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Pa=class n extends Ta{constructor(e={}){super(e),this.type=gi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hi=class extends Ta{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},VD=200,iF=204;co=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof xa)o=t;else{let c;i.headers instanceof Nr?c=i.headers:c=new Nr(i.headers);let l;i.params&&(i.params instanceof pi?l=i.params:l=new pi({fromObject:i.params})),o=new xa(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=F(o).pipe(an(c=>this.handler.handle(c)));if(t instanceof xa||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof Pa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new pi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,iv(i,r))}post(t,r,i={}){return this.request("POST",t,iv(i,r))}put(t,r,i={}){return this.request("PUT",t,iv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(A(Oa))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),oF=/^\)\]\}',?\n/,sF="X-Request-URL";aF=(()=>{class n{constructor(){this.fetchImpl=v(av,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=v(ye)}handle(t){return new J(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(cv,o=>r.error(new hi({error:o}))),()=>i.abort()})}doRequest(t,r,i){return x(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));cF(g),i.next({type:gi.Sent}),s=yield g}catch(g){i.error(new hi({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Nr(s.headers),c=s.statusText,l=kD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new bd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),y=[],w=s.body.getReader(),P=0,B,oe,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>x(this,null,function*(){for(;;){let{done:qe,value:Me}=yield w.read();if(qe)break;if(y.push(Me),P+=Me.length,t.reportProgress){oe=t.responseType==="text"?(oe??"")+(B??=new TextDecoder).decode(Me,{stream:!0}):void 0;let Le=()=>i.next({type:gi.DownloadProgress,total:g?+g:void 0,loaded:P,partialText:oe});Y?Y.run(Le):Le()}}}));let he=this.concatChunks(y,P);try{let qe=s.headers.get("Content-Type")??"";d=this.parseBody(t,he,qe)}catch(qe){i.error(new hi({error:qe,headers:new Nr(s.headers),status:s.status,statusText:s.statusText,url:kD(s)??t.urlWithParams}));return}}u===0&&(u=d?VD:0),u>=200&&u<300?(i.next(new Pa({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new hi({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(oF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),av=class{};dF=new k(""),lv=new k(""),fF=new k(""),UD=new k("",{providedIn:"root",factory:()=>!0});RD=(()=>{class n extends Oa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=v(xr),this.contributeToStability=v(UD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(lv),...this.injector.get(fF,[])]));this.chain=r.reduceRight((i,o)=>uF(i,o,this.injector),jD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(qt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(A(Cd),A(Pt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),pF=/^\)\]\}',?\n/;FD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new M(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?q(r.\u0275loadImpl()):F(null)).pipe(ke(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,P)=>s.setRequestHeader(w,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",P=new Nr(s.getAllResponseHeaders()),B=gF(s)||t.url;return c=new bd({headers:P,status:s.status,statusText:w,url:B}),c},u=()=>{let{headers:w,status:P,statusText:B,url:oe}=l(),Y=null;P!==iF&&(Y=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=Y?VD:0);let he=P>=200&&P<300;if(t.responseType==="json"&&typeof Y=="string"){let qe=Y;Y=Y.replace(pF,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Me){Y=qe,he&&(he=!1,Y={error:Me,text:Y})}}he?(o.next(new Pa({body:Y,headers:w,status:P,statusText:B,url:oe||void 0})),o.complete()):o.error(new hi({error:Y,headers:w,status:P,statusText:B,url:oe||void 0}))},d=w=>{let{url:P}=l(),B=new hi({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(B)},m=!1,g=w=>{m||(o.next(l()),m=!0);let P={type:gi.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},y=w=>{let P={type:gi.UploadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),o.next(P)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:gi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(A(ys))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),BD=new k(""),mF="XSRF-TOKEN",vF=new k("",{providedIn:"root",factory:()=>mF}),yF="X-XSRF-TOKEN",_F=new k("",{providedIn:"root",factory:()=>yF}),wd=class{},CF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=gd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Gt),A(vF))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();$D=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}($D||{});LD=new k("");HD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:[EF(DF())]})}}return n})()});function MF(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}function SF(n){return new URL(n,document.baseURI).pathname}function AF(n){return OF.replace(yv,n)}function NF(n){return xF.replace(yv,n)}function YD(n,e){return e.map(t=>t.replace(yv,n))}function zD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function VF(){pv.makeCurrent()}function jF(){return new wr}function UF(){return Jw(document),document}var hv,pv,Na,gv,IF,mv,WD,Ed,dv,GD,fv,yv,KD,xF,OF,TF,PF,Dd,ka,vv,Ra,Md,kF,qD,RF,FF,LF,BF,QD,$F,HF,zF,Sd,ZD,Fa=p(()=>{"use strict";Ie();T();T();hv=class extends fd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},pv=class n extends hv{static makeCurrent(){CD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=MF();return t==null?null:SF(t)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gd(document.cookie,e)}},Na=null;gv=class{addToWindow(e){xt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new M(5103,!1);return o},xt.getAllAngularTestabilities=()=>e.getAllTestabilities(),xt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=xt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?lr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},IF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),mv=new k(""),WD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(A(mv),A(ye))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Ed=class{constructor(e){this._doc=e}},dv="ng-app-id",GD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${dv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(dv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(dv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Hu),A(_m,8),A(Gt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),fv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yv=/%COMP%/g,KD="%COMP%",xF=`_nghost-${KD}`,OF=`_ngcontent-${KD}`,TF=!0,PF=new k("",{providedIn:"root",factory:()=>TF});Dd=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yd(a),this.defaultRenderer=new ka(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nr.ShadowDom&&(r=$(E({},r),{encapsulation:nr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Md?i.applyToHost(t):i instanceof Ra&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case nr.Emulated:o=new Md(c,l,r,this.appId,u,s,a,d);break;case nr.ShadowDom:return new vv(c,l,t,r,s,a,this.nonce,d);default:o=new Ra(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(A(WD),A(GD),A(Hu),A(PF),A(dt),A(Gt),A(ye),A(_m))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ka=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(t,r,i&Er.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Er.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};vv=class extends ka{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=YD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ra=class extends ka{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?YD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Md=class extends Ra{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=AF(l),this.hostAttr=NF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},kF=(()=>{class n extends Ed{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),qD=["alt","control","meta","shift"],RF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},LF=(()=>{class n extends Ed{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=RF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qD.forEach(s=>{if(s!==i){let a=FF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();BF=[{provide:Gt,useValue:rv},{provide:vm,useValue:VF,multi:!0},{provide:dt,useFactory:UF,deps:[]}],QD=Bm(uD,"browser",BF),$F=new k(""),HF=[{provide:Ia,useClass:gv,deps:[]},{provide:Vm,useClass:Xu,deps:[ye,ed,Ia]},{provide:Xu,useClass:Xu,deps:[ye,ed,Ia]}],zF=[{provide:Au,useValue:"root"},{provide:wr,useFactory:jF,deps:[]},{provide:mv,useClass:kF,multi:!0,deps:[dt,ye,Gt]},{provide:mv,useClass:LF,multi:!0,deps:[dt]},Dd,GD,WD,{provide:si,useExisting:Dd},{provide:ys,useClass:IF,deps:[]},[]],Sd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Hu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(A($F,12))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:[...zF,...HF],imports:[xD,dD]})}}return n})(),ZD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Ms(n){return new Ev(n)}function qF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function WF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}function fr(n,e){let t=n?Dv(n):void 0,r=e?Dv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!lM(n[i],e[i]))return!1;return!0}function Dv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function uM(n){return n.length>0?n[n.length-1]:null}function yi(n){return _p(n)?n:ui(n)?q(Promise.resolve(n)):F(n)}function XD(n,e,t){return GF[t.paths](n.root,e.root,t.matrixParams)&&dM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function KF(n,e){return fr(n,e)}function fM(n,e,t){if(!uo(n.segments,e.segments)||!Od(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fM(n.children[r],e.children[r],t))return!1;return!0}function YF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lM(n[t],e[t]))}function hM(n,e,t){return pM(n,e,e.segments,t)}function pM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!uo(i,t)||e.hasChildren()||!Od(i,t,r))}else if(n.segments.length===t.length){if(!uo(n.segments,t)||!Od(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!hM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!uo(n.segments,i)||!Od(n.segments,i,r)||!n.children[ie]?!1:pM(n.children[ie],e,o,r)}}function Od(n,e,t){return e.every((r,i)=>dM[t](n[i].parameters,r.parameters))}function QF(n,e){return uo(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}function uo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function ZF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}function Td(n){return n.segments.map(e=>mM(e)).join("/")}function La(n,e){if(!n.hasChildren())return Td(n);if(e){let t=n.children[ie]?La(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${La(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ZF(n,(r,i)=>i===ie?[La(n.children[ie],!1)]:[`${i}:${La(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Td(n)}/${t[0]}`:`${Td(n)}/(${t.join("//")})`}}function gM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Id(n){return gM(n).replace(/%3B/gi,";")}function XF(n){return encodeURI(n)}function Mv(n){return gM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pd(n){return decodeURIComponent(n)}function eM(n){return Pd(n.replace(/\+/g,"%20"))}function mM(n){return`${Mv(n.path)}${eL(n.parameters)}`}function eL(n){return Object.entries(n).map(([e,t])=>`;${Mv(e)}=${Mv(t)}`).join("")}function tL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Id(t)}=${Id(i)}`).join("&"):`${Id(t)}=${Id(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function _v(n){let e=n.match(nL);return e?e[0]:""}function iL(n){let e=n.match(rL);return e?e[0]:""}function sL(n){let e=n.match(oL);return e?e[0]:""}function cL(n){let e=n.match(aL);return e?e[0]:""}function vM(n){return n.segments.length>0?new xe([],{[ie]:n}):n}function yM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=yM(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return lL(t)}function lL(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new xe(n.segments.concat(e.segments),e.children)}return n}function fo(n){return n instanceof Rr}function uL(n,e,t=null,r=null){let i=_M(n);return CM(i,e,t,r)}function _M(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=vM(r);return e??i}function CM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Cv(i,i,i,t,r);let o=dL(e);if(o.toRoot())return Cv(i,i,new xe([],{}),t,r);let s=fL(o,i,n),a=s.processChildren?Ua(s.segmentGroup,s.index,o.commands):wM(s.segmentGroup,s.index,o.commands);return Cv(i,s.segmentGroup,a,t,r)}function Ad(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ha(n){return typeof n=="object"&&n!=null&&n.outlets}function Cv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=bM(n,e,t);let a=vM(yM(s));return new Rr(a,o,i)}function bM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=bM(o,e,t)}),new xe(n.segments,r)}function dL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Nd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Nd(t,e,r)}function fL(n,e,t){if(n.isAbsolute)return new ws(e,!0,0);if(!t)return new ws(e,!1,NaN);if(t.parent===null)return new ws(t,!0,0);let r=Ad(n.commands[0])?0:1,i=t.segments.length-1+r;return hL(t,i,n.numberOfDoubleDots)}function hL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new ws(r,!1,i-o)}function pL(n){return Ha(n[0])?n[0].outlets:{[ie]:n}}function wM(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return Ua(n,e,t);let r=gL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new xe(n.segments.slice(r.pathIndex),n.children),Ua(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?Iv(n,e,t):r.match?Ua(n,0,i):Iv(n,e,t)}function Ua(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=pL(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=Ua(n.children[ie],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=wM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function gL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ha(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!nM(c,l,s))return o;r+=2}else{if(!nM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Iv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ha(o)){let c=mL(o.outlets);return new xe(r,c)}if(i===0&&Ad(t[0])){let c=n.segments[e];r.push(new lo(c.path,tM(t[0]))),i++;continue}let s=Ha(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ad(a)?(r.push(new lo(s,tM(a))),i+=2):(r.push(new lo(s,{})),i++)}return new xe(r,{})}function mL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Iv(new xe([],{}),0,r))}),e}function tM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function nM(n,e,t){return n==t.path&&fr(e,t.parameters)}function vL(n,e){return n.providers&&!n._injector&&(n._injector=Qu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bn(n){return n.outlet||ie}function yL(n,e){let t=n.filter(r=>Bn(r)===e);return t.push(...n.filter(r=>Bn(r)!==e)),t}function Ja(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function jv(n,e){if(n===e.value)return e;for(let t of e.children){let r=jv(n,t);if(r)return r}return null}function Uv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Uv(n,t);if(r.length)return r.unshift(e),r}return[]}function bs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function EM(n){let e=_L(n),t=new de([new lo("",{})]),r=new de({}),i=new de({}),o=new de({}),s=new de(""),a=new kt(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new Vd(new Jt(a,[]),e)}function _L(n){let e={},t={},r={},i="",o=new Es([],e,r,i,t,ie,n,null,{});return new Ud("",new Jt(o,[]))}function jd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),i?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},i&&MM(i)&&(r.resolve[Qa]=i.title),r}function Yv(n,e){e.value._routerState=n,e.children.forEach(t=>Yv(n,t))}function DM(n){let e=n.children.length>0?` { ${n.children.map(DM).join(", ")} } `:"";return`${n.value}${e}`}function bv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fr(e.params,t.params)||n.paramsSubject.next(t.params),WF(e.url,t.url)||n.urlSubject.next(t.url),fr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bv(n,e){let t=fr(n.params,e.params)&&QF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Bv(n.parent,e.parent))}function MM(n){return typeof n.title=="string"||n.title===null}function CL(n,e,t){let r=Wa(n,e._root,t?t._root:void 0);return new Vd(r,e)}function Wa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=bL(n,e,t);return new Jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wa(n,a)),s}}let r=wL(e.value),i=e.children.map(o=>Wa(n,o));return new Jt(r,i)}}function bL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wa(n,r,i);return Wa(n,r)})}function wL(n){return new kt(new de(n.url),new de(n.params),new de(n.queryParams),new de(n.fragment),new de(n.data),n.outlet,n.component,n)}function Bd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IM(!1,Xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function IM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[SM]=!0,t.cancellationCode=e,t}function EL(n){return xM(n)&&fo(n.url)}function xM(n){return!!n&&n[SM]}function ML(n,e,t){let r=n._root,i=e?e._root:null;return Va(r,i,t,[r.value])}function SL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Os(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Vb(n)?n:e.get(n):r}function Va(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=bs(e);return n.children.forEach(s=>{IL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>$a(a,t.getContext(s),i)),i}function IL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=xL(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new $d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Va(n,e,a?a.children:null,r,i):Va(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ds(a.outlet.component,s))}else s&&$a(e,a,i),i.canActivateChecks.push(new $d(r)),o.component?Va(n,null,a?a.children:null,r,i):Va(n,null,t,r,i);return i}function xL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!uo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bv(n,e)||!fr(n.queryParams,e.queryParams);case"paramsChange":default:return!Bv(n,e)}}function $a(n,e,t){let r=bs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?$a(s,e.children.getContext(o),t):$a(s,null,t):$a(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ds(e.outlet.component,i)):t.canDeactivateChecks.push(new Ds(null,i)):t.canDeactivateChecks.push(new Ds(null,i))}function ec(n){return typeof n=="function"}function OL(n){return typeof n=="boolean"}function TL(n){return n&&ec(n.canLoad)}function PL(n){return n&&ec(n.canActivate)}function AL(n){return n&&ec(n.canActivateChild)}function NL(n){return n&&ec(n.canDeactivate)}function kL(n){return n&&ec(n.canMatch)}function OM(n){return n instanceof Tn||n?.name==="EmptyError"}function xs(){return ke(n=>da(n.map(e=>e.pipe(be(1),jp(xd)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===xd)return xd;if(t===!1||RL(t))return t}return!0}),Ne(e=>e!==xd),be(1)))}function RL(n){return fo(n)||n instanceof Ga}function FL(n,e){return Ue(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F($(E({},t),{guardsResult:!0})):LL(s,r,i,n).pipe(Ue(a=>a&&OL(a)?VL(r,o,n,e):F(a)),j(a=>$(E({},t),{guardsResult:a})))})}function LL(n,e,t,r){return q(n).pipe(Ue(i=>HL(i.component,i.route,t,e,r)),Xn(i=>i!==!0,!0))}function VL(n,e,t,r){return q(e).pipe(an(i=>Jn(UL(i.route.parent,r),jL(i.route,r),$L(n,i.path,t),BL(n,i.route,t))),Xn(i=>i!==!0,!0))}function jL(n,e){return n!==null&&e&&e(new Fv(n)),F(!0)}function UL(n,e){return n!==null&&e&&e(new kv(n)),F(!0)}function BL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>Hi(()=>{let s=Ja(e)??t,a=Os(o,s),c=PL(a)?a.canActivate(e,n):hn(s,()=>a(e,n));return yi(c).pipe(Xn())}));return F(i).pipe(xs())}function $L(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>SL(s)).filter(s=>s!==null).map(s=>Hi(()=>{let a=s.guards.map(c=>{let l=Ja(s.node)??t,u=Os(c,l),d=AL(u)?u.canActivateChild(r,n):hn(l,()=>u(r,n));return yi(d).pipe(Xn())});return F(a).pipe(xs())}));return F(o).pipe(xs())}function HL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=Ja(e)??i,l=Os(a,c),u=NL(l)?l.canDeactivate(n,e,t,r):hn(c,()=>l(n,e,t,r));return yi(u).pipe(Xn())});return F(s).pipe(xs())}function zL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=Os(s,n),c=TL(a)?a.canLoad(e,t):hn(n,()=>a(e,t));return yi(c)});return F(o).pipe(xs(),TM(r))}function TM(n){return Xh(te(e=>{if(typeof e!="boolean")throw Bd(n,e)}),j(e=>e===!0))}function qL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=Os(s,n),c=kL(a)?a.canMatch(e,t):hn(n,()=>a(e,t));return yi(c)});return F(o).pipe(xs(),TM(r))}function Cs(n){return it(new Ka(n))}function WL(n){return it(new M(4e3,!1))}function GL(n){return it(IM(!1,Xt.GuardRejected))}function KL(n,e,t,r,i){let o=PM(n,e,t);return o.matched?(r=vL(e,r),qL(r,e,t,i).pipe(j(s=>s===!0?o:E({},qv)))):F(o)}function PM(n,e,t){if(e.path==="**")return YL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},qv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qF)(t,n,e);if(!i)return E({},qv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function YL(n){return{matched:!0,parameters:n.length>0?uM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function iM(n,e,t,r){return t.length>0&&JL(n,t,r)?{segmentGroup:new xe(e,ZL(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&XL(n,t,r)?{segmentGroup:new xe(n.segments,QL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function QL(n,e,t,r){let i={};for(let o of t)if(Wd(n,e,o)&&!r[Bn(o)]){let s=new xe([],{});i[Bn(o)]=s}return E(E({},r),i)}function ZL(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&Bn(r)!==ie){let i=new xe([],{});t[Bn(r)]=i}return t}function JL(n,e,t){return t.some(r=>Wd(n,e,r)&&Bn(r)!==ie)}function XL(n,e,t){return t.some(r=>Wd(n,e,r))}function Wd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function e2(n,e,t){return e.length===0&&!n.children[t]}function t2(n,e,t,r,i,o,s="emptyOnly"){return new Gv(n,e,t,r,i,s,o).recognize()}function r2(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function i2(n){let e=n.value.routeConfig;return e&&e.path===""}function AM(n){let e=[],t=new Set;for(let r of n){if(!i2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=AM(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!t.has(r))}function oM(n){return n.data||{}}function sM(n){return n.resolve||{}}function o2(n,e,t,r,i,o){return Ue(s=>t2(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>$(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function s2(n,e){return Ue(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return F(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of NM(c))s.add(l);let a=0;return q(s).pipe(an(c=>o.has(c)?a2(c,r,n,e):(c.data=jd(c,c.parent,n).resolve,F(void 0))),te(()=>a++),qo(1),Ue(c=>a===s.size?F(t):It))})}function NM(n){let e=n.children.map(t=>NM(t)).flat();return[n,...e]}function a2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!MM(i)&&(o[Qa]=i.title),c2(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=jd(n,n.parent,t).resolve,null)))}function c2(n,e,t,r){let i=Dv(n);if(i.length===0)return F({});let o={};return q(i).pipe(Ue(s=>l2(n[s],e,t,r).pipe(Xn(),te(a=>{if(a instanceof Ga)throw Bd(new Ss,a);o[s]=a}))),qo(1),ha(o),fe(s=>OM(s)?It:it(s)))}function l2(n,e,t,r){let i=Ja(e)??r,o=Os(n,i),s=o.resolve?o.resolve(e,t):hn(i,()=>o(e,t));return yi(s)}function wv(n){return ke(e=>{let t=n(e);return t?q(t).pipe(j(()=>e)):F(e)})}function Qv(n){let e=n.children&&n.children.map(Qv),t=e?$(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=d2),t}function f2(n,e,t,r){return yi(n.loadChildren()).pipe(j(RM),Ue(i=>i instanceof ba||Array.isArray(i)?F(i):q(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Hd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qv),injector:o}}))}function h2(n){return n&&typeof n=="object"&&"default"in n}function RM(n){return h2(n)?n.default:n}function g2(n,e,t){let r=n.get(LM),i=n.get(dt);return n.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),m2(n))),{onViewTransitionCreated:c}=r;return c&&hn(n,()=>c({transition:a,from:e,to:t})),s})}function m2(n){return new Promise(e=>{Lm({read:()=>setTimeout(e)},{injector:n})})}function y2(n){return n!==Ba}function jM(n,e){n.events.pipe(Ne(t=>t instanceof en||t instanceof kr||t instanceof za||t instanceof vi),j(t=>t instanceof en||t instanceof vi?ja.COMPLETE:(t instanceof kr?t.code===Xt.Redirect||t.code===Xt.SupersededByNewNavigation:!1)?ja.REDIRECTING:ja.FAILED),Ne(t=>t!==ja.REDIRECTING),be(1)).subscribe(()=>{e()})}function w2(n){throw n}function M2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new M(4008,!1)}function S2(n){return!(n instanceof qa)&&!(n instanceof Is)}function I2(n){return!!n.paths}function T2(n){return n.routerState.root}function nc(n,e){return{\u0275kind:n,\u0275providers:e}}function P2(){let n=v(Ze);return e=>{let t=n.get(yn);if(e!==t.components[0])return;let r=n.get(Te),i=n.get($M);n.get(ey)===1&&r.initialNavigation(),n.get(HM,null,ae.Optional)?.setUpPreloading(),n.get(BM,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function A2(){return nc(2,[{provide:ey,useValue:0},{provide:vs,multi:!0,deps:[Ze],useFactory:e=>{let t=e.get(bD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get($M);jM(i,()=>{r(!0)}),e.get(Xv).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}])}function N2(){return nc(3,[{provide:vs,multi:!0,useFactory:()=>{let e=v(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:ey,useValue:2}])}function k2(n){return nc(0,[{provide:HM,useExisting:x2},{provide:zd,useExisting:n}])}function R2(){return nc(8,[rM,{provide:qd,useExisting:rM}])}function F2(n){let e=[{provide:FM,useValue:g2},{provide:LM,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return nc(9,e)}function V2(){return{provide:BM,useFactory:()=>{let n=v(OD),e=v(ye),t=v(tc),r=v(Xv),i=v(Za);return t.scrollOffset&&n.setOffset(t.scrollOffset),new O2(i,r,n,e,t)}}}function j2(){return{provide:Ar,useClass:ED}}function U2(){return{provide:Ar,useClass:nv}}function B2(n){return"guarded"}function $2(n){return[n.initialNavigation==="disabled"?N2().\u0275providers:[],n.initialNavigation==="enabledBlocking"?A2().\u0275providers:[]]}function H2(){return[{provide:cM,useFactory:P2},{provide:td,multi:!0,useExisting:cM}]}var ie,Qa,Ev,GF,dM,Rr,xe,lo,Za,Ss,JF,nL,rL,oL,aL,Sv,Nd,ws,Ba,ft,Cn,mi,en,Xt,kd,kr,vi,za,Rd,xv,Ov,Tv,Pv,Av,Nv,kv,Rv,Fv,Lv,Fd,qa,Is,Vv,Xa,Ld,Jt,Vd,kt,Es,Ud,$n,$v,qd,rM,Ga,SM,DL,Hv,$d,Ds,xd,Ka,Ya,zv,qv,Wv,n2,Gv,kM,u2,tc,d2,Hd,Zv,Jv,p2,FM,LM,v2,Xv,_2,Kv,C2,VM,b2,ja,E2,D2,Te,bn,UM,zd,x2,BM,O2,$M,ey,HM,aM,L2,ty,cM,ot=p(()=>{"use strict";T();T();we();Ie();Ie();Jr();Fa();ie="primary",Qa=Symbol("RouteTitle"),Ev=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};GF={exact:fM,subset:hM},dM={exact:KF,subset:YF,ignored:()=>!0};Rr=class{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){return JF.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Td(this)}},lo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ms(this.parameters),this._parameterMap}toString(){return mM(this)}};Za=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new Ss,providedIn:"root"})}}return n})(),Ss=class{parse(e){let t=new Sv(e);return new Rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${La(e.root,!0)}`,r=tL(e.queryParams),i=typeof e.fragment=="string"?`#${XF(e.fragment)}`:"";return`${t}${r}${i}`}},JF=new Ss;nL=/^[^\/()?;#]+/;rL=/^[^\/()?;=#]+/;oL=/^[^=?&#]+/;aL=/^[^&#]+/;Sv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new xe(e,t)),r}parseSegment(){let e=_v(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new lo(Pd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=iL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_v(this.remaining);i&&(r=i,this.capture(r))}e[Pd(t)]=Pd(r)}parseQueryParam(e){let t=sL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=cL(this.remaining);s&&(r=s,this.capture(r))}let i=eM(t),o=eM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_v(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};Nd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ad(r[0]))throw new M(4003,!1);let i=r.find(Ha);if(i&&i!==uM(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};ws=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};Ba="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),Cn=class{constructor(e,t){this.id=e,this.url=t}},mi=class extends Cn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends Cn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),kd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(kd||{}),kr=class extends Cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vi=class extends Cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},za=class extends Cn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rd=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xv=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ov=class extends Cn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tv=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pv=class extends Cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Av=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},qa=class{},Is=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};Vv=class{get injector(){return Ja(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Xa(this.rootInjector),this.attachRef=null}},Xa=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(A(Pt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ld=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=jv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=jv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Uv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uv(e,this._root).map(t=>t.value)}};Jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Vd=class extends Ld{constructor(e,t){super(e),this.snapshot=t,Yv(this,e)}toString(){return this.snapshot.toString()}};kt=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[Qa]))??F(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>Ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>Ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};Es=class{get title(){return this.data?.[Qa]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ud=class extends Ld{constructor(e,t){super(t),this.url=e,Yv(this,t)}toString(){return DM(this._root)}};$n=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=v(Xa),this.location=v(li),this.changeDetector=v(jn),this.inputBinder=v(qd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new $v(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]})}}return n})(),$v=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===kt?this.route:e===Xa?this.childContexts:this.parent.get(e,t)}},qd=new k(""),rM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=da([r.queryParams,r.params,r.data]).pipe(ke(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=fD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();Ga=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},SM="ngNavigationCancelingError";DL=(n,e,t,r)=>j(i=>(new Hv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Hv=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),bv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=bs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=bs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=bs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=bs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(bv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$d=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ds=class{constructor(e,t){this.component=e,this.route=t}};xd=Symbol("INITIAL_VALUE");Ka=class{constructor(e){this.segmentGroup=e||null}},Ya=class extends Error{constructor(e){super(),this.urlTree=e}};zv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[ie])return WL(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:y,title:w}=i,P=hn(o,()=>a({params:g,data:y,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:w}));if(P instanceof Rr)throw new Ya(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ya(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},qv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};Wv=class{};n2=31,Gv=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=iM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new Jt(r,t),o=new Ud("",i),s=uL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Es([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(j(r=>({children:r,rootSnapshot:t})),fe(r=>{if(r instanceof Ya)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ka?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof Jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return q(o).pipe(an(s=>{let a=r.children[s],c=yL(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Lp((s,a)=>(s.push(...a),s)),Zr(null),kp(),Ue(s=>{if(s===null)return Cs(r);let a=AM(s);return r2(a),F(a)}))}processSegment(e,t,r,i,o,s,a){return q(t).pipe(an(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(fe(l=>{if(l instanceof Ka)return F(null);throw l}))),Xn(c=>!!c),fe(c=>{if(OM(c))return e2(r,i,o)?F(new Wv):Cs(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Bn(r)!==s&&(s===ie||!Wd(i,o,r))?Cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Cs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=PM(t,i,o);if(!c)return Cs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>n2&&(this.allowRedirects=!1));let g=new Es(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,oM(i),Bn(i),i.component??i._loadedComponent??null,i,sM(i)),y=jd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ue(P=>this.processSegment(e,r,t,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=KL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ke(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ke(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,y=new Es(m,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,oM(r),Bn(r),r.component??r._loadedComponent??null,r,sM(r)),w=jd(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let{segmentGroup:P,slicedSegments:B}=iM(t,m,g,l);if(B.length===0&&P.hasChildren())return this.processChildren(u,l,P,y).pipe(j(Y=>new Jt(y,Y)));if(l.length===0&&B.length===0)return F(new Jt(y,[]));let oe=Bn(r)===o;return this.processSegment(u,l,P,B,oe?ie:o,!0,y).pipe(j(Y=>new Jt(y,Y instanceof Jt?[Y]:[])))}))):Cs(t)))}getChildConfig(e,t,r){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):zL(e,t,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,t).pipe(te(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):GL(t))):F({routes:[],injector:e})}};kM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Qa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(u2),providedIn:"root"})}}return n})(),u2=(()=>{class n extends kM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(A(ZD))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tc=new k("",{providedIn:"root",factory:()=>({})}),d2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ee({type:n,selectors:[["ng-component"]],standalone:!0,features:[eD],decls:1,vars:0,template:function(r,i){r&1&&R(0,"router-outlet")},dependencies:[$n],encapsulation:2})}}return n})();Hd=new k(""),Zv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(nd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=yi(t.loadComponent()).pipe(j(RM),te(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),qt(()=>{this.componentLoaders.delete(t)})),i=new Qr(r,()=>new ge).pipe(ko());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=f2(r,this.compiler,t,this.onLoadEndListener).pipe(qt(()=>{this.childrenLoaders.delete(r)})),s=new Qr(o,()=>new ge).pipe(ko());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Jv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(p2),providedIn:"root"})}}return n})(),p2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FM=new k(""),LM=new k("");v2=new k(""),Xv=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=v(Zv),this.environmentInjector=v(Pt),this.urlSerializer=v(Za),this.rootContexts=v(Xa),this.location=v(_s),this.inputBindingEnabled=v(qd,{optional:!0})!==null,this.titleStrategy=v(kM),this.options=v(tc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Jv),this.createViewTransition=v(FM,{optional:!0}),this.navigationErrorHandler=v(v2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Av(i)),r=i=>this.events.next(new Nv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new de({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ba,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),j(o=>$(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ke(o=>{let s=!1,a=!1;return F(o).pipe(ke(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new vi(c.id,this.urlSerializer.serialize(c.rawUrl),d,kd.IgnoredSameUrlNavigation)),c.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(ke(d=>{let m=this.transitions?.getValue();return this.events.next(new mi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?It:Promise.resolve(d)}),o2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),te(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=$(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Rd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:y,extras:w}=c,P=new mi(d,this.urlSerializer.serialize(m),g,y);this.events.next(P);let B=EM(this.rootComponentType).snapshot;return this.currentTransition=o=$(E({},c),{targetSnapshot:B,urlAfterRedirects:m,extras:$(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,F(o)}else{let d="";return this.events.next(new vi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,kd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),It}}),te(c=>{let l=new xv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=$(E({},c),{guards:ML(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),FL(this.environmentInjector,c=>this.events.next(c)),te(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Bd(this.urlSerializer,c.guardsResult);let l=new Ov(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Xt.GuardRejected),!1)),wv(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(te(l=>{let u=new Tv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ke(l=>{let u=!1;return F(l).pipe(s2(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),te(l=>{let u=new Pv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),wv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(te(m=>{u.component=m}),j(()=>{})));for(let m of u.children)d.push(...l(m));return d};return da(l(c.targetSnapshot.root)).pipe(Zr(null),be(1))}),wv(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?q(u).pipe(j(()=>o)):F(o)}),j(c=>{let l=CL(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),te(()=>{this.events.next(new qa)}),DL(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),be(1),te({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ln(this.transitionAbortSubject.pipe(te(c=>{throw c}))),qt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fe(c=>{if(a=!0,xM(c))this.events.next(new kr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),EL(c)?this.events.next(new Is(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new za(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=hn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ga){let{message:d,cancellationCode:m}=Bd(this.urlSerializer,u);this.events.next(new kr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new Is(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return It}))}))}cancelNavigationTransition(t,r,i){let o=new kr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();_2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(C2),providedIn:"root"})}}return n})(),Kv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},C2=(()=>{class n extends Kv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>v(b2),providedIn:"root"})}}return n})(),b2=(()=>{class n extends VM{constructor(){super(...arguments),this.location=v(_s),this.urlSerializer=v(Za),this.options=v(tc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Jv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=EM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof mi)this.stateMemento=this.createStateMemento();else if(t instanceof vi)this.rawUrlTree=r.initialUrl;else if(t instanceof Rd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof qa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof kr&&(t.code===Xt.GuardRejected||t.code===Xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof za?this.restoreHistory(r,!0):t instanceof en&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Rr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ja=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ja||{});E2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},D2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=v(Ju),this.stateManager=v(VM),this.options=v(tc,{optional:!0})||{},this.pendingTasks=v(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(Xv),this.urlSerializer=v(Za),this.location=v(_s),this.urlHandlingStrategy=v(Jv),this._events=new ge,this.errorHandler=this.options.errorHandler||w2,this.navigated=!1,this.routeReuseStrategy=v(_2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Hd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(qd,{optional:!0}),this.eventsSubscription=new Ve,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof en)this.navigated=!0;else if(r instanceof Is){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||y2(i.source)},s);this.scheduleNavigation(a,Ba,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}S2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ba,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Qv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=_M(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return CM(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=fo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ba,null,r)}navigate(t,r={skipLocationChange:!1}){return M2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},E2):r===!1?i=E({},D2):i=r,fo(t))return XD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return XD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return jM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();bn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:tE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:fo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(kt),pm("tabindex"),D(Ln),D(mt),D(Ar))}}static{this.\u0275dir=le({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&O("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&fs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",di],skipLocationChange:[2,"skipLocationChange","skipLocationChange",di],replaceUrl:[2,"replaceUrl","replaceUrl",di],routerLink:"routerLink"},standalone:!0,features:[Rm,Fn]})}}return n})(),UM=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new se,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof en&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(Zn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=q(t).pipe(Zn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=I2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(mt),D(Ln),D(jn),D(bn,8))}}static{this.\u0275dir=le({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&JE(o,bn,5),r&2){let s;ps(s=gs())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]})}}return n})();zd=class{},x2=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof en),an(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Qu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return q(i).pipe(Zn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=F(null);let o=i.pipe(Ue(s=>s===null?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return q([o,s]).pipe(Zn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(A(Te),A(nd),A(Pt),A(zd),A(Zv))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BM=new k(""),O2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof en?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof vi&&t.code===kd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){pE()}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();$M=new k("",{factory:()=>new ge}),ey=new k("",{providedIn:"root",factory:()=>1});HM=new k("");aM=new k("ROUTER_FORROOT_GUARD"),L2=[_s,{provide:Za,useClass:Ss},Te,Xa,{provide:kt,useFactory:T2,deps:[Te]},Zv,[]],ty=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[L2,[],{provide:Hd,multi:!0,useValue:t},{provide:aM,useFactory:B2,deps:[[Te,new Pu,new Jg]]},{provide:tc,useValue:r||{}},r?.useHash?j2():U2(),V2(),r?.preloadingStrategy?k2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?$2(r):[],r?.bindToComponentInputs?R2().\u0275providers:[],r?.enableViewTransitions?F2().\u0275providers:[],H2()]}}static forChild(t){return{ngModule:n,providers:[{provide:Hd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(A(aM,8))}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})();cM=new k("")});var Gd,zM=p(()=>{"use strict";Jr();we();T();Aa();Gd=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(ut(1),fe(e=>(console.log("err:",e),it(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(ut(1),fe(e=>(console.log("err:",e),it(()=>e))))}static \u0275fac=function(t){return new(t||n)(A(co))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var z2,q2,ht,rc=p(()=>{"use strict";z2=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],q2=!z2.includes(window.location.hostname),ht={baseURL:q2?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function ic(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var qM=p(()=>{"use strict"});function sc(n,e=200){return x(this,null,function*(){if(oc){let t=ic();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function W2(n,e){return x(this,null,function*(){if(oc){let t=yield fetch(`${ht.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield sc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function G2(n,e){return x(this,null,function*(){let t=`${ht.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function K2(n,e,t){return x(this,null,function*(){if(oc){let r=t?`${ht.baseURL}/${t}`:`${ht.baseURL}/${n}`,i={"Content-Type":"application/json"},o=ic();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=$(E({},e),{_id:Z2()}),i=yield sc(n);return i.push(r),ny(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function Y2(n,e){return x(this,null,function*(){if(oc){let t=`${ht.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=ic();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield sc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),ny(n,t),e}})}function Q2(n,e){return x(this,null,function*(){if(oc){let t=ic();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield sc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),ny(n,t)}})}function ny(n,e){localStorage.setItem(n,JSON.stringify(e))}function Z2(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var st,oc,ry=p(()=>{"use strict";rc();qM();st={post:K2,get:W2,put:Y2,remove:Q2,query:sc,login:G2},oc=!0});var WM,J2,Kd,GM=p(()=>{"use strict";WM="dzqnyehxn",J2="fuhrsp2z",Kd={CLOUD_NAME:WM,UPLOAD_PRESET:J2,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${WM}/${n}/upload`}});var _i,Yd=p(()=>{"use strict";GM();we();T();_i=class n{cloudName=Kd.CLOUD_NAME;uploadPreset=Kd.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=Kd.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),q(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var zn,ac,cc,Qd=p(()=>{"use strict";zn=Object.create(null);zn.open="0";zn.close="1";zn.ping="2";zn.pong="3";zn.message="4";zn.upgrade="5";zn.noop="6";ac=Object.create(null);Object.keys(zn).forEach(n=>{ac[zn[n]]=n});cc={type:"error",data:"parser error"}});function QM(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function eS(n,e){if(ZM&&n.data instanceof Blob)return n.data.arrayBuffer().then(QM).then(e);if(JM&&(n.data instanceof ArrayBuffer||XM(n.data)))return e(QM(n.data));lc(n,!1,t=>{iy||(iy=new TextEncoder),e(iy.encode(t))})}var ZM,JM,XM,lc,YM,iy,tS=p(()=>{"use strict";Qd();ZM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",JM=typeof ArrayBuffer=="function",XM=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,lc=({type:n,data:e},t,r)=>ZM&&e instanceof Blob?t?r(e):YM(e,r):JM&&(e instanceof ArrayBuffer||XM(e))?t?r(e):YM(new Blob([e]),r):r(zn[n]+(e||"")),YM=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var nS,uc,rS,iS=p(()=>{"use strict";nS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<nS.length;n++)uc[nS.charCodeAt(n)]=n;rS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=uc[n.charCodeAt(r)],s=uc[n.charCodeAt(r+1)],a=uc[n.charCodeAt(r+2)],c=uc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var X2,dc,eV,oS,sS=p(()=>{"use strict";Qd();iS();X2=typeof ArrayBuffer=="function",dc=(n,e)=>{if(typeof n!="string")return{type:"message",data:oS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:eV(n.substring(1),e)}:ac[t]?n.length>1?{type:ac[t],data:n.substring(1)}:{type:ac[t]}:cc},eV=(n,e)=>{if(X2){let t=rS(n);return oS(t,e)}else return{base64:!0,data:n}},oS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function uS(){return new TransformStream({transform(n,e){eS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function Zd(n){return n.reduce((e,t)=>e+t.length,0)}function Jd(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function dS(n,e){oy||(oy=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Zd(t)<1)break;let c=Jd(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Zd(t)<2)break;let c=Jd(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Zd(t)<8)break;let c=Jd(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(cc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Zd(t)<i)break;let c=Jd(t,i);a.enqueue(dc(o?c:oy.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(cc);break}}}})}var aS,cS,lS,oy,sy,Ts=p(()=>{"use strict";tS();sS();Qd();aS="",cS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{lc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(aS))})})},lS=(n,e)=>{let t=n.split(aS),r=[];for(let i=0;i<t.length;i++){let o=dc(t[i],e);if(r.push(o),o.type==="error")break}return r};sy=4});function Fe(n){if(n)return tV(n)}function tV(n){for(var e in Fe.prototype)n[e]=Fe.prototype[e];return n}var ho=p(()=>{"use strict";Fe.prototype.on=Fe.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Fe.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Fe.prototype.off=Fe.prototype.removeListener=Fe.prototype.removeAllListeners=Fe.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Fe.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Fe.prototype.emitReserved=Fe.prototype.emit;Fe.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Fe.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Fr,Rt,fS,po=p(()=>{"use strict";Fr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Rt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),fS="arraybuffer"});function Xd(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Lr(n,e){e.useNativeTimers?(n.setTimeoutFn=nV.bind(Rt),n.clearTimeoutFn=rV.bind(Rt)):(n.setTimeoutFn=Rt.setTimeout.bind(Rt),n.clearTimeoutFn=Rt.clearTimeout.bind(Rt))}function hS(n){return typeof n=="string"?oV(n):Math.ceil((n.byteLength||n.size)*iV)}function oV(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function ef(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var nV,rV,iV,go=p(()=>{"use strict";po();nV=Rt.setTimeout,rV=Rt.clearTimeout;iV=1.33});function pS(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function gS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var ay=p(()=>{"use strict"});var tf,Vr,fc=p(()=>{"use strict";Ts();ho();go();ay();tf=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Vr=class extends Fe{constructor(e){super(),this.writable=!1,Lr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new tf(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=dc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=pS(e);return t.length?"?"+t:""}}});var hc,cy=p(()=>{"use strict";fc();go();Ts();hc=class extends Vr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};lS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,cS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=ef()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var mS,vS,yS=p(()=>{"use strict";mS=!1;try{mS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}vS=mS});function sV(){}function _S(){for(let n in nf.requests)nf.requests.hasOwnProperty(n)&&nf.requests[n].abort()}function CS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||vS))return new XMLHttpRequest}catch{}if(!e)try{return new Rt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var ly,nf,aV,Ci,rf=p(()=>{"use strict";cy();ho();go();po();yS();ly=class extends hc{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},nf=(()=>{class n extends Fe{constructor(t,r,i){super(),this.createRequest=t,Lr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=Xd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=sV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_S);else if(typeof addEventListener=="function"){let n="onpagehide"in Rt?"pagehide":"unload";addEventListener(n,_S,!1)}}aV=function(){let n=CS({xdomain:!1});return n&&n.responseType!==null}(),Ci=class extends ly{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=aV&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new nf(CS,this.uri(),e)}}});var bS,dy,uy,bi,of=p(()=>{"use strict";fc();go();Ts();po();bS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",dy=class extends Vr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=bS?{}:Xd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;lc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Fr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ef()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},uy=Rt.WebSocket||Rt.MozWebSocket,bi=class extends dy{createSocket(e,t,r){return bS?new uy(e,t,r):t?new uy(e,t):new uy(e)}doWrite(e,t){this.ws.send(t)}}});var Ps,fy=p(()=>{"use strict";fc();po();Ts();Ps=class extends Vr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=dS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=uS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Fr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var hy,py=p(()=>{"use strict";rf();of();fy();hy={websocket:bi,webtransport:Ps,polling:Ci}});function As(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=cV.exec(n||""),o={},s=14;for(;s--;)o[lV[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=uV(o,o.path),o.queryKey=dV(o,o.query),o}function uV(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function dV(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var cV,lV,gy=p(()=>{"use strict";cV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,lV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var my,sf,af,cf,Ns,vy=p(()=>{"use strict";py();go();ay();gy();ho();Ts();po();my=typeof addEventListener=="function"&&typeof removeEventListener=="function",sf=[];my&&addEventListener("offline",()=>{sf.forEach(n=>n())},!1);af=(()=>{class n extends Fe{constructor(t,r){if(super(),this.binaryType=fS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=As(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=As(r.host).host);Lr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=gS(this.opts.query)),my&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},sf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=sy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=hS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Fr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),my&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=sf.indexOf(this._offlineEventListener);i!==-1&&sf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=sy,n})(),cf=class extends af{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;af.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;af.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=t.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Ns=class extends cf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>hy[i]).filter(i=>!!i)),super(e,r)}}});var wS=p(()=>{"use strict";cy()});var JK,lf=p(()=>{"use strict";vy();vy();fc();py();go();gy();po();wS();rf();rf();of();of();fy();JK=Ns.protocol});function ES(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=As(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var DS=p(()=>{"use strict";lf()});function gc(n){return hV&&(n instanceof ArrayBuffer||pV(n))||gV&&n instanceof Blob||mV&&n instanceof File}function pc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(pc(n[t]))return!0;return!1}if(gc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return pc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&pc(n[t]))return!0;return!1}var hV,pV,MS,gV,mV,yy=p(()=>{"use strict";hV=typeof ArrayBuffer=="function",pV=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,MS=Object.prototype.toString,gV=typeof Blob=="function"||typeof Blob<"u"&&MS.call(Blob)==="[object BlobConstructor]",mV=typeof File=="function"||typeof File<"u"&&MS.call(File)==="[object FileConstructor]"});function SS(n){let e=[],t=n.data,r=n;return r.data=_y(t,e),r.attachments=e.length,{packet:r,buffers:e}}function _y(n,e){if(!n)return n;if(gc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=_y(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=_y(n[r],e));return t}return n}function IS(n,e){return n.data=Cy(n.data,e),delete n.attachments,n}function Cy(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Cy(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Cy(n[t],e));return n}var xS=p(()=>{"use strict";yy()});var Dy={};ZO(Dy,{Decoder:()=>wy,Encoder:()=>by,PacketType:()=>pe,protocol:()=>TS});function OS(n){return Object.prototype.toString.call(n)==="[object Object]"}var vV,TS,pe,by,wy,Ey,uf=p(()=>{"use strict";ho();xS();yy();vV=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],TS=5,pe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(pe||{}),by=class{constructor(e){this.replacer=e}encode(e){return(e.type===pe.EVENT||e.type===pe.ACK)&&pc(e)?this.encodeAsBinary({type:e.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===pe.BINARY_EVENT||e.type===pe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=SS(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};wy=class n extends Fe{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===pe.BINARY_EVENT;r||t.type===pe.BINARY_ACK?(t.type=r?pe.EVENT:pe.ACK,this.reconstructor=new Ey(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(gc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(pe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===pe.BINARY_EVENT||r.type===pe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case pe.CONNECT:return OS(t);case pe.DISCONNECT:return t===void 0;case pe.CONNECT_ERROR:return typeof t=="string"||OS(t);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&vV.indexOf(t[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Ey=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=IS(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function tn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var My=p(()=>{"use strict"});var yV,ks,Sy=p(()=>{"use strict";uf();My();ho();yV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ks=class extends Fe{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[tn(e,"open",this.onopen.bind(this)),tn(e,"packet",this.onpacket.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(yV.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:pe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(e);break;case pe.ACK:case pe.BINARY_ACK:this.onack(e);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:pe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function mo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var PS=p(()=>{"use strict";mo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};mo.prototype.reset=function(){this.attempts=0};mo.prototype.setMin=function(n){this.ms=n};mo.prototype.setMax=function(n){this.max=n};mo.prototype.setJitter=function(n){this.jitter=n}});var Rs,AS=p(()=>{"use strict";lf();Sy();uf();My();PS();ho();Rs=class extends Fe{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Lr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new mo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||Dy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ns(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=tn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=tn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(tn(e,"ping",this.onping.bind(this)),tn(e,"data",this.ondata.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Fr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ks(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function vc(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=ES(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=mc[i]&&o in mc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Rs(r,e):(mc[i]||(mc[i]=new Rs(r,e)),c=mc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var mc,NS=p(()=>{"use strict";DS();AS();Sy();uf();lf();mc={};Object.assign(vc,{Manager:Rs,Socket:ks,io:vc,connect:vc})});var Fs,Iy=p(()=>{"use strict";T();Fs=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function RS(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var BY,_V,CV,bV,wV,EV,DV,MV,wn,Ls=p(()=>{"use strict";NS();Et();T();Iy();BY=RS(),_V="chat-add-msg",CV="chat-add-private-msg",bV="chat-send-msg",wV="chat-set-topic",EV="chat-send-private-msg",DV="set-user-socket",MV="unset-user-socket",wn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=RS(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=vc(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(wV,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(bV,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i){this.socket||this.setup();let o=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",o),!o||!e||!t.trim()&&!r&&!i){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:o,toUserId:e,msg:t,imageUrl:r,videoUrl:i});return}let s={sender:o._id,senderName:o.username,text:t||"",imageUrl:r||void 0,videoUrl:i||void 0,toUserId:e};this.addToBuffer($(E({},s),{senderName:"Me"})),console.log("\u2705 Sending private message:",s),this.socket?.emit(EV,{toUserId:e,text:t,imageUrl:r,videoUrl:i,sender:o._id,senderName:o.username})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(DV,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(_V,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(CV,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=$(E({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(MV)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(A(Ze),A(Fs))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var yc,wi,FS,LS,Ei,Ce,Et=p(()=>{"use strict";we();ry();rc();T();Yd();Ls();yc="user",wi="loggedInUser",FS="facebookId",LS="facebookAccessToken",Ei="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(wi)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new de([]);users$=this._users$.asObservable();_filterBy$=new de("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new de(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){q(st.query(yc)).pipe(te(e=>{this._users$.next(this._sort(e))}),fe(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(wi)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(wi)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(wi,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Ei,e),sessionStorage.setItem(Ei,e)}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ei)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ei)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ei)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ei)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Ei)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${ht.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={username:e,password:t};return q(st.login("auth/login",r)).pipe(te(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(wi,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),fe(this._handleError))}loginWithFacebook(e){return q(st.login("auth/facebook",e)).pipe(te(t=>{this._loggedInUser$.next(t),localStorage.setItem(wi,JSON.stringify(t)),localStorage.setItem(FS,e.facebookId),localStorage.setItem(LS,e.accessToken),this.socketService.login(t._id)}),fe(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(wi),localStorage.removeItem(FS),localStorage.removeItem(LS),localStorage.removeItem(Ei),this.socketService.logout()}loadUsers(){return q(st.query(yc)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),te(e=>this._users$.next(e)),ut(3),fe(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(be(1)).subscribe()}deleteUser(e){return q(st.remove(yc,e)).pipe(te(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),ut(2),fe(this._handleError))}getUserById(e){return q(st.get(yc,e)).pipe(ut(3),fe(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=$(E({},e),{_id:this._getRandomId()});return q(st.post("auth/signup",t)).pipe(te(r=>{let i=this._users$.value;this._users$.next([...i,r])}),ut(3),fe(this._handleError))}_updateUser(e){return q(st.put(yc,e)).pipe(te(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),ut(3),fe(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),it(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?q(st.put("user/updateProfile",e)).pipe(te(t=>{this._loggedInUser$.next(t),localStorage.setItem(wi,JSON.stringify(t))}),fe(this._handleError)):it(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(ke(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return it(()=>new Error("No logged-in user found. Please log in."));let i=$(E({},r),{img:t});return this.saveUser(i).pipe(te(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),fe(t=>(console.error("Error updating user image:",t.message||t),it(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(A(_i),A(wn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function df(n,e){return{type:ne.Trigger,name:n,definitions:e,options:{}}}function bc(n,e=null){return{type:ne.Animate,styles:e,timings:n}}function VS(n,e=null){return{type:ne.Sequence,steps:n,options:e}}function qn(n){return{type:ne.Style,styles:n,offset:null}}function Oy(n,e,t){return{type:ne.State,name:n,styles:e,options:t}}function wc(n,e,t=null){return{type:ne.Transition,expr:n,animation:e,options:t}}var ne,hr,Di,Cc,ff,hf=p(()=>{"use strict";ne=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ne||{}),hr="*";Di=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Cc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ff="!"});var Ec,vt,jr=p(()=>{"use strict";we();ry();T();Ec="contact",vt=class n{_contacts$=new de([]);contacts$=this._contacts$.asObservable();_allContacts$=new de([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new de({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){q(st.query(Ec)).pipe(te(e=>{this._contacts$.next(this._sort(e))}),fe(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),q(st.query("contact/All")).pipe(te(e=>{this._allContacts$.next(this._sort(e))}),fe(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return it(()=>new Error("Contact not found"));let i=$(E({},r),{img:t});return q(st.put("contact/edit",i)).pipe(te(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),ut(1),fe(o=>this._handleError(o)))}loadContacts(){return q(st.query(Ec)).pipe(te(e=>{let t=this._filterBy$.value;e=e.map(r=>$(E({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),ut(1),fe(this._handleError))}deleteContact(e){return q(st.remove(Ec,e)).pipe(te(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),ut(1),fe(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(be(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return q(st.get(Ec,e)).pipe(ut(1),fe(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),q(st.put("contact/edit",e)).pipe(te(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),ut(1),fe(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),q(st.post(Ec,e)).pipe(te(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),ut(1),fe(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),it(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Vs,Ty=p(()=>{"use strict";T();Vs=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Ht(n){n||(om(Ht),n=v(At));let e=new J(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(ln(e))}var js=p(()=>{"use strict";T();we();Jr();});var Dt,Mi=p(()=>{"use strict";T();we();js();T();Dt=class n{destroyRef=v(At);_msg=new de(null);msg$=this._msg.asObservable().pipe(Cr());_msgQueue$=new ge;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(an(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?F(null):(this._currentMsg=e,F(e).pipe(te(()=>this._msg.next(e)),cn(1100),te(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(Ht()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Mt,Si=p(()=>{"use strict";T();Mt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&O("click",function(o){return r.onClick(o)})}})}});function IV(n,e){if(n&1&&(Kt(0),h(1,"h1"),_(2),f(),R(3,"img",3),Yt()),n&2){let t=S();C(2),Oe("Hello: ",t.logdinUser.username,"!"),C(),b("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Xe)}}function xV(n,e){if(n&1){let t=K();h(0,"h1"),_(1," Welcome!"),R(2,"br"),_(3," Please login or sign up"),R(4,"br"),h(5,"span",4),R(6,"img",5),f()(),h(7,"section",6)(8,"a",7),_(9,"Login"),f(),h(10,"a",8),_(11,"Sign Up"),f(),h(12,"button",9),O("click",function(){L(t);let i=S();return V(i.loginWithFacebook())}),R(13,"img",10),h(14,"span",11),_(15,"Login with Facebook"),f()()()}}var pf,US=p(()=>{"use strict";T();zM();we();Et();hf();jr();T();Ty();Mi();ot();Ie();Si();pf=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=v(Gd);userService=v(Ce);logdinUser=this.userService.getLoggedInUser();contactService=v(vt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(be(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Vs),D(Dt),D(Te))};static \u0275cmp=ee({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(h(0,"section",1),N(1,IV,4,2,"ng-container",2)(2,xV,16,0,"ng-template",null,0,cr),f()),t&2){let i=bt(3);C(),b("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[_e,bn,Mt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[df("bounceArrow",[Oy("up",qn({transform:"translateY(-10px)"})),Oy("down",qn({transform:"translateY(10px)"})),wc("up <=> down",[bc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var En,$s=p(()=>{"use strict";T();T();En=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new se;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(mt))};static \u0275dir=le({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function OV(n,e){if(n&1){let t=K();h(0,"div",1)(1,"div",2),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.cancel())}),h(2,"p"),_(3),f(),h(4,"div",3)(5,"button",4),O("click",function(){L(t);let i=S();return V(i.confirm())}),_(6,"Yes"),f(),h(7,"button",4),O("click",function(){L(t);let i=S();return V(i.cancel())}),_(8,"No"),f()()()()}if(n&2){let t=S();C(3),wt(t.message)}}var Hs,Py=p(()=>{"use strict";T();T();Ie();Si();$s();Hs=class n{isVisible=!1;message="";confirmed=new se;canceled=new se;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&N(0,OV,9,1,"div",0),t&2&&b("ngIf",r.isVisible)},dependencies:[_e,Mt,En],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var TV,PV,AV,mf,$S=p(()=>{"use strict";T();T();ot();Mi();Ty();Ie();Py();Si();TV=(n,e)=>[n,e],PV=n=>({"long-name":n}),AV=n=>["/contact/edit",n],mf=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new se;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Te),D(Dt),D(Vs))};static \u0275cmp=ee({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:14,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(h(0,"article",0),O("click",function(){return r.onPreviewClick()}),R(1,"img",1),h(2,"div",2)(3,"h1",3),_(4),f()(),h(5,"div",4)(6,"button",5),O("click",function(){return r.onDeleteClick()}),R(7,"img",6),f(),h(8,"button",7),O("click",function(){return r.onEditClick()}),R(9,"img",8),f(),h(10,"button",9),O("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),R(11,"img",10),f()()(),h(12,"app-modal",11),O("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),R(13,"router-outlet")),t&2&&(C(),b("src",r.contact.img?r.contact.img:"../../../assets/images/contact.png",Xe)("ngClass",ar(7,TV,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),C(2),b("ngClass",Sa(10,PV,r.isLongName)),C(),Oe(" ",r.contact.name," "),C(4),b("routerLink",Sa(12,AV,r.contact._id)),C(4),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[ur,$n,bn,Hs,Mt],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 70px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0 auto;font-size:1.25rem;color:#1c284e;cursor:pointer;font-weight:700;text-align:center;min-width:100px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;min-width:unset}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]})}});function kV(n,e){if(n&1){let t=K();h(0,"contact-preview",2),O("remove",function(){let i=L(t).$implicit,o=S();return V(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;b("contact",t)}}var vf,HS=p(()=>{"use strict";T();ot();we();T();ot();Ie();$S();vf=class n{constructor(e){this.router=e}contacts;remove=new se;destroy$=new ge;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof en)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=ee({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(h(0,"section",0),N(1,kV,1,1,"contact-preview",1),f()),t&2&&(C(),b("ngForOf",r.contacts))},dependencies:[dr,mf],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function LV(){let n=lr()?lr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Ii(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function eI(n){return n!=null&&typeof n.length=="number"}function UV(n){return e=>{if(Ii(e.value)||Ii(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function BV(n){return e=>{if(Ii(e.value)||Ii(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function tI(n){return Ii(n.value)?{required:!0}:null}function $V(n){return n.value===!0?null:{required:!0}}function HV(n){return Ii(n.value)||jV.test(n.value)?null:{email:!0}}function nI(n){return e=>Ii(e.value)||!eI(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function zV(n){return e=>eI(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function qV(n){if(!n)return _f;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ii(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function _f(n){return null}function rI(n){return n!=null}function iI(n){return ui(n)?q(n):n}function oI(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function sI(n,e){return e.map(t=>t(n))}function WV(n){return!n.validate}function aI(n){return n.map(e=>WV(e)?e:t=>e.validate(t))}function cI(n){if(!n)return null;let e=n.filter(rI);return e.length==0?null:function(t){return oI(sI(t,e))}}function Vy(n){return n!=null?cI(aI(n)):null}function lI(n){if(!n)return null;let e=n.filter(rI);return e.length==0?null:function(t){let r=sI(t,e).map(iI);return wp(r).pipe(j(oI))}}function jy(n){return n!=null?lI(aI(n)):null}function zS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uI(n){return n._rawValidators}function dI(n){return n._rawAsyncValidators}function Ay(n){return n?Array.isArray(n)?n:[n]:[]}function Cf(n,e){return Array.isArray(n)?n.includes(e):n===e}function qS(n,e){let t=Ay(e);return Ay(n).forEach(i=>{Cf(t,i)||t.push(i)}),t}function WS(n,e){return Ay(e).filter(t=>!Cf(n,t))}function Uy(n){return(xf(n)?n.validators:n)||null}function KV(n){return Array.isArray(n)?Vy(n):n||null}function By(n,e){return(xf(e)?e.asyncValidators:n)||null}function YV(n){return Array.isArray(n)?jy(n):n||null}function xf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function fI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")}function hI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new M(1002,"")})}function pI(n,e){return[...e.path,n]}function Df(n,e,t=Of){$y(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ZV(n,e),XV(n,e),JV(n,e),QV(n,e)}function GS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Sf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Mf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function $y(n,e){let t=uI(n);e.validator!==null?n.setValidators(zS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=dI(n);e.asyncValidator!==null?n.setAsyncValidators(zS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Mf(e._rawValidators,i),Mf(e._rawAsyncValidators,i)}function Sf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=uI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=dI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Mf(e._rawValidators,r),Mf(e._rawAsyncValidators,r),t}function ZV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&gI(n,e)})}function JV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&gI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function gI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function mI(n,e){n==null,$y(n,e)}function ej(n,e){return Sf(n,e)}function vI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function tj(n){return Object.getPrototypeOf(n.constructor)===Ly}function yI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _I(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Dn?t=o:tj(o)?r=o:i=o}),i||r||t||null}function nj(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function bI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function lj(n){return n.split(":")[0]}function ZS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function dj(n){return n.split(":")[0]}function fj(n){return typeof n=="number"?n:parseInt(n,10)}function JS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var XS,Ly,Tc,FV,VV,Dn,Mn,Ks,jV,xi,bf,Ur,vo,wf,GV,uZ,pr,If,Dc,yf,zs,Mc,Oi,Ef,Ic,xc,qs,Ny,ky,Ws,Gs,Ry,Pc,Of,rj,Sc,Hy,Oc,ij,oj,QS,Br,Tf,CI,sj,zy,aj,qy,cj,Pf,wI,uj,EI,DI,MI,hj,Wy,pj,Gy,SI,Fy,II,xI,OI,Sn=p(()=>{"use strict";T();T();Ie();we();Jr();XS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ln),D(mt))}}static{this.\u0275dir=le({type:n})}}return n})(),Ly=(()=>{class n extends XS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,features:[jt]})}}return n})(),Tc=new k(""),FV={provide:Tc,useExisting:fn(()=>Dn),multi:!0};VV=new k(""),Dn=(()=>{class n extends XS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!LV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ln),D(mt),D(VV,8))}}static{this.\u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[et([FV]),jt]})}}return n})();Mn=new k(""),Ks=new k(""),jV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xi=class{static min(e){return UV(e)}static max(e){return BV(e)}static required(e){return tI(e)}static requiredTrue(e){return $V(e)}static email(e){return HV(e)}static minLength(e){return nI(e)}static maxLength(e){return zV(e)}static pattern(e){return qV(e)}static nullValidator(e){return _f(e)}static compose(e){return cI(e)}static composeAsync(e){return lI(e)}};bf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ur=class extends bf{get formDirective(){return null}get path(){return null}},vo=class extends bf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},wf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uZ=$(E({},GV),{"[class.ng-submitted]":"isSubmitted"}),pr=(()=>{class n extends wf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(vo,2))}}static{this.\u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&hs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[jt]})}}return n})(),If=(()=>{class n extends wf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ur,10))}}static{this.\u0275dir=le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&hs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[jt]})}}return n})(),Dc="VALID",yf="INVALID",zs="PENDING",Mc="DISABLED",Oi=class{},Ef=class extends Oi{constructor(e,t){super(),this.value=e,this.source=t}},Ic=class extends Oi{constructor(e,t){super(),this.pristine=e,this.source=t}},xc=class extends Oi{constructor(e,t){super(),this.touched=e,this.source=t}},qs=class extends Oi{constructor(e,t){super(),this.status=e,this.source=t}},Ny=class extends Oi{constructor(e){super(),this.source=e}},ky=class extends Oi{constructor(e){super(),this.source=e}};Ws=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ao(()=>this.statusReactive()),this.statusReactive=so(void 0),this._pristine=ao(()=>this.pristineReactive()),this.pristineReactive=so(!0),this._touched=ao(()=>this.touchedReactive()),this.touchedReactive=so(!1),this._events=new ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qt(this.statusReactive)}set status(e){Qt(()=>this.statusReactive.set(e))}get valid(){return this.status===Dc}get invalid(){return this.status===yf}get pending(){return this.status==zs}get disabled(){return this.status===Mc}get enabled(){return this.status!==Mc}get pristine(){return Qt(this.pristineReactive)}set pristine(e){Qt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qt(this.touchedReactive)}set touched(e){Qt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WS(e,this._rawAsyncValidators))}hasValidator(e){return Cf(this._rawValidators,e)}hasAsyncValidator(e){return Cf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new xc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new xc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ic(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ic(!0,r))}markAsPending(e={}){this.status=zs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Mc,this.errors=null,this._forEachChild(i=>{i.disable($(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ef(this.value,r)),this._events.next(new qs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this._forEachChild(r=>{r.enable($(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dc||this.status===zs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ef(this.value,t)),this._events.next(new qs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mc:Dc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=zs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=iI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new qs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Mc:this.errors?yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zs)?zs:this._anyControlsHaveStatus(yf)?yf:Dc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ic(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new xc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=YV(this._rawAsyncValidators)}},Gs=class extends Ws{constructor(e,t,r){super(Uy(t),By(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hI(this,!0,e),Object.keys(e).forEach(r=>{fI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Ry=class extends Gs{},Pc=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Of}),Of="always";rj={provide:Ur,useExisting:fn(()=>Hy)},Sc=Promise.resolve(),Hy=(()=>{class n extends Ur{get submitted(){return Qt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ao(()=>this.submittedReactive()),this.submittedReactive=so(!1),this._directives=new Set,this.ngSubmit=new se,this.form=new Gs({},Vy(t),jy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Df(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sc.then(()=>{let r=this._findContainer(t.path),i=new Gs({});mI(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Sc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),yI(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Mn,10),D(Ks,10),D(Pc,8))}}static{this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([rj]),jt]})}}return n})();Oc=class extends Ws{constructor(e=null,t,r){super(Uy(t),By(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ij=n=>n instanceof Oc,oj={provide:vo,useExisting:fn(()=>Br)},QS=Promise.resolve(),Br=(()=>{class n extends vo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Oc,this._registered=!1,this.name="",this.update=new se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_I(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Df(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){QS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&di(r);QS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?pI(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Ur,9),D(Mn,10),D(Ks,10),D(Tc,10),D(jn,8),D(Pc,8))}}static{this.\u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[et([oj]),jt,Fn]})}}return n})(),Tf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),CI=new k(""),sj={provide:Ur,useExisting:fn(()=>zy)},zy=(()=>{class n extends Ur{get submitted(){return Qt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ao(()=>this._submittedReactive()),this._submittedReactive=so(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Df(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){GS(t.control||null,t,!1),nj(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),yI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ny(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new ky(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(GS(r||null,t),ij(i)&&(Df(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);mI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&ej(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$y(this.form,this),this._oldForm&&Sf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Mn,10),D(Ks,10),D(Pc,8))}}static{this.\u0275dir=le({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([sj]),jt,Fn]})}}return n})(),aj={provide:vo,useExisting:fn(()=>qy)},qy=(()=>{class n extends vo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_I(this,o)}ngOnChanges(t){this._added||this._setUpControl(),vI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return pI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Ur,13),D(Mn,10),D(Ks,10),D(Tc,10),D(CI,8))}}static{this.\u0275dir=le({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[et([aj]),jt,Fn]})}}return n})(),cj={provide:Tc,useExisting:fn(()=>Pf),multi:!0};Pf=(()=>{class n extends Ly{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=bI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=lj(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([cj]),jt]})}}return n})(),wI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(bI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(mt),D(Ln),D(Pf,9))}}static{this.\u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),uj={provide:Tc,useExisting:fn(()=>EI),multi:!0};EI=(()=>{class n extends Ly{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=dj(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[et([uj]),jt]})}}return n})(),DI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ZS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ZS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(mt),D(Ln),D(EI,9))}}static{this.\u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();MI=(()=>{class n{constructor(){this._validator=_f}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_f,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,features:[Fn]})}}return n})(),hj={provide:Mn,useExisting:fn(()=>Wy),multi:!0},Wy=(()=>{class n extends MI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=di,this.createValidator=t=>tI}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&fs("required",i._enabled?"":null)},inputs:{required:"required"},features:[et([hj]),jt]})}}return n})(),pj={provide:Mn,useExisting:fn(()=>Gy),multi:!0},Gy=(()=>{class n extends MI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>fj(t),this.createValidator=t=>nI(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&fs("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[et([pj]),jt]})}}return n})(),SI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({})}}return n})(),Fy=class extends Ws{constructor(e,t,r){super(Uy(t),By(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hI(this,!1,e),e.forEach((r,i)=>{fI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};II=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return JS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Gs(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ry(i,r)}control(t,r,i){let o={};return this.useNonNullable?(JS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Oc(t,$(E({},o),{nonNullable:!0}))):new Oc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Fy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Oc)return t;if(t instanceof Ws)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pc,useValue:t.callSetDisabledState??Of}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({imports:[SI]})}}return n})(),OI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Pc,useValue:t.callSetDisabledState??Of}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({imports:[SI]})}}return n})()});function gj(n,e){if(n&1){let t=K();h(0,"button",4),O("click",function(){L(t);let i=S();return V(i.onClearFilter())}),_(1," \u2716 "),f()}}var Af,TI=p(()=>{"use strict";T();we();js();jr();T();Ie();Sn();Af=class n{contactService=v(vt);filterBy;filterSubject$=new ge;destroyRef=v(At);ngOnInit(){this.contactService.filterBy$.pipe(Ht(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Cr(),Ht(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),vn("ngModelChange",function(o){return Vn(r.filterBy.name,o)||(r.filterBy.name=o),o}),O("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,gj,2,0,"button",3),f()()),t&2&&(C(2),mn("ngModel",r.filterBy.name),C(),b("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[_e,Dn,pr,Br],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Nf,PI=p(()=>{"use strict";T();js();jr();T();ot();HS();TI();Ie();Nf=class n{contactService=v(vt);contacts$;destroyRef=v(At);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(Ht(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"contact-filter"),R(2,"input",1),f(),h(3,"button",2),R(4,"img",3),h(5,"span"),_(6,"Add Contact"),f()(),h(7,"contact-list",4),Ut(8,"async"),O("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(C(7),b("contacts",Bt(8,1,r.contacts$)))},dependencies:[bn,vf,Af,$t],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});function yj(n,e){if(n&1&&(h(0,"p")(1,"strong"),_(2,"Dscription:"),f(),_(3),f()),n&2){let t=S().ngIf;C(3),Oe(" ",t.lastName,"")}}function _j(n,e){if(n&1){let t=K();h(0,"section",2),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.onBack())}),h(1,"section",3)(2,"button",4),O("click",function(){L(t);let i=S();return V(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),_(5,"Contact Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),_(11,"Name:"),f(),_(12),f(),N(13,yj,4,1,"p",9),f()()}if(n&2){let t=e.ngIf;C(7),b("src",t.img?t.img:"../../../assets/images/contact.png",Xe)("ngClass",ar(4,vj,t.imageSize||"medium",t.imageShape||"circle")),C(5),Oe(" ",t.name,""),C(),b("ngIf",t.lastName)}}var vj,kf,AI=p(()=>{"use strict";T();we();ot();T();Ie();ot();Si();$s();vj=(n,e)=>[n,e];kf=class n{router=v(Te);route=v(kt);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&$(E({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(R(0,"div",0),N(1,_j,14,7,"section",1),Ut(2,"async"),R(3,"router-outlet")),t&2&&(C(),b("ngIf",Bt(2,1,r.contact$)))},dependencies:[ur,_e,$n,Mt,En,$t],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var Ti,Rf=p(()=>{"use strict";we();T();Ti=class n{isLoadingSubject=new de(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ky,NI=p(()=>{"use strict";T();jr();we();Rf();Ky=(n,e)=>{let t=n.params.id,r=v(Ti),i=v(vt);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getById(t).pipe(cn(250),fe(o=>(console.error("Error fetching contact:",o),F(null))),qt(()=>r.hide()))}});function bj(n,e){if(n&1&&(h(0,"div",4),R(1,"img",5),f()),n&2){let t=S();C(),b("src",t.uploadedImageUrl,Xe)}}var Ys,Yy=p(()=>{"use strict";T();T();Yd();Ie();Ys=class n{constructor(e){this.cloudinaryService=e}imageUploaded=new se;uploadError=new se;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadImage(r)}}uploadImage(e){this.isLoading=!0,this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded image URL:",t),this.imageUploaded.emit(t),this.isLoading=!1},error:t=>{console.error("Error uploading the image:",t),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1}})}static \u0275fac=function(t){return new(t||n)(D(_i))};static \u0275cmp=ee({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"image-upload"],["class","contact-image-container",4,"ngIf"],["for","fileInput"],["type","file","id","fileInput",3,"change","disabled"],[1,"contact-image-container"],["alt","Uploaded Image",1,"contact-image",3,"src"]],template:function(t,r){t&1&&(h(0,"div",0),N(1,bj,2,1,"div",1),h(2,"label",2),_(3,"\u05D1\u05D7\u05E8 \u05EA\u05DE\u05D5\u05E0\u05D4 \u{1F4F7}"),f(),h(4,"input",3),O("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(C(),b("ngIf",r.uploadedImageUrl),C(),hs("hidden",r.uploadedImageUrl),C(2),b("disabled",r.isLoading))},dependencies:[_e],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;background-color:transparent;box-shadow:none;max-width:200px;text-align:center}.image-upload[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #ddd;display:flex;justify-content:center;align-items:center}.image-upload[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;width:7em;height:1em;background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003;margin-top:.5rem;visibility:visible}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.image-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8rem;color:#555;max-width:150px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});function wj(n,e){if(n&1){let t=K();h(0,"button",29),O("click",function(){L(t);let i=S(2);return V(i.onDeleteClick())}),R(1,"img",30),f()}}function Ej(n,e){if(n&1){let t=K();h(0,"img",31),O("click",function(){L(t);let i=S(2);return V(i.toggleImageUpload())}),f()}if(n&2){let t=S(2);b("src",t.contact.img,Xe)("ngClass",ar(2,Qy,t.selectedImageSize,t.selectedImageShape))}}function Dj(n,e){if(n&1){let t=K();h(0,"div",33),O("click",function(){L(t);let i=S(3);return V(i.toggleImageUpload())}),_(1),f()}if(n&2){let t,r=S(3);b("ngClass",ar(2,Qy,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),C(),Oe(" ",r.getInitials(r.contact.name)," ")}}function Mj(n,e){if(n&1){let t=K();h(0,"img",34),O("click",function(){L(t);let i=S(3);return V(i.toggleImageUpload())}),f()}if(n&2){let t,r=S(3);b("ngClass",ar(1,Qy,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function Sj(n,e){if(n&1&&N(0,Dj,2,5,"div",32)(1,Mj,1,4,"ng-template",null,1,cr),n&2){let t=bt(2),r=S(2);b("ngIf",r.contact.name)("ngIfElse",t)}}function Ij(n,e){if(n&1){let t=K();h(0,"div",35)(1,"image-upload",36),O("imageUploaded",function(i){L(t);let o=S(2);return V(o.onImageUploaded(i))})("uploadError",function(i){L(t);let o=S(2);return V(o.onUploadError(i))}),f()()}}function xj(n,e){if(n&1&&(h(0,"option",37),_(1),f()),n&2){let t=e.$implicit;b("value",t.value),C(),Oe("",t.label," ")}}function Oj(n,e){if(n&1&&(h(0,"option",37),_(1),f()),n&2){let t=e.$implicit;b("value",t.value),C(),Oe("",t.label," ")}}function Tj(n,e){n&1&&(h(0,"span"),_(1,"Name is required!"),f())}function Pj(n,e){n&1&&(h(0,"span"),_(1,"Name must be at least 3 characters long!"),f())}function Aj(n,e){if(n&1&&(h(0,"p",39),N(1,Tj,2,0,"span",24)(2,Pj,2,0,"span",24),f()),n&2){let t=S().ngIf;C(),b("ngIf",t.errors.required),C(),b("ngIf",t.errors.minlength)}}function Nj(n,e){if(n&1&&(Kt(0),N(1,Aj,3,2,"p",38),Yt()),n&2){let t=e.ngIf;C(),b("ngIf",t.errors&&t.touched)}}function kj(n,e){n&1&&(h(0,"div",40)(1,"label",41),_(2,"Description"),f(),R(3,"textarea",42),f())}function Rj(n,e){n&1&&(h(0,"span"),_(1,"Description must be at least 3 characters long!"),f())}function Fj(n,e){if(n&1&&(h(0,"p",39),N(1,Rj,2,0,"span",24),f()),n&2){let t=S().ngIf;C(),b("ngIf",t.errors.minlength)}}function Lj(n,e){if(n&1&&(Kt(0),N(1,Fj,2,1,"p",38),Yt()),n&2){let t=e.ngIf;C(),b("ngIf",t.errors&&t.touched)}}function Vj(n,e){if(n&1){let t=K();h(0,"div",43)(1,"label",44)(2,"input",45),O("change",function(i){L(t);let o=S(2);return V(o.onToggleLastName(i))}),f(),R(3,"span",46),f(),h(4,"span",47),_(5,"Add Description"),f()()}if(n&2){let t=S(2);C(2),b("checked",t.IsLastName||t.contact.lastName)}}function jj(n,e){if(n&1){let t=K();h(0,"div",4)(1,"section",5),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.onBack())}),h(2,"section",6)(3,"a",7),R(4,"img",8),f(),h(5,"h2"),_(6),f(),N(7,wj,2,0,"button",9),f(),h(8,"form",10),O("ngSubmit",function(){L(t);let i=S();return V(i.onSaveContact())}),h(9,"div",11),N(10,Ej,1,5,"img",12)(11,Sj,3,2,"ng-template",null,0,cr)(13,Ij,2,0,"div",13),f(),h(14,"div",14)(15,"label",15),_(16,"Size:"),f(),h(17,"select",16),O("change",function(i){L(t);let o=S();return V(o.onImageSizeChange(i))}),N(18,xj,2,2,"option",17),f(),h(19,"label",18),_(20,"Shape:"),f(),h(21,"select",19),O("change",function(i){L(t);let o=S();return V(o.onImageShapeChange(i))}),N(22,Oj,2,2,"option",17),f()(),h(23,"div",20)(24,"div",21)(25,"label",22),_(26,"Name"),f(),R(27,"input",23),f(),N(28,Nj,2,1,"ng-container",24)(29,kj,4,0,"div",25)(30,Lj,2,1,"ng-container",24),h(31,"div",26),N(32,Vj,6,1,"div",27),h(33,"button",28),_(34," Save "),f()()()()()()}if(n&2){let t=bt(12),r=S();C(6),Oe("",r.contact._id?"Edit":"Add"," Contact"),C(),b("ngIf",r.contact._id),C(),b("formGroup",r.form),C(2),b("ngIf",r.contact.img)("ngIfElse",t),C(3),b("ngIf",r.showImageUpload),C(5),b("ngForOf",r.imageSizeOptions)("ngForTrackBy",r.trackByFn),C(4),b("ngForOf",r.imageShapeOptions)("ngForTrackBy",r.trackByFn),C(6),b("ngIf",r.form.controls.name),C(),b("ngIf",r.IsLastName||r.contact.lastName),C(),b("ngIf",r.form.controls.lastName),C(2),b("ngIf",!r.contact.lastName),C(),b("disabled",r.form.invalid)}}var Qy,Nc,RI=p(()=>{"use strict";T();jr();ot();we();Sn();Ie();T();Sn();Ie();Mi();ot();Py();Si();$s();Yy();Qy=(n,e)=>[n,e];Nc=class n{constructor(e,t,r,i){this.fb=e;this.datePipe=t;this.msgService=r;this.cd=i}IsLastName=!1;showImageUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new ge;contactService=v(vt);contact=this.contactService.getEmptyContact();router=v(Te);route=v(kt);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[xi.required,xi.minLength(3)]],lastName:[e?this.contact.lastName:"",[xi.minLength(3)]],phone:[e?this.contact.phone:"",[xi.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[xi.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date)],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(ln(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(ln(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Ne(t=>!!t),ln(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue($(E({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(ln(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=E({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(ln(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.patchValue({img:e}),this.showImageUpload=!1,this.cd.detectChanges(),this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}static \u0275fac=function(t){return new(t||n)(D(II),D(md),D(Dt),D(jn))};static \u0275cmp=ee({type:n,selectors:[["contact-edit"]],features:[et([md])],decls:3,vars:3,consts:[["fallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","desc form-input",4,"ngIf"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"click","src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/contact.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],[1,"desc","form-input"],["for","lastName"],["formControlName","lastName","placeholder","Enter description...","id","description"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(N(0,jj,35,15,"div",2),h(1,"section")(2,"app-modal",3),O("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(b("ngIf",r.contact),C(2),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[ur,dr,_e,bn,Tf,wI,DI,Dn,Pf,pr,If,zy,qy,Hs,Mt,En,Ys],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:25em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:8px;font-size:16px;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;background-color:#fff;resize:vertical;font-family:Roboto,sans-serif}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none;box-shadow:0 0 5px #f1c40f80}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:3em;height:1em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:.6em;width:1em;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:180px!important;height:100px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:180px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:160px;font-size:13px}}']})}});function FI(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function LI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(Ip(200),Cr(),ke(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function VI(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Ff=p(()=>{"use strict";we();jr()});var Lf,jI=p(()=>{"use strict";Sn();Ff();T();Lf=class n{validate(e){return FI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appEmailValidator",""]],features:[et([{provide:Mn,useExisting:n,multi:!0}])]})}});var Vf,UI=p(()=>{"use strict";Sn();Ff();T();Et();Vf=class n{constructor(e){this.userService=e}validate(e){return LI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275dir=le({type:n,selectors:[["","appEmailTaken",""]],features:[et([{provide:Ks,useExisting:n,multi:!0}])]})}});var jf,BI=p(()=>{"use strict";Sn();Ff();T();jf=class n{validate(e){return VI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appPasswordValidator",""]],features:[et([{provide:Mn,useExisting:n,multi:!0}])]})}});var Uf,$I=p(()=>{"use strict";Sn();T();Uf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appFullNameValidator",""]],features:[et([{provide:Mn,useExisting:n,multi:!0}])]})}});function qj(n,e){n&1&&(h(0,"span"),_(1,"Username is required."),f())}function Wj(n,e){n&1&&(h(0,"span"),_(1," Username must be at least 3 characters long. "),f())}function Gj(n,e){if(n&1&&(h(0,"div",14),N(1,qj,2,0,"span",11)(2,Wj,2,0,"span",11),h(3,"span"),_(4,"Enter your full name (first name and last name)."),f()()),n&2){S();let t=bt(8);C(),b("ngIf",t.errors==null?null:t.errors.required),C(),b("ngIf",t.errors==null?null:t.errors.minlength)}}function Kj(n,e){n&1&&(h(0,"span"),_(1,"Password is required."),f())}function Yj(n,e){n&1&&(h(0,"span"),_(1,"Password must be at least 6 characters long."),f())}function Qj(n,e){n&1&&(h(0,"span"),_(1,"Password must contain at least one capital letter."),f())}function Zj(n,e){n&1&&(h(0,"span"),_(1,"Password must contain at least one special character."),f())}function Jj(n,e){if(n&1&&(h(0,"div",14),N(1,Kj,2,0,"span",11)(2,Yj,2,0,"span",11)(3,Qj,2,0,"span",11)(4,Zj,2,0,"span",11),f()),n&2){S();let t=bt(14);C(),b("ngIf",t.errors==null?null:t.errors.required),C(),b("ngIf",t.errors==null?null:t.errors.minlength),C(),b("ngIf",t.errors==null?null:t.errors.noCapitalLetter),C(),b("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function Xj(n,e){n&1&&(h(0,"span"),_(1,"Email is required."),f())}function eU(n,e){n&1&&(h(0,"span"),_(1,"Please enter a valid email address."),f())}function tU(n,e){n&1&&(h(0,"span"),_(1,"This email is already registered."),f())}function nU(n,e){if(n&1&&(h(0,"div",14),N(1,Xj,2,0,"span",11)(2,eU,2,0,"span",11)(3,tU,2,0,"span",11),f()),n&2){S();let t=bt(4);C(),b("ngIf",t.errors==null?null:t.errors.required),C(),b("ngIf",t.errors==null?null:t.errors.email),C(),b("ngIf",t.errors==null?null:t.errors.emailTaken)}}function rU(n,e){n&1&&(h(0,"div",18),_(1," Checking email availability... "),f())}function iU(n,e){if(n&1){let t=K();Kt(0),h(1,"label",15),_(2,"Email:"),f(),h(3,"input",16,3),vn("ngModelChange",function(i){L(t);let o=S();return Vn(o.user.email,i)||(o.user.email=i),V(i)}),f(),N(5,nU,4,3,"div",8)(6,rU,2,0,"div",17),R(7,"br"),Yt()}if(n&2){let t=bt(4),r=S();C(3),mn("ngModel",r.user.email),b("ngModelOptions",ms(5,zj))("ngModel",r.user.email),C(2),b("ngIf",t.touched&&t.invalid),C(),b("ngIf",t.pending)}}function oU(n,e){if(n&1&&(h(0,"p",14),_(1),f()),n&2){let t=S();C(),wt(t.errorMessage)}}var zj,kc,HI=p(()=>{"use strict";T();Et();ot();Mi();Ie();Sn();jI();UI();BI();$I();zj=()=>({updateOn:"change"});kc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=$(E({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(Dt),D(kt))};static \u0275cmp=ee({type:n,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=K();h(0,"div",4)(1,"h4"),_(2),f(),h(3,"form",5,0),O("ngSubmit",function(){return L(i),V(r.onSubmit())}),h(5,"label",6),_(6,"Username:"),f(),h(7,"input",7,1),vn("ngModelChange",function(s){return L(i),Vn(r.user.username,s)||(r.user.username=s),V(s)}),f(),N(9,Gj,5,2,"div",8),R(10,"br"),h(11,"label",9),_(12,"Password:"),f(),h(13,"input",10,2),vn("ngModelChange",function(s){return L(i),Vn(r.user.password,s)||(r.user.password=s),V(s)}),f(),N(15,Jj,5,4,"div",8),R(16,"br"),N(17,iU,8,6,"ng-container",11),h(18,"button",12),_(19),f(),h(20,"p"),_(21),h(22,"a",13),O("click",function(s){return L(i),r.toggleMode(),V(s.preventDefault())}),_(23),f()(),R(24,"br"),f(),N(25,oU,2,1,"p",8),f()}if(t&2){let i=bt(4),o=bt(8),s=bt(14);C(2),wt(r.isSignupMode?"Create an Account":"Sign In"),C(5),mn("ngModel",r.user.username),C(2),b("ngIf",o.touched&&o.invalid),C(4),mn("ngModel",r.user.password),C(2),b("ngIf",s.touched&&s.invalid),C(2),b("ngIf",r.isSignupMode),C(),b("disabled",i.invalid),C(),Oe(" ",r.isSignupMode?"Sign Up":"Log In"," "),C(2),Oe(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),C(2),Oe(" ",r.isSignupMode?"Sign in here":"Create an account"," "),C(2),b("ngIf",r.errorMessage)}},dependencies:[_e,Tf,Dn,pr,If,Wy,Gy,Br,Hy,Lf,Vf,jf,Uf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var yo,zI=p(()=>{"use strict";T();ot();Et();we();Mi();yo=(n,e)=>{let t=v(Ce),r=v(Te),i=v(Dt);return t.loggedInUser$.pipe(cn(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var Bf,qI=p(()=>{"use strict";T();Bf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(h(0,"html",0)(1,"head"),R(2,"meta",1)(3,"meta",2),h(4,"title"),_(5,"Privacy Policy - My Accounts App"),f(),R(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),_(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),_(19,"Effective Date:"),f(),_(20," 07/02/2025"),f(),h(21,"p"),_(22,"Welcome to "),h(23,"strong"),_(24,"My Accounts App"),f(),_(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),_(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),_(31,"Personal Information:"),f(),_(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),_(35,"Usage Data:"),f(),_(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),_(39,"Device Information:"),f(),_(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),_(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),_(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),_(47,"Personalize your experience."),f(),h(48,"li"),_(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),_(51,"Comply with legal requirements."),f()(),h(52,"h2"),_(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),_(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),_(59,"Service Providers:"),f(),_(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),_(63,"Legal Authorities:"),f(),_(64," When required by law or to protect our rights."),f()(),h(65,"h2"),_(66,"4. Data Retention & Security"),f(),h(67,"p"),_(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),_(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),_(73,"Access and review your personal data."),f(),h(74,"li"),_(75,"Request correction or deletion of your information."),f(),h(76,"li"),_(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),_(79,"6. Third-Party Links"),f(),h(80,"p"),_(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),_(83,"7. Changes to This Policy"),f(),h(84,"p"),_(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),_(87,"8. Contact Us"),f(),h(88,"p"),_(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),_(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:180px!important;height:100px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:180px!important;border-radius:5px!important}"]})}});function aU(n,e){if(n&1){let t=K();h(0,"user-list",6),O("remove",function(i){L(t);let o=S();return V(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;b("users",(t=r)!==null&&t!==void 0?t:ms(1,sU))}}function cU(n,e){if(n&1){let t=K();h(0,"div",7),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),O("click",function(){L(t);let i=S();return V(i.closeChat("group"))}),_(3,"\xD7"),f(),R(4,"app-chat",10),f()()}n&2&&(C(4),b("chatType","group"))}function lU(n,e){if(n&1){let t=K();h(0,"div",11)(1,"div",8)(2,"span",9),O("click",function(){L(t);let i=S();return V(i.closeChat("private"))}),_(3,"\xD7"),f(),R(4,"app-chat",10),f()()}n&2&&(C(4),b("chatType","private"))}var sU,Pi,$f=p(()=>{"use strict";T();js();we();Et();Ls();T();sU=()=>[];Pi=class n{userService=v(Ce);socketService=v(wn);users$;destroyRef=v(At);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new de(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(Ht(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new de(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(Ht(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-index"]],decls:8,vars:5,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","chat-modal",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType"],[1,"chat-modal"]],template:function(t,r){t&1&&(h(0,"section",0),R(1,"user-filter",1),N(2,aU,1,2,"user-list",2),Ut(3,"async"),f(),h(4,"button",3),O("click",function(){return r.openChat("group")}),_(5,"Group Chat"),f(),N(6,cU,5,1,"div",4)(7,lU,5,1,"div",5)),t&2&&(C(2),b("ngIf",Bt(3,3,r.users$)),C(4),b("ngIf",r.isGroupChatOpen),C(),b("ngIf",r.isPrivateChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background-color:#007bff}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.group-chat-btn[_ngcontent-%COMP%]{right:100px}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function dU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=S().ngIf;C(),wt(t.username)}}function fU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=S().ngIf;C(),Oe("",t.username.substring(0,15),"...")}}function hU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=S().ngIf;C(),wt(t.email)}}function pU(n,e){if(n&1&&(h(0,"span"),_(1),f()),n&2){let t=S().ngIf;C(),Oe("",t.email.substring(0,20),"...")}}function gU(n,e){if(n&1){let t=K();h(0,"section",2)(1,"section",3)(2,"button",4),O("click",function(){L(t);let i=S();return V(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),_(5,"User Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),_(11,"Username:"),f(),N(12,dU,2,1,"span",9)(13,fU,2,1,"span",9),f(),h(14,"p")(15,"strong"),_(16,"Email:"),f(),N(17,hU,2,1,"span",9)(18,pU,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=S();C(7),b("src",t.img?t.img:"../../../assets/images/contact.png",Xe),C(5),b("ngIf",!r.isLongField(t.username,15)),C(),b("ngIf",r.isLongField(t.username,15)),C(4),b("ngIf",!r.isLongField(t.email,20)),C(),b("ngIf",r.isLongField(t.email,20))}}var Hf,WI=p(()=>{"use strict";T();we();ot();Et();T();Ie();ot();Hf=class n{router=v(Te);route=v(kt);subscription;userService=v(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0),O("click",function(){return r.onBack()}),f(),N(1,gU,19,5,"section",1),Ut(2,"async"),R(3,"router-outlet")),t&2&&(C(),b("ngIf",Bt(2,1,r.user$)))},dependencies:[_e,$n,$t],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var GI,KI=p(()=>{"use strict";T();Et();we();Rf();GI=(n,e)=>{let t=n.params.id,r=v(Ti),i=v(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getUserById(t).pipe(cn(250),fe(o=>(console.error("Error fetching user:",o),F(null))),qt(()=>r.hide()))}});var mU,zf,YI=p(()=>{"use strict";ot();US();PI();AI();NI();RI();HI();zI();qI();$f();WI();KI();T();mU=[{path:"contact",component:Nf,canActivate:[yo],children:[{path:"edit",component:Nc,canActivate:[yo]},{path:"edit/:id",component:Nc,resolve:{contact:Ky},canActivate:[yo]}]},{path:"contact/:id",component:kf,outlet:"modal",resolve:{contact:Ky},canActivate:[yo]},{path:"login",component:kc},{path:"signup",component:kc},{path:"privacy-policy",component:Bf},{path:"users",component:Pi,canActivate:[yo]},{path:"user/:id",component:Hf,outlet:"modal",resolve:{user:GI},canActivate:[yo]},{path:"",component:pf}],zf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ye({type:n});static \u0275inj=Ke({imports:[ty.forRoot(mU,{useHash:!1}),ty]})}});function _U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function Wf(){try{return typeof indexedDB=="object"}catch{return!1}}function Gf(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function ex(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function MU(n,e){return n.replace(SU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function Kf(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QI(o)&&QI(s)){if(!Kf(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QI(n){return n!==null&&typeof n=="object"}function Yf(n){return n&&n._delegate?n._delegate:n}var ZI,vU,JI,Zy,yU,Jy,XI,CU,bU,wU,EU,Xy,qf,DU,$r,Hr,SU,SX,Qs=p(()=>{"use strict";ZI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},JI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[u],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Zy;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yU=function(n){let e=ZI(n);return JI.encodeByteArray(e,!0)},Jy=function(n){return yU(n).replace(/\./g,"")},XI=function(n){try{return JI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};CU=()=>_U().__FIREBASE_DEFAULTS__,bU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&XI(n[1]);return e&&JSON.parse(e)},EU=()=>{try{return CU()||bU()||wU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xy=()=>{var n;return(n=EU())===null||n===void 0?void 0:n.config};qf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};DU="FirebaseError",$r=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}},Hr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?MU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $r(i,a,r)}};SU=/\{\$([^}]+)}/g;SX=4*60*60*1e3;});function IU(n){return n===_o?void 0:n}function xU(n){return n.instantiationMode==="EAGER"}var nn,_o,e_,Qf,Zf=p(()=>{"use strict";Qs();nn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};_o="[DEFAULT]";e_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new qf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xU(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};Qf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new e_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var OU,Be,TU,PU,AU,NU,Jf,tx=p(()=>{"use strict";OU=[],Be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Be||{}),TU={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},PU=Be.INFO,AU={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},NU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=AU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jf=class{constructor(e){this.name=e,this._logLevel=PU,this._logHandler=NU,this._userLogHandler=null,OU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}});function RU(){return nx||(nx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FU(){return rx||(rx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function LU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Wn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&ix.set(t,n)}).catch(()=>{}),i_.set(e,n),e}function VU(n){if(n_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});n_.set(n,e)}function sx(n){r_=n(r_)}function jU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Xf(this),e,...t);return ox.set(r,e.sort?e.sort():[e]),Wn(r)}:FU().includes(n)?function(...e){return n.apply(Xf(this),e),Wn(ix.get(this))}:function(...e){return Wn(n.apply(Xf(this),e))}}function UU(n){return typeof n=="function"?jU(n):(n instanceof IDBTransaction&&VU(n),kU(n,RU())?new Proxy(n,r_):n)}function Wn(n){if(n instanceof IDBRequest)return LU(n);if(t_.has(n))return t_.get(n);let e=UU(n);return e!==n&&(t_.set(n,e),i_.set(e,n)),e}var kU,nx,rx,ix,n_,ox,t_,i_,r_,Xf,o_=p(()=>{"use strict";kU=(n,e)=>e.some(t=>n instanceof t);ix=new WeakMap,n_=new WeakMap,ox=new WeakMap,t_=new WeakMap,i_=new WeakMap;r_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return n_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ox.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};Xf=n=>i_.get(n)});function Co(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Wn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Wn(s.result),c.oldVersion,c.newVersion,Wn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function eh(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Wn(t).then(()=>{})}function ax(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(s_.get(e))return s_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=$U.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BU.includes(t)))return;let o=function(s,...a){return x(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return s_.set(e,o),o}var BU,$U,s_,th=p(()=>{"use strict";o_();o_();BU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],s_=new Map;sx(n=>$(E({},n),{get:(e,t,r)=>ax(e,t)||n.get(e,t,r),has:(e,t)=>!!ax(e,t)||n.has(e,t)}))});function HU(n){let e=n.getComponent();return e?.type==="VERSION"}function lx(n,e){try{n.container.addComponent(e)}catch(t){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qr(n){let e=n.name;if(d_.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;d_.set(e,n);for(let t of nh.values())lx(t,n);for(let t of vB.values())lx(t,n);return!0}function Fc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function g_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:u_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(t||(t=Xy()),!t)throw Ai.create("no-options");let o=nh.get(i);if(o){if(Kf(t,o.options)&&Kf(r,o.config))return o;throw Ai.create("duplicate-app",{appName:i})}let s=new Qf(i);for(let c of d_.values())s.addComponent(c);let a=new f_(t,r,s);return nh.set(i,a),a}function m_(n=u_){let e=nh.get(n);if(!e&&n===u_&&Xy())return g_();if(!e)throw Ai.create("no-app",{appName:n});return e}function Gn(n,e,t){var r;let i=(r=mB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}qr(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function hx(){return a_||(a_=Co(_B,CB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),a_}function bB(n){return x(this,null,function*(){try{let t=(yield hx()).transaction(Rc),r=yield t.objectStore(Rc).get(px(n));return yield t.done,r}catch(e){if(e instanceof $r)zr.warn(e.message);else{let t=Ai.create("idb-get",{originalErrorMessage:e?.message});zr.warn(t.message)}}})}function ux(n,e){return x(this,null,function*(){try{let r=(yield hx()).transaction(Rc,"readwrite");yield r.objectStore(Rc).put(e,px(n)),yield r.done}catch(t){if(t instanceof $r)zr.warn(t.message);else{let r=Ai.create("idb-set",{originalErrorMessage:t?.message});zr.warn(r.message)}}})}function px(n){return`${n.name}!${n.options.appId}`}function dx(){return new Date().toISOString().substring(0,10)}function DB(n,e=wB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function fx(n){return Jy(JSON.stringify({version:2,heartbeats:n})).length}function MB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function SB(n){qr(new nn("platform-logger",e=>new c_(e),"PRIVATE")),qr(new nn("heartbeat",e=>new h_(e),"PRIVATE")),Gn(l_,cx,n),Gn(l_,cx,"esm2017"),Gn("fire-js","")}var c_,l_,cx,zr,zU,qU,WU,GU,KU,YU,QU,ZU,JU,XU,eB,tB,nB,rB,iB,oB,sB,aB,cB,lB,uB,dB,fB,hB,pB,gB,u_,mB,nh,vB,d_,yB,Ai,f_,_B,CB,Rc,a_,wB,EB,h_,p_,Lc=p(()=>{"use strict";Zf();tx();Qs();Qs();th();c_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};l_="@firebase/app",cx="0.11.0";zr=new Jf("@firebase/app"),zU="@firebase/app-compat",qU="@firebase/analytics-compat",WU="@firebase/analytics",GU="@firebase/app-check-compat",KU="@firebase/app-check",YU="@firebase/auth",QU="@firebase/auth-compat",ZU="@firebase/database",JU="@firebase/data-connect",XU="@firebase/database-compat",eB="@firebase/functions",tB="@firebase/functions-compat",nB="@firebase/installations",rB="@firebase/installations-compat",iB="@firebase/messaging",oB="@firebase/messaging-compat",sB="@firebase/performance",aB="@firebase/performance-compat",cB="@firebase/remote-config",lB="@firebase/remote-config-compat",uB="@firebase/storage",dB="@firebase/storage-compat",fB="@firebase/firestore",hB="@firebase/vertexai",pB="@firebase/firestore-compat",gB="firebase";u_="[DEFAULT]",mB={[l_]:"fire-core",[zU]:"fire-core-compat",[WU]:"fire-analytics",[qU]:"fire-analytics-compat",[KU]:"fire-app-check",[GU]:"fire-app-check-compat",[YU]:"fire-auth",[QU]:"fire-auth-compat",[ZU]:"fire-rtdb",[JU]:"fire-data-connect",[XU]:"fire-rtdb-compat",[eB]:"fire-fn",[tB]:"fire-fn-compat",[nB]:"fire-iid",[rB]:"fire-iid-compat",[iB]:"fire-fcm",[oB]:"fire-fcm-compat",[sB]:"fire-perf",[aB]:"fire-perf-compat",[cB]:"fire-rc",[lB]:"fire-rc-compat",[uB]:"fire-gcs",[dB]:"fire-gcs-compat",[fB]:"fire-fst",[pB]:"fire-fst-compat",[hB]:"fire-vertex","fire-js":"fire-js",[gB]:"fire-js-all"};nh=new Map,vB=new Map,d_=new Map;yB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Hr("app","Firebase",yB);f_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}};_B="firebase-heartbeat-database",CB=1,Rc="firebase-heartbeat-store",a_=null;wB=1024,EB=30,h_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new p_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>EB){let s=MB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zr.warn(r)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=dx(),{heartbeatsToSend:r,unsentEntries:i}=DB(this._heartbeatsCache.heartbeats),o=Jy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zr.warn(t),""}})}};p_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return Wf()?Gf().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield bB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ux(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ux(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};SB("")});var IB,xB,gx=p(()=>{"use strict";Lc();Lc();IB="firebase",xB="11.3.0";Gn(IB,xB,"app")});function wx(n){return n instanceof $r&&n.code.includes("request-failed")}function Ex({projectId:n}){return`${OB}/projects/${n}/installations`}function Dx(n){return{token:n.token,requestStatus:2,expiresIn:RB(n.expiresIn),creationTime:Date.now()}}function Mx(n,e){return x(this,null,function*(){let r=(yield e.json()).error;return wo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Sx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function kB(n,{refreshToken:e}){let t=Sx(n);return t.append("Authorization",LB(e)),t}function Ix(n){return x(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function RB(n){return Number(n.replace("s","000"))}function LB(n){return`${bx} ${n}`}function VB(r,i){return x(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=Ex(n),s=Sx(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:bx,appId:n.appId,sdkVersion:Cx},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Ix(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:Dx(d.authToken)}}else throw yield Mx("Create Installation",u)})}function xx(n){return new Promise(e=>{setTimeout(e,n)})}function jB(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function BB(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=$B(n);return UB.test(t)?t:__}catch{return __}}function $B(n){return jB(n).substr(0,22)}function ih(n){return`${n.appName}!${n.appId}`}function Tx(n,e){let t=ih(n);Px(t,e),HB(t,e)}function Px(n,e){let t=Ox.get(n);if(t)for(let r of t)r(e)}function HB(n,e){let t=zB();t&&t.postMessage({key:n,fid:e}),qB()}function zB(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=n=>{Px(n.data.key,n.data.fid)}),bo}function qB(){Ox.size===0&&bo&&(bo.close(),bo=null)}function b_(){return v_||(v_=Co(WB,GB,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Eo)}}})),v_}function rh(n,e){return x(this,null,function*(){let t=ih(n),i=(yield b_()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&Tx(n,e.fid),e})}function Ax(n){return x(this,null,function*(){let e=ih(n),r=(yield b_()).transaction(Eo,"readwrite");yield r.objectStore(Eo).delete(e),yield r.done})}function oh(n,e){return x(this,null,function*(){let t=ih(n),i=(yield b_()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&Tx(n,a.fid),a})}function w_(n){return x(this,null,function*(){let e,t=yield oh(n.appConfig,r=>{let i=KB(r),o=YB(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===__?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function KB(n){let e=n||{fid:BB(),registrationStatus:0};return Nx(e)}function YB(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(wo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=QB(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZB(n)}:{installationEntry:e}}function QB(n,e){return x(this,null,function*(){try{let t=yield VB(n,e);return rh(n.appConfig,t)}catch(t){throw wx(t)&&t.customData.serverCode===409?yield Ax(n.appConfig):yield rh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function ZB(n){return x(this,null,function*(){let e=yield mx(n.appConfig);for(;e.registrationStatus===1;)yield xx(100),e=yield mx(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield w_(n);return r||t}return e})}function mx(n){return oh(n,e=>{if(!e)throw wo.create("installation-not-found");return Nx(e)})}function Nx(n){return JB(n)?{fid:n.fid,registrationStatus:0}:n}function JB(n){return n.registrationStatus===1&&n.registrationTime+_x<Date.now()}function XB(r,i){return x(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=e$(n,t),s=kB(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:Cx,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Ix(()=>fetch(o,l));if(u.ok){let d=yield u.json();return Dx(d)}else throw yield Mx("Generate Auth Token",u)})}function e$(n,{fid:e}){return`${Ex(n)}/${e}/authTokens:generate`}function E_(n,e=!1){return x(this,null,function*(){let t,r=yield oh(n.appConfig,o=>{if(!kx(o))throw wo.create("not-registered");let s=o.authToken;if(!e&&r$(s))return o;if(s.requestStatus===1)return t=t$(n,e),o;{if(!navigator.onLine)throw wo.create("app-offline");let a=o$(o);return t=n$(n,a),a}});return t?yield t:r.authToken})}function t$(n,e){return x(this,null,function*(){let t=yield vx(n.appConfig);for(;t.authToken.requestStatus===1;)yield xx(100),t=yield vx(n.appConfig);let r=t.authToken;return r.requestStatus===0?E_(n,e):r})}function vx(n){return oh(n,e=>{if(!kx(e))throw wo.create("not-registered");let t=e.authToken;return s$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function n$(n,e){return x(this,null,function*(){try{let t=yield XB(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield rh(n.appConfig,r),t}catch(t){if(wx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield Ax(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield rh(n.appConfig,r)}throw t}})}function kx(n){return n!==void 0&&n.registrationStatus===2}function r$(n){return n.requestStatus===2&&!i$(n)}function i$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+TB}function o$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function s$(n){return n.requestStatus===1&&n.requestTime+_x<Date.now()}function a$(n){return x(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield w_(e);return r?r.catch(console.error):E_(e).catch(console.error),t.fid})}function c$(n,e=!1){return x(this,null,function*(){let t=n;return yield l$(t),(yield E_(t,e)).token})}function l$(n){return x(this,null,function*(){let{registrationPromise:e}=yield w_(n);e&&(yield e)})}function u$(n){if(!n||!n.options)throw y_("App Configuration");if(!n.name)throw y_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw y_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function y_(n){return wo.create("missing-app-config-values",{valueName:n})}function p$(){qr(new nn(Rx,f$,"PUBLIC")),qr(new nn(d$,h$,"PRIVATE"))}var yx,C_,_x,Cx,bx,OB,TB,PB,AB,NB,wo,UB,__,Ox,bo,WB,GB,Eo,v_,Rx,d$,f$,h$,Fx=p(()=>{"use strict";Lc();Zf();Qs();th();yx="@firebase/installations",C_="0.6.12";_x=1e4,Cx=`w:${C_}`,bx="FIS_v2",OB="https://firebaseinstallations.googleapis.com/v1",TB=60*60*1e3,PB="installations",AB="Installations";NB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wo=new Hr(PB,AB,NB);UB=/^[cdef][\w-]{21}$/,__="";Ox=new Map;bo=null;WB="firebase-installations-database",GB=1,Eo="firebase-installations-store",v_=null;Rx="installations",d$="installations-internal",f$=n=>{let e=n.getProvider("app").getImmediate(),t=u$(e),r=Fc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},h$=n=>{let e=n.getProvider("app").getImmediate(),t=Fc(e,Rx).getImmediate();return{getId:()=>a$(t),getToken:i=>c$(t,i)}};p$();Gn(yx,C_);Gn(yx,C_,"esm2017")});function Wr(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function E$(n){return x(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(D_))return null;let e=null;return(yield Co(D_,w$,{upgrade:(r,i,o,s)=>x(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(Vx))return;let c=s.objectStore(Vx),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Wr(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Wr(u.auth),p256dh:Wr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Wr(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Wr(u.auth),p256dh:Wr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Wr(u.vapidKey)}}}}})})).close(),yield eh(D_),yield eh("fcm_vapid_details_db"),yield eh("undefined"),D$(e)?e:null})}function D$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function qx(){return M_||(M_=Co(M$,S$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Vc)}}})),M_}function I$(n){return x(this,null,function*(){let e=Wx(n),r=yield(yield qx()).transaction(Vc).objectStore(Vc).get(e);if(r)return r;{let i=yield E$(n.appConfig.senderId);if(i)return yield x_(n,i),i}})}function x_(n,e){return x(this,null,function*(){let t=Wx(n),i=(yield qx()).transaction(Vc,"readwrite");return yield i.objectStore(Vc).put(e,t),yield i.done,e})}function Wx({appConfig:n}){return n.appId}function O$(n,e){return x(this,null,function*(){let t=yield T_(n),r=Gx(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(O_(n.appConfig),i)).json()}catch(s){throw St.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw St.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw St.create("token-subscribe-no-token");return o.token})}function T$(n,e){return x(this,null,function*(){let t=yield T_(n),r=Gx(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${O_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw St.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw St.create("token-update-failed",{errorInfo:s})}if(!o.token)throw St.create("token-update-no-token");return o.token})}function P$(n,e){return x(this,null,function*(){let r={method:"DELETE",headers:yield T_(n)};try{let o=yield(yield fetch(`${O_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw St.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw St.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function O_({projectId:n}){return`${v$}/projects/${n}/registrations`}function T_(t){return x(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function Gx({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Hx&&(i.web.applicationPubKey=r),i}function N$(n){return x(this,null,function*(){let e=yield R$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Wr(e.getKey("auth")),p256dh:Wr(e.getKey("p256dh"))},r=yield I$(n.firebaseDependencies);if(r){if(F$(r.subscriptionOptions,t))return Date.now()>=r.createTime+A$?k$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield P$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return jx(n.firebaseDependencies,t)}else return jx(n.firebaseDependencies,t)})}function k$(n,e){return x(this,null,function*(){try{let t=yield T$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield x_(n.firebaseDependencies,r),t}catch(t){throw t}})}function jx(n,e){return x(this,null,function*(){let r={token:yield O$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield x_(n,r),r.token})}function R$(n,e){return x(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:b$(e)})})}function F$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function Ux(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return L$(e,n),V$(e,n),j$(e,n),e}function L$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function V$(n,e){e.data&&(n.data=e.data)}function j$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function U$(n){return typeof n=="object"&&!!n&&zx in n}function B$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function $$(n){if(!n||!n.options)throw S_("App Configuration Object");if(!n.name)throw S_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw S_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function S_(n){return St.create("missing-app-config-values",{valueName:n})}function H$(n){return x(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(g$,{scope:m$}),n.swRegistration.update().catch(()=>{}),yield z$(n.swRegistration)}catch(e){throw St.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function z$(n){return x(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${Lx} ms`)),Lx),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function q$(n,e){return x(this,null,function*(){if(!e&&!n.swRegistration&&(yield H$(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw St.create("invalid-sw-registration");n.swRegistration=e}})}function W$(n,e){return x(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Hx)})}function Kx(n,e){return x(this,null,function*(){if(!navigator)throw St.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw St.create("permission-blocked");return yield W$(n,e?.vapidKey),yield q$(n,e?.serviceWorkerRegistration),N$(n)})}function G$(n,e,t){return x(this,null,function*(){let r=K$(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[zx],message_name:t[y$],message_time:t[_$],message_device_time:Math.floor(Date.now()/1e3)})})}function K$(n){switch(n){case sh.NOTIFICATION_CLICKED:return"notification_open";case sh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Y$(n,e){return x(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===sh.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(Ux(t)):n.onMessageHandler.next(Ux(t)));let r=t.data;U$(r)&&r[C$]==="1"&&(yield G$(n,t.messageType,r))})}function J$(){qr(new nn("messaging",Q$,"PUBLIC")),qr(new nn("messaging-internal",Z$,"PRIVATE")),Gn(Bx,$x),Gn(Bx,$x,"esm2017")}function X$(){return x(this,null,function*(){try{yield Gf()}catch{return!1}return typeof window<"u"&&Wf()&&ex()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function e3(n,e){if(!navigator)throw St.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function Yx(n=m_()){return X$().then(e=>{if(!e)throw St.create("unsupported-browser")},e=>{throw St.create("indexed-db-unsupported")}),Fc(Yf(n),"messaging").getImmediate()}function Qx(n,e){return x(this,null,function*(){return n=Yf(n),Kx(n,e)})}function Zx(n,e){return n=Yf(n),e3(n,e)}var g$,m$,Hx,v$,zx,y$,_$,C$,Lx,sh,D_,w$,Vx,M$,S$,Vc,M_,x$,St,A$,I_,Bx,$x,Q$,Z$,Jx=p(()=>{"use strict";Fx();Zf();th();Qs();Lc();g$="/firebase-messaging-sw.js",m$="/firebase-cloud-messaging-push-scope",Hx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",v$="https://fcmregistrations.googleapis.com/v1",zx="google.c.a.c_id",y$="google.c.a.c_l",_$="google.c.a.ts",C$="google.c.a.e",Lx=1e4;sh=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(sh||{});D_="fcm_token_details_db",w$=5,Vx="fcm_token_object_Store";M$="firebase-messaging-database",S$=1,Vc="firebase-messaging-store",M_=null;x$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},St=new Hr("messaging","Messaging",x$);A$=7*24*60*60*1e3;B$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");I_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=$$(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};Bx="@firebase/messaging",$x="0.12.16";Q$=n=>{let e=new I_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>Y$(e,t)),e},Z$=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>Kx(e,r)}};J$()});var Xx=p(()=>{"use strict";Jx()});function t3(n){return Hi(()=>it(new Error(n)))}function n3(n,e,t,r){return()=>{if(!(vd(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(ye),o=n.get(yn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=F(null);break;case"registerWithDelay":s=tO(+c[0]||0);break;case"registerWhenStable":let l=q(n.get(yn).whenStable());s=c[0]?Fl(l,tO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function tO(n){return F(null).pipe(cn(n))}function r3(n,e){return new Zs(vd(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function i3(n,e={}){return cs([ah,ch,{provide:eO,useValue:n},{provide:jc,useValue:e},{provide:Zs,useFactory:r3,deps:[jc,Gt]},{provide:vs,useFactory:n3,deps:[Ze,eO,jc,Gt],multi:!0}])}var Uc,Zs,ah,ch,eO,jc,nO,P_=p(()=>{"use strict";T();T();Ie();we();Jr();Uc="Service workers are disabled or not supported by this browser";Zs=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=t3(Uc);else{let r=Ho(e,"controllerchange").pipe(j(()=>e.controller)),i=Hi(()=>F(e.controller)),o=Jn(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(ke(()=>e.getRegistration()));let l=Ho(e,"message").pipe(j(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(Rp());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(be(1),te(r=>{r.postMessage(E({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),be(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},ah=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ge,!t.isEnabled){this.messages=zi,this.notificationClicks=zi,this.subscription=zi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(ke(i=>i.getSubscription()));this.subscription=Fl(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Uc));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(ke(s=>s.subscribe(r)),be(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),ke(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Zs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ch=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=zi,this.unrecoverable=zi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Uc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(A(Zs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();eO=new k("");jc=class{};nO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[i3(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:[ah,ch]})}}return n})()});var Js,A_=p(()=>{"use strict";we();rc();T();P_();Aa();Xs();Js=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return x(this,null,function*(){try{let e=yield $i(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return x(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield $i(this.http.post(`${ht.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return x(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",{title:e.title,body:e.body});try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Sending notification to server");let r=yield $i(this.http.post(`${ht.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return x(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return x(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield $i(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return x(this,null,function*(){try{let e=yield $i(this.http.get(`${ht.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(A(ah),A(co),A(ch),A(In))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var a3,In,Xs=p(()=>{"use strict";T();gx();Xx();we();A_();Et();T();a3={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},In=class n{messaging;fcmToken={};tokenSubject=new de(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=v(Ze);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=g_(a3);this.messaging=Yx(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(Js)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return x(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return x(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return x(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield Qx(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){Zx(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return x(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var lh,iO=p(()=>{"use strict";T();lh=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var uh,oO=p(()=>{"use strict";T();Xs();uh=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return x(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>x(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(A(In))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function l3(n,e){n&1&&(Kt(0),h(1,"a",15),_(2,"Login"),f(),h(3,"a",16),_(4,"Sign Up"),f(),Yt())}function u3(n,e){if(n&1&&(Kt(0),R(1,"img",19),Yt()),n&2){let t=S(2);C(),b("src",t.loggedInUser==null?null:t.loggedInUser.img,Xe)}}function d3(n,e){if(n&1&&_(0),n&2){let t=S(2);Oe(" ",t.getUserInitial()," ")}}function f3(n,e){if(n&1){let t=K();h(0,"div",17),O("click",function(){L(t);let i=S();return V(i.toggleUpload=!i.toggleUpload)}),N(1,u3,2,1,"ng-container",13)(2,d3,1,1,"ng-template",null,1,cr),f(),h(4,"button",18),O("click",function(){L(t);let i=S();return V(i.onLogout())}),_(5,"Logout"),f()}if(n&2){let t=bt(3),r=S();C(),b("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function h3(n,e){if(n&1){let t=K();h(0,"div")(1,"image-upload",20),O("imageUploaded",function(i){L(t);let o=S();return V(o.onImageUploaded(i))}),f()()}}var c3,dh,sO=p(()=>{"use strict";T();Et();ot();Mi();Ie();Yy();c3=()=>({exact:!0});dh=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=$(E({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(Dt))};static \u0275cmp=ee({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(h(0,"header")(1,"div",2),R(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),R(6,"img",6),f(),h(7,"a",7),R(8,"img",8),f(),h(9,"a",9),R(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),N(13,l3,5,0,"ng-container",13)(14,f3,6,2,"ng-template",null,0,cr),f()(),N(16,h3,2,0,"div",14),f()),t&2){let i=bt(15);C(5),b("routerLinkActiveOptions",ms(4,c3)),C(8),b("ngIf",!r.loggedInUser)("ngIfElse",i),C(3),b("ngIf",r.toggleUpload)}},dependencies:[_e,bn,UM,Ys],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function g3(n,e){n&1&&(h(0,"div",1),R(1,"div",2),f())}var fh,aO=p(()=>{"use strict";T();Rf();Ie();fh=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Ti))};static \u0275cmp=ee({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(N(0,g3,2,0,"div",0),Ut(1,"async")),t&2&&b("ngIf",Bt(1,1,r.isLoading))},dependencies:[_e,$t],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function v3(n,e){if(n&1){let t=K();h(0,"section")(1,"h4"),_(2),f(),h(3,"button",1),O("click",function(){L(t);let i=S();return V(i.onCloseMsg())}),_(4,"X"),f()()}if(n&2){let t=e.ngIf;QE("msg ",t.type,""),b("@toggleMsg",void 0),C(2),wt(t.txt)}}var hh,cO=p(()=>{"use strict";we();hf();T();Mi();Ie();hh=class n{constructor(e){this.msgService=e}msg$=F(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(Dt))};static \u0275cmp=ee({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(N(0,v3,5,5,"section",0),Ut(1,"async")),t&2&&b("ngIf",Bt(1,1,r.msg$))},dependencies:[_e,$t],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[df("toggleMsg",[wc(":enter",[qn({transform:"translateY(-100%)"}),bc("0.3s ease-in-out",qn({transform:"translateY(0%)"}))]),wc(":leave",[qn({transform:"translateY(0%)"}),bc("0.3s ease-in-out",qn({transform:"translateY(-100%)"}))])])]}})}});function _3(n,e){if(n&1){let t=K();h(0,"button",4),O("click",function(){L(t);let i=S();return V(i.installPWA())}),_(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}var ph,lO=p(()=>{"use strict";T();we();jr();Xs();iO();oO();Et();Ls();T();Ie();ot();sO();aO();cO();ph=class n{title="MyAccounts";contactService=v(vt);firebaseService=v(In);pwaService=v(lh);notificationMobileService=v(uh);userService=v(Ce);socketService=v(wn);subscription;idleTimer;idleTime=0;idleMaxTime=600;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){this.subscription=this.contactService.loadContacts().pipe(be(1)).subscribe({error:e=>console.log("err:",e)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>x(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let e=yield this.firebaseService.getFCMToken();e?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",e):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",e=>{e.data&&e.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",e.data.token),this.userService.restoreLoginToken(e.data.token)),e.data&&e.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let e=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-e<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(e=>{e&&console.log("\u{1F511} FCM Token received (on init):",e)}),this.firebaseService.getTokenObservable().subscribe(e=>{e&&console.log("\u{1F511} FCM Token received:",e)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(h(0,"main",0),R(1,"app-header"),h(2,"div",1),N(3,_3,2,0,"button",2),f(),R(4,"router-outlet")(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),R(8,"msg")),t&2&&(C(3),b("ngIf",r.showInstallButton))},dependencies:[_e,$n,dh,fh,hh],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:2em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function uO(n){return new M(3e3,!1)}function C3(){return new M(3100,!1)}function b3(){return new M(3101,!1)}function w3(n){return new M(3001,!1)}function E3(n){return new M(3003,!1)}function D3(n){return new M(3004,!1)}function M3(n,e){return new M(3005,!1)}function S3(){return new M(3006,!1)}function I3(){return new M(3007,!1)}function x3(n,e){return new M(3008,!1)}function O3(n){return new M(3002,!1)}function T3(n,e,t,r,i){return new M(3010,!1)}function P3(){return new M(3011,!1)}function A3(){return new M(3012,!1)}function N3(){return new M(3200,!1)}function k3(){return new M(3202,!1)}function R3(){return new M(3013,!1)}function F3(n){return new M(3014,!1)}function L3(n){return new M(3015,!1)}function V3(n){return new M(3016,!1)}function j3(n,e){return new M(3404,!1)}function U3(n){return new M(3502,!1)}function B3(n){return new M(3503,!1)}function $3(){return new M(3300,!1)}function H3(n){return new M(3504,!1)}function z3(n){return new M(3301,!1)}function q3(n,e){return new M(3302,!1)}function W3(n){return new M(3303,!1)}function G3(n,e){return new M(3400,!1)}function K3(n){return new M(3401,!1)}function Y3(n){return new M(3402,!1)}function Q3(n,e){return new M(3505,!1)}function Ni(n){switch(n.length){case 0:return new Di;case 1:return n[0];default:return new Cc(n)}}function DO(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let y=g,w=m;if(g!=="offset")switch(y=n.normalizePropertyName(y,i),w){case ff:w=t.get(g);break;case hr:w=r.get(g);break;default:w=n.normalizeStyleValue(g,y,w,i);break}d.set(y,w)}),u||o.push(d),a=d,s=l}),i.length)throw U3(i);return o}function t0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&N_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&N_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&N_(t,"destroy",n)));break}}function N_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=n0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function n0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function on(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function dO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function r0(n){let e=n.parentNode||n.host||null;return e===Z3?null:e}function J3(n){return n.substring(1,6)=="ebkit"}function X3(n){Do||(Do=e4()||{},fO=Do.style?"WebkitAppearance"in Do.style:!1);let e=!0;return Do.style&&!J3(n)&&(e=n in Do.style,!e&&fO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Do.style)),e}function e4(){return typeof document<"u"?document.body:null}function MO(n,e){for(;e;){if(e===n)return!0;e=r0(e)}return!1}function SO(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Gr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:B_(parseFloat(e[1]),e[2])}function B_(n,e){switch(e){case"s":return n*t4;default:return n}}function bh(n,e,t){return n.hasOwnProperty("duration")?n:r4(n,e,t)}function r4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(uO(n)),{duration:0,delay:0,easing:""};i=B_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=B_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(C3()),a=!0),o<0&&(e.push(b3()),a=!0),a&&e.splice(c,0,uO(n))}return{duration:i,delay:o,easing:s}}function i4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function gr(n,e,t){e.forEach((r,i)=>{let o=o0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function So(n,e){e.forEach((t,r)=>{let i=o0(r);n.style[i]=""})}function Bc(n){return Array.isArray(n)?n.length==1?n[0]:VS(n):n}function o4(n,e,t){let r=e.params||{},i=OO(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(w3(o))})}function OO(n){let e=[];if(typeof n=="string"){let t;for(;t=$_.exec(n);)e.push(t[1]);$_.lastIndex=0}return e}function Hc(n,e,t){let r=`${n}`,i=r.replace($_,(o,s)=>{let a=e[s];return a==null&&(t.push(E3(s)),a=""),a.toString()});return i==r?n:i}function o0(n){return n.replace(s4,(...e)=>e[1].toUpperCase())}function a4(n,e){return n===0||e===0}function c4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,s0(n,a)))}}return e}function rn(n,e,t){switch(e.type){case ne.Trigger:return n.visitTrigger(e,t);case ne.State:return n.visitState(e,t);case ne.Transition:return n.visitTransition(e,t);case ne.Sequence:return n.visitSequence(e,t);case ne.Group:return n.visitGroup(e,t);case ne.Animate:return n.visitAnimate(e,t);case ne.Keyframes:return n.visitKeyframes(e,t);case ne.Style:return n.visitStyle(e,t);case ne.Reference:return n.visitReference(e,t);case ne.AnimateChild:return n.visitAnimateChild(e,t);case ne.AnimateRef:return n.visitAnimateRef(e,t);case ne.Query:return n.visitQuery(e,t);case ne.Stagger:return n.visitStagger(e,t);default:throw D3(e.type)}}function s0(n,e){return window.getComputedStyle(n)[e]}function u4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>d4(r,t,e)):t.push(n),t}function d4(n,e,t){if(n[0]==":"){let c=f4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(L3(n)),e;let i=r[1],o=r[2],s=r[3];e.push(pO(i,s));let a=i==Eh&&s==Eh;o[0]=="<"&&!a&&e.push(pO(s,i))}function f4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(V3(n)),"* => *"}}function pO(n,e){let t=mh.has(n)||vh.has(n),r=mh.has(e)||vh.has(e);return(i,o)=>{let s=n==Eh||n==i,a=e==Eh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?mh.has(n):vh.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?mh.has(e):vh.has(e)),s&&a}}function PO(n,e,t,r){return new H_(n).build(e,t,r)}function p4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==TO);return e&&(n=n.replace(h4,"")),n=n.replace(/@\*/g,Ch).replace(/@\w+/g,t=>Ch+"-"+t.slice(1)).replace(/:animating/g,U_),[n,e]}function g4(n){return n?E({},n):null}function m4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function v4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=bh(n,e).duration;return k_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=k_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=bh(t,e);return k_(i.duration,i.delay,i.easing)}function Mo(n){return n?(n=E({},n),n.params&&(n.params=g4(n.params))):n={},n}function k_(n,e,t){return{duration:n,delay:e,easing:t}}function a0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function AO(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new q_().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function mO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function E4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,hr)}else for(let[o,s]of i)t.set(o,s)}),t}function vO(n,e,t,r,i,o,s,a,c,l,u,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function D4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function NO(n,e){let t=E({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function M4(n,e,t){return new Y_(n,e,t)}function S4(n,e,t){let r=[(s,a)=>!0],i={type:ne.Sequence,steps:[],options:null},o={type:ne.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Sh(n,o,e)}function yO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function k4(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function R4(n){return n??null}function yh(n){return n&&n.nodeType===1}function F4(n){return n=="start"||n=="done"}function CO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function bO(n,e,t,r,i){let o=[];t.forEach(c=>o.push(CO(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[Kn]=N4,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>CO(c,o[a++])),s}function wO(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function xn(n,e){n.classList?.add(e)}function ea(n,e){n.classList?.remove(e)}function L4(n,e,t){Ni(t).onDone(()=>n.processLeaveNode(e))}function V4(n){let e=[];return RO(n,e),e}function RO(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Cc?RO(r.players,e):e.push(r)}}function j4(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function EO(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function U4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=V_(e[0]),e.length>1&&(r=V_(e[e.length-1]))):e instanceof Map&&(t=V_(e)),t||r?new X_(n,t,r):null}function V_(n){let e=null;return n.forEach((t,r)=>{B4(r)&&(e=e||new Map,e.set(r,t))}),e}function B4(n){return n==="display"||n==="position"}function $4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function H4(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Z3,Do,fO,i0,Io,xo,t4,IO,n4,xO,j_,gh,Ch,hO,U_,$_,s4,l4,wh,Eh,mh,vh,TO,h4,gO,H_,z_,zc,y4,_4,C4,b4,w4,q_,Dh,W_,Mh,G_,R_,Sh,K_,Y_,I4,Q_,_O,x4,F_,O4,T4,P4,A4,kO,N4,Kn,qc,$c,L_,Z_,J_,Wc,ta,X_,Ih,xh,_h,FO,Oh,e0,Th,c0=p(()=>{"use strict";hf();T();T();Z3=typeof document>"u"?null:document.documentElement;Do=null,fO=!1;i0=(()=>{class n{validateStyleProperty(t){return X3(t)}containsElement(t,r){return MO(t,r)}getParentElement(t){return r0(t)}query(t,r,i){return SO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Di(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Io=class{static{this.NOOP=new i0}},xo=class{},t4=1e3,IO="{{",n4="}}",xO="ng-enter",j_="ng-leave",gh="ng-trigger",Ch=".ng-trigger",hO="ng-animating",U_=".ng-animating";$_=new RegExp(`${IO}\\s*(.+?)\\s*${n4}`,"g");s4=/-+([a-z0-9])/g;l4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wh=class extends xo{normalizePropertyName(e,t){return o0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(l4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(M3(e,r))}return s+o}},Eh="*";mh=new Set(["true","1"]),vh=new Set(["false","0"]);TO=":self",h4=new RegExp(`s*${TO}s*,?`,"g");gO="",H_=class{constructor(e){this._driver=e}build(e,t,r){let i=new z_(t);return this._resetContextStyleTimingState(i),rn(this,Bc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=gO,e.collectedStyles=new Map,e.collectedStyles.set(gO,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(S3()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ne.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ne.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(I3())}),{type:ne.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{OO(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(x3(e.name,[...o.values()]))}return{type:ne.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=rn(this,Bc(e.animation),t),i=u4(e.expr,t.errors);return{type:ne.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Mo(e.options)}}visitSequence(e,t){return{type:ne.Sequence,steps:e.steps.map(r=>rn(this,r,t)),options:Mo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=rn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ne.Group,steps:o,options:Mo(e.options)}}visitAnimate(e,t){let r=v4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:qn({});if(o.type==ne.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=qn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ne.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===hr?r.push(a):t.errors.push(O3(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(IO)>=0){o=!0;break}}}),{type:ne.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(T3(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&o4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ne.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(P3()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(B=>{let oe=this._makeStyleAst(B,t),Y=oe.offset!=null?oe.offset:m4(oe.styles),he=0;return Y!=null&&(o++,he=oe.offset=Y),c=c||he<0||he>1,a=a||he<l,l=he,s.push(he),oe});c&&t.errors.push(A3()),a&&t.errors.push(N3());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(k3()):o==0&&(m=i/(d-1));let g=d-1,y=t.currentTime,w=t.currentAnimateTimings,P=w.duration;return u.forEach((B,oe)=>{let Y=m>0?oe==g?1:m*oe:s[oe],he=Y*P;t.currentTime=y+w.delay+he,w.duration=he,this._validateStyleAst(B,t),B.offset=Y,r.styles.push(B)}),r}visitReference(e,t){return{type:ne.Reference,animation:rn(this,Bc(e.animation),t),options:Mo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ne.AnimateChild,options:Mo(e.options)}}visitAnimateRef(e,t){return{type:ne.AnimateRef,animation:this.visitReference(e.animation,t),options:Mo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=p4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,on(t.collectedStyles,t.currentQuerySelector,new Map);let a=rn(this,Bc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ne.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Mo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(R3());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:bh(e.timings,t.errors,!0);return{type:ne.Stagger,animation:rn(this,Bc(e.animation),t),timings:r,options:null}}};z_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};zc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},y4=1,_4=":enter",C4=new RegExp(_4,"g"),b4=":leave",w4=new RegExp(b4,"g");q_=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new zc;let d=new W_(e,t,l,i,o,u,[]);d.options=c;let m=c.delay?Gr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),rn(this,r,d);let g=d.timelines.filter(y=>y.containsAnimation());if(g.length&&a.size){let y;for(let w=g.length-1;w>=0;w--){let P=g[w];if(P.element===t){y=P;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return g.length?g.map(y=>y.buildKeyframes()):[a0(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Gr(Hc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Gr(r.duration):null,a=r.delay!=null?Gr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),rn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ne.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Dh);let s=Gr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>rn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Gr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),rn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Hc(r,t.params,t.errors):r;return bh(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ne.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Gr(i.delay):0;o&&(t.previousNode.type===ne.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Dh);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),rn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;rn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Dh={},W_=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Mh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Gr(r.duration)),r.delay!=null&&(i.delay=Gr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Hc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Dh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new G_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(C4,"."+this._enterClassName),e=e.replace(w4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(F3(t)),a}},Mh=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=y4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||hr),this._currentKeyframe.set(t,hr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=E4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Hc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??hr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===ff?e.add(d):u===hr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return a0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},G_=class extends Mh{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",mO(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),y=t+g*r;m.set("offset",mO(y/s)),o.push(m)}r=s,t=0,i="",e=o}return a0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};R_={},Sh=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return D4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||R_,g=a&&a.params||R_,y=this.buildStyles(r,g,d),w=c&&c.params||R_,P=this.buildStyles(i,w,d),B=new Set,oe=new Map,Y=new Map,he=i==="void",qe={params:NO(w,m),delay:this.ast.options?.delay},Me=u?[]:AO(e,t,this.ast.animation,o,s,y,P,qe,l,d),Le=0;return Me.forEach(at=>{Le=Math.max(at.duration+at.delay,Le)}),d.length?vO(t,this._triggerName,r,i,he,y,P,[],[],oe,Y,Le,d):(Me.forEach(at=>{let mr=at.element,Oo=on(oe,mr,new Set);at.preStyleProps.forEach(ki=>Oo.add(ki));let u0=on(Y,mr,new Set);at.postStyleProps.forEach(ki=>u0.add(ki)),mr!==t&&B.add(mr)}),vO(t,this._triggerName,r,i,he,y,P,Me,[...B.values()],oe,Y,Le))}};K_=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=NO(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Hc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};Y_=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new K_(i.style,o,r))}),yO(this.states,"true","1"),yO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Sh(e,i,this.states))}),this.fallbackTransition=S4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};I4=new zc,Q_=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=PO(this._driver,t,r,i);if(r.length)throw B3(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=DO(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=AO(this._driver,t,o,xO,j_,new Map,new Map,r,I4,i),s.forEach(u=>{let d=on(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push($3()),s=[]),i.length)throw H3(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,hr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Ni(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw z3(e);return t}listen(e,t,r,i){let o=n0(t,"","","");return t0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},_O="ng-animate-queued",x4=".ng-animate-queued",F_="ng-animate-disabled",O4=".ng-animate-disabled",T4="ng-star-inserted",P4=".ng-star-inserted",A4=[],kO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},N4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kn="__ng_removed",qc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=R4(i),r){let o=e,{value:s}=o,a=Vh(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},$c="void",L_=new qc($c),Z_=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw q3(r,t);if(r==null||r.length==0)throw W3(t);if(!F4(r))throw G3(r,t);let o=on(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=on(this._engine.statesByElement,e,new Map);return a.has(t)||(xn(e,gh),xn(e,gh+"-"+t),a.set(t,L_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw K3(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Wc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(xn(e,gh),xn(e,gh+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new qc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=L_),!(l.value===$c)&&c.value===l.value){if(!j4(c.params,l.params)){let w=[],P=o.matchStyles(c.value,c.params,w),B=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{So(e,P),gr(e,B)})}return}let m=on(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!g){if(!i)return;g=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(xn(e,_O),s.onStart(()=>{ea(e,_O)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let P=this._engine.playersByElement.get(e);if(P){let B=P.indexOf(s);B>=0&&P.splice(B,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Ch,!0);r.forEach(i=>{if(i[Kn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,$c,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ni(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||L_,u=new qc($c),d=new Wc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Kn];(!o||o===kO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=n0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,t0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},J_=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Z_(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(yh(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!yh(t))return;let o=t[Kn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xn(e,F_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ea(e,F_))}removeNode(e,t,r){if(yh(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Kn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return yh(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Ch,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,U_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ni(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Kn];if(t&&t.setForRemoval){if(e[Kn]=kO,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(F_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,O4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];xn(i,T4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ni(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Y3(e)}_flushAnimations(e,t){let r=new zc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let z=this.driver.query(U,x4,!0);for(let G=0;G<z.length;G++)u.add(z[G])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=wO(m,this.collectedEnterElements),y=new Map,w=0;g.forEach((U,z)=>{let G=xO+w++;y.set(z,G),U.forEach(me=>xn(me,G))});let P=[],B=new Set,oe=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let z=this.collectedLeaveElements[U],G=z[Kn];G&&G.setForRemoval&&(P.push(z),B.add(z),G.hasAnimation?this.driver.query(z,P4,!0).forEach(me=>B.add(me)):oe.add(z))}let Y=new Map,he=wO(m,Array.from(B));he.forEach((U,z)=>{let G=j_+w++;Y.set(z,G),U.forEach(me=>xn(me,G))}),e.push(()=>{g.forEach((U,z)=>{let G=y.get(z);U.forEach(me=>ea(me,G))}),he.forEach((U,z)=>{let G=Y.get(z);U.forEach(me=>ea(me,G))}),P.forEach(U=>{this.processLeaveNode(U)})});let qe=[],Me=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(G=>{let me=G.player,ct=G.element;if(qe.push(me),this.collectedEnterElements.length){let yt=ct[Kn];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(G.triggerName)){let Ri=yt.previousTriggersValues.get(G.triggerName),sn=this.statesByElement.get(G.element);if(sn&&sn.has(G.triggerName)){let Gc=sn.get(G.triggerName);Gc.value=Ri,sn.set(G.triggerName,Gc)}}me.destroy();return}}let Yn=!d||!this.driver.containsElement(d,ct),zt=Y.get(ct),Kr=y.get(ct),$e=this._buildInstruction(G,r,Kr,zt,Yn);if($e.errors&&$e.errors.length){Me.push($e);return}if(Yn){me.onStart(()=>So(ct,$e.fromStyles)),me.onDestroy(()=>gr(ct,$e.toStyles)),i.push(me);return}if(G.isFallbackTransition){me.onStart(()=>So(ct,$e.fromStyles)),me.onDestroy(()=>gr(ct,$e.toStyles)),i.push(me);return}let h0=[];$e.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||h0.push(yt)}),$e.timelines=h0,r.append(ct,$e.timelines);let GO={instruction:$e,player:me,element:ct};s.push(GO),$e.queriedElements.forEach(yt=>on(a,yt,[]).push(me)),$e.preStyleProps.forEach((yt,Ri)=>{if(yt.size){let sn=c.get(Ri);sn||c.set(Ri,sn=new Set),yt.forEach((Gc,Lh)=>sn.add(Lh))}}),$e.postStyleProps.forEach((yt,Ri)=>{let sn=l.get(Ri);sn||l.set(Ri,sn=new Set),yt.forEach((Gc,Lh)=>sn.add(Lh))})});if(Me.length){let U=[];Me.forEach(z=>{U.push(Q3(z.triggerName,z.errors))}),qe.forEach(z=>z.destroy()),this.reportError(U)}let Le=new Map,at=new Map;s.forEach(U=>{let z=U.element;r.has(z)&&(at.set(z,z),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Le))}),i.forEach(U=>{let z=U.element;this._getPreviousPlayers(z,!1,U.namespaceId,U.triggerName,null).forEach(me=>{on(Le,z,[]).push(me),me.destroy()})});let mr=P.filter(U=>EO(U,c,l)),Oo=new Map;bO(Oo,this.driver,oe,l,hr).forEach(U=>{EO(U,c,l)&&mr.push(U)});let ki=new Map;g.forEach((U,z)=>{bO(ki,this.driver,new Set(U),c,ff)}),mr.forEach(U=>{let z=Oo.get(U),G=ki.get(U);Oo.set(U,new Map([...z?.entries()??[],...G?.entries()??[]]))});let Fh=[],d0=[],f0={};s.forEach(U=>{let{element:z,player:G,instruction:me}=U;if(r.has(z)){if(u.has(z)){G.onDestroy(()=>gr(z,me.toStyles)),G.disabled=!0,G.overrideTotalTime(me.totalTime),i.push(G);return}let ct=f0;if(at.size>1){let zt=z,Kr=[];for(;zt=zt.parentNode;){let $e=at.get(zt);if($e){ct=$e;break}Kr.push(zt)}Kr.forEach($e=>at.set($e,ct))}let Yn=this._buildAnimation(G.namespaceId,me,Le,o,ki,Oo);if(G.setRealPlayer(Yn),ct===f0)Fh.push(G);else{let zt=this.playersByElement.get(ct);zt&&zt.length&&(G.parentPlayer=Ni(zt)),i.push(G)}}else So(z,me.fromStyles),G.onDestroy(()=>gr(z,me.toStyles)),d0.push(G),u.has(z)&&i.push(G)}),d0.forEach(U=>{let z=o.get(U.element);if(z&&z.length){let G=Ni(z);U.setRealPlayer(G)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<P.length;U++){let z=P[U],G=z[Kn];if(ea(z,j_),G&&G.hasAnimation)continue;let me=[];if(a.size){let Yn=a.get(z);Yn&&Yn.length&&me.push(...Yn);let zt=this.driver.query(z,U_,!0);for(let Kr=0;Kr<zt.length;Kr++){let $e=a.get(zt[Kr]);$e&&$e.length&&me.push(...$e)}}let ct=me.filter(Yn=>!Yn.destroyed);ct.length?L4(this,z,ct):this.processLeaveNode(z)}return P.length=0,Fh.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let z=this.players.indexOf(U);this.players.splice(z,1)}),U.play()}),Fh}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==$c;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=on(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),d.push(g)})}So(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,m=t.timelines.map(y=>{let w=y.element;u.add(w);let P=w[Kn];if(P&&P.removedBeforeQueried)return new Di(y.duration,y.delay);let B=w!==c,oe=V4((r.get(w)||A4).map(Le=>Le.getRealPlayer())).filter(Le=>{let at=Le;return at.element?at.element===w:!1}),Y=o.get(w),he=s.get(w),qe=DO(this._normalizer,y.keyframes,Y,he),Me=this._buildPlayer(y,qe,oe);if(y.subTimeline&&i&&d.add(w),B){let Le=new Wc(e,a,w);Le.setRealPlayer(Me),l.push(Le)}return Me});l.forEach(y=>{on(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>k4(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>xn(y,hO));let g=Ni(m);return g.onDestroy(()=>{u.forEach(y=>ea(y,hO)),gr(c,t.toStyles)}),d.forEach(y=>{on(i,y,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Di(e.duration,e.delay)}},Wc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Di,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>t0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){on(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};ta=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new J_(e.body,t,r),this._timelineEngine=new Q_(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=PO(this._driver,o,c,l);if(c.length)throw j3(i,c);l.length&&void 0,a=M4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=dO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=dO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};X_=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&gr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gr(this._element,this._initialStyles),this._endStyles&&(gr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(So(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(So(this._element,this._endStyles),this._endStyles=null),gr(this._element,this._initialStyles),this._state=3)}};Ih=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:s0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},xh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return MO(e,t)}getParentElement(e){return r0(e)}query(e,t,r){return SO(e,t,r)}computeStyle(e,t,r){return s0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof Ih);a4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((y,w)=>l.set(w,y))});let d=i4(t).map(g=>new Map(g));d=c4(e,d,l);let m=U4(e,d);return new Ih(e,d,c,m)}},_h="@",FO="@.disabled",Oh=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==_h&&t==FO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},e0=class extends Oh{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==_h?t.charAt(1)=="."&&t==FO?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==_h){let i=$4(e),o=t.slice(1),s="";return o.charAt(0)!=_h&&([o,s]=H4(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};Th=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Oh(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new e0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function W4(){return new wh}function G4(n,e,t){return new Th(n,e,t)}var q4,VO,LO,K4,jO,UO=p(()=>{"use strict";T();T();Fa();c0();c0();Ie();q4=(()=>{class n extends ta{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Io),A(xo))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();VO=[{provide:xo,useFactory:W4},{provide:ta,useClass:q4},{provide:si,useFactory:G4,deps:[Dd,ta,ye]}],LO=[{provide:Io,useFactory:()=>new xh},{provide:ym,useValue:"BrowserAnimations"},...VO],K4=[{provide:Io,useClass:i0},{provide:ym,useValue:"NoopAnimations"},...VO],jO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?K4:LO}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ye({type:n})}static{this.\u0275inj=Ke({providers:LO,imports:[Sd]})}}return n})()});var Ph,BO=p(()=>{"use strict";T();Ph=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function e5(n,e){if(n&1){let t=K();h(0,"div",17)(1,"input",18,3),vn("ngModelChange",function(i){L(t);let o=S();return Vn(o.room,i)||(o.room=i),V(i)}),f(),h(3,"button",19),O("click",function(){L(t);let i=S();return i.joinRoom(),V(i.isRoomJoined=!0)}),_(4,"Join Room"),f()()}if(n&2){let t=S();C(),mn("ngModel",t.room)}}function t5(n,e){if(n&1&&(h(0,"div"),_(1),f()),n&2){let t=S().$implicit;C(),wt(t.text)}}function n5(n,e){if(n&1){let t=K();h(0,"img",26),O("error",function(){L(t);let i=S().$implicit,o=S();return V(o.handleImageError(i.imageUrl))}),f()}if(n&2){let t=S().$implicit;b("src",t.imageUrl,Xe)}}function r5(n,e){if(n&1){let t=K();h(0,"video",27),O("error",function(){L(t);let i=S().$implicit,o=S();return V(o.handleVideoError(i.videoUrl))}),_(1," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f()}if(n&2){let t=S().$implicit;b("src",t.videoUrl,Xe)}}function i5(n,e){if(n&1&&(h(0,"div",20)(1,"span",21),_(2),f(),h(3,"div",22),N(4,t5,2,1,"div",23)(5,n5,1,1,"img",24)(6,r5,2,1,"video",25),f()()),n&2){let t=e.$implicit;b("ngClass",ar(5,X4,t.senderName==="Me",t.senderName!=="Me")),C(2),wt(t.senderName),C(2),b("ngIf",t.text),C(),b("ngIf",t.imageUrl),C(),b("ngIf",t.videoUrl)}}function o5(n,e){n&1&&(h(0,"span"),_(1,"\u2328\uFE0F"),f())}function s5(n,e){n&1&&(h(0,"span"),_(1,"\u2328\uFE0F"),f())}function a5(n,e){n&1&&(h(0,"span"),_(1,"\u{1F5BC}\uFE0F"),f())}function c5(n,e){n&1&&(h(0,"span"),_(1,"\u{1F3AC}"),f())}function l5(n,e){if(n&1&&(h(0,"div",28)(1,"div",29),N(2,o5,2,0,"span",23)(3,s5,2,0,"span",23)(4,a5,2,0,"span",23)(5,c5,2,0,"span",23),f()()),n&2){let t=S();C(2),b("ngIf",t.typingMessage==="Typing..."),C(),b("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),C(),b("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),C(),b("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function u5(n,e){if(n&1&&(h(0,"div",30),R(1,"div",31),h(2,"p"),_(3),f()()),n&2){let t=S();C(3),Oe("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function d5(n,e){if(n&1){let t=K();h(0,"button",32),O("click",function(i){L(t);let o=S();return V(o.sendMessage(i))}),_(1,"\u{1F680}"),f()}}function f5(n,e){if(n&1){let t=K();h(0,"button",32),O("click",function(i){L(t);let o=S();return V(o.sendPrivateMessage(i))}),_(1,"\u{1F680}"),f()}}var Q4,Z4,J4,X4,na,l0=p(()=>{"use strict";T();we();rc();Xs();Yd();T();Ls();Et();Iy();BO();A_();Aa();Ie();Sn();Q4=["roomInput"],Z4=["chatInput"],J4=["messagesContainer"],X4=(n,e)=>({"my-message":n,"other-message":e});na=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=v(In);cloudinaryService=v(_i);typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new Ve,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>x(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}})))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>x(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>x(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return x(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return x(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return x(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(ht.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>x(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let s={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(s)}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return x(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.chatType==="private"?r.type.startsWith("image/")?this.sendPrivateImageMessage(a):r.type.startsWith("video/")&&this.sendPrivateVideoMessage(a):r.type.startsWith("image/")?this.sendImageMessage(a):r.type.startsWith("video/")&&this.sendVideoMessage(a)},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",e),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"","",e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.messages.push(t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return x(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(wn),D(Ce),D(Fs),D(Ph),D(Js),D(co))};static \u0275cmp=ee({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(Zu(Q4,5),Zu(Z4,5),Zu(J4,5)),t&2){let i;ps(i=gs())&&(r.roomInput=i.first),ps(i=gs())&&(r.chatInput=i.first),ps(i=gs())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},decls:20,vars:8,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[4,"ngIf"],["alt","Image","class","chat-image",3,"src","error",4,"ngIf"],["class","chat-video","controls","","preload","metadata",3,"src","error",4,"ngIf"],["alt","Image",1,"chat-image",3,"error","src"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"]],template:function(t,r){if(t&1){let i=K();h(0,"div",4)(1,"h2"),_(2),f(),N(3,e5,5,1,"div",5),h(4,"div",6)(5,"div",7,0),N(7,i5,7,8,"div",8),f(),h(8,"div",9)(9,"div",10)(10,"label",11),_(11,"\u{1F4CE}"),f(),h(12,"input",12,1),vn("ngModelChange",function(s){return L(i),Vn(r.newMessage,s)||(r.newMessage=s),V(s)}),O("keyup",function(){return L(i),V(r.onTyping())})("blur",function(){return L(i),V(r.onStopTyping())}),f(),h(14,"input",13,2),O("change",function(s){return L(i),V(r.onFileSelected(s))}),f(),N(16,l5,6,4,"div",14),f(),N(17,u5,4,1,"div",15)(18,d5,2,0,"button",16)(19,f5,2,0,"button",16),f()()()}t&2&&(C(2),Oe(" ",r.chatType==="group"?"Group Chat - "+r.room:"Private Chat With - "+r.targetUsername," "),C(),b("ngIf",r.chatType==="group"&&!r.isRoomJoined),C(4),b("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),C(5),mn("ngModel",r.newMessage),C(4),b("ngIf",r.isTyping),C(),b("ngIf",r.isUploading),C(),b("ngIf",r.chatType==="group"),C(),b("ngIf",r.chatType==="private"))},dependencies:[ur,dr,_e,Dn,pr,Br],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;max-height:85vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none}.join-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:10px;width:40px;height:40px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:36px;height:36px}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']})}});function g5(n,e){if(n&1&&(h(0,"span",18),_(1),f()),n&2){let t=S().ngIf;C(),wt(t)}}function m5(n,e){if(n&1&&(Kt(0),N(1,g5,2,1,"span",17),Yt()),n&2){let t=e.ngIf,r=S();C(),b("ngIf",t>0&&!r.isPrivateChatOpen)}}function v5(n,e){if(n&1){let t=K();h(0,"li",22),O("click",function(){let i=L(t).$implicit,o=S(2);return V(o.navigateToContact(i._id))}),_(1),f()}if(n&2){let t=e.$implicit;C(),Oe(" ",t.name," ")}}function y5(n,e){if(n&1){let t=K();h(0,"div",19)(1,"button",20),O("click",function(){L(t);let i=S();return V(i.closeContactsDropdown())}),_(2,"\xD7"),f(),h(3,"ul"),N(4,v5,2,1,"li",21),f()()}if(n&2){let t=S();C(4),b("ngForOf",t.contacts)}}function _5(n,e){if(n&1){let t=K();h(0,"div",23),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.closePrivateChat())}),h(1,"div",24)(2,"span",25),O("click",function(){L(t);let i=S();return V(i.closePrivateChat())}),_(3,"\xD7"),f(),R(4,"app-chat",26),f()()}if(n&2){let t=S();C(4),b("chatType","private")("targetUserId",t.user._id)}}var p5,Ah,$O=p(()=>{"use strict";T();ot();we();Et();T();ot();Ls();$f();jr();Ie();Si();$s();l0();p5=n=>({"long-field":n});Ah=class n{constructor(e,t,r,i){this.router=e;this.socketService=t;this.userIndex=r;this.contactService=i}user;remove=new se;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=v(Ce).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new de(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof mi&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(be(1),ke(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),F(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(Vp(1),be(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Te),D(wn),D(Pi),D(vt))};static \u0275cmp=ee({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType","targetUserId"]],template:function(t,r){t&1&&(h(0,"article",0)(1,"div",1),O("click",function(){return r.onPreviewClick()}),R(2,"img",2),f(),h(3,"div",3)(4,"h1",4),_(5),f()(),h(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),O("click",function(o){return r.openPrivateChat(o)}),R(10,"img",9),N(11,m5,2,1,"ng-container",10),Ut(12,"async"),f()(),h(13,"button",11),O("click",function(o){return r.openFacebookProfile(o,r.user)}),R(14,"img",12),f()(),h(15,"div",6)(16,"button",11),O("click",function(o){return r.openInstagramProfile(o,r.user)}),R(17,"img",13),f(),h(18,"button",11),O("click",function(){return r.toggleContactsDropdown()}),R(19,"img",14),f(),N(20,y5,5,1,"div",15),f()()(),N(21,_5,5,2,"div",16),R(22,"router-outlet")),t&2&&(C(2),b("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Xe),C(2),b("title",r.user.username)("ngClass",Sa(9,p5,r.isLongField(r.user.username,15))),C(),Oe(" ",r.user.username," "),C(6),b("ngIf",Bt(12,7,r.unreadMessagesCount$)),C(9),b("ngIf",r.showContactsDropdown),C(),b("ngIf",r.isPrivateChatOpen))},dependencies:[ur,dr,_e,$n,Mt,En,na,$t],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function b5(n,e){if(n&1){let t=K();h(0,"user-preview",3),O("remove",function(){let i=L(t).$implicit,o=S();return V(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;b("user",t)}}function w5(n,e){n&1&&(h(0,"p"),_(1,"No users found."),f())}var Nh,HO=p(()=>{"use strict";T();T();Et();Ie();$O();Nh=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new se;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275cmp=ee({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(h(0,"section",1),N(1,b5,1,1,"user-preview",2)(2,w5,2,0,"ng-template",null,0,cr),f()),t&2&&(C(),b("ngForOf",r.users))},dependencies:[dr,Ah],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function E5(n,e){if(n&1){let t=K();h(0,"button",4),O("click",function(){L(t);let i=S();return V(i.onClearFilter())}),_(1,"\u2716"),f()}}var kh,zO=p(()=>{"use strict";T();we();js();Et();T();Ie();Sn();kh=class n{userService=v(Ce);filterBy="";filterSubject$=new ge;destroyRef=v(At);ngOnInit(){this.userService.filterBy$.pipe(Ht(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Cr(),Ht(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),vn("ngModelChange",function(o){return Vn(r.filterBy,o)||(r.filterBy=o),o}),O("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,E5,2,0,"button",3),f()()),t&2&&(C(2),mn("ngModel",r.filterBy),C(),b("ngIf",r.filterBy))},dependencies:[_e,Dn,pr,Br],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Rh,qO=p(()=>{"use strict";Fa();YI();lO();Aa();Sn();UO();Si();$s();$f();HO();zO();l0();P_();T();Ie();Rh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ye({type:n,bootstrap:[ph]});static \u0275inj=Ke({imports:[Sd,zf,HD,xI,OI,jO,nO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};tD(Pi,function(){return[_e,Mt,En,Nh,kh,na]},function(){return[$t]})});var D5=QO(WO=>{Fa();qO();Xs();T();QD().bootstrapModule(Rh).then(()=>{let n=v(In);"serviceWorker"in navigator&&window.addEventListener("load",()=>x(WO,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default D5();
