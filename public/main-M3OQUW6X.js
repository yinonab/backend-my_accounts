var d0=Object.defineProperty,$T=Object.defineProperties;var HT=Object.getOwnPropertyDescriptors;var Qc=Object.getOwnPropertySymbols;var f0=Object.prototype.hasOwnProperty,h0=Object.prototype.propertyIsEnumerable;var u0=(n,e,t)=>e in n?d0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})f0.call(e,t)&&u0(n,t,e[t]);if(Qc)for(var t of Qc(e))h0.call(e,t)&&u0(n,t,e[t]);return n},$=(n,e)=>$T(n,HT(e));var Fh=(n,e)=>{var t={};for(var r in n)f0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Qc)for(var r of Qc(n))e.indexOf(r)<0&&h0.call(n,r)&&(t[r]=n[r]);return t};var p=(n,e)=>()=>(n&&(e=n(n=0)),e);var zT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),qT=(n,e)=>{for(var t in e)d0(n,t,{get:e[t],enumerable:!0})};var I=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function p0(n,e){return Object.is(n,e)}function me(n){let e=tt;return tt=n,e}function g0(){return tt}function jh(n){if(Zc)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(n);let e=tt.nextProducerIndex++;if(nl(tt),e<tt.producerNode.length&&tt.producerNode[e]!==n&&oa(tt)){let t=tt.producerNode[e];tl(t,tt.producerIndexOfThis[e])}tt.producerNode[e]!==n&&(tt.producerNode[e]=n,tt.producerIndexOfThis[e]=oa(tt)?_0(n,tt,e):0),tt.producerLastReadVersion[e]=n.version}function WT(){Jc++}function m0(n){if(!(oa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Jc)){if(!n.producerMustRecompute(n)&&!Bh(n)){n.dirty=!1,n.lastCleanEpoch=Jc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Jc}}function v0(n){if(n.liveConsumerNode===void 0)return;let e=Zc;Zc=!0;try{for(let t of n.liveConsumerNode)t.dirty||GT(t)}finally{Zc=e}}function y0(){return tt?.consumerAllowSignalWrites!==!1}function GT(n){n.dirty=!0,v0(n),n.consumerMarkedDirty?.(n)}function el(n){return n&&(n.nextProducerIndex=0),me(n)}function Uh(n,e){if(me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(oa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Bh(n){nl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(m0(t),r!==t.version))return!0}return!1}function $h(n){if(nl(n),oa(n))for(let e=0;e<n.producerNode.length;e++)tl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function _0(n,e,t){if(C0(n),n.liveConsumerNode.length===0&&b0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=_0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function tl(n,e){if(C0(n),n.liveConsumerNode.length===1&&b0(n))for(let r=0;r<n.producerNode.length;r++)tl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];nl(i),i.producerIndexOfThis[r]=e}}function oa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function nl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function C0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function b0(n){return n.producerNode!==void 0}function w0(n){let e=Object.create(KT);e.computation=n;let t=()=>{if(m0(e),jh(e),e.value===Xc)throw e.error;return e.value};return t[hr]=e,t}function YT(){throw new Error}function D0(){E0()}function M0(n){E0=n}function S0(n){let e=Object.create(x0);e.value=n;let t=()=>(jh(e),e.value);return t[hr]=e,t}function Hh(n,e){y0()||D0(),n.equal(n.value,e)||(n.value=e,ZT(n))}function I0(n,e){y0()||D0(),Hh(n,e(n.value))}function ZT(n){n.version++,WT(),v0(n),QT?.()}var tt,Zc,Jc,hr,sa,Lh,Vh,Xc,KT,E0,QT,x0,T0=p(()=>{"use strict";tt=null,Zc=!1,Jc=1,hr=Symbol("SIGNAL");sa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Lh=Symbol("UNSET"),Vh=Symbol("COMPUTING"),Xc=Symbol("ERRORED"),KT=$(E({},sa),{value:Lh,dirty:!0,error:null,equal:p0,producerMustRecompute(n){return n.value===Lh||n.value===Vh},producerRecomputeValue(n){if(n.value===Vh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Vh;let t=el(n),r;try{r=n.computation()}catch(i){r=Xc,n.error=i}finally{Uh(n,t)}if(e!==Lh&&e!==Xc&&r!==Xc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});E0=YT;QT=null;x0=$(E({},sa),{equal:p0,value:void 0})});function H(n){return typeof n=="function"}var qe=p(()=>{"use strict"});function So(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var rl=p(()=>{"use strict"});var il,O0=p(()=>{"use strict";rl();il=So(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Pi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ol=p(()=>{"use strict"});function sl(n){return n instanceof Fe||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function P0(n){H(n)?n():n.unsubscribe()}var Fe,zh,Ai=p(()=>{"use strict";qe();O0();ol();Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof il?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{P0(o)}catch(s){e=e??[],s instanceof il?e=[...e,...s.errors]:e.push(s)}}if(e)throw new il(e)}}add(e){var t;if(e&&e!==this)if(this.closed)P0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pi(t,e)}remove(e){let{_finalizers:t}=this;t&&Pi(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();zh=Fe.EMPTY});var In,aa=p(()=>{"use strict";In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Io,qh=p(()=>{"use strict";Io={setTimeout(n,e,...t){let{delegate:r}=Io;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Io;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function al(n){Io.setTimeout(()=>{let{onUnhandledError:e}=In;if(e)e(n);else throw n})}var Wh=p(()=>{"use strict";aa();qh()});function pr(){}var ca=p(()=>{"use strict"});function N0(n){return Gh("E",void 0,n)}function k0(n){return Gh("N",n,void 0)}function Gh(n,e,t){return{kind:n,value:e,error:t}}var A0,R0=p(()=>{"use strict";A0=Gh("C",void 0,void 0)});function xo(n){if(In.useDeprecatedSynchronousErrorHandling){let e=!Ni;if(e&&(Ni={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ni;if(Ni=null,t)throw r}}else n()}function F0(n){In.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=n)}var Ni,cl=p(()=>{"use strict";aa();Ni=null});function Kh(n,e){return JT.call(n,e)}function ll(n){In.useDeprecatedSynchronousErrorHandling?F0(n):al(n)}function XT(n){throw n}function Yh(n,e){let{onStoppedNotification:t}=In;t&&Io.setTimeout(()=>t(n,e))}var ki,JT,Qh,qr,eO,ul=p(()=>{"use strict";qe();Ai();aa();Wh();ca();R0();qh();cl();ki=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sl(e)&&e.add(this)):this.destination=eO}static create(e,t,r){return new qr(e,t,r)}next(e){this.isStopped?Yh(k0(e),this):this._next(e)}error(e){this.isStopped?Yh(N0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yh(A0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JT=Function.prototype.bind;Qh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ll(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ll(r)}else ll(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ll(t)}}},qr=class extends ki{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&In.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kh(e.next,o),error:e.error&&Kh(e.error,o),complete:e.complete&&Kh(e.complete,o)}):i=e}this.destination=new Qh(i)}};eO={closed:!0,next:pr,error:XT,complete:pr}});var To,dl=p(()=>{"use strict";To=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function pt(n){return n}var gr=p(()=>{"use strict"});function Zh(...n){return Jh(n)}function Jh(n){return n.length===0?pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Xh=p(()=>{"use strict";gr()});function L0(n){var e;return(e=n??In.Promise)!==null&&e!==void 0?e:Promise}function tO(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function nO(n){return n&&n instanceof ki||tO(n)&&sl(n)}var J,ot=p(()=>{"use strict";ul();Ai();dl();Xh();aa();qe();cl();J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=nO(t)?t:new qr(t,r,i);return xo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=L0(r),new r((i,o)=>{let s=new qr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[To](){return this}pipe(...t){return Jh(t)(this)}toPromise(t){return t=L0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function ep(n){return H(n?.lift)}function X(n){return e=>{if(ep(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Le=p(()=>{"use strict";qe()});function Z(n,e,t,r,i){return new tp(n,e,t,r,i)}var tp,He=p(()=>{"use strict";ul();tp=class extends ki{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function Oo(){return X((n,e)=>{let t=null;n._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var np=p(()=>{"use strict";Le();He()});var Wr,rp=p(()=>{"use strict";ot();Ai();np();He();Le();Wr=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ep(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Oo()(this)}}});var V0,j0=p(()=>{"use strict";rl();V0=So(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var he,fl,la=p(()=>{"use strict";ot();Ai();j0();ol();cl();he=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new V0}next(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zh:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,Pi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new fl(e,t),n})(),fl=class extends he{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zh}}});var ve,U0=p(()=>{"use strict";la();ve=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var ip,B0=p(()=>{"use strict";ip={now(){return(ip.delegate||Date).now()},delegate:void 0}});var hl,$0=p(()=>{"use strict";Ai();hl=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}}});var ua,H0=p(()=>{"use strict";ua={setInterval(n,e,...t){let{delegate:r}=ua;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ua;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var pl,z0=p(()=>{"use strict";$0();H0();ol();pl=class extends hl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ua.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Po,q0=p(()=>{"use strict";B0();Po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Po.now=ip.now});var gl,W0=p(()=>{"use strict";q0();gl=class extends Po{constructor(e,t=Po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var da,G0,ml=p(()=>{"use strict";z0();W0();da=new gl(pl),G0=da});var It,fa=p(()=>{"use strict";ot();It=new J(n=>n.complete())});function vl(n){return n&&H(n.schedule)}var op=p(()=>{"use strict";qe()});function sp(n){return n[n.length-1]}function yl(n){return H(sp(n))?n.pop():void 0}function Gn(n){return vl(sp(n))?n.pop():void 0}function K0(n,e){return typeof sp(n)=="number"?n.pop():e}var Ri=p(()=>{"use strict";qe();op()});function Q0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Y0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(n){return this instanceof Fi?(this.v=n,this):new Fi(n)}function Z0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(C){return Promise.resolve(C).then(g,d)}}function a(g,C){r[g]&&(i[g]=function(w){return new Promise(function(P,B){o.push([g,w,P,B])>1||c(g,w)})},C&&(i[g]=C(i[g])))}function c(g,C){try{l(r[g](C))}catch(w){m(o[0][3],w)}}function l(g){g.value instanceof Fi?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,C){g(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function J0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Y0=="function"?Y0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ap=p(()=>{"use strict"});var Ao,_l=p(()=>{"use strict";Ao=n=>n&&typeof n.length=="number"&&typeof n!="function"});function Cl(n){return H(n?.then)}var cp=p(()=>{"use strict";qe()});function bl(n){return H(n[To])}var lp=p(()=>{"use strict";dl();qe()});function wl(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var up=p(()=>{"use strict";qe()});function El(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var dp=p(()=>{"use strict"});function rO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dl,fp=p(()=>{"use strict";Dl=rO()});function Ml(n){return H(n?.[Dl])}var hp=p(()=>{"use strict";fp();qe()});function Sl(n){return Z0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Fi(t.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{t.releaseLock()}})}function Il(n){return H(n?.getReader)}var xl=p(()=>{"use strict";ap();qe()});function De(n){if(n instanceof J)return n;if(n!=null){if(bl(n))return iO(n);if(Ao(n))return oO(n);if(Cl(n))return sO(n);if(wl(n))return X0(n);if(Ml(n))return aO(n);if(Il(n))return cO(n)}throw El(n)}function iO(n){return new J(e=>{let t=n[To]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oO(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function sO(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,al)})}function aO(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function X0(n){return new J(e=>{lO(n,e).catch(t=>e.error(t))})}function cO(n){return X0(Sl(n))}function lO(n,e){var t,r,i,o;return Q0(this,void 0,void 0,function*(){try{for(t=J0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var vt=p(()=>{"use strict";ap();_l();cp();ot();lp();up();dp();hp();xl();qe();Wh();dl()});function jt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var No=p(()=>{"use strict"});function Tl(n,e=0){return X((t,r)=>{t.subscribe(Z(r,i=>jt(r,n,()=>r.next(i),e),()=>jt(r,n,()=>r.complete(),e),i=>jt(r,n,()=>r.error(i),e)))})}var pp=p(()=>{"use strict";No();Le();He()});function Ol(n,e=0){return X((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var gp=p(()=>{"use strict";Le()});function eC(n,e){return De(n).pipe(Ol(e),Tl(e))}var tC=p(()=>{"use strict";vt();pp();gp()});function nC(n,e){return De(n).pipe(Ol(e),Tl(e))}var rC=p(()=>{"use strict";vt();pp();gp()});function iC(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var oC=p(()=>{"use strict";ot()});function sC(n,e){return new J(t=>{let r;return jt(t,e,()=>{r=n[Dl](),jt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var aC=p(()=>{"use strict";ot();fp();qe();No()});function Pl(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{jt(t,e,()=>{let r=n[Symbol.asyncIterator]();jt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var mp=p(()=>{"use strict";ot();No()});function cC(n,e){return Pl(Sl(n),e)}var lC=p(()=>{"use strict";mp();xl()});function uC(n,e){if(n!=null){if(bl(n))return eC(n,e);if(Ao(n))return iC(n,e);if(Cl(n))return nC(n,e);if(wl(n))return Pl(n,e);if(Ml(n))return sC(n,e);if(Il(n))return cC(n,e)}throw El(n)}var dC=p(()=>{"use strict";tC();rC();oC();aC();mp();lp();cp();_l();hp();up();dp();xl();lC()});function W(n,e){return e?uC(n,e):De(n)}var ko=p(()=>{"use strict";dC();vt()});function F(...n){let e=Gn(n);return W(n,e)}var fC=p(()=>{"use strict";Ri();ko()});function nt(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}var hC=p(()=>{"use strict";ot();qe()});function vp(n){return!!n&&(n instanceof J||H(n.lift)&&H(n.subscribe))}var pC=p(()=>{"use strict";ot();qe()});var xn,Ro=p(()=>{"use strict";rl();xn=So(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function Li(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new qr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new xn)}});n.subscribe(o)})}var gC=p(()=>{"use strict";Ro();ul()});function mC(n){return n instanceof Date&&!isNaN(n)}var vC=p(()=>{"use strict"});function L(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>{r.next(n.call(e,o,i++))}))})}var Fo=p(()=>{"use strict";Le();He()});function dO(n,e){return uO(e)?n(...e):n(e)}function Lo(n){return L(e=>dO(n,e))}var uO,Al=p(()=>{"use strict";Fo();({isArray:uO}=Array)});function Nl(n){if(n.length===1){let e=n[0];if(fO(e))return{args:e,keys:null};if(mO(e)){let t=gO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function mO(n){return n&&typeof n=="object"&&hO(n)===pO}var fO,hO,pO,gO,yp=p(()=>{"use strict";({isArray:fO}=Array),{getPrototypeOf:hO,prototype:pO,keys:gO}=Object});function kl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var _p=p(()=>{"use strict"});function ha(...n){let e=Gn(n),t=yl(n),{args:r,keys:i}=Nl(n);if(r.length===0)return W([],e);let o=new J(vO(r,e,i?s=>kl(i,s):pt));return t?o.pipe(Lo(t)):o}function vO(n,e,t=pt){return r=>{yC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)yC(e,()=>{let l=W(n[c],e),u=!1;l.subscribe(Z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yC(n,e,t){n?jt(t,n,e):e()}var _C=p(()=>{"use strict";ot();yp();ko();gr();Al();Ri();_p();He();No()});function CC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?C(w):c.push(w),C=w=>{o&&e.next(w),l++;let P=!1;De(t(w,u++)).subscribe(Z(e,B=>{i?.(B),o?g(B):e.next(B)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){let B=c.shift();s?jt(e,s,()=>C(B)):C(B)}m()}catch(B){e.error(B)}}))};return n.subscribe(Z(e,g,()=>{d=!0,m()})),()=>{a?.()}}var bC=p(()=>{"use strict";vt();No();He()});function Ve(n,e,t=1/0){return H(e)?Ve((r,i)=>L((o,s)=>e(r,o,i,s))(De(n(r,i))),t):(typeof e=="number"&&(t=e),X((r,i)=>CC(r,i,n,t)))}var Vo=p(()=>{"use strict";Fo();vt();Le();bC();qe()});function Kn(n=1/0){return Ve(pt,n)}var Rl=p(()=>{"use strict";Vo();gr()});function wC(){return Kn(1)}var EC=p(()=>{"use strict";Rl()});function Yn(...n){return wC()(W(n,Gn(n)))}var Fl=p(()=>{"use strict";EC();Ri();ko()});function Vi(n){return new J(e=>{De(n()).subscribe(e)})}var DC=p(()=>{"use strict";ot();vt()});function Cp(...n){let e=yl(n),{args:t,keys:r}=Nl(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;De(t[u]).subscribe(Z(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?kl(r,a):a),o.complete())}))}});return e?i.pipe(Lo(e)):i}var MC=p(()=>{"use strict";ot();yp();vt();Ri();He();Al();_p()});function jo(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return jo(n,e,t).pipe(Lo(r));let[i,o]=EO(n)?_O.map(s=>a=>n[s](e,a,t)):bO(n)?yO.map(SC(n,e)):wO(n)?CO.map(SC(n,e)):[];if(!i&&Ao(n))return Ve(s=>jo(s,e,t))(De(n));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function SC(n,e){return t=>r=>n[t](e,r)}function bO(n){return H(n.addListener)&&H(n.removeListener)}function wO(n){return H(n.on)&&H(n.off)}function EO(n){return H(n.addEventListener)&&H(n.removeEventListener)}var yO,_O,CO,IC=p(()=>{"use strict";vt();ot();Vo();_l();qe();Al();yO=["addListener","removeListener"],_O=["addEventListener","removeEventListener"],CO=["on","off"]});function Ll(n=0,e,t=G0){let r=-1;return e!=null&&(vl(e)?t=e:r=e),new J(i=>{let o=mC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var bp=p(()=>{"use strict";ot();ml();op();vC()});function Vl(...n){let e=Gn(n),t=K0(n,1/0),r=n;return r.length?r.length===1?De(r[0]):Kn(t)(W(r,e)):It}var xC=p(()=>{"use strict";Rl();vt();fa();Ri();ko()});var ji,TC=p(()=>{"use strict";ot();ca();ji=new J(pr)});function je(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>n.call(e,o,i++)&&r.next(o)))})}var pa=p(()=>{"use strict";Le();He()});var OC=p(()=>{"use strict"});function de(n){return X((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Z(t,void 0,void 0,s=>{o=De(n(s,de(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var wp=p(()=>{"use strict";vt();He();Le()});function PC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Z(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var AC=p(()=>{"use strict";He()});function cn(n,e){return H(e)?Ve(n,e,1):Ve(n,1)}var Ep=p(()=>{"use strict";Vo();qe()});function NC(n){return new J(e=>n.subscribe(e))}var kC=p(()=>{"use strict";ot()});function jl(n,e=DO){let{connector:t}=e;return X((r,i)=>{let o=t();De(n(NC(o))).subscribe(i),i.add(r.subscribe(o))})}var DO,Dp=p(()=>{"use strict";la();vt();Le();kC();DO={connector:()=>new he}});function Mp(n,e=da){return X((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(Z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var RC=p(()=>{"use strict";ml();Le();He()});function Gr(n){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Ul=p(()=>{"use strict";Le();He()});function Oe(n){return n<=0?()=>It:X((e,t)=>{let r=0;e.subscribe(Z(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var ga=p(()=>{"use strict";fa();Le();He()});function FC(){return X((n,e)=>{n.subscribe(Z(e,pr))})}var LC=p(()=>{"use strict";Le();He();ca()});function ma(n){return L(()=>n)}var Sp=p(()=>{"use strict";Fo()});function Ip(n,e){return e?t=>Yn(e.pipe(Oe(1),FC()),t.pipe(Ip(n))):Ve((t,r)=>De(n(t,r)).pipe(Oe(1),ma(t)))}var VC=p(()=>{"use strict";Fl();ga();LC();Sp();Vo();vt()});function ln(n,e=da){let t=Ll(n,e);return Ip(()=>t)}var xp=p(()=>{"use strict";ml();VC();bp()});function mr(n,e=pt){return n=n??MO,X((t,r)=>{let i,o=!0;t.subscribe(Z(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function MO(n,e){return n===e}var jC=p(()=>{"use strict";gr();Le();He()});function Bl(n=SO){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function SO(){return new xn}var Tp=p(()=>{"use strict";Ro();Le();He()});function Wt(n){return X((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Op=p(()=>{"use strict";Le()});function Qn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?je((i,o)=>n(i,o,r)):pt,Oe(1),t?Gr(e):Bl(()=>new xn))}var UC=p(()=>{"use strict";Ro();pa();ga();Ul();Tp();gr()});function Uo(n){return n<=0?()=>It:X((e,t)=>{let r=[];e.subscribe(Z(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Pp=p(()=>{"use strict";fa();Le();He()});function Ap(n,e){let t=arguments.length>=2;return r=>r.pipe(n?je((i,o)=>n(i,o,r)):pt,Uo(1),t?Gr(e):Bl(()=>new xn))}var BC=p(()=>{"use strict";Ro();pa();Pp();Tp();Ul();gr()});function $C(n,e){let t=H(n)?n:()=>n;return H(e)?jl(e,{connector:t}):r=>new Wr(r,t)}var HC=p(()=>{"use strict";rp();qe();Dp()});function Np(n){return n?e=>jl(n)(e):e=>$C(new he)(e)}var zC=p(()=>{"use strict";la();HC();Dp()});function st(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?pt:X((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(Z(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Ll(r):De(r(d,a)),C=Z(s,()=>{C.unsubscribe(),m()},()=>{s.complete()});g.subscribe(C)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var kp=p(()=>{"use strict";Le();He();gr();bp();vt()});function Rp(n,e){return X(PC(n,e,arguments.length>=2,!0))}var qC=p(()=>{"use strict";Le();AC()});function Fp(...n){let e=Gn(n);return X((t,r)=>{(e?Yn(n,t,e):Yn(n,t)).subscribe(r)})}var WC=p(()=>{"use strict";Fl();Ri();Le()});function Ue(n,e){return X((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Z(r,c=>{i?.unsubscribe();let l=0,u=o++;De(n(c,u)).subscribe(i=Z(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Lp=p(()=>{"use strict";vt();Le();He()});function Zn(n){return X((e,t)=>{De(n).subscribe(Z(t,()=>t.complete(),pr)),!t.closed&&e.subscribe(t)})}var Vp=p(()=>{"use strict";Le();He();vt();ca()});function ne(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var jp=p(()=>{"use strict";qe();Le();He();gr()});var Me=p(()=>{"use strict";ot();rp();la();U0();Ai();Xh();pC();gC();Ro();_C();Fl();DC();MC();ko();IC();xC();fC();hC();fa();TC();OC();wp();Ep();RC();xp();jC();pa();Op();Fo();kp();Lp();ga();Vp();jp()});var Kr=p(()=>{"use strict";wp();Ep();Ul();xp();pa();Op();UC();BC();Fo();Sp();Rl();Vo();zC();kp();np();qC();WC();Lp();ga();Pp();Vp();jp()});function Tu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Sa(n){return{toString:n}.toString()}function IO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Pb(n,e,t){return Sa(()=>{let r=IO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty($l)?c[$l]:Object.defineProperty(c,$l,{value:[]})[$l];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function xO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ot(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Ot).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function eg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function ir(n){return n.__forward_ref__=ir,n.toString=function(){return Ot(this())},n}function Tt(n){return Ab(n)?n():n}function Ab(n){return typeof n=="function"&&n.hasOwnProperty(TO)&&n.__forward_ref__===ir}function S(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ou(n){return GC(n,kb)||GC(n,Rb)}function Nb(n){return Ou(n)!==null}function GC(n,e){return n.hasOwnProperty(e)?n[e]:null}function OO(n){let e=n&&(n[kb]||n[Rb]);return e||null}function KC(n){return n&&(n.hasOwnProperty(YC)||n.hasOwnProperty(PO))?n[YC]:null}function Fb(n){return n&&!!n.\u0275providers}function Pu(n){return typeof n=="string"?n:n==null?"":String(n)}function FO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Pu(n)}function LO(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,n)}function Kg(n,e){throw new M(-201,!1)}function Lb(){return tg}function Ut(n){let e=tg;return tg=n,e}function Vb(n,e,t){let r=Ou(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;Kg(n,"Injector")}function $O(){return qo}function Yr(n){let e=qo;return qo=n,e}function HO(n,e=ae.Default){if(qo===void 0)throw new M(-203,!1);return qo===null?Vb(n,void 0,e):qo.get(n,e&ae.Optional?null:void 0,e)}function A(n,e=ae.Default){return(Lb()||HO)(Tt(n),e)}function y(n,e=ae.Default){return A(n,Au(e))}function Au(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rg(n){let e=[];for(let t=0;t<n.length;t++){let r=Tt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=zO(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function jb(n,e){return n[ng]=e,n.prototype[ng]=e,n}function zO(n){return n[ng]}function qO(n,e,t,r){let i=n[eu];throw e[ZC]&&i.unshift(e[ZC]),n.message=WO(`
`+n.message,i,t,r),n[jO]=i,n[eu]=null,n}function WO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==BO?n.slice(2):n;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ot(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(UO,`
  `)}`}function $i(n,e){let t=n.hasOwnProperty(Xl);return t?n[Xl]:null}function GO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function KO(n){return n.flat(Number.POSITIVE_INFINITY)}function Qg(n,e){n.forEach(t=>Array.isArray(t)?Qg(t,e):e(t))}function Ub(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function YO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Zg(n,e,t){let r=Ia(n,e);return r>=0?n[r|1]=t:(r=~r,YO(n,r,e,t)),r}function Up(n,e){let t=Ia(n,e);if(t>=0)return n[t|1]}function Ia(n,e){return QO(n,e,1)}function QO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function ZO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function ig(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];JO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function zb(n){return n===3||n===4||n===6}function JO(n){return n.charCodeAt(0)===64}function ba(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?JC(n,t,i,null,e[++r]):JC(n,t,i,null,null))}}return n}function JC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function XO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&ZO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Jg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Jg(n){return n.type===4&&n.value!==qb}function eP(n,e,t){let r=n.type===4&&!t?qb:n.value;return e===r}function tP(n,e,t){let r=4,i=n.attrs,o=i!==null?iP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Tn(r)&&!Tn(c))return!1;if(s&&Tn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!eP(n,c,t)||c===""&&e.length===1){if(Tn(r))return!1;s=!0}}else if(r&8){if(i===null||!XO(n,i,c,t)){if(Tn(r))return!1;s=!0}}else{let l=e[++a],u=nP(c,i,Jg(n),t);if(u===-1){if(Tn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Tn(r))return!1;s=!0}}}}return Tn(r)||s}function Tn(n){return(n&1)===0}function nP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return oP(e,n)}function rP(n,e,t=!1){for(let r=0;r<e.length;r++)if(tP(n,e[r],t))return!0;return!1}function iP(n){for(let e=0;e<n.length;e++){let t=n[e];if(zb(t))return e}return n.length}function oP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function XC(n,e){return n?":not("+e.trim()+")":e}function sP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(e+=XC(o,i),i=""),r=s,o=o||!Tn(r);t++}return i!==""&&(e+=XC(o,i)),e}function aP(n){return n.map(sP).join(",")}function cP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Tn(i))break;i=o}r++}return{attrs:e,classes:t}}function ee(n){return Sa(()=>{let e=Qb(n),t=$(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Hb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||er.Emulated,styles:n.styles||Bt,_:null,schemas:n.schemas||null,tView:null,id:""});Zb(t);let r=n.dependencies;return t.directiveDefs=ru(r,!1),t.pipeDefs=ru(r,!0),t.id=dP(t),t})}function lP(n){return Xr(n)||Wb(n)}function uP(n){return n!==null}function Ke(n){return Sa(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eb(n,e){if(n==null)return Go;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Jr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Jr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function pe(n){return Sa(()=>{let e=Qb(n);return Zb(e),e})}function Xg(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xr(n){return n[AO]||null}function Wb(n){return n[NO]||null}function Gb(n){return n[kO]||null}function Kb(n){let e=Xr(n)||Wb(n)||Gb(n);return e!==null?e.standalone:!1}function Yb(n,e){let t=n[RO]||null;if(!t&&e===!0)throw new Error(`Type ${Ot(n)} does not have '\u0275mod' property.`);return t}function Qb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Go,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eb(n.inputs,e),outputs:eb(n.outputs),debugInfo:null}}function Zb(n){n.features?.forEach(e=>e(n))}function ru(n,e){if(!n)return null;let t=e?Gb:lP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(uP)}function dP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rs(n){return{\u0275providers:n}}function fP(...n){return{\u0275providers:Jb(!0,n),\u0275fromNgModule:!0}}function Jb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Qg(e,s=>{let a=s;og(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Xb(i,o),t}function Xb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];em(i,o=>{e(o,r)})}}function og(n,e,t,r){if(n=Tt(n),!n)return!1;let i=null,o=KC(n),s=!o&&Xr(n);if(!o&&!s){let c=n.ngModule;if(o=KC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)og(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Qg(o.imports,u=>{og(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Xb(l,e)}if(!a){let l=$i(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:$b,useValue:i,multi:!0},i),e({provide:Ko,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;em(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function em(n,e){for(let t of n)Fb(t)&&(t=t.\u0275providers),Array.isArray(t)?em(t,e):e(t)}function ew(n){return n!==null&&typeof n=="object"&&hP in n}function pP(n){return!!(n&&n.useExisting)}function gP(n){return!!(n&&n.useFactory)}function Yo(n){return typeof n=="function"}function mP(n){return!!n.useClass}function tm(){return Bp===void 0&&(Bp=new nu),Bp}function sg(n){let e=Ou(n),t=e!==null?e.factory:$i(n);if(t!==null)return t;if(n instanceof k)throw new M(204,!1);if(n instanceof Function)return yP(n);throw new M(204,!1)}function yP(n){if(n.length>0)throw new M(204,!1);let t=OO(n);return t!==null?()=>t.factory(n):()=>new n}function _P(n){if(ew(n))return Bo(void 0,n.useValue);{let e=tw(n);return Bo(e,Kl)}}function tw(n,e,t){let r;if(Yo(n)){let i=Tt(n);return $i(i)||sg(i)}else if(ew(n))r=()=>Tt(n.useValue);else if(gP(n))r=()=>n.useFactory(...rg(n.deps||[]));else if(pP(n))r=()=>A(Tt(n.useExisting));else{let i=Tt(n&&(n.useClass||n.provide));if(CP(n))r=()=>new i(...rg(n.deps));else return $i(i)||sg(i)}return r}function Bo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CP(n){return!!n.deps}function bP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function wP(n){return typeof n=="function"||typeof n=="object"&&n instanceof k}function ag(n,e){for(let t of n)Array.isArray(t)?ag(t,e):t&&Fb(t)?ag(t.\u0275providers,e):e(t)}function dn(n,e){n instanceof wa&&n.assertNotDestroyed();let t,r=Yr(n),i=Ut(void 0);try{return e()}finally{Yr(r),Ut(i)}}function nw(){return Lb()!==void 0||$O()!=null}function nm(n){if(!nw())throw new M(-203,!1)}function EP(n){let e=xt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function DP(n){return typeof n=="function"}function Zr(n){return Array.isArray(n)&&typeof n[iw]=="object"}function wr(n){return Array.isArray(n)&&n[iw]===!0}function rm(n){return(n.flags&4)!==0}function Fu(n){return n.componentOffset>-1}function Lu(n){return(n.flags&1)===1}function ei(n){return!!n.template}function cg(n){return(n[Q]&512)!==0}function ow(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function kn(){return sw}function sw(n){return n.type.prototype.ngOnChanges&&(n.setInput=SP),MP}function MP(){let n=cw(this),e=n?.current;if(e){let t=n.previous;if(t===Go)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function SP(n,e,t,r,i){let o=this.declaredInputs[r],s=cw(n)||IP(n,{previous:Go,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new lg(l&&l.currentValue,t,c===Go),ow(n,e,i,t)}function cw(n){return n[aw]||null}function IP(n,e){return n[aw]=e}function rr(n){for(;Array.isArray(n);)n=n[br];return n}function lw(n,e){return rr(e[n])}function fn(n,e){return rr(e[n.index])}function uw(n,e){return n.data[e]}function im(n,e){return n[e]}function ii(n,e){let t=e[n];return Zr(t)?t:t[br]}function OP(n){return(n[Q]&4)===4}function om(n){return(n[Q]&128)===128}function PP(n){return wr(n[yt])}function Jo(n,e){return e==null?null:n[e]}function dw(n){n[$o]=0}function fw(n){n[Q]&1024||(n[Q]|=1024,om(n)&&ju(n))}function AP(n,e){for(;n>0;)e=e[is],n--;return e}function Vu(n){return!!(n[Q]&9216||n[un]?.dirty)}function ug(n){n[tr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Vu(n)&&ju(n)}function ju(n){n[tr].changeDetectionScheduler?.notify(0);let e=qi(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!om(e)));)e=qi(e)}function hw(n,e){if((n[Q]&256)===256)throw new M(911,!1);n[Qr]===null&&(n[Qr]=[]),n[Qr].push(e)}function NP(n,e){if(n[Qr]===null)return;let t=n[Qr].indexOf(e);t!==-1&&n[Qr].splice(t,1)}function qi(n){let e=n[yt];return wr(e)?e[yt]:e}function kP(){return ce.lFrame.elementDepthCount}function RP(){ce.lFrame.elementDepthCount++}function FP(){ce.lFrame.elementDepthCount--}function gw(){return ce.bindingsEnabled}function LP(){return ce.skipHydrationRootTNode!==null}function VP(n){return ce.skipHydrationRootTNode===n}function jP(){ce.skipHydrationRootTNode=null}function le(){return ce.lFrame.lView}function Je(){return ce.lFrame.tView}function j(n){return ce.lFrame.contextLView=n,n[An]}function U(n){return ce.lFrame.contextLView=null,n}function gt(){let n=mw();for(;n!==null&&n.type===64;)n=n.parent;return n}function mw(){return ce.lFrame.currentTNode}function UP(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ji(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function sm(){return ce.lFrame.isParent}function vw(){ce.lFrame.isParent=!1}function BP(){return ce.lFrame.contextLView}function yw(){return pw}function rb(n){pw=n}function xa(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $P(n){return ce.lFrame.bindingIndex=n}function Uu(){return ce.lFrame.bindingIndex++}function _w(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function HP(){return ce.lFrame.inI18n}function zP(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,dg(e)}function qP(){return ce.lFrame.currentDirectiveIndex}function dg(n){ce.lFrame.currentDirectiveIndex=n}function WP(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Cw(){return ce.lFrame.currentQueryIndex}function am(n){ce.lFrame.currentQueryIndex=n}function GP(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[Nn]:null}function bw(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=GP(o),i===null||(o=o[is],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=ww();return r.currentTNode=e,r.lView=n,!0}function cm(n){let e=ww(),t=n[re];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ww(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?Ew(n):e}function Ew(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Dw(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function lm(){let n=Dw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function KP(n){return(ce.lFrame.contextLView=AP(n,ce.lFrame.contextLView))[An]}function Xi(){return ce.lFrame.selectedIndex}function Wi(n){ce.lFrame.selectedIndex=n}function um(){let n=ce.lFrame;return uw(n.tView,n.selectedIndex)}function YP(){return ce.lFrame.currentNamespace}function Bu(){return Sw}function $u(n){Sw=n}function QP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Hu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Yl(n,e,t){Iw(n,e,3,t)}function Ql(n,e,t,r){(n[Q]&3)===t&&Iw(n,e,t,r)}function Hp(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function Iw(n,e,t,r){let i=r!==void 0?n[$o]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[$o]+=65536),(a<o||o==-1)&&(ZP(n,t,e,c),n[$o]=(n[$o]&4294901760)+c+2),c++}function ib(n,e){Jn(4,n,e);let t=me(null);try{e.call(n)}finally{me(t),Jn(5,n,e)}}function ZP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[$o]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,ib(a,o)):ib(a,o)}function JP(n){return n instanceof Gi}function XP(n){return(n.flags&8)!==0}function eA(n){return(n.flags&16)!==0}function xw(n){return n!==Wo}function cu(n){return n&32767}function tA(n){return n>>16}function lu(n,e){let t=tA(n),r=e;for(;t>0;)r=r[is],t--;return r}function uu(n){let e=hg;return hg=n,e}function iA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ya)&&(r=t[ya]),r==null&&(r=t[ya]=rA++);let i=r&Tw,o=1<<i;e.data[n+(i>>Ow)]|=o}function du(n,e){let t=Pw(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,qp(r.data,n),qp(e,null),qp(r.blueprint,null));let i=dm(n,e),o=n.injectorIndex;if(xw(i)){let s=cu(i),a=lu(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function qp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Pw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function dm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Fw(i),r===null)return Wo;if(t++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Wo}function pg(n,e,t){iA(n,e,t)}function oA(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(zb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Aw(n,e,t){if(t&ae.Optional||n!==void 0)return n;Kg(e,"NodeInjector")}function Nw(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),!(t&(ae.Self|ae.Host))){let i=n[Qo],o=Ut(void 0);try{return i?i.get(e,r,t&ae.Optional):Vb(e,r,t&ae.Optional)}finally{Ut(o)}}return Aw(r,e,t)}function kw(n,e,t,r=ae.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ae.Self)){let s=lA(n,e,t,r,Xn);if(s!==Xn)return s}let o=Rw(n,e,t,r,Xn);if(o!==Xn)return o}return Nw(e,t,r,i)}function Rw(n,e,t,r,i){let o=aA(t);if(typeof o=="function"){if(!bw(e,n,r))return r&ae.Host?Aw(i,t,r):Nw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))Kg(t);else return s}finally{Mw()}}else if(typeof o=="number"){let s=null,a=Pw(n,e),c=Wo,l=r&ae.Host?e[nr][Nn]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?dm(n,e):e[a+8],c===Wo||!sb(r,!1)?a=-1:(s=e[re],a=cu(c),e=lu(c,e)));a!==-1;){let u=e[re];if(ob(o,a,u.data)){let d=sA(a,e,t,s,r,l);if(d!==Xn)return d}c=e[a+8],c!==Wo&&sb(r,e[re].data[a+8]===l)&&ob(o,a,e)?(s=u,a=cu(c),e=lu(c,e)):a=-1}}return i}function sA(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],c=r==null?Fu(a)&&hg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,u=Zl(a,s,t,c,l);return u!==null?Ki(e,s,u,a):Xn}function Zl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let C=s[g];if(g<c&&t===C||g>=c&&C.type===t)return g}if(i){let g=s[c];if(g&&ei(g)&&g.type===t)return c}return null}function Ki(n,e,t,r){let i=n[t],o=e.data;if(JP(i)){let s=i;s.resolving&&LO(FO(o[t]));let a=uu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ut(s.injectImpl):null,u=bw(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&QP(t,o[t],e)}finally{l!==null&&Ut(l),uu(a),s.resolving=!1,Mw()}}return i}function aA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ya)?n[ya]:void 0;return typeof e=="number"?e>=0?e&Tw:cA:e}function ob(n,e,t){let r=1<<n;return!!(t[e+(n>>Ow)]&r)}function sb(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}function cA(){return new Bi(gt(),le())}function eo(n){return Sa(()=>{let e=n.prototype.constructor,t=e[Xl]||gg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Xl]||gg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gg(n){return Ab(n)?()=>{let e=gg(Tt(n));return e&&e()}:$i(n)}function lA(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=Rw(o,s,t,r|ae.Self,Xn);if(a!==Xn)return a;let c=o.parent;if(!c){let l=s[rw];if(l){let u=l.get(t,Xn,r);if(u!==Xn)return u}c=Fw(s),s=s[is]}o=c}return i}function Fw(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[Nn]:null}function fm(n){return oA(gt(),n)}function ab(n,e=null,t=null,r){let i=Lw(n,e,t,r);return i.resolveInjectorInitializers(),i}function Lw(n,e=null,t=null,r,i=new Set){let o=[t||Bt,fP(n)];return r=r||(typeof n=="object"?void 0:Ot(n)),new wa(o,e||tm(),r||null,i)}function Wp(n){return n[dA]}function fA(){return new mg(le())}function fu(...n){}function jw(n){let e,t;function r(){n=fu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cb(n){return queueMicrotask(()=>n()),()=>{n=fu}}function pm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){jw(()=>{n.callbackScheduled=!1,yg(n),n.isCheckStableRunning=!0,pm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),yg(n)}function mA(n){let e=()=>{gA(n)},t=hA++;n._inner=n._inner.fork({name:"angular",properties:{[hm]:!0,[hu]:t,[hu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(vA(c))return r.invokeTask(o,s,a,c);try{return lb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ub(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return lb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!yA(c)&&e(),ub(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,yg(n),pm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function yg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function lb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ub(n){n._nesting--,pm(n)}function vA(n){return Uw(n,"__ignore_ng_zone__")}function yA(n){return Uw(n,"__scheduler_tick__")}function Uw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function _A(n="zone.js",e){return n==="noop"?new pu:n==="zone.js"?new ye(e):n}function bA(){return os(gt(),le())}function os(n,e){return new Nt(fn(n,e))}function wA(n){return n instanceof Nt?n.nativeElement:n}function EA(){return this._results[Symbol.iterator]()}function Bw(n){return(n.flags&128)===128}function MA(){return DA++}function SA(n){$w.set(n[Ru],n)}function Cg(n){$w.delete(n[Ru])}function ti(n,e){Zr(e)?(n[db]=e[Ru],SA(e)):n[db]=e}function Hw(n){return qw(n[Ea])}function zw(n){return qw(n[Pn])}function qw(n){for(;n!==null&&!wr(n);)n=n[Pn];return n}function Ww(n){bg=n}function IA(){if(bg!==void 0)return bg;if(typeof document<"u")return document;throw new M(210,!1)}function ym(n,e,t=!1){return PA(n,e,t)}function NA(){if(Hl===void 0&&(Hl=null,xt.trustedTypes))try{Hl=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hl}function fb(n){return NA()?.createScriptURL(n)||n}function ss(n){return n instanceof gu?n.changingThisBreaksApplicationSecurity:n}function _m(n,e){let t=kA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ob})`)}return t===e}function kA(n){return n instanceof gu&&n.getTypeName()||null}function Kw(n){return n=String(n),n.match(RA)?n:"unsafe:"+n}function at(n){let e=Qw();return e?e.sanitize(qu.URL,n)||"":_m(n,"URL")?ss(n):Kw(Pu(n))}function FA(n){let e=Qw();if(e)return fb(e.sanitize(qu.RESOURCE_URL,n)||"");if(_m(n,"ResourceURL"))return fb(ss(n));throw new M(904,!1)}function LA(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?FA:at}function Yw(n,e,t){return LA(e,t)(n)}function Qw(){let n=le();return n&&n[tr].sanitizer}function BA(n){return n.replace(VA,e=>e.replace(jA,UA))}function Zw(n){return n instanceof Function?n():n}function $A(n){return(n??y(Ze)).get(Yt)==="browser"}function Cm(n,e){return HA(n,e)}function Ho(n,e,t,r,i){if(r!=null){let o,s=!1;wr(r)?o=r:Zr(r)&&(s=!0,r=r[br]);let a=rr(r);n===0&&t!==null?i==null?nE(e,t,a):mu(e,t,a,i||null,!0):n===1&&t!==null?mu(e,t,a,i||null,!0):n===2?o1(e,a,s):n===3&&e.destroyNode(a),o!=null&&a1(e,n,o,t,i)}}function zA(n,e){return n.createText(e)}function qA(n,e,t){n.setValue(e,t)}function WA(n,e){return n.createComment(BA(e))}function Jw(n,e,t){return n.createElement(e,t)}function GA(n,e){Xw(n,e),e[br]=null,e[Nn]=null}function KA(n,e,t,r,i,o){r[br]=i,r[Nn]=e,Gu(n,r,t,1,i,o)}function Xw(n,e){e[tr].changeDetectionScheduler?.notify(9),Gu(n,e,e[We],2,null,null)}function YA(n){let e=n[Ea];if(!e)return Gp(n[re],n);for(;e;){let t=null;if(Zr(e))t=e[Ea];else{let r=e[Gt];r&&(t=r)}if(!t){for(;e&&!e[Pn]&&e!==n;)Zr(e)&&Gp(e[re],e),e=e[yt];e===null&&(e=n),Zr(e)&&Gp(e[re],e),t=e&&e[Pn]}e=t}}function QA(n,e,t,r){let i=Gt+r,o=t.length;r>0&&(t[i-1][Pn]=e),r<o-Gt?(e[Pn]=t[i],Ub(t,Gt+r,e)):(t.push(e),e[Pn]=null),e[yt]=t;let s=e[Hi];s!==null&&t!==s&&eE(s,e);let a=e[vr];a!==null&&a.insertView(n),ug(e),e[Q]|=128}function eE(n,e){let t=n[Zo],r=e[yt];if(Zr(r))n[Q]|=au.HasTransplantedViews;else{let i=r[yt][nr];e[nr]!==i&&(n[Q]|=au.HasTransplantedViews)}t===null?n[Zo]=[e]:t.push(e)}function bm(n,e){let t=n[Zo],r=t.indexOf(e);t.splice(r,1)}function wg(n,e){if(n.length<=Gt)return;let t=Gt+e,r=n[t];if(r){let i=r[Hi];i!==null&&i!==n&&bm(i,r),e>0&&(n[t-1][Pn]=r[Pn]);let o=tu(n,Gt+e);GA(r[re],r);let s=o[vr];s!==null&&s.detachView(o[re]),r[yt]=null,r[Pn]=null,r[Q]&=-129}return r}function tE(n,e){if(!(e[Q]&256)){let t=e[We];t.destroyNode&&Gu(n,e,t,3,null,null),YA(e)}}function Gp(n,e){if(e[Q]&256)return;let t=me(null);try{e[Q]&=-129,e[Q]|=256,e[un]&&$h(e[un]),JA(n,e),ZA(n,e),e[re].type===1&&e[We].destroy();let r=e[Hi];if(r!==null&&wr(e[yt])){r!==e[yt]&&bm(r,e);let i=e[vr];i!==null&&i.detachView(n)}Cg(e)}finally{me(t)}}function ZA(n,e){let t=n.cleanup,r=e[ou];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[ou]=null);let i=e[Qr];if(i!==null){e[Qr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function JA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Gi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Jn(4,a,c);try{c.call(a)}finally{Jn(5,a,c)}}else{Jn(4,i,o);try{o.call(i)}finally{Jn(5,i,o)}}}}}function XA(n,e,t){return e1(n,e.parent,t)}function e1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[br];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===er.None||o===er.Emulated)return null}return fn(r,t)}}function mu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nE(n,e,t){n.appendChild(e,t)}function hb(n,e,t,r,i){r!==null?mu(n,e,t,r,i):nE(n,e,t)}function rE(n,e){return n.parentNode(e)}function t1(n,e){return n.nextSibling(e)}function n1(n,e,t){return i1(n,e,t)}function r1(n,e,t){return n.type&40?fn(n,t):null}function Wu(n,e,t,r){let i=XA(n,r,e),o=e[We],s=r.parent||e[Nn],a=n1(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)hb(o,i,t[c],a,!1);else hb(o,i,t,a,!1);pb!==void 0&&pb(o,r,e,t,i)}function va(n,e){if(e!==null){let t=e.type;if(t&3)return fn(e,n);if(t&4)return Eg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return va(n,r);{let i=n[e.index];return wr(i)?Eg(-1,i):rr(i)}}else{if(t&128)return va(n,e.next);if(t&32)return Cm(e,n)()||rr(n[e.index]);{let r=iE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qi(n[nr]);return va(i,r)}else return va(n,e.next)}}}return null}function iE(n,e){if(e!==null){let r=n[nr][Nn],i=e.projection;return r.projection[i]}return null}function Eg(n,e){let t=Gt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return va(r,i)}return e[zi]}function o1(n,e,t){n.removeChild(null,e,t)}function wm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&ti(rr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)wm(n,e,t.child,r,i,o,!1),Ho(e,n,i,a,o);else if(c&32){let l=Cm(t,r),u;for(;u=l();)Ho(e,n,i,u,o);Ho(e,n,i,a,o)}else c&16?s1(n,e,r,t,i,o):Ho(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Gu(n,e,t,r,i,o){wm(t,r,n.firstChild,e,i,o,!1)}function s1(n,e,t,r,i,o){let s=t[nr],c=s[Nn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ho(e,n,i,u,o)}else{let l=c,u=s[yt];Bw(r)&&(l.flags|=128),wm(n,e,l,u,i,o,!0)}}function a1(n,e,t,r,i){let o=t[zi],s=rr(t);o!==s&&Ho(e,n,r,o,i);for(let a=Gt;a<t.length;a++){let c=t[a];Gu(c[re],c,n,e,r,o)}}function c1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:_r.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=_r.Important),n.setStyle(t,r,i,o))}}function l1(n,e,t){n.setAttribute(e,"style",t)}function oE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ig(n,e,r),i!==null&&oE(n,e,i),o!==null&&l1(n,e,o)}function _(n=1){aE(Je(),le(),Xi()+n,!1)}function aE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Yl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ql(e,o,0,t)}Wi(t)}function D(n,e=ae.Default){let t=le();if(t===null)return A(n,e);let r=gt();return kw(r,t,Tt(n),e)}function cE(){let n="invalid";throw new Error(n)}function lE(n,e,t,r,i,o){let s=me(null);try{let a=null;i&Jr.SignalBased&&(a=e[r][hr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Jr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):ow(e,a,r,o)}finally{me(s)}}function u1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Wi(~i);else{let o=i,s=t[++r],a=t[++r];zP(s,o);let c=e[o];a(2,c)}}}finally{Wi(-1)}}function Ku(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[br]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),dw(d),d[yt]=d[is]=n,d[An]=t,d[tr]=s||n&&n[tr],d[We]=a||n&&n[We],d[Qo]=c||n&&n[Qo]||null,d[Nn]=o,d[Ru]=MA(),d[iu]=u,d[rw]=l,d[nr]=e.type==2?n[nr]:d,d}function Ta(n,e,t,r,i){let o=n.data[e];if(o===null)o=d1(n,e,t,r,i),HP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=UP();o.injectorIndex=s===null?-1:s.injectorIndex}return Ji(o,!0),o}function d1(n,e,t,r,i){let o=mw(),s=sm(),a=s?o:o&&o.parent,c=n.data[e]=v1(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function uE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function dE(n,e,t,r,i){let o=Xi(),s=r&2;try{Wi(-1),s&&e.length>Kt&&aE(n,e,Kt,!1),Jn(s?2:0,i),t(r,i)}finally{Wi(o),Jn(s?3:1,i)}}function Em(n,e,t){if(rm(e)){let r=me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{me(r)}}}function Dm(n,e,t){gw()&&(E1(n,e,t,fn(t,e)),(t.flags&64)===64&&gE(n,e,t))}function Mm(n,e,t=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function fE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Sm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Sm(n,e,t,r,i,o,s,a,c,l,u){let d=Kt+r,m=d+i,g=f1(d,m),C=typeof l=="function"?l():l;return g[re]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:u}}function f1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:or);return t}function h1(n,e,t,r){let o=r.get(AA,Gw)||t===er.ShadowDom,s=n.selectRootElement(e,o);return p1(s),s}function p1(n){g1(n)}function m1(n,e,t,r){let i=yE(e);i.push(t),n.firstCreatePass&&_E(n).push(r,i.length-1)}function v1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return LP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Jr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?mb(r,t,l,a,c):mb(r,t,l,a)}return r}function mb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function y1(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,g=m?m.inputs:null,C=m?m.outputs:null;c=gb(0,d.inputs,u,c,g),l=gb(1,d.outputs,u,l,C);let w=c!==null&&s!==null&&!Jg(e)?k1(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _1(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function hE(n,e,t,r,i,o,s,a){let c=fn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(xm(n,t,u,r,i),Fu(e)&&C1(t,e.index)):e.type&3?(r=_1(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function C1(n,e){let t=ii(e,n);t[Q]&16||(t[Q]|=64)}function Im(n,e,t,r){if(gw()){let i=r===null?null:{"":-1},o=M1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&pE(n,e,t,s,i,a),i&&S1(t,r,i)}t.mergedAttrs=ba(t.mergedAttrs,t.attrs)}function pE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)pg(du(t,e),n,r[l].type);x1(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=uE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=ba(t.mergedAttrs,u.hostAttrs),T1(n,t,e,c,u),I1(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}y1(n,t,o)}function b1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;w1(s)!=a&&s.push(a),s.push(t,r,o)}}function w1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function E1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Fu(t)&&O1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||du(t,e),ti(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Ki(e,n,a,t);if(ti(l,e),s!==null&&N1(e,a-i,l,c,t,s),ei(c)){let u=ii(t.index,e);u[An]=Ki(e,n,a,t)}}}function gE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=qP();try{Wi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];dg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&D1(c,l)}}finally{Wi(-1),dg(s)}}function D1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function M1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(rP(e,s.selectors,!1))if(r||(r=[]),ei(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Dg(n,e,c)}else r.unshift(s),Dg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Dg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function S1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function I1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ei(e)&&(t[""]=n)}}function x1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function T1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=$i(i.type,!0)),s=new Gi(o,ei(i),D);n.blueprint[r]=s,t[r]=s,b1(n,e,r,uE(n,t,i.hostVars,or),i)}function O1(n,e,t){let r=fn(e,n),i=fE(t),o=n[tr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Yu(n,Ku(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function P1(n,e,t,r,i,o){let s=fn(n,e);A1(e[We],s,o,n.value,t,r,i)}function A1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Pu(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function N1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];lE(r,t,c,l,u,d)}}function k1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function mE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function vE(n,e){let t=n.contentQueries;if(t!==null){let r=me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];am(o),a.contentQueries(2,e[s],s)}}}finally{me(r)}}}function Yu(n,e){return n[Ea]?n[tb][Pn]=e:n[Ea]=e,n[tb]=e,e}function Mg(n,e,t){am(0);let r=me(null);try{e(n,t)}finally{me(r)}}function yE(n){return n[ou]??=[]}function _E(n){return n.cleanup??=[]}function CE(n,e){let t=n[Qo],r=t?t.get(yr,null):null;r&&r.handleError(e)}function xm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];lE(u,l,r,a,c,i)}}function R1(n,e,t){let r=lw(e,n);qA(n[We],r,t)}function F1(n,e){let t=ii(e,n),r=t[re];L1(r,t);let i=t[br];i!==null&&t[iu]===null&&(t[iu]=ym(i,t[Qo])),Tm(r,t,t[An])}function L1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Tm(n,e,t){cm(e);try{let r=n.viewQuery;r!==null&&Mg(1,r,t);let i=n.template;i!==null&&dE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[vr]?.finishViewCreation(n),n.staticContentQueries&&vE(n,e),n.staticViewQueries&&Mg(2,n.viewQuery,t);let o=n.components;o!==null&&V1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,lm()}}function V1(n,e){for(let t=0;t<e.length;t++)F1(n,e[t])}function j1(n,e,t,r){let i=me(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=Ku(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Hi]=l;let u=n[vr];return u!==null&&(c[vr]=u.createEmbeddedView(o)),Tm(o,c,t),c}finally{me(i)}}function vb(n,e){return!e||e.firstChild===null||Bw(n)}function U1(n,e,t,r=!0){let i=e[re];if(QA(i,e,n,t),r){let s=Eg(t,n),a=e[We],c=rE(a,n[zi]);c!==null&&KA(i,n[Nn],a,e,c,s)}let o=e[iu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(rr(o)),wr(o)&&B1(o,r);let s=t.type;if(s&8)vu(n,e,t.child,r);else if(s&32){let a=Cm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=iE(e,t);if(Array.isArray(a))r.push(...a);else{let c=qi(e[nr]);vu(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function B1(n,e){for(let t=Gt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&vu(r[re],r,i,e)}n[zi]!==n[br]&&e.push(n[zi])}function $1(n){return n[un]??H1(n)}function H1(n){let e=bE.pop()??Object.create(q1);return e.lView=n,e}function z1(n){n.lView[un]!==n&&(n.lView=null,bE.push(n))}function W1(n){let e=n[un]??Object.create(G1);return e.lView=n,e}function wE(n){return n.type!==2}function EE(n,e=!0,t=0){let r=n[tr],i=r.rendererFactory,o=!1;o||i.begin?.();try{Y1(n,t)}catch(s){throw e&&CE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Y1(n,e){let t=yw();try{rb(!0),Sg(n,e);let r=0;for(;Vu(n);){if(r===K1)throw new M(103,!1);r++,Sg(n,1)}}finally{rb(t)}}function Q1(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[tr].inlineEffectRunner?.flush(),cm(e);let a=!0,c=null,l=null;o||(wE(n)?(l=$1(e),c=el(l)):g0()===null?(a=!1,l=W1(e),c=el(l)):e[un]&&($h(e[un]),e[un]=null));try{dw(e),$P(n.bindingStartIndex),t!==null&&dE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&Yl(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Ql(e,g,0,null),Hp(e,0)}if(s||Z1(e),DE(e,0),n.contentQueries!==null&&vE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&Yl(e,g)}else{let g=n.contentHooks;g!==null&&Ql(e,g,1),Hp(e,1)}u1(n,e);let d=n.components;d!==null&&SE(e,d,0);let m=n.viewQuery;if(m!==null&&Mg(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&Yl(e,g)}else{let g=n.viewHooks;g!==null&&Ql(e,g,2),Hp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[$p]){for(let g of e[$p])g();e[$p]=null}o||(e[Q]&=-73)}catch(u){throw o||ju(e),u}finally{l!==null&&(Uh(l,c),a&&z1(l)),lm()}}function DE(n,e){for(let t=Hw(n);t!==null;t=zw(t))for(let r=Gt;r<t.length;r++){let i=t[r];ME(i,e)}}function Z1(n){for(let e=Hw(n);e!==null;e=zw(e)){if(!(e[Q]&au.HasTransplantedViews))continue;let t=e[Zo];for(let r=0;r<t.length;r++){let i=t[r];fw(i)}}}function J1(n,e,t){let r=ii(e,n);ME(r,t)}function ME(n,e){om(n)&&Sg(n,e)}function Sg(n,e){let r=n[re],i=n[Q],o=n[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bh(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)Q1(r,n,r.template,n[An]);else if(i&8192){DE(n,1);let a=r.components;a!==null&&SE(n,a,1)}}function SE(n,e,t){for(let r=0;r<e.length;r++)J1(n,e[r],t)}function Om(n,e){let t=yw()?64:1088;for(n[tr].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=qi(n);if(cg(n)&&!r)return n;n=r}return null}function tN(){return Qu(gt(),le())}function Qu(n,e){return n.type&4?new eN(e,n,os(n,e)):null}function yb(n,e){return nN(n,e)}function rN(n){let e=Error(`No component factory found for ${Ot(n)}.`);return e[iN]=n,e}function oN(){let n=le(),e=gt(),t=ii(e.index,n);return(Zr(t)?t:n)[We]}function _u(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=eg(i,a);else if(o==2){let c=a,l=e[++s];r=eg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function _b(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Jr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Jr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function aN(n){let e=n.toLowerCase();return e==="svg"?xP:e==="math"?TP:null}function cN(n,e){let t=n[re],r=Kt;return n[r]=e,Ta(t,r,2,"#host",null)}function lN(n,e,t,r,i,o,s){let a=i[re];uN(r,n,e,s);let c=null;e!==null&&(c=ym(e,i[Qo]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=Ku(i,fE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Dg(a,n,r.length-1),Yu(i,d),i[n.index]=d}function uN(n,e,t,r){for(let i of n)e.mergedAttrs=ba(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(_u(e,e.mergedAttrs,!0),t!==null&&sE(r,t,e))}function dN(n,e,t,r,i,o){let s=gt(),a=i[re],c=fn(s,i);pE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,m=Ki(i,a,d,s);ti(m,i)}gE(a,i,s),c&&ti(c,i);let l=Ki(i,a,s.directiveStart+s.componentOffset,s);if(n[An]=i[An]=l,o!==null)for(let u of o)u(l,e);return Em(a,s,i),l}function fN(n,e,t,r){if(r)ig(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=cP(e.selectors[0]);i&&ig(n,t,i),o&&o.length>0&&oE(n,t,o.join(" "))}}function hN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function pN(){let n=gt();Hu(le()[re],n)}function gN(){let n=gt();return OE(n,le())}function Cb(n){return n[su]}function Kp(n){return n[su]||(n[su]=[])}function OE(n,e){let t,r=e[n.index];return wr(r)?t=r:(t=mE(r,e,null,n),e[n.index]=t,Yu(e,t)),yN(t,e,n,r),new TE(t,n,e)}function vN(n,e){let t=n[We],r=t.createComment(""),i=fn(e,n),o=rE(t,i);return mu(t,o,r,t1(t,i),!1),r}function CN(n,e,t){return _N(n,e,t)}function bN(n,e,t,r){if(n[zi])return;let i;t.type&8?i=rr(r):i=vN(e,t),n[zi]=i}function wN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function EN(n,e){return n.type&11?os(n,e):n.type&4?Qu(n,e):null}function DN(n,e,t,r){return t===-1?EN(e,n):t===-2?MN(n,e,r):Ki(n,n[re],t,e)}function MN(n,e,t){if(t===Nt)return os(e,n);if(t===Qi)return Qu(e,n);if(t===oi)return OE(e,n)}function PE(n,e,t,r){let i=e[vr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(DN(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function kg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=PE(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Gt;d<u.length;d++){let m=u[d];m[Hi]===m[yt]&&kg(m[re],m,l,r)}if(u[Zo]!==null){let d=u[Zo];for(let m=0;m<d.length;m++){let g=d[m];kg(g[re],g,l,r)}}}}}return r}function SN(n,e){return n[vr].queries[e].queryList}function AE(n,e,t){let r=new _g((t&4)===4);return m1(n,e,r,r.destroy),(e[vr]??=new Pg).queries.push(new Og(r))-1}function IN(n,e,t){let r=Je();return r.firstCreatePass&&(NE(r,new bu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),AE(r,le(),e)}function xN(n,e,t,r){let i=Je();if(i.firstCreatePass){let o=gt();NE(i,new bu(e,t,r),o.index),ON(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return AE(i,le(),t)}function TN(n){return n.split(",").map(e=>e.trim())}function NE(n,e,t){n.queries===null&&(n.queries=new Ag),n.queries.track(new Ng(e,t))}function ON(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Am(n,e){return n.queries.getByIndex(e)}function PN(n,e){let t=n[re],r=Am(t,e);return r.crossesNgTemplate?kg(t,n,e,[]):PE(t,n,r,e)}function to(n){bb.has(n)||(bb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function AN(n){return typeof n=="function"&&n[hr]!==void 0}function no(n,e){to("NgSignals");let t=S0(n),r=t[hr];return e?.equal&&(r.equal=e.equal),t.set=i=>Hh(r,i),t.update=i=>I0(r,i),t.asReadonly=NN.bind(t),t}function NN(){let n=this[hr];if(n.readonlyFn===void 0){let e=()=>this();e[hr]=n,n.readonlyFn=e}return n.readonlyFn}function kE(n){return AN(n)&&typeof n.set=="function"}function kN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(VN))}return o}return wu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>jN(o));e.push(c)}),FN(),Promise.all(e).then(()=>{})}function FN(){let n=wu;return wu=new Map,n}function LN(){return wu.size===0}function VN(n){return typeof n=="string"?n:n.text()}function jN(n){RN.delete(n)}function UN(n){return Object.getPrototypeOf(n.prototype).constructor}function hn(n){let e=UN(n.type),t=!0,r=[n];for(;e;){let i;if(ei(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=zl(n.inputs),s.inputTransforms=zl(n.inputTransforms),s.declaredInputs=zl(n.declaredInputs),s.outputs=zl(n.outputs);let a=i.hostBindings;a&&qN(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&HN(n,c),l&&zN(n,l),BN(n,i),xO(n.outputs,i.outputs),ei(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===hn&&(t=!1)}}e=Object.getPrototypeOf(e)}$N(r)}function BN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function $N(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ba(i.hostAttrs,t=ba(t,i.hostAttrs))}}function zl(n){return n===Go?{}:n===Bt?[]:n}function HN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function zN(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function qN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Nm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function WN(n,e,t){return new Eu(n,e,t,!1)}function Zu(n,e,t=null){return new Rg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function RE(n){return KN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function GN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function KN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function km(n,e,t){return n[e]=t}function YN(n,e){return n[e]}function Cr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function QN(n,e,t,r){let i=Cr(n,e,t);return Cr(n,e+1,r)||i}function ZN(n){return(n.flags&32)===32}function JN(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ta(e,n,4,s||null,a||null);Im(e,t,u,Jo(l,c)),Hu(e,u);let d=u.tView=Sm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function XN(n,e,t,r,i,o,s,a,c,l){let u=t+Kt,d=e.firstCreatePass?JN(u,e,n,r,i,o,s,a,c):e.data[u];Ji(d,!1);let m=ek(e,n,d,t);Bu()&&Wu(e,n,m,d),ti(m,n);let g=mE(m,n,m,d);return n[u]=g,Yu(n,g),CN(g,d,n),Lu(d)&&Dm(e,n,d),c!=null&&Mm(n,d,l),d}function N(n,e,t,r,i,o,s,a){let c=le(),l=Je(),u=Jo(l.consts,o);return XN(c,l,n,e,t,r,i,u,s,a),N}function tk(n,e,t,r){return $u(!0),e[We].createComment("")}function Rm(n,e){!e?.injector&&nm(Rm);let t=e?.injector??y(Ze);return $A(t)?(to("NgAfterNextRender"),rk(n,t,e,!0)):ik}function nk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function rk(n,e,t,r){let i=e.get(FE);i.impl??=e.get(Fg);let o=t?.phase??zo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(At):null,a=new Lg(i.impl,nk(n,o),r,s);return i.impl.register(a),a}function as(n,e,t,r){let i=le(),o=Uu();if(Cr(i,o,e)){let s=Je(),a=um();P1(a,i,n,e,t,r)}return as}function LE(n,e,t,r){return Cr(n,Uu(),t)?e+Pu(t)+r:or}function ql(n,e){return n<<17|e<<2}function Zi(n){return n>>17&32767}function ok(n){return(n&2)==2}function sk(n,e){return n&131071|e<<17}function Vg(n){return n|2}function ns(n){return(n&131068)>>2}function Yp(n,e){return n&-131069|e<<2}function ak(n){return(n&1)===1}function jg(n){return n|1}function ck(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Zi(s),c=ns(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ia(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let m=Zi(n[a+1]);n[r+1]=ql(m,a),m!==0&&(n[m+1]=Yp(n[m+1],r)),n[a+1]=sk(n[a+1],r)}else n[r+1]=ql(a,0),a!==0&&(n[a+1]=Yp(n[a+1],r)),a=r;else n[r+1]=ql(c,0),a===0?a=r:n[c+1]=Yp(n[c+1],r),c=r;l&&(n[r+1]=Vg(n[r+1])),wb(n,u,r,!0),wb(n,u,r,!1),lk(e,u,n,r,o),s=ql(a,c),o?e.classBindings=s:e.styleBindings=s}function lk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ia(o,e)>=0&&(t[r+1]=jg(t[r+1]))}function wb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Zi(i):ns(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];uk(c,e)&&(a=!0,n[s+1]=r?jg(l):Vg(l)),s=r?Zi(l):ns(l)}a&&(n[t+1]=r?Vg(i):jg(i))}function uk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ia(n,e)>=0:!1}function dk(n){return n.substring(On.key,On.keyEnd)}function fk(n){return hk(n),VE(n,jE(n,0,On.textEnd))}function VE(n,e){let t=On.textEnd;return t===e?-1:(e=On.keyEnd=pk(n,On.key=e,t),jE(n,e,t))}function hk(n){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=n.length}function jE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function pk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=le(),i=Uu();if(Cr(r,i,e)){let o=Je(),s=um();hE(o,s,r,n,e,r[We],t,!1)}return b}function Ug(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";xm(n,t,o[s],s,r)}function Ju(n,e){return mk(n,e,null,!0),Ju}function gk(n,e){for(let t=fk(e);t>=0;t=VE(e,t))Zg(n,dk(e),!0)}function mk(n,e,t,r){let i=le(),o=Je(),s=_w(2);if(o.firstUpdatePass&&BE(o,n,s,r),e!==or&&Cr(i,s,e)){let a=o.data[Xi()];$E(o,a,i,i[We],n,i[s+1]=Dk(e,t),r,s)}}function vk(n,e,t,r){let i=Je(),o=_w(2);i.firstUpdatePass&&BE(i,null,o,r);let s=le();if(t!==or&&Cr(s,o,t)){let a=i.data[Xi()];if(HE(a,r)&&!UE(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=eg(c,t||"")),Ug(i,a,s,t,r)}else Ek(i,a,s,s[We],s[o+1],s[o+1]=wk(n,e,t),r,o)}}function UE(n,e){return e>=n.expandoStartIndex}function BE(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Xi()],s=UE(n,t);HE(o,r)&&e===null&&!s&&(e=!1),e=yk(i,o,e,r),ck(i,o,e,t,s,r)}}function yk(n,e,t,r){let i=WP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Qp(null,n,e,t,r),t=Ma(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Qp(i,n,e,t,r),o===null){let c=_k(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Qp(null,n,e,c[1],r),c=Ma(c,e.attrs,r),Ck(n,e,r,c))}else o=bk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function _k(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ns(r)!==0)return n[Zi(r)]}function Ck(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Zi(i)]=r}function bk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ma(r,s,t)}return Ma(r,e.attrs,t)}function Qp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ma(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ma(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Zg(n,s,t?!0:e[++o]))}return n===void 0?null:n}function wk(n,e,t){if(t==null||t==="")return Bt;let r=[],i=ss(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Ek(n,e,t,r,i,o,s,a){i===or&&(i=Bt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,C=null,w;u===d?(c+=2,l+=2,m!==g&&(C=d,w=g)):d===null||u!==null&&u<d?(c+=2,C=u):(l+=2,C=d,w=g),C!==null&&$E(n,e,t,r,C,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function $E(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=ak(l)?Eb(c,e,t,i,ns(l),s):void 0;if(!Mu(u)){Mu(o)||ok(l)&&(o=Eb(c,null,t,i,a,s));let d=lw(Xi(),t);c1(r,s,d,i,o)}}function Eb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=t[i+1];m===or&&(m=d?Bt:void 0);let g=d?Up(m,r):u===r?m:void 0;if(l&&!Mu(g)&&(g=Up(c,r)),Mu(g)&&(a=g,s))return a;let C=n[i+1];i=s?Zi(C):ns(C)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Up(c,r))}return a}function Mu(n){return n!==void 0}function Dk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ot(ss(n)))),n}function HE(n,e){return(n.flags&(e?8:16))!==0}function zE(n,e,t){let r=le(),i=LE(r,n,e,t);vk(Zg,gk,i,!0)}function Mk(n,e,t,r,i,o){let s=e.consts,a=Jo(s,i),c=Ta(e,n,2,r,a);return Im(e,t,c,Jo(s,o)),c.attrs!==null&&_u(c,c.attrs,!1),c.mergedAttrs!==null&&_u(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(n,e,t,r){let i=le(),o=Je(),s=Kt+n,a=i[We],c=o.firstCreatePass?Mk(s,o,i,e,t,r):o.data[s],l=Sk(o,i,c,a,e,n);i[s]=l;let u=Lu(c);return Ji(c,!0),sE(a,l,c),!ZN(c)&&Bu()&&Wu(o,i,l,c),kP()===0&&ti(l,i),RP(),u&&(Dm(o,i,c),Em(o,c,i)),r!==null&&Mm(i,c),h}function f(){let n=gt();sm()?vw():(n=n.parent,Ji(n,!1));let e=n;VP(e)&&jP(),FP();let t=Je();return t.firstCreatePass&&(Hu(t,n),rm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&XP(e)&&Ug(t,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eA(e)&&Ug(t,e,le(),e.stylesWithoutHost,!1),f}function R(n,e,t,r){return h(n,e,t,r),f(),R}function Ik(n,e,t,r,i){let o=e.consts,s=Jo(o,r),a=Ta(e,n,8,"ng-container",s);s!==null&&_u(a,s,!0);let c=Jo(o,i);return Im(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function _t(n,e,t){let r=le(),i=Je(),o=n+Kt,s=i.firstCreatePass?Ik(o,i,r,e,t):i.data[o];Ji(s,!0);let a=xk(i,r,s,n);return r[o]=a,Bu()&&Wu(i,r,a,s),ti(a,r),Lu(s)&&(Dm(i,r,s),Em(i,s,r)),t!=null&&Mm(r,s),_t}function Ct(){let n=gt(),e=Je();return sm()?vw():(n=n.parent,Ji(n,!1)),e.firstCreatePass&&(Hu(e,n),rm(n)&&e.queries.elementEnd(n)),Ct}function Y(){return le()}function Tk(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function pn(n){let e=Pk(n),t=Db(e);if(t)return t;let r=e.split("-")[0];if(t=Db(r),t)return t;if(r==="en")return Ok;throw new M(701,!1)}function Db(n){return n in Zp||(Zp[n]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[n]),Zp[n]}function Pk(n){return n.toLowerCase().replace(/_/g,"-")}function Nk(n){typeof n=="string"&&(Ak=n.toLowerCase().replace(/_/g,"-"))}function T(n,e,t,r){let i=le(),o=Je(),s=gt();return qE(o,i,i[We],s,n,e,r),T}function Rk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ou],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function qE(n,e,t,r,i,o,s){let a=Lu(r),l=n.firstCreatePass&&_E(n),u=e[An],d=yE(e),m=!0;if(r.type&3||s){let w=fn(r,e),P=s?s(w):w,B=d.length,oe=s?ue=>s(rr(ue[r.index])):r.index,K=null;if(!s&&a&&(K=Rk(n,e,i,r.index)),K!==null){let ue=K.__ngLastListenerFn__||K;ue.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,m=!1}else{o=Sb(r,e,u,o),kk(w,i,o);let ue=t.listen(P,i,o);d.push(o,ue),l&&l.push(i,oe,B,B+1)}}else o=Sb(r,e,u,o);let g=r.outputs,C;if(m&&g!==null&&(C=g[i])){let w=C.length;if(w)for(let P=0;P<w;P+=2){let B=C[P],oe=C[P+1],ze=e[B][oe].subscribe(o),Ee=d.length;d.push(o,ze),l&&l.push(i,r.index,Ee,-(Ee+1))}}}function Mb(n,e,t,r){let i=me(null);try{return Jn(6,e,t),t(r)!==!1}catch(o){return CE(n,o),!1}finally{Jn(7,e,t),me(i)}}function Sb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?ii(n.index,e):e;Om(s,5);let a=Mb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Mb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function x(n=1){return KP(n)}function WE(n,e,t,r){xN(n,e,t,r)}function Xu(n,e,t){IN(n,e,t)}function cs(n){let e=le(),t=Je(),r=Cw();am(r+1);let i=Am(t,r);if(n.dirty&&OP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=PN(e,r);n.reset(o,wA),n.notifyOnChanges()}return!0}return!1}function ls(){return SN(le(),Cw())}function Fk(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function bt(n){let e=BP();return im(e,Kt+n)}function v(n,e=""){let t=le(),r=Je(),i=n+Kt,o=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],s=Lk(r,t,o,e,n);t[i]=s,Bu()&&Wu(r,t,s,o),Ji(o,!1)}function wt(n){return _e("",n,""),wt}function _e(n,e,t){let r=le(),i=LE(r,n,e,t);return i!==or&&R1(r,Xi(),i),_e}function gn(n,e,t){kE(e)&&(e=e());let r=le(),i=Uu();if(Cr(r,i,e)){let o=Je(),s=um();hE(o,s,r,n,e,r[We],t,!1)}return gn}function Rn(n,e){let t=kE(n);return t&&n.set(e),t}function mn(n,e){let t=le(),r=Je(),i=gt();return qE(r,t,t[We],i,n,e),mn}function Vk(n,e,t){let r=Je();if(r.firstCreatePass){let i=ei(n);Bg(t,r.data,r.blueprint,i,!0),Bg(e,r.data,r.blueprint,i,!1)}}function Bg(n,e,t,r,i){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Bg(n[o],e,t,r,i);else{let o=Je(),s=le(),a=gt(),c=Yo(n)?n:Tt(n.provide),l=tw(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(Yo(n)||!n.multi){let g=new Gi(l,i,D),C=Xp(c,e,i?u:u+m,d);C===-1?(pg(du(a,s),o,c),Jp(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[C]=g,s[C]=g)}else{let g=Xp(c,e,u+m,d),C=Xp(c,e,u,u+m),w=g>=0&&t[g],P=C>=0&&t[C];if(i&&!P||!i&&!w){pg(du(a,s),o,c);let B=Bk(i?Uk:jk,t.length,i,r,l);!i&&P&&(t[C].providerFactory=B),Jp(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=GE(t[i?C:g],l,!i&&r);Jp(o,n,g>-1?g:C,B)}!i&&r&&P&&t[C].componentProviders++}}}function Jp(n,e,t,r){let i=Yo(e),o=mP(e);if(i||o){let c=(o?Tt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function GE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Xp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function jk(n,e,t,r){return $g(this.multi,[])}function Uk(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ki(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),$g(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],$g(i,o);return o}function $g(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Bk(n,e,t,r,i){let o=new Gi(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,GE(o,i,r&&!t),o}function ct(n,e=[]){return t=>{t.providersResolver=(r,i)=>Vk(r,i?i(n):n,e)}}function KE(n){to("NgStandalone"),n.getStandaloneInjector=e=>e.get($k).getOrCreateStandaloneInjector(n)}function YE(n,e,t){let r=n.\u0275cmp;r.directiveDefs=ru(e,!1),r.pipeDefs=ru(t,!0)}function us(n,e,t){let r=xa()+n,i=le();return i[r]===or?km(i,r,t?e.call(t):e()):YN(i,r)}function ds(n,e,t,r){return JE(le(),xa(),n,e,t,r)}function QE(n,e,t,r,i){return XE(le(),xa(),n,e,t,r,i)}function ZE(n,e){let t=n[e];return t===or?void 0:t}function JE(n,e,t,r,i,o){let s=e+t;return Cr(n,s,i)?km(n,s+1,o?r.call(o,i):r(i)):ZE(n,s+1)}function XE(n,e,t,r,i,o,s){let a=e+t;return QN(n,a,i,o)?km(n,a+2,s?r.call(s,i,o):r(i,o)):ZE(n,a+2)}function kt(n,e){let t=Je(),r,i=n+Kt;t.firstCreatePass?(r=Hk(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=$i(r.type,!0)),s,a=Ut(D);try{let c=uu(!1),l=o();return uu(c),Fk(t,le(),i,l),l}finally{Ut(a)}}function Hk(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function $t(n,e,t){let r=n+Kt,i=le(),o=im(i,r);return tD(i,r)?JE(i,xa(),e,o.transform,t,o):o.transform(t)}function eD(n,e,t,r){let i=n+Kt,o=le(),s=im(o,i);return tD(o,i)?XE(o,xa(),e,s.transform,t,r,s):s.transform(t,r)}function tD(n,e){return n[re].data[e].pure}function sr(n,e){return Qu(n,e)}function zk(n){Wl!==null&&(n.defaultEncapsulation!==Wl.defaultEncapsulation||n.preserveWhitespaces!==Wl.preserveWhitespaces)||(Wl=n)}function qk(n){Lm=n}function si(n){return!!n&&typeof n.then=="function"}function Vm(n){return!!n&&typeof n.subscribe=="function"}function Wk(){M0(()=>{throw new M(600,!1)})}function Gk(n){return n.isBoundToModule}function Yk(n,e,t){try{let r=t();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function rD(n,e){return Array.isArray(e)?e.reduce(rD,n):E(E({},n),e)}function Jl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qk(n,e,t,r){if(!t&&!Vu(n))return;EE(n,e,t&&!r?0:1)}function Jk(n,e,t){let r=new Du(t);return Promise.resolve(r)}function Ib(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function eR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye($(E({},iD()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:Ko,multi:!0,useFactory:()=>{let r=y(Xk,{optional:!0});return()=>r.initialize()}},{provide:Ko,multi:!0,useFactory:()=>{let r=y(tR);return()=>{r.initialize()}}},e===!0?{provide:IE,useValue:!0}:[],{provide:xE,useValue:t??Vw}]}function iD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function rR(){return typeof $localize<"u"&&$localize.locale||Su}function Gl(n){return!n.moduleRef}function iR(n){let e=Gl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{Gl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(yr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Gl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Iu);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Iu);s.add(o),n.moduleRef.onDestroy(()=>{Jl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Yk(r,t,()=>{let o=e.get(nD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(od,Su);if(Nk(s||Su),Gl(n)){let a=e.get(vn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return oR(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function oR(n,e){let t=n.injector.get(vn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new M(-403,!1);e.push(n)}function sR(n){if(_a&&!_a.get(sD,!1))throw new M(400,!1);Wk(),_a=n;let e=n.get(oD);return lR(n),e}function jm(n,e,t=[]){let r=`Platform: ${e}`,i=new k(r);return(o=[])=>{let s=aD();if(!s||s.injector.get(sD,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):sR(aR(a,r))}return cR(i)}}function aR(n=[],e){return Ze.create({name:e,providers:[{provide:ku,useValue:"platform"},{provide:Iu,useValue:new Set([()=>_a=null])},...n]})}function cR(n){let e=aD();if(!e)throw new M(401,!1);return e}function aD(){return _a?.get(oD)??null}function lR(n){n.get(gm,null)?.forEach(t=>t())}function uR(n){return dR(gt(),le(),(n&16)===16)}function dR(n,e,t){if(Fu(n)&&!t){let r=ii(n.index,e);return new Yi(r,r)}else if(n.type&175){let r=e[nr];return new Yi(r,e)}return null}function xb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Tb(){return new Um([new zg])}function ai(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ro(n,e){to("NgSignals");let t=w0(n);return e?.equal&&(t[hr].equal=e.equal),t}function Qt(n){let e=me(null);try{return n()}finally{me(e)}}function uD(n){let e=Xr(n);if(!e)return null;let t=new ts(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ob,M,$l,xt,TO,kb,YC,Rb,PO,k,AO,NO,kO,RO,Xl,ya,QC,ae,tg,VO,Ca,ng,eu,jO,UO,BO,ZC,qo,Nu,Yg,Go,Bt,Ko,Bb,$b,nu,Hb,er,Jr,qb,hP,ku,Kl,vP,Bp,Pt,wa,br,re,Q,yt,Pn,Nn,iu,ou,An,Qo,tr,We,Ea,tb,is,nr,Hi,$o,vr,Ru,rw,Qr,$p,un,Kt,iw,zi,su,Zo,Gt,au,lg,aw,nb,Jn,xP,TP,ce,pw,Mw,Sw,Wo,Gi,zp,fg,hg,nA,Tw,Ow,rA,Xn,Bi,Ze,uA,dA,Vw,At,mg,Er,vg,se,hm,hu,hA,ye,pA,pu,yr,CA,Nt,_g,$w,DA,db,bg,zu,xA,gm,Yt,mm,vm,TA,OA,PA,Gw,AA,Hl,gu,RA,qu,VA,jA,UA,_r,HA,i1,pb,or,g1,bE,q1,G1,K1,Yi,Qi,X1,eN,r7,nN,Xo,Pm,IE,xE,Ig,yu,iN,xg,es,ni,Dr,sN,Cu,ts,Tg,oi,mN,TE,yN,_N,Og,Pg,bu,Ag,Ng,bb,wu,RN,ri,Da,Eu,Du,Rg,ek,zo,FE,Fg,Lg,ik,On,Sk,xk,Ui,Ok,Zp,Ye,Su,Ak,kk,Lk,$k,Wl,ed,Fm,Oa,td,nd,Lm,fs,nD,rd,Kk,vn,Hg,id,Zk,Xk,tR,nR,od,Iu,oD,_a,sD,Mr,zg,fR,qg,Wg,Gg,xu,Um,cD,lD,O=p(()=>{"use strict";T0();Me();Kr();Ob="https://g.co/ng/security#xss",M=class extends Error{constructor(e,t){super(Tu(e,t)),this.code=e}};$l="__parameters__";xt=globalThis;TO=Pe({__forward_ref__:Pe});kb=Pe({\u0275prov:Pe}),YC=Pe({\u0275inj:Pe}),Rb=Pe({ngInjectableDef:Pe}),PO=Pe({ngInjectorDef:Pe}),k=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};AO=Pe({\u0275cmp:Pe}),NO=Pe({\u0275dir:Pe}),kO=Pe({\u0275pipe:Pe}),RO=Pe({\u0275mod:Pe}),Xl=Pe({\u0275fac:Pe}),ya=Pe({__NG_ELEMENT_ID__:Pe}),QC=Pe({__NG_ENV_ID__:Pe});ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{});VO={},Ca=VO,ng="__NG_DI_FLAG__",eu="ngTempTokenPath",jO="ngTokenPath",UO=/\n/gm,BO="\u0275",ZC="__source";Nu=jb(Pb("Optional"),8),Yg=jb(Pb("SkipSelf"),4);Go={},Bt=[],Ko=new k(""),Bb=new k("",-1),$b=new k(""),nu=class{get(e,t=Ca){if(t===Ca){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return t}},Hb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Hb||{}),er=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(er||{}),Jr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Jr||{});qb="ng-template";hP=Pe({provide:String,useValue:Pe});ku=new k(""),Kl={},vP={};Pt=class{},wa=class extends Pt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ag(e,s=>this.processProvider(s)),this.records.set(Bb,Bo(void 0,this)),i.has("environment")&&this.records.set(Pt,Bo(void 0,this));let o=this.records.get(ku);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($b,Bt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Yr(this),r=Ut(void 0),i;try{return e()}finally{Yr(t),Ut(r)}}get(e,t=Ca,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(QC))return e[QC](this);r=Au(r);let i,o=Yr(this),s=Ut(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=wP(e)&&Ou(e);l&&this.injectableDefInScope(l)?c=Bo(sg(e),Kl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?tm():this.parent;return t=r&ae.Optional&&t===Ca?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[eu]=a[eu]||[]).unshift(Ot(e)),o)throw a;return qO(a,e,"R3InjectorError",this.source)}else throw a}finally{Ut(s),Yr(o)}}resolveInjectorInitializers(){let e=me(null),t=Yr(this),r=Ut(void 0),i;try{let o=this.get(Ko,Bt,ae.Self);for(let s of o)s()}finally{Yr(t),Ut(r),me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=Tt(e);let t=Yo(e)?e:Tt(e&&e.provide),r=_P(e);if(!Yo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Bo(void 0,Kl,!0),i.factory=()=>rg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=me(null);try{return t.value===Kl&&(t.value=vP,t.value=t.factory()),typeof t.value=="object"&&t.value&&bP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Tt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};br=0,re=1,Q=2,yt=3,Pn=4,Nn=5,iu=6,ou=7,An=8,Qo=9,tr=10,We=11,Ea=12,tb=13,is=14,nr=15,Hi=16,$o=17,vr=18,Ru=19,rw=20,Qr=21,$p=22,un=23,Kt=25,iw=1,zi=7,su=8,Zo=9,Gt=10,au=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(au||{});lg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};kn.ngInherit=!0;aw="__ngSimpleChanges__";nb=null,Jn=function(n,e,t){nb?.(n,e,t)},xP="svg",TP="math";ce={lFrame:Ew(null),bindingsEnabled:!0,skipHydrationRootTNode:null},pw=!1;Mw=Dw;Sw=!0;Wo=-1,Gi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};zp={},fg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Au(r);let i=this.injector.get(e,zp,r);return i!==zp||t===zp?i:this.parentInjector.get(e,t,r)}};hg=!0;nA=256,Tw=nA-1,Ow=5,rA=0,Xn={};Bi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return kw(this._tNode,this._lView,e,Au(r),t)}};Ze=class n{static{this.THROW_IF_NOT_FOUND=Ca}static{this.NULL=new nu}static create(e,t){if(Array.isArray(e))return ab({name:""},t,e,"");{let r=e.name??"";return ab({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=S({token:n,providedIn:"any",factory:()=>A(Bb)})}static{this.__NG_ELEMENT_ID__=-1}};uA=new k("");uA.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new M(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new M(204,!1)};dA="ngOriginalError";Vw=!0,At=(()=>{class n{static{this.__NG_ELEMENT_ID__=fA}static{this.__NG_ENV_ID__=t=>t}}return n})(),mg=class extends At{constructor(e){super(),this._lView=e}onDestroy(e){return hw(this._lView,e),()=>NP(this._lView,e)}};Er=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}}return n})(),vg=class extends he{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,nw()&&(this.destroyRef=y(At,{optional:!0})??void 0,this.pendingTasks=y(Er,{optional:!0})??void 0)}emit(e){let t=me(null);try{super.next(e)}finally{me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=vg;hm="isAngularZone",hu=hm+"_ID",hA=0,ye=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Vw}=e;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,mA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pA,fu,fu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},pA={};pu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};yr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Wp(e);for(;t&&Wp(t);)t=Wp(t);return t||null}},CA=new k("",{providedIn:"root",factory:()=>{let n=y(ye),e=y(yr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});Nt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=bA}}return n})();_g=class n{get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=EA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=KO(e);(this._changesDetected=!GO(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};$w=new Map,DA=0;db="__ngContext__";zu=new k("",{providedIn:"root",factory:()=>xA}),xA="ng",gm=new k(""),Yt=new k("",{providedIn:"platform",factory:()=>"unknown"}),mm=new k(""),vm=new k("",{providedIn:"root",factory:()=>IA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),TA="h",OA="b",PA=()=>null;Gw=!1,AA=new k("",{providedIn:"root",factory:()=>Gw});gu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ob})`}};RA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;qu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qu||{});VA=/^>|^->|<!--|-->|--!>|<!-$/g,jA=/(<|>)/g,UA="\u200B$1\u200B";_r=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(_r||{});i1=r1;or={};g1=()=>null;bE=[];q1=$(E({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ju(n.lView)},consumerOnSignalRead(){this.lView[un]=this}});G1=$(E({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=qi(n.lView);for(;e&&!wE(e[re]);)e=qi(e);e&&fw(e)},consumerOnSignalRead(){this.lView[un]=this}});K1=100;Yi=class{get rootNodes(){let e=this._lView,t=e[re];return vu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(e){this._lView[An]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(wr(e)){let t=e[su],r=t?t.indexOf(this):-1;r>-1&&(wg(e,r),tu(t,r))}this._attachedToViewContainer=!1}tE(this._lView[re],this._lView)}onDestroy(e){hw(this._lView,e)}markForCheck(){Om(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){ug(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,EE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cg(this._lView),t=this._lView[Hi];t!==null&&!e&&bm(t,this._lView),Xw(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e;let t=cg(this._lView),r=this._lView[Hi];r!==null&&!t&&eE(r,this._lView),ug(this._lView)}},Qi=(()=>{class n{static{this.__NG_ELEMENT_ID__=tN}}return n})(),X1=Qi,eN=class extends X1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=j1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Yi(i)}};r7=new RegExp(`^(\\d+)*(${OA}|${TA})*(.*)`),nN=()=>null;Xo=class{},Pm=new k("",{providedIn:"root",factory:()=>!1}),IE=new k(""),xE=new k(""),Ig=class{},yu=class{};iN="ngComponent",xg=class{resolveComponentFactory(e){throw rN(e)}},es=class{static{this.NULL=new xg}},ni=class{},Dr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>oN()}}return n})();sN=(()=>{class n{static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>null})}}return n})();Cu=class extends es{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Xr(e);return new ts(t,this.ngModule)}};ts=class extends yu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=_b(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return _b(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=aP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=me(null);try{i=i||this.ngModule;let s=i instanceof Pt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new fg(e,s):e,c=a.get(ni,null);if(c===null)throw new M(407,!1);let l=a.get(sN,null),u=a.get(Xo,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",C=r?h1(m,r,this.componentDef.encapsulation,a):Jw(m,g,aN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let P=null;C!==null&&(P=ym(C,a,!0));let B=Sm(0,null,null,1,0,null,null,null,null,null,null),oe=Ku(null,B,null,w,null,null,d,m,a,null,P);cm(oe);let K,ue,ze=null;try{let Ee=this.componentDef,Re,rt=null;Ee.findHostDirectiveDefs?(Re=[],rt=new Map,Ee.findHostDirectiveDefs(Ee,Re,rt),Re.push(Ee)):Re=[Ee];let fr=cN(oe,C);ze=lN(fr,C,Ee,Re,oe,d,m),ue=uw(B,Kt),C&&fN(m,Ee,C,r),t!==void 0&&hN(ue,this.ngContentSelectors,t),K=dN(ze,Ee,Re,rt,oe,[pN]),Tm(B,oe,null)}catch(Ee){throw ze!==null&&Cg(ze),Cg(oe),Ee}finally{lm()}return new Tg(this.componentType,K,os(ue,oe),oe,ue)}finally{me(o)}}},Tg=class extends Ig{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Yi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;xm(o[re],o,i,e,t),this.previousInputValues.set(e,t);let s=ii(this._tNode.index,o);Om(s,1)}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};oi=(()=>{class n{static{this.__NG_ELEMENT_ID__=gN}}return n})();mN=oi,TE=class extends mN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=dm(this._hostTNode,this._hostLView);if(xw(e)){let t=lu(e,this._hostLView),r=cu(e),i=t[re].data[r+8];return new Bi(i,t)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Cb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=yb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,vb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!DP(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let c=s?e:new ts(Xr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Pt,null);w&&(o=w)}let u=Xr(c.componentType??{}),d=yb(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,vb(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(PP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[yt],l=new TE(c,c[Nn],c[yt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return U1(s,i,o,r),e.attachToViewContainerRef(),Ub(Kp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Cb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=wg(this._lContainer,t);r&&(tu(Kp(this._lContainer),t),tE(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=wg(this._lContainer,t);return r&&tu(Kp(this._lContainer),t)!=null?new Yi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};yN=bN,_N=()=>!1;Og=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Pg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Am(e,t).matches!==null&&this.queries[t].setDirty()}},bu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=TN(e):this.predicate=e}},Ag=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ng=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,wN(t,o)),this.matchTNodeWithReadOption(e,t,Zl(t,e,o,!1,!1))}else r===Qi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Nt||i===oi||i===Qi&&t.type&4)this.addMatch(t.index,-2);else{let o=Zl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};bb=new Set;wu=new Map,RN=new Set;ri=class{},Da=class{},Eu=class extends ri{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cu(this);let o=Yb(e);this._bootstrapComponents=Zw(o.bootstrap),this._r3Injector=Lw(e,t,[{provide:ri,useValue:this},{provide:es,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Du=class extends Da{constructor(e){super(),this.moduleType=e}create(e){return new Eu(this.moduleType,e,[])}};Rg=class extends ri{constructor(e){super(),this.componentFactoryResolver=new Cu(this),this.instance=null;let t=new wa([...e.providers,{provide:ri,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],e.parent||tm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};ek=tk;zo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(zo||{}),FE=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Fg=class n{constructor(){this.ngZone=y(ye),this.scheduler=y(Xo),this.errorHandler=y(yr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[zo.EarlyRead,zo.Write,zo.MixedReadWrite,zo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>new n})}},Lg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};ik={destroy(){}};On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};Sk=(n,e,t,r,i,o)=>($u(!0),Jw(r,i,YP()));xk=(n,e,t,r)=>($u(!0),WA(e[We],""));Ui=void 0;Ok=["en",[["a","p"],["AM","PM"],Ui],[["AM","PM"],Ui,Ui],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ui,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ui,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ui,"{1} 'at' {0}",Ui],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Tk],Zp={};Ye=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ye||{});Su="en-US",Ak=Su;kk=(n,e,t)=>{};Lk=(n,e,t,r,i)=>($u(!0),zA(e[We],r));$k=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Jb(!1,t.type),i=r.length>0?Zu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=S({token:n,providedIn:"environment",factory:()=>new n(A(Pt))})}}return n})();Wl=null;ed=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Fm=new k(""),Oa=new k(""),td=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Lm||(qk(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(A(ye),A(nd),A(Oa))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),nd=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Lm?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();fs=new k(""),nD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=y(fs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(si(o))t.push(o);else if(Vm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rd=new k("");Kk=10;vn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(CA),this.afterRenderManager=y(FE),this.zonelessEnabled=y(Pm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new he,this.afterTick=new he,this.componentTypes=[],this.components=[],this.isStable=y(Er).hasPendingTasks.pipe(L(t=>!t)),this._injector=y(Pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof yu;if(!this._injector.get(nD).done){let m=!i&&Kb(t),g=!1;throw new M(405,g)}let s;i?s=t:s=this._injector.get(es).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=Gk(s)?void 0:this._injector.get(ri),c=r||s.selector,l=s.create(Ze.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Fm,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Jl(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);let t=me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,me(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ni,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Kk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Qk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Vu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Jl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(rd,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Jl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Hg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},id=(()=>{class n{compileModuleSync(t){return new Du(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Yb(t),o=Zw(i.declarations).reduce((s,a)=>{let c=Xr(a);return c&&s.push(new ts(c)),s},[]);return new Hg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zk=new k("");Xk=(()=>{class n{constructor(){this.zone=y(ye),this.changeDetectionScheduler=y(Xo),this.applicationRef=y(vn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();tR=(()=>{class n{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=y(ye),this.pendingTasks=y(Er)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nR=(()=>{class n{constructor(){this.appRef=y(vn),this.taskService=y(Er),this.ngZone=y(ye),this.zonelessEnabled=y(Pm),this.disableScheduling=y(IE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(xE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cb:jw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();od=new k("",{providedIn:"root",factory:()=>y(od,ae.Optional|ae.SkipSelf)||rR()}),Iu=new k("");oD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>_A(r?.ngZone,$(E({},iD({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[eR({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Xo,useExisting:nR}],c=WN(t.moduleType,this.injector,a);return iR({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=rD({},r);return Jk(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Iu,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(A(Ze))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),_a=null,sD=new k("");Mr=(()=>{class n{static{this.__NG_ELEMENT_ID__=uR}}return n})();zg=class{constructor(){}supports(e){return RE(e)}create(e){return new qg(e)}},fR=(n,e)=>e,qg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fR}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<xb(r,i,o)?t:r,a=xb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,C=g+m;u<=C&&C<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!RE(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,GN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Wg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new xu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Gg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},xu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Gg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};Um=(()=>{class n{static{this.\u0275prov=S({token:n,providedIn:"root",factory:Tb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Tb()),deps:[[n,new Yg,new Nu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new M(901,!1)}}return n})(),cD=jm(null,"core",[]),lD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(A(vn))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})()});function ar(){return vD}function yD(n){vD??=n}function Xm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function dD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ir(n){return n&&n[0]!=="?"?"?"+n:n}function gR(){return new ps(A(Tr))}function mR(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function fD(n){return n.replace(/\/index.html$/,"")}function vR(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function yR(n){return pn(n)[Ye.LocaleId]}function _R(n,e,t){let r=pn(n),i=[r[Ye.DayPeriodsFormat],r[Ye.DayPeriodsStandalone]],o=yn(i,e);return yn(o,t)}function CR(n,e,t){let r=pn(n),i=[r[Ye.DaysFormat],r[Ye.DaysStandalone]],o=yn(i,e);return yn(o,t)}function bR(n,e,t){let r=pn(n),i=[r[Ye.MonthsFormat],r[Ye.MonthsStandalone]],o=yn(i,e);return yn(o,t)}function wR(n,e){let r=pn(n)[Ye.Eras];return yn(r,e)}function sd(n,e){let t=pn(n);return yn(t[Ye.DateFormat],e)}function ad(n,e){let t=pn(n);return yn(t[Ye.TimeFormat],e)}function cd(n,e){let r=pn(n)[Ye.DateTimeFormat];return yn(r,e)}function md(n,e){let t=pn(n),r=t[Ye.NumberSymbols][e];if(typeof r>"u"){if(e===ci.CurrencyDecimal)return t[Ye.NumberSymbols][ci.Decimal];if(e===ci.CurrencyGroup)return t[Ye.NumberSymbols][ci.Group]}return r}function wD(n){if(!n[Ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ER(n){let e=pn(n);return wD(e),(e[Ye.ExtraData][2]||[]).map(r=>typeof r=="string"?Bm(r):[Bm(r[0]),Bm(r[1])])}function DR(n,e,t){let r=pn(n);wD(r);let i=[r[Ye.ExtraData][0],r[Ye.ExtraData][1]],o=yn(i,e)||[];return yn(o,t)||[]}function yn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Bm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function IR(n,e,t,r){let i=FR(n);e=Sr(t,e)||e;let s=[],a;for(;e;)if(a=SR.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=DD(r,c),i=RR(i,r,!0));let l="";return s.forEach(u=>{let d=NR(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Sr(n,e){let t=yR(n);if(ld[t]??={},ld[t][e])return ld[t][e];let r="";switch(e){case"shortDate":r=sd(n,Zt.Short);break;case"mediumDate":r=sd(n,Zt.Medium);break;case"longDate":r=sd(n,Zt.Long);break;case"fullDate":r=sd(n,Zt.Full);break;case"shortTime":r=ad(n,Zt.Short);break;case"mediumTime":r=ad(n,Zt.Medium);break;case"longTime":r=ad(n,Zt.Long);break;case"fullTime":r=ad(n,Zt.Full);break;case"short":let i=Sr(n,"shortTime"),o=Sr(n,"shortDate");r=ud(cd(n,Zt.Short),[i,o]);break;case"medium":let s=Sr(n,"mediumTime"),a=Sr(n,"mediumDate");r=ud(cd(n,Zt.Medium),[s,a]);break;case"long":let c=Sr(n,"longTime"),l=Sr(n,"longDate");r=ud(cd(n,Zt.Long),[c,l]);break;case"full":let u=Sr(n,"fullTime"),d=Sr(n,"fullDate");r=ud(cd(n,Zt.Full),[u,d]);break}return r&&(ld[t][e]=r),r}function ud(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Fn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function xR(n,e){return Fn(n,3).substring(0,e)}function Xe(n,e,t=0,r=!1,i=!1){return function(o,s){let a=TR(n,o);if((t>0||a>-t)&&(a+=t),n===we.Hours)a===0&&t===-12&&(a=12);else if(n===we.FractionalSeconds)return xR(a,e);let c=md(s,ci.MinusSign);return Fn(a,e,c,r,i)}}function TR(n,e){switch(n){case we.FullYear:return e.getFullYear();case we.Month:return e.getMonth();case we.Date:return e.getDate();case we.Hours:return e.getHours();case we.Minutes:return e.getMinutes();case we.Seconds:return e.getSeconds();case we.FractionalSeconds:return e.getMilliseconds();case we.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ne(n,e,t=Rt.Format,r=!1){return function(i,o){return OR(i,o,n,e,t,r)}}function OR(n,e,t,r,i,o){switch(t){case be.Months:return bR(e,i,r)[n.getMonth()];case be.Days:return CR(e,i,r)[n.getDay()];case be.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=ER(e),u=DR(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,C]=m,w=s>=g.hours&&a>=g.minutes,P=s<C.hours||s===C.hours&&a<C.minutes;if(g.hours<C.hours){if(w&&P)return!0}else if(w||P)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return _R(e,i,r)[s<12?0:1];case be.Eras:return wR(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function dd(n){return function(e,t,r){let i=-1*r,o=md(t,ci.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case xr.Short:return(i>=0?"+":"")+Fn(s,2,o)+Fn(Math.abs(i%60),2,o);case xr.ShortGMT:return"GMT"+(i>=0?"+":"")+Fn(s,1,o);case xr.Long:return"GMT"+(i>=0?"+":"")+Fn(s,2,o)+":"+Fn(Math.abs(i%60),2,o);case xr.Extended:return r===0?"Z":(i>=0?"+":"")+Fn(s,2,o)+":"+Fn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function AR(n){let e=gd(n,PR,1).getDay();return gd(n,0,1+(e<=hd?hd:hd+7)-e)}function ED(n){let e=n.getDay(),t=e===0?-3:hd-e;return gd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function $m(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ED(t),s=AR(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Fn(i,n,md(r,ci.MinusSign))}}function fd(n,e=!1){return function(t,r){let o=ED(t).getFullYear();return Fn(o,n,md(r,ci.MinusSign),e)}}function NR(n){if(Hm[n])return Hm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ne(be.Eras,Ae.Abbreviated);break;case"GGGG":e=Ne(be.Eras,Ae.Wide);break;case"GGGGG":e=Ne(be.Eras,Ae.Narrow);break;case"y":e=Xe(we.FullYear,1,0,!1,!0);break;case"yy":e=Xe(we.FullYear,2,0,!0,!0);break;case"yyy":e=Xe(we.FullYear,3,0,!1,!0);break;case"yyyy":e=Xe(we.FullYear,4,0,!1,!0);break;case"Y":e=fd(1);break;case"YY":e=fd(2,!0);break;case"YYY":e=fd(3);break;case"YYYY":e=fd(4);break;case"M":case"L":e=Xe(we.Month,1,1);break;case"MM":case"LL":e=Xe(we.Month,2,1);break;case"MMM":e=Ne(be.Months,Ae.Abbreviated);break;case"MMMM":e=Ne(be.Months,Ae.Wide);break;case"MMMMM":e=Ne(be.Months,Ae.Narrow);break;case"LLL":e=Ne(be.Months,Ae.Abbreviated,Rt.Standalone);break;case"LLLL":e=Ne(be.Months,Ae.Wide,Rt.Standalone);break;case"LLLLL":e=Ne(be.Months,Ae.Narrow,Rt.Standalone);break;case"w":e=$m(1);break;case"ww":e=$m(2);break;case"W":e=$m(1,!0);break;case"d":e=Xe(we.Date,1);break;case"dd":e=Xe(we.Date,2);break;case"c":case"cc":e=Xe(we.Day,1);break;case"ccc":e=Ne(be.Days,Ae.Abbreviated,Rt.Standalone);break;case"cccc":e=Ne(be.Days,Ae.Wide,Rt.Standalone);break;case"ccccc":e=Ne(be.Days,Ae.Narrow,Rt.Standalone);break;case"cccccc":e=Ne(be.Days,Ae.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(be.Days,Ae.Abbreviated);break;case"EEEE":e=Ne(be.Days,Ae.Wide);break;case"EEEEE":e=Ne(be.Days,Ae.Narrow);break;case"EEEEEE":e=Ne(be.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Ne(be.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Ne(be.DayPeriods,Ae.Wide);break;case"aaaaa":e=Ne(be.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Ne(be.DayPeriods,Ae.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Ne(be.DayPeriods,Ae.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Ne(be.DayPeriods,Ae.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(be.DayPeriods,Ae.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Ne(be.DayPeriods,Ae.Wide,Rt.Format,!0);break;case"BBBBB":e=Ne(be.DayPeriods,Ae.Narrow,Rt.Format,!0);break;case"h":e=Xe(we.Hours,1,-12);break;case"hh":e=Xe(we.Hours,2,-12);break;case"H":e=Xe(we.Hours,1);break;case"HH":e=Xe(we.Hours,2);break;case"m":e=Xe(we.Minutes,1);break;case"mm":e=Xe(we.Minutes,2);break;case"s":e=Xe(we.Seconds,1);break;case"ss":e=Xe(we.Seconds,2);break;case"S":e=Xe(we.FractionalSeconds,1);break;case"SS":e=Xe(we.FractionalSeconds,2);break;case"SSS":e=Xe(we.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=dd(xr.Short);break;case"ZZZZZ":e=dd(xr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=dd(xr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=dd(xr.Long);break;default:return null}return Hm[n]=e,e}function DD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function kR(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function RR(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=DD(e,i);return kR(n,r*(o-i))}function FR(n){if(hD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return gd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(MR))return LR(r)}let e=new Date(n);if(!hD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function LR(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function hD(n){return n instanceof Date&&!isNaN(n.valueOf())}function vd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function gD(n,e){n.context.$implicit=e.item}function mD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Ot(e)}'.`)}function MD(n,e){return new M(2100,!1)}function yd(n){return n===tv}function _d(n){return n===HR}function zR(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var vD,pd,lt,Jm,_D,pR,Tr,CD,ev,bD,ps,Rt,Ae,Zt,ci,MR,ld,SR,xr,we,be,PR,hd,Hm,zm,pD,gs,qm,ms,Se,Wm,Gm,Km,VR,jR,Ht,UR,BR,$R,vs,SD,tv,HR,ID,Ym,Qm,hs,xe=p(()=>{"use strict";O();O();vD=null;pd=class{},lt=new k(""),Jm=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>y(pR),providedIn:"platform"})}}return n})(),_D=new k(""),pR=(()=>{class n extends Jm{constructor(){super(),this._doc=y(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ar().getBaseHref(this._doc)}onPopState(t){let r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Tr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>y(ev),providedIn:"root"})}}return n})(),CD=new k(""),ev=(()=>{class n extends Tr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Xm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Jm),A(CD,8))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bD=(()=>{class n extends Tr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Xm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Jm),A(CD,8))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),ps=(()=>{class n{constructor(t){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=vR(dD(fD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ir(r))}normalize(t){return n.stripTrailingSlash(mR(this._basePath,fD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ir}static{this.joinWithSlash=Xm}static{this.stripTrailingSlash=dD}static{this.\u0275fac=function(r){return new(r||n)(A(Tr))}}static{this.\u0275prov=S({token:n,factory:()=>gR(),providedIn:"root"})}}return n})();Rt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Rt||{}),Ae=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ae||{}),Zt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Zt||{}),ci={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};MR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ld={},SR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(xr||{}),we=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(we||{}),be=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(be||{});PR=0,hd=4;Hm={};zm=/\s+/,pD=[],gs=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=pD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(zm):pD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(zm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(zm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(Nt),D(Dr))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),qm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ms=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(oi),D(Qi),D(Um))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();Se=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Wm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(oi),D(Qi))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Wm=class{constructor(){this.$implicit=null,this.ngIf=null}};Gm=class{createSubscription(e,t){return Qt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Qt(()=>e.unsubscribe())}},Km=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},VR=new Km,jR=new Gm,Ht=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(si(t))return VR;if(Vm(t))return jR;throw MD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(Mr,16))}}static{this.\u0275pipe=Xg({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),UR="mediumDate",BR=new k(""),$R=new k(""),vs=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??UR,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return IR(t,s,o||this.locale,a)}catch(s){throw MD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(od,16),D(BR,24),D($R,24))}}static{this.\u0275pipe=Xg({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),SD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})(),tv="browser",HR="server";ID=(()=>{class n{static{this.\u0275prov=S({token:n,providedIn:"root",factory:()=>yd(y(Yt))?new Ym(y(lt),window):new Qm})}}return n})(),Ym=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=zR(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};Qm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},hs=class{}});function qR(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function xD(n){return encodeURIComponent(n).replace(WR,(e,t)=>GR[t]??e)}function Cd(n){return`${n}`}function KR(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function TD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function OD(n){return typeof Blob<"u"&&n instanceof Blob}function PD(n){return typeof FormData<"u"&&n instanceof FormData}function YR(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function nv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function AD(n){if(n.url)return n.url;let e=JR.toLocaleLowerCase();return n.headers.get(e)}function sv(){}function eF(n){n.then(sv,sv)}function LD(n,e){return e(n)}function tF(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function nF(n,e,t){return(r,i)=>dn(t,()=>e(r,o=>n(o,i)))}function oF(){let n=null;return(e,t)=>{n===null&&(n=(y(rF,{optional:!0})??[]).reduceRight(tF,LD));let r=y(Er);if(y(VD)){let o=r.add();return n(e,t).pipe(Wt(()=>r.remove(o)))}else return n(e,t)}}function aF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function hF(n,e){let t=n.url.toLowerCase();if(!y(jD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=y(Ed).getToken(),i=y(dF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function pF(n,e){return{\u0275kind:n,\u0275providers:e}}function gF(...n){let e=[io,kD,ND,{provide:Aa,useExisting:ND},{provide:bd,useFactory:()=>y(XR,{optional:!0})??y(kD)},{provide:av,useValue:hF,multi:!0},{provide:jD,useValue:!0},{provide:Ed,useClass:fF}];for(let t of n)e.push(...t.\u0275providers);return rs(e)}function mF(){return pF(UD.LegacyInterceptors,[{provide:RD,useFactory:oF},{provide:av,useExisting:RD,multi:!0}])}var Aa,bd,Or,rv,WR,GR,ui,iv,Pa,di,Na,wd,ka,li,FD,QR,io,ZR,JR,XR,ov,rF,av,iF,VD,ND,sF,kD,jD,cF,lF,uF,dF,Ed,fF,UD,RD,BD,Ra=p(()=>{"use strict";O();O();Me();Kr();xe();xe();Aa=class{},bd=class{},Or=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},rv=class{encodeKey(e){return xD(e)}encodeValue(e){return xD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};WR=/%(\d[a-f0-9])/gi,GR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};ui=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Cd):[Cd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Cd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Cd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},iv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};Pa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Or,this.context??=new iv,!this.params)this.params=new ui,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||TD(this.body)||OD(this.body)||PD(this.body)||YR(this.body)?this.body:this.body instanceof ui?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PD(this.body)?null:OD(this.body)?this.body.type||null:TD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ui?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},di=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(di||{}),Na=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Or,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},wd=class n extends Na{constructor(e={}){super(e),this.type=di.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ka=class n extends Na{constructor(e={}){super(e),this.type=di.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},li=class extends Na{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},FD=200,QR=204;io=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Pa)o=t;else{let c;i.headers instanceof Or?c=i.headers:c=new Or(i.headers);let l;i.params&&(i.params instanceof ui?l=i.params:l=new ui({fromObject:i.params})),o=new Pa(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=F(o).pipe(cn(c=>this.handler.handle(c)));if(t instanceof Pa||i.observe==="events")return s;let a=s.pipe(je(c=>c instanceof ka));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(L(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(L(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ui().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nv(i,r))}post(t,r,i={}){return this.request("POST",t,nv(i,r))}put(t,r,i={}){return this.request("PUT",t,nv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(A(Aa))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),ZR=/^\)\]\}',?\n/,JR="X-Request-URL";XR=(()=>{class n{constructor(){this.fetchImpl=y(ov,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=y(ye)}handle(t){return new J(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(sv,o=>r.error(new li({error:o}))),()=>i.abort()})}doRequest(t,r,i){return I(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));eF(g),i.next({type:di.Sent}),s=yield g}catch(g){i.error(new li({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Or(s.headers),c=s.statusText,l=AD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new wd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),C=[],w=s.body.getReader(),P=0,B,oe,K=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:ze,value:Ee}=yield w.read();if(ze)break;if(C.push(Ee),P+=Ee.length,t.reportProgress){oe=t.responseType==="text"?(oe??"")+(B??=new TextDecoder).decode(Ee,{stream:!0}):void 0;let Re=()=>i.next({type:di.DownloadProgress,total:g?+g:void 0,loaded:P,partialText:oe});K?K.run(Re):Re()}}}));let ue=this.concatChunks(C,P);try{let ze=s.headers.get("Content-Type")??"";d=this.parseBody(t,ue,ze)}catch(ze){i.error(new li({error:ze,headers:new Or(s.headers),status:s.status,statusText:s.statusText,url:AD(s)??t.urlWithParams}));return}}u===0&&(u=d?FD:0),u>=200&&u<300?(i.next(new ka({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new li({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(ZR,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),ov=class{};rF=new k(""),av=new k(""),iF=new k(""),VD=new k("",{providedIn:"root",factory:()=>!0});ND=(()=>{class n extends Aa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=y(Er),this.contributeToStability=y(VD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(av),...this.injector.get(iF,[])]));this.chain=r.reduceRight((i,o)=>nF(i,o,this.injector),LD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Wt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(A(bd),A(Pt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),sF=/^\)\]\}',?\n/;kD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new M(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?W(r.\u0275loadImpl()):F(null)).pipe(Ue(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,P)=>s.setRequestHeader(w,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",P=new Or(s.getAllResponseHeaders()),B=aF(s)||t.url;return c=new wd({headers:P,status:s.status,statusText:w,url:B}),c},u=()=>{let{headers:w,status:P,statusText:B,url:oe}=l(),K=null;P!==QR&&(K=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=K?FD:0);let ue=P>=200&&P<300;if(t.responseType==="json"&&typeof K=="string"){let ze=K;K=K.replace(sF,"");try{K=K!==""?JSON.parse(K):null}catch(Ee){K=ze,ue&&(ue=!1,K={error:Ee,text:K})}}ue?(o.next(new ka({body:K,headers:w,status:P,statusText:B,url:oe||void 0})),o.complete()):o.error(new li({error:K,headers:w,status:P,statusText:B,url:oe||void 0}))},d=w=>{let{url:P}=l(),B=new li({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(B)},m=!1,g=w=>{m||(o.next(l()),m=!0);let P={type:di.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},C=w=>{let P={type:di.UploadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),o.next(P)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:di.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(A(hs))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),jD=new k(""),cF="XSRF-TOKEN",lF=new k("",{providedIn:"root",factory:()=>cF}),uF="X-XSRF-TOKEN",dF=new k("",{providedIn:"root",factory:()=>uF}),Ed=class{},fF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(A(lt),A(Yt),A(lF))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();UD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(UD||{});RD=new k("");BD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[gF(mF())]})}}return n})()});function vF(){return Fa=Fa||document.querySelector("base"),Fa?Fa.getAttribute("href"):null}function yF(n){return new URL(n,document.baseURI).pathname}function DF(n){return bF.replace(mv,n)}function MF(n){return CF.replace(mv,n)}function GD(n,e){return e.map(t=>t.replace(mv,n))}function $D(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function OF(){fv.makeCurrent()}function PF(){return new yr}function AF(){return Ww(document),document}var dv,fv,Fa,hv,_F,pv,zD,Dd,lv,qD,uv,mv,WD,CF,bF,wF,EF,Md,La,gv,Va,Sd,SF,HD,IF,xF,TF,NF,KD,kF,RF,FF,Id,YD,ja=p(()=>{"use strict";xe();O();O();dv=class extends pd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fv=class n extends dv{static makeCurrent(){yD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=vF();return t==null?null:yF(t)}resetBaseElement(){Fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vd(document.cookie,e)}},Fa=null;hv=class{addToWindow(e){xt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new M(5103,!1);return o},xt.getAllAngularTestabilities=()=>e.getAllTestabilities(),xt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=xt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?ar().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},_F=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),pv=new k(""),zD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(A(pv),A(ye))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),Dd=class{constructor(e){this._doc=e}},lv="ng-app-id",qD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_d(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${lv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(lv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(lv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(A(lt),A(zu),A(vm,8),A(Yt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mv=/%COMP%/g,WD="%COMP%",CF=`_nghost-${WD}`,bF=`_ngcontent-${WD}`,wF=!0,EF=new k("",{providedIn:"root",factory:()=>wF});Md=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=_d(a),this.defaultRenderer=new La(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r=$(E({},r),{encapsulation:er.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Sd?i.applyToHost(t):i instanceof Va&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case er.Emulated:o=new Sd(c,l,r,this.appId,u,s,a,d);break;case er.ShadowDom:return new gv(c,l,t,r,s,a,this.nonce,d);default:o=new Va(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(A(zD),A(qD),A(zu),A(EF),A(lt),A(Yt),A(ye),A(vm))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),La=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(uv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){($D(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&($D(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=uv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=uv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(_r.DashCase|_r.Important)?e.style.setProperty(t,r,i&_r.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_r.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ar().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};gv=class extends La{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=GD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Va=class extends La{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?GD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sd=class extends Va{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=DF(l),this.hostAttr=MF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},SF=(()=>{class n extends Dd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(A(lt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),HD=["alt","control","meta","shift"],IF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},TF=(()=>{class n extends Dd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ar().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),HD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=IF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HD.forEach(s=>{if(s!==i){let a=xF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(A(lt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();NF=[{provide:Yt,useValue:tv},{provide:gm,useValue:OF,multi:!0},{provide:lt,useFactory:AF,deps:[]}],KD=jm(cD,"browser",NF),kF=new k(""),RF=[{provide:Oa,useClass:hv,deps:[]},{provide:Fm,useClass:td,deps:[ye,nd,Oa]},{provide:td,useClass:td,deps:[ye,nd,Oa]}],FF=[{provide:ku,useValue:"root"},{provide:yr,useFactory:PF,deps:[]},{provide:pv,useClass:SF,multi:!0,deps:[lt,ye,Yt]},{provide:pv,useClass:TF,multi:!0,deps:[lt]},Md,qD,zD,{provide:ni,useExisting:Md},{provide:hs,useClass:_F,deps:[]},[]],Id=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:zu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(A(kF,12))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[...FF,...RF],imports:[SD,lD]})}}return n})(),YD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(A(lt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Es(n){return new bv(n)}function LF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function VF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cr(n[t],e[t]))return!1;return!0}function cr(n,e){let t=n?wv(n):void 0,r=e?wv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!aM(n[i],e[i]))return!1;return!0}function wv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function cM(n){return n.length>0?n[n.length-1]:null}function hi(n){return vp(n)?n:si(n)?W(Promise.resolve(n)):F(n)}function ZD(n,e,t){return jF[t.paths](n.root,e.root,t.matrixParams)&&lM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function UF(n,e){return cr(n,e)}function uM(n,e,t){if(!so(n.segments,e.segments)||!Od(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!uM(n.children[r],e.children[r],t))return!1;return!0}function BF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aM(n[t],e[t]))}function dM(n,e,t){return fM(n,e,e.segments,t)}function fM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!so(i,t)||e.hasChildren()||!Od(i,t,r))}else if(n.segments.length===t.length){if(!so(n.segments,t)||!Od(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!dM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!so(n.segments,i)||!Od(n.segments,i,r)||!n.children[ie]?!1:fM(n.children[ie],e,o,r)}}function Od(n,e,t){return e.every((r,i)=>lM[t](n[i].parameters,r.parameters))}function $F(n,e){return so(n,e)&&n.every((t,r)=>cr(t.parameters,e[r].parameters))}function so(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function HF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}function Pd(n){return n.segments.map(e=>pM(e)).join("/")}function Ua(n,e){if(!n.hasChildren())return Pd(n);if(e){let t=n.children[ie]?Ua(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Ua(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=HF(n,(r,i)=>i===ie?[Ua(n.children[ie],!1)]:[`${i}:${Ua(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Pd(n)}/${t[0]}`:`${Pd(n)}/(${t.join("//")})`}}function hM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xd(n){return hM(n).replace(/%3B/gi,";")}function qF(n){return encodeURI(n)}function Ev(n){return hM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ad(n){return decodeURIComponent(n)}function JD(n){return Ad(n.replace(/\+/g,"%20"))}function pM(n){return`${Ev(n.path)}${WF(n.parameters)}`}function WF(n){return Object.entries(n).map(([e,t])=>`;${Ev(e)}=${Ev(t)}`).join("")}function GF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${xd(t)}=${xd(i)}`).join("&"):`${xd(t)}=${xd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function vv(n){let e=n.match(KF);return e?e[0]:""}function QF(n){let e=n.match(YF);return e?e[0]:""}function JF(n){let e=n.match(ZF);return e?e[0]:""}function eL(n){let e=n.match(XF);return e?e[0]:""}function gM(n){return n.segments.length>0?new Ie([],{[ie]:n}):n}function mM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=mM(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return tL(t)}function tL(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new Ie(n.segments.concat(e.segments),e.children)}return n}function ao(n){return n instanceof Ar}function nL(n,e,t=null,r=null){let i=vM(n);return yM(i,e,t,r)}function vM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=gM(r);return e??i}function yM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return yv(i,i,i,t,r);let o=rL(e);if(o.toRoot())return yv(i,i,new Ie([],{}),t,r);let s=iL(o,i,n),a=s.processChildren?Ha(s.segmentGroup,s.index,o.commands):CM(s.segmentGroup,s.index,o.commands);return yv(i,s.segmentGroup,a,t,r)}function Nd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Wa(n){return typeof n=="object"&&n!=null&&n.outlets}function yv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=_M(n,e,t);let a=gM(mM(s));return new Ar(a,o,i)}function _M(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=_M(o,e,t)}),new Ie(n.segments,r)}function rL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kd(t,e,r)}function iL(n,e,t){if(n.isAbsolute)return new Cs(e,!0,0);if(!t)return new Cs(e,!1,NaN);if(t.parent===null)return new Cs(t,!0,0);let r=Nd(n.commands[0])?0:1,i=t.segments.length-1+r;return oL(t,i,n.numberOfDoubleDots)}function oL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Cs(r,!1,i-o)}function sL(n){return Wa(n[0])?n[0].outlets:{[ie]:n}}function CM(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return Ha(n,e,t);let r=aL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new Ie(n.segments.slice(r.pathIndex),n.children),Ha(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?Mv(n,e,t):r.match?Ha(n,0,i):Mv(n,e,t)}function Ha(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=sL(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=Ha(n.children[ie],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=CM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function aL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Wa(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!eM(c,l,s))return o;r+=2}else{if(!eM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Wa(o)){let c=cL(o.outlets);return new Ie(r,c)}if(i===0&&Nd(t[0])){let c=n.segments[e];r.push(new oo(c.path,XD(t[0]))),i++;continue}let s=Wa(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Nd(a)?(r.push(new oo(s,XD(a))),i+=2):(r.push(new oo(s,{})),i++)}return new Ie(r,{})}function cL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Mv(new Ie([],{}),0,r))}),e}function XD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function eM(n,e,t){return n==t.path&&cr(e,t.parameters)}function lL(n,e){return n.providers&&!n._injector&&(n._injector=Zu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ln(n){return n.outlet||ie}function uL(n,e){let t=n.filter(r=>Ln(r)===e);return t.push(...n.filter(r=>Ln(r)!==e)),t}function tc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function Lv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Lv(n,t);if(r)return r}return null}function Vv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Vv(n,t);if(r.length)return r.unshift(e),r}return[]}function _s(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function bM(n){let e=dL(n),t=new ve([new oo("",{})]),r=new ve({}),i=new ve({}),o=new ve({}),s=new ve(""),a=new Ft(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new jd(new Jt(a,[]),e)}function dL(n){let e={},t={},r={},i="",o=new bs([],e,r,i,t,ie,n,null,{});return new Bd("",new Jt(o,[]))}function Ud(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),i?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},i&&EM(i)&&(r.resolve[Xa]=i.title),r}function Gv(n,e){e.value._routerState=n,e.children.forEach(t=>Gv(n,t))}function wM(n){let e=n.children.length>0?` { ${n.children.map(wM).join(", ")} } `:"";return`${n.value}${e}`}function _v(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),cr(e.params,t.params)||n.paramsSubject.next(t.params),VF(e.url,t.url)||n.urlSubject.next(t.url),cr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function jv(n,e){let t=cr(n.params,e.params)&&$F(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||jv(n.parent,e.parent))}function EM(n){return typeof n.title=="string"||n.title===null}function fL(n,e,t){let r=Ya(n,e._root,t?t._root:void 0);return new jd(r,e)}function Ya(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=hL(n,e,t);return new Jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ya(n,a)),s}}let r=pL(e.value),i=e.children.map(o=>Ya(n,o));return new Jt(r,i)}}function hL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ya(n,r,i);return Ya(n,r)})}function pL(n){return new Ft(new ve(n.url),new ve(n.params),new ve(n.queryParams),new ve(n.fragment),new ve(n.data),n.outlet,n.component,n)}function $d(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MM(!1,Xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function MM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[DM]=!0,t.cancellationCode=e,t}function gL(n){return SM(n)&&ao(n.url)}function SM(n){return!!n&&n[DM]}function vL(n,e,t){let r=n._root,i=e?e._root:null;return Ba(r,i,t,[r.value])}function yL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Nb(n)?n:e.get(n):r}function Ba(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_s(e);return n.children.forEach(s=>{_L(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qa(a,t.getContext(s),i)),i}function _L(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=CL(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Hd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ba(n,e,a?a.children:null,r,i):Ba(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ws(a.outlet.component,s))}else s&&qa(e,a,i),i.canActivateChecks.push(new Hd(r)),o.component?Ba(n,null,a?a.children:null,r,i):Ba(n,null,t,r,i);return i}function CL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!so(n.url,e.url);case"pathParamsOrQueryParamsChange":return!so(n.url,e.url)||!cr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jv(n,e)||!cr(n.queryParams,e.queryParams);case"paramsChange":default:return!jv(n,e)}}function qa(n,e,t){let r=_s(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?qa(s,e.children.getContext(o),t):qa(s,null,t):qa(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ws(e.outlet.component,i)):t.canDeactivateChecks.push(new ws(null,i)):t.canDeactivateChecks.push(new ws(null,i))}function rc(n){return typeof n=="function"}function bL(n){return typeof n=="boolean"}function wL(n){return n&&rc(n.canLoad)}function EL(n){return n&&rc(n.canActivate)}function DL(n){return n&&rc(n.canActivateChild)}function ML(n){return n&&rc(n.canDeactivate)}function SL(n){return n&&rc(n.canMatch)}function IM(n){return n instanceof xn||n?.name==="EmptyError"}function Is(){return Ue(n=>ha(n.map(e=>e.pipe(Oe(1),Fp(Td)))).pipe(L(e=>{for(let t of e)if(t!==!0){if(t===Td)return Td;if(t===!1||IL(t))return t}return!0}),je(e=>e!==Td),Oe(1)))}function IL(n){return ao(n)||n instanceof Qa}function xL(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F($(E({},t),{guardsResult:!0})):TL(s,r,i,n).pipe(Ve(a=>a&&bL(a)?OL(r,o,n,e):F(a)),L(a=>$(E({},t),{guardsResult:a})))})}function TL(n,e,t,r){return W(n).pipe(Ve(i=>RL(i.component,i.route,t,e,r)),Qn(i=>i!==!0,!0))}function OL(n,e,t,r){return W(e).pipe(cn(i=>Yn(AL(i.route.parent,r),PL(i.route,r),kL(n,i.path,t),NL(n,i.route,t))),Qn(i=>i!==!0,!0))}function PL(n,e){return n!==null&&e&&e(new kv(n)),F(!0)}function AL(n,e){return n!==null&&e&&e(new Av(n)),F(!0)}function NL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>Vi(()=>{let s=tc(e)??t,a=xs(o,s),c=EL(a)?a.canActivate(e,n):dn(s,()=>a(e,n));return hi(c).pipe(Qn())}));return F(i).pipe(Is())}function kL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yL(s)).filter(s=>s!==null).map(s=>Vi(()=>{let a=s.guards.map(c=>{let l=tc(s.node)??t,u=xs(c,l),d=DL(u)?u.canActivateChild(r,n):dn(l,()=>u(r,n));return hi(d).pipe(Qn())});return F(a).pipe(Is())}));return F(o).pipe(Is())}function RL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=tc(e)??i,l=xs(a,c),u=ML(l)?l.canDeactivate(n,e,t,r):dn(c,()=>l(n,e,t,r));return hi(u).pipe(Qn())});return F(s).pipe(Is())}function FL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=xs(s,n),c=wL(a)?a.canLoad(e,t):dn(n,()=>a(e,t));return hi(c)});return F(o).pipe(Is(),xM(r))}function xM(n){return Zh(ne(e=>{if(typeof e!="boolean")throw $d(n,e)}),L(e=>e===!0))}function LL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=xs(s,n),c=SL(a)?a.canMatch(e,t):dn(n,()=>a(e,t));return hi(c)});return F(o).pipe(Is(),xM(r))}function ys(n){return nt(new Za(n))}function VL(n){return nt(new M(4e3,!1))}function jL(n){return nt(MM(!1,Xt.GuardRejected))}function UL(n,e,t,r,i){let o=TM(n,e,t);return o.matched?(r=lL(e,r),LL(r,e,t,i).pipe(L(s=>s===!0?o:E({},Hv)))):F(o)}function TM(n,e,t){if(e.path==="**")return BL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},Hv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LF)(t,n,e);if(!i)return E({},Hv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BL(n){return{matched:!0,parameters:n.length>0?cM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nM(n,e,t,r){return t.length>0&&zL(n,t,r)?{segmentGroup:new Ie(e,HL(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&qL(n,t,r)?{segmentGroup:new Ie(n.segments,$L(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function $L(n,e,t,r){let i={};for(let o of t)if(Gd(n,e,o)&&!r[Ln(o)]){let s=new Ie([],{});i[Ln(o)]=s}return E(E({},r),i)}function HL(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&Ln(r)!==ie){let i=new Ie([],{});t[Ln(r)]=i}return t}function zL(n,e,t){return t.some(r=>Gd(n,e,r)&&Ln(r)!==ie)}function qL(n,e,t){return t.some(r=>Gd(n,e,r))}function Gd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function WL(n,e,t){return e.length===0&&!n.children[t]}function GL(n,e,t,r,i,o,s="emptyOnly"){return new qv(n,e,t,r,i,s,o).recognize()}function YL(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function QL(n){let e=n.value.routeConfig;return e&&e.path===""}function OM(n){let e=[],t=new Set;for(let r of n){if(!QL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=OM(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!t.has(r))}function rM(n){return n.data||{}}function iM(n){return n.resolve||{}}function ZL(n,e,t,r,i,o){return Ve(s=>GL(n,e,t,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>$(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function JL(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return F(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of PM(c))s.add(l);let a=0;return W(s).pipe(cn(c=>o.has(c)?XL(c,r,n,e):(c.data=Ud(c,c.parent,n).resolve,F(void 0))),ne(()=>a++),Uo(1),Ve(c=>a===s.size?F(t):It))})}function PM(n){let e=n.children.map(t=>PM(t)).flat();return[n,...e]}function XL(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!EM(i)&&(o[Xa]=i.title),e2(o,n,e,r).pipe(L(s=>(n._resolvedData=s,n.data=Ud(n,n.parent,t).resolve,null)))}function e2(n,e,t,r){let i=wv(n);if(i.length===0)return F({});let o={};return W(i).pipe(Ve(s=>t2(n[s],e,t,r).pipe(Qn(),ne(a=>{if(a instanceof Qa)throw $d(new Ds,a);o[s]=a}))),Uo(1),ma(o),de(s=>IM(s)?It:nt(s)))}function t2(n,e,t,r){let i=tc(e)??r,o=xs(n,i),s=o.resolve?o.resolve(e,t):dn(i,()=>o(e,t));return hi(s)}function Cv(n){return Ue(e=>{let t=n(e);return t?W(t).pipe(L(()=>e)):F(e)})}function Kv(n){let e=n.children&&n.children.map(Kv),t=e?$(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=r2),t}function i2(n,e,t,r){return hi(n.loadChildren()).pipe(L(NM),Ve(i=>i instanceof Da||Array.isArray(i)?F(i):W(e.compileModuleAsync(i))),L(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(zd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Kv),injector:o}}))}function o2(n){return n&&typeof n=="object"&&"default"in n}function NM(n){return o2(n)?n.default:n}function a2(n,e,t){let r=n.get(RM),i=n.get(lt);return n.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),c2(n))),{onViewTransitionCreated:c}=r;return c&&dn(n,()=>c({transition:a,from:e,to:t})),s})}function c2(n){return new Promise(e=>{Rm({read:()=>setTimeout(e)},{injector:n})})}function u2(n){return n!==za}function LM(n,e){n.events.pipe(je(t=>t instanceof en||t instanceof Pr||t instanceof Ga||t instanceof fi),L(t=>t instanceof en||t instanceof fi?$a.COMPLETE:(t instanceof Pr?t.code===Xt.Redirect||t.code===Xt.SupersededByNewNavigation:!1)?$a.REDIRECTING:$a.FAILED),je(t=>t!==$a.REDIRECTING),Oe(1)).subscribe(()=>{e()})}function p2(n){throw n}function v2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new M(4008,!1)}function y2(n){return!(n instanceof Ka)&&!(n instanceof Ss)}function _2(n){return!!n.paths}function w2(n){return n.routerState.root}function oc(n,e){return{\u0275kind:n,\u0275providers:e}}function E2(){let n=y(Ze);return e=>{let t=n.get(vn);if(e!==t.components[0])return;let r=n.get(Te),i=n.get(UM);n.get(Jv)===1&&r.initialNavigation(),n.get(BM,null,ae.Optional)?.setUpPreloading(),n.get(jM,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function D2(){return oc(2,[{provide:Jv,useValue:0},{provide:fs,multi:!0,deps:[Ze],useFactory:e=>{let t=e.get(_D,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(UM);LM(i,()=>{r(!0)}),e.get(Zv).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}])}function M2(){return oc(3,[{provide:fs,multi:!0,useFactory:()=>{let e=y(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:Jv,useValue:2}])}function S2(n){return oc(0,[{provide:BM,useExisting:C2},{provide:qd,useExisting:n}])}function I2(){return oc(8,[tM,{provide:Wd,useExisting:tM}])}function x2(n){let e=[{provide:kM,useValue:a2},{provide:RM,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return oc(9,e)}function O2(){return{provide:jM,useFactory:()=>{let n=y(ID),e=y(ye),t=y(ic),r=y(Zv),i=y(ec);return t.scrollOffset&&n.setOffset(t.scrollOffset),new b2(i,r,n,e,t)}}}function P2(){return{provide:Tr,useClass:bD}}function A2(){return{provide:Tr,useClass:ev}}function N2(n){return"guarded"}function k2(n){return[n.initialNavigation==="disabled"?M2().\u0275providers:[],n.initialNavigation==="enabledBlocking"?D2().\u0275providers:[]]}function R2(){return[{provide:sM,useFactory:E2},{provide:rd,multi:!0,useExisting:sM}]}var ie,Xa,bv,jF,lM,Ar,Ie,oo,ec,Ds,zF,KF,YF,ZF,XF,Dv,kd,Cs,za,ut,_n,Ms,en,Xt,Rd,Pr,fi,Ga,Fd,Sv,Iv,xv,Tv,Ov,Pv,Av,Nv,kv,Rv,Ld,Ka,Ss,Fv,nc,Vd,Jt,jd,Ft,bs,Bd,Vn,Uv,Wd,tM,Qa,DM,mL,Bv,Hd,ws,Td,Za,Ja,$v,Hv,zv,KL,qv,AM,n2,ic,r2,zd,Yv,Qv,s2,kM,RM,l2,Zv,d2,Wv,f2,FM,h2,$a,g2,m2,Te,Cn,VM,qd,C2,jM,b2,UM,Jv,BM,oM,T2,Xv,sM,dt=p(()=>{"use strict";O();O();Me();xe();xe();Kr();ja();ie="primary",Xa=Symbol("RouteTitle"),bv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};jF={exact:uM,subset:dM},lM={exact:UF,subset:BF,ignored:()=>!0};Ar=class{constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Es(this.queryParams),this._queryParamMap}toString(){return zF.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pd(this)}},oo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Es(this.parameters),this._parameterMap}toString(){return pM(this)}};ec=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>new Ds,providedIn:"root"})}}return n})(),Ds=class{parse(e){let t=new Dv(e);return new Ar(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ua(e.root,!0)}`,r=GF(e.queryParams),i=typeof e.fragment=="string"?`#${qF(e.fragment)}`:"";return`${t}${r}${i}`}},zF=new Ds;KF=/^[^\/()?;#]+/;YF=/^[^\/()?;=#]+/;ZF=/^[^=?&#]+/;XF=/^[^&#]+/;Dv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new Ie(e,t)),r}parseSegment(){let e=vv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new oo(Ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=QF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=vv(this.remaining);i&&(r=i,this.capture(r))}e[Ad(t)]=Ad(r)}parseQueryParam(e){let t=JF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=eL(this.remaining);s&&(r=s,this.capture(r))}let i=JD(t),o=JD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};kd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nd(r[0]))throw new M(4003,!1);let i=r.find(Wa);if(i&&i!==cM(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Cs=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};za="imperative",ut=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ut||{}),_n=class{constructor(e,t){this.id=e,this.url=t}},Ms=class extends _n{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ut.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends _n{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),Rd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Rd||{}),Pr=class extends _n{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends _n{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ut.NavigationSkipped}},Ga=class extends _n{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fd=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sv=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class extends _n{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xv=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tv=class extends _n{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ov=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pv=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Av=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nv=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kv=class{constructor(e){this.snapshot=e,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rv=class{constructor(e){this.snapshot=e,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ld=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ut.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ka=class{},Ss=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};Fv=class{get injector(){return tc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new nc(this.rootInjector),this.attachRef=null}},nc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Fv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(A(Pt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Lv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Lv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Vv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vv(e,this._root).map(t=>t.value)}};Jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};jd=class extends Vd{constructor(e,t){super(e),this.snapshot=t,Gv(this,e)}toString(){return this.snapshot.toString()}};Ft=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Xa]))??F(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Es(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Es(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};bs=class{get title(){return this.data?.[Xa]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Es(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Es(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Bd=class extends Vd{constructor(e,t){super(t),this.url=e,Gv(this,t)}toString(){return wM(this._root)}};Vn=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=y(nc),this.location=y(oi),this.changeDetector=y(Mr),this.inputBinder=y(Wd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Uv(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kn]})}}return n})(),Uv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ft?this.route:e===nc?this.childContexts:this.parent.get(e,t)}},Wd=new k(""),tM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ha([r.queryParams,r.params,r.data]).pipe(Ue(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=uD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();Qa=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},DM="ngNavigationCancelingError";mL=(n,e,t,r)=>L(i=>(new Bv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Bv=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_v(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=_s(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=_s(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Nv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(_v(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_v(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Hd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ws=class{constructor(e,t){this.component=e,this.route=t}};Td=Symbol("INITIAL_VALUE");Za=class{constructor(e){this.segmentGroup=e||null}},Ja=class extends Error{constructor(e){super(),this.urlTree=e}};$v=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[ie])return VL(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:C,title:w}=i,P=dn(o,()=>a({params:g,data:C,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:w}));if(P instanceof Ar)throw new Ja(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ja(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ar(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Hv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};zv=class{};KL=31,qv=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $v(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=nM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:t,rootSnapshot:r})=>{let i=new Jt(r,t),o=new Bd("",i),s=nL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bs([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(L(r=>({children:r,rootSnapshot:t})),de(r=>{if(r instanceof Ja)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Za?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(L(s=>s instanceof Jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return W(o).pipe(cn(s=>{let a=r.children[s],c=uL(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Rp((s,a)=>(s.push(...a),s)),Gr(null),Ap(),Ve(s=>{if(s===null)return ys(r);let a=OM(s);return YL(a),F(a)}))}processSegment(e,t,r,i,o,s,a){return W(t).pipe(cn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(de(l=>{if(l instanceof Za)return F(null);throw l}))),Qn(c=>!!c),de(c=>{if(IM(c))return WL(r,i,o)?F(new zv):ys(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Ln(r)!==s&&(s===ie||!Gd(i,o,r))?ys(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ys(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=TM(t,i,o);if(!c)return ys(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>KL&&(this.allowRedirects=!1));let g=new bs(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,rM(i),Ln(i),i.component??i._loadedComponent??null,i,iM(i)),C=Ud(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(C.params),g.data=Object.freeze(C.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ve(P=>this.processSegment(e,r,t,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=UL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ue(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ue(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,C=new bs(m,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,rM(r),Ln(r),r.component??r._loadedComponent??null,r,iM(r)),w=Ud(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(w.params),C.data=Object.freeze(w.data);let{segmentGroup:P,slicedSegments:B}=nM(t,m,g,l);if(B.length===0&&P.hasChildren())return this.processChildren(u,l,P,C).pipe(L(K=>new Jt(C,K)));if(l.length===0&&B.length===0)return F(new Jt(C,[]));let oe=Ln(r)===o;return this.processSegment(u,l,P,B,oe?ie:o,!0,C).pipe(L(K=>new Jt(C,K instanceof Jt?[K]:[])))}))):ys(t)))}getChildConfig(e,t,r){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):FL(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):jL(t))):F({routes:[],injector:e})}};AM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Xa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>y(n2),providedIn:"root"})}}return n})(),n2=(()=>{class n extends AM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(A(YD))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ic=new k("",{providedIn:"root",factory:()=>({})}),r2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ee({type:n,selectors:[["ng-component"]],standalone:!0,features:[KE],decls:1,vars:0,template:function(r,i){r&1&&R(0,"router-outlet")},dependencies:[Vn],encapsulation:2})}}return n})();zd=new k(""),Yv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(id)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=hi(t.loadComponent()).pipe(L(NM),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Wt(()=>{this.componentLoaders.delete(t)})),i=new Wr(r,()=>new he).pipe(Oo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=i2(r,this.compiler,t,this.onLoadEndListener).pipe(Wt(()=>{this.childrenLoaders.delete(r)})),s=new Wr(o,()=>new he).pipe(Oo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Qv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>y(s2),providedIn:"root"})}}return n})(),s2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kM=new k(""),RM=new k("");l2=new k(""),Zv=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=y(Yv),this.environmentInjector=y(Pt),this.urlSerializer=y(ec),this.rootContexts=y(nc),this.location=y(ps),this.inputBindingEnabled=y(Wd,{optional:!0})!==null,this.titleStrategy=y(AM),this.options=y(ic,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(Qv),this.createViewTransition=y(kM,{optional:!0}),this.navigationErrorHandler=y(l2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Ov(i)),r=i=>this.events.next(new Pv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ve({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:za,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(je(o=>o.id!==0),L(o=>$(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{let s=!1,a=!1;return F(o).pipe(Ue(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.rawUrl),d,Rd.IgnoredSameUrlNavigation)),c.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(Ue(d=>{let m=this.transitions?.getValue();return this.events.next(new Ms(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?It:Promise.resolve(d)}),ZL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=$(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Fd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:C,extras:w}=c,P=new Ms(d,this.urlSerializer.serialize(m),g,C);this.events.next(P);let B=bM(this.rootComponentType).snapshot;return this.currentTransition=o=$(E({},c),{targetSnapshot:B,urlAfterRedirects:m,extras:$(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,F(o)}else{let d="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Rd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),It}}),ne(c=>{let l=new Sv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),L(c=>(this.currentTransition=o=$(E({},c),{guards:vL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),xL(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw $d(this.urlSerializer,c.guardsResult);let l=new Iv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),je(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Xt.GuardRejected),!1)),Cv(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(ne(l=>{let u=new xv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ue(l=>{let u=!1;return F(l).pipe(JL(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),ne(l=>{let u=new Tv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Cv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(m=>{u.component=m}),L(()=>{})));for(let m of u.children)d.push(...l(m));return d};return ha(l(c.targetSnapshot.root)).pipe(Gr(null),Oe(1))}),Cv(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?W(u).pipe(L(()=>o)):F(o)}),L(c=>{let l=fL(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new Ka)}),mL(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Oe(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Zn(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),Wt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),de(c=>{if(a=!0,SM(c))this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),gL(c)?this.events.next(new Ss(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ga(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Qa){let{message:d,cancellationCode:m}=$d(this.urlSerializer,u);this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new Ss(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return It}))}))}cancelNavigationTransition(t,r,i){let o=new Pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();d2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>y(f2),providedIn:"root"})}}return n})(),Wv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},f2=(()=>{class n extends Wv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})()}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:()=>y(h2),providedIn:"root"})}}return n})(),h2=(()=>{class n extends FM{constructor(){super(...arguments),this.location=y(ps),this.urlSerializer=y(ec),this.options=y(ic,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(Qv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ms)this.stateMemento=this.createStateMemento();else if(t instanceof fi)this.rawUrlTree=r.initialUrl;else if(t instanceof Fd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ka?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Pr&&(t.code===Xt.GuardRejected||t.code===Xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ga?this.restoreHistory(r,!0):t instanceof en&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ar?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})()}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$a=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}($a||{});g2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(ed),this.stateManager=y(FM),this.options=y(ic,{optional:!0})||{},this.pendingTasks=y(Er),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(Zv),this.urlSerializer=y(ec),this.location=y(ps),this.urlHandlingStrategy=y(Qv),this._events=new he,this.errorHandler=this.options.errorHandler||p2,this.navigated=!1,this.routeReuseStrategy=y(d2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(zd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Wd,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof en)this.navigated=!0;else if(r instanceof Ss){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||u2(i.source)},s);this.scheduleNavigation(a,za,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}y2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),za,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Kv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=vM(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return yM(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ao(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,za,null,r)}navigate(t,r={skipLocationChange:!1}){return v2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},g2):r===!1?i=E({},m2):i=r,ao(t))return ZD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ZD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return LM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Cn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ao(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Yw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ao(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Ft),fm("tabindex"),D(Dr),D(Nt),D(Tr))}}static{this.\u0275dir=pe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&T("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&as("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ai],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ai],replaceUrl:[2,"replaceUrl","replaceUrl",ai],routerLink:"routerLink"},standalone:!0,features:[Nm,kn]})}}return n})(),VM=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new se,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof en&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(Kn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=W(t).pipe(Kn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=_2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Nt),D(Dr),D(Mr),D(Cn,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&WE(o,Cn,5),r&2){let s;cs(s=ls())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[kn]})}}return n})();qd=class{},C2=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(je(t=>t instanceof en),cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Zu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return W(i).pipe(Kn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=F(null);let o=i.pipe(Ve(s=>s===null?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return W([o,s]).pipe(Kn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(A(Te),A(id),A(Pt),A(qd),A(Yv))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jM=new k(""),b2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ms?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof en?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fi&&t.code===Rd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ld&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ld(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){cE()}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();UM=new k("",{factory:()=>new he}),Jv=new k("",{providedIn:"root",factory:()=>1});BM=new k("");oM=new k("ROUTER_FORROOT_GUARD"),T2=[ps,{provide:ec,useClass:Ds},Te,nc,{provide:Ft,useFactory:w2,deps:[Te]},Yv,[]],Xv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[T2,[],{provide:zd,multi:!0,useValue:t},{provide:oM,useFactory:N2,deps:[[Te,new Nu,new Yg]]},{provide:ic,useValue:r||{}},r?.useHash?P2():A2(),O2(),r?.preloadingStrategy?S2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?k2(r):[],r?.bindToComponentInputs?I2().\u0275providers:[],r?.enableViewTransitions?x2().\u0275providers:[],R2()]}}static forChild(t){return{ngModule:n,providers:[{provide:zd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(A(oM,8))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})();sM=new k("")});var Kd,$M=p(()=>{"use strict";Kr();Me();O();Ra();Kd=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(st(1),de(e=>(console.log("err:",e),nt(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(st(1),de(e=>(console.log("err:",e),nt(()=>e))))}static \u0275fac=function(t){return new(t||n)(A(io))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var F2,L2,ft,sc=p(()=>{"use strict";F2=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],L2=!F2.includes(window.location.hostname),ft={baseURL:L2?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function ac(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var HM=p(()=>{"use strict"});function lc(n,e=200){return I(this,null,function*(){if(cc){let t=ac();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ft.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function V2(n,e){return I(this,null,function*(){if(cc){let t=yield fetch(`${ft.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield lc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function j2(n,e){return I(this,null,function*(){let t=`${ft.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function U2(n,e,t){return I(this,null,function*(){if(cc){let r=t?`${ft.baseURL}/${t}`:`${ft.baseURL}/${n}`,i={"Content-Type":"application/json"},o=ac();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=$(E({},e),{_id:H2()}),i=yield lc(n);return i.push(r),ey(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function B2(n,e){return I(this,null,function*(){if(cc){let t=`${ft.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=ac();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield lc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),ey(n,t),e}})}function $2(n,e){return I(this,null,function*(){if(cc){let t=ac();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ft.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield lc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),ey(n,t)}})}function ey(n,e){localStorage.setItem(n,JSON.stringify(e))}function H2(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var ht,cc,ty=p(()=>{"use strict";sc();HM();ht={post:U2,get:V2,put:B2,remove:$2,query:lc,login:j2},cc=!0});var zM,z2,Yd,qM=p(()=>{"use strict";zM="dzqnyehxn",z2="fuhrsp2z",Yd={CLOUD_NAME:zM,UPLOAD_PRESET:z2,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${zM}/${n}/upload`}});var pi,Qd=p(()=>{"use strict";qM();Me();O();pi=class n{cloudName=Yd.CLOUD_NAME;uploadPreset=Yd.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=Yd.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),W(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Un,uc,dc,Zd=p(()=>{"use strict";Un=Object.create(null);Un.open="0";Un.close="1";Un.ping="2";Un.pong="3";Un.message="4";Un.upgrade="5";Un.noop="6";uc=Object.create(null);Object.keys(Un).forEach(n=>{uc[Un[n]]=n});dc={type:"error",data:"parser error"}});function KM(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function JM(n,e){if(YM&&n.data instanceof Blob)return n.data.arrayBuffer().then(KM).then(e);if(QM&&(n.data instanceof ArrayBuffer||ZM(n.data)))return e(KM(n.data));fc(n,!1,t=>{ny||(ny=new TextEncoder),e(ny.encode(t))})}var YM,QM,ZM,fc,GM,ny,XM=p(()=>{"use strict";Zd();YM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",QM=typeof ArrayBuffer=="function",ZM=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,fc=({type:n,data:e},t,r)=>YM&&e instanceof Blob?t?r(e):GM(e,r):QM&&(e instanceof ArrayBuffer||ZM(e))?t?r(e):GM(new Blob([e]),r):r(Un[n]+(e||"")),GM=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var eS,hc,tS,nS=p(()=>{"use strict";eS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<eS.length;n++)hc[eS.charCodeAt(n)]=n;tS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=hc[n.charCodeAt(r)],s=hc[n.charCodeAt(r+1)],a=hc[n.charCodeAt(r+2)],c=hc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var q2,pc,W2,rS,iS=p(()=>{"use strict";Zd();nS();q2=typeof ArrayBuffer=="function",pc=(n,e)=>{if(typeof n!="string")return{type:"message",data:rS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:W2(n.substring(1),e)}:uc[t]?n.length>1?{type:uc[t],data:n.substring(1)}:{type:uc[t]}:dc},W2=(n,e)=>{if(q2){let t=tS(n);return rS(t,e)}else return{base64:!0,data:n}},rS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function cS(){return new TransformStream({transform(n,e){JM(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function Jd(n){return n.reduce((e,t)=>e+t.length,0)}function Xd(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function lS(n,e){ry||(ry=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(Jd(t)<1)break;let c=Xd(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Jd(t)<2)break;let c=Xd(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Jd(t)<8)break;let c=Xd(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(dc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(Jd(t)<i)break;let c=Xd(t,i);a.enqueue(pc(o?c:ry.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(dc);break}}}})}var oS,sS,aS,ry,iy,Ts=p(()=>{"use strict";XM();iS();Zd();oS="",sS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{fc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(oS))})})},aS=(n,e)=>{let t=n.split(oS),r=[];for(let i=0;i<t.length;i++){let o=pc(t[i],e);if(r.push(o),o.type==="error")break}return r};iy=4});function ke(n){if(n)return G2(n)}function G2(n){for(var e in ke.prototype)n[e]=ke.prototype[e];return n}var co=p(()=>{"use strict";ke.prototype.on=ke.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};ke.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};ke.prototype.off=ke.prototype.removeListener=ke.prototype.removeAllListeners=ke.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};ke.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};ke.prototype.emitReserved=ke.prototype.emit;ke.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};ke.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Nr,Lt,uS,lo=p(()=>{"use strict";Nr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Lt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),uS="arraybuffer"});function ef(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function kr(n,e){e.useNativeTimers?(n.setTimeoutFn=K2.bind(Lt),n.clearTimeoutFn=Y2.bind(Lt)):(n.setTimeoutFn=Lt.setTimeout.bind(Lt),n.clearTimeoutFn=Lt.clearTimeout.bind(Lt))}function dS(n){return typeof n=="string"?Z2(n):Math.ceil((n.byteLength||n.size)*Q2)}function Z2(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function tf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var K2,Y2,Q2,uo=p(()=>{"use strict";lo();K2=Lt.setTimeout,Y2=Lt.clearTimeout;Q2=1.33});function fS(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function hS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var oy=p(()=>{"use strict"});var nf,Rr,gc=p(()=>{"use strict";Ts();co();uo();oy();nf=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Rr=class extends ke{constructor(e){super(),this.writable=!1,kr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new nf(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=pc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=fS(e);return t.length?"?"+t:""}}});var mc,sy=p(()=>{"use strict";gc();uo();Ts();mc=class extends Rr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};aS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,sS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=tf()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var pS,gS,mS=p(()=>{"use strict";pS=!1;try{pS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}gS=pS});function J2(){}function vS(){for(let n in rf.requests)rf.requests.hasOwnProperty(n)&&rf.requests[n].abort()}function yS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||gS))return new XMLHttpRequest}catch{}if(!e)try{return new Lt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var ay,rf,X2,gi,of=p(()=>{"use strict";sy();co();uo();lo();mS();ay=class extends mc{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},rf=(()=>{class n extends ke{constructor(t,r,i){super(),this.createRequest=t,kr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=ef(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=J2,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vS);else if(typeof addEventListener=="function"){let n="onpagehide"in Lt?"pagehide":"unload";addEventListener(n,vS,!1)}}X2=function(){let n=yS({xdomain:!1});return n&&n.responseType!==null}(),gi=class extends ay{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=X2&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new rf(yS,this.uri(),e)}}});var _S,ly,cy,mi,sf=p(()=>{"use strict";gc();uo();Ts();lo();_S=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",ly=class extends Rr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=_S?{}:ef(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;fc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=tf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},cy=Lt.WebSocket||Lt.MozWebSocket,mi=class extends ly{createSocket(e,t,r){return _S?new cy(e,t,r):t?new cy(e,t):new cy(e)}doWrite(e,t){this.ws.send(t)}}});var Os,uy=p(()=>{"use strict";gc();lo();Ts();Os=class extends Rr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=lS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=cS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var dy,fy=p(()=>{"use strict";of();sf();uy();dy={websocket:mi,webtransport:Os,polling:gi}});function Ps(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=eV.exec(n||""),o={},s=14;for(;s--;)o[tV[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=nV(o,o.path),o.queryKey=rV(o,o.query),o}function nV(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function rV(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var eV,tV,hy=p(()=>{"use strict";eV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var py,af,cf,lf,As,gy=p(()=>{"use strict";fy();uo();oy();hy();co();Ts();lo();py=typeof addEventListener=="function"&&typeof removeEventListener=="function",af=[];py&&addEventListener("offline",()=>{af.forEach(n=>n())},!1);cf=(()=>{class n extends ke{constructor(t,r){if(super(),this.binaryType=uS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Ps(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Ps(r.host).host);kr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hS(this.opts.query)),py&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},af.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=iy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=dS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Nr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),py&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=af.indexOf(this._offlineEventListener);i!==-1&&af.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=iy,n})(),lf=class extends cf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;cf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;cf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=t.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},As=class extends lf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>dy[i]).filter(i=>!!i)),super(e,r)}}});var CS=p(()=>{"use strict";sy()});var BK,uf=p(()=>{"use strict";gy();gy();gc();fy();uo();hy();lo();CS();of();of();sf();sf();uy();BK=As.protocol});function bS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Ps(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var wS=p(()=>{"use strict";uf()});function yc(n){return oV&&(n instanceof ArrayBuffer||sV(n))||aV&&n instanceof Blob||cV&&n instanceof File}function vc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(vc(n[t]))return!0;return!1}if(yc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return vc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&vc(n[t]))return!0;return!1}var oV,sV,ES,aV,cV,my=p(()=>{"use strict";oV=typeof ArrayBuffer=="function",sV=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ES=Object.prototype.toString,aV=typeof Blob=="function"||typeof Blob<"u"&&ES.call(Blob)==="[object BlobConstructor]",cV=typeof File=="function"||typeof File<"u"&&ES.call(File)==="[object FileConstructor]"});function DS(n){let e=[],t=n.data,r=n;return r.data=vy(t,e),r.attachments=e.length,{packet:r,buffers:e}}function vy(n,e){if(!n)return n;if(yc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=vy(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=vy(n[r],e));return t}return n}function MS(n,e){return n.data=yy(n.data,e),delete n.attachments,n}function yy(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=yy(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=yy(n[t],e));return n}var SS=p(()=>{"use strict";my()});var wy={};qT(wy,{Decoder:()=>Cy,Encoder:()=>_y,PacketType:()=>fe,protocol:()=>xS});function IS(n){return Object.prototype.toString.call(n)==="[object Object]"}var lV,xS,fe,_y,Cy,by,df=p(()=>{"use strict";co();SS();my();lV=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],xS=5,fe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(fe||{}),_y=class{constructor(e){this.replacer=e}encode(e){return(e.type===fe.EVENT||e.type===fe.ACK)&&vc(e)?this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=DS(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};Cy=class n extends ke{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===fe.BINARY_EVENT;r||t.type===fe.BINARY_ACK?(t.type=r?fe.EVENT:fe.ACK,this.reconstructor=new by(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(yc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case fe.CONNECT:return IS(t);case fe.DISCONNECT:return t===void 0;case fe.CONNECT_ERROR:return typeof t=="string"||IS(t);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&lV.indexOf(t[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},by=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=MS(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function tn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Ey=p(()=>{"use strict"});var uV,Ns,Dy=p(()=>{"use strict";df();Ey();co();uV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ns=class extends ke{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[tn(e,"open",this.onopen.bind(this)),tn(e,"packet",this.onpacket.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(uV.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:fe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:fe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function fo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var TS=p(()=>{"use strict";fo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};fo.prototype.reset=function(){this.attempts=0};fo.prototype.setMin=function(n){this.ms=n};fo.prototype.setMax=function(n){this.max=n};fo.prototype.setJitter=function(n){this.jitter=n}});var ks,OS=p(()=>{"use strict";uf();Dy();df();Ey();TS();co();ks=class extends ke{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,kr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new fo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||wy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new As(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=tn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=tn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(tn(e,"ping",this.onping.bind(this)),tn(e,"data",this.ondata.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Nr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ns(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function Cc(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=bS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=_c[i]&&o in _c[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new ks(r,e):(_c[i]||(_c[i]=new ks(r,e)),c=_c[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var _c,PS=p(()=>{"use strict";wS();OS();Dy();df();uf();_c={};Object.assign(Cc,{Manager:ks,Socket:Ns,io:Cc,connect:Cc})});var Rs,My=p(()=>{"use strict";O();Rs=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function NS(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var OY,dV,fV,hV,pV,gV,mV,vV,bn,Fs=p(()=>{"use strict";PS();Et();O();My();OY=NS(),dV="chat-add-msg",fV="chat-add-private-msg",hV="chat-send-msg",pV="chat-set-topic",gV="chat-send-private-msg",mV="set-user-socket",vV="unset-user-socket",bn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=NS(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=Cc(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(pV,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(hV,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i){this.socket||this.setup();let o=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",o),!o||!e||!t.trim()&&!r&&!i){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:o,toUserId:e,msg:t,imageUrl:r,videoUrl:i});return}let s={sender:o._id,senderName:o.username,text:t||"",imageUrl:r||void 0,videoUrl:i||void 0,toUserId:e};this.addToBuffer($(E({},s),{senderName:"Me"})),console.log("\u2705 Sending private message:",s),this.socket?.emit(gV,{toUserId:e,text:t,imageUrl:r,videoUrl:i,sender:o._id,senderName:o.username})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(mV,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(dV,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(fV,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=$(E({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(vV)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(A(Ze),A(Rs))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var bc,vi,kS,RS,yi,Ce,Et=p(()=>{"use strict";Me();ty();sc();O();Qd();Fs();bc="user",vi="loggedInUser",kS="facebookId",RS="facebookAccessToken",yi="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(vi)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new ve([]);users$=this._users$.asObservable();_filterBy$=new ve("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new ve(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){W(ht.query(bc)).pipe(ne(e=>{this._users$.next(this._sort(e))}),de(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(vi)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(vi)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(vi,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(yi,e),sessionStorage.setItem(yi,e)}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(yi)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(yi)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(yi)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(yi)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(yi)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${ft.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={username:e,password:t};return W(ht.login("auth/login",r)).pipe(ne(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(vi,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),L(i=>i.user),de(this._handleError))}loginWithFacebook(e){return W(ht.login("auth/facebook",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(vi,JSON.stringify(t)),localStorage.setItem(kS,e.facebookId),localStorage.setItem(RS,e.accessToken),this.socketService.login(t._id)}),de(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(vi),localStorage.removeItem(kS),localStorage.removeItem(RS),localStorage.removeItem(yi),this.socketService.logout()}loadUsers(){return W(ht.query(bc)).pipe(L(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),ne(e=>this._users$.next(e)),st(3),de(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(Oe(1)).subscribe()}deleteUser(e){return W(ht.remove(bc,e)).pipe(ne(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),st(2),de(this._handleError))}getUserById(e){return W(ht.get(bc,e)).pipe(st(3),de(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=$(E({},e),{_id:this._getRandomId()});return W(ht.post("auth/signup",t)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),st(3),de(this._handleError))}_updateUser(e){return W(ht.put(bc,e)).pipe(ne(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),st(3),de(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),nt(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?W(ht.put("user/updateProfile",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(vi,JSON.stringify(t))}),de(this._handleError)):nt(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Ue(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return nt(()=>new Error("No logged-in user found. Please log in."));let i=$(E({},r),{img:t});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),de(t=>(console.error("Error updating user image:",t.message||t),nt(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(A(pi),A(bn))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function ff(n,e){return{type:te.Trigger,name:n,definitions:e,options:{}}}function Dc(n,e=null){return{type:te.Animate,styles:e,timings:n}}function FS(n,e=null){return{type:te.Sequence,steps:n,options:e}}function Bn(n){return{type:te.Style,styles:n,offset:null}}function Iy(n,e,t){return{type:te.State,name:n,styles:e,options:t}}function Mc(n,e,t=null){return{type:te.Transition,expr:n,animation:e,options:t}}var te,lr,_i,Ec,hf,pf=p(()=>{"use strict";te=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(te||{}),lr="*";_i=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ec=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},hf="!"});var Sc,Vt,Ci=p(()=>{"use strict";Me();ty();O();Sc="contact",Vt=class n{_contacts$=new ve([]);contacts$=this._contacts$.asObservable();_filterBy$=new ve({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){W(ht.query(Sc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),de(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return nt(()=>new Error("Contact not found"));let i=$(E({},r),{img:t});return W(ht.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),de(o=>this._handleError(o)))}loadContacts(){return W(ht.query(Sc)).pipe(ne(e=>{let t=this._filterBy$.value;e=e.map(r=>$(E({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),st(1),de(this._handleError))}deleteContact(e){return W(ht.remove(Sc,e)).pipe(ne(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),st(1),de(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(Oe(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return W(ht.get(Sc,e)).pipe(st(1),de(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),W(ht.put("contact/edit",e)).pipe(ne(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),st(1),de(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),W(ht.post(Sc,e)).pipe(ne(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),st(1),de(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),nt(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ls,xy=p(()=>{"use strict";O();Ls=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function zt(n){n||(nm(zt),n=y(At));let e=new J(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(Zn(e))}var Vs=p(()=>{"use strict";O();Me();Kr();});var Dt,bi=p(()=>{"use strict";O();Me();Vs();O();Dt=class n{destroyRef=y(At);_msg=new ve(null);msg$=this._msg.asObservable().pipe(mr());_msgQueue$=new he;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(cn(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?F(null):(this._currentMsg=e,F(e).pipe(ne(()=>this._msg.next(e)),ln(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(zt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Mt,wi=p(()=>{"use strict";O();Mt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&T("click",function(o){return r.onClick(o)})}})}});function yV(n,e){if(n&1&&(_t(0),h(1,"h1"),v(2),f(),R(3,"img",3),Ct()),n&2){let t=x();_(2),_e("Hello: ",t.logdinUser.username,"!"),_(),b("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",at)}}function _V(n,e){if(n&1){let t=Y();h(0,"h1"),v(1," Welcome!"),R(2,"br"),v(3," Please login or sign up"),R(4,"br"),h(5,"span",4),R(6,"img",5),f()(),h(7,"section",6)(8,"a",7),v(9,"Login"),f(),h(10,"a",8),v(11,"Sign Up"),f(),h(12,"button",9),T("click",function(){j(t);let i=x();return U(i.loginWithFacebook())}),R(13,"img",10),h(14,"span",11),v(15,"Login with Facebook"),f()()()}}var gf,VS=p(()=>{"use strict";O();$M();Me();Et();pf();Ci();O();xy();bi();dt();xe();wi();gf=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=y(Kd);userService=y(Ce);logdinUser=this.userService.getLoggedInUser();contactService=y(Vt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(Oe(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Ls),D(Dt),D(Te))};static \u0275cmp=ee({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(h(0,"section",1),N(1,yV,4,2,"ng-container",2)(2,_V,16,0,"ng-template",null,0,sr),f()),t&2){let i=bt(3);_(),b("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[Se,Cn,Mt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[ff("bounceArrow",[Iy("up",Bn({transform:"translateY(-10px)"})),Iy("down",Bn({transform:"translateY(10px)"})),Mc("up <=> down",[Dc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var wn,Bs=p(()=>{"use strict";O();O();wn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new se;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(Nt))};static \u0275dir=pe({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function CV(n,e){if(n&1){let t=Y();h(0,"div",1)(1,"div",2),T("clickOutsideCapture",function(){j(t);let i=x();return U(i.cancel())}),h(2,"p"),v(3),f(),h(4,"div",3)(5,"button",4),T("click",function(){j(t);let i=x();return U(i.confirm())}),v(6,"Yes"),f(),h(7,"button",4),T("click",function(){j(t);let i=x();return U(i.cancel())}),v(8,"No"),f()()()()}if(n&2){let t=x();_(3),wt(t.message)}}var $s,Ty=p(()=>{"use strict";O();O();xe();wi();Bs();$s=class n{isVisible=!1;message="";confirmed=new se;canceled=new se;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&N(0,CV,9,1,"div",0),t&2&&b("ngIf",r.isVisible)},dependencies:[Se,Mt,wn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var US,bV,vf,BS=p(()=>{"use strict";O();O();dt();bi();xy();xe();Ty();wi();US=n=>({"long-name":n}),bV=n=>["/contact/edit",n],vf=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new se;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Te),D(Dt),D(Ls))};static \u0275cmp=ee({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:16,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",3,"src"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"contact-last-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(h(0,"article",0),T("click",function(){return r.onPreviewClick()}),R(1,"img",1),h(2,"div",2)(3,"h1",3),v(4),f(),h(5,"h1",4),v(6),f()(),h(7,"div",5)(8,"button",6),T("click",function(){return r.onDeleteClick()}),R(9,"img",7),f(),h(10,"button",8),T("click",function(){return r.onEditClick()}),R(11,"img",9),f(),h(12,"button",10),T("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),R(13,"img",11),f()()(),h(14,"app-modal",12),T("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),R(15,"router-outlet")),t&2&&(_(),b("src",r.contact.img?r.contact.img:"../../../assets/images/contact.png",at),_(2),b("ngClass",ds(8,US,r.isLongName)),_(),_e(" ",r.contact.name," "),_(),b("ngClass",ds(10,US,r.isLongName)),_(),_e(" ",r.contact.lastName," "),_(4),b("routerLink",ds(12,bV,r.contact._id)),_(4),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[gs,Vn,Cn,$s,Mt],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:300px;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 70px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0 auto;font-size:1.25rem;color:#1c284e;cursor:pointer;font-weight:700;text-align:center;min-width:100px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;min-width:unset}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]})}});function EV(n,e){if(n&1){let t=Y();h(0,"contact-preview",2),T("remove",function(){let i=j(t).$implicit,o=x();return U(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;b("contact",t)}}var yf,$S=p(()=>{"use strict";O();dt();Me();O();dt();xe();BS();yf=class n{constructor(e){this.router=e}contacts;remove=new se;destroy$=new he;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(je(e=>e instanceof en)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=ee({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(h(0,"section",0),N(1,EV,1,1,"contact-preview",1),f()),t&2&&(_(),b("ngForOf",r.contacts))},dependencies:[ms,vf],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function IV(){let n=ar()?ar().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Ei(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function JS(n){return n!=null&&typeof n.length=="number"}function OV(n){return e=>{if(Ei(e.value)||Ei(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function PV(n){return e=>{if(Ei(e.value)||Ei(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function XS(n){return Ei(n.value)?{required:!0}:null}function AV(n){return n.value===!0?null:{required:!0}}function NV(n){return Ei(n.value)||TV.test(n.value)?null:{email:!0}}function eI(n){return e=>Ei(e.value)||!JS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function kV(n){return e=>JS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function RV(n){if(!n)return Cf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ei(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Cf(n){return null}function tI(n){return n!=null}function nI(n){return si(n)?W(n):n}function rI(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function iI(n,e){return e.map(t=>t(n))}function FV(n){return!n.validate}function oI(n){return n.map(e=>FV(e)?e:t=>e.validate(t))}function sI(n){if(!n)return null;let e=n.filter(tI);return e.length==0?null:function(t){return rI(iI(t,e))}}function Fy(n){return n!=null?sI(oI(n)):null}function aI(n){if(!n)return null;let e=n.filter(tI);return e.length==0?null:function(t){let r=iI(t,e).map(nI);return Cp(r).pipe(L(rI))}}function Ly(n){return n!=null?aI(oI(n)):null}function HS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cI(n){return n._rawValidators}function lI(n){return n._rawAsyncValidators}function Oy(n){return n?Array.isArray(n)?n:[n]:[]}function bf(n,e){return Array.isArray(n)?n.includes(e):n===e}function zS(n,e){let t=Oy(e);return Oy(n).forEach(i=>{bf(t,i)||t.push(i)}),t}function qS(n,e){return Oy(e).filter(t=>!bf(n,t))}function Vy(n){return(xf(n)?n.validators:n)||null}function VV(n){return Array.isArray(n)?Fy(n):n||null}function jy(n,e){return(xf(e)?e.asyncValidators:n)||null}function jV(n){return Array.isArray(n)?Ly(n):n||null}function xf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function uI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")}function dI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new M(1002,"")})}function fI(n,e){return[...e.path,n]}function Mf(n,e,t=Tf){Uy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),BV(n,e),HV(n,e),$V(n,e),UV(n,e)}function WS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),If(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function UV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Uy(n,e){let t=cI(n);e.validator!==null?n.setValidators(HS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lI(n);e.asyncValidator!==null?n.setAsyncValidators(HS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Sf(e._rawValidators,i),Sf(e._rawAsyncValidators,i)}function If(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=cI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=lI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Sf(e._rawValidators,r),Sf(e._rawAsyncValidators,r),t}function BV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&hI(n,e)})}function $V(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&hI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function hI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pI(n,e){n==null,Uy(n,e)}function zV(n,e){return If(n,e)}function gI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function qV(n){return Object.getPrototypeOf(n.constructor)===MV}function mI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vI(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===En?t=o:qV(o)?r=o:i=o}),i||r||t||null}function WV(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function JV(n){return typeof n=="number"?n:parseInt(n,10)}function QS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ZS,MV,Ry,SV,xV,En,Dn,Gs,TV,$n,wf,Fr,ho,Ef,LV,eZ,ur,Ks,Ic,_f,Hs,xc,Di,Df,Oc,Pc,zs,Py,Ay,qs,Ws,Ny,Nc,Tf,GV,Tc,kc,Ac,KV,YV,YS,Lr,Ys,yI,QV,By,ZV,$y,_I,XV,Hy,ej,zy,CI,ky,bI,wI,EI,nn=p(()=>{"use strict";O();O();xe();Me();Kr();ZS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Dr),D(Nt))}}static{this.\u0275dir=pe({type:n})}}return n})(),MV=(()=>{class n extends ZS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})()}static{this.\u0275dir=pe({type:n,features:[hn]})}}return n})(),Ry=new k(""),SV={provide:Ry,useExisting:ir(()=>En),multi:!0};xV=new k(""),En=(()=>{class n extends ZS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!IV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Dr),D(Nt),D(xV,8))}}static{this.\u0275dir=pe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&T("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ct([SV]),hn]})}}return n})();Dn=new k(""),Gs=new k(""),TV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$n=class{static min(e){return OV(e)}static max(e){return PV(e)}static required(e){return XS(e)}static requiredTrue(e){return AV(e)}static email(e){return NV(e)}static minLength(e){return eI(e)}static maxLength(e){return kV(e)}static pattern(e){return RV(e)}static nullValidator(e){return Cf(e)}static compose(e){return sI(e)}static composeAsync(e){return aI(e)}};wf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ly(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Fr=class extends wf{get formDirective(){return null}get path(){return null}},ho=class extends wf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ef=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},LV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eZ=$(E({},LV),{"[class.ng-submitted]":"isSubmitted"}),ur=(()=>{class n extends Ef{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(ho,2))}}static{this.\u0275dir=pe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ju("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[hn]})}}return n})(),Ks=(()=>{class n extends Ef{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Fr,10))}}static{this.\u0275dir=pe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ju("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[hn]})}}return n})(),Ic="VALID",_f="INVALID",Hs="PENDING",xc="DISABLED",Di=class{},Df=class extends Di{constructor(e,t){super(),this.value=e,this.source=t}},Oc=class extends Di{constructor(e,t){super(),this.pristine=e,this.source=t}},Pc=class extends Di{constructor(e,t){super(),this.touched=e,this.source=t}},zs=class extends Di{constructor(e,t){super(),this.status=e,this.source=t}},Py=class extends Di{constructor(e){super(),this.source=e}},Ay=class extends Di{constructor(e){super(),this.source=e}};qs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ro(()=>this.statusReactive()),this.statusReactive=no(void 0),this._pristine=ro(()=>this.pristineReactive()),this.pristineReactive=no(!0),this._touched=ro(()=>this.touchedReactive()),this.touchedReactive=no(!1),this._events=new he,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qt(this.statusReactive)}set status(e){Qt(()=>this.statusReactive.set(e))}get valid(){return this.status===Ic}get invalid(){return this.status===_f}get pending(){return this.status==Hs}get disabled(){return this.status===xc}get enabled(){return this.status!==xc}get pristine(){return Qt(this.pristineReactive)}set pristine(e){Qt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qt(this.touchedReactive)}set touched(e){Qt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qS(e,this._rawAsyncValidators))}hasValidator(e){return bf(this._rawValidators,e)}hasAsyncValidator(e){return bf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Pc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Pc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAsPending(e={}){this.status=Hs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xc,this.errors=null,this._forEachChild(i=>{i.disable($(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Df(this.value,r)),this._events.next(new zs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ic,this._forEachChild(r=>{r.enable($(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ic||this.status===Hs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Df(this.value,t)),this._events.next(new zs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xc:Ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Hs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=nI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new zs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?xc:this.errors?_f:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hs)?Hs:this._anyControlsHaveStatus(_f)?_f:Ic}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Oc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Pc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=VV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jV(this._rawAsyncValidators)}},Ws=class extends qs{constructor(e,t,r){super(Vy(t),jy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){dI(this,!0,e),Object.keys(e).forEach(r=>{uI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Ny=class extends Ws{},Nc=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Tf}),Tf="always";GV={provide:Fr,useExisting:ir(()=>kc)},Tc=Promise.resolve(),kc=(()=>{class n extends Fr{get submitted(){return Qt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ro(()=>this.submittedReactive()),this.submittedReactive=no(!1),this._directives=new Set,this.ngSubmit=new se,this.form=new Ws({},Fy(t),Ly(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Mf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tc.then(()=>{let r=this._findContainer(t.path),i=new Ws({});pI(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),mI(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Dn,10),D(Gs,10),D(Nc,8))}}static{this.\u0275dir=pe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&T("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([GV]),hn]})}}return n})();Ac=class extends qs{constructor(e=null,t,r){super(Vy(t),jy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(KS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){KS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},KV=n=>n instanceof Ac,YV={provide:ho,useExisting:ir(()=>Lr)},YS=Promise.resolve(),Lr=(()=>{class n extends ho{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Ac,this._registered=!1,this.name="",this.update=new se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Mf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){YS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ai(r);YS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?fI(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Fr,9),D(Dn,10),D(Gs,10),D(Ry,10),D(Mr,8),D(Nc,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ct([YV]),hn,kn]})}}return n})(),Ys=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),yI=new k(""),QV={provide:Fr,useExisting:ir(()=>By)},By=(()=>{class n extends Fr{get submitted(){return Qt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ro(()=>this._submittedReactive()),this._submittedReactive=no(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(If(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Mf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){WS(t.control||null,t,!1),WV(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),mI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Py(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ay(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(WS(r||null,t),KV(i)&&(Mf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);pI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&zV(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Uy(this.form,this),this._oldForm&&If(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Dn,10),D(Gs,10),D(Nc,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&T("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([QV]),hn,kn]})}}return n})(),ZV={provide:ho,useExisting:ir(()=>$y)},$y=(()=>{class n extends ho{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),gI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return fI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Fr,13),D(Dn,10),D(Gs,10),D(Ry,10),D(yI,8))}}static{this.\u0275dir=pe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ct([ZV]),hn,kn]})}}return n})();_I=(()=>{class n{constructor(){this._validator=Cf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=pe({type:n,features:[kn]})}}return n})(),XV={provide:Dn,useExisting:ir(()=>Hy),multi:!0},Hy=(()=>{class n extends _I{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ai,this.createValidator=t=>XS}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})()}static{this.\u0275dir=pe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&as("required",i._enabled?"":null)},inputs:{required:"required"},features:[ct([XV]),hn]})}}return n})(),ej={provide:Dn,useExisting:ir(()=>zy),multi:!0},zy=(()=>{class n extends _I{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>JV(t),this.createValidator=t=>eI(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})()}static{this.\u0275dir=pe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&as("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[ct([ej]),hn]})}}return n})(),CI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})(),ky=class extends qs{constructor(e,t,r){super(Vy(t),jy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){dI(this,!1,e),e.forEach((r,i)=>{uI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};bI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return QS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ws(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ny(i,r)}control(t,r,i){let o={};return this.useNonNullable?(QS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ac(t,$(E({},o),{nonNullable:!0}))):new Ac(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new ky(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ac)return t;if(t instanceof qs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Nc,useValue:t.callSetDisabledState??Tf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({imports:[CI]})}}return n})(),EI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Nc,useValue:t.callSetDisabledState??Tf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({imports:[CI]})}}return n})()});function tj(n,e){if(n&1){let t=Y();h(0,"button",4),T("click",function(){j(t);let i=x();return U(i.onClearFilter())}),v(1," \u2716 "),f()}}var Of,DI=p(()=>{"use strict";O();Me();Vs();Ci();O();xe();nn();Of=class n{contactService=y(Vt);filterBy;filterSubject$=new he;destroyRef=y(At);ngOnInit(){this.contactService.filterBy$.pipe(zt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(mr(),zt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),mn("ngModelChange",function(o){return Rn(r.filterBy.name,o)||(r.filterBy.name=o),o}),T("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,tj,2,0,"button",3),f()()),t&2&&(_(2),gn("ngModel",r.filterBy.name),_(),b("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[Se,En,ur,Lr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Pf,MI=p(()=>{"use strict";O();Vs();Ci();O();dt();$S();DI();xe();Pf=class n{contactService=y(Vt);contacts$;destroyRef=y(At);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(zt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"contact-filter"),R(2,"input",1),f(),h(3,"button",2),R(4,"img",3),h(5,"span"),v(6,"Add Contact"),f()(),h(7,"contact-list",4),kt(8,"async"),T("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(_(7),b("contacts",$t(8,1,r.contacts$)))},dependencies:[Cn,yf,Of,Ht],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});function rj(n,e){if(n&1&&(h(0,"p")(1,"strong"),v(2,"Last Name:"),f(),v(3),f()),n&2){let t=x().ngIf;_(3),_e(" ",t.lastName,"")}}function ij(n,e){if(n&1){let t=Y();h(0,"section",2),T("clickOutsideCapture",function(){j(t);let i=x();return U(i.onBack())}),h(1,"section",3)(2,"button",4),T("click",function(){j(t);let i=x();return U(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),v(5,"Contact Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),v(11,"Name:"),f(),v(12),f(),N(13,rj,4,1,"p",9),h(14,"p")(15,"strong"),v(16,"Phone:"),f(),v(17),f(),h(18,"p")(19,"strong"),v(20,"Email:"),f(),v(21),f(),h(22,"p")(23,"strong"),v(24,"Birthday:"),f(),v(25),kt(26,"date"),f()()()}if(n&2){let t=e.ngIf;_(7),b("src",t.img?t.img:"../../../assets/images/contact.png",at),_(5),_e(" ",t.name,""),_(),b("ngIf",t.lastName),_(4),_e(" ",t.phone,""),_(4),_e(" ",t.email,""),_(4),_e(" ",eD(26,6,t.birthday,"longDate"),"")}}var Af,SI=p(()=>{"use strict";O();Me();dt();O();xe();dt();wi();Bs();Af=class n{router=y(Te);route=y(Ft);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(L(e=>{let t=e.contact;return t&&$(E({},t),{lastName:t.lastName,birthday:t.birth})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"contact-image-container"],["alt","contact-image",3,"src"],[1,"contact-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(R(0,"div",0),N(1,ij,27,9,"section",1),kt(2,"async"),R(3,"router-outlet")),t&2&&(_(),b("ngIf",$t(2,1,r.contact$)))},dependencies:[Se,Vn,Mt,wn,Ht,vs],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var Mi,Nf=p(()=>{"use strict";Me();O();Mi=class n{isLoadingSubject=new ve(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var qy,II=p(()=>{"use strict";O();Ci();Me();Nf();qy=(n,e)=>{let t=n.params.id,r=y(Mi),i=y(Vt);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getById(t).pipe(ln(250),de(o=>(console.error("Error fetching contact:",o),F(null))),Wt(()=>r.hide()))}});var Zs,Wy=p(()=>{"use strict";O();O();Qd();nn();Zs=class n{constructor(e){this.cloudinaryService=e}imageUploaded=new se;uploadError=new se;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedFile=t.files[0])}onUpload(){this.selectedFile&&(this.isLoading=!0,this.cloudinaryService.uploadImage(this.selectedFile).subscribe({next:e=>{console.log("Uploaded image URL:",e),this.imageUploaded.emit(e),this.isLoading=!1},error:e=>{console.error("Error uploading the image:",e),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1}}))}static \u0275fac=function(t){return new(t||n)(D(pi))};static \u0275cmp=ee({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:2,consts:[[3,"submit"],["type","file",3,"change"],["type","submit",3,"disabled"]],template:function(t,r){t&1&&(h(0,"form",0),T("submit",function(){return r.onUpload()}),h(1,"label")(2,"input",1),T("change",function(o){return r.onFileSelect(o)}),f()(),h(3,"button",2),v(4),f()()),t&2&&(_(3),b("disabled",r.isLoading||!r.selectedFile),_(),_e(" ",r.isLoading?"Uploading...":"Upload Image"," "))},dependencies:[Ys,Ks,kc],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-upload[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1rem;max-width:300px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})}});function sj(n,e){if(n&1){let t=Y();h(0,"button",29),T("click",function(){j(t);let i=x(2);return U(i.onDeleteClick())}),R(1,"img",30),f()}}function aj(n,e){if(n&1){let t=Y();h(0,"img",31),T("click",function(){j(t);let i=x(2);return U(i.toggleImageUpload())}),f()}if(n&2){let t=x(2);b("src",t.contact.img,at)}}function cj(n,e){if(n&1){let t=Y();h(0,"div",33),T("click",function(){j(t);let i=x(3);return U(i.toggleImageUpload())}),v(1),f()}if(n&2){let t=x(3);_(),_e(" ",t.getInitials(t.contact.name)," ")}}function lj(n,e){if(n&1){let t=Y();h(0,"img",34),T("click",function(){j(t);let i=x(3);return U(i.toggleImageUpload())}),f()}}function uj(n,e){if(n&1&&N(0,cj,2,1,"div",32)(1,lj,1,0,"ng-template",null,1,sr),n&2){let t=bt(2),r=x(2);b("ngIf",r.contact.name)("ngIfElse",t)}}function dj(n,e){if(n&1){let t=Y();h(0,"div",35)(1,"image-upload",36),T("imageUploaded",function(i){j(t);let o=x(2);return U(o.onImageUploaded(i))})("uploadError",function(i){j(t);let o=x(2);return U(o.onUploadError(i))}),f()()}}function fj(n,e){n&1&&(h(0,"span"),v(1,"Name is required!"),f())}function hj(n,e){n&1&&(h(0,"span"),v(1,"Name must be at least 3 characters long!"),f())}function pj(n,e){if(n&1&&(h(0,"p",38),N(1,fj,2,0,"span",18)(2,hj,2,0,"span",18),f()),n&2){let t=x().ngIf;_(),b("ngIf",t.errors.required),_(),b("ngIf",t.errors.minlength)}}function gj(n,e){if(n&1&&(_t(0),N(1,pj,3,2,"p",37),Ct()),n&2){let t=e.ngIf;_(),b("ngIf",t.errors&&t.touched)}}function mj(n,e){n&1&&(h(0,"div",15)(1,"label",39),v(2,"Last Name"),f(),R(3,"input",40),f())}function vj(n,e){n&1&&(h(0,"span"),v(1,"Last name is required!"),f())}function yj(n,e){n&1&&(h(0,"span"),v(1,"Last name must be at least 3 characters long!"),f())}function _j(n,e){if(n&1&&(h(0,"p",38),N(1,vj,2,0,"span",18)(2,yj,2,0,"span",18),f()),n&2){let t=x().ngIf;_(),b("ngIf",t.errors.required),_(),b("ngIf",t.errors.minlength)}}function Cj(n,e){if(n&1&&(_t(0),N(1,_j,3,2,"p",37),Ct()),n&2){let t=e.ngIf;_(),b("ngIf",t.errors&&t.touched)}}function bj(n,e){n&1&&(h(0,"span"),v(1,"Phone number is required!"),f())}function wj(n,e){n&1&&(h(0,"span"),v(1,"Phone number is not valid!"),f())}function Ej(n,e){if(n&1&&(h(0,"p",38),N(1,bj,2,0,"span",18)(2,wj,2,0,"span",18),f()),n&2){let t=x().ngIf;_(),b("ngIf",t.errors.required),_(),b("ngIf",t.errors.pattern)}}function Dj(n,e){if(n&1&&(_t(0),N(1,Ej,3,2,"p",37),Ct()),n&2){let t=e.ngIf;_(),b("ngIf",t.errors&&t.touched)}}function Mj(n,e){n&1&&(h(0,"span"),v(1,"Email is required!"),f())}function Sj(n,e){n&1&&(h(0,"span"),v(1," Email is not valid! "),f())}function Ij(n,e){if(n&1&&(h(0,"p",38),N(1,Mj,2,0,"span",18)(2,Sj,2,0,"span",18),f()),n&2){let t=x().ngIf;_(),b("ngIf",t.errors.required),_(),b("ngIf",!t.errors.nonEnglishLetters&&t.errors.email)}}function xj(n,e){if(n&1&&(_t(0),N(1,Ij,3,2,"p",37),Ct()),n&2){let t=e.ngIf;_(),b("ngIf",t.errors&&t.touched)}}function Tj(n,e){n&1&&(h(0,"span"),v(1,"Birth date is required!"),f())}function Oj(n,e){if(n&1&&(h(0,"p",38),N(1,Tj,2,0,"span",18),f()),n&2){let t=x().ngIf;_(),b("ngIf",t.errors.required)}}function Pj(n,e){if(n&1&&(_t(0),N(1,Oj,2,1,"p",37),Ct()),n&2){let t=e.ngIf;_(),b("ngIf",t.errors&&t.touched)}}function Aj(n,e){if(n&1){let t=Y();h(0,"div",41)(1,"label",42)(2,"input",43),T("change",function(i){j(t);let o=x(2);return U(o.onToggleLastName(i))}),f(),R(3,"span",44),f(),h(4,"span",45),v(5,"Add Last Name"),f()()}if(n&2){let t=x(2);_(2),b("checked",t.IsLastName||t.contact.lastName)}}function Nj(n,e){if(n&1){let t=Y();h(0,"div",4)(1,"section",5),T("clickOutsideCapture",function(){j(t);let i=x();return U(i.onBack())}),h(2,"section",6)(3,"a",7),R(4,"img",8),f(),N(5,sj,2,0,"button",9),f(),h(6,"div",10),N(7,aj,1,1,"img",11)(8,uj,3,2,"ng-template",null,0,sr)(10,dj,2,0,"div",12),f(),h(11,"form",13),T("ngSubmit",function(){j(t);let i=x();return U(i.onSaveContact())}),h(12,"h2"),v(13),f(),h(14,"div",14)(15,"div",15)(16,"label",16),v(17,"Name"),f(),R(18,"input",17),f(),N(19,gj,2,1,"ng-container",18)(20,mj,4,0,"div",19)(21,Cj,2,1,"ng-container",18),h(22,"div",15)(23,"label",20),v(24,"Phone"),f(),R(25,"input",21),f(),N(26,Dj,2,1,"ng-container",18),h(27,"div",15)(28,"label",22),v(29,"Email"),f(),R(30,"input",23),f(),N(31,xj,2,1,"ng-container",18),h(32,"div",15)(33,"label",24),v(34,"Birth"),f(),R(35,"input",25),f(),N(36,Pj,2,1,"ng-container",18),h(37,"div",26),N(38,Aj,6,1,"div",27),h(39,"button",28),v(40," Save "),f()()()()()()}if(n&2){let t=bt(9),r=x();_(5),b("ngIf",r.contact._id),_(2),b("ngIf",r.contact.img)("ngIfElse",t),_(3),b("ngIf",r.showImageUpload),_(),b("formGroup",r.form),_(2),_e("",r.contact._id?"Edit":"Add"," Contact"),_(6),b("ngIf",r.form.controls.name),_(),b("ngIf",r.IsLastName||r.contact.lastName),_(),b("ngIf",r.form.controls.lastName),_(5),b("ngIf",r.form.controls.phone),_(5),b("ngIf",r.form.controls.email),_(5),b("ngIf",r.form.controls.birth),_(2),b("ngIf",!r.contact.lastName),_(),b("disabled",r.form.invalid)}}var Rc,TI=p(()=>{"use strict";O();Ci();dt();Me();nn();xe();O();nn();xe();bi();dt();Ty();wi();Bs();Wy();Rc=class n{constructor(e,t,r){this.fb=e;this.datePipe=t;this.msgService=r}IsLastName=!1;showImageUpload=!1;form;showDeleteModal=!1;formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}contactService=y(Vt);contact=this.contactService.getEmptyContact();router=y(Te);route=y(Ft);destroySubject$=new he;ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[$n.required,$n.minLength(3)]],lastName:[e?this.contact.lastName:"",[$n.minLength(3)]],phone:[e?this.contact.phone:"",[$n.required,$n.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[$n.required,$n.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date),[$n.required]],img:[e?this.contact.img:""],_id:[e?this.contact._id:null]}),this.route.data.pipe(L(t=>t.contact),je(t=>!!t),Zn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue($(E({},t),{birth:r}))})}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(Zn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=E({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),this.contactService.saveContact(e).pipe(Zn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}static \u0275fac=function(t){return new(t||n)(D(bI),D(vs),D(Dt))};static \u0275cmp=ee({type:n,selectors:[["contact-edit"]],features:[ct([vs])],decls:3,vars:3,consts:[["fallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"contact-image-container"],["alt","Contact Image","class","contact-image",3,"src","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","form-input",4,"ngIf"],["for","phone"],["formControlName","phone","placeholder","Phone number","id","phone"],["for","email"],["formControlName","email","placeholder","Contact Email","id","email"],["for","birthday"],["type","date","formControlName","birth","id","birthday"],["evStop","",1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],["alt","Contact Image",1,"contact-image",3,"click","src"],["class","default-avatar",3,"click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click"],["src","../../../assets/images/contact.png","alt","Default Contact Image",1,"contact-image",3,"click"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["class","errors",4,"ngIf"],[1,"errors"],["for","lastName"],["formControlName","lastName","placeholder","Contact Last Name","id","lastName"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(N(0,Nj,41,14,"div",2),h(1,"section")(2,"app-modal",3),T("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(b("ngIf",r.contact),_(2),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[Se,Cn,Ys,En,ur,Ks,By,$y,$s,Mt,wn,Zs],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:25em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background-color:#bdc3c7;display:flex;align-items:center;justify-content:center;font-size:48px;font-weight:700;color:#34495e;border:3px solid #f1c40f;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px;margin-top:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}']})}});function OI(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function PI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(Mp(200),mr(),Ue(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function AI(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var kf=p(()=>{"use strict";Me();Ci()});var Rf,NI=p(()=>{"use strict";nn();kf();O();Rf=class n{validate(e){return OI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","appEmailValidator",""]],features:[ct([{provide:Dn,useExisting:n,multi:!0}])]})}});var Ff,kI=p(()=>{"use strict";nn();kf();O();Et();Ff=class n{constructor(e){this.userService=e}validate(e){return PI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275dir=pe({type:n,selectors:[["","appEmailTaken",""]],features:[ct([{provide:Gs,useExisting:n,multi:!0}])]})}});var Lf,RI=p(()=>{"use strict";nn();kf();O();Lf=class n{validate(e){return AI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","appPasswordValidator",""]],features:[ct([{provide:Dn,useExisting:n,multi:!0}])]})}});var Vf,FI=p(()=>{"use strict";nn();O();Vf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=pe({type:n,selectors:[["","appFullNameValidator",""]],features:[ct([{provide:Dn,useExisting:n,multi:!0}])]})}});function jj(n,e){n&1&&(h(0,"span"),v(1,"Username is required."),f())}function Uj(n,e){n&1&&(h(0,"span"),v(1," Username must be at least 3 characters long. "),f())}function Bj(n,e){if(n&1&&(h(0,"div",14),N(1,jj,2,0,"span",11)(2,Uj,2,0,"span",11),h(3,"span"),v(4,"Enter your full name (first name and last name)."),f()()),n&2){x();let t=bt(8);_(),b("ngIf",t.errors==null?null:t.errors.required),_(),b("ngIf",t.errors==null?null:t.errors.minlength)}}function $j(n,e){n&1&&(h(0,"span"),v(1,"Password is required."),f())}function Hj(n,e){n&1&&(h(0,"span"),v(1,"Password must be at least 6 characters long."),f())}function zj(n,e){n&1&&(h(0,"span"),v(1,"Password must contain at least one capital letter."),f())}function qj(n,e){n&1&&(h(0,"span"),v(1,"Password must contain at least one special character."),f())}function Wj(n,e){if(n&1&&(h(0,"div",14),N(1,$j,2,0,"span",11)(2,Hj,2,0,"span",11)(3,zj,2,0,"span",11)(4,qj,2,0,"span",11),f()),n&2){x();let t=bt(14);_(),b("ngIf",t.errors==null?null:t.errors.required),_(),b("ngIf",t.errors==null?null:t.errors.minlength),_(),b("ngIf",t.errors==null?null:t.errors.noCapitalLetter),_(),b("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function Gj(n,e){n&1&&(h(0,"span"),v(1,"Email is required."),f())}function Kj(n,e){n&1&&(h(0,"span"),v(1,"Please enter a valid email address."),f())}function Yj(n,e){n&1&&(h(0,"span"),v(1,"This email is already registered."),f())}function Qj(n,e){if(n&1&&(h(0,"div",14),N(1,Gj,2,0,"span",11)(2,Kj,2,0,"span",11)(3,Yj,2,0,"span",11),f()),n&2){x();let t=bt(4);_(),b("ngIf",t.errors==null?null:t.errors.required),_(),b("ngIf",t.errors==null?null:t.errors.email),_(),b("ngIf",t.errors==null?null:t.errors.emailTaken)}}function Zj(n,e){n&1&&(h(0,"div",18),v(1," Checking email availability... "),f())}function Jj(n,e){if(n&1){let t=Y();_t(0),h(1,"label",15),v(2,"Email:"),f(),h(3,"input",16,3),mn("ngModelChange",function(i){j(t);let o=x();return Rn(o.user.email,i)||(o.user.email=i),U(i)}),f(),N(5,Qj,4,3,"div",8)(6,Zj,2,0,"div",17),R(7,"br"),Ct()}if(n&2){let t=bt(4),r=x();_(3),gn("ngModel",r.user.email),b("ngModelOptions",us(5,Vj))("ngModel",r.user.email),_(2),b("ngIf",t.touched&&t.invalid),_(),b("ngIf",t.pending)}}function Xj(n,e){if(n&1&&(h(0,"p",14),v(1),f()),n&2){let t=x();_(),wt(t.errorMessage)}}var Vj,Fc,LI=p(()=>{"use strict";O();Et();dt();bi();xe();nn();NI();kI();RI();FI();Vj=()=>({updateOn:"change"});Fc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=$(E({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(Dt),D(Ft))};static \u0275cmp=ee({type:n,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=Y();h(0,"div",4)(1,"h4"),v(2),f(),h(3,"form",5,0),T("ngSubmit",function(){return j(i),U(r.onSubmit())}),h(5,"label",6),v(6,"Username:"),f(),h(7,"input",7,1),mn("ngModelChange",function(s){return j(i),Rn(r.user.username,s)||(r.user.username=s),U(s)}),f(),N(9,Bj,5,2,"div",8),R(10,"br"),h(11,"label",9),v(12,"Password:"),f(),h(13,"input",10,2),mn("ngModelChange",function(s){return j(i),Rn(r.user.password,s)||(r.user.password=s),U(s)}),f(),N(15,Wj,5,4,"div",8),R(16,"br"),N(17,Jj,8,6,"ng-container",11),h(18,"button",12),v(19),f(),h(20,"p"),v(21),h(22,"a",13),T("click",function(s){return j(i),r.toggleMode(),U(s.preventDefault())}),v(23),f()(),R(24,"br"),f(),N(25,Xj,2,1,"p",8),f()}if(t&2){let i=bt(4),o=bt(8),s=bt(14);_(2),wt(r.isSignupMode?"Create an Account":"Sign In"),_(5),gn("ngModel",r.user.username),_(2),b("ngIf",o.touched&&o.invalid),_(4),gn("ngModel",r.user.password),_(2),b("ngIf",s.touched&&s.invalid),_(2),b("ngIf",r.isSignupMode),_(),b("disabled",i.invalid),_(),_e(" ",r.isSignupMode?"Sign Up":"Log In"," "),_(2),_e(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),_(2),_e(" ",r.isSignupMode?"Sign in here":"Create an account"," "),_(2),b("ngIf",r.errorMessage)}},dependencies:[Se,Ys,En,ur,Ks,Hy,zy,Lr,kc,Rf,Ff,Lf,Vf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var po,VI=p(()=>{"use strict";O();dt();Et();Me();bi();po=(n,e)=>{let t=y(Ce),r=y(Te),i=y(Dt);return t.loggedInUser$.pipe(ln(100),L(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var jf,jI=p(()=>{"use strict";O();jf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(h(0,"html",0)(1,"head"),R(2,"meta",1)(3,"meta",2),h(4,"title"),v(5,"Privacy Policy - My Accounts App"),f(),R(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),v(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),v(19,"Effective Date:"),f(),v(20," 07/02/2025"),f(),h(21,"p"),v(22,"Welcome to "),h(23,"strong"),v(24,"My Accounts App"),f(),v(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),v(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),v(31,"Personal Information:"),f(),v(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),v(35,"Usage Data:"),f(),v(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),v(39,"Device Information:"),f(),v(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),v(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),v(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),v(47,"Personalize your experience."),f(),h(48,"li"),v(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),v(51,"Comply with legal requirements."),f()(),h(52,"h2"),v(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),v(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),v(59,"Service Providers:"),f(),v(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),v(63,"Legal Authorities:"),f(),v(64," When required by law or to protect our rights."),f()(),h(65,"h2"),v(66,"4. Data Retention & Security"),f(),h(67,"p"),v(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),v(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),v(73,"Access and review your personal data."),f(),h(74,"li"),v(75,"Request correction or deletion of your information."),f(),h(76,"li"),v(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),v(79,"6. Third-Party Links"),f(),h(80,"p"),v(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),v(83,"7. Changes to This Policy"),f(),h(84,"p"),v(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),v(87,"8. Contact Us"),f(),h(88,"p"),v(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),v(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}"]})}});function tU(n,e){if(n&1){let t=Y();h(0,"user-list",6),T("remove",function(i){j(t);let o=x();return U(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;b("users",(t=r)!==null&&t!==void 0?t:us(1,eU))}}function nU(n,e){if(n&1){let t=Y();h(0,"div",7),T("clickOutsideCapture",function(){j(t);let i=x();return U(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),T("click",function(){j(t);let i=x();return U(i.closeChat("group"))}),v(3,"\xD7"),f(),R(4,"app-chat",10),f()()}n&2&&(_(4),b("chatType","group"))}function rU(n,e){if(n&1){let t=Y();h(0,"div",11)(1,"div",8)(2,"span",9),T("click",function(){j(t);let i=x();return U(i.closeChat("private"))}),v(3,"\xD7"),f(),R(4,"app-chat",10),f()()}n&2&&(_(4),b("chatType","private"))}var eU,Si,Uf=p(()=>{"use strict";O();Vs();Me();Et();Fs();O();eU=()=>[];Si=class n{userService=y(Ce);socketService=y(bn);users$;destroyRef=y(At);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new ve(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(zt(this.destroyRef),L(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new ve(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(zt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-index"]],decls:8,vars:5,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","chat-modal",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType"],[1,"chat-modal"]],template:function(t,r){t&1&&(h(0,"section",0),R(1,"user-filter",1),N(2,tU,1,2,"user-list",2),kt(3,"async"),f(),h(4,"button",3),T("click",function(){return r.openChat("group")}),v(5,"Group Chat"),f(),N(6,nU,5,1,"div",4)(7,rU,5,1,"div",5)),t&2&&(_(2),b("ngIf",$t(3,3,r.users$)),_(4),b("ngIf",r.isGroupChatOpen),_(),b("ngIf",r.isPrivateChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background-color:#007bff}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.group-chat-btn[_ngcontent-%COMP%]{right:100px}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function oU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=x().ngIf;_(),wt(t.username)}}function sU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=x().ngIf;_(),_e("",t.username.substring(0,15),"...")}}function aU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=x().ngIf;_(),wt(t.email)}}function cU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=x().ngIf;_(),_e("",t.email.substring(0,20),"...")}}function lU(n,e){if(n&1){let t=Y();h(0,"section",2)(1,"section",3)(2,"button",4),T("click",function(){j(t);let i=x();return U(i.onBack())}),R(3,"img",5),f(),h(4,"h1"),v(5,"User Details"),f()(),h(6,"div",6),R(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),v(11,"Username:"),f(),N(12,oU,2,1,"span",9)(13,sU,2,1,"span",9),f(),h(14,"p")(15,"strong"),v(16,"Email:"),f(),N(17,aU,2,1,"span",9)(18,cU,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=x();_(7),b("src",t.img?t.img:"../../../assets/images/contact.png",at),_(5),b("ngIf",!r.isLongField(t.username,15)),_(),b("ngIf",r.isLongField(t.username,15)),_(4),b("ngIf",!r.isLongField(t.email,20)),_(),b("ngIf",r.isLongField(t.email,20))}}var Bf,UI=p(()=>{"use strict";O();Me();dt();Et();O();xe();dt();Bf=class n{router=y(Te);route=y(Ft);subscription;userService=y(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(L(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0),T("click",function(){return r.onBack()}),f(),N(1,lU,19,5,"section",1),kt(2,"async"),R(3,"router-outlet")),t&2&&(_(),b("ngIf",$t(2,1,r.user$)))},dependencies:[Se,Vn,Ht],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var BI,$I=p(()=>{"use strict";O();Et();Me();Nf();BI=(n,e)=>{let t=n.params.id,r=y(Mi),i=y(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getUserById(t).pipe(ln(250),de(o=>(console.error("Error fetching user:",o),F(null))),Wt(()=>r.hide()))}});var uU,$f,HI=p(()=>{"use strict";dt();VS();MI();SI();II();TI();LI();VI();jI();Uf();UI();$I();O();uU=[{path:"contact",component:Pf,canActivate:[po],children:[{path:"edit",component:Rc,canActivate:[po]},{path:"edit/:id",component:Rc,resolve:{contact:qy},canActivate:[po]}]},{path:"contact/:id",component:Af,outlet:"modal",resolve:{contact:qy},canActivate:[po]},{path:"login",component:Fc},{path:"signup",component:Fc},{path:"privacy-policy",component:jf},{path:"users",component:Si,canActivate:[po]},{path:"user/:id",component:Bf,outlet:"modal",resolve:{user:BI},canActivate:[po]},{path:"",component:gf}],$f=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ge({imports:[Xv.forRoot(uU,{useHash:!1}),Xv]})}});function hU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function zf(){try{return typeof indexedDB=="object"}catch{return!1}}function qf(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function KI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function _U(n,e){return n.replace(CU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function Wf(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(zI(o)&&zI(s)){if(!Wf(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function zI(n){return n!==null&&typeof n=="object"}function Gf(n){return n&&n._delegate?n._delegate:n}var qI,dU,WI,Gy,fU,Ky,GI,pU,gU,mU,vU,Yy,Hf,yU,Vr,jr,CU,gX,Js=p(()=>{"use strict";qI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},dU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},WI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[u],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):dU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Gy;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let C=l<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fU=function(n){let e=qI(n);return WI.encodeByteArray(e,!0)},Ky=function(n){return fU(n).replace(/\./g,"")},GI=function(n){try{return WI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};pU=()=>hU().__FIREBASE_DEFAULTS__,gU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&GI(n[1]);return e&&JSON.parse(e)},vU=()=>{try{return pU()||gU()||mU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yy=()=>{var n;return(n=vU())===null||n===void 0?void 0:n.config};Hf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};yU="FirebaseError",Vr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_U(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vr(i,a,r)}};CU=/\{\$([^}]+)}/g;gX=4*60*60*1e3;});function bU(n){return n===go?void 0:n}function wU(n){return n.instantiationMode==="EAGER"}var rn,go,Qy,Kf,Yf=p(()=>{"use strict";Js();rn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};go="[DEFAULT]";Qy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Hf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wU(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};Kf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Qy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var EU,Be,DU,MU,SU,IU,Qf,YI=p(()=>{"use strict";EU=[],Be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Be||{}),DU={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},MU=Be.INFO,SU={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},IU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=SU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qf=class{constructor(e){this.name=e,this._logLevel=MU,this._logHandler=IU,this._userLogHandler=null,EU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}});function TU(){return QI||(QI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OU(){return ZI||(ZI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function PU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Hn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&JI.set(t,n)}).catch(()=>{}),e_.set(e,n),e}function AU(n){if(Jy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Jy.set(n,e)}function ex(n){Xy=n(Xy)}function NU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Zf(this),e,...t);return XI.set(r,e.sort?e.sort():[e]),Hn(r)}:OU().includes(n)?function(...e){return n.apply(Zf(this),e),Hn(JI.get(this))}:function(...e){return Hn(n.apply(Zf(this),e))}}function kU(n){return typeof n=="function"?NU(n):(n instanceof IDBTransaction&&AU(n),xU(n,TU())?new Proxy(n,Xy):n)}function Hn(n){if(n instanceof IDBRequest)return PU(n);if(Zy.has(n))return Zy.get(n);let e=kU(n);return e!==n&&(Zy.set(n,e),e_.set(e,n)),e}var xU,QI,ZI,JI,Jy,XI,Zy,e_,Xy,Zf,t_=p(()=>{"use strict";xU=(n,e)=>e.some(t=>n instanceof t);JI=new WeakMap,Jy=new WeakMap,XI=new WeakMap,Zy=new WeakMap,e_=new WeakMap;Xy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};Zf=n=>e_.get(n)});function mo(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Hn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Hn(s.result),c.oldVersion,c.newVersion,Hn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function Jf(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Hn(t).then(()=>{})}function tx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(n_.get(e))return n_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=FU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RU.includes(t)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return n_.set(e,o),o}var RU,FU,n_,Xf=p(()=>{"use strict";t_();t_();RU=["get","getKey","getAll","getAllKeys","count"],FU=["put","add","delete","clear"],n_=new Map;ex(n=>$(E({},n),{get:(e,t,r)=>tx(e,t)||n.get(e,t,r),has:(e,t)=>!!tx(e,t)||n.has(e,t)}))});function LU(n){let e=n.getComponent();return e?.type==="VERSION"}function rx(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Br(n){let e=n.name;if(a_.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,n);for(let t of eh.values())rx(t,n);for(let t of dB.values())rx(t,n);return!0}function Vc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function d_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:s_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(t||(t=Yy()),!t)throw Ii.create("no-options");let o=eh.get(i);if(o){if(Wf(t,o.options)&&Wf(r,o.config))return o;throw Ii.create("duplicate-app",{appName:i})}let s=new Kf(i);for(let c of a_.values())s.addComponent(c);let a=new c_(t,r,s);return eh.set(i,a),a}function f_(n=s_){let e=eh.get(n);if(!e&&n===s_&&Yy())return d_();if(!e)throw Ii.create("no-app",{appName:n});return e}function zn(n,e,t){var r;let i=(r=uB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}Br(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function ax(){return r_||(r_=mo(hB,pB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ii.create("idb-open",{originalErrorMessage:n.message})})),r_}function gB(n){return I(this,null,function*(){try{let t=(yield ax()).transaction(Lc),r=yield t.objectStore(Lc).get(cx(n));return yield t.done,r}catch(e){if(e instanceof Vr)Ur.warn(e.message);else{let t=Ii.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(t.message)}}})}function ix(n,e){return I(this,null,function*(){try{let r=(yield ax()).transaction(Lc,"readwrite");yield r.objectStore(Lc).put(e,cx(n)),yield r.done}catch(t){if(t instanceof Vr)Ur.warn(t.message);else{let r=Ii.create("idb-set",{originalErrorMessage:t?.message});Ur.warn(r.message)}}})}function cx(n){return`${n.name}!${n.options.appId}`}function ox(){return new Date().toISOString().substring(0,10)}function yB(n,e=mB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),sx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function sx(n){return Ky(JSON.stringify({version:2,heartbeats:n})).length}function _B(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function CB(n){Br(new rn("platform-logger",e=>new i_(e),"PRIVATE")),Br(new rn("heartbeat",e=>new l_(e),"PRIVATE")),zn(o_,nx,n),zn(o_,nx,"esm2017"),zn("fire-js","")}var i_,o_,nx,Ur,VU,jU,UU,BU,$U,HU,zU,qU,WU,GU,KU,YU,QU,ZU,JU,XU,eB,tB,nB,rB,iB,oB,sB,aB,cB,lB,s_,uB,eh,dB,a_,fB,Ii,c_,hB,pB,Lc,r_,mB,vB,l_,u_,jc=p(()=>{"use strict";Yf();YI();Js();Js();Xf();i_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};o_="@firebase/app",nx="0.11.0";Ur=new Qf("@firebase/app"),VU="@firebase/app-compat",jU="@firebase/analytics-compat",UU="@firebase/analytics",BU="@firebase/app-check-compat",$U="@firebase/app-check",HU="@firebase/auth",zU="@firebase/auth-compat",qU="@firebase/database",WU="@firebase/data-connect",GU="@firebase/database-compat",KU="@firebase/functions",YU="@firebase/functions-compat",QU="@firebase/installations",ZU="@firebase/installations-compat",JU="@firebase/messaging",XU="@firebase/messaging-compat",eB="@firebase/performance",tB="@firebase/performance-compat",nB="@firebase/remote-config",rB="@firebase/remote-config-compat",iB="@firebase/storage",oB="@firebase/storage-compat",sB="@firebase/firestore",aB="@firebase/vertexai",cB="@firebase/firestore-compat",lB="firebase";s_="[DEFAULT]",uB={[o_]:"fire-core",[VU]:"fire-core-compat",[UU]:"fire-analytics",[jU]:"fire-analytics-compat",[$U]:"fire-app-check",[BU]:"fire-app-check-compat",[HU]:"fire-auth",[zU]:"fire-auth-compat",[qU]:"fire-rtdb",[WU]:"fire-data-connect",[GU]:"fire-rtdb-compat",[KU]:"fire-fn",[YU]:"fire-fn-compat",[QU]:"fire-iid",[ZU]:"fire-iid-compat",[JU]:"fire-fcm",[XU]:"fire-fcm-compat",[eB]:"fire-perf",[tB]:"fire-perf-compat",[nB]:"fire-rc",[rB]:"fire-rc-compat",[iB]:"fire-gcs",[oB]:"fire-gcs-compat",[sB]:"fire-fst",[cB]:"fire-fst-compat",[aB]:"fire-vertex","fire-js":"fire-js",[lB]:"fire-js-all"};eh=new Map,dB=new Map,a_=new Map;fB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new jr("app","Firebase",fB);c_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}};hB="firebase-heartbeat-database",pB=1,Lc="firebase-heartbeat-store",r_=null;mB=1024,vB=30,l_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new u_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ox();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>vB){let s=_B(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ox(),{heartbeatsToSend:r,unsentEntries:i}=yB(this._heartbeatsCache.heartbeats),o=Ky(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ur.warn(t),""}})}};u_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return zf()?qf().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield gB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ix(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ix(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};CB("")});var bB,wB,lx=p(()=>{"use strict";jc();jc();bB="firebase",wB="11.3.0";zn(bB,wB,"app")});function mx(n){return n instanceof Vr&&n.code.includes("request-failed")}function vx({projectId:n}){return`${EB}/projects/${n}/installations`}function yx(n){return{token:n.token,requestStatus:2,expiresIn:TB(n.expiresIn),creationTime:Date.now()}}function _x(n,e){return I(this,null,function*(){let r=(yield e.json()).error;return yo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Cx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function xB(n,{refreshToken:e}){let t=Cx(n);return t.append("Authorization",OB(e)),t}function bx(n){return I(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function TB(n){return Number(n.replace("s","000"))}function OB(n){return`${gx} ${n}`}function PB(r,i){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=vx(n),s=Cx(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:gx,appId:n.appId,sdkVersion:px},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield bx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:yx(d.authToken)}}else throw yield _x("Create Installation",u)})}function wx(n){return new Promise(e=>{setTimeout(e,n)})}function AB(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function kB(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=RB(n);return NB.test(t)?t:g_}catch{return g_}}function RB(n){return AB(n).substr(0,22)}function nh(n){return`${n.appName}!${n.appId}`}function Dx(n,e){let t=nh(n);Mx(t,e),LB(t,e)}function Mx(n,e){let t=Ex.get(n);if(t)for(let r of t)r(e)}function LB(n,e){let t=VB();t&&t.postMessage({key:n,fid:e}),jB()}function VB(){return!vo&&"BroadcastChannel"in self&&(vo=new BroadcastChannel("[Firebase] FID Change"),vo.onmessage=n=>{Mx(n.data.key,n.data.fid)}),vo}function jB(){Ex.size===0&&vo&&(vo.close(),vo=null)}function v_(){return h_||(h_=mo(UB,BB,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(_o)}}})),h_}function th(n,e){return I(this,null,function*(){let t=nh(n),i=(yield v_()).transaction(_o,"readwrite"),o=i.objectStore(_o),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&Dx(n,e.fid),e})}function Sx(n){return I(this,null,function*(){let e=nh(n),r=(yield v_()).transaction(_o,"readwrite");yield r.objectStore(_o).delete(e),yield r.done})}function rh(n,e){return I(this,null,function*(){let t=nh(n),i=(yield v_()).transaction(_o,"readwrite"),o=i.objectStore(_o),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&Dx(n,a.fid),a})}function y_(n){return I(this,null,function*(){let e,t=yield rh(n.appConfig,r=>{let i=$B(r),o=HB(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===g_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function $B(n){let e=n||{fid:kB(),registrationStatus:0};return Ix(e)}function HB(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(yo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zB(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qB(n)}:{installationEntry:e}}function zB(n,e){return I(this,null,function*(){try{let t=yield PB(n,e);return th(n.appConfig,t)}catch(t){throw mx(t)&&t.customData.serverCode===409?yield Sx(n.appConfig):yield th(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function qB(n){return I(this,null,function*(){let e=yield ux(n.appConfig);for(;e.registrationStatus===1;)yield wx(100),e=yield ux(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield y_(n);return r||t}return e})}function ux(n){return rh(n,e=>{if(!e)throw yo.create("installation-not-found");return Ix(e)})}function Ix(n){return WB(n)?{fid:n.fid,registrationStatus:0}:n}function WB(n){return n.registrationStatus===1&&n.registrationTime+hx<Date.now()}function GB(r,i){return I(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=KB(n,t),s=xB(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:px,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield bx(()=>fetch(o,l));if(u.ok){let d=yield u.json();return yx(d)}else throw yield _x("Generate Auth Token",u)})}function KB(n,{fid:e}){return`${vx(n)}/${e}/authTokens:generate`}function __(n,e=!1){return I(this,null,function*(){let t,r=yield rh(n.appConfig,o=>{if(!xx(o))throw yo.create("not-registered");let s=o.authToken;if(!e&&ZB(s))return o;if(s.requestStatus===1)return t=YB(n,e),o;{if(!navigator.onLine)throw yo.create("app-offline");let a=XB(o);return t=QB(n,a),a}});return t?yield t:r.authToken})}function YB(n,e){return I(this,null,function*(){let t=yield dx(n.appConfig);for(;t.authToken.requestStatus===1;)yield wx(100),t=yield dx(n.appConfig);let r=t.authToken;return r.requestStatus===0?__(n,e):r})}function dx(n){return rh(n,e=>{if(!xx(e))throw yo.create("not-registered");let t=e.authToken;return e$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function QB(n,e){return I(this,null,function*(){try{let t=yield GB(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield th(n.appConfig,r),t}catch(t){if(mx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield Sx(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield th(n.appConfig,r)}throw t}})}function xx(n){return n!==void 0&&n.registrationStatus===2}function ZB(n){return n.requestStatus===2&&!JB(n)}function JB(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+DB}function XB(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function e$(n){return n.requestStatus===1&&n.requestTime+hx<Date.now()}function t$(n){return I(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield y_(e);return r?r.catch(console.error):__(e).catch(console.error),t.fid})}function n$(n,e=!1){return I(this,null,function*(){let t=n;return yield r$(t),(yield __(t,e)).token})}function r$(n){return I(this,null,function*(){let{registrationPromise:e}=yield y_(n);e&&(yield e)})}function i$(n){if(!n||!n.options)throw p_("App Configuration");if(!n.name)throw p_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw p_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function p_(n){return yo.create("missing-app-config-values",{valueName:n})}function c$(){Br(new rn(Tx,s$,"PUBLIC")),Br(new rn(o$,a$,"PRIVATE"))}var fx,m_,hx,px,gx,EB,DB,MB,SB,IB,yo,NB,g_,Ex,vo,UB,BB,_o,h_,Tx,o$,s$,a$,Ox=p(()=>{"use strict";jc();Yf();Js();Xf();fx="@firebase/installations",m_="0.6.12";hx=1e4,px=`w:${m_}`,gx="FIS_v2",EB="https://firebaseinstallations.googleapis.com/v1",DB=60*60*1e3,MB="installations",SB="Installations";IB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yo=new jr(MB,SB,IB);NB=/^[cdef][\w-]{21}$/,g_="";Ex=new Map;vo=null;UB="firebase-installations-database",BB=1,_o="firebase-installations-store",h_=null;Tx="installations",o$="installations-internal",s$=n=>{let e=n.getProvider("app").getImmediate(),t=i$(e),r=Vc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a$=n=>{let e=n.getProvider("app").getImmediate(),t=Vc(e,Tx).getImmediate();return{getId:()=>t$(t),getToken:i=>n$(t,i)}};c$();zn(fx,m_);zn(fx,m_,"esm2017")});function $r(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function v$(n){return I(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(C_))return null;let e=null;return(yield mo(C_,m$,{upgrade:(r,i,o,s)=>I(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(Ax))return;let c=s.objectStore(Ax),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:$r(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:$r(u.auth),p256dh:$r(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:$r(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:$r(u.auth),p256dh:$r(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:$r(u.vapidKey)}}}}})})).close(),yield Jf(C_),yield Jf("fcm_vapid_details_db"),yield Jf("undefined"),y$(e)?e:null})}function y$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function jx(){return b_||(b_=mo(_$,C$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Uc)}}})),b_}function b$(n){return I(this,null,function*(){let e=Ux(n),r=yield(yield jx()).transaction(Uc).objectStore(Uc).get(e);if(r)return r;{let i=yield v$(n.appConfig.senderId);if(i)return yield D_(n,i),i}})}function D_(n,e){return I(this,null,function*(){let t=Ux(n),i=(yield jx()).transaction(Uc,"readwrite");return yield i.objectStore(Uc).put(e,t),yield i.done,e})}function Ux({appConfig:n}){return n.appId}function E$(n,e){return I(this,null,function*(){let t=yield S_(n),r=Bx(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(M_(n.appConfig),i)).json()}catch(s){throw St.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw St.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw St.create("token-subscribe-no-token");return o.token})}function D$(n,e){return I(this,null,function*(){let t=yield S_(n),r=Bx(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${M_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw St.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw St.create("token-update-failed",{errorInfo:s})}if(!o.token)throw St.create("token-update-no-token");return o.token})}function M$(n,e){return I(this,null,function*(){let r={method:"DELETE",headers:yield S_(n)};try{let o=yield(yield fetch(`${M_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw St.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw St.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function M_({projectId:n}){return`${d$}/projects/${n}/registrations`}function S_(t){return I(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function Bx({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Lx&&(i.web.applicationPubKey=r),i}function I$(n){return I(this,null,function*(){let e=yield T$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:$r(e.getKey("auth")),p256dh:$r(e.getKey("p256dh"))},r=yield b$(n.firebaseDependencies);if(r){if(O$(r.subscriptionOptions,t))return Date.now()>=r.createTime+S$?x$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield M$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Nx(n.firebaseDependencies,t)}else return Nx(n.firebaseDependencies,t)})}function x$(n,e){return I(this,null,function*(){try{let t=yield D$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield D_(n.firebaseDependencies,r),t}catch(t){throw t}})}function Nx(n,e){return I(this,null,function*(){let r={token:yield E$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield D_(n,r),r.token})}function T$(n,e){return I(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:g$(e)})})}function O$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function kx(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return P$(e,n),A$(e,n),N$(e,n),e}function P$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function A$(n,e){e.data&&(n.data=e.data)}function N$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function k$(n){return typeof n=="object"&&!!n&&Vx in n}function R$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function F$(n){if(!n||!n.options)throw w_("App Configuration Object");if(!n.name)throw w_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw w_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function w_(n){return St.create("missing-app-config-values",{valueName:n})}function L$(n){return I(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(l$,{scope:u$}),n.swRegistration.update().catch(()=>{}),yield V$(n.swRegistration)}catch(e){throw St.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function V$(n){return I(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${Px} ms`)),Px),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function j$(n,e){return I(this,null,function*(){if(!e&&!n.swRegistration&&(yield L$(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw St.create("invalid-sw-registration");n.swRegistration=e}})}function U$(n,e){return I(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Lx)})}function $x(n,e){return I(this,null,function*(){if(!navigator)throw St.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw St.create("permission-blocked");return yield U$(n,e?.vapidKey),yield j$(n,e?.serviceWorkerRegistration),I$(n)})}function B$(n,e,t){return I(this,null,function*(){let r=$$(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Vx],message_name:t[f$],message_time:t[h$],message_device_time:Math.floor(Date.now()/1e3)})})}function $$(n){switch(n){case ih.NOTIFICATION_CLICKED:return"notification_open";case ih.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function H$(n,e){return I(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ih.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(kx(t)):n.onMessageHandler.next(kx(t)));let r=t.data;k$(r)&&r[p$]==="1"&&(yield B$(n,t.messageType,r))})}function W$(){Br(new rn("messaging",z$,"PUBLIC")),Br(new rn("messaging-internal",q$,"PRIVATE")),zn(Rx,Fx),zn(Rx,Fx,"esm2017")}function G$(){return I(this,null,function*(){try{yield qf()}catch{return!1}return typeof window<"u"&&zf()&&KI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function K$(n,e){if(!navigator)throw St.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function Hx(n=f_()){return G$().then(e=>{if(!e)throw St.create("unsupported-browser")},e=>{throw St.create("indexed-db-unsupported")}),Vc(Gf(n),"messaging").getImmediate()}function zx(n,e){return I(this,null,function*(){return n=Gf(n),$x(n,e)})}function qx(n,e){return n=Gf(n),K$(n,e)}var l$,u$,Lx,d$,Vx,f$,h$,p$,Px,ih,C_,m$,Ax,_$,C$,Uc,b_,w$,St,S$,E_,Rx,Fx,z$,q$,Wx=p(()=>{"use strict";Ox();Yf();Xf();Js();jc();l$="/firebase-messaging-sw.js",u$="/firebase-cloud-messaging-push-scope",Lx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d$="https://fcmregistrations.googleapis.com/v1",Vx="google.c.a.c_id",f$="google.c.a.c_l",h$="google.c.a.ts",p$="google.c.a.e",Px=1e4;ih=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(ih||{});C_="fcm_token_details_db",m$=5,Ax="fcm_token_object_Store";_$="firebase-messaging-database",C$=1,Uc="firebase-messaging-store",b_=null;w$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},St=new jr("messaging","Messaging",w$);S$=7*24*60*60*1e3;R$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");E_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=F$(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};Rx="@firebase/messaging",Fx="0.12.16";z$=n=>{let e=new E_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>H$(e,t)),e},q$=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>$x(e,r)}};W$()});var Gx=p(()=>{"use strict";Wx()});function Y$(n){return Vi(()=>nt(new Error(n)))}function Q$(n,e,t,r){return()=>{if(!(yd(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(ye),o=n.get(vn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=F(null);break;case"registerWithDelay":s=Yx(+c[0]||0);break;case"registerWhenStable":let l=W(n.get(vn).whenStable());s=c[0]?Vl(l,Yx(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(Oe(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Yx(n){return F(null).pipe(ln(n))}function Z$(n,e){return new Xs(yd(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function J$(n,e={}){return rs([oh,sh,{provide:Kx,useValue:n},{provide:Bc,useValue:e},{provide:Xs,useFactory:Z$,deps:[Bc,Yt]},{provide:fs,useFactory:Q$,deps:[Ze,Kx,Bc,Yt],multi:!0}])}var $c,Xs,oh,sh,Kx,Bc,Qx,I_=p(()=>{"use strict";O();O();xe();Me();Kr();$c="Service workers are disabled or not supported by this browser";Xs=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Y$($c);else{let r=jo(e,"controllerchange").pipe(L(()=>e.controller)),i=Vi(()=>F(e.controller)),o=Yn(i,r);this.worker=o.pipe(je(u=>!!u)),this.registration=this.worker.pipe(Ue(()=>e.getRegistration()));let l=jo(e,"message").pipe(L(u=>u.data)).pipe(je(u=>u&&u.type)).pipe(Np());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(Oe(1),ne(r=>{r.postMessage(E({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(je(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Oe(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(je(t=>t.nonce===e),Oe(1),L(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},oh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new he,!t.isEnabled){this.messages=ji,this.notificationClicks=ji,this.subscription=ji;return}this.messages=this.sw.eventsOfType("PUSH").pipe(L(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(L(i=>i.data)),this.pushManager=this.sw.registration.pipe(L(i=>i.pushManager));let r=this.pushManager.pipe(Ue(i=>i.getSubscription()));this.subscription=Vl(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error($c));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Ue(s=>s.subscribe(r)),Oe(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error($c));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Oe(1),Ue(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(A(Xs))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),sh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=ji,this.unrecoverable=ji;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error($c));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error($c));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(A(Xs))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();Kx=new k("");Bc=class{};Qx=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[J$(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[oh,sh]})}}return n})()});var ea,x_=p(()=>{"use strict";Me();sc();O();I_();Ra();ta();ea=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return I(this,null,function*(){try{let e=yield Li(this.http.get(`${ft.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return I(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield Li(this.http.post(`${ft.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return I(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",{title:e.title,body:e.body});try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Sending notification to server");let r=yield Li(this.http.post(`${ft.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return I(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return I(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield Li(this.http.get(`${ft.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return I(this,null,function*(){try{let e=yield Li(this.http.get(`${ft.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(A(oh),A(io),A(sh),A(Mn))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var t3,Mn,ta=p(()=>{"use strict";O();lx();Gx();Me();x_();Et();O();t3={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},Mn=class n{messaging;fcmToken={};tokenSubject=new ve(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=y(Ze);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=d_(t3);this.messaging=Hx(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(ea)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return I(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return I(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return I(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield zx(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){qx(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return I(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var ah,Jx=p(()=>{"use strict";O();ah=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});var ch,Xx=p(()=>{"use strict";O();ta();ch=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return I(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>I(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(A(Mn))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function r3(n,e){n&1&&(_t(0),h(1,"a",15),v(2,"Login"),f(),h(3,"a",16),v(4,"Sign Up"),f(),Ct())}function i3(n,e){if(n&1&&(_t(0),R(1,"img",19),Ct()),n&2){let t=x(2);_(),b("src",t.loggedInUser==null?null:t.loggedInUser.img,at)}}function o3(n,e){if(n&1&&v(0),n&2){let t=x(2);_e(" ",t.getUserInitial()," ")}}function s3(n,e){if(n&1){let t=Y();h(0,"div",17),T("click",function(){j(t);let i=x();return U(i.toggleUpload=!i.toggleUpload)}),N(1,i3,2,1,"ng-container",13)(2,o3,1,1,"ng-template",null,1,sr),f(),h(4,"button",18),T("click",function(){j(t);let i=x();return U(i.onLogout())}),v(5,"Logout"),f()}if(n&2){let t=bt(3),r=x();_(),b("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function a3(n,e){if(n&1){let t=Y();h(0,"div")(1,"image-upload",20),T("imageUploaded",function(i){j(t);let o=x();return U(o.onImageUploaded(i))}),f()()}}var n3,lh,eT=p(()=>{"use strict";O();Et();dt();bi();xe();Wy();n3=()=>({exact:!0});lh=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=$(E({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(Dt))};static \u0275cmp=ee({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(h(0,"header")(1,"div",2),R(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),R(6,"img",6),f(),h(7,"a",7),R(8,"img",8),f(),h(9,"a",9),R(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),N(13,r3,5,0,"ng-container",13)(14,s3,6,2,"ng-template",null,0,sr),f()(),N(16,a3,2,0,"div",14),f()),t&2){let i=bt(15);_(5),b("routerLinkActiveOptions",us(4,n3)),_(8),b("ngIf",!r.loggedInUser)("ngIfElse",i),_(3),b("ngIf",r.toggleUpload)}},dependencies:[Se,Cn,VM,Zs],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function l3(n,e){n&1&&(h(0,"div",1),R(1,"div",2),f())}var uh,tT=p(()=>{"use strict";O();Nf();xe();uh=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Mi))};static \u0275cmp=ee({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(N(0,l3,2,0,"div",0),kt(1,"async")),t&2&&b("ngIf",$t(1,1,r.isLoading))},dependencies:[Se,Ht],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function d3(n,e){if(n&1){let t=Y();h(0,"section")(1,"h4"),v(2),f(),h(3,"button",1),T("click",function(){j(t);let i=x();return U(i.onCloseMsg())}),v(4,"X"),f()()}if(n&2){let t=e.ngIf;zE("msg ",t.type,""),b("@toggleMsg",void 0),_(2),wt(t.txt)}}var dh,nT=p(()=>{"use strict";Me();pf();O();bi();xe();dh=class n{constructor(e){this.msgService=e}msg$=F(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(Dt))};static \u0275cmp=ee({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(N(0,d3,5,5,"section",0),kt(1,"async")),t&2&&b("ngIf",$t(1,1,r.msg$))},dependencies:[Se,Ht],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[ff("toggleMsg",[Mc(":enter",[Bn({transform:"translateY(-100%)"}),Dc("0.3s ease-in-out",Bn({transform:"translateY(0%)"}))]),Mc(":leave",[Bn({transform:"translateY(0%)"}),Dc("0.3s ease-in-out",Bn({transform:"translateY(-100%)"}))])])]}})}});function h3(n,e){if(n&1){let t=Y();h(0,"button",4),T("click",function(){j(t);let i=x();return U(i.installPWA())}),v(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}var fh,rT=p(()=>{"use strict";O();Me();Ci();ta();Jx();Xx();Et();Fs();O();xe();dt();eT();tT();nT();fh=class n{title="MyAccounts";contactService=y(Vt);firebaseService=y(Mn);pwaService=y(ah);notificationMobileService=y(ch);userService=y(Ce);socketService=y(bn);subscription;idleTimer;idleTime=0;idleMaxTime=600;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){this.subscription=this.contactService.loadContacts().pipe(Oe(1)).subscribe({error:e=>console.log("err:",e)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>I(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let e=yield this.firebaseService.getFCMToken();e?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",e):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",e=>{e.data&&e.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",e.data.token),this.userService.restoreLoginToken(e.data.token)),e.data&&e.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let e=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-e<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(e=>{e&&console.log("\u{1F511} FCM Token received (on init):",e)}),this.firebaseService.getTokenObservable().subscribe(e=>{e&&console.log("\u{1F511} FCM Token received:",e)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(h(0,"main",0),R(1,"app-header"),h(2,"div",1),N(3,h3,2,0,"button",2),f(),R(4,"router-outlet")(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),R(8,"msg")),t&2&&(_(3),b("ngIf",r.showInstallButton))},dependencies:[Se,Vn,lh,uh,dh],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:2em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function iT(n){return new M(3e3,!1)}function p3(){return new M(3100,!1)}function g3(){return new M(3101,!1)}function m3(n){return new M(3001,!1)}function v3(n){return new M(3003,!1)}function y3(n){return new M(3004,!1)}function _3(n,e){return new M(3005,!1)}function C3(){return new M(3006,!1)}function b3(){return new M(3007,!1)}function w3(n,e){return new M(3008,!1)}function E3(n){return new M(3002,!1)}function D3(n,e,t,r,i){return new M(3010,!1)}function M3(){return new M(3011,!1)}function S3(){return new M(3012,!1)}function I3(){return new M(3200,!1)}function x3(){return new M(3202,!1)}function T3(){return new M(3013,!1)}function O3(n){return new M(3014,!1)}function P3(n){return new M(3015,!1)}function A3(n){return new M(3016,!1)}function N3(n,e){return new M(3404,!1)}function k3(n){return new M(3502,!1)}function R3(n){return new M(3503,!1)}function F3(){return new M(3300,!1)}function L3(n){return new M(3504,!1)}function V3(n){return new M(3301,!1)}function j3(n,e){return new M(3302,!1)}function U3(n){return new M(3303,!1)}function B3(n,e){return new M(3400,!1)}function $3(n){return new M(3401,!1)}function H3(n){return new M(3402,!1)}function z3(n,e){return new M(3505,!1)}function xi(n){switch(n.length){case 0:return new _i;case 1:return n[0];default:return new Ec(n)}}function yT(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let C=g,w=m;if(g!=="offset")switch(C=n.normalizePropertyName(C,i),w){case hf:w=t.get(g);break;case lr:w=r.get(g);break;default:w=n.normalizeStyleValue(g,C,w,i);break}d.set(C,w)}),u||o.push(d),a=d,s=l}),i.length)throw k3(i);return o}function Z_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&T_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&T_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&T_(t,"destroy",n)));break}}function T_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=J_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function J_(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function sn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function oT(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function X_(n){let e=n.parentNode||n.host||null;return e===q3?null:e}function W3(n){return n.substring(1,6)=="ebkit"}function G3(n){Co||(Co=K3()||{},sT=Co.style?"WebkitAppearance"in Co.style:!1);let e=!0;return Co.style&&!W3(n)&&(e=n in Co.style,!e&&sT&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Co.style)),e}function K3(){return typeof document<"u"?document.body:null}function _T(n,e){for(;e;){if(e===n)return!0;e=X_(e)}return!1}function CT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Hr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:L_(parseFloat(e[1]),e[2])}function L_(n,e){switch(e){case"s":return n*Y3;default:return n}}function _h(n,e,t){return n.hasOwnProperty("duration")?n:Z3(n,e,t)}function Z3(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(iT(n)),{duration:0,delay:0,easing:""};i=L_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=L_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(p3()),a=!0),o<0&&(e.push(g3()),a=!0),a&&e.splice(c,0,iT(n))}return{duration:i,delay:o,easing:s}}function J3(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function dr(n,e,t){e.forEach((r,i)=>{let o=t0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function wo(n,e){e.forEach((t,r)=>{let i=t0(r);n.style[i]=""})}function Hc(n){return Array.isArray(n)?n.length==1?n[0]:FS(n):n}function X3(n,e,t){let r=e.params||{},i=ET(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(m3(o))})}function ET(n){let e=[];if(typeof n=="string"){let t;for(;t=V_.exec(n);)e.push(t[1]);V_.lastIndex=0}return e}function qc(n,e,t){let r=`${n}`,i=r.replace(V_,(o,s)=>{let a=e[s];return a==null&&(t.push(v3(s)),a=""),a.toString()});return i==r?n:i}function t0(n){return n.replace(e4,(...e)=>e[1].toUpperCase())}function t4(n,e){return n===0||e===0}function n4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,n0(n,a)))}}return e}function on(n,e,t){switch(e.type){case te.Trigger:return n.visitTrigger(e,t);case te.State:return n.visitState(e,t);case te.Transition:return n.visitTransition(e,t);case te.Sequence:return n.visitSequence(e,t);case te.Group:return n.visitGroup(e,t);case te.Animate:return n.visitAnimate(e,t);case te.Keyframes:return n.visitKeyframes(e,t);case te.Style:return n.visitStyle(e,t);case te.Reference:return n.visitReference(e,t);case te.AnimateChild:return n.visitAnimateChild(e,t);case te.AnimateRef:return n.visitAnimateRef(e,t);case te.Query:return n.visitQuery(e,t);case te.Stagger:return n.visitStagger(e,t);default:throw y3(e.type)}}function n0(n,e){return window.getComputedStyle(n)[e]}function i4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>o4(r,t,e)):t.push(n),t}function o4(n,e,t){if(n[0]==":"){let c=s4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(P3(n)),e;let i=r[1],o=r[2],s=r[3];e.push(cT(i,s));let a=i==bh&&s==bh;o[0]=="<"&&!a&&e.push(cT(s,i))}function s4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(A3(n)),"* => *"}}function cT(n,e){let t=ph.has(n)||gh.has(n),r=ph.has(e)||gh.has(e);return(i,o)=>{let s=n==bh||n==i,a=e==bh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?ph.has(n):gh.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?ph.has(e):gh.has(e)),s&&a}}function MT(n,e,t,r){return new j_(n).build(e,t,r)}function c4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==DT);return e&&(n=n.replace(a4,"")),n=n.replace(/@\*/g,yh).replace(/@\w+/g,t=>yh+"-"+t.slice(1)).replace(/:animating/g,F_),[n,e]}function l4(n){return n?E({},n):null}function u4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function d4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=_h(n,e).duration;return O_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=O_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=_h(t,e);return O_(i.duration,i.delay,i.easing)}function bo(n){return n?(n=E({},n),n.params&&(n.params=l4(n.params))):n={},n}function O_(n,e,t){return{duration:n,delay:e,easing:t}}function r0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function ST(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new B_().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function uT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function v4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,lr)}else for(let[o,s]of i)t.set(o,s)}),t}function dT(n,e,t,r,i,o,s,a,c,l,u,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function y4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function IT(n,e){let t=E({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function _4(n,e,t){return new q_(n,e,t)}function C4(n,e,t){let r=[(s,a)=>!0],i={type:te.Sequence,steps:[],options:null},o={type:te.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Dh(n,o,e)}function fT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function x4(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function T4(n){return n??null}function mh(n){return n&&n.nodeType===1}function O4(n){return n=="start"||n=="done"}function pT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function gT(n,e,t,r,i){let o=[];t.forEach(c=>o.push(pT(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[qn]=I4,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>pT(c,o[a++])),s}function mT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Sn(n,e){n.classList?.add(e)}function na(n,e){n.classList?.remove(e)}function P4(n,e,t){xi(t).onDone(()=>n.processLeaveNode(e))}function A4(n){let e=[];return TT(n,e),e}function TT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Ec?TT(r.players,e):e.push(r)}}function N4(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function vT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function k4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=k_(e[0]),e.length>1&&(r=k_(e[e.length-1]))):e instanceof Map&&(t=k_(e)),t||r?new Y_(n,t,r):null}function k_(n){let e=null;return n.forEach((t,r)=>{R4(r)&&(e=e||new Map,e.set(r,t))}),e}function R4(n){return n==="display"||n==="position"}function F4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function L4(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var q3,Co,sT,e0,Eo,Do,Y3,bT,Q3,wT,R_,hh,yh,aT,F_,V_,e4,r4,Ch,bh,ph,gh,DT,a4,lT,j_,U_,Wc,f4,h4,p4,g4,m4,B_,wh,$_,Eh,H_,P_,Dh,z_,q_,b4,W_,hT,w4,A_,E4,D4,M4,S4,xT,I4,qn,Gc,zc,N_,G_,K_,Kc,ra,Y_,Mh,Sh,vh,OT,Ih,Q_,xh,i0=p(()=>{"use strict";pf();O();O();q3=typeof document>"u"?null:document.documentElement;Co=null,sT=!1;e0=(()=>{class n{validateStyleProperty(t){return G3(t)}containsElement(t,r){return _T(t,r)}getParentElement(t){return X_(t)}query(t,r,i){return CT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new _i(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),Eo=class{static{this.NOOP=new e0}},Do=class{},Y3=1e3,bT="{{",Q3="}}",wT="ng-enter",R_="ng-leave",hh="ng-trigger",yh=".ng-trigger",aT="ng-animating",F_=".ng-animating";V_=new RegExp(`${bT}\\s*(.+?)\\s*${Q3}`,"g");e4=/-+([a-z0-9])/g;r4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ch=class extends Do{normalizePropertyName(e,t){return t0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(r4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(_3(e,r))}return s+o}},bh="*";ph=new Set(["true","1"]),gh=new Set(["false","0"]);DT=":self",a4=new RegExp(`s*${DT}s*,?`,"g");lT="",j_=class{constructor(e){this._driver=e}build(e,t,r){let i=new U_(t);return this._resetContextStyleTimingState(i),on(this,Hc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=lT,e.collectedStyles=new Map,e.collectedStyles.set(lT,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(C3()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==te.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==te.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(b3())}),{type:te.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{ET(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(w3(e.name,[...o.values()]))}return{type:te.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=on(this,Hc(e.animation),t),i=i4(e.expr,t.errors);return{type:te.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:bo(e.options)}}visitSequence(e,t){return{type:te.Sequence,steps:e.steps.map(r=>on(this,r,t)),options:bo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=on(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:te.Group,steps:o,options:bo(e.options)}}visitAnimate(e,t){let r=d4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Bn({});if(o.type==te.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Bn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:te.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===lr?r.push(a):t.errors.push(E3(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(bT)>=0){o=!0;break}}}),{type:te.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(D3(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&X3(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:te.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(M3()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(B=>{let oe=this._makeStyleAst(B,t),K=oe.offset!=null?oe.offset:u4(oe.styles),ue=0;return K!=null&&(o++,ue=oe.offset=K),c=c||ue<0||ue>1,a=a||ue<l,l=ue,s.push(ue),oe});c&&t.errors.push(S3()),a&&t.errors.push(I3());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(x3()):o==0&&(m=i/(d-1));let g=d-1,C=t.currentTime,w=t.currentAnimateTimings,P=w.duration;return u.forEach((B,oe)=>{let K=m>0?oe==g?1:m*oe:s[oe],ue=K*P;t.currentTime=C+w.delay+ue,w.duration=ue,this._validateStyleAst(B,t),B.offset=K,r.styles.push(B)}),r}visitReference(e,t){return{type:te.Reference,animation:on(this,Hc(e.animation),t),options:bo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:te.AnimateChild,options:bo(e.options)}}visitAnimateRef(e,t){return{type:te.AnimateRef,animation:this.visitReference(e.animation,t),options:bo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=c4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,sn(t.collectedStyles,t.currentQuerySelector,new Map);let a=on(this,Hc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:te.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:bo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(T3());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_h(e.timings,t.errors,!0);return{type:te.Stagger,animation:on(this,Hc(e.animation),t),timings:r,options:null}}};U_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};Wc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},f4=1,h4=":enter",p4=new RegExp(h4,"g"),g4=":leave",m4=new RegExp(g4,"g");B_=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Wc;let d=new $_(e,t,l,i,o,u,[]);d.options=c;let m=c.delay?Hr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),on(this,r,d);let g=d.timelines.filter(C=>C.containsAnimation());if(g.length&&a.size){let C;for(let w=g.length-1;w>=0;w--){let P=g[w];if(P.element===t){C=P;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,d.errors,c)}return g.length?g.map(C=>C.buildKeyframes()):[r0(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Hr(qc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Hr(r.duration):null,a=r.delay!=null?Hr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),on(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==te.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wh);let s=Hr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>on(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Hr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),on(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?qc(r,t.params,t.errors):r;return _h(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==te.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Hr(i.delay):0;o&&(t.previousNode.type===te.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wh);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),on(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;on(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},wh={},$_=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Eh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Hr(r.duration)),r.delay!=null&&(i.delay=Hr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=qc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=wh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new H_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(p4,"."+this._enterClassName),e=e.replace(m4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(O3(t)),a}},Eh=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=f4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||lr),this._currentKeyframe.set(t,lr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=v4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=qc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??lr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===hf?e.add(d):u===lr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return r0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},H_=class extends Eh{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",uT(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),C=t+g*r;m.set("offset",uT(C/s)),o.push(m)}r=s,t=0,i="",e=o}return r0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};P_={},Dh=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return y4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||P_,g=a&&a.params||P_,C=this.buildStyles(r,g,d),w=c&&c.params||P_,P=this.buildStyles(i,w,d),B=new Set,oe=new Map,K=new Map,ue=i==="void",ze={params:IT(w,m),delay:this.ast.options?.delay},Ee=u?[]:ST(e,t,this.ast.animation,o,s,C,P,ze,l,d),Re=0;return Ee.forEach(rt=>{Re=Math.max(rt.duration+rt.delay,Re)}),d.length?dT(t,this._triggerName,r,i,ue,C,P,[],[],oe,K,Re,d):(Ee.forEach(rt=>{let fr=rt.element,Mo=sn(oe,fr,new Set);rt.preStyleProps.forEach(Ti=>Mo.add(Ti));let s0=sn(K,fr,new Set);rt.postStyleProps.forEach(Ti=>s0.add(Ti)),fr!==t&&B.add(fr)}),dT(t,this._triggerName,r,i,ue,C,P,Ee,[...B.values()],oe,K,Re))}};z_=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=IT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=qc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};q_=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new z_(i.style,o,r))}),fT(this.states,"true","1"),fT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Dh(e,i,this.states))}),this.fallbackTransition=C4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};b4=new Wc,W_=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=MT(this._driver,t,r,i);if(r.length)throw R3(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=yT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=ST(this._driver,t,o,wT,R_,new Map,new Map,r,b4,i),s.forEach(u=>{let d=sn(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(F3()),s=[]),i.length)throw L3(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,lr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=xi(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw V3(e);return t}listen(e,t,r,i){let o=J_(t,"","","");return Z_(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},hT="ng-animate-queued",w4=".ng-animate-queued",A_="ng-animate-disabled",E4=".ng-animate-disabled",D4="ng-star-inserted",M4=".ng-star-inserted",S4=[],xT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},I4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qn="__ng_removed",Gc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=T4(i),r){let o=e,{value:s}=o,a=Fh(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},zc="void",N_=new Gc(zc),G_=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Sn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw j3(r,t);if(r==null||r.length==0)throw U3(t);if(!O4(r))throw B3(r,t);let o=sn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=sn(this._engine.statesByElement,e,new Map);return a.has(t)||(Sn(e,hh),Sn(e,hh+"-"+t),a.set(t,N_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw $3(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Kc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Sn(e,hh),Sn(e,hh+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Gc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=N_),!(l.value===zc)&&c.value===l.value){if(!N4(c.params,l.params)){let w=[],P=o.matchStyles(c.value,c.params,w),B=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{wo(e,P),dr(e,B)})}return}let m=sn(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),C=!1;if(!g){if(!i)return;g=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:C}),C||(Sn(e,hT),s.onStart(()=>{na(e,hT)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let P=this._engine.playersByElement.get(e);if(P){let B=P.indexOf(s);B>=0&&P.splice(B,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,yh,!0);r.forEach(i=>{if(i[qn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,zc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&xi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||N_,u=new Gc(zc),d=new Kc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[qn];(!o||o===xT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Sn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=J_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Z_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},K_=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new G_(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(mh(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mh(t))return;let o=t[qn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Sn(e,A_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),na(e,A_))}removeNode(e,t,r){if(mh(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[qn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return mh(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,yh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,F_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[qn];if(t&&t.setForRemoval){if(e[qn]=xT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(A_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,E4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Sn(i,D4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?xi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw H3(e)}_flushAnimations(e,t){let r=new Wc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);let z=this.driver.query(V,w4,!0);for(let G=0;G<z.length;G++)u.add(z[G])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=mT(m,this.collectedEnterElements),C=new Map,w=0;g.forEach((V,z)=>{let G=wT+w++;C.set(z,G),V.forEach(ge=>Sn(ge,G))});let P=[],B=new Set,oe=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let z=this.collectedLeaveElements[V],G=z[qn];G&&G.setForRemoval&&(P.push(z),B.add(z),G.hasAnimation?this.driver.query(z,M4,!0).forEach(ge=>B.add(ge)):oe.add(z))}let K=new Map,ue=mT(m,Array.from(B));ue.forEach((V,z)=>{let G=R_+w++;K.set(z,G),V.forEach(ge=>Sn(ge,G))}),e.push(()=>{g.forEach((V,z)=>{let G=C.get(z);V.forEach(ge=>na(ge,G))}),ue.forEach((V,z)=>{let G=K.get(z);V.forEach(ge=>na(ge,G))}),P.forEach(V=>{this.processLeaveNode(V)})});let ze=[],Ee=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(t).forEach(G=>{let ge=G.player,it=G.element;if(ze.push(ge),this.collectedEnterElements.length){let mt=it[qn];if(mt&&mt.setForMove){if(mt.previousTriggersValues&&mt.previousTriggersValues.has(G.triggerName)){let Oi=mt.previousTriggersValues.get(G.triggerName),an=this.statesByElement.get(G.element);if(an&&an.has(G.triggerName)){let Yc=an.get(G.triggerName);Yc.value=Oi,an.set(G.triggerName,Yc)}}ge.destroy();return}}let Wn=!d||!this.driver.containsElement(d,it),qt=K.get(it),zr=C.get(it),$e=this._buildInstruction(G,r,zr,qt,Wn);if($e.errors&&$e.errors.length){Ee.push($e);return}if(Wn){ge.onStart(()=>wo(it,$e.fromStyles)),ge.onDestroy(()=>dr(it,$e.toStyles)),i.push(ge);return}if(G.isFallbackTransition){ge.onStart(()=>wo(it,$e.fromStyles)),ge.onDestroy(()=>dr(it,$e.toStyles)),i.push(ge);return}let l0=[];$e.timelines.forEach(mt=>{mt.stretchStartingKeyframe=!0,this.disabledNodes.has(mt.element)||l0.push(mt)}),$e.timelines=l0,r.append(it,$e.timelines);let BT={instruction:$e,player:ge,element:it};s.push(BT),$e.queriedElements.forEach(mt=>sn(a,mt,[]).push(ge)),$e.preStyleProps.forEach((mt,Oi)=>{if(mt.size){let an=c.get(Oi);an||c.set(Oi,an=new Set),mt.forEach((Yc,Rh)=>an.add(Rh))}}),$e.postStyleProps.forEach((mt,Oi)=>{let an=l.get(Oi);an||l.set(Oi,an=new Set),mt.forEach((Yc,Rh)=>an.add(Rh))})});if(Ee.length){let V=[];Ee.forEach(z=>{V.push(z3(z.triggerName,z.errors))}),ze.forEach(z=>z.destroy()),this.reportError(V)}let Re=new Map,rt=new Map;s.forEach(V=>{let z=V.element;r.has(z)&&(rt.set(z,z),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,Re))}),i.forEach(V=>{let z=V.element;this._getPreviousPlayers(z,!1,V.namespaceId,V.triggerName,null).forEach(ge=>{sn(Re,z,[]).push(ge),ge.destroy()})});let fr=P.filter(V=>vT(V,c,l)),Mo=new Map;gT(Mo,this.driver,oe,l,lr).forEach(V=>{vT(V,c,l)&&fr.push(V)});let Ti=new Map;g.forEach((V,z)=>{gT(Ti,this.driver,new Set(V),c,hf)}),fr.forEach(V=>{let z=Mo.get(V),G=Ti.get(V);Mo.set(V,new Map([...z?.entries()??[],...G?.entries()??[]]))});let kh=[],a0=[],c0={};s.forEach(V=>{let{element:z,player:G,instruction:ge}=V;if(r.has(z)){if(u.has(z)){G.onDestroy(()=>dr(z,ge.toStyles)),G.disabled=!0,G.overrideTotalTime(ge.totalTime),i.push(G);return}let it=c0;if(rt.size>1){let qt=z,zr=[];for(;qt=qt.parentNode;){let $e=rt.get(qt);if($e){it=$e;break}zr.push(qt)}zr.forEach($e=>rt.set($e,it))}let Wn=this._buildAnimation(G.namespaceId,ge,Re,o,Ti,Mo);if(G.setRealPlayer(Wn),it===c0)kh.push(G);else{let qt=this.playersByElement.get(it);qt&&qt.length&&(G.parentPlayer=xi(qt)),i.push(G)}}else wo(z,ge.fromStyles),G.onDestroy(()=>dr(z,ge.toStyles)),a0.push(G),u.has(z)&&i.push(G)}),a0.forEach(V=>{let z=o.get(V.element);if(z&&z.length){let G=xi(z);V.setRealPlayer(G)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<P.length;V++){let z=P[V],G=z[qn];if(na(z,R_),G&&G.hasAnimation)continue;let ge=[];if(a.size){let Wn=a.get(z);Wn&&Wn.length&&ge.push(...Wn);let qt=this.driver.query(z,F_,!0);for(let zr=0;zr<qt.length;zr++){let $e=a.get(qt[zr]);$e&&$e.length&&ge.push(...$e)}}let it=ge.filter(Wn=>!Wn.destroyed);it.length?P4(this,z,it):this.processLeaveNode(z)}return P.length=0,kh.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let z=this.players.indexOf(V);this.players.splice(z,1)}),V.play()}),kh}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==zc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=sn(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let C=g.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),g.destroy(),d.push(g)})}wo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,m=t.timelines.map(C=>{let w=C.element;u.add(w);let P=w[qn];if(P&&P.removedBeforeQueried)return new _i(C.duration,C.delay);let B=w!==c,oe=A4((r.get(w)||S4).map(Re=>Re.getRealPlayer())).filter(Re=>{let rt=Re;return rt.element?rt.element===w:!1}),K=o.get(w),ue=s.get(w),ze=yT(this._normalizer,C.keyframes,K,ue),Ee=this._buildPlayer(C,ze,oe);if(C.subTimeline&&i&&d.add(w),B){let Re=new Kc(e,a,w);Re.setRealPlayer(Ee),l.push(Re)}return Ee});l.forEach(C=>{sn(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>x4(this.playersByQueriedElement,C.element,C))}),u.forEach(C=>Sn(C,aT));let g=xi(m);return g.onDestroy(()=>{u.forEach(C=>na(C,aT)),dr(c,t.toStyles)}),d.forEach(C=>{sn(i,C,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _i(e.duration,e.delay)}},Kc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _i,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Z_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){sn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};ra=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new K_(e.body,t,r),this._timelineEngine=new W_(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=MT(this._driver,o,c,l);if(c.length)throw N3(i,c);l.length&&void 0,a=_4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=oT(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=oT(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};Y_=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&dr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dr(this._element,this._initialStyles),this._endStyles&&(dr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wo(this._element,this._endStyles),this._endStyles=null),dr(this._element,this._initialStyles),this._state=3)}};Mh=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:n0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Sh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return _T(e,t)}getParentElement(e){return X_(e)}query(e,t,r){return CT(e,t,r)}computeStyle(e,t,r){return n0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof Mh);t4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((C,w)=>l.set(w,C))});let d=J3(t).map(g=>new Map(g));d=n4(e,d,l);let m=k4(e,d);return new Mh(e,d,c,m)}},vh="@",OT="@.disabled",Ih=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==vh&&t==OT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Q_=class extends Ih{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==vh?t.charAt(1)=="."&&t==OT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==vh){let i=F4(e),o=t.slice(1),s="";return o.charAt(0)!=vh&&([o,s]=L4(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};xh=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Ih(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Q_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function U4(){return new Ch}function B4(n,e,t){return new xh(n,e,t)}var j4,AT,PT,$4,NT,kT=p(()=>{"use strict";O();O();ja();i0();i0();xe();j4=(()=>{class n extends ra{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(A(lt),A(Eo),A(Do))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();AT=[{provide:Do,useFactory:U4},{provide:ra,useClass:j4},{provide:ni,useFactory:B4,deps:[Md,ra,ye]}],PT=[{provide:Eo,useFactory:()=>new Sh},{provide:mm,useValue:"BrowserAnimations"},...AT],$4=[{provide:Eo,useClass:e0},{provide:mm,useValue:"NoopAnimations"},...AT],NT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$4:PT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:PT,imports:[Id]})}}return n})()});var Th,RT=p(()=>{"use strict";O();Th=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}});function K4(n,e){if(n&1){let t=Y();h(0,"div",17)(1,"input",18,3),mn("ngModelChange",function(i){j(t);let o=x();return Rn(o.room,i)||(o.room=i),U(i)}),f(),h(3,"button",19),T("click",function(){j(t);let i=x();return i.joinRoom(),U(i.isRoomJoined=!0)}),v(4,"Join Room"),f()()}if(n&2){let t=x();_(),gn("ngModel",t.room)}}function Y4(n,e){if(n&1&&(h(0,"div"),v(1),f()),n&2){let t=x().$implicit;_(),wt(t.text)}}function Q4(n,e){if(n&1){let t=Y();h(0,"img",26),T("error",function(){j(t);let i=x().$implicit,o=x();return U(o.handleImageError(i.imageUrl))}),f()}if(n&2){let t=x().$implicit;b("src",t.imageUrl,at)}}function Z4(n,e){if(n&1){let t=Y();h(0,"video",27),T("error",function(){j(t);let i=x().$implicit,o=x();return U(o.handleVideoError(i.videoUrl))}),v(1," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f()}if(n&2){let t=x().$implicit;b("src",t.videoUrl,at)}}function J4(n,e){if(n&1&&(h(0,"div",20)(1,"span",21),v(2),f(),h(3,"div",22),N(4,Y4,2,1,"div",23)(5,Q4,1,1,"img",24)(6,Z4,2,1,"video",25),f()()),n&2){let t=e.$implicit;b("ngClass",QE(5,G4,t.senderName==="Me",t.senderName!=="Me")),_(2),wt(t.senderName),_(2),b("ngIf",t.text),_(),b("ngIf",t.imageUrl),_(),b("ngIf",t.videoUrl)}}function X4(n,e){n&1&&(h(0,"span"),v(1,"\u2328\uFE0F"),f())}function eH(n,e){n&1&&(h(0,"span"),v(1,"\u2328\uFE0F"),f())}function tH(n,e){n&1&&(h(0,"span"),v(1,"\u{1F5BC}\uFE0F"),f())}function nH(n,e){n&1&&(h(0,"span"),v(1,"\u{1F3AC}"),f())}function rH(n,e){if(n&1&&(h(0,"div",28)(1,"div",29),N(2,X4,2,0,"span",23)(3,eH,2,0,"span",23)(4,tH,2,0,"span",23)(5,nH,2,0,"span",23),f()()),n&2){let t=x();_(2),b("ngIf",t.typingMessage==="Typing..."),_(),b("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),_(),b("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),_(),b("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function iH(n,e){if(n&1&&(h(0,"div",30),R(1,"div",31),h(2,"p"),v(3),f()()),n&2){let t=x();_(3),_e("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function oH(n,e){if(n&1){let t=Y();h(0,"button",32),T("click",function(i){j(t);let o=x();return U(o.sendMessage(i))}),v(1,"\u{1F680}"),f()}}function sH(n,e){if(n&1){let t=Y();h(0,"button",32),T("click",function(i){j(t);let o=x();return U(o.sendPrivateMessage(i))}),v(1,"\u{1F680}"),f()}}var z4,q4,W4,G4,ia,o0=p(()=>{"use strict";O();Me();sc();ta();Qd();O();Fs();Et();My();RT();x_();Ra();xe();nn();z4=["roomInput"],q4=["chatInput"],W4=["messagesContainer"],G4=(n,e)=>({"my-message":n,"other-message":e});ia=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=y(Mn);cloudinaryService=y(pi);typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new Fe,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>I(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}})))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>I(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>I(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return I(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return I(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return I(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(ft.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>I(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let s={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(s)}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return I(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.chatType==="private"?r.type.startsWith("image/")?this.sendPrivateImageMessage(a):r.type.startsWith("video/")&&this.sendPrivateVideoMessage(a):r.type.startsWith("image/")?this.sendImageMessage(a):r.type.startsWith("video/")&&this.sendVideoMessage(a)},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",e),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"","",e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.messages.push(t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return I(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(bn),D(Ce),D(Rs),D(Th),D(ea),D(io))};static \u0275cmp=ee({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(Xu(z4,5),Xu(q4,5),Xu(W4,5)),t&2){let i;cs(i=ls())&&(r.roomInput=i.first),cs(i=ls())&&(r.chatInput=i.first),cs(i=ls())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},decls:20,vars:8,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[4,"ngIf"],["alt","Image","class","chat-image",3,"src","error",4,"ngIf"],["class","chat-video","controls","","preload","metadata",3,"src","error",4,"ngIf"],["alt","Image",1,"chat-image",3,"error","src"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"]],template:function(t,r){if(t&1){let i=Y();h(0,"div",4)(1,"h2"),v(2),f(),N(3,K4,5,1,"div",5),h(4,"div",6)(5,"div",7,0),N(7,J4,7,8,"div",8),f(),h(8,"div",9)(9,"div",10)(10,"label",11),v(11,"\u{1F4CE}"),f(),h(12,"input",12,1),mn("ngModelChange",function(s){return j(i),Rn(r.newMessage,s)||(r.newMessage=s),U(s)}),T("keyup",function(){return j(i),U(r.onTyping())})("blur",function(){return j(i),U(r.onStopTyping())}),f(),h(14,"input",13,2),T("change",function(s){return j(i),U(r.onFileSelected(s))}),f(),N(16,rH,6,4,"div",14),f(),N(17,iH,4,1,"div",15)(18,oH,2,0,"button",16)(19,sH,2,0,"button",16),f()()()}t&2&&(_(2),_e(" ",r.chatType==="group"?"Group Chat - "+r.room:"Private Chat With - "+r.targetUsername," "),_(),b("ngIf",r.chatType==="group"&&!r.isRoomJoined),_(4),b("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),_(5),gn("ngModel",r.newMessage),_(4),b("ngIf",r.isTyping),_(),b("ngIf",r.isUploading),_(),b("ngIf",r.chatType==="group"),_(),b("ngIf",r.chatType==="private"))},dependencies:[gs,ms,Se,En,ur,Lr],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;max-height:85vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none}.join-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:10px;width:40px;height:40px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:36px;height:36px}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']})}});function lH(n,e){if(n&1&&(h(0,"span",15),v(1),f()),n&2){let t=x().ngIf;_(),wt(t)}}function uH(n,e){if(n&1&&(_t(0),N(1,lH,2,1,"span",14),Ct()),n&2){let t=e.ngIf,r=x();_(),b("ngIf",t>0&&!r.isPrivateChatOpen)}}function dH(n,e){if(n&1){let t=Y();h(0,"div",16),T("clickOutsideCapture",function(){j(t);let i=x();return U(i.closePrivateChat())}),h(1,"div",17)(2,"span",18),T("click",function(){j(t);let i=x();return U(i.closePrivateChat())}),v(3,"\xD7"),f(),R(4,"app-chat",19),f()()}if(n&2){let t=x();_(4),b("chatType","private")("targetUserId",t.user._id)}}var cH,Oh,FT=p(()=>{"use strict";O();Et();O();dt();Fs();Uf();xe();wi();Bs();o0();cH=n=>({"long-field":n});Oh=class n{constructor(e,t,r){this.router=e;this.socketService=t;this.userIndex=r}user;remove=new se;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=y(Ce).getLoggedInUser()._id;ngOnInit(){this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Te),D(bn),D(Si))};static \u0275cmp=ee({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:18,vars:10,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook Profile",1,"fb-img"],["src","../../../assets/images/instagram.png","alt","Instagram Profile",1,"insta-img"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType","targetUserId"]],template:function(t,r){t&1&&(h(0,"article",0)(1,"div",1),T("click",function(){return r.onPreviewClick()}),R(2,"img",2),f(),h(3,"div",3)(4,"h1",4),v(5),f()(),h(6,"div",5)(7,"div",6)(8,"button",7),T("click",function(o){return r.openPrivateChat(o)}),R(9,"img",8),N(10,uH,2,1,"ng-container",9),kt(11,"async"),f()(),h(12,"button",10),T("click",function(o){return r.openFacebookProfile(o,r.user)}),R(13,"img",11),f(),h(14,"button",10),T("click",function(o){return r.openInstagramProfile(o,r.user)}),R(15,"img",12),f()()(),N(16,dH,5,2,"div",13),R(17,"router-outlet")),t&2&&(_(2),b("src",r.user.img?r.user.img:"../../../assets/images/contact.png",at),_(2),b("title",r.user.username)("ngClass",ds(8,cH,r.isLongField(r.user.username,15))),_(),_e(" ",r.user.username," "),_(5),b("ngIf",$t(11,6,r.unreadMessagesCount$)),_(6),b("ngIf",r.isPrivateChatOpen))},dependencies:[gs,Se,Vn,Mt,wn,ia,Ht],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:320px;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 65px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.4em;width:2.4em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.4em;width:1.4em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{font-size:1rem;min-width:unset}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:row;gap:5px}}.long-field[_ngcontent-%COMP%]{font-size:.9em}"]})}});function hH(n,e){if(n&1){let t=Y();h(0,"user-preview",3),T("remove",function(){let i=j(t).$implicit,o=x();return U(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;b("user",t)}}function pH(n,e){n&1&&(h(0,"p"),v(1,"No users found."),f())}var Ph,LT=p(()=>{"use strict";O();O();Et();xe();FT();Ph=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new se;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275cmp=ee({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(h(0,"section",1),N(1,hH,1,1,"user-preview",2)(2,pH,2,0,"ng-template",null,0,sr),f()),t&2&&(_(),b("ngForOf",r.users))},dependencies:[ms,Oh],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function gH(n,e){if(n&1){let t=Y();h(0,"button",4),T("click",function(){j(t);let i=x();return U(i.onClearFilter())}),v(1,"\u2716"),f()}}var Ah,VT=p(()=>{"use strict";O();Me();Vs();Et();O();xe();nn();Ah=class n{userService=y(Ce);filterBy="";filterSubject$=new he;destroyRef=y(At);ngOnInit(){this.userService.filterBy$.pipe(zt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(mr(),zt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),mn("ngModelChange",function(o){return Rn(r.filterBy,o)||(r.filterBy=o),o}),T("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,gH,2,0,"button",3),f()()),t&2&&(_(2),gn("ngModel",r.filterBy),_(),b("ngIf",r.filterBy))},dependencies:[Se,En,ur,Lr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Nh,jT=p(()=>{"use strict";ja();HI();rT();Ra();nn();kT();wi();Bs();Uf();LT();VT();o0();I_();O();xe();Nh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ke({type:n,bootstrap:[fh]});static \u0275inj=Ge({imports:[Id,$f,BD,wI,EI,NT,Qx.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};YE(Si,function(){return[Se,Mt,wn,Ph,Ah,ia]},function(){return[Ht]})});var mH=zT(UT=>{ja();jT();ta();O();KD().bootstrapModule(Nh).then(()=>{let n=y(Mn);"serviceWorker"in navigator&&window.addEventListener("load",()=>I(UT,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default mH();
