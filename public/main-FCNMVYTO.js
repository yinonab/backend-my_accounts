var m0=Object.defineProperty,JO=Object.defineProperties;var XO=Object.getOwnPropertyDescriptors;var Jc=Object.getOwnPropertySymbols;var v0=Object.prototype.hasOwnProperty,y0=Object.prototype.propertyIsEnumerable;var g0=(n,e,t)=>e in n?m0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})v0.call(e,t)&&g0(n,t,e[t]);if(Jc)for(var t of Jc(e))y0.call(e,t)&&g0(n,t,e[t]);return n},$=(n,e)=>JO(n,XO(e));var jh=(n,e)=>{var t={};for(var r in n)v0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Jc)for(var r of Jc(n))e.indexOf(r)<0&&y0.call(n,r)&&(t[r]=n[r]);return t};var p=(n,e)=>()=>(n&&(e=n(n=0)),e);var eT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),tT=(n,e)=>{for(var t in e)m0(n,t,{get:e[t],enumerable:!0})};var x=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function _0(n,e){return Object.is(n,e)}function ye(n){let e=nt;return nt=n,e}function C0(){return nt}function $h(n){if(Xc)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(n);let e=nt.nextProducerIndex++;if(il(nt),e<nt.producerNode.length&&nt.producerNode[e]!==n&&aa(nt)){let t=nt.producerNode[e];rl(t,nt.producerIndexOfThis[e])}nt.producerNode[e]!==n&&(nt.producerNode[e]=n,nt.producerIndexOfThis[e]=aa(nt)?D0(n,nt,e):0),nt.producerLastReadVersion[e]=n.version}function nT(){el++}function b0(n){if(!(aa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===el)){if(!n.producerMustRecompute(n)&&!zh(n)){n.dirty=!1,n.lastCleanEpoch=el;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=el}}function w0(n){if(n.liveConsumerNode===void 0)return;let e=Xc;Xc=!0;try{for(let t of n.liveConsumerNode)t.dirty||rT(t)}finally{Xc=e}}function E0(){return nt?.consumerAllowSignalWrites!==!1}function rT(n){n.dirty=!0,w0(n),n.consumerMarkedDirty?.(n)}function nl(n){return n&&(n.nextProducerIndex=0),ye(n)}function Hh(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(aa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)rl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function zh(n){il(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(b0(t),r!==t.version))return!0}return!1}function qh(n){if(il(n),aa(n))for(let e=0;e<n.producerNode.length;e++)rl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function D0(n,e,t){if(M0(n),n.liveConsumerNode.length===0&&S0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=D0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function rl(n,e){if(M0(n),n.liveConsumerNode.length===1&&S0(n))for(let r=0;r<n.producerNode.length;r++)rl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];il(i),i.producerIndexOfThis[r]=e}}function aa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function il(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function M0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function S0(n){return n.producerNode!==void 0}function I0(n){let e=Object.create(iT);e.computation=n;let t=()=>{if(b0(e),$h(e),e.value===tl)throw e.error;return e.value};return t[vr]=e,t}function oT(){throw new Error}function O0(){x0()}function T0(n){x0=n}function P0(n){let e=Object.create(N0);e.value=n;let t=()=>($h(e),e.value);return t[vr]=e,t}function Wh(n,e){E0()||O0(),n.equal(n.value,e)||(n.value=e,aT(n))}function A0(n,e){E0()||O0(),Wh(n,e(n.value))}function aT(n){n.version++,nT(),w0(n),sT?.()}var nt,Xc,el,vr,ca,Uh,Bh,tl,iT,x0,sT,N0,k0=p(()=>{"use strict";nt=null,Xc=!1,el=1,vr=Symbol("SIGNAL");ca={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Uh=Symbol("UNSET"),Bh=Symbol("COMPUTING"),tl=Symbol("ERRORED"),iT=$(E({},ca),{value:Uh,dirty:!0,error:null,equal:_0,producerMustRecompute(n){return n.value===Uh||n.value===Bh},producerRecomputeValue(n){if(n.value===Bh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Bh;let t=nl(n),r;try{r=n.computation()}catch(i){r=tl,n.error=i}finally{Hh(n,t)}if(e!==Uh&&e!==tl&&r!==tl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});x0=oT;sT=null;N0=$(E({},ca),{equal:_0,value:void 0})});function H(n){return typeof n=="function"}var qe=p(()=>{"use strict"});function To(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ol=p(()=>{"use strict"});var sl,R0=p(()=>{"use strict";ol();sl=To(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Fi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var al=p(()=>{"use strict"});function cl(n){return n instanceof Ve||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function F0(n){H(n)?n():n.unsubscribe()}var Ve,Gh,Li=p(()=>{"use strict";qe();R0();al();Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof sl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{F0(o)}catch(s){e=e??[],s instanceof sl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new sl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)F0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fi(t,e)}remove(e){let{_finalizers:t}=this;t&&Fi(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();Gh=Ve.EMPTY});var On,la=p(()=>{"use strict";On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Po,Kh=p(()=>{"use strict";Po={setTimeout(n,e,...t){let{delegate:r}=Po;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Po;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function ll(n){Po.setTimeout(()=>{let{onUnhandledError:e}=On;if(e)e(n);else throw n})}var Yh=p(()=>{"use strict";la();Kh()});function yr(){}var ua=p(()=>{"use strict"});function V0(n){return Qh("E",void 0,n)}function j0(n){return Qh("N",n,void 0)}function Qh(n,e,t){return{kind:n,value:e,error:t}}var L0,U0=p(()=>{"use strict";L0=Qh("C",void 0,void 0)});function Ao(n){if(On.useDeprecatedSynchronousErrorHandling){let e=!Vi;if(e&&(Vi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Vi;if(Vi=null,t)throw r}}else n()}function B0(n){On.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=n)}var Vi,ul=p(()=>{"use strict";la();Vi=null});function Zh(n,e){return cT.call(n,e)}function dl(n){On.useDeprecatedSynchronousErrorHandling?B0(n):ll(n)}function lT(n){throw n}function Jh(n,e){let{onStoppedNotification:t}=On;t&&Po.setTimeout(()=>t(n,e))}var ji,cT,Xh,Qr,uT,fl=p(()=>{"use strict";qe();Li();la();Yh();ua();U0();Kh();ul();ji=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cl(e)&&e.add(this)):this.destination=uT}static create(e,t,r){return new Qr(e,t,r)}next(e){this.isStopped?Jh(j0(e),this):this._next(e)}error(e){this.isStopped?Jh(V0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jh(L0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cT=Function.prototype.bind;Xh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){dl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){dl(r)}else dl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){dl(t)}}},Qr=class extends ji{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Zh(e.next,o),error:e.error&&Zh(e.error,o),complete:e.complete&&Zh(e.complete,o)}):i=e}this.destination=new Xh(i)}};uT={closed:!0,next:yr,error:lT,complete:yr}});var No,hl=p(()=>{"use strict";No=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function pt(n){return n}var _r=p(()=>{"use strict"});function ep(...n){return tp(n)}function tp(n){return n.length===0?pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var np=p(()=>{"use strict";_r()});function $0(n){var e;return(e=n??On.Promise)!==null&&e!==void 0?e:Promise}function dT(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function fT(n){return n&&n instanceof ji||dT(n)&&cl(n)}var J,ct=p(()=>{"use strict";fl();Li();hl();np();la();qe();ul();J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=fT(t)?t:new Qr(t,r,i);return Ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=$0(r),new r((i,o)=>{let s=new Qr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[No](){return this}pipe(...t){return tp(t)(this)}toPromise(t){return t=$0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function rp(n){return H(n?.lift)}function X(n){return e=>{if(rp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var je=p(()=>{"use strict";qe()});function Z(n,e,t,r,i){return new ip(n,e,t,r,i)}var ip,He=p(()=>{"use strict";fl();ip=class extends ji{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function ko(){return X((n,e)=>{let t=null;n._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var op=p(()=>{"use strict";je();He()});var Zr,sp=p(()=>{"use strict";ct();Li();op();He();je();Zr=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(Z(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return ko()(this)}}});var H0,z0=p(()=>{"use strict";ol();H0=To(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var me,pl,da=p(()=>{"use strict";ct();Li();z0();al();ul();me=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new pl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new H0}next(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gh:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,Fi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new pl(e,t),n})(),pl=class extends me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Gh}}});var de,q0=p(()=>{"use strict";da();de=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var ap,W0=p(()=>{"use strict";ap={now(){return(ap.delegate||Date).now()},delegate:void 0}});var gl,G0=p(()=>{"use strict";Li();gl=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}}});var fa,K0=p(()=>{"use strict";fa={setInterval(n,e,...t){let{delegate:r}=fa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=fa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var ml,Y0=p(()=>{"use strict";G0();K0();al();ml=class extends gl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return fa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&fa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Ro,Q0=p(()=>{"use strict";W0();Ro=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ro.now=ap.now});var vl,Z0=p(()=>{"use strict";Q0();vl=class extends Ro{constructor(e,t=Ro.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var ha,J0,yl=p(()=>{"use strict";Y0();Z0();ha=new vl(ml),J0=ha});var Ot,pa=p(()=>{"use strict";ct();Ot=new J(n=>n.complete())});function _l(n){return n&&H(n.schedule)}var cp=p(()=>{"use strict";qe()});function lp(n){return n[n.length-1]}function Cl(n){return H(lp(n))?n.pop():void 0}function Qn(n){return _l(lp(n))?n.pop():void 0}function X0(n,e){return typeof lp(n)=="number"?n.pop():e}var Ui=p(()=>{"use strict";qe();cp()});function tC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function eC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function nC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(C){return Promise.resolve(C).then(g,d)}}function a(g,C){r[g]&&(i[g]=function(w){return new Promise(function(P,B){o.push([g,w,P,B])>1||c(g,w)})},C&&(i[g]=C(i[g])))}function c(g,C){try{l(r[g](C))}catch(w){m(o[0][3],w)}}function l(g){g.value instanceof Bi?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,C){g(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function rC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof eC=="function"?eC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var up=p(()=>{"use strict"});var Fo,bl=p(()=>{"use strict";Fo=n=>n&&typeof n.length=="number"&&typeof n!="function"});function wl(n){return H(n?.then)}var dp=p(()=>{"use strict";qe()});function El(n){return H(n[No])}var fp=p(()=>{"use strict";hl();qe()});function Dl(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var hp=p(()=>{"use strict";qe()});function Ml(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var pp=p(()=>{"use strict"});function hT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sl,gp=p(()=>{"use strict";Sl=hT()});function Il(n){return H(n?.[Sl])}var mp=p(()=>{"use strict";gp();qe()});function xl(n){return nC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{t.releaseLock()}})}function Ol(n){return H(n?.getReader)}var Tl=p(()=>{"use strict";up();qe()});function Se(n){if(n instanceof J)return n;if(n!=null){if(El(n))return pT(n);if(Fo(n))return gT(n);if(wl(n))return mT(n);if(Dl(n))return iC(n);if(Il(n))return vT(n);if(Ol(n))return yT(n)}throw Ml(n)}function pT(n){return new J(e=>{let t=n[No]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gT(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function mT(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ll)})}function vT(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iC(n){return new J(e=>{_T(n,e).catch(t=>e.error(t))})}function yT(n){return iC(xl(n))}function _T(n,e){var t,r,i,o;return tC(this,void 0,void 0,function*(){try{for(t=rC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var _t=p(()=>{"use strict";up();bl();dp();ct();fp();hp();pp();mp();Tl();qe();Yh();hl()});function jt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var Lo=p(()=>{"use strict"});function Pl(n,e=0){return X((t,r)=>{t.subscribe(Z(r,i=>jt(r,n,()=>r.next(i),e),()=>jt(r,n,()=>r.complete(),e),i=>jt(r,n,()=>r.error(i),e)))})}var vp=p(()=>{"use strict";Lo();je();He()});function Al(n,e=0){return X((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var yp=p(()=>{"use strict";je()});function oC(n,e){return Se(n).pipe(Al(e),Pl(e))}var sC=p(()=>{"use strict";_t();vp();yp()});function aC(n,e){return Se(n).pipe(Al(e),Pl(e))}var cC=p(()=>{"use strict";_t();vp();yp()});function lC(n,e){return new J(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var uC=p(()=>{"use strict";ct()});function dC(n,e){return new J(t=>{let r;return jt(t,e,()=>{r=n[Sl](),jt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var fC=p(()=>{"use strict";ct();gp();qe();Lo()});function Nl(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{jt(t,e,()=>{let r=n[Symbol.asyncIterator]();jt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var _p=p(()=>{"use strict";ct();Lo()});function hC(n,e){return Nl(xl(n),e)}var pC=p(()=>{"use strict";_p();Tl()});function gC(n,e){if(n!=null){if(El(n))return oC(n,e);if(Fo(n))return lC(n,e);if(wl(n))return aC(n,e);if(Dl(n))return Nl(n,e);if(Il(n))return dC(n,e);if(Ol(n))return hC(n,e)}throw Ml(n)}var mC=p(()=>{"use strict";sC();cC();uC();fC();_p();fp();dp();bl();mp();hp();pp();Tl();pC()});function q(n,e){return e?gC(n,e):Se(n)}var Vo=p(()=>{"use strict";mC();_t()});function F(...n){let e=Qn(n);return q(n,e)}var vC=p(()=>{"use strict";Ui();Vo()});function rt(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new J(e?i=>e.schedule(r,0,i):r)}var yC=p(()=>{"use strict";ct();qe()});function Cp(n){return!!n&&(n instanceof J||H(n.lift)&&H(n.subscribe))}var _C=p(()=>{"use strict";ct();qe()});var Tn,jo=p(()=>{"use strict";ol();Tn=To(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function $i(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Qr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Tn)}});n.subscribe(o)})}var CC=p(()=>{"use strict";jo();fl()});function bC(n){return n instanceof Date&&!isNaN(n)}var wC=p(()=>{"use strict"});function j(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>{r.next(n.call(e,o,i++))}))})}var Uo=p(()=>{"use strict";je();He()});function bT(n,e){return CT(e)?n(...e):n(e)}function Bo(n){return j(e=>bT(n,e))}var CT,kl=p(()=>{"use strict";Uo();({isArray:CT}=Array)});function Rl(n){if(n.length===1){let e=n[0];if(wT(e))return{args:e,keys:null};if(ST(e)){let t=MT(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ST(n){return n&&typeof n=="object"&&ET(n)===DT}var wT,ET,DT,MT,bp=p(()=>{"use strict";({isArray:wT}=Array),{getPrototypeOf:ET,prototype:DT,keys:MT}=Object});function Fl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var wp=p(()=>{"use strict"});function ga(...n){let e=Qn(n),t=Cl(n),{args:r,keys:i}=Rl(n);if(r.length===0)return q([],e);let o=new J(IT(r,e,i?s=>Fl(i,s):pt));return t?o.pipe(Bo(t)):o}function IT(n,e,t=pt){return r=>{EC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)EC(e,()=>{let l=q(n[c],e),u=!1;l.subscribe(Z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function EC(n,e,t){n?jt(t,n,e):e()}var DC=p(()=>{"use strict";ct();bp();Vo();_r();kl();Ui();wp();He();Lo()});function MC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?C(w):c.push(w),C=w=>{o&&e.next(w),l++;let P=!1;Se(t(w,u++)).subscribe(Z(e,B=>{i?.(B),o?g(B):e.next(B)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){let B=c.shift();s?jt(e,s,()=>C(B)):C(B)}m()}catch(B){e.error(B)}}))};return n.subscribe(Z(e,g,()=>{d=!0,m()})),()=>{a?.()}}var SC=p(()=>{"use strict";_t();Lo();He()});function Ue(n,e,t=1/0){return H(e)?Ue((r,i)=>j((o,s)=>e(r,o,i,s))(Se(n(r,i))),t):(typeof e=="number"&&(t=e),X((r,i)=>MC(r,i,n,t)))}var $o=p(()=>{"use strict";Uo();_t();je();SC();qe()});function Zn(n=1/0){return Ue(pt,n)}var Ll=p(()=>{"use strict";$o();_r()});function IC(){return Zn(1)}var xC=p(()=>{"use strict";Ll()});function Jn(...n){return IC()(q(n,Qn(n)))}var Vl=p(()=>{"use strict";xC();Ui();Vo()});function Hi(n){return new J(e=>{Se(n()).subscribe(e)})}var OC=p(()=>{"use strict";ct();_t()});function Ep(...n){let e=Cl(n),{args:t,keys:r}=Rl(n),i=new J(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Se(t[u]).subscribe(Z(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Fl(r,a):a),o.complete())}))}});return e?i.pipe(Bo(e)):i}var TC=p(()=>{"use strict";ct();bp();_t();Ui();He();kl();wp()});function Ho(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Ho(n,e,t).pipe(Bo(r));let[i,o]=NT(n)?OT.map(s=>a=>n[s](e,a,t)):PT(n)?xT.map(PC(n,e)):AT(n)?TT.map(PC(n,e)):[];if(!i&&Fo(n))return Ue(s=>Ho(s,e,t))(Se(n));if(!i)throw new TypeError("Invalid event target");return new J(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function PC(n,e){return t=>r=>n[t](e,r)}function PT(n){return H(n.addListener)&&H(n.removeListener)}function AT(n){return H(n.on)&&H(n.off)}function NT(n){return H(n.addEventListener)&&H(n.removeEventListener)}var xT,OT,TT,AC=p(()=>{"use strict";_t();ct();$o();bl();qe();kl();xT=["addListener","removeListener"],OT=["addEventListener","removeEventListener"],TT=["on","off"]});function jl(n=0,e,t=J0){let r=-1;return e!=null&&(_l(e)?t=e:r=e),new J(i=>{let o=bC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var Dp=p(()=>{"use strict";ct();yl();cp();wC()});function Ul(...n){let e=Qn(n),t=X0(n,1/0),r=n;return r.length?r.length===1?Se(r[0]):Zn(t)(q(r,e)):Ot}var NC=p(()=>{"use strict";Ll();_t();pa();Ui();Vo()});var zi,kC=p(()=>{"use strict";ct();ua();zi=new J(yr)});function Ne(n,e){return X((t,r)=>{let i=0;t.subscribe(Z(r,o=>n.call(e,o,i++)&&r.next(o)))})}var zo=p(()=>{"use strict";je();He()});var RC=p(()=>{"use strict"});function fe(n){return X((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Z(t,void 0,void 0,s=>{o=Se(n(s,fe(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var Mp=p(()=>{"use strict";_t();He();je()});function FC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Z(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var LC=p(()=>{"use strict";He()});function ln(n,e){return H(e)?Ue(n,e,1):Ue(n,1)}var Sp=p(()=>{"use strict";$o();qe()});function VC(n){return new J(e=>n.subscribe(e))}var jC=p(()=>{"use strict";ct()});function Bl(n,e=kT){let{connector:t}=e;return X((r,i)=>{let o=t();Se(n(VC(o))).subscribe(i),i.add(r.subscribe(o))})}var kT,Ip=p(()=>{"use strict";da();_t();je();jC();kT={connector:()=>new me}});function xp(n,e=ha){return X((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(Z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var UC=p(()=>{"use strict";yl();je();He()});function Jr(n){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var $l=p(()=>{"use strict";je();He()});function be(n){return n<=0?()=>Ot:X((e,t)=>{let r=0;e.subscribe(Z(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var ma=p(()=>{"use strict";pa();je();He()});function BC(){return X((n,e)=>{n.subscribe(Z(e,yr))})}var $C=p(()=>{"use strict";je();He();ua()});function va(n){return j(()=>n)}var Op=p(()=>{"use strict";Uo()});function Tp(n,e){return e?t=>Jn(e.pipe(be(1),BC()),t.pipe(Tp(n))):Ue((t,r)=>Se(n(t,r)).pipe(be(1),va(t)))}var HC=p(()=>{"use strict";Vl();ma();$C();Op();$o();_t()});function un(n,e=ha){let t=jl(n,e);return Tp(()=>t)}var Pp=p(()=>{"use strict";yl();HC();Dp()});function Cr(n,e=pt){return n=n??RT,X((t,r)=>{let i,o=!0;t.subscribe(Z(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function RT(n,e){return n===e}var zC=p(()=>{"use strict";_r();je();He()});function Hl(n=FT){return X((e,t)=>{let r=!1;e.subscribe(Z(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function FT(){return new Tn}var Ap=p(()=>{"use strict";jo();je();He()});function Gt(n){return X((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Np=p(()=>{"use strict";je()});function Xn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):pt,be(1),t?Jr(e):Hl(()=>new Tn))}var qC=p(()=>{"use strict";jo();zo();ma();$l();Ap();_r()});function qo(n){return n<=0?()=>Ot:X((e,t)=>{let r=[];e.subscribe(Z(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var kp=p(()=>{"use strict";pa();je();He()});function Rp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):pt,qo(1),t?Jr(e):Hl(()=>new Tn))}var WC=p(()=>{"use strict";jo();zo();kp();Ap();$l();_r()});function GC(n,e){let t=H(n)?n:()=>n;return H(e)?Bl(e,{connector:t}):r=>new Zr(r,t)}var KC=p(()=>{"use strict";sp();qe();Ip()});function Fp(n){return n?e=>Bl(n)(e):e=>GC(new me)(e)}var YC=p(()=>{"use strict";da();KC();Ip()});function lt(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?pt:X((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(Z(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?jl(r):Se(r(d,a)),C=Z(s,()=>{C.unsubscribe(),m()},()=>{s.complete()});g.subscribe(C)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Lp=p(()=>{"use strict";je();He();_r();Dp();_t()});function Vp(n,e){return X(FC(n,e,arguments.length>=2,!0))}var QC=p(()=>{"use strict";je();LC()});function jp(n){return Ne((e,t)=>n<=t)}var ZC=p(()=>{"use strict";zo()});function Up(...n){let e=Qn(n);return X((t,r)=>{(e?Jn(n,t,e):Jn(n,t)).subscribe(r)})}var JC=p(()=>{"use strict";Vl();Ui();je()});function ke(n,e){return X((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Z(r,c=>{i?.unsubscribe();let l=0,u=o++;Se(n(c,u)).subscribe(i=Z(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Bp=p(()=>{"use strict";_t();je();He()});function dn(n){return X((e,t)=>{Se(n).subscribe(Z(t,()=>t.complete(),yr)),!t.closed&&e.subscribe(t)})}var $p=p(()=>{"use strict";je();He();_t();ua()});function te(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?X((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var Hp=p(()=>{"use strict";qe();je();He();_r()});var we=p(()=>{"use strict";ct();sp();da();q0();Li();np();_C();CC();jo();DC();Vl();OC();TC();Vo();AC();NC();vC();yC();pa();kC();RC();Mp();Sp();UC();Pp();zC();zo();Np();Uo();Lp();ZC();Bp();ma();$p();Hp()});var Xr=p(()=>{"use strict";Mp();Sp();$l();Pp();zo();Np();qC();WC();Uo();Op();Ll();$o();YC();Lp();op();QC();JC();Bp();ma();kp();$p();Hp()});function Pu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ia(n){return{toString:n}.toString()}function LT(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Lb(n,e,t){return Ia(()=>{let r=LT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(zl)?c[zl]:Object.defineProperty(c,zl,{value:[]})[zl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function VT(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function At(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(At).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function ig(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function hn(n){return n.__forward_ref__=hn,n.toString=function(){return At(this())},n}function Pt(n){return Vb(n)?n():n}function Vb(n){return typeof n=="function"&&n.hasOwnProperty(jT)&&n.__forward_ref__===hn}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function Au(n){return XC(n,Ub)||XC(n,Bb)}function jb(n){return Au(n)!==null}function XC(n,e){return n.hasOwnProperty(e)?n[e]:null}function UT(n){let e=n&&(n[Ub]||n[Bb]);return e||null}function eb(n){return n&&(n.hasOwnProperty(tb)||n.hasOwnProperty(BT))?n[tb]:null}function $b(n){return n&&!!n.\u0275providers}function Nu(n){return typeof n=="string"?n:n==null?"":String(n)}function WT(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Nu(n)}function GT(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new M(-200,n)}function Jg(n,e){throw new M(-201,!1)}function Hb(){return og}function Ut(n){let e=og;return og=n,e}function zb(n,e,t){let r=Au(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;Jg(n,"Injector")}function JT(){return Qo}function ei(n){let e=Qo;return Qo=n,e}function XT(n,e=ae.Default){if(Qo===void 0)throw new M(-203,!1);return Qo===null?zb(n,void 0,e):Qo.get(n,e&ae.Optional?null:void 0,e)}function A(n,e=ae.Default){return(Hb()||XT)(Pt(n),e)}function _(n,e=ae.Default){return A(n,ku(e))}function ku(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ag(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=eP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function qb(n,e){return n[sg]=e,n.prototype[sg]=e,n}function eP(n){return n[sg]}function tP(n,e,t,r){let i=n[nu];throw e[rb]&&i.unshift(e[rb]),n.message=nP(`
`+n.message,i,t,r),n[YT]=i,n[nu]=null,n}function nP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==ZT?n.slice(2):n;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(QT,`
  `)}`}function Gi(n,e){let t=n.hasOwnProperty(tu);return t?n[tu]:null}function rP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function iP(n){return n.flat(Number.POSITIVE_INFINITY)}function em(n,e){n.forEach(t=>Array.isArray(t)?em(t,e):e(t))}function Wb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ru(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function oP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function tm(n,e,t){let r=xa(n,e);return r>=0?n[r|1]=t:(r=~r,oP(n,r,e,t)),r}function zp(n,e){let t=xa(n,e);if(t>=0)return n[t|1]}function xa(n,e){return sP(n,e,1)}function sP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function aP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function cg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];cP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Qb(n){return n===3||n===4||n===6}function cP(n){return n.charCodeAt(0)===64}function wa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ib(n,t,i,null,e[++r]):ib(n,t,i,null,null))}}return n}function ib(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function lP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(nm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function nm(n){return n.type===4&&n.value!==Zb}function uP(n,e,t){let r=n.type===4&&!t?Zb:n.value;return e===r}function dP(n,e,t){let r=4,i=n.attrs,o=i!==null?pP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Pn(r)&&!Pn(c))return!1;if(s&&Pn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!uP(n,c,t)||c===""&&e.length===1){if(Pn(r))return!1;s=!0}}else if(r&8){if(i===null||!lP(n,i,c,t)){if(Pn(r))return!1;s=!0}}else{let l=e[++a],u=fP(c,i,nm(n),t);if(u===-1){if(Pn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Pn(r))return!1;s=!0}}}}return Pn(r)||s}function Pn(n){return(n&1)===0}function fP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return gP(e,n)}function hP(n,e,t=!1){for(let r=0;r<e.length;r++)if(dP(n,e[r],t))return!0;return!1}function pP(n){for(let e=0;e<n.length;e++){let t=n[e];if(Qb(t))return e}return n.length}function gP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function ob(n,e){return n?":not("+e.trim()+")":e}function mP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Pn(s)&&(e+=ob(o,i),i=""),r=s,o=o||!Pn(r);t++}return i!==""&&(e+=ob(o,i)),e}function vP(n){return n.map(mP).join(",")}function yP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Pn(i))break;i=o}r++}return{attrs:e,classes:t}}function ee(n){return Ia(()=>{let e=nw(n),t=$(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Yb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nr.Emulated,styles:n.styles||Bt,_:null,schemas:n.schemas||null,tView:null,id:""});rw(t);let r=n.dependencies;return t.directiveDefs=ou(r,!1),t.pipeDefs=ou(r,!0),t.id=bP(t),t})}function _P(n){return ii(n)||Jb(n)}function CP(n){return n!==null}function Ke(n){return Ia(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sb(n,e){if(n==null)return Jo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ri.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ri.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ue(n){return Ia(()=>{let e=nw(n);return rw(e),e})}function rm(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ii(n){return n[$T]||null}function Jb(n){return n[HT]||null}function Xb(n){return n[zT]||null}function ew(n){let e=ii(n)||Jb(n)||Xb(n);return e!==null?e.standalone:!1}function tw(n,e){let t=n[qT]||null;if(!t&&e===!0)throw new Error(`Type ${At(n)} does not have '\u0275mod' property.`);return t}function nw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Jo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sb(n.inputs,e),outputs:sb(n.outputs),debugInfo:null}}function rw(n){n.features?.forEach(e=>e(n))}function ou(n,e){if(!n)return null;let t=e?Xb:_P;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(CP)}function bP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cs(n){return{\u0275providers:n}}function wP(...n){return{\u0275providers:iw(!0,n),\u0275fromNgModule:!0}}function iw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return em(e,s=>{let a=s;lg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ow(i,o),t}function ow(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];im(i,o=>{e(o,r)})}}function lg(n,e,t,r){if(n=Pt(n),!n)return!1;let i=null,o=eb(n),s=!o&&ii(n);if(!o&&!s){let c=n.ngModule;if(o=eb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)lg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{em(o.imports,u=>{lg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&ow(l,e)}if(!a){let l=Gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Bt},i),e({provide:Kb,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;im(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function im(n,e){for(let t of n)$b(t)&&(t=t.\u0275providers),Array.isArray(t)?im(t,e):e(t)}function sw(n){return n!==null&&typeof n=="object"&&EP in n}function DP(n){return!!(n&&n.useExisting)}function MP(n){return!!(n&&n.useFactory)}function es(n){return typeof n=="function"}function SP(n){return!!n.useClass}function om(){return qp===void 0&&(qp=new iu),qp}function ug(n){let e=Au(n),t=e!==null?e.factory:Gi(n);if(t!==null)return t;if(n instanceof R)throw new M(204,!1);if(n instanceof Function)return xP(n);throw new M(204,!1)}function xP(n){if(n.length>0)throw new M(204,!1);let t=UT(n);return t!==null?()=>t.factory(n):()=>new n}function OP(n){if(sw(n))return Wo(void 0,n.useValue);{let e=aw(n);return Wo(e,Ql)}}function aw(n,e,t){let r;if(es(n)){let i=Pt(n);return Gi(i)||ug(i)}else if(sw(n))r=()=>Pt(n.useValue);else if(MP(n))r=()=>n.useFactory(...ag(n.deps||[]));else if(DP(n))r=()=>A(Pt(n.useExisting));else{let i=Pt(n&&(n.useClass||n.provide));if(TP(n))r=()=>new i(...ag(n.deps));else return Gi(i)||ug(i)}return r}function Wo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function TP(n){return!!n.deps}function PP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function AP(n){return typeof n=="function"||typeof n=="object"&&n instanceof R}function dg(n,e){for(let t of n)Array.isArray(t)?dg(t,e):t&&$b(t)?dg(t.\u0275providers,e):e(t)}function pn(n,e){n instanceof Ea&&n.assertNotDestroyed();let t,r=ei(n),i=Ut(void 0);try{return e()}finally{ei(r),Ut(i)}}function cw(){return Hb()!==void 0||JT()!=null}function sm(n){if(!cw())throw new M(-203,!1)}function NP(n){let e=Tt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function kP(n){return typeof n=="function"}function ni(n){return Array.isArray(n)&&typeof n[uw]=="object"}function Sr(n){return Array.isArray(n)&&n[uw]===!0}function am(n){return(n.flags&4)!==0}function Vu(n){return n.componentOffset>-1}function ju(n){return(n.flags&1)===1}function oi(n){return!!n.template}function fg(n){return(n[Q]&512)!==0}function dw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Fn(){return fw}function fw(n){return n.type.prototype.ngOnChanges&&(n.setInput=FP),RP}function RP(){let n=pw(this),e=n?.current;if(e){let t=n.previous;if(t===Jo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function FP(n,e,t,r,i){let o=this.declaredInputs[r],s=pw(n)||LP(n,{previous:Jo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new hg(l&&l.currentValue,t,c===Jo),dw(n,e,i,t)}function pw(n){return n[hw]||null}function LP(n,e){return n[hw]=e}function or(n){for(;Array.isArray(n);)n=n[Mr];return n}function gw(n,e){return or(e[n])}function gn(n,e){return or(e[n.index])}function mw(n,e){return n.data[e]}function cm(n,e){return n[e]}function li(n,e){let t=e[n];return ni(t)?t:t[Mr]}function UP(n){return(n[Q]&4)===4}function lm(n){return(n[Q]&128)===128}function BP(n){return Sr(n[Ct])}function rs(n,e){return e==null?null:n[e]}function vw(n){n[Go]=0}function yw(n){n[Q]&1024||(n[Q]|=1024,lm(n)&&Bu(n))}function $P(n,e){for(;n>0;)e=e[ls],n--;return e}function Uu(n){return!!(n[Q]&9216||n[fn]?.dirty)}function pg(n){n[rr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Uu(n)&&Bu(n)}function Bu(n){n[rr].changeDetectionScheduler?.notify(0);let e=Qi(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!lm(e)));)e=Qi(e)}function _w(n,e){if((n[Q]&256)===256)throw new M(911,!1);n[ti]===null&&(n[ti]=[]),n[ti].push(e)}function HP(n,e){if(n[ti]===null)return;let t=n[ti].indexOf(e);t!==-1&&n[ti].splice(t,1)}function Qi(n){let e=n[Ct];return Sr(e)?e[Ct]:e}function zP(){return ce.lFrame.elementDepthCount}function qP(){ce.lFrame.elementDepthCount++}function WP(){ce.lFrame.elementDepthCount--}function bw(){return ce.bindingsEnabled}function GP(){return ce.skipHydrationRootTNode!==null}function KP(n){return ce.skipHydrationRootTNode===n}function YP(){ce.skipHydrationRootTNode=null}function le(){return ce.lFrame.lView}function Je(){return ce.lFrame.tView}function L(n){return ce.lFrame.contextLView=n,n[kn]}function V(n){return ce.lFrame.contextLView=null,n}function gt(){let n=ww();for(;n!==null&&n.type===64;)n=n.parent;return n}function ww(){return ce.lFrame.currentTNode}function QP(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ro(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function um(){return ce.lFrame.isParent}function Ew(){ce.lFrame.isParent=!1}function ZP(){return ce.lFrame.contextLView}function Dw(){return Cw}function lb(n){Cw=n}function Oa(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function JP(n){return ce.lFrame.bindingIndex=n}function $u(){return ce.lFrame.bindingIndex++}function Mw(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function XP(){return ce.lFrame.inI18n}function e1(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,gg(e)}function t1(){return ce.lFrame.currentDirectiveIndex}function gg(n){ce.lFrame.currentDirectiveIndex=n}function n1(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Sw(){return ce.lFrame.currentQueryIndex}function dm(n){ce.lFrame.currentQueryIndex=n}function r1(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[Rn]:null}function Iw(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=r1(o),i===null||(o=o[ls],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=xw();return r.currentTNode=e,r.lView=n,!0}function fm(n){let e=xw(),t=n[re];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function xw(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?Ow(n):e}function Ow(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Tw(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function hm(){let n=Tw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function i1(n){return(ce.lFrame.contextLView=$P(n,ce.lFrame.contextLView))[kn]}function io(){return ce.lFrame.selectedIndex}function Zi(n){ce.lFrame.selectedIndex=n}function pm(){let n=ce.lFrame;return mw(n.tView,n.selectedIndex)}function o1(){return ce.lFrame.currentNamespace}function Hu(){return Aw}function zu(n){Aw=n}function s1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=fw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function qu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Zl(n,e,t){Nw(n,e,3,t)}function Jl(n,e,t,r){(n[Q]&3)===t&&Nw(n,e,t,r)}function Gp(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function Nw(n,e,t,r){let i=r!==void 0?n[Go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Go]+=65536),(a<o||o==-1)&&(a1(n,t,e,c),n[Go]=(n[Go]&4294901760)+c+2),c++}function ub(n,e){er(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),er(5,n,e)}}function a1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[Go]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,ub(a,o)):ub(a,o)}function c1(n){return n instanceof Ji}function l1(n){return(n.flags&8)!==0}function u1(n){return(n.flags&16)!==0}function kw(n){return n!==Zo}function uu(n){return n&32767}function d1(n){return n>>16}function du(n,e){let t=d1(n),r=e;for(;t>0;)r=r[ls],t--;return r}function fu(n){let e=vg;return vg=n,e}function p1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(_a)&&(r=t[_a]),r==null&&(r=t[_a]=h1++);let i=r&Rw,o=1<<i;e.data[n+(i>>Fw)]|=o}function hu(n,e){let t=Lw(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,Yp(r.data,n),Yp(e,null),Yp(r.blueprint,null));let i=gm(n,e),o=n.injectorIndex;if(kw(i)){let s=uu(i),a=du(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Yp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Lw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function gm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=$w(i),r===null)return Zo;if(t++,i=i[ls],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Zo}function yg(n,e,t){p1(n,e,t)}function g1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Qb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Vw(n,e,t){if(t&ae.Optional||n!==void 0)return n;Jg(e,"NodeInjector")}function jw(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),!(t&(ae.Self|ae.Host))){let i=n[ts],o=Ut(void 0);try{return i?i.get(e,r,t&ae.Optional):zb(e,r,t&ae.Optional)}finally{Ut(o)}}return Vw(r,e,t)}function Uw(n,e,t,r=ae.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ae.Self)){let s=_1(n,e,t,r,tr);if(s!==tr)return s}let o=Bw(n,e,t,r,tr);if(o!==tr)return o}return jw(e,t,r,i)}function Bw(n,e,t,r,i){let o=v1(t);if(typeof o=="function"){if(!Iw(e,n,r))return r&ae.Host?Vw(i,t,r):jw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))Jg(t);else return s}finally{Pw()}}else if(typeof o=="number"){let s=null,a=Lw(n,e),c=Zo,l=r&ae.Host?e[ir][Rn]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?gm(n,e):e[a+8],c===Zo||!fb(r,!1)?a=-1:(s=e[re],a=uu(c),e=du(c,e)));a!==-1;){let u=e[re];if(db(o,a,u.data)){let d=m1(a,e,t,s,r,l);if(d!==tr)return d}c=e[a+8],c!==Zo&&fb(r,e[re].data[a+8]===l)&&db(o,a,e)?(s=u,a=uu(c),e=du(c,e)):a=-1}}return i}function m1(n,e,t,r,i,o){let s=e[re],a=s.data[n+8],c=r==null?Vu(a)&&vg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,u=Xl(a,s,t,c,l);return u!==null?Xi(e,s,u,a):tr}function Xl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let C=s[g];if(g<c&&t===C||g>=c&&C.type===t)return g}if(i){let g=s[c];if(g&&oi(g)&&g.type===t)return c}return null}function Xi(n,e,t,r){let i=n[t],o=e.data;if(c1(i)){let s=i;s.resolving&&GT(WT(o[t]));let a=fu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ut(s.injectImpl):null,u=Iw(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&s1(t,o[t],e)}finally{l!==null&&Ut(l),fu(a),s.resolving=!1,Pw()}}return i}function v1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(_a)?n[_a]:void 0;return typeof e=="number"?e>=0?e&Rw:y1:e}function db(n,e,t){let r=1<<n;return!!(t[e+(n>>Fw)]&r)}function fb(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}function y1(){return new Wi(gt(),le())}function Ir(n){return Ia(()=>{let e=n.prototype.constructor,t=e[tu]||_g(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[tu]||_g(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _g(n){return Vb(n)?()=>{let e=_g(Pt(n));return e&&e()}:Gi(n)}function _1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=Bw(o,s,t,r|ae.Self,tr);if(a!==tr)return a;let c=o.parent;if(!c){let l=s[lw];if(l){let u=l.get(t,tr,r);if(u!==tr)return u}c=$w(s),s=s[ls]}o=c}return i}function $w(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[Rn]:null}function mm(n){return g1(gt(),n)}function hb(n,e=null,t=null,r){let i=Hw(n,e,t,r);return i.resolveInjectorInitializers(),i}function Hw(n,e=null,t=null,r,i=new Set){let o=[t||Bt,wP(n)];return r=r||(typeof n=="object"?void 0:At(n)),new Ea(o,e||om(),r||null,i)}function Qp(n){return n[b1]}function w1(){return new Cg(le())}function pu(...n){}function qw(n){let e,t;function r(){n=pu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function pb(n){return queueMicrotask(()=>n()),()=>{n=pu}}function ym(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function M1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){qw(()=>{n.callbackScheduled=!1,wg(n),n.isCheckStableRunning=!0,ym(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),wg(n)}function S1(n){let e=()=>{M1(n)},t=E1++;n._inner=n._inner.fork({name:"angular",properties:{[vm]:!0,[gu]:t,[gu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(I1(c))return r.invokeTask(o,s,a,c);try{return gb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),mb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return gb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!x1(c)&&e(),mb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,wg(n),ym(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function wg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mb(n){n._nesting--,ym(n)}function I1(n){return Ww(n,"__ignore_ng_zone__")}function x1(n){return Ww(n,"__scheduler_tick__")}function Ww(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function O1(n="zone.js",e){return n==="noop"?new mu:n==="zone.js"?new _e(e):n}function P1(){return us(gt(),le())}function us(n,e){return new mt(gn(n,e))}function A1(n){return n instanceof mt?n.nativeElement:n}function N1(){return this._results[Symbol.iterator]()}function Gw(n){return(n.flags&128)===128}function R1(){return k1++}function F1(n){Kw.set(n[Lu],n)}function Dg(n){Kw.delete(n[Lu])}function si(n,e){ni(e)?(n[vb]=e[Lu],F1(e)):n[vb]=e}function Yw(n){return Zw(n[Da])}function Qw(n){return Zw(n[Nn])}function Zw(n){for(;n!==null&&!Sr(n);)n=n[Nn];return n}function Jw(n){Mg=n}function L1(){if(Mg!==void 0)return Mg;if(typeof document<"u")return document;throw new M(210,!1)}function wm(n,e,t=!1){return B1(n,e,t)}function H1(){if(ql===void 0&&(ql=null,Tt.trustedTypes))try{ql=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ql}function yb(n){return H1()?.createScriptURL(n)||n}function ds(n){return n instanceof vu?n.changingThisBreaksApplicationSecurity:n}function Em(n,e){let t=z1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Fb})`)}return t===e}function z1(n){return n instanceof vu&&n.getTypeName()||null}function eE(n){return n=String(n),n.match(q1)?n:"unsafe:"+n}function ut(n){let e=nE();return e?e.sanitize(Gu.URL,n)||"":Em(n,"URL")?ds(n):eE(Nu(n))}function W1(n){let e=nE();if(e)return yb(e.sanitize(Gu.RESOURCE_URL,n)||"");if(Em(n,"ResourceURL"))return yb(ds(n));throw new M(904,!1)}function G1(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?W1:ut}function tE(n,e,t){return G1(e,t)(n)}function nE(){let n=le();return n&&n[rr].sanitizer}function Z1(n){return n.replace(K1,e=>e.replace(Y1,Q1))}function rE(n){return n instanceof Function?n():n}function J1(n){return(n??_(Ze)).get(Qt)==="browser"}function Dm(n,e){return X1(n,e)}function Ko(n,e,t,r,i){if(r!=null){let o,s=!1;Sr(r)?o=r:ni(r)&&(s=!0,r=r[Mr]);let a=or(r);n===0&&t!==null?i==null?cE(e,t,a):yu(e,t,a,i||null,!0):n===1&&t!==null?yu(e,t,a,i||null,!0):n===2?gA(e,a,s):n===3&&e.destroyNode(a),o!=null&&vA(e,n,o,t,i)}}function eA(n,e){return n.createText(e)}function tA(n,e,t){n.setValue(e,t)}function nA(n,e){return n.createComment(Z1(e))}function iE(n,e,t){return n.createElement(e,t)}function rA(n,e){oE(n,e),e[Mr]=null,e[Rn]=null}function iA(n,e,t,r,i,o){r[Mr]=i,r[Rn]=e,Yu(n,r,t,1,i,o)}function oE(n,e){e[rr].changeDetectionScheduler?.notify(9),Yu(n,e,e[We],2,null,null)}function oA(n){let e=n[Da];if(!e)return Zp(n[re],n);for(;e;){let t=null;if(ni(e))t=e[Da];else{let r=e[Kt];r&&(t=r)}if(!t){for(;e&&!e[Nn]&&e!==n;)ni(e)&&Zp(e[re],e),e=e[Ct];e===null&&(e=n),ni(e)&&Zp(e[re],e),t=e&&e[Nn]}e=t}}function sA(n,e,t,r){let i=Kt+r,o=t.length;r>0&&(t[i-1][Nn]=e),r<o-Kt?(e[Nn]=t[i],Wb(t,Kt+r,e)):(t.push(e),e[Nn]=null),e[Ct]=t;let s=e[Ki];s!==null&&t!==s&&sE(s,e);let a=e[br];a!==null&&a.insertView(n),pg(e),e[Q]|=128}function sE(n,e){let t=n[ns],r=e[Ct];if(ni(r))n[Q]|=lu.HasTransplantedViews;else{let i=r[Ct][ir];e[ir]!==i&&(n[Q]|=lu.HasTransplantedViews)}t===null?n[ns]=[e]:t.push(e)}function Mm(n,e){let t=n[ns],r=t.indexOf(e);t.splice(r,1)}function Sg(n,e){if(n.length<=Kt)return;let t=Kt+e,r=n[t];if(r){let i=r[Ki];i!==null&&i!==n&&Mm(i,r),e>0&&(n[t-1][Nn]=r[Nn]);let o=ru(n,Kt+e);rA(r[re],r);let s=o[br];s!==null&&s.detachView(o[re]),r[Ct]=null,r[Nn]=null,r[Q]&=-129}return r}function aE(n,e){if(!(e[Q]&256)){let t=e[We];t.destroyNode&&Yu(n,e,t,3,null,null),oA(e)}}function Zp(n,e){if(e[Q]&256)return;let t=ye(null);try{e[Q]&=-129,e[Q]|=256,e[fn]&&qh(e[fn]),cA(n,e),aA(n,e),e[re].type===1&&e[We].destroy();let r=e[Ki];if(r!==null&&Sr(e[Ct])){r!==e[Ct]&&Mm(r,e);let i=e[br];i!==null&&i.detachView(n)}Dg(e)}finally{ye(t)}}function aA(n,e){let t=n.cleanup,r=e[au];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[au]=null);let i=e[ti];if(i!==null){e[ti]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function cA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ji)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];er(4,a,c);try{c.call(a)}finally{er(5,a,c)}}else{er(4,i,o);try{o.call(i)}finally{er(5,i,o)}}}}}function lA(n,e,t){return uA(n,e.parent,t)}function uA(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Mr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===nr.None||o===nr.Emulated)return null}return gn(r,t)}}function yu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function cE(n,e,t){n.appendChild(e,t)}function _b(n,e,t,r,i){r!==null?yu(n,e,t,r,i):cE(n,e,t)}function lE(n,e){return n.parentNode(e)}function dA(n,e){return n.nextSibling(e)}function fA(n,e,t){return pA(n,e,t)}function hA(n,e,t){return n.type&40?gn(n,t):null}function Ku(n,e,t,r){let i=lA(n,r,e),o=e[We],s=r.parent||e[Rn],a=fA(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)_b(o,i,t[c],a,!1);else _b(o,i,t,a,!1);Cb!==void 0&&Cb(o,r,e,t,i)}function ya(n,e){if(e!==null){let t=e.type;if(t&3)return gn(e,n);if(t&4)return Ig(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ya(n,r);{let i=n[e.index];return Sr(i)?Ig(-1,i):or(i)}}else{if(t&128)return ya(n,e.next);if(t&32)return Dm(e,n)()||or(n[e.index]);{let r=uE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qi(n[ir]);return ya(i,r)}else return ya(n,e.next)}}}return null}function uE(n,e){if(e!==null){let r=n[ir][Rn],i=e.projection;return r.projection[i]}return null}function Ig(n,e){let t=Kt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return ya(r,i)}return e[Yi]}function gA(n,e,t){n.removeChild(null,e,t)}function Sm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&si(or(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Sm(n,e,t.child,r,i,o,!1),Ko(e,n,i,a,o);else if(c&32){let l=Dm(t,r),u;for(;u=l();)Ko(e,n,i,u,o);Ko(e,n,i,a,o)}else c&16?mA(n,e,r,t,i,o):Ko(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Yu(n,e,t,r,i,o){Sm(t,r,n.firstChild,e,i,o,!1)}function mA(n,e,t,r,i,o){let s=t[ir],c=s[Rn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ko(e,n,i,u,o)}else{let l=c,u=s[Ct];Gw(r)&&(l.flags|=128),Sm(n,e,l,u,i,o,!0)}}function vA(n,e,t,r,i){let o=t[Yi],s=or(t);o!==s&&Ko(e,n,r,o,i);for(let a=Kt;a<t.length;a++){let c=t[a];Yu(c[re],c,n,e,r,o)}}function yA(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Er.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Er.Important),n.setStyle(t,r,i,o))}}function _A(n,e,t){n.setAttribute(e,"style",t)}function dE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function fE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&cg(n,e,r),i!==null&&dE(n,e,i),o!==null&&_A(n,e,o)}function y(n=1){hE(Je(),le(),io()+n,!1)}function hE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Zl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Jl(e,o,0,t)}Zi(t)}function D(n,e=ae.Default){let t=le();if(t===null)return A(n,e);let r=gt();return Uw(r,t,Pt(n),e)}function pE(){let n="invalid";throw new Error(n)}function gE(n,e,t,r,i,o){let s=ye(null);try{let a=null;i&ri.SignalBased&&(a=e[r][vr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ri.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):dw(e,a,r,o)}finally{ye(s)}}function CA(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zi(~i);else{let o=i,s=t[++r],a=t[++r];e1(s,o);let c=e[o];a(2,c)}}}finally{Zi(-1)}}function Qu(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Mr]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),vw(d),d[Ct]=d[ls]=n,d[kn]=t,d[rr]=s||n&&n[rr],d[We]=a||n&&n[We],d[ts]=c||n&&n[ts]||null,d[Rn]=o,d[Lu]=R1(),d[su]=u,d[lw]=l,d[ir]=e.type==2?n[ir]:d,d}function Ta(n,e,t,r,i){let o=n.data[e];if(o===null)o=bA(n,e,t,r,i),XP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=QP();o.injectorIndex=s===null?-1:s.injectorIndex}return ro(o,!0),o}function bA(n,e,t,r,i){let o=ww(),s=um(),a=s?o:o&&o.parent,c=n.data[e]=IA(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function mE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vE(n,e,t,r,i){let o=io(),s=r&2;try{Zi(-1),s&&e.length>Yt&&hE(n,e,Yt,!1),er(s?2:0,i),t(r,i)}finally{Zi(o),er(s?3:1,i)}}function Im(n,e,t){if(am(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ye(r)}}}function xm(n,e,t){bw()&&(NA(n,e,t,gn(t,e)),(t.flags&64)===64&&bE(n,e,t))}function Om(n,e,t=gn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function yE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Tm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Tm(n,e,t,r,i,o,s,a,c,l,u){let d=Yt+r,m=d+i,g=wA(d,m),C=typeof l=="function"?l():l;return g[re]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:u}}function wA(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:sr);return t}function EA(n,e,t,r){let o=r.get($1,Xw)||t===nr.ShadowDom,s=n.selectRootElement(e,o);return DA(s),s}function DA(n){MA(n)}function SA(n,e,t,r){let i=DE(e);i.push(t),n.firstCreatePass&&ME(n).push(r,i.length-1)}function IA(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return GP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ri.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?wb(r,t,l,a,c):wb(r,t,l,a)}return r}function wb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function xA(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,g=m?m.inputs:null,C=m?m.outputs:null;c=bb(0,d.inputs,u,c,g),l=bb(1,d.outputs,u,l,C);let w=c!==null&&s!==null&&!nm(e)?zA(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function OA(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _E(n,e,t,r,i,o,s,a){let c=gn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Am(n,t,u,r,i),Vu(e)&&TA(t,e.index)):e.type&3?(r=OA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function TA(n,e){let t=li(e,n);t[Q]&16||(t[Q]|=64)}function Pm(n,e,t,r){if(bw()){let i=r===null?null:{"":-1},o=RA(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&CE(n,e,t,s,i,a),i&&FA(t,r,i)}t.mergedAttrs=wa(t.mergedAttrs,t.attrs)}function CE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)yg(hu(t,e),n,r[l].type);VA(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=mE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=wa(t.mergedAttrs,u.hostAttrs),jA(n,t,e,c,u),LA(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}xA(n,t,o)}function PA(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;AA(s)!=a&&s.push(a),s.push(t,r,o)}}function AA(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function NA(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Vu(t)&&UA(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||hu(t,e),si(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Xi(e,n,a,t);if(si(l,e),s!==null&&HA(e,a-i,l,c,t,s),oi(c)){let u=li(t.index,e);u[kn]=Xi(e,n,a,t)}}}function bE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=t1();try{Zi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];gg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&kA(c,l)}}finally{Zi(-1),gg(s)}}function kA(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function RA(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(hP(e,s.selectors,!1))if(r||(r=[]),oi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;xg(n,e,c)}else r.unshift(s),xg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function xg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function FA(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new M(-301,!1);r.push(e[i],o)}}}function LA(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;oi(e)&&(t[""]=n)}}function VA(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function jA(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Gi(i.type,!0)),s=new Ji(o,oi(i),D);n.blueprint[r]=s,t[r]=s,PA(n,e,r,mE(n,t,i.hostVars,sr),i)}function UA(n,e,t){let r=gn(e,n),i=yE(t),o=n[rr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Zu(n,Qu(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function BA(n,e,t,r,i,o){let s=gn(n,e);$A(e[We],s,o,n.value,t,r,i)}function $A(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Nu(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function HA(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];gE(r,t,c,l,u,d)}}function zA(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function wE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function EE(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];dm(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function Zu(n,e){return n[Da]?n[ab][Nn]=e:n[Da]=e,n[ab]=e,e}function Og(n,e,t){dm(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function DE(n){return n[au]??=[]}function ME(n){return n.cleanup??=[]}function SE(n,e){let t=n[ts],r=t?t.get(wr,null):null;r&&r.handleError(e)}function Am(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];gE(u,l,r,a,c,i)}}function qA(n,e,t){let r=gw(e,n);tA(n[We],r,t)}function WA(n,e){let t=li(e,n),r=t[re];GA(r,t);let i=t[Mr];i!==null&&t[su]===null&&(t[su]=wm(i,t[ts])),Nm(r,t,t[kn])}function GA(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Nm(n,e,t){fm(e);try{let r=n.viewQuery;r!==null&&Og(1,r,t);let i=n.template;i!==null&&vE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[br]?.finishViewCreation(n),n.staticContentQueries&&EE(n,e),n.staticViewQueries&&Og(2,n.viewQuery,t);let o=n.components;o!==null&&KA(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,hm()}}function KA(n,e){for(let t=0;t<e.length;t++)WA(n,e[t])}function YA(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=Qu(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ki]=l;let u=n[br];return u!==null&&(c[br]=u.createEmbeddedView(o)),Nm(o,c,t),c}finally{ye(i)}}function Eb(n,e){return!e||e.firstChild===null||Gw(n)}function QA(n,e,t,r=!0){let i=e[re];if(sA(i,e,n,t),r){let s=Ig(t,n),a=e[We],c=lE(a,n[Yi]);c!==null&&iA(i,n[Rn],a,e,c,s)}let o=e[su];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _u(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(or(o)),Sr(o)&&ZA(o,r);let s=t.type;if(s&8)_u(n,e,t.child,r);else if(s&32){let a=Dm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=uE(e,t);if(Array.isArray(a))r.push(...a);else{let c=Qi(e[ir]);_u(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ZA(n,e){for(let t=Kt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&_u(r[re],r,i,e)}n[Yi]!==n[Mr]&&e.push(n[Yi])}function JA(n){return n[fn]??XA(n)}function XA(n){let e=IE.pop()??Object.create(tN);return e.lView=n,e}function eN(n){n.lView[fn]!==n&&(n.lView=null,IE.push(n))}function nN(n){let e=n[fn]??Object.create(rN);return e.lView=n,e}function xE(n){return n.type!==2}function OE(n,e=!0,t=0){let r=n[rr],i=r.rendererFactory,o=!1;o||i.begin?.();try{oN(n,t)}catch(s){throw e&&SE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function oN(n,e){let t=Dw();try{lb(!0),Tg(n,e);let r=0;for(;Uu(n);){if(r===iN)throw new M(103,!1);r++,Tg(n,1)}}finally{lb(t)}}function sN(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[rr].inlineEffectRunner?.flush(),fm(e);let a=!0,c=null,l=null;o||(xE(n)?(l=JA(e),c=nl(l)):C0()===null?(a=!1,l=nN(e),c=nl(l)):e[fn]&&(qh(e[fn]),e[fn]=null));try{vw(e),JP(n.bindingStartIndex),t!==null&&vE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&Zl(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Jl(e,g,0,null),Gp(e,0)}if(s||aN(e),TE(e,0),n.contentQueries!==null&&EE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&Zl(e,g)}else{let g=n.contentHooks;g!==null&&Jl(e,g,1),Gp(e,1)}CA(n,e);let d=n.components;d!==null&&AE(e,d,0);let m=n.viewQuery;if(m!==null&&Og(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&Zl(e,g)}else{let g=n.viewHooks;g!==null&&Jl(e,g,2),Gp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Wp]){for(let g of e[Wp])g();e[Wp]=null}o||(e[Q]&=-73)}catch(u){throw o||Bu(e),u}finally{l!==null&&(Hh(l,c),a&&eN(l)),hm()}}function TE(n,e){for(let t=Yw(n);t!==null;t=Qw(t))for(let r=Kt;r<t.length;r++){let i=t[r];PE(i,e)}}function aN(n){for(let e=Yw(n);e!==null;e=Qw(e)){if(!(e[Q]&lu.HasTransplantedViews))continue;let t=e[ns];for(let r=0;r<t.length;r++){let i=t[r];yw(i)}}}function cN(n,e,t){let r=li(e,n);PE(r,t)}function PE(n,e){lm(n)&&Tg(n,e)}function Tg(n,e){let r=n[re],i=n[Q],o=n[fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&zh(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)sN(r,n,r.template,n[kn]);else if(i&8192){TE(n,1);let a=r.components;a!==null&&AE(n,a,1)}}function AE(n,e,t){for(let r=0;r<e.length;r++)cN(n,e[r],t)}function km(n,e){let t=Dw()?64:1088;for(n[rr].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Qi(n);if(fg(n)&&!r)return n;n=r}return null}function dN(){return Ju(gt(),le())}function Ju(n,e){return n.type&4?new uN(e,n,us(n,e)):null}function Db(n,e){return fN(n,e)}function hN(n){let e=Error(`No component factory found for ${At(n)}.`);return e[pN]=n,e}function gN(){let n=le(),e=gt(),t=li(e.index,n);return(ni(t)?t:n)[We]}function bu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ig(i,a);else if(o==2){let c=a,l=e[++s];r=ig(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Mb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ri.None;e?t.push({propName:s,templateName:r,isSignal:(a&ri.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function vN(n){let e=n.toLowerCase();return e==="svg"?VP:e==="math"?jP:null}function yN(n,e){let t=n[re],r=Yt;return n[r]=e,Ta(t,r,2,"#host",null)}function _N(n,e,t,r,i,o,s){let a=i[re];CN(r,n,e,s);let c=null;e!==null&&(c=wm(e,i[ts]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=Qu(i,yE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&xg(a,n,r.length-1),Zu(i,d),i[n.index]=d}function CN(n,e,t,r){for(let i of n)e.mergedAttrs=wa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(bu(e,e.mergedAttrs,!0),t!==null&&fE(r,t,e))}function bN(n,e,t,r,i,o){let s=gt(),a=i[re],c=gn(s,i);CE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,m=Xi(i,a,d,s);si(m,i)}bE(a,i,s),c&&si(c,i);let l=Xi(i,a,s.directiveStart+s.componentOffset,s);if(n[kn]=i[kn]=l,o!==null)for(let u of o)u(l,e);return Im(a,s,i),l}function wN(n,e,t,r){if(r)cg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=yP(e.selectors[0]);i&&cg(n,t,i),o&&o.length>0&&dE(n,t,o.join(" "))}}function EN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function DN(){let n=gt();qu(le()[re],n)}function MN(){let n=gt();return FE(n,le())}function Sb(n){return n[cu]}function Jp(n){return n[cu]||(n[cu]=[])}function FE(n,e){let t,r=e[n.index];return Sr(r)?t=r:(t=wE(r,e,null,n),e[n.index]=t,Zu(e,t)),xN(t,e,n,r),new RE(t,n,e)}function IN(n,e){let t=n[We],r=t.createComment(""),i=gn(e,n),o=lE(t,i);return yu(t,o,r,dA(t,i),!1),r}function TN(n,e,t){return ON(n,e,t)}function PN(n,e,t,r){if(n[Yi])return;let i;t.type&8?i=or(r):i=IN(e,t),n[Yi]=i}function AN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function NN(n,e){return n.type&11?us(n,e):n.type&4?Ju(n,e):null}function kN(n,e,t,r){return t===-1?NN(e,n):t===-2?RN(n,e,r):Xi(n,n[re],t,e)}function RN(n,e,t){if(t===mt)return us(e,n);if(t===to)return Ju(e,n);if(t===ui)return FE(e,n)}function LE(n,e,t,r){let i=e[br].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(kN(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Vg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=LE(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Kt;d<u.length;d++){let m=u[d];m[Ki]===m[Ct]&&Vg(m[re],m,l,r)}if(u[ns]!==null){let d=u[ns];for(let m=0;m<d.length;m++){let g=d[m];Vg(g[re],g,l,r)}}}}}return r}function FN(n,e){return n[br].queries[e].queryList}function VE(n,e,t){let r=new Eg((t&4)===4);return SA(n,e,r,r.destroy),(e[br]??=new Rg).queries.push(new kg(r))-1}function LN(n,e,t){let r=Je();return r.firstCreatePass&&(jE(r,new Eu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),VE(r,le(),e)}function VN(n,e,t,r){let i=Je();if(i.firstCreatePass){let o=gt();jE(i,new Eu(e,t,r),o.index),UN(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return VE(i,le(),t)}function jN(n){return n.split(",").map(e=>e.trim())}function jE(n,e,t){n.queries===null&&(n.queries=new Fg),n.queries.track(new Lg(e,t))}function UN(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Fm(n,e){return n.queries.getByIndex(e)}function BN(n,e){let t=n[re],r=Fm(t,e);return r.crossesNgTemplate?Vg(t,n,e,[]):LE(t,n,r,e)}function oo(n){Ib.has(n)||(Ib.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function $N(n){return typeof n=="function"&&n[vr]!==void 0}function so(n,e){oo("NgSignals");let t=P0(n),r=t[vr];return e?.equal&&(r.equal=e.equal),t.set=i=>Wh(r,i),t.update=i=>A0(r,i),t.asReadonly=HN.bind(t),t}function HN(){let n=this[vr];if(n.readonlyFn===void 0){let e=()=>this();e[vr]=n,n.readonlyFn=e}return n.readonlyFn}function UE(n){return $N(n)&&typeof n.set=="function"}function zN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(KN))}return o}return Du.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>YN(o));e.push(c)}),WN(),Promise.all(e).then(()=>{})}function WN(){let n=Du;return Du=new Map,n}function GN(){return Du.size===0}function KN(n){return typeof n=="string"?n:n.text()}function YN(n){qN.delete(n)}function QN(n){return Object.getPrototypeOf(n.prototype).constructor}function $t(n){let e=QN(n.type),t=!0,r=[n];for(;e;){let i;if(oi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new M(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Wl(n.inputs),s.inputTransforms=Wl(n.inputTransforms),s.declaredInputs=Wl(n.declaredInputs),s.outputs=Wl(n.outputs);let a=i.hostBindings;a&&tk(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&XN(n,c),l&&ek(n,l),ZN(n,i),VT(n.outputs,i.outputs),oi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===$t&&(t=!1)}}e=Object.getPrototypeOf(e)}JN(r)}function ZN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function JN(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wa(i.hostAttrs,t=wa(t,i.hostAttrs))}}function Wl(n){return n===Jo?{}:n===Bt?[]:n}function XN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function ek(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function tk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Lm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function nk(n,e,t){return new Mu(n,e,t,!1)}function Xu(n,e,t=null){return new jg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function BE(n){return ik(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function rk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function ik(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Vm(n,e,t){return n[e]=t}function ok(n,e){return n[e]}function Dr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function sk(n,e,t,r){let i=Dr(n,e,t);return Dr(n,e+1,r)||i}function ak(n){return(n.flags&32)===32}function ck(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ta(e,n,4,s||null,a||null);Pm(e,t,u,rs(l,c)),qu(e,u);let d=u.tView=Tm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function lk(n,e,t,r,i,o,s,a,c,l){let u=t+Yt,d=e.firstCreatePass?ck(u,e,n,r,i,o,s,a,c):e.data[u];ro(d,!1);let m=uk(e,n,d,t);Hu()&&Ku(e,n,m,d),si(m,n);let g=wE(m,n,m,d);return n[u]=g,Zu(n,g),TN(g,d,n),ju(d)&&xm(e,n,d),c!=null&&Om(n,d,l),d}function N(n,e,t,r,i,o,s,a){let c=le(),l=Je(),u=rs(l.consts,o);return lk(c,l,n,e,t,r,i,u,s,a),N}function dk(n,e,t,r){return zu(!0),e[We].createComment("")}function jm(n,e){!e?.injector&&sm(jm);let t=e?.injector??_(Ze);return J1(t)?(oo("NgAfterNextRender"),hk(n,t,e,!0)):pk}function fk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function hk(n,e,t,r){let i=e.get($E);i.impl??=e.get(Ug);let o=t?.phase??Yo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(kt):null,a=new Bg(i.impl,fk(n,o),r,s);return i.impl.register(a),a}function fs(n,e,t,r){let i=le(),o=$u();if(Dr(i,o,e)){let s=Je(),a=pm();BA(a,i,n,e,t,r)}return fs}function HE(n,e,t,r){return Dr(n,$u(),t)?e+Nu(t)+r:sr}function Gl(n,e){return n<<17|e<<2}function no(n){return n>>17&32767}function gk(n){return(n&2)==2}function mk(n,e){return n&131071|e<<17}function $g(n){return n|2}function as(n){return(n&131068)>>2}function Xp(n,e){return n&-131069|e<<2}function vk(n){return(n&1)===1}function Hg(n){return n|1}function yk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=no(s),c=as(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||xa(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let m=no(n[a+1]);n[r+1]=Gl(m,a),m!==0&&(n[m+1]=Xp(n[m+1],r)),n[a+1]=mk(n[a+1],r)}else n[r+1]=Gl(a,0),a!==0&&(n[a+1]=Xp(n[a+1],r)),a=r;else n[r+1]=Gl(c,0),a===0?a=r:n[c+1]=Xp(n[c+1],r),c=r;l&&(n[r+1]=$g(n[r+1])),xb(n,u,r,!0),xb(n,u,r,!1),_k(e,u,n,r,o),s=Gl(a,c),o?e.classBindings=s:e.styleBindings=s}function _k(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&xa(o,e)>=0&&(t[r+1]=Hg(t[r+1]))}function xb(n,e,t,r){let i=n[t+1],o=e===null,s=r?no(i):as(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];Ck(c,e)&&(a=!0,n[s+1]=r?Hg(l):$g(l)),s=r?no(l):as(l)}a&&(n[t+1]=r?$g(i):Hg(i))}function Ck(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xa(n,e)>=0:!1}function bk(n){return n.substring(An.key,An.keyEnd)}function wk(n){return Ek(n),zE(n,qE(n,0,An.textEnd))}function zE(n,e){let t=An.textEnd;return t===e?-1:(e=An.keyEnd=Dk(n,An.key=e,t),qE(n,e,t))}function Ek(n){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=n.length}function qE(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Dk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=le(),i=$u();if(Dr(r,i,e)){let o=Je(),s=pm();_E(o,s,r,n,e,r[We],t,!1)}return b}function zg(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Am(n,t,o[s],s,r)}function ed(n,e){return Sk(n,e,null,!0),ed}function Mk(n,e){for(let t=wk(e);t>=0;t=zE(e,t))tm(n,bk(e),!0)}function Sk(n,e,t,r){let i=le(),o=Je(),s=Mw(2);if(o.firstUpdatePass&&GE(o,n,s,r),e!==sr&&Dr(i,s,e)){let a=o.data[io()];KE(o,a,i,i[We],n,i[s+1]=kk(e,t),r,s)}}function Ik(n,e,t,r){let i=Je(),o=Mw(2);i.firstUpdatePass&&GE(i,null,o,r);let s=le();if(t!==sr&&Dr(s,o,t)){let a=i.data[io()];if(YE(a,r)&&!WE(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ig(c,t||"")),zg(i,a,s,t,r)}else Nk(i,a,s,s[We],s[o+1],s[o+1]=Ak(n,e,t),r,o)}}function WE(n,e){return e>=n.expandoStartIndex}function GE(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[io()],s=WE(n,t);YE(o,r)&&e===null&&!s&&(e=!1),e=xk(i,o,e,r),yk(i,o,e,t,s,r)}}function xk(n,e,t,r){let i=n1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=eg(null,n,e,t,r),t=Sa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=eg(i,n,e,t,r),o===null){let c=Ok(n,e,r);c!==void 0&&Array.isArray(c)&&(c=eg(null,n,e,c[1],r),c=Sa(c,e.attrs,r),Tk(n,e,r,c))}else o=Pk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Ok(n,e,t){let r=t?e.classBindings:e.styleBindings;if(as(r)!==0)return n[no(r)]}function Tk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[no(i)]=r}function Pk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Sa(r,s,t)}return Sa(r,e.attrs,t)}function eg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Sa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Sa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),tm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Ak(n,e,t){if(t==null||t==="")return Bt;let r=[],i=ds(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Nk(n,e,t,r,i,o,s,a){i===sr&&(i=Bt);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,C=null,w;u===d?(c+=2,l+=2,m!==g&&(C=d,w=g)):d===null||u!==null&&u<d?(c+=2,C=u):(l+=2,C=d,w=g),C!==null&&KE(n,e,t,r,C,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function KE(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=vk(l)?Ob(c,e,t,i,as(l),s):void 0;if(!Iu(u)){Iu(o)||gk(l)&&(o=Ob(c,null,t,i,a,s));let d=gw(io(),t);yA(r,s,d,i,o)}}function Ob(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=t[i+1];m===sr&&(m=d?Bt:void 0);let g=d?zp(m,r):u===r?m:void 0;if(l&&!Iu(g)&&(g=zp(c,r)),Iu(g)&&(a=g,s))return a;let C=n[i+1];i=s?no(C):as(C)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=zp(c,r))}return a}function Iu(n){return n!==void 0}function kk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=At(ds(n)))),n}function YE(n,e){return(n.flags&(e?8:16))!==0}function QE(n,e,t){let r=le(),i=HE(r,n,e,t);Ik(tm,Mk,i,!0)}function Rk(n,e,t,r,i,o){let s=e.consts,a=rs(s,i),c=Ta(e,n,2,r,a);return Pm(e,t,c,rs(s,o)),c.attrs!==null&&bu(c,c.attrs,!1),c.mergedAttrs!==null&&bu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(n,e,t,r){let i=le(),o=Je(),s=Yt+n,a=i[We],c=o.firstCreatePass?Rk(s,o,i,e,t,r):o.data[s],l=Fk(o,i,c,a,e,n);i[s]=l;let u=ju(c);return ro(c,!0),fE(a,l,c),!ak(c)&&Hu()&&Ku(o,i,l,c),zP()===0&&si(l,i),qP(),u&&(xm(o,i,c),Im(o,c,i)),r!==null&&Om(i,c),h}function f(){let n=gt();um()?Ew():(n=n.parent,ro(n,!1));let e=n;KP(e)&&YP(),WP();let t=Je();return t.firstCreatePass&&(qu(t,n),am(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&l1(e)&&zg(t,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&u1(e)&&zg(t,e,le(),e.stylesWithoutHost,!1),f}function k(n,e,t,r){return h(n,e,t,r),f(),k}function Lk(n,e,t,r,i){let o=e.consts,s=rs(o,r),a=Ta(e,n,8,"ng-container",s);s!==null&&bu(a,s,!0);let c=rs(o,i);return Pm(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function bt(n,e,t){let r=le(),i=Je(),o=n+Yt,s=i.firstCreatePass?Lk(o,i,r,e,t):i.data[o];ro(s,!0);let a=Vk(i,r,s,n);return r[o]=a,Hu()&&Ku(i,r,a,s),si(a,r),ju(s)&&(xm(i,r,s),Im(i,s,r)),t!=null&&Om(r,s),bt}function wt(){let n=gt(),e=Je();return um()?Ew():(n=n.parent,ro(n,!1)),e.firstCreatePass&&(qu(e,n),am(n)&&e.queries.elementEnd(n)),wt}function Y(){return le()}function jk(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function mn(n){let e=Bk(n),t=Tb(e);if(t)return t;let r=e.split("-")[0];if(t=Tb(r),t)return t;if(r==="en")return Uk;throw new M(701,!1)}function Tb(n){return n in tg||(tg[n]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[n]),tg[n]}function Bk(n){return n.toLowerCase().replace(/_/g,"-")}function Hk(n){typeof n=="string"&&($k=n.toLowerCase().replace(/_/g,"-"))}function O(n,e,t,r){let i=le(),o=Je(),s=gt();return ZE(o,i,i[We],s,n,e,r),O}function qk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[au],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ZE(n,e,t,r,i,o,s){let a=ju(r),l=n.firstCreatePass&&ME(n),u=e[kn],d=DE(e),m=!0;if(r.type&3||s){let w=gn(r,e),P=s?s(w):w,B=d.length,oe=s?he=>s(or(he[r.index])):r.index,K=null;if(!s&&a&&(K=qk(n,e,i,r.index)),K!==null){let he=K.__ngLastListenerFn__||K;he.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,m=!1}else{o=Ab(r,e,u,o),zk(w,i,o);let he=t.listen(P,i,o);d.push(o,he),l&&l.push(i,oe,B,B+1)}}else o=Ab(r,e,u,o);let g=r.outputs,C;if(m&&g!==null&&(C=g[i])){let w=C.length;if(w)for(let P=0;P<w;P+=2){let B=C[P],oe=C[P+1],ze=e[B][oe].subscribe(o),Me=d.length;d.push(o,ze),l&&l.push(i,r.index,Me,-(Me+1))}}}function Pb(n,e,t,r){let i=ye(null);try{return er(6,e,t),t(r)!==!1}catch(o){return SE(n,o),!1}finally{er(7,e,t),ye(i)}}function Ab(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?li(n.index,e):e;km(s,5);let a=Pb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Pb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function S(n=1){return i1(n)}function JE(n,e,t,r){VN(n,e,t,r)}function td(n,e,t){LN(n,e,t)}function hs(n){let e=le(),t=Je(),r=Sw();dm(r+1);let i=Fm(t,r);if(n.dirty&&UP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=BN(e,r);n.reset(o,A1),n.notifyOnChanges()}return!0}return!1}function ps(){return FN(le(),Sw())}function Wk(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Et(n){let e=ZP();return cm(e,Yt+n)}function v(n,e=""){let t=le(),r=Je(),i=n+Yt,o=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],s=Gk(r,t,o,e,n);t[i]=s,Hu()&&Ku(r,t,s,o),ro(o,!1)}function Dt(n){return pe("",n,""),Dt}function pe(n,e,t){let r=le(),i=HE(r,n,e,t);return i!==sr&&qA(r,io(),i),pe}function vn(n,e,t){UE(e)&&(e=e());let r=le(),i=$u();if(Dr(r,i,e)){let o=Je(),s=pm();_E(o,s,r,n,e,r[We],t,!1)}return vn}function Vn(n,e){let t=UE(n);return t&&n.set(e),t}function yn(n,e){let t=le(),r=Je(),i=gt();return ZE(r,t,t[We],i,n,e),yn}function Kk(n,e,t){let r=Je();if(r.firstCreatePass){let i=oi(n);qg(t,r.data,r.blueprint,i,!0),qg(e,r.data,r.blueprint,i,!1)}}function qg(n,e,t,r,i){if(n=Pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)qg(n[o],e,t,r,i);else{let o=Je(),s=le(),a=gt(),c=es(n)?n:Pt(n.provide),l=aw(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(es(n)||!n.multi){let g=new Ji(l,i,D),C=rg(c,e,i?u:u+m,d);C===-1?(yg(hu(a,s),o,c),ng(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[C]=g,s[C]=g)}else{let g=rg(c,e,u+m,d),C=rg(c,e,u,u+m),w=g>=0&&t[g],P=C>=0&&t[C];if(i&&!P||!i&&!w){yg(hu(a,s),o,c);let B=Zk(i?Qk:Yk,t.length,i,r,l);!i&&P&&(t[C].providerFactory=B),ng(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else{let B=XE(t[i?C:g],l,!i&&r);ng(o,n,g>-1?g:C,B)}!i&&r&&P&&t[C].componentProviders++}}}function ng(n,e,t,r){let i=es(e),o=SP(e);if(i||o){let c=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function XE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function rg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Yk(n,e,t,r){return Wg(this.multi,[])}function Qk(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Xi(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),Wg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Wg(i,o);return o}function Wg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Zk(n,e,t,r,i){let o=new Ji(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,XE(o,i,r&&!t),o}function Xe(n,e=[]){return t=>{t.providersResolver=(r,i)=>Kk(r,i?i(n):n,e)}}function eD(n){oo("NgStandalone"),n.getStandaloneInjector=e=>e.get(Jk).getOrCreateStandaloneInjector(n)}function tD(n,e,t){let r=n.\u0275cmp;r.directiveDefs=ou(e,!1),r.pipeDefs=ou(t,!0)}function gs(n,e,t){let r=Oa()+n,i=le();return i[r]===sr?Vm(i,r,t?e.call(t):e()):ok(i,r)}function ms(n,e,t,r){return rD(le(),Oa(),n,e,t,r)}function ar(n,e,t,r,i){return iD(le(),Oa(),n,e,t,r,i)}function nD(n,e){let t=n[e];return t===sr?void 0:t}function rD(n,e,t,r,i,o){let s=e+t;return Dr(n,s,i)?Vm(n,s+1,o?r.call(o,i):r(i)):nD(n,s+1)}function iD(n,e,t,r,i,o,s){let a=e+t;return sk(n,a,i,o)?Vm(n,a+2,s?r.call(s,i,o):r(i,o)):nD(n,a+2)}function Rt(n,e){let t=Je(),r,i=n+Yt;t.firstCreatePass?(r=Xk(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Gi(r.type,!0)),s,a=Ut(D);try{let c=fu(!1),l=o();return fu(c),Wk(t,le(),i,l),l}finally{Ut(a)}}function Xk(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ht(n,e,t){let r=n+Yt,i=le(),o=cm(i,r);return sD(i,r)?rD(i,Oa(),e,o.transform,t,o):o.transform(t)}function oD(n,e,t,r){let i=n+Yt,o=le(),s=cm(o,i);return sD(o,i)?iD(o,Oa(),e,s.transform,t,r,s):s.transform(t,r)}function sD(n,e){return n[re].data[e].pure}function cr(n,e){return Ju(n,e)}function eR(n){Kl!==null&&(n.defaultEncapsulation!==Kl.defaultEncapsulation||n.preserveWhitespaces!==Kl.preserveWhitespaces)||(Kl=n)}function tR(n){Bm=n}function di(n){return!!n&&typeof n.then=="function"}function $m(n){return!!n&&typeof n.subscribe=="function"}function nR(){T0(()=>{throw new M(600,!1)})}function rR(n){return n.isBoundToModule}function oR(n,e,t){try{let r=t();return di(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function cD(n,e){return Array.isArray(e)?e.reduce(cD,n):E(E({},n),e)}function eu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sR(n,e,t,r){if(!t&&!Uu(n))return;OE(n,e,t&&!r?0:1)}function cR(n,e,t){let r=new Su(t);return Promise.resolve(r)}function Nb(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function uR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e($(E({},lD()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:Xo,multi:!0,useFactory:()=>{let r=_(lR,{optional:!0});return()=>r.initialize()}},{provide:Xo,multi:!0,useFactory:()=>{let r=_(dR);return()=>{r.initialize()}}},e===!0?{provide:NE,useValue:!0}:[],{provide:kE,useValue:t??zw}]}function lD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function hR(){return typeof $localize<"u"&&$localize.locale||xu}function Yl(n){return!n.moduleRef}function pR(n){let e=Yl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Yl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(wr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Yl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ou);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ou);s.add(o),n.moduleRef.onDestroy(()=>{eu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return oR(r,t,()=>{let o=e.get(aD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ad,xu);if(Hk(s||xu),Yl(n)){let a=e.get(_n);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return gR(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function gR(n,e){let t=n.injector.get(_n);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new M(-403,!1);e.push(n)}function mR(n){if(Ca&&!Ca.get(dD,!1))throw new M(400,!1);nR(),Ca=n;let e=n.get(uD);return _R(n),e}function Hm(n,e,t=[]){let r=`Platform: ${e}`,i=new R(r);return(o=[])=>{let s=fD();if(!s||s.injector.get(dD,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):mR(vR(a,r))}return yR(i)}}function vR(n=[],e){return Ze.create({name:e,providers:[{provide:Fu,useValue:"platform"},{provide:Ou,useValue:new Set([()=>Ca=null])},...n]})}function yR(n){let e=fD();if(!e)throw new M(401,!1);return e}function fD(){return Ca?.get(uD)??null}function _R(n){n.get(_m,null)?.forEach(t=>t())}function CR(n){return bR(gt(),le(),(n&16)===16)}function bR(n,e,t){if(Vu(n)&&!t){let r=li(n.index,e);return new eo(r,r)}else if(n.type&175){let r=e[ir];return new eo(r,e)}return null}function kb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Rb(){return new zm([new Kg])}function fi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ao(n,e){oo("NgSignals");let t=I0(n);return e?.equal&&(t[vr].equal=e.equal),t}function Zt(n){let e=ye(null);try{return n()}finally{ye(e)}}function gD(n){let e=ii(n);if(!e)return null;let t=new ss(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Fb,M,zl,Tt,jT,Ub,tb,Bb,BT,R,$T,HT,zT,qT,tu,_a,nb,ae,og,KT,ba,sg,nu,YT,QT,ZT,rb,Qo,Ru,Xg,Jo,Bt,Xo,Gb,Kb,iu,Yb,nr,ri,Zb,EP,Fu,Ql,IP,qp,Nt,Ea,Mr,re,Q,Ct,Nn,Rn,su,au,kn,ts,rr,We,Da,ab,ls,ir,Ki,Go,br,Lu,lw,ti,Wp,fn,Yt,uw,Yi,cu,ns,Kt,lu,hg,hw,cb,er,VP,jP,ce,Cw,Pw,Aw,Zo,Ji,Kp,mg,vg,f1,Rw,Fw,h1,tr,Wi,Ze,C1,b1,zw,kt,Cg,xr,bg,se,vm,gu,E1,_e,D1,mu,wr,T1,mt,Eg,Kw,k1,vb,Mg,Wu,V1,_m,Qt,Cm,bm,j1,U1,B1,Xw,$1,ql,vu,q1,Gu,K1,Y1,Q1,Er,X1,pA,Cb,sr,MA,IE,tN,rN,iN,eo,to,lN,uN,S7,fN,is,Rm,NE,kE,Pg,Cu,pN,Ag,os,ai,Ln,mN,wu,ss,Ng,ui,SN,RE,xN,ON,kg,Rg,Eu,Fg,Lg,Ib,Du,qN,ci,Ma,Mu,Su,jg,uk,Yo,$E,Ug,Bg,pk,An,Fk,Vk,qi,Uk,tg,Ye,xu,$k,zk,Gk,Jk,Kl,nd,Um,Pa,rd,id,Bm,vs,aD,od,iR,_n,Gg,sd,aR,lR,dR,fR,ad,Ou,uD,Ca,dD,Or,Kg,wR,Yg,Qg,Zg,Tu,zm,hD,pD,T=p(()=>{"use strict";k0();we();Xr();Fb="https://g.co/ng/security#xss",M=class extends Error{constructor(e,t){super(Pu(e,t)),this.code=e}};zl="__parameters__";Tt=globalThis;jT=Pe({__forward_ref__:Pe});Ub=Pe({\u0275prov:Pe}),tb=Pe({\u0275inj:Pe}),Bb=Pe({ngInjectableDef:Pe}),BT=Pe({ngInjectorDef:Pe}),R=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};$T=Pe({\u0275cmp:Pe}),HT=Pe({\u0275dir:Pe}),zT=Pe({\u0275pipe:Pe}),qT=Pe({\u0275mod:Pe}),tu=Pe({\u0275fac:Pe}),_a=Pe({__NG_ELEMENT_ID__:Pe}),nb=Pe({__NG_ENV_ID__:Pe});ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{});KT={},ba=KT,sg="__NG_DI_FLAG__",nu="ngTempTokenPath",YT="ngTokenPath",QT=/\n/gm,ZT="\u0275",rb="__source";Ru=qb(Lb("Optional"),8),Xg=qb(Lb("SkipSelf"),4);Jo={},Bt=[],Xo=new R(""),Gb=new R("",-1),Kb=new R(""),iu=class{get(e,t=ba){if(t===ba){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return t}},Yb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Yb||{}),nr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nr||{}),ri=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ri||{});Zb="ng-template";EP=Pe({provide:String,useValue:Pe});Fu=new R(""),Ql={},IP={};Nt=class{},Ea=class extends Nt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dg(e,s=>this.processProvider(s)),this.records.set(Gb,Wo(void 0,this)),i.has("environment")&&this.records.set(Nt,Wo(void 0,this));let o=this.records.get(Fu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Kb,Bt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ei(this),r=Ut(void 0),i;try{return e()}finally{ei(t),Ut(r)}}get(e,t=ba,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nb))return e[nb](this);r=ku(r);let i,o=ei(this),s=Ut(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=AP(e)&&Au(e);l&&this.injectableDefInScope(l)?c=Wo(ug(e),Ql):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?om():this.parent;return t=r&ae.Optional&&t===ba?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[nu]=a[nu]||[]).unshift(At(e)),o)throw a;return tP(a,e,"R3InjectorError",this.source)}else throw a}finally{Ut(s),ei(o)}}resolveInjectorInitializers(){let e=ye(null),t=ei(this),r=Ut(void 0),i;try{let o=this.get(Xo,Bt,ae.Self);for(let s of o)s()}finally{ei(t),Ut(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(e){e=Pt(e);let t=es(e)?e:Pt(e&&e.provide),r=OP(e);if(!es(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Wo(void 0,Ql,!0),i.factory=()=>ag(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===Ql&&(t.value=IP,t.value=t.factory()),typeof t.value=="object"&&t.value&&PP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Mr=0,re=1,Q=2,Ct=3,Nn=4,Rn=5,su=6,au=7,kn=8,ts=9,rr=10,We=11,Da=12,ab=13,ls=14,ir=15,Ki=16,Go=17,br=18,Lu=19,lw=20,ti=21,Wp=22,fn=23,Yt=25,uw=1,Yi=7,cu=8,ns=9,Kt=10,lu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(lu||{});hg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};Fn.ngInherit=!0;hw="__ngSimpleChanges__";cb=null,er=function(n,e,t){cb?.(n,e,t)},VP="svg",jP="math";ce={lFrame:Ow(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Cw=!1;Pw=Tw;Aw=!0;Zo=-1,Ji=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};Kp={},mg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ku(r);let i=this.injector.get(e,Kp,r);return i!==Kp||t===Kp?i:this.parentInjector.get(e,t,r)}};vg=!0;f1=256,Rw=f1-1,Fw=5,h1=0,tr={};Wi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Uw(this._tNode,this._lView,e,ku(r),t)}};Ze=class n{static{this.THROW_IF_NOT_FOUND=ba}static{this.NULL=new iu}static create(e,t){if(Array.isArray(e))return hb({name:""},t,e,"");{let r=e.name??"";return hb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=I({token:n,providedIn:"any",factory:()=>A(Gb)})}static{this.__NG_ELEMENT_ID__=-1}};C1=new R("");C1.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new M(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new M(204,!1)};b1="ngOriginalError";zw=!0,kt=(()=>{class n{static{this.__NG_ELEMENT_ID__=w1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Cg=class extends kt{constructor(e){super(),this._lView=e}onDestroy(e){return _w(this._lView,e),()=>HP(this._lView,e)}};xr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),bg=class extends me{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,cw()&&(this.destroyRef=_(kt,{optional:!0})??void 0,this.pendingTasks=_(xr,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=bg;vm="isAngularZone",gu=vm+"_ID",E1=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zw}=e;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,S1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new M(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,D1,pu,pu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},D1={};mu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};wr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Qp(e);for(;t&&Qp(t);)t=Qp(t);return t||null}},T1=new R("",{providedIn:"root",factory:()=>{let n=_(_e),e=_(wr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});mt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=P1}}return n})();Eg=class n{get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=N1)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=iP(e);(this._changesDetected=!rP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};Kw=new Map,k1=0;vb="__ngContext__";Wu=new R("",{providedIn:"root",factory:()=>V1}),V1="ng",_m=new R(""),Qt=new R("",{providedIn:"platform",factory:()=>"unknown"}),Cm=new R(""),bm=new R("",{providedIn:"root",factory:()=>L1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),j1="h",U1="b",B1=()=>null;Xw=!1,$1=new R("",{providedIn:"root",factory:()=>Xw});vu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fb})`}};q1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;Gu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gu||{});K1=/^>|^->|<!--|-->|--!>|<!-$/g,Y1=/(<|>)/g,Q1="\u200B$1\u200B";Er=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Er||{});pA=hA;sr={};MA=()=>null;IE=[];tN=$(E({},ca),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Bu(n.lView)},consumerOnSignalRead(){this.lView[fn]=this}});rN=$(E({},ca),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Qi(n.lView);for(;e&&!xE(e[re]);)e=Qi(e);e&&yw(e)},consumerOnSignalRead(){this.lView[fn]=this}});iN=100;eo=class{get rootNodes(){let e=this._lView,t=e[re];return _u(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(e){this._lView[kn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(Sr(e)){let t=e[cu],r=t?t.indexOf(this):-1;r>-1&&(Sg(e,r),ru(t,r))}this._attachedToViewContainer=!1}aE(this._lView[re],this._lView)}onDestroy(e){_w(this._lView,e)}markForCheck(){km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){pg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,OE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fg(this._lView),t=this._lView[Ki];t!==null&&!e&&Mm(t,this._lView),oE(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=e;let t=fg(this._lView),r=this._lView[Ki];r!==null&&!t&&sE(r,this._lView),pg(this._lView)}},to=(()=>{class n{static{this.__NG_ELEMENT_ID__=dN}}return n})(),lN=to,uN=class extends lN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=YA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new eo(i)}};S7=new RegExp(`^(\\d+)*(${U1}|${j1})*(.*)`),fN=()=>null;is=class{},Rm=new R("",{providedIn:"root",factory:()=>!1}),NE=new R(""),kE=new R(""),Pg=class{},Cu=class{};pN="ngComponent",Ag=class{resolveComponentFactory(e){throw hN(e)}},os=class{static{this.NULL=new Ag}},ai=class{},Ln=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>gN()}}return n})();mN=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>null})}}return n})();wu=class extends os{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ii(e);return new ss(t,this.ngModule)}};ss=class extends Cu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Mb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Mb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new mg(e,s):e,c=a.get(ai,null);if(c===null)throw new M(407,!1);let l=a.get(mN,null),u=a.get(is,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",C=r?EA(m,r,this.componentDef.encapsulation,a):iE(m,g,vN(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let P=null;C!==null&&(P=wm(C,a,!0));let B=Tm(0,null,null,1,0,null,null,null,null,null,null),oe=Qu(null,B,null,w,null,null,d,m,a,null,P);fm(oe);let K,he,ze=null;try{let Me=this.componentDef,Le,st=null;Me.findHostDirectiveDefs?(Le=[],st=new Map,Me.findHostDirectiveDefs(Me,Le,st),Le.push(Me)):Le=[Me];let mr=yN(oe,C);ze=_N(mr,C,Me,Le,oe,d,m),he=mw(B,Yt),C&&wN(m,Me,C,r),t!==void 0&&EN(he,this.ngContentSelectors,t),K=bN(ze,Me,Le,st,oe,[DN]),Nm(B,oe,null)}catch(Me){throw ze!==null&&Dg(ze),Dg(oe),Me}finally{hm()}return new Ng(this.componentType,K,us(he,oe),oe,he)}finally{ye(o)}}},Ng=class extends Pg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new eo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Am(o[re],o,i,e,t),this.previousInputValues.set(e,t);let s=li(this._tNode.index,o);km(s,1)}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};ui=(()=>{class n{static{this.__NG_ELEMENT_ID__=MN}}return n})();SN=ui,RE=class extends SN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return us(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=gm(this._hostTNode,this._hostLView);if(kw(e)){let t=du(e,this._hostLView),r=uu(e),i=t[re].data[r+8];return new Wi(i,t)}else return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Sb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Db(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Eb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!kP(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let c=s?e:new ss(ii(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Nt,null);w&&(o=w)}let u=ii(c.componentType??{}),d=Db(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,Eb(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(BP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ct],l=new RE(c,c[Rn],c[Ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return QA(s,i,o,r),e.attachToViewContainerRef(),Wb(Jp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Sb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Sg(this._lContainer,t);r&&(ru(Jp(this._lContainer),t),aE(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Sg(this._lContainer,t);return r&&ru(Jp(this._lContainer),t)!=null?new eo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};xN=PN,ON=()=>!1;kg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Rg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Fm(e,t).matches!==null&&this.queries[t].setDirty()}},Eu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=jN(e):this.predicate=e}},Fg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Lg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,AN(t,o)),this.matchTNodeWithReadOption(e,t,Xl(t,e,o,!1,!1))}else r===to?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===ui||i===to&&t.type&4)this.addMatch(t.index,-2);else{let o=Xl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};Ib=new Set;Du=new Map,qN=new Set;ci=class{},Ma=class{},Mu=class extends ci{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wu(this);let o=tw(e);this._bootstrapComponents=rE(o.bootstrap),this._r3Injector=Hw(e,t,[{provide:ci,useValue:this},{provide:os,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Su=class extends Ma{constructor(e){super(),this.moduleType=e}create(e){return new Mu(this.moduleType,e,[])}};jg=class extends ci{constructor(e){super(),this.componentFactoryResolver=new wu(this),this.instance=null;let t=new Ea([...e.providers,{provide:ci,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],e.parent||om(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};uk=dk;Yo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Yo||{}),$E=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Ug=class n{constructor(){this.ngZone=_(_e),this.scheduler=_(is),this.errorHandler=_(wr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yo.EarlyRead,Yo.Write,Yo.MixedReadWrite,Yo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}},Bg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};pk={destroy(){}};An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};Fk=(n,e,t,r,i,o)=>(zu(!0),iE(r,i,o1()));Vk=(n,e,t,r)=>(zu(!0),nA(e[We],""));qi=void 0;Uk=["en",[["a","p"],["AM","PM"],qi],[["AM","PM"],qi,qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qi,"{1} 'at' {0}",qi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jk],tg={};Ye=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ye||{});xu="en-US",$k=xu;zk=(n,e,t)=>{};Gk=(n,e,t,r,i)=>(zu(!0),eA(e[We],r));Jk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=iw(!1,t.type),i=r.length>0?Xu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(A(Nt))})}}return n})();Kl=null;nd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Um=new R(""),Pa=new R(""),rd=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Bm||(tR(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(A(_e),A(id),A(Pa))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),id=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Bm?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();vs=new R(""),aD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=_(vs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(di(o))t.push(o);else if($m(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),od=new R("");iR=10;_n=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(T1),this.afterRenderManager=_($E),this.zonelessEnabled=_(Rm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new me,this.afterTick=new me,this.componentTypes=[],this.components=[],this.isStable=_(xr).hasPendingTasks.pipe(j(t=>!t)),this._injector=_(Nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Cu;if(!this._injector.get(aD).done){let m=!i&&ew(t),g=!1;throw new M(405,g)}let s;i?s=t:s=this._injector.get(os).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=rR(s)?void 0:this._injector.get(ci),c=r||s.selector,l=s.create(Ze.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Um,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),eu(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new M(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ai,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<iR;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)sR(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Uu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;eu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(od,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>eu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();Gg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},sd=(()=>{class n{compileModuleSync(t){return new Su(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=tw(t),o=rE(i.declarations).reduce((s,a)=>{let c=ii(a);return c&&s.push(new ss(c)),s},[]);return new Gg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aR=new R("");lR=(()=>{class n{constructor(){this.zone=_(_e),this.changeDetectionScheduler=_(is),this.applicationRef=_(_n)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();dR=(()=>{class n{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=_(_e),this.pendingTasks=_(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fR=(()=>{class n{constructor(){this.appRef=_(_n),this.taskService=_(xr),this.ngZone=_(_e),this.zonelessEnabled=_(Rm),this.disableScheduling=_(NE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ve,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(kE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?pb:qw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();ad=new R("",{providedIn:"root",factory:()=>_(ad,ae.Optional|ae.SkipSelf)||hR()}),Ou=new R("");uD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>O1(r?.ngZone,$(E({},lD({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[uR({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:is,useExisting:fR}],c=nk(t.moduleType,this.injector,a);return pR({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=cD({},r);return cR(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Ou,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(A(Ze))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Ca=null,dD=new R("");Or=(()=>{class n{static{this.__NG_ELEMENT_ID__=CR}}return n})();Kg=class{constructor(){}supports(e){return BE(e)}create(e){return new Yg(e)}},wR=(n,e)=>e,Yg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wR}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<kb(r,i,o)?t:r,a=kb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,C=g+m;u<=C&&C<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!BE(e))throw new M(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,rk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Qg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Tu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Tu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Zg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Tu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Zg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};zm=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:Rb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Rb()),deps:[[n,new Xg,new Ru]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new M(901,!1)}}return n})(),hD=Hm(null,"core",[]),pD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(A(_n))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})()});function lr(){return wD}function ED(n){wD??=n}function rv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function mD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Pr(n){return n&&n[0]!=="?"?"?"+n:n}function MR(){return new _s(A(Nr))}function SR(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function vD(n){return n.replace(/\/index.html$/,"")}function IR(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function xR(n){return mn(n)[Ye.LocaleId]}function OR(n,e,t){let r=mn(n),i=[r[Ye.DayPeriodsFormat],r[Ye.DayPeriodsStandalone]],o=Cn(i,e);return Cn(o,t)}function TR(n,e,t){let r=mn(n),i=[r[Ye.DaysFormat],r[Ye.DaysStandalone]],o=Cn(i,e);return Cn(o,t)}function PR(n,e,t){let r=mn(n),i=[r[Ye.MonthsFormat],r[Ye.MonthsStandalone]],o=Cn(i,e);return Cn(o,t)}function AR(n,e){let r=mn(n)[Ye.Eras];return Cn(r,e)}function cd(n,e){let t=mn(n);return Cn(t[Ye.DateFormat],e)}function ld(n,e){let t=mn(n);return Cn(t[Ye.TimeFormat],e)}function ud(n,e){let r=mn(n)[Ye.DateTimeFormat];return Cn(r,e)}function yd(n,e){let t=mn(n),r=t[Ye.NumberSymbols][e];if(typeof r>"u"){if(e===hi.CurrencyDecimal)return t[Ye.NumberSymbols][hi.Decimal];if(e===hi.CurrencyGroup)return t[Ye.NumberSymbols][hi.Group]}return r}function ID(n){if(!n[Ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function NR(n){let e=mn(n);return ID(e),(e[Ye.ExtraData][2]||[]).map(r=>typeof r=="string"?qm(r):[qm(r[0]),qm(r[1])])}function kR(n,e,t){let r=mn(n);ID(r);let i=[r[Ye.ExtraData][0],r[Ye.ExtraData][1]],o=Cn(i,e)||[];return Cn(o,t)||[]}function Cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function qm(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function LR(n,e,t,r){let i=WR(n);e=Tr(t,e)||e;let s=[],a;for(;e;)if(a=FR.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=OD(r,c),i=qR(i,r,!0));let l="";return s.forEach(u=>{let d=HR(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function vd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Tr(n,e){let t=xR(n);if(dd[t]??={},dd[t][e])return dd[t][e];let r="";switch(e){case"shortDate":r=cd(n,Jt.Short);break;case"mediumDate":r=cd(n,Jt.Medium);break;case"longDate":r=cd(n,Jt.Long);break;case"fullDate":r=cd(n,Jt.Full);break;case"shortTime":r=ld(n,Jt.Short);break;case"mediumTime":r=ld(n,Jt.Medium);break;case"longTime":r=ld(n,Jt.Long);break;case"fullTime":r=ld(n,Jt.Full);break;case"short":let i=Tr(n,"shortTime"),o=Tr(n,"shortDate");r=fd(ud(n,Jt.Short),[i,o]);break;case"medium":let s=Tr(n,"mediumTime"),a=Tr(n,"mediumDate");r=fd(ud(n,Jt.Medium),[s,a]);break;case"long":let c=Tr(n,"longTime"),l=Tr(n,"longDate");r=fd(ud(n,Jt.Long),[c,l]);break;case"full":let u=Tr(n,"fullTime"),d=Tr(n,"fullDate");r=fd(ud(n,Jt.Full),[u,d]);break}return r&&(dd[t][e]=r),r}function fd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function jn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function VR(n,e){return jn(n,3).substring(0,e)}function et(n,e,t=0,r=!1,i=!1){return function(o,s){let a=jR(n,o);if((t>0||a>-t)&&(a+=t),n===De.Hours)a===0&&t===-12&&(a=12);else if(n===De.FractionalSeconds)return VR(a,e);let c=yd(s,hi.MinusSign);return jn(a,e,c,r,i)}}function jR(n,e){switch(n){case De.FullYear:return e.getFullYear();case De.Month:return e.getMonth();case De.Date:return e.getDate();case De.Hours:return e.getHours();case De.Minutes:return e.getMinutes();case De.Seconds:return e.getSeconds();case De.FractionalSeconds:return e.getMilliseconds();case De.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Re(n,e,t=Ft.Format,r=!1){return function(i,o){return UR(i,o,n,e,t,r)}}function UR(n,e,t,r,i,o){switch(t){case Ee.Months:return PR(e,i,r)[n.getMonth()];case Ee.Days:return TR(e,i,r)[n.getDay()];case Ee.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=NR(e),u=kR(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,C]=m,w=s>=g.hours&&a>=g.minutes,P=s<C.hours||s===C.hours&&a<C.minutes;if(g.hours<C.hours){if(w&&P)return!0}else if(w||P)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return OR(e,i,r)[s<12?0:1];case Ee.Eras:return AR(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function hd(n){return function(e,t,r){let i=-1*r,o=yd(t,hi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ar.Short:return(i>=0?"+":"")+jn(s,2,o)+jn(Math.abs(i%60),2,o);case Ar.ShortGMT:return"GMT"+(i>=0?"+":"")+jn(s,1,o);case Ar.Long:return"GMT"+(i>=0?"+":"")+jn(s,2,o)+":"+jn(Math.abs(i%60),2,o);case Ar.Extended:return r===0?"Z":(i>=0?"+":"")+jn(s,2,o)+":"+jn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function $R(n){let e=vd(n,BR,1).getDay();return vd(n,0,1+(e<=gd?gd:gd+7)-e)}function xD(n){let e=n.getDay(),t=e===0?-3:gd-e;return vd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Wm(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=xD(t),s=$R(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return jn(i,n,yd(r,hi.MinusSign))}}function pd(n,e=!1){return function(t,r){let o=xD(t).getFullYear();return jn(o,n,yd(r,hi.MinusSign),e)}}function HR(n){if(Gm[n])return Gm[n];let e;switch(n){case"G":case"GG":case"GGG":e=Re(Ee.Eras,Ae.Abbreviated);break;case"GGGG":e=Re(Ee.Eras,Ae.Wide);break;case"GGGGG":e=Re(Ee.Eras,Ae.Narrow);break;case"y":e=et(De.FullYear,1,0,!1,!0);break;case"yy":e=et(De.FullYear,2,0,!0,!0);break;case"yyy":e=et(De.FullYear,3,0,!1,!0);break;case"yyyy":e=et(De.FullYear,4,0,!1,!0);break;case"Y":e=pd(1);break;case"YY":e=pd(2,!0);break;case"YYY":e=pd(3);break;case"YYYY":e=pd(4);break;case"M":case"L":e=et(De.Month,1,1);break;case"MM":case"LL":e=et(De.Month,2,1);break;case"MMM":e=Re(Ee.Months,Ae.Abbreviated);break;case"MMMM":e=Re(Ee.Months,Ae.Wide);break;case"MMMMM":e=Re(Ee.Months,Ae.Narrow);break;case"LLL":e=Re(Ee.Months,Ae.Abbreviated,Ft.Standalone);break;case"LLLL":e=Re(Ee.Months,Ae.Wide,Ft.Standalone);break;case"LLLLL":e=Re(Ee.Months,Ae.Narrow,Ft.Standalone);break;case"w":e=Wm(1);break;case"ww":e=Wm(2);break;case"W":e=Wm(1,!0);break;case"d":e=et(De.Date,1);break;case"dd":e=et(De.Date,2);break;case"c":case"cc":e=et(De.Day,1);break;case"ccc":e=Re(Ee.Days,Ae.Abbreviated,Ft.Standalone);break;case"cccc":e=Re(Ee.Days,Ae.Wide,Ft.Standalone);break;case"ccccc":e=Re(Ee.Days,Ae.Narrow,Ft.Standalone);break;case"cccccc":e=Re(Ee.Days,Ae.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":e=Re(Ee.Days,Ae.Abbreviated);break;case"EEEE":e=Re(Ee.Days,Ae.Wide);break;case"EEEEE":e=Re(Ee.Days,Ae.Narrow);break;case"EEEEEE":e=Re(Ee.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Re(Ee.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Re(Ee.DayPeriods,Ae.Wide);break;case"aaaaa":e=Re(Ee.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Re(Ee.DayPeriods,Ae.Abbreviated,Ft.Standalone,!0);break;case"bbbb":e=Re(Ee.DayPeriods,Ae.Wide,Ft.Standalone,!0);break;case"bbbbb":e=Re(Ee.DayPeriods,Ae.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(Ee.DayPeriods,Ae.Abbreviated,Ft.Format,!0);break;case"BBBB":e=Re(Ee.DayPeriods,Ae.Wide,Ft.Format,!0);break;case"BBBBB":e=Re(Ee.DayPeriods,Ae.Narrow,Ft.Format,!0);break;case"h":e=et(De.Hours,1,-12);break;case"hh":e=et(De.Hours,2,-12);break;case"H":e=et(De.Hours,1);break;case"HH":e=et(De.Hours,2);break;case"m":e=et(De.Minutes,1);break;case"mm":e=et(De.Minutes,2);break;case"s":e=et(De.Seconds,1);break;case"ss":e=et(De.Seconds,2);break;case"S":e=et(De.FractionalSeconds,1);break;case"SS":e=et(De.FractionalSeconds,2);break;case"SSS":e=et(De.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=hd(Ar.Short);break;case"ZZZZZ":e=hd(Ar.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hd(Ar.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=hd(Ar.Long);break;default:return null}return Gm[n]=e,e}function OD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function zR(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function qR(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=OD(e,i);return zR(n,r*(o-i))}function WR(n){if(yD(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return vd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(RR))return GR(r)}let e=new Date(n);if(!yD(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function GR(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function yD(n){return n instanceof Date&&!isNaN(n.valueOf())}function _d(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function CD(n,e){n.context.$implicit=e.item}function bD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${At(e)}'.`)}function TD(n,e){return new M(2100,!1)}function Cd(n){return n===ov}function bd(n){return n===XR}function eF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var wD,md,dt,nv,DD,DR,Nr,MD,iv,SD,_s,Ft,Ae,Jt,hi,RR,dd,FR,Ar,De,Ee,BR,gd,Gm,Km,_D,ur,Ym,dr,Ie,Qm,Zm,Jm,KR,YR,zt,QR,ZR,JR,Cs,PD,ov,XR,AD,Xm,ev,ys,Oe=p(()=>{"use strict";T();T();wD=null;md=class{},dt=new R(""),nv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(DR),providedIn:"platform"})}}return n})(),DD=new R(""),DR=(()=>{class n extends nv{constructor(){super(),this._doc=_(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Nr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(iv),providedIn:"root"})}}return n})(),MD=new R(""),iv=(()=>{class n extends Nr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Pr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(nv),A(MD,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),SD=(()=>{class n extends Nr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=rv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(nv),A(MD,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),_s=(()=>{class n{constructor(t){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=IR(mD(vD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pr(r))}normalize(t){return n.stripTrailingSlash(SR(this._basePath,vD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Pr}static{this.joinWithSlash=rv}static{this.stripTrailingSlash=mD}static{this.\u0275fac=function(r){return new(r||n)(A(Nr))}}static{this.\u0275prov=I({token:n,factory:()=>MR(),providedIn:"root"})}}return n})();Ft=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ft||{}),Ae=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ae||{}),Jt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Jt||{}),hi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};RR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dd={},FR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ar=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ar||{}),De=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(De||{}),Ee=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ee||{});BR=0,gd=4;Gm={};Km=/\s+/,_D=[],ur=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=_D,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Km):_D}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Km):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Km).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(mt),D(Ln))}}static{this.\u0275dir=ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),Ym=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ym(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),CD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);CD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(ui),D(to),D(zm))}}static{this.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();Ie=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(ui),D(to))}}static{this.\u0275dir=ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Qm=class{constructor(){this.$implicit=null,this.ngIf=null}};Zm=class{createSubscription(e,t){return Zt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Zt(()=>e.unsubscribe())}},Jm=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},KR=new Jm,YR=new Zm,zt=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(di(t))return KR;if($m(t))return YR;throw TD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(Or,16))}}static{this.\u0275pipe=rm({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),QR="mediumDate",ZR=new R(""),JR=new R(""),Cs=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??QR,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return LR(t,s,o||this.locale,a)}catch(s){throw TD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(ad,16),D(ZR,24),D(JR,24))}}static{this.\u0275pipe=rm({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),PD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})(),ov="browser",XR="server";AD=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>Cd(_(Qt))?new Xm(_(dt),window):new ev})}}return n})(),Xm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=eF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};ev=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ys=class{}});function tF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function ND(n){return encodeURIComponent(n).replace(nF,(e,t)=>rF[t]??e)}function wd(n){return`${n}`}function iF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RD(n){return typeof Blob<"u"&&n instanceof Blob}function FD(n){return typeof FormData<"u"&&n instanceof FormData}function oF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function sv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function LD(n){if(n.url)return n.url;let e=cF.toLocaleLowerCase();return n.headers.get(e)}function uv(){}function uF(n){n.then(uv,uv)}function $D(n,e){return e(n)}function dF(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function fF(n,e,t){return(r,i)=>pn(t,()=>e(r,o=>n(o,i)))}function gF(){let n=null;return(e,t)=>{n===null&&(n=(_(hF,{optional:!0})??[]).reduceRight(dF,$D));let r=_(xr);if(_(HD)){let o=r.add();return n(e,t).pipe(Gt(()=>r.remove(o)))}else return n(e,t)}}function vF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function EF(n,e){let t=n.url.toLowerCase();if(!_(zD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=_(Md).getToken(),i=_(bF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function DF(n,e){return{\u0275kind:n,\u0275providers:e}}function MF(...n){let e=[co,jD,VD,{provide:Na,useExisting:VD},{provide:Ed,useFactory:()=>_(lF,{optional:!0})??_(jD)},{provide:dv,useValue:EF,multi:!0},{provide:zD,useValue:!0},{provide:Md,useClass:wF}];for(let t of n)e.push(...t.\u0275providers);return cs(e)}function SF(){return DF(qD.LegacyInterceptors,[{provide:UD,useFactory:gF},{provide:dv,useExisting:UD,multi:!0}])}var Na,Ed,kr,av,nF,rF,gi,cv,Aa,mi,ka,Dd,Ra,pi,BD,sF,co,aF,cF,lF,lv,hF,dv,pF,HD,VD,mF,jD,zD,yF,_F,CF,bF,Md,wF,qD,UD,WD,Fa=p(()=>{"use strict";T();T();we();Xr();Oe();Oe();Na=class{},Ed=class{},kr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},av=class{encodeKey(e){return ND(e)}encodeValue(e){return ND(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};nF=/%(\d[a-f0-9])/gi,rF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};gi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new av,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=tF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(wd):[wd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(wd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(wd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},cv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};Aa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(iF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new kr,this.context??=new cv,!this.params)this.params=new gi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kD(this.body)||RD(this.body)||FD(this.body)||oF(this.body)?this.body:this.body instanceof gi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||FD(this.body)?null:RD(this.body)?this.body.type||null:kD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof gi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},mi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(mi||{}),ka=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new kr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Dd=class n extends ka{constructor(e={}){super(e),this.type=mi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ra=class n extends ka{constructor(e={}){super(e),this.type=mi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pi=class extends ka{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},BD=200,sF=204;co=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Aa)o=t;else{let c;i.headers instanceof kr?c=i.headers:c=new kr(i.headers);let l;i.params&&(i.params instanceof gi?l=i.params:l=new gi({fromObject:i.params})),o=new Aa(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=F(o).pipe(ln(c=>this.handler.handle(c)));if(t instanceof Aa||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof Ra));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new gi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,sv(i,r))}post(t,r,i={}){return this.request("POST",t,sv(i,r))}put(t,r,i={}){return this.request("PUT",t,sv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(A(Na))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),aF=/^\)\]\}',?\n/,cF="X-Request-URL";lF=(()=>{class n{constructor(){this.fetchImpl=_(lv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=_(_e)}handle(t){return new J(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(uv,o=>r.error(new pi({error:o}))),()=>i.abort()})}doRequest(t,r,i){return x(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,E({signal:r},o)));uF(g),i.next({type:mi.Sent}),s=yield g}catch(g){i.error(new pi({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new kr(s.headers),c=s.statusText,l=LD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new Dd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),C=[],w=s.body.getReader(),P=0,B,oe,K=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>x(this,null,function*(){for(;;){let{done:ze,value:Me}=yield w.read();if(ze)break;if(C.push(Me),P+=Me.length,t.reportProgress){oe=t.responseType==="text"?(oe??"")+(B??=new TextDecoder).decode(Me,{stream:!0}):void 0;let Le=()=>i.next({type:mi.DownloadProgress,total:g?+g:void 0,loaded:P,partialText:oe});K?K.run(Le):Le()}}}));let he=this.concatChunks(C,P);try{let ze=s.headers.get("Content-Type")??"";d=this.parseBody(t,he,ze)}catch(ze){i.error(new pi({error:ze,headers:new kr(s.headers),status:s.status,statusText:s.statusText,url:LD(s)??t.urlWithParams}));return}}u===0&&(u=d?BD:0),u>=200&&u<300?(i.next(new Ra({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new pi({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(aF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),lv=class{};hF=new R(""),dv=new R(""),pF=new R(""),HD=new R("",{providedIn:"root",factory:()=>!0});VD=(()=>{class n extends Na{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=_(xr),this.contributeToStability=_(HD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(dv),...this.injector.get(pF,[])]));this.chain=r.reduceRight((i,o)=>fF(i,o,this.injector),$D)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Gt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(A(Ed),A(Nt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),mF=/^\)\]\}',?\n/;jD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new M(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?q(r.\u0275loadImpl()):F(null)).pipe(ke(()=>new J(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,P)=>s.setRequestHeader(w,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",P=new kr(s.getAllResponseHeaders()),B=vF(s)||t.url;return c=new Dd({headers:P,status:s.status,statusText:w,url:B}),c},u=()=>{let{headers:w,status:P,statusText:B,url:oe}=l(),K=null;P!==sF&&(K=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=K?BD:0);let he=P>=200&&P<300;if(t.responseType==="json"&&typeof K=="string"){let ze=K;K=K.replace(mF,"");try{K=K!==""?JSON.parse(K):null}catch(Me){K=ze,he&&(he=!1,K={error:Me,text:K})}}he?(o.next(new Ra({body:K,headers:w,status:P,statusText:B,url:oe||void 0})),o.complete()):o.error(new pi({error:K,headers:w,status:P,statusText:B,url:oe||void 0}))},d=w=>{let{url:P}=l(),B=new pi({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(B)},m=!1,g=w=>{m||(o.next(l()),m=!0);let P={type:mi.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},C=w=>{let P={type:mi.UploadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),o.next(P)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:mi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(A(ys))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),zD=new R(""),yF="XSRF-TOKEN",_F=new R("",{providedIn:"root",factory:()=>yF}),CF="X-XSRF-TOKEN",bF=new R("",{providedIn:"root",factory:()=>CF}),Md=class{},wF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_d(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Qt),A(_F))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();qD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(qD||{});UD=new R("");WD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[MF(SF())]})}}return n})()});function IF(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}function xF(n){return new URL(n,document.baseURI).pathname}function kF(n){return PF.replace(Cv,n)}function RF(n){return TF.replace(Cv,n)}function JD(n,e){return e.map(t=>t.replace(Cv,n))}function GD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function UF(){mv.makeCurrent()}function BF(){return new wr}function $F(){return Jw(document),document}var gv,mv,La,vv,OF,yv,YD,Sd,hv,QD,pv,Cv,ZD,TF,PF,AF,NF,Id,Va,_v,ja,xd,FF,KD,LF,VF,jF,HF,XD,zF,qF,WF,Od,eM,Ua=p(()=>{"use strict";Oe();T();T();gv=class extends md{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mv=class n extends gv{static makeCurrent(){ED(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=IF();return t==null?null:xF(t)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _d(document.cookie,e)}},La=null;vv=class{addToWindow(e){Tt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new M(5103,!1);return o},Tt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Tt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=Tt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?lr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},OF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),yv=new R(""),YD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(A(yv),A(_e))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Sd=class{constructor(e){this._doc=e}},hv="ng-app-id",QD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${hv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(hv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(hv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Wu),A(bm,8),A(Qt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),pv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cv=/%COMP%/g,ZD="%COMP%",TF=`_nghost-${ZD}`,PF=`_ngcontent-${ZD}`,AF=!0,NF=new R("",{providedIn:"root",factory:()=>AF});Id=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=bd(a),this.defaultRenderer=new Va(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nr.ShadowDom&&(r=$(E({},r),{encapsulation:nr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof xd?i.applyToHost(t):i instanceof ja&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case nr.Emulated:o=new xd(c,l,r,this.appId,u,s,a,d);break;case nr.ShadowDom:return new _v(c,l,t,r,s,a,this.nonce,d);default:o=new ja(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(A(YD),A(QD),A(Wu),A(NF),A(dt),A(Qt),A(_e),A(bm))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Va=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(pv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(GD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(GD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=pv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=pv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Er.DashCase|Er.Important)?e.style.setProperty(t,r,i&Er.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Er.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};_v=class extends Va{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=JD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ja=class extends Va{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?JD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xd=class extends ja{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=kF(l),this.hostAttr=RF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},FF=(()=>{class n extends Sd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),KD=["alt","control","meta","shift"],LF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},jF=(()=>{class n extends Sd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),KD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=LF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),KD.forEach(s=>{if(s!==i){let a=VF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();HF=[{provide:Qt,useValue:ov},{provide:_m,useValue:UF,multi:!0},{provide:dt,useFactory:$F,deps:[]}],XD=Hm(hD,"browser",HF),zF=new R(""),qF=[{provide:Pa,useClass:vv,deps:[]},{provide:Um,useClass:rd,deps:[_e,id,Pa]},{provide:rd,useClass:rd,deps:[_e,id,Pa]}],WF=[{provide:Fu,useValue:"root"},{provide:wr,useFactory:BF,deps:[]},{provide:yv,useClass:FF,multi:!0,deps:[dt,_e,Qt]},{provide:yv,useClass:jF,multi:!0,deps:[dt]},Id,QD,YD,{provide:ai,useExisting:Id},{provide:ys,useClass:OF,deps:[]},[]],Od=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Wu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(A(zF,12))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[...WF,...qF],imports:[PD,pD]})}}return n})(),eM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Ss(n){return new Mv(n)}function GF(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function KF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fr(n[t],e[t]))return!1;return!0}function fr(n,e){let t=n?Sv(n):void 0,r=e?Sv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!fM(n[i],e[i]))return!1;return!0}function Sv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function fM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function hM(n){return n.length>0?n[n.length-1]:null}function _i(n){return Cp(n)?n:di(n)?q(Promise.resolve(n)):F(n)}function nM(n,e,t){return YF[t.paths](n.root,e.root,t.matrixParams)&&pM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function QF(n,e){return fr(n,e)}function gM(n,e,t){if(!uo(n.segments,e.segments)||!Ad(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!gM(n.children[r],e.children[r],t))return!1;return!0}function ZF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>fM(n[t],e[t]))}function mM(n,e,t){return vM(n,e,e.segments,t)}function vM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!uo(i,t)||e.hasChildren()||!Ad(i,t,r))}else if(n.segments.length===t.length){if(!uo(n.segments,t)||!Ad(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!mM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!uo(n.segments,i)||!Ad(n.segments,i,r)||!n.children[ie]?!1:vM(n.children[ie],e,o,r)}}function Ad(n,e,t){return e.every((r,i)=>pM[t](n[i].parameters,r.parameters))}function JF(n,e){return uo(n,e)&&n.every((t,r)=>fr(t.parameters,e[r].parameters))}function uo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function XF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(e(i,r)))}),t}function Nd(n){return n.segments.map(e=>_M(e)).join("/")}function Ba(n,e){if(!n.hasChildren())return Nd(n);if(e){let t=n.children[ie]?Ba(n.children[ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Ba(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=XF(n,(r,i)=>i===ie?[Ba(n.children[ie],!1)]:[`${i}:${Ba(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ie]!=null?`${Nd(n)}/${t[0]}`:`${Nd(n)}/(${t.join("//")})`}}function yM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Td(n){return yM(n).replace(/%3B/gi,";")}function tL(n){return encodeURI(n)}function Iv(n){return yM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kd(n){return decodeURIComponent(n)}function rM(n){return kd(n.replace(/\+/g,"%20"))}function _M(n){return`${Iv(n.path)}${nL(n.parameters)}`}function nL(n){return Object.entries(n).map(([e,t])=>`;${Iv(e)}=${Iv(t)}`).join("")}function rL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Td(t)}=${Td(i)}`).join("&"):`${Td(t)}=${Td(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function bv(n){let e=n.match(iL);return e?e[0]:""}function sL(n){let e=n.match(oL);return e?e[0]:""}function cL(n){let e=n.match(aL);return e?e[0]:""}function uL(n){let e=n.match(lL);return e?e[0]:""}function CM(n){return n.segments.length>0?new xe([],{[ie]:n}):n}function bM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=bM(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return dL(t)}function dL(n){if(n.numberOfChildren===1&&n.children[ie]){let e=n.children[ie];return new xe(n.segments.concat(e.segments),e.children)}return n}function fo(n){return n instanceof Fr}function fL(n,e,t=null,r=null){let i=wM(n);return EM(i,e,t,r)}function wM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=CM(r);return e??i}function EM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return wv(i,i,i,t,r);let o=hL(e);if(o.toRoot())return wv(i,i,new xe([],{}),t,r);let s=pL(o,i,n),a=s.processChildren?za(s.segmentGroup,s.index,o.commands):MM(s.segmentGroup,s.index,o.commands);return wv(i,s.segmentGroup,a,t,r)}function Rd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ga(n){return typeof n=="object"&&n!=null&&n.outlets}function wv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=DM(n,e,t);let a=CM(bM(s));return new Fr(a,o,i)}function DM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=DM(o,e,t)}),new xe(n.segments,r)}function hL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Fd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fd(t,e,r)}function pL(n,e,t){if(n.isAbsolute)return new Es(e,!0,0);if(!t)return new Es(e,!1,NaN);if(t.parent===null)return new Es(t,!0,0);let r=Rd(n.commands[0])?0:1,i=t.segments.length-1+r;return gL(t,i,n.numberOfDoubleDots)}function gL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Es(r,!1,i-o)}function mL(n){return Ga(n[0])?n[0].outlets:{[ie]:n}}function MM(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return za(n,e,t);let r=vL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[ie]=new xe(n.segments.slice(r.pathIndex),n.children),za(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?Ov(n,e,t):r.match?za(n,0,i):Ov(n,e,t)}function za(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=mL(t),i={};if(Object.keys(r).some(o=>o!==ie)&&n.children[ie]&&n.numberOfChildren===1&&n.children[ie].segments.length===0){let o=za(n.children[ie],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=MM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function vL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ga(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!oM(c,l,s))return o;r+=2}else{if(!oM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ov(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ga(o)){let c=yL(o.outlets);return new xe(r,c)}if(i===0&&Rd(t[0])){let c=n.segments[e];r.push(new lo(c.path,iM(t[0]))),i++;continue}let s=Ga(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Rd(a)?(r.push(new lo(s,iM(a))),i+=2):(r.push(new lo(s,{})),i++)}return new xe(r,{})}function yL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ov(new xe([],{}),0,r))}),e}function iM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function oM(n,e,t){return n==t.path&&fr(e,t.parameters)}function _L(n,e){return n.providers&&!n._injector&&(n._injector=Xu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Un(n){return n.outlet||ie}function CL(n,e){let t=n.filter(r=>Un(r)===e);return t.push(...n.filter(r=>Un(r)!==e)),t}function nc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function Bv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Bv(n,t);if(r)return r}return null}function $v(n,e){if(n===e.value)return[e];for(let t of e.children){let r=$v(n,t);if(r.length)return r.unshift(e),r}return[]}function ws(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function SM(n){let e=bL(n),t=new de([new lo("",{})]),r=new de({}),i=new de({}),o=new de({}),s=new de(""),a=new Lt(t,r,o,s,i,ie,n,e.root);return a.snapshot=e.root,new Bd(new Xt(a,[]),e)}function bL(n){let e={},t={},r={},i="",o=new Ds([],e,r,i,t,ie,n,null,{});return new Hd("",new Xt(o,[]))}function $d(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),i?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},i&&xM(i)&&(r.resolve[ec]=i.title),r}function Zv(n,e){e.value._routerState=n,e.children.forEach(t=>Zv(n,t))}function IM(n){let e=n.children.length>0?` { ${n.children.map(IM).join(", ")} } `:"";return`${n.value}${e}`}function Ev(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fr(e.params,t.params)||n.paramsSubject.next(t.params),KF(e.url,t.url)||n.urlSubject.next(t.url),fr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Hv(n,e){let t=fr(n.params,e.params)&&JF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Hv(n.parent,e.parent))}function xM(n){return typeof n.title=="string"||n.title===null}function wL(n,e,t){let r=Qa(n,e._root,t?t._root:void 0);return new Bd(r,e)}function Qa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=EL(n,e,t);return new Xt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Qa(n,a)),s}}let r=DL(e.value),i=e.children.map(o=>Qa(n,o));return new Xt(r,i)}}function EL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qa(n,r,i);return Qa(n,r)})}function DL(n){return new Lt(new de(n.url),new de(n.params),new de(n.queryParams),new de(n.fragment),new de(n.data),n.outlet,n.component,n)}function zd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TM(!1,en.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function TM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[OM]=!0,t.cancellationCode=e,t}function ML(n){return PM(n)&&fo(n.url)}function PM(n){return!!n&&n[OM]}function IL(n,e,t){let r=n._root,i=e?e._root:null;return $a(r,i,t,[r.value])}function xL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ts(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!jb(n)?n:e.get(n):r}function $a(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ws(e);return n.children.forEach(s=>{OL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Wa(a,t.getContext(s),i)),i}function OL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=TL(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$a(n,e,a?a.children:null,r,i):$a(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ms(a.outlet.component,s))}else s&&Wa(e,a,i),i.canActivateChecks.push(new qd(r)),o.component?$a(n,null,a?a.children:null,r,i):$a(n,null,t,r,i);return i}function TL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!uo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(n.url,e.url)||!fr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hv(n,e)||!fr(n.queryParams,e.queryParams);case"paramsChange":default:return!Hv(n,e)}}function Wa(n,e,t){let r=ws(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Wa(s,e.children.getContext(o),t):Wa(s,null,t):Wa(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ms(e.outlet.component,i)):t.canDeactivateChecks.push(new Ms(null,i)):t.canDeactivateChecks.push(new Ms(null,i))}function ic(n){return typeof n=="function"}function PL(n){return typeof n=="boolean"}function AL(n){return n&&ic(n.canLoad)}function NL(n){return n&&ic(n.canActivate)}function kL(n){return n&&ic(n.canActivateChild)}function RL(n){return n&&ic(n.canDeactivate)}function FL(n){return n&&ic(n.canMatch)}function AM(n){return n instanceof Tn||n?.name==="EmptyError"}function Os(){return ke(n=>ga(n.map(e=>e.pipe(be(1),Up(Pd)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Pd)return Pd;if(t===!1||LL(t))return t}return!0}),Ne(e=>e!==Pd),be(1)))}function LL(n){return fo(n)||n instanceof Za}function VL(n,e){return Ue(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?F($(E({},t),{guardsResult:!0})):jL(s,r,i,n).pipe(Ue(a=>a&&PL(a)?UL(r,o,n,e):F(a)),j(a=>$(E({},t),{guardsResult:a})))})}function jL(n,e,t,r){return q(n).pipe(Ue(i=>qL(i.component,i.route,t,e,r)),Xn(i=>i!==!0,!0))}function UL(n,e,t,r){return q(e).pipe(ln(i=>Jn($L(i.route.parent,r),BL(i.route,r),zL(n,i.path,t),HL(n,i.route,t))),Xn(i=>i!==!0,!0))}function BL(n,e){return n!==null&&e&&e(new Vv(n)),F(!0)}function $L(n,e){return n!==null&&e&&e(new Fv(n)),F(!0)}function HL(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(o=>Hi(()=>{let s=nc(e)??t,a=Ts(o,s),c=NL(a)?a.canActivate(e,n):pn(s,()=>a(e,n));return _i(c).pipe(Xn())}));return F(i).pipe(Os())}function zL(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>xL(s)).filter(s=>s!==null).map(s=>Hi(()=>{let a=s.guards.map(c=>{let l=nc(s.node)??t,u=Ts(c,l),d=kL(u)?u.canActivateChild(r,n):pn(l,()=>u(r,n));return _i(d).pipe(Xn())});return F(a).pipe(Os())}));return F(o).pipe(Os())}function qL(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let s=o.map(a=>{let c=nc(e)??i,l=Ts(a,c),u=RL(l)?l.canDeactivate(n,e,t,r):pn(c,()=>l(n,e,t,r));return _i(u).pipe(Xn())});return F(s).pipe(Os())}function WL(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let o=i.map(s=>{let a=Ts(s,n),c=AL(a)?a.canLoad(e,t):pn(n,()=>a(e,t));return _i(c)});return F(o).pipe(Os(),NM(r))}function NM(n){return ep(te(e=>{if(typeof e!="boolean")throw zd(n,e)}),j(e=>e===!0))}function GL(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let o=i.map(s=>{let a=Ts(s,n),c=FL(a)?a.canMatch(e,t):pn(n,()=>a(e,t));return _i(c)});return F(o).pipe(Os(),NM(r))}function bs(n){return rt(new Ja(n))}function KL(n){return rt(new M(4e3,!1))}function YL(n){return rt(TM(!1,en.GuardRejected))}function QL(n,e,t,r,i){let o=kM(n,e,t);return o.matched?(r=_L(e,r),GL(r,e,t,i).pipe(j(s=>s===!0?o:E({},Gv)))):F(o)}function kM(n,e,t){if(e.path==="**")return ZL(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},Gv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||GF)(t,n,e);if(!i)return E({},Gv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ZL(n){return{matched:!0,parameters:n.length>0?hM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function aM(n,e,t,r){return t.length>0&&e2(n,t,r)?{segmentGroup:new xe(e,XL(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&t2(n,t,r)?{segmentGroup:new xe(n.segments,JL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function JL(n,e,t,r){let i={};for(let o of t)if(Yd(n,e,o)&&!r[Un(o)]){let s=new xe([],{});i[Un(o)]=s}return E(E({},r),i)}function XL(n,e){let t={};t[ie]=e;for(let r of n)if(r.path===""&&Un(r)!==ie){let i=new xe([],{});t[Un(r)]=i}return t}function e2(n,e,t){return t.some(r=>Yd(n,e,r)&&Un(r)!==ie)}function t2(n,e,t){return t.some(r=>Yd(n,e,r))}function Yd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function n2(n,e,t){return e.length===0&&!n.children[t]}function r2(n,e,t,r,i,o,s="emptyOnly"){return new Yv(n,e,t,r,i,s,o).recognize()}function o2(n){n.sort((e,t)=>e.value.outlet===ie?-1:t.value.outlet===ie?1:e.value.outlet.localeCompare(t.value.outlet))}function s2(n){let e=n.value.routeConfig;return e&&e.path===""}function RM(n){let e=[],t=new Set;for(let r of n){if(!s2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=RM(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!t.has(r))}function cM(n){return n.data||{}}function lM(n){return n.resolve||{}}function a2(n,e,t,r,i,o){return Ue(s=>r2(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>$(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function c2(n,e){return Ue(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return F(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of FM(c))s.add(l);let a=0;return q(s).pipe(ln(c=>o.has(c)?l2(c,r,n,e):(c.data=$d(c,c.parent,n).resolve,F(void 0))),te(()=>a++),qo(1),Ue(c=>a===s.size?F(t):Ot))})}function FM(n){let e=n.children.map(t=>FM(t)).flat();return[n,...e]}function l2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!xM(i)&&(o[ec]=i.title),u2(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=$d(n,n.parent,t).resolve,null)))}function u2(n,e,t,r){let i=Sv(n);if(i.length===0)return F({});let o={};return q(i).pipe(Ue(s=>d2(n[s],e,t,r).pipe(Xn(),te(a=>{if(a instanceof Za)throw zd(new Is,a);o[s]=a}))),qo(1),va(o),fe(s=>AM(s)?Ot:rt(s)))}function d2(n,e,t,r){let i=nc(e)??r,o=Ts(n,i),s=o.resolve?o.resolve(e,t):pn(i,()=>o(e,t));return _i(s)}function Dv(n){return ke(e=>{let t=n(e);return t?q(t).pipe(j(()=>e)):F(e)})}function Jv(n){let e=n.children&&n.children.map(Jv),t=e?$(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=h2),t}function p2(n,e,t,r){return _i(n.loadChildren()).pipe(j(VM),Ue(i=>i instanceof Ma||Array.isArray(i)?F(i):q(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Wd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Jv),injector:o}}))}function g2(n){return n&&typeof n=="object"&&"default"in n}function VM(n){return g2(n)?n.default:n}function v2(n,e,t){let r=n.get(UM),i=n.get(dt);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),y2(n))),{onViewTransitionCreated:c}=r;return c&&pn(n,()=>c({transition:a,from:e,to:t})),s})}function y2(n){return new Promise(e=>{jm({read:()=>setTimeout(e)},{injector:n})})}function C2(n){return n!==qa}function $M(n,e){n.events.pipe(Ne(t=>t instanceof tn||t instanceof Rr||t instanceof Ka||t instanceof yi),j(t=>t instanceof tn||t instanceof yi?Ha.COMPLETE:(t instanceof Rr?t.code===en.Redirect||t.code===en.SupersededByNewNavigation:!1)?Ha.REDIRECTING:Ha.FAILED),Ne(t=>t!==Ha.REDIRECTING),be(1)).subscribe(()=>{e()})}function D2(n){throw n}function I2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new M(4008,!1)}function x2(n){return!(n instanceof Ya)&&!(n instanceof xs)}function O2(n){return!!n.paths}function A2(n){return n.routerState.root}function sc(n,e){return{\u0275kind:n,\u0275providers:e}}function N2(){let n=_(Ze);return e=>{let t=n.get(_n);if(e!==t.components[0])return;let r=n.get(Te),i=n.get(qM);n.get(ny)===1&&r.initialNavigation(),n.get(WM,null,ae.Optional)?.setUpPreloading(),n.get(zM,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function k2(){return sc(2,[{provide:ny,useValue:0},{provide:vs,multi:!0,deps:[Ze],useFactory:e=>{let t=e.get(DD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(qM);$M(i,()=>{r(!0)}),e.get(ty).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}])}function R2(){return sc(3,[{provide:vs,multi:!0,useFactory:()=>{let e=_(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:ny,useValue:2}])}function F2(n){return sc(0,[{provide:WM,useExisting:T2},{provide:Gd,useExisting:n}])}function L2(){return sc(8,[sM,{provide:Kd,useExisting:sM}])}function V2(n){let e=[{provide:jM,useValue:v2},{provide:UM,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return sc(9,e)}function U2(){return{provide:zM,useFactory:()=>{let n=_(AD),e=_(_e),t=_(oc),r=_(ty),i=_(tc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new P2(i,r,n,e,t)}}}function B2(){return{provide:Nr,useClass:SD}}function $2(){return{provide:Nr,useClass:iv}}function H2(n){return"guarded"}function z2(n){return[n.initialNavigation==="disabled"?R2().\u0275providers:[],n.initialNavigation==="enabledBlocking"?k2().\u0275providers:[]]}function q2(){return[{provide:dM,useFactory:N2},{provide:od,multi:!0,useExisting:dM}]}var ie,ec,Mv,YF,pM,Fr,xe,lo,tc,Is,eL,iL,oL,aL,lL,xv,Fd,Es,qa,ft,bn,vi,tn,en,Ld,Rr,yi,Ka,Vd,Tv,Pv,Av,Nv,kv,Rv,Fv,Lv,Vv,jv,jd,Ya,xs,Uv,rc,Ud,Xt,Bd,Lt,Ds,Hd,Bn,zv,Kd,sM,Za,OM,SL,qv,qd,Ms,Pd,Ja,Xa,Wv,Gv,Kv,i2,Yv,LM,f2,oc,h2,Wd,Xv,ey,m2,jM,UM,_2,ty,b2,Qv,w2,BM,E2,Ha,M2,S2,Te,wn,HM,Gd,T2,zM,P2,qM,ny,WM,uM,j2,ry,dM,it=p(()=>{"use strict";T();T();we();Oe();Oe();Xr();Ua();ie="primary",ec=Symbol("RouteTitle"),Mv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};YF={exact:gM,subset:mM},pM={exact:QF,subset:ZF,ignored:()=>!0};Fr=class{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){return eL.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nd(this)}},lo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ss(this.parameters),this._parameterMap}toString(){return _M(this)}};tc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new Is,providedIn:"root"})}}return n})(),Is=class{parse(e){let t=new xv(e);return new Fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ba(e.root,!0)}`,r=rL(e.queryParams),i=typeof e.fragment=="string"?`#${tL(e.fragment)}`:"";return`${t}${r}${i}`}},eL=new Is;iL=/^[^\/()?;#]+/;oL=/^[^\/()?;=#]+/;aL=/^[^=?&#]+/;lL=/^[^&#]+/;xv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ie]=new xe(e,t)),r}parseSegment(){let e=bv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new lo(kd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=bv(this.remaining);i&&(r=i,this.capture(r))}e[kd(t)]=kd(r)}parseQueryParam(e){let t=cL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=uL(this.remaining);s&&(r=s,this.capture(r))}let i=rM(t),o=rM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ie]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};Fd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Rd(r[0]))throw new M(4003,!1);let i=r.find(Ga);if(i&&i!==hM(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Es=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};qa="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),bn=class{constructor(e,t){this.id=e,this.url=t}},vi=class extends bn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends bn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(en||{}),Ld=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ld||{}),Rr=class extends bn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends bn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},Ka=class extends bn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vd=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tv=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pv=class extends bn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Av=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nv=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ya=class{},xs=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};Uv=class{get injector(){return nc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new rc(this.rootInjector),this.attachRef=null}},rc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Uv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(A(Nt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ud=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Bv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Bv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=$v(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $v(e,this._root).map(t=>t.value)}};Xt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Bd=class extends Ud{constructor(e,t){super(e),this.snapshot=t,Zv(this,e)}toString(){return this.snapshot.toString()}};Lt=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[ec]))??F(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>Ss(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>Ss(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};Ds=class{get title(){return this.data?.[ec]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Hd=class extends Ud{constructor(e,t){super(t),this.url=e,Zv(this,t)}toString(){return IM(this._root)}};Bn=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=_(rc),this.location=_(ui),this.changeDetector=_(Or),this.inputBinder=_(Kd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new zv(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]})}}return n})(),zv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Lt?this.route:e===rc?this.childContexts:this.parent.get(e,t)}},Kd=new R(""),sM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ga([r.queryParams,r.params,r.data]).pipe(ke(([o,s,a],c)=>(a=E(E(E({},o),s),a),c===0?F(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=gD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();Za=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},OM="ngNavigationCancelingError";SL=(n,e,t,r)=>j(i=>(new qv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),qv=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ev(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ws(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ws(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new jv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Lv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Ev(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ev(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},qd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ms=class{constructor(e,t){this.component=e,this.route=t}};Pd=Symbol("INITIAL_VALUE");Ja=class{constructor(e){this.segmentGroup=e||null}},Xa=class extends Error{constructor(e){super(),this.urlTree=e}};Wv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[ie])return KL(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:C,title:w}=i,P=pn(o,()=>a({params:g,data:C,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:w}));if(P instanceof Fr)throw new Xa(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Xa(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Fr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Gv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};Kv=class{};i2=31,Yv=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,`'${e.segmentGroup}'`)}recognize(){let e=aM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new Xt(r,t),o=new Hd("",i),s=fL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ds([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,t).pipe(j(r=>({children:r,rootSnapshot:t})),fe(r=>{if(r instanceof Xa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ja?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof Xt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return q(o).pipe(ln(s=>{let a=r.children[s],c=CL(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Vp((s,a)=>(s.push(...a),s)),Jr(null),Rp(),Ue(s=>{if(s===null)return bs(r);let a=RM(s);return o2(a),F(a)}))}processSegment(e,t,r,i,o,s,a){return q(t).pipe(ln(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(fe(l=>{if(l instanceof Ja)return F(null);throw l}))),Xn(c=>!!c),fe(c=>{if(AM(c))return n2(r,i,o)?F(new Kv):bs(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Un(r)!==s&&(s===ie||!Yd(i,o,r))?bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=kM(t,i,o);if(!c)return bs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>i2&&(this.allowRedirects=!1));let g=new Ds(o,l,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,cM(i),Un(i),i.component??i._loadedComponent??null,i,lM(i)),C=$d(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(C.params),g.data=Object.freeze(C.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Ue(P=>this.processSegment(e,r,t,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=QL(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ke(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ke(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,C=new Ds(m,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,cM(r),Un(r),r.component??r._loadedComponent??null,r,lM(r)),w=$d(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(w.params),C.data=Object.freeze(w.data);let{segmentGroup:P,slicedSegments:B}=aM(t,m,g,l);if(B.length===0&&P.hasChildren())return this.processChildren(u,l,P,C).pipe(j(K=>new Xt(C,K)));if(l.length===0&&B.length===0)return F(new Xt(C,[]));let oe=Un(r)===o;return this.processSegment(u,l,P,B,oe?ie:o,!0,C).pipe(j(K=>new Xt(C,K instanceof Xt?[K]:[])))}))):bs(t)))}getChildConfig(e,t,r){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):WL(e,t,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,t).pipe(te(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):YL(t))):F({routes:[],injector:e})}};LM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[ec]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(f2),providedIn:"root"})}}return n})(),f2=(()=>{class n extends LM{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(A(eM))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oc=new R("",{providedIn:"root",factory:()=>({})}),h2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ee({type:n,selectors:[["ng-component"]],standalone:!0,features:[eD],decls:1,vars:0,template:function(r,i){r&1&&k(0,"router-outlet")},dependencies:[Bn],encapsulation:2})}}return n})();Wd=new R(""),Xv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(sd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=_i(t.loadComponent()).pipe(j(VM),te(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Gt(()=>{this.componentLoaders.delete(t)})),i=new Zr(r,()=>new me).pipe(ko());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=p2(r,this.compiler,t,this.onLoadEndListener).pipe(Gt(()=>{this.childrenLoaders.delete(r)})),s=new Zr(o,()=>new me).pipe(ko());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();ey=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(m2),providedIn:"root"})}}return n})(),m2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jM=new R(""),UM=new R("");_2=new R(""),ty=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=_(Xv),this.environmentInjector=_(Nt),this.urlSerializer=_(tc),this.rootContexts=_(rc),this.location=_(_s),this.inputBindingEnabled=_(Kd,{optional:!0})!==null,this.titleStrategy=_(LM),this.options=_(oc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(ey),this.createViewTransition=_(jM,{optional:!0}),this.navigationErrorHandler=_(_2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let t=i=>this.events.next(new kv(i)),r=i=>this.events.next(new Rv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($(E(E({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new de({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:qa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),j(o=>$(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ke(o=>{let s=!1,a=!1;return F(o).pipe(ke(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),Ot;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new yi(c.id,this.urlSerializer.serialize(c.rawUrl),d,Ld.IgnoredSameUrlNavigation)),c.resolve(!1),Ot}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return F(c).pipe(ke(d=>{let m=this.transitions?.getValue();return this.events.next(new vi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Ot:Promise.resolve(d)}),a2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),te(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=$(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Vd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:C,extras:w}=c,P=new vi(d,this.urlSerializer.serialize(m),g,C);this.events.next(P);let B=SM(this.rootComponentType).snapshot;return this.currentTransition=o=$(E({},c),{targetSnapshot:B,urlAfterRedirects:m,extras:$(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,F(o)}else{let d="";return this.events.next(new yi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Ld.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ot}}),te(c=>{let l=new Tv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=$(E({},c),{guards:IL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),VL(this.environmentInjector,c=>this.events.next(c)),te(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw zd(this.urlSerializer,c.guardsResult);let l=new Pv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",en.GuardRejected),!1)),Dv(c=>{if(c.guards.canActivateChecks.length)return F(c).pipe(te(l=>{let u=new Av(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ke(l=>{let u=!1;return F(l).pipe(c2(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",en.NoDataFromResolver)}}))}),te(l=>{let u=new Nv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Dv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(te(m=>{u.component=m}),j(()=>{})));for(let m of u.children)d.push(...l(m));return d};return ga(l(c.targetSnapshot.root)).pipe(Jr(null),be(1))}),Dv(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?q(u).pipe(j(()=>o)):F(o)}),j(c=>{let l=wL(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(E({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),te(()=>{this.events.next(new Ya)}),SL(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),be(1),te({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),dn(this.transitionAbortSubject.pipe(te(c=>{throw c}))),Gt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fe(c=>{if(a=!0,PM(c))this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),ML(c)?this.events.next(new xs(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ka(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=pn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Za){let{message:d,cancellationCode:m}=zd(this.urlSerializer,u);this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new xs(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ot}))}))}cancelNavigationTransition(t,r,i){let o=new Rr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();b2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(w2),providedIn:"root"})}}return n})(),Qv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},w2=(()=>{class n extends Qv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(E2),providedIn:"root"})}}return n})(),E2=(()=>{class n extends BM{constructor(){super(...arguments),this.location=_(_s),this.urlSerializer=_(tc),this.options=_(oc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(ey),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=SM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof vi)this.stateMemento=this.createStateMemento();else if(t instanceof yi)this.rawUrlTree=r.initialUrl;else if(t instanceof Vd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ya?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Rr&&(t.code===en.GuardRejected||t.code===en.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ka?this.restoreHistory(r,!0):t instanceof tn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Fr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ha=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ha||{});M2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(nd),this.stateManager=_(BM),this.options=_(oc,{optional:!0})||{},this.pendingTasks=_(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(ty),this.urlSerializer=_(tc),this.location=_(_s),this.urlHandlingStrategy=_(ey),this._events=new me,this.errorHandler=this.options.errorHandler||D2,this.navigated=!1,this.routeReuseStrategy=_(b2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(Wd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Kd,{optional:!0}),this.eventsSubscription=new Ve,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rr&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tn)this.navigated=!0;else if(r instanceof xs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||C2(i.source)},s);this.scheduleNavigation(a,qa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}x2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=E({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Jv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=wM(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return EM(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=fo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,qa,null,r)}navigate(t,r={skipLocationChange:!1}){return I2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},M2):r===!1?i=E({},S2):i=r,fo(t))return nM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return $M(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();wn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new me,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:tE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:fo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Lt),mm("tabindex"),D(Ln),D(mt),D(Nr))}}static{this.\u0275dir=ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&O("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&fs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fi],replaceUrl:[2,"replaceUrl","replaceUrl",fi],routerLink:"routerLink"},standalone:!0,features:[Lm,Fn]})}}return n})(),HM=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new se,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof tn&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(Zn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=q(t).pipe(Zn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=O2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(mt),D(Ln),D(Or),D(wn,8))}}static{this.\u0275dir=ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&JE(o,wn,5),r&2){let s;hs(s=ps())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]})}}return n})();Gd=class{},T2=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof tn),ln(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return q(i).pipe(Zn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=F(null);let o=i.pipe(Ue(s=>s===null?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return q([o,s]).pipe(Zn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(A(Te),A(sd),A(Nt),A(Gd),A(Xv))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zM=new R(""),P2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof yi&&t.code===Ld.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){pE()}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();qM=new R("",{factory:()=>new me}),ny=new R("",{providedIn:"root",factory:()=>1});WM=new R("");uM=new R("ROUTER_FORROOT_GUARD"),j2=[_s,{provide:tc,useClass:Is},Te,rc,{provide:Lt,useFactory:A2,deps:[Te]},Xv,[]],ry=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[j2,[],{provide:Wd,multi:!0,useValue:t},{provide:uM,useFactory:H2,deps:[[Te,new Ru,new Xg]]},{provide:oc,useValue:r||{}},r?.useHash?B2():$2(),U2(),r?.preloadingStrategy?F2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?z2(r):[],r?.bindToComponentInputs?L2().\u0275providers:[],r?.enableViewTransitions?V2().\u0275providers:[],q2()]}}static forChild(t){return{ngModule:n,providers:[{provide:Wd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(A(uM,8))}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})();dM=new R("")});var Qd,GM=p(()=>{"use strict";Xr();we();T();Fa();Qd=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(lt(1),fe(e=>(console.log("err:",e),rt(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(lt(1),fe(e=>(console.log("err:",e),rt(()=>e))))}static \u0275fac=function(t){return new(t||n)(A(co))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var W2,G2,ht,ac=p(()=>{"use strict";W2=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],G2=!W2.includes(window.location.hostname),ht={baseURL:G2?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function cc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var KM=p(()=>{"use strict"});function uc(n,e=200){return x(this,null,function*(){if(lc){let t=cc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function K2(n,e){return x(this,null,function*(){if(lc){let t=yield fetch(`${ht.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield uc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function Y2(n,e){return x(this,null,function*(){let t=`${ht.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function Q2(n,e,t){return x(this,null,function*(){if(lc){let r=t?`${ht.baseURL}/${t}`:`${ht.baseURL}/${n}`,i={"Content-Type":"application/json"},o=cc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=$(E({},e),{_id:X2()}),i=yield uc(n);return i.push(r),iy(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function Z2(n,e){return x(this,null,function*(){if(lc){let t=`${ht.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=cc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield uc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),iy(n,t),e}})}function J2(n,e){return x(this,null,function*(){if(lc){let t=cc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield uc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),iy(n,t)}})}function iy(n,e){localStorage.setItem(n,JSON.stringify(e))}function X2(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var ot,lc,oy=p(()=>{"use strict";ac();KM();ot={post:Q2,get:K2,put:Z2,remove:J2,query:uc,login:Y2},lc=!0});var YM,eV,Zd,QM=p(()=>{"use strict";YM="dzqnyehxn",eV="fuhrsp2z",Zd={CLOUD_NAME:YM,UPLOAD_PRESET:eV,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${YM}/${n}/upload`}});var Ci,Jd=p(()=>{"use strict";QM();we();T();Ci=class n{cloudName=Zd.CLOUD_NAME;uploadPreset=Zd.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=Zd.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),q(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Hn,dc,fc,Xd=p(()=>{"use strict";Hn=Object.create(null);Hn.open="0";Hn.close="1";Hn.ping="2";Hn.pong="3";Hn.message="4";Hn.upgrade="5";Hn.noop="6";dc=Object.create(null);Object.keys(Hn).forEach(n=>{dc[Hn[n]]=n});fc={type:"error",data:"parser error"}});function XM(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function rS(n,e){if(eS&&n.data instanceof Blob)return n.data.arrayBuffer().then(XM).then(e);if(tS&&(n.data instanceof ArrayBuffer||nS(n.data)))return e(XM(n.data));hc(n,!1,t=>{sy||(sy=new TextEncoder),e(sy.encode(t))})}var eS,tS,nS,hc,JM,sy,iS=p(()=>{"use strict";Xd();eS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",tS=typeof ArrayBuffer=="function",nS=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,hc=({type:n,data:e},t,r)=>eS&&e instanceof Blob?t?r(e):JM(e,r):tS&&(e instanceof ArrayBuffer||nS(e))?t?r(e):JM(new Blob([e]),r):r(Hn[n]+(e||"")),JM=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var oS,pc,sS,aS=p(()=>{"use strict";oS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<oS.length;n++)pc[oS.charCodeAt(n)]=n;sS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=pc[n.charCodeAt(r)],s=pc[n.charCodeAt(r+1)],a=pc[n.charCodeAt(r+2)],c=pc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var tV,gc,nV,cS,lS=p(()=>{"use strict";Xd();aS();tV=typeof ArrayBuffer=="function",gc=(n,e)=>{if(typeof n!="string")return{type:"message",data:cS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:nV(n.substring(1),e)}:dc[t]?n.length>1?{type:dc[t],data:n.substring(1)}:{type:dc[t]}:fc},nV=(n,e)=>{if(tV){let t=sS(n);return cS(t,e)}else return{base64:!0,data:n}},cS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function hS(){return new TransformStream({transform(n,e){rS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function ef(n){return n.reduce((e,t)=>e+t.length,0)}function tf(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function pS(n,e){ay||(ay=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(ef(t)<1)break;let c=tf(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(ef(t)<2)break;let c=tf(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(ef(t)<8)break;let c=tf(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(fc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(ef(t)<i)break;let c=tf(t,i);a.enqueue(gc(o?c:ay.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(fc);break}}}})}var uS,dS,fS,ay,cy,Ps=p(()=>{"use strict";iS();lS();Xd();uS="",dS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{hc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(uS))})})},fS=(n,e)=>{let t=n.split(uS),r=[];for(let i=0;i<t.length;i++){let o=gc(t[i],e);if(r.push(o),o.type==="error")break}return r};cy=4});function Fe(n){if(n)return rV(n)}function rV(n){for(var e in Fe.prototype)n[e]=Fe.prototype[e];return n}var ho=p(()=>{"use strict";Fe.prototype.on=Fe.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Fe.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Fe.prototype.off=Fe.prototype.removeListener=Fe.prototype.removeAllListeners=Fe.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Fe.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Fe.prototype.emitReserved=Fe.prototype.emit;Fe.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Fe.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Lr,Vt,gS,po=p(()=>{"use strict";Lr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Vt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gS="arraybuffer"});function nf(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Vr(n,e){e.useNativeTimers?(n.setTimeoutFn=iV.bind(Vt),n.clearTimeoutFn=oV.bind(Vt)):(n.setTimeoutFn=Vt.setTimeout.bind(Vt),n.clearTimeoutFn=Vt.clearTimeout.bind(Vt))}function mS(n){return typeof n=="string"?aV(n):Math.ceil((n.byteLength||n.size)*sV)}function aV(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function rf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var iV,oV,sV,go=p(()=>{"use strict";po();iV=Vt.setTimeout,oV=Vt.clearTimeout;sV=1.33});function vS(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function yS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var ly=p(()=>{"use strict"});var of,jr,mc=p(()=>{"use strict";Ps();ho();go();ly();of=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},jr=class extends Fe{constructor(e){super(),this.writable=!1,Vr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new of(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=gc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=vS(e);return t.length?"?"+t:""}}});var vc,uy=p(()=>{"use strict";mc();go();Ps();vc=class extends jr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,dS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=rf()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var _S,CS,bS=p(()=>{"use strict";_S=!1;try{_S=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}CS=_S});function cV(){}function wS(){for(let n in sf.requests)sf.requests.hasOwnProperty(n)&&sf.requests[n].abort()}function ES(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||CS))return new XMLHttpRequest}catch{}if(!e)try{return new Vt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var dy,sf,lV,bi,af=p(()=>{"use strict";uy();ho();go();po();bS();dy=class extends vc{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},sf=(()=>{class n extends Fe{constructor(t,r,i){super(),this.createRequest=t,Vr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=nf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wS);else if(typeof addEventListener=="function"){let n="onpagehide"in Vt?"pagehide":"unload";addEventListener(n,wS,!1)}}lV=function(){let n=ES({xdomain:!1});return n&&n.responseType!==null}(),bi=class extends dy{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=lV&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new sf(ES,this.uri(),e)}}});var DS,hy,fy,wi,cf=p(()=>{"use strict";mc();go();Ps();po();DS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",hy=class extends jr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=DS?{}:nf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;hc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Lr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=rf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},fy=Vt.WebSocket||Vt.MozWebSocket,wi=class extends hy{createSocket(e,t,r){return DS?new fy(e,t,r):t?new fy(e,t):new fy(e)}doWrite(e,t){this.ws.send(t)}}});var As,py=p(()=>{"use strict";mc();po();Ps();As=class extends jr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=pS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=hS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Lr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var gy,my=p(()=>{"use strict";af();cf();py();gy={websocket:wi,webtransport:As,polling:bi}});function Ns(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=uV.exec(n||""),o={},s=14;for(;s--;)o[dV[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=fV(o,o.path),o.queryKey=hV(o,o.query),o}function fV(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function hV(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var uV,dV,vy=p(()=>{"use strict";uV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var yy,lf,uf,df,ks,_y=p(()=>{"use strict";my();go();ly();vy();ho();Ps();po();yy=typeof addEventListener=="function"&&typeof removeEventListener=="function",lf=[];yy&&addEventListener("offline",()=>{lf.forEach(n=>n())},!1);uf=(()=>{class n extends Fe{constructor(t,r){if(super(),this.binaryType=gS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Ns(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Ns(r.host).host);Vr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yS(this.opts.query)),yy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},lf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=cy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=mS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Lr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),yy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=lf.indexOf(this._offlineEventListener);i!==-1&&lf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=cy,n})(),df=class extends uf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;uf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;uf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=t.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},ks=class extends df{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>gy[i]).filter(i=>!!i)),super(e,r)}}});var MS=p(()=>{"use strict";uy()});var uY,ff=p(()=>{"use strict";_y();_y();mc();my();go();vy();po();MS();af();af();cf();cf();py();uY=ks.protocol});function SS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Ns(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var IS=p(()=>{"use strict";ff()});function _c(n){return gV&&(n instanceof ArrayBuffer||mV(n))||vV&&n instanceof Blob||yV&&n instanceof File}function yc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(yc(n[t]))return!0;return!1}if(_c(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return yc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&yc(n[t]))return!0;return!1}var gV,mV,xS,vV,yV,Cy=p(()=>{"use strict";gV=typeof ArrayBuffer=="function",mV=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,xS=Object.prototype.toString,vV=typeof Blob=="function"||typeof Blob<"u"&&xS.call(Blob)==="[object BlobConstructor]",yV=typeof File=="function"||typeof File<"u"&&xS.call(File)==="[object FileConstructor]"});function OS(n){let e=[],t=n.data,r=n;return r.data=by(t,e),r.attachments=e.length,{packet:r,buffers:e}}function by(n,e){if(!n)return n;if(_c(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=by(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=by(n[r],e));return t}return n}function TS(n,e){return n.data=wy(n.data,e),delete n.attachments,n}function wy(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=wy(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=wy(n[t],e));return n}var PS=p(()=>{"use strict";Cy()});var Sy={};tT(Sy,{Decoder:()=>Dy,Encoder:()=>Ey,PacketType:()=>ge,protocol:()=>NS});function AS(n){return Object.prototype.toString.call(n)==="[object Object]"}var _V,NS,ge,Ey,Dy,My,hf=p(()=>{"use strict";ho();PS();Cy();_V=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],NS=5,ge=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(ge||{}),Ey=class{constructor(e){this.replacer=e}encode(e){return(e.type===ge.EVENT||e.type===ge.ACK)&&yc(e)?this.encodeAsBinary({type:e.type===ge.EVENT?ge.BINARY_EVENT:ge.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===ge.BINARY_EVENT||e.type===ge.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=OS(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};Dy=class n extends Fe{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===ge.BINARY_EVENT;r||t.type===ge.BINARY_ACK?(t.type=r?ge.EVENT:ge.ACK,this.reconstructor=new My(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(_c(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(ge[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ge.BINARY_EVENT||r.type===ge.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case ge.CONNECT:return AS(t);case ge.DISCONNECT:return t===void 0;case ge.CONNECT_ERROR:return typeof t=="string"||AS(t);case ge.EVENT:case ge.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&_V.indexOf(t[0])===-1);case ge.ACK:case ge.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},My=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=TS(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function nn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Iy=p(()=>{"use strict"});var CV,Rs,xy=p(()=>{"use strict";hf();Iy();ho();CV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Rs=class extends Fe{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[nn(e,"open",this.onopen.bind(this)),nn(e,"packet",this.onpacket.bind(this)),nn(e,"error",this.onerror.bind(this)),nn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(CV.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:ge.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ge.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ge.EVENT:case ge.BINARY_EVENT:this.onevent(e);break;case ge.ACK:case ge.BINARY_ACK:this.onack(e);break;case ge.DISCONNECT:this.ondisconnect();break;case ge.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:ge.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function mo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var kS=p(()=>{"use strict";mo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};mo.prototype.reset=function(){this.attempts=0};mo.prototype.setMin=function(n){this.ms=n};mo.prototype.setMax=function(n){this.max=n};mo.prototype.setJitter=function(n){this.jitter=n}});var Fs,RS=p(()=>{"use strict";ff();xy();hf();Iy();kS();ho();Fs=class extends Fe{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Vr(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new mo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||Sy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ks(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=nn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=nn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(nn(e,"ping",this.onping.bind(this)),nn(e,"data",this.ondata.bind(this)),nn(e,"error",this.onerror.bind(this)),nn(e,"close",this.onclose.bind(this)),nn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Lr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Rs(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function bc(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=SS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Cc[i]&&o in Cc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Fs(r,e):(Cc[i]||(Cc[i]=new Fs(r,e)),c=Cc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var Cc,FS=p(()=>{"use strict";IS();RS();xy();hf();ff();Cc={};Object.assign(bc,{Manager:Fs,Socket:Rs,io:bc,connect:bc})});var Ls,Oy=p(()=>{"use strict";T();Ls=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function VS(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var XY,bV,wV,EV,DV,MV,SV,IV,En,Vs=p(()=>{"use strict";FS();Mt();T();Oy();XY=VS(),bV="chat-add-msg",wV="chat-add-private-msg",EV="chat-send-msg",DV="chat-set-topic",MV="chat-send-private-msg",SV="set-user-socket",IV="unset-user-socket",En=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=VS(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=bc(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(DV,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(EV,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i){this.socket||this.setup();let o=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",o),!o||!e||!t.trim()&&!r&&!i){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:o,toUserId:e,msg:t,imageUrl:r,videoUrl:i});return}let s={sender:o._id,senderName:o.username,text:t||"",imageUrl:r||void 0,videoUrl:i||void 0,toUserId:e};this.addToBuffer($(E({},s),{senderName:"Me"})),console.log("\u2705 Sending private message:",s),this.socket?.emit(MV,{toUserId:e,text:t,imageUrl:r,videoUrl:i,sender:o._id,senderName:o.username})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(SV,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(bV,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(wV,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=$(E({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(IV)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(A(Ze),A(Ls))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var wc,Ei,jS,US,Di,Ce,Mt=p(()=>{"use strict";we();oy();ac();T();Jd();Vs();wc="user",Ei="loggedInUser",jS="facebookId",US="facebookAccessToken",Di="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(Ei)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new de([]);users$=this._users$.asObservable();_filterBy$=new de("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new de(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){q(ot.query(wc)).pipe(te(e=>{this._users$.next(this._sort(e))}),fe(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(Ei)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(Ei)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(Ei,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Di,e),sessionStorage.setItem(Di,e)}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Di)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Di)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Di)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Di)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Di)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${ht.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={username:e,password:t};return q(ot.login("auth/login",r)).pipe(te(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(Ei,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),fe(this._handleError))}loginWithFacebook(e){return q(ot.login("auth/facebook",e)).pipe(te(t=>{this._loggedInUser$.next(t),localStorage.setItem(Ei,JSON.stringify(t)),localStorage.setItem(jS,e.facebookId),localStorage.setItem(US,e.accessToken),this.socketService.login(t._id)}),fe(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(Ei),localStorage.removeItem(jS),localStorage.removeItem(US),localStorage.removeItem(Di),this.socketService.logout()}loadUsers(){return q(ot.query(wc)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),te(e=>this._users$.next(e)),lt(3),fe(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(be(1)).subscribe()}deleteUser(e){return q(ot.remove(wc,e)).pipe(te(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),lt(2),fe(this._handleError))}getUserById(e){return q(ot.get(wc,e)).pipe(lt(3),fe(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=$(E({},e),{_id:this._getRandomId()});return q(ot.post("auth/signup",t)).pipe(te(r=>{let i=this._users$.value;this._users$.next([...i,r])}),lt(3),fe(this._handleError))}_updateUser(e){return q(ot.put(wc,e)).pipe(te(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),lt(3),fe(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),rt(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?q(ot.put("user/updateProfile",e)).pipe(te(t=>{this._loggedInUser$.next(t),localStorage.setItem(Ei,JSON.stringify(t))}),fe(this._handleError)):rt(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(ke(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return rt(()=>new Error("No logged-in user found. Please log in."));let i=$(E({},r),{img:t});return this.saveUser(i).pipe(te(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),fe(t=>(console.error("Error updating user image:",t.message||t),rt(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(A(Ci),A(En))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function pf(n,e){return{type:ne.Trigger,name:n,definitions:e,options:{}}}function Mc(n,e=null){return{type:ne.Animate,styles:e,timings:n}}function BS(n,e=null){return{type:ne.Sequence,steps:n,options:e}}function zn(n){return{type:ne.Style,styles:n,offset:null}}function Py(n,e,t){return{type:ne.State,name:n,styles:e,options:t}}function Sc(n,e,t=null){return{type:ne.Transition,expr:n,animation:e,options:t}}var ne,hr,Mi,Dc,gf,mf=p(()=>{"use strict";ne=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ne||{}),hr="*";Mi=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Dc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},gf="!"});var Ic,vt,Ur=p(()=>{"use strict";we();oy();T();Ic="contact",vt=class n{_contacts$=new de([]);contacts$=this._contacts$.asObservable();_allContacts$=new de([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new de({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){q(ot.query(Ic)).pipe(te(e=>{this._contacts$.next(this._sort(e))}),fe(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),q(ot.query("contact/All")).pipe(te(e=>{this._allContacts$.next(this._sort(e))}),fe(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return rt(()=>new Error("Contact not found"));let i=$(E({},r),{img:t});return q(ot.put("contact/edit",i)).pipe(te(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),lt(1),fe(o=>this._handleError(o)))}loadContacts(){return q(ot.query(Ic)).pipe(te(e=>{let t=this._filterBy$.value;e=e.map(r=>$(E({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),lt(1),fe(this._handleError))}deleteContact(e){return q(ot.remove(Ic,e)).pipe(te(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),lt(1),fe(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(be(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return q(ot.get(Ic,e)).pipe(lt(1),fe(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),q(ot.put("contact/edit",e)).pipe(te(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),lt(1),fe(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),q(ot.post(Ic,e)).pipe(te(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),lt(1),fe(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),rt(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var js,Ay=p(()=>{"use strict";T();js=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function qt(n){n||(sm(qt),n=_(kt));let e=new J(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(dn(e))}var Us=p(()=>{"use strict";T();we();Xr();});var St,Si=p(()=>{"use strict";T();we();Us();T();St=class n{destroyRef=_(kt);_msg=new de(null);msg$=this._msg.asObservable().pipe(Cr());_msgQueue$=new me;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(ln(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?F(null):(this._currentMsg=e,F(e).pipe(te(()=>this._msg.next(e)),un(1100),te(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(qt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var It,Ii=p(()=>{"use strict";T();It=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&O("click",function(o){return r.onClick(o)})}})}});function OV(n,e){if(n&1&&(bt(0),h(1,"h1"),v(2),f(),k(3,"img",3),wt()),n&2){let t=S();y(2),pe("Hello: ",t.logdinUser.username,"!"),y(),b("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",ut)}}function TV(n,e){if(n&1){let t=Y();h(0,"h1"),v(1," Welcome!"),k(2,"br"),v(3," Please login or sign up"),k(4,"br"),h(5,"span",4),k(6,"img",5),f()(),h(7,"section",6)(8,"a",7),v(9,"Login"),f(),h(10,"a",8),v(11,"Sign Up"),f(),h(12,"button",9),O("click",function(){L(t);let i=S();return V(i.loginWithFacebook())}),k(13,"img",10),h(14,"span",11),v(15,"Login with Facebook"),f()()()}}var vf,HS=p(()=>{"use strict";T();GM();we();Mt();mf();Ur();T();Ay();Si();it();Oe();Ii();vf=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=_(Qd);userService=_(Ce);logdinUser=this.userService.getLoggedInUser();contactService=_(vt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(be(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(js),D(St),D(Te))};static \u0275cmp=ee({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(h(0,"section",1),N(1,OV,4,2,"ng-container",2)(2,TV,16,0,"ng-template",null,0,cr),f()),t&2){let i=Et(3);y(),b("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[Ie,wn,It],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[pf("bounceArrow",[Py("up",zn({transform:"translateY(-10px)"})),Py("down",zn({transform:"translateY(10px)"})),Sc("up <=> down",[Mc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var Dn,Hs=p(()=>{"use strict";T();T();Dn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new se;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(mt))};static \u0275dir=ue({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function PV(n,e){if(n&1){let t=Y();h(0,"div",1)(1,"div",2),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.cancel())}),h(2,"p"),v(3),f(),h(4,"div",3)(5,"button",4),O("click",function(){L(t);let i=S();return V(i.confirm())}),v(6,"Yes"),f(),h(7,"button",4),O("click",function(){L(t);let i=S();return V(i.cancel())}),v(8,"No"),f()()()()}if(n&2){let t=S();y(3),Dt(t.message)}}var zs,Ny=p(()=>{"use strict";T();T();Oe();Ii();Hs();zs=class n{isVisible=!1;message="";confirmed=new se;canceled=new se;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&N(0,PV,9,1,"div",0),t&2&&b("ngIf",r.isVisible)},dependencies:[Ie,It,Dn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var AV,qS,NV,_f,WS=p(()=>{"use strict";T();T();it();Si();Ay();Oe();Ny();Ii();AV=(n,e)=>[n,e],qS=n=>({"long-name":n}),NV=n=>["/contact/edit",n],_f=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new se;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Te),D(St),D(js))};static \u0275cmp=ee({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:16,vars:18,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"contact-last-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(h(0,"article",0),O("click",function(){return r.onPreviewClick()}),k(1,"img",1),h(2,"div",2)(3,"h1",3),v(4),f(),h(5,"h1",4),v(6),f()(),h(7,"div",5)(8,"button",6),O("click",function(){return r.onDeleteClick()}),k(9,"img",7),f(),h(10,"button",8),O("click",function(){return r.onEditClick()}),k(11,"img",9),f(),h(12,"button",10),O("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),k(13,"img",11),f()()(),h(14,"app-modal",12),O("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),k(15,"router-outlet")),t&2&&(y(),b("src",r.contact.img?r.contact.img:"../../../assets/images/contact.png",ut)("ngClass",ar(9,AV,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),y(2),b("ngClass",ms(12,qS,r.isLongName)),y(),pe(" ",r.contact.name," "),y(),b("ngClass",ms(14,qS,r.isLongName)),y(),pe(" ",r.contact.lastName," "),y(4),b("routerLink",ms(16,NV,r.contact._id)),y(4),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[ur,Bn,wn,zs,It],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 70px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0 auto;font-size:1.25rem;color:#1c284e;cursor:pointer;font-weight:700;text-align:center;min-width:100px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem;min-width:unset}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]})}});function RV(n,e){if(n&1){let t=Y();h(0,"contact-preview",2),O("remove",function(){let i=L(t).$implicit,o=S();return V(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;b("contact",t)}}var Cf,GS=p(()=>{"use strict";T();it();we();T();it();Oe();WS();Cf=class n{constructor(e){this.router=e}contacts;remove=new se;destroy$=new me;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof tn)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=ee({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(h(0,"section",0),N(1,RV,1,1,"contact-preview",1),f()),t&2&&(y(),b("ngForOf",r.contacts))},dependencies:[dr,_f],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function VV(){let n=lr()?lr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function xi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function iI(n){return n!=null&&typeof n.length=="number"}function BV(n){return e=>{if(xi(e.value)||xi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function $V(n){return e=>{if(xi(e.value)||xi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function oI(n){return xi(n.value)?{required:!0}:null}function HV(n){return n.value===!0?null:{required:!0}}function zV(n){return xi(n.value)||UV.test(n.value)?null:{email:!0}}function sI(n){return e=>xi(e.value)||!iI(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function qV(n){return e=>iI(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function WV(n){if(!n)return wf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function wf(n){return null}function aI(n){return n!=null}function cI(n){return di(n)?q(n):n}function lI(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function uI(n,e){return e.map(t=>t(n))}function GV(n){return!n.validate}function dI(n){return n.map(e=>GV(e)?e:t=>e.validate(t))}function fI(n){if(!n)return null;let e=n.filter(aI);return e.length==0?null:function(t){return lI(uI(t,e))}}function Uy(n){return n!=null?fI(dI(n)):null}function hI(n){if(!n)return null;let e=n.filter(aI);return e.length==0?null:function(t){let r=uI(t,e).map(cI);return Ep(r).pipe(j(lI))}}function By(n){return n!=null?hI(dI(n)):null}function KS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pI(n){return n._rawValidators}function gI(n){return n._rawAsyncValidators}function ky(n){return n?Array.isArray(n)?n:[n]:[]}function Ef(n,e){return Array.isArray(n)?n.includes(e):n===e}function YS(n,e){let t=ky(e);return ky(n).forEach(i=>{Ef(t,i)||t.push(i)}),t}function QS(n,e){return ky(e).filter(t=>!Ef(n,t))}function $y(n){return(Tf(n)?n.validators:n)||null}function YV(n){return Array.isArray(n)?Uy(n):n||null}function Hy(n,e){return(Tf(e)?e.asyncValidators:n)||null}function QV(n){return Array.isArray(n)?By(n):n||null}function Tf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function mI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")}function vI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new M(1002,"")})}function yI(n,e){return[...e.path,n]}function If(n,e,t=Pf){zy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),JV(n,e),ej(n,e),XV(n,e),ZV(n,e)}function ZS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Of(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function zy(n,e){let t=pI(n);e.validator!==null?n.setValidators(KS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=gI(n);e.asyncValidator!==null?n.setAsyncValidators(KS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();xf(e._rawValidators,i),xf(e._rawAsyncValidators,i)}function Of(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=pI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=gI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return xf(e._rawValidators,r),xf(e._rawAsyncValidators,r),t}function JV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&_I(n,e)})}function XV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&_I(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function _I(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ej(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function CI(n,e){n==null,zy(n,e)}function tj(n,e){return Of(n,e)}function bI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function nj(n){return Object.getPrototypeOf(n.constructor)===jy}function wI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EI(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Mn?t=o:nj(o)?r=o:i=o}),i||r||t||null}function rj(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function MI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function uj(n){return n.split(":")[0]}function tI(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function fj(n){return n.split(":")[0]}function hj(n){return typeof n=="number"?n:parseInt(n,10)}function nI(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var rI,jy,kc,LV,jV,Mn,Sn,Ys,UV,qn,Df,Br,vo,Mf,KV,wZ,pr,Qs,xc,bf,qs,Oc,Oi,Sf,Pc,Ac,Ws,Ry,Fy,Gs,Ks,Ly,Rc,Pf,ij,Tc,Fc,Nc,oj,sj,eI,$r,Zs,DI,aj,qy,cj,Wy,lj,Af,SI,dj,II,xI,OI,pj,Gy,gj,Ky,TI,Vy,PI,AI,NI,rn=p(()=>{"use strict";T();T();Oe();we();Xr();rI=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ln),D(mt))}}static{this.\u0275dir=ue({type:n})}}return n})(),jy=(()=>{class n extends rI{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=ue({type:n,features:[$t]})}}return n})(),kc=new R(""),LV={provide:kc,useExisting:hn(()=>Mn),multi:!0};jV=new R(""),Mn=(()=>{class n extends rI{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!VV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Ln),D(mt),D(jV,8))}}static{this.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&O("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Xe([LV]),$t]})}}return n})();Sn=new R(""),Ys=new R(""),UV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qn=class{static min(e){return BV(e)}static max(e){return $V(e)}static required(e){return oI(e)}static requiredTrue(e){return HV(e)}static email(e){return zV(e)}static minLength(e){return sI(e)}static maxLength(e){return qV(e)}static pattern(e){return WV(e)}static nullValidator(e){return wf(e)}static compose(e){return fI(e)}static composeAsync(e){return hI(e)}};Df=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=By(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Br=class extends Df{get formDirective(){return null}get path(){return null}},vo=class extends Df{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Mf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wZ=$(E({},KV),{"[class.ng-submitted]":"isSubmitted"}),pr=(()=>{class n extends Mf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(vo,2))}}static{this.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ed("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$t]})}}return n})(),Qs=(()=>{class n extends Mf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Br,10))}}static{this.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ed("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$t]})}}return n})(),xc="VALID",bf="INVALID",qs="PENDING",Oc="DISABLED",Oi=class{},Sf=class extends Oi{constructor(e,t){super(),this.value=e,this.source=t}},Pc=class extends Oi{constructor(e,t){super(),this.pristine=e,this.source=t}},Ac=class extends Oi{constructor(e,t){super(),this.touched=e,this.source=t}},Ws=class extends Oi{constructor(e,t){super(),this.status=e,this.source=t}},Ry=class extends Oi{constructor(e){super(),this.source=e}},Fy=class extends Oi{constructor(e){super(),this.source=e}};Gs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ao(()=>this.statusReactive()),this.statusReactive=so(void 0),this._pristine=ao(()=>this.pristineReactive()),this.pristineReactive=so(!0),this._touched=ao(()=>this.touchedReactive()),this.touchedReactive=so(!1),this._events=new me,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Zt(this.statusReactive)}set status(e){Zt(()=>this.statusReactive.set(e))}get valid(){return this.status===xc}get invalid(){return this.status===bf}get pending(){return this.status==qs}get disabled(){return this.status===Oc}get enabled(){return this.status!==Oc}get pristine(){return Zt(this.pristineReactive)}set pristine(e){Zt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Zt(this.touchedReactive)}set touched(e){Zt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QS(e,this._rawAsyncValidators))}hasValidator(e){return Ef(this._rawValidators,e)}hasAsyncValidator(e){return Ef(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ac(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ac(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Pc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Pc(!0,r))}markAsPending(e={}){this.status=qs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ws(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this.errors=null,this._forEachChild(i=>{i.disable($(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,r)),this._events.next(new Ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xc,this._forEachChild(r=>{r.enable($(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xc||this.status===qs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,t)),this._events.next(new Ws(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oc:xc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=cI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ws(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Oc:this.errors?bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(bf)?bf:xc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Pc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ac(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=YV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QV(this._rawAsyncValidators)}},Ks=class extends Gs{constructor(e,t,r){super($y(t),Hy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vI(this,!0,e),Object.keys(e).forEach(r=>{mI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Ly=class extends Ks{},Rc=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Pf}),Pf="always";ij={provide:Br,useExisting:hn(()=>Fc)},Tc=Promise.resolve(),Fc=(()=>{class n extends Br{get submitted(){return Zt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ao(()=>this.submittedReactive()),this.submittedReactive=so(!1),this._directives=new Set,this.ngSubmit=new se,this.form=new Ks({},Uy(t),By(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),If(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tc.then(()=>{let r=this._findContainer(t.path),i=new Ks({});CI(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),wI(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Sn,10),D(Ys,10),D(Rc,8))}}static{this.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xe([ij]),$t]})}}return n})();Nc=class extends Gs{constructor(e=null,t,r){super($y(t),Hy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(XS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){XS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},oj=n=>n instanceof Nc,sj={provide:vo,useExisting:hn(()=>$r)},eI=Promise.resolve(),$r=(()=>{class n extends vo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Nc,this._registered=!1,this.name="",this.update=new se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),bI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){If(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){eI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&fi(r);eI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?yI(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Br,9),D(Sn,10),D(Ys,10),D(kc,10),D(Or,8),D(Rc,8))}}static{this.\u0275dir=ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xe([sj]),$t,Fn]})}}return n})(),Zs=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),DI=new R(""),aj={provide:Br,useExisting:hn(()=>qy)},qy=(()=>{class n extends Br{get submitted(){return Zt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ao(()=>this._submittedReactive()),this._submittedReactive=so(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Of(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return If(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ZS(t.control||null,t,!1),rj(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),wI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ry(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Fy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ZS(r||null,t),oj(i)&&(If(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);CI(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&tj(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zy(this.form,this),this._oldForm&&Of(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(Sn,10),D(Ys,10),D(Rc,8))}}static{this.\u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&O("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xe([aj]),$t,Fn]})}}return n})(),cj={provide:vo,useExisting:hn(()=>Wy)},Wy=(()=>{class n extends vo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=EI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),bI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return yI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Br,13),D(Sn,10),D(Ys,10),D(kc,10),D(DI,8))}}static{this.\u0275dir=ue({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xe([cj]),$t,Fn]})}}return n})(),lj={provide:kc,useExisting:hn(()=>Af),multi:!0};Af=(()=>{class n extends jy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=MI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=uj(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xe([lj]),$t]})}}return n})(),SI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(MI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(mt),D(Ln),D(Af,9))}}static{this.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),dj={provide:kc,useExisting:hn(()=>II),multi:!0};II=(()=>{class n extends jy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=fj(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&O("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xe([dj]),$t]})}}return n})(),xI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(tI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(tI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(mt),D(Ln),D(II,9))}}static{this.\u0275dir=ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();OI=(()=>{class n{constructor(){this._validator=wf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):wf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ue({type:n,features:[Fn]})}}return n})(),pj={provide:Sn,useExisting:hn(()=>Gy),multi:!0},Gy=(()=>{class n extends OI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fi,this.createValidator=t=>oI}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&fs("required",i._enabled?"":null)},inputs:{required:"required"},features:[Xe([pj]),$t]})}}return n})(),gj={provide:Sn,useExisting:hn(()=>Ky),multi:!0},Ky=(()=>{class n extends OI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>hj(t),this.createValidator=t=>sI(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(n)))(i||n)}})()}static{this.\u0275dir=ue({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&fs("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Xe([gj]),$t]})}}return n})(),TI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({})}}return n})(),Vy=class extends Gs{constructor(e,t,r){super($y(t),Hy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vI(this,!1,e),e.forEach((r,i)=>{mI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};PI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return nI(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ks(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Ly(i,r)}control(t,r,i){let o={};return this.useNonNullable?(nI(r)?o=r:(o.validators=r,o.asyncValidators=i),new Nc(t,$(E({},o),{nonNullable:!0}))):new Nc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Vy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Nc)return t;if(t instanceof Gs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),AI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rc,useValue:t.callSetDisabledState??Pf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({imports:[TI]})}}return n})(),NI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:DI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Rc,useValue:t.callSetDisabledState??Pf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({imports:[TI]})}}return n})()});function mj(n,e){if(n&1){let t=Y();h(0,"button",4),O("click",function(){L(t);let i=S();return V(i.onClearFilter())}),v(1," \u2716 "),f()}}var Nf,kI=p(()=>{"use strict";T();we();Us();Ur();T();Oe();rn();Nf=class n{contactService=_(vt);filterBy;filterSubject$=new me;destroyRef=_(kt);ngOnInit(){this.contactService.filterBy$.pipe(qt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Cr(),qt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),yn("ngModelChange",function(o){return Vn(r.filterBy.name,o)||(r.filterBy.name=o),o}),O("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,mj,2,0,"button",3),f()()),t&2&&(y(2),vn("ngModel",r.filterBy.name),y(),b("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[Ie,Mn,pr,$r],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var kf,RI=p(()=>{"use strict";T();Us();Ur();T();it();GS();kI();Oe();kf=class n{contactService=_(vt);contacts$;destroyRef=_(kt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(qt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"contact-filter"),k(2,"input",1),f(),h(3,"button",2),k(4,"img",3),h(5,"span"),v(6,"Add Contact"),f()(),h(7,"contact-list",4),Rt(8,"async"),O("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(y(7),b("contacts",Ht(8,1,r.contacts$)))},dependencies:[wn,Cf,Nf,zt],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});function _j(n,e){if(n&1&&(h(0,"p")(1,"strong"),v(2,"Last Name:"),f(),v(3),f()),n&2){let t=S().ngIf;y(3),pe(" ",t.lastName,"")}}function Cj(n,e){if(n&1){let t=Y();h(0,"section",2),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.onBack())}),h(1,"section",3)(2,"button",4),O("click",function(){L(t);let i=S();return V(i.onBack())}),k(3,"img",5),f(),h(4,"h1"),v(5,"Contact Details"),f()(),h(6,"div",6),k(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),v(11,"Name:"),f(),v(12),f(),N(13,_j,4,1,"p",9),h(14,"p")(15,"strong"),v(16,"Phone:"),f(),v(17),f(),h(18,"p")(19,"strong"),v(20,"Email:"),f(),v(21),f(),h(22,"p")(23,"strong"),v(24,"Birthday:"),f(),v(25),Rt(26,"date"),f()()()}if(n&2){let t=e.ngIf;y(7),b("src",t.img?t.img:"../../../assets/images/contact.png",ut)("ngClass",ar(10,yj,t.imageSize||"medium",t.imageShape||"circle")),y(5),pe(" ",t.name,""),y(),b("ngIf",t.lastName),y(4),pe(" ",t.phone,""),y(4),pe(" ",t.email,""),y(4),pe(" ",oD(26,7,t.birthday,"longDate"),"")}}var yj,Rf,FI=p(()=>{"use strict";T();we();it();T();Oe();it();Ii();Hs();yj=(n,e)=>[n,e];Rf=class n{router=_(Te);route=_(Lt);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&$(E({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(k(0,"div",0),N(1,Cj,27,13,"section",1),Rt(2,"async"),k(3,"router-outlet")),t&2&&(y(),b("ngIf",Ht(2,1,r.contact$)))},dependencies:[ur,Ie,Bn,It,Dn,zt,Cs],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var Ti,Ff=p(()=>{"use strict";we();T();Ti=class n{isLoadingSubject=new de(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Yy,LI=p(()=>{"use strict";T();Ur();we();Ff();Yy=(n,e)=>{let t=n.params.id,r=_(Ti),i=_(vt);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getById(t).pipe(un(250),fe(o=>(console.error("Error fetching contact:",o),F(null))),Gt(()=>r.hide()))}});var Xs,Qy=p(()=>{"use strict";T();T();Jd();rn();Xs=class n{constructor(e){this.cloudinaryService=e}imageUploaded=new se;uploadError=new se;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedFile=t.files[0])}onUpload(){this.selectedFile&&(this.isLoading=!0,this.cloudinaryService.uploadImage(this.selectedFile).subscribe({next:e=>{console.log("Uploaded image URL:",e),this.imageUploaded.emit(e),this.isLoading=!1},error:e=>{console.error("Error uploading the image:",e),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1}}))}static \u0275fac=function(t){return new(t||n)(D(Ci))};static \u0275cmp=ee({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:2,consts:[[3,"submit"],["type","file",3,"change"],["type","submit",3,"disabled"]],template:function(t,r){t&1&&(h(0,"form",0),O("submit",function(){return r.onUpload()}),h(1,"label")(2,"input",1),O("change",function(o){return r.onFileSelect(o)}),f()(),h(3,"button",2),v(4),f()()),t&2&&(y(3),b("disabled",r.isLoading||!r.selectedFile),y(),pe(" ",r.isLoading?"Uploading...":"Upload Image"," "))},dependencies:[Zs,Qs,Fc],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-upload[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.image-upload[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1rem;max-width:300px;border-radius:8px;box-shadow:0 2px 4px #0000001a}"]})}});function wj(n,e){if(n&1){let t=Y();h(0,"button",35),O("click",function(){L(t);let i=S(2);return V(i.onDeleteClick())}),k(1,"img",36),f()}}function Ej(n,e){if(n&1&&k(0,"img",37),n&2){let t=S(2);b("src",t.contact.img,ut)("ngClass",ar(2,Zy,t.selectedImageSize,t.selectedImageShape))}}function Dj(n,e){if(n&1){let t=Y();h(0,"div",39),O("click",function(){L(t);let i=S(3);return V(i.toggleImageUpload())}),v(1),f()}if(n&2){let t,r=S(3);b("ngClass",ar(2,Zy,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),y(),pe(" ",r.getInitials(r.contact.name)," ")}}function Mj(n,e){if(n&1){let t=Y();h(0,"img",40),O("click",function(){L(t);let i=S(3);return V(i.toggleImageUpload())}),f()}if(n&2){let t,r=S(3);b("ngClass",ar(1,Zy,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function Sj(n,e){if(n&1&&N(0,Dj,2,5,"div",38)(1,Mj,1,4,"ng-template",null,1,cr),n&2){let t=Et(2),r=S(2);b("ngIf",r.contact.name)("ngIfElse",t)}}function Ij(n,e){if(n&1){let t=Y();h(0,"div",41)(1,"image-upload",42),O("imageUploaded",function(i){L(t);let o=S(2);return V(o.onImageUploaded(i))})("uploadError",function(i){L(t);let o=S(2);return V(o.onUploadError(i))}),f()()}}function xj(n,e){if(n&1&&(h(0,"option",43),v(1),f()),n&2){let t=e.$implicit;b("value",t.value),y(),pe("",t.label," ")}}function Oj(n,e){if(n&1&&(h(0,"option",43),v(1),f()),n&2){let t=e.$implicit;b("value",t.value),y(),pe("",t.label," ")}}function Tj(n,e){n&1&&(h(0,"span"),v(1,"Name is required!"),f())}function Pj(n,e){n&1&&(h(0,"span"),v(1,"Name must be at least 3 characters long!"),f())}function Aj(n,e){if(n&1&&(h(0,"p",45),N(1,Tj,2,0,"span",24)(2,Pj,2,0,"span",24),f()),n&2){let t=S().ngIf;y(),b("ngIf",t.errors.required),y(),b("ngIf",t.errors.minlength)}}function Nj(n,e){if(n&1&&(bt(0),N(1,Aj,3,2,"p",44),wt()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function kj(n,e){n&1&&(h(0,"div",21)(1,"label",46),v(2,"Last Name"),f(),k(3,"input",47),f())}function Rj(n,e){n&1&&(h(0,"span"),v(1,"Last name is required!"),f())}function Fj(n,e){n&1&&(h(0,"span"),v(1,"Last name must be at least 3 characters long!"),f())}function Lj(n,e){if(n&1&&(h(0,"p",45),N(1,Rj,2,0,"span",24)(2,Fj,2,0,"span",24),f()),n&2){let t=S().ngIf;y(),b("ngIf",t.errors.required),y(),b("ngIf",t.errors.minlength)}}function Vj(n,e){if(n&1&&(bt(0),N(1,Lj,3,2,"p",44),wt()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function jj(n,e){n&1&&(h(0,"span"),v(1,"Phone number is required!"),f())}function Uj(n,e){n&1&&(h(0,"span"),v(1,"Phone number is not valid!"),f())}function Bj(n,e){if(n&1&&(h(0,"p",45),N(1,jj,2,0,"span",24)(2,Uj,2,0,"span",24),f()),n&2){let t=S().ngIf;y(),b("ngIf",t.errors.required),y(),b("ngIf",t.errors.pattern)}}function $j(n,e){if(n&1&&(bt(0),N(1,Bj,3,2,"p",44),wt()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function Hj(n,e){n&1&&(h(0,"span"),v(1,"Email is required!"),f())}function zj(n,e){n&1&&(h(0,"span"),v(1,"Email is not valid!"),f())}function qj(n,e){if(n&1&&(h(0,"p",45),N(1,Hj,2,0,"span",24)(2,zj,2,0,"span",24),f()),n&2){let t=S().ngIf;y(),b("ngIf",t.errors.required),y(),b("ngIf",t.errors.email)}}function Wj(n,e){if(n&1&&(bt(0),N(1,qj,3,2,"p",44),wt()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function Gj(n,e){n&1&&(h(0,"span"),v(1,"Birth date is required!"),f())}function Kj(n,e){if(n&1&&(h(0,"p",45),N(1,Gj,2,0,"span",24),f()),n&2){let t=S().ngIf;y(),b("ngIf",t.errors.required)}}function Yj(n,e){if(n&1&&(bt(0),N(1,Kj,2,1,"p",44),wt()),n&2){let t=e.ngIf;y(),b("ngIf",t.errors&&t.touched)}}function Qj(n,e){if(n&1){let t=Y();h(0,"div",48)(1,"label",49)(2,"input",50),O("change",function(i){L(t);let o=S(2);return V(o.onToggleLastName(i))}),f(),k(3,"span",51),f(),h(4,"span",52),v(5,"Add Last Name"),f()()}if(n&2){let t=S(2);y(2),b("checked",t.IsLastName||t.contact.lastName)}}function Zj(n,e){if(n&1){let t=Y();h(0,"div",4)(1,"section",5),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.onBack())}),h(2,"section",6)(3,"a",7),k(4,"img",8),f(),N(5,wj,2,0,"button",9),f(),h(6,"form",10),O("ngSubmit",function(){L(t);let i=S();return V(i.onSaveContact())}),h(7,"h2"),v(8),f(),h(9,"div",11),N(10,Ej,1,5,"img",12)(11,Sj,3,2,"ng-template",null,0,cr)(13,Ij,2,0,"div",13),f(),h(14,"div",14)(15,"label",15),v(16,"Size:"),f(),h(17,"select",16),O("change",function(i){L(t);let o=S();return V(o.onImageSizeChange(i))}),N(18,xj,2,2,"option",17),f(),h(19,"label",18),v(20,"Shape:"),f(),h(21,"select",19),O("change",function(i){L(t);let o=S();return V(o.onImageShapeChange(i))}),N(22,Oj,2,2,"option",17),f()(),h(23,"div",20)(24,"div",21)(25,"label",22),v(26,"Name"),f(),k(27,"input",23),f(),N(28,Nj,2,1,"ng-container",24)(29,kj,4,0,"div",25)(30,Vj,2,1,"ng-container",24),h(31,"div",21)(32,"label",26),v(33,"Phone"),f(),k(34,"input",27),f(),N(35,$j,2,1,"ng-container",24),h(36,"div",21)(37,"label",28),v(38,"Email"),f(),k(39,"input",29),f(),N(40,Wj,2,1,"ng-container",24),h(41,"div",21)(42,"label",30),v(43,"Birth"),f(),k(44,"input",31),f(),N(45,Yj,2,1,"ng-container",24),h(46,"div",32),N(47,Qj,6,1,"div",33),h(48,"button",34),v(49," Save "),f()()()()()()}if(n&2){let t=Et(12),r=S();y(5),b("ngIf",r.contact._id),y(),b("formGroup",r.form),y(2),pe("",r.contact._id?"Edit":"Add"," Contact"),y(2),b("ngIf",r.contact.img)("ngIfElse",t),y(3),b("ngIf",r.showImageUpload),y(5),b("ngForOf",r.imageSizeOptions)("ngForTrackBy",r.trackByFn),y(4),b("ngForOf",r.imageShapeOptions)("ngForTrackBy",r.trackByFn),y(6),b("ngIf",r.form.controls.name),y(),b("ngIf",r.IsLastName||r.contact.lastName),y(),b("ngIf",r.form.controls.lastName),y(5),b("ngIf",r.form.controls.phone),y(5),b("ngIf",r.form.controls.email),y(5),b("ngIf",r.form.controls.birth),y(2),b("ngIf",!r.contact.lastName),y(),b("disabled",r.form.invalid)}}var Zy,Lc,jI=p(()=>{"use strict";T();Ur();it();we();rn();Oe();T();rn();Oe();Si();it();Ny();Ii();Hs();Qy();Zy=(n,e)=>[n,e];Lc=class n{constructor(e,t,r){this.fb=e;this.datePipe=t;this.msgService=r}IsLastName=!1;showImageUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new me;contactService=_(vt);contact=this.contactService.getEmptyContact();router=_(Te);route=_(Lt);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[qn.required,qn.minLength(3)]],lastName:[e?this.contact.lastName:"",[qn.minLength(3)]],phone:[e?this.contact.phone:"",[qn.required,qn.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[qn.required,qn.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date),[qn.required]],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(dn(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(dn(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Ne(t=>!!t),dn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue($(E({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(dn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=E({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(dn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}static \u0275fac=function(t){return new(t||n)(D(PI),D(Cs),D(St))};static \u0275cmp=ee({type:n,selectors:[["contact-edit"]],features:[Xe([Cs])],decls:3,vars:3,consts:[["fallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","form-input",4,"ngIf"],["for","phone"],["formControlName","phone","placeholder","Phone number","id","phone"],["for","email"],["formControlName","email","placeholder","Contact Email","id","email"],["for","birthday"],["type","date","formControlName","birth","id","birthday"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/contact.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],["for","lastName"],["formControlName","lastName","placeholder","Contact Last Name","id","lastName"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(N(0,Zj,50,18,"div",2),h(1,"section")(2,"app-modal",3),O("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(b("ngIf",r.contact),y(2),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[ur,dr,Ie,wn,Zs,SI,xI,Mn,Af,pr,Qs,qy,Wy,zs,It,Dn,Xs],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:25em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px;margin-top:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:180px!important;height:100px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:180px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:160px;font-size:13px}}']})}});function UI(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function BI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(xp(200),Cr(),ke(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function $I(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Lf=p(()=>{"use strict";we();Ur()});var Vf,HI=p(()=>{"use strict";rn();Lf();T();Vf=class n{validate(e){return UI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","appEmailValidator",""]],features:[Xe([{provide:Sn,useExisting:n,multi:!0}])]})}});var jf,zI=p(()=>{"use strict";rn();Lf();T();Mt();jf=class n{constructor(e){this.userService=e}validate(e){return BI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275dir=ue({type:n,selectors:[["","appEmailTaken",""]],features:[Xe([{provide:Ys,useExisting:n,multi:!0}])]})}});var Uf,qI=p(()=>{"use strict";rn();Lf();T();Uf=class n{validate(e){return $I()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","appPasswordValidator",""]],features:[Xe([{provide:Sn,useExisting:n,multi:!0}])]})}});var Bf,WI=p(()=>{"use strict";rn();T();Bf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ue({type:n,selectors:[["","appFullNameValidator",""]],features:[Xe([{provide:Sn,useExisting:n,multi:!0}])]})}});function rU(n,e){n&1&&(h(0,"span"),v(1,"Username is required."),f())}function iU(n,e){n&1&&(h(0,"span"),v(1," Username must be at least 3 characters long. "),f())}function oU(n,e){if(n&1&&(h(0,"div",14),N(1,rU,2,0,"span",11)(2,iU,2,0,"span",11),h(3,"span"),v(4,"Enter your full name (first name and last name)."),f()()),n&2){S();let t=Et(8);y(),b("ngIf",t.errors==null?null:t.errors.required),y(),b("ngIf",t.errors==null?null:t.errors.minlength)}}function sU(n,e){n&1&&(h(0,"span"),v(1,"Password is required."),f())}function aU(n,e){n&1&&(h(0,"span"),v(1,"Password must be at least 6 characters long."),f())}function cU(n,e){n&1&&(h(0,"span"),v(1,"Password must contain at least one capital letter."),f())}function lU(n,e){n&1&&(h(0,"span"),v(1,"Password must contain at least one special character."),f())}function uU(n,e){if(n&1&&(h(0,"div",14),N(1,sU,2,0,"span",11)(2,aU,2,0,"span",11)(3,cU,2,0,"span",11)(4,lU,2,0,"span",11),f()),n&2){S();let t=Et(14);y(),b("ngIf",t.errors==null?null:t.errors.required),y(),b("ngIf",t.errors==null?null:t.errors.minlength),y(),b("ngIf",t.errors==null?null:t.errors.noCapitalLetter),y(),b("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function dU(n,e){n&1&&(h(0,"span"),v(1,"Email is required."),f())}function fU(n,e){n&1&&(h(0,"span"),v(1,"Please enter a valid email address."),f())}function hU(n,e){n&1&&(h(0,"span"),v(1,"This email is already registered."),f())}function pU(n,e){if(n&1&&(h(0,"div",14),N(1,dU,2,0,"span",11)(2,fU,2,0,"span",11)(3,hU,2,0,"span",11),f()),n&2){S();let t=Et(4);y(),b("ngIf",t.errors==null?null:t.errors.required),y(),b("ngIf",t.errors==null?null:t.errors.email),y(),b("ngIf",t.errors==null?null:t.errors.emailTaken)}}function gU(n,e){n&1&&(h(0,"div",18),v(1," Checking email availability... "),f())}function mU(n,e){if(n&1){let t=Y();bt(0),h(1,"label",15),v(2,"Email:"),f(),h(3,"input",16,3),yn("ngModelChange",function(i){L(t);let o=S();return Vn(o.user.email,i)||(o.user.email=i),V(i)}),f(),N(5,pU,4,3,"div",8)(6,gU,2,0,"div",17),k(7,"br"),wt()}if(n&2){let t=Et(4),r=S();y(3),vn("ngModel",r.user.email),b("ngModelOptions",gs(5,nU))("ngModel",r.user.email),y(2),b("ngIf",t.touched&&t.invalid),y(),b("ngIf",t.pending)}}function vU(n,e){if(n&1&&(h(0,"p",14),v(1),f()),n&2){let t=S();y(),Dt(t.errorMessage)}}var nU,Vc,GI=p(()=>{"use strict";T();Mt();it();Si();Oe();rn();HI();zI();qI();WI();nU=()=>({updateOn:"change"});Vc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=$(E({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(St),D(Lt))};static \u0275cmp=ee({type:n,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=Y();h(0,"div",4)(1,"h4"),v(2),f(),h(3,"form",5,0),O("ngSubmit",function(){return L(i),V(r.onSubmit())}),h(5,"label",6),v(6,"Username:"),f(),h(7,"input",7,1),yn("ngModelChange",function(s){return L(i),Vn(r.user.username,s)||(r.user.username=s),V(s)}),f(),N(9,oU,5,2,"div",8),k(10,"br"),h(11,"label",9),v(12,"Password:"),f(),h(13,"input",10,2),yn("ngModelChange",function(s){return L(i),Vn(r.user.password,s)||(r.user.password=s),V(s)}),f(),N(15,uU,5,4,"div",8),k(16,"br"),N(17,mU,8,6,"ng-container",11),h(18,"button",12),v(19),f(),h(20,"p"),v(21),h(22,"a",13),O("click",function(s){return L(i),r.toggleMode(),V(s.preventDefault())}),v(23),f()(),k(24,"br"),f(),N(25,vU,2,1,"p",8),f()}if(t&2){let i=Et(4),o=Et(8),s=Et(14);y(2),Dt(r.isSignupMode?"Create an Account":"Sign In"),y(5),vn("ngModel",r.user.username),y(2),b("ngIf",o.touched&&o.invalid),y(4),vn("ngModel",r.user.password),y(2),b("ngIf",s.touched&&s.invalid),y(2),b("ngIf",r.isSignupMode),y(),b("disabled",i.invalid),y(),pe(" ",r.isSignupMode?"Sign Up":"Log In"," "),y(2),pe(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),y(2),pe(" ",r.isSignupMode?"Sign in here":"Create an account"," "),y(2),b("ngIf",r.errorMessage)}},dependencies:[Ie,Zs,Mn,pr,Qs,Gy,Ky,$r,Fc,Vf,jf,Uf,Bf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var yo,KI=p(()=>{"use strict";T();it();Mt();we();Si();yo=(n,e)=>{let t=_(Ce),r=_(Te),i=_(St);return t.loggedInUser$.pipe(un(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var $f,YI=p(()=>{"use strict";T();$f=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(h(0,"html",0)(1,"head"),k(2,"meta",1)(3,"meta",2),h(4,"title"),v(5,"Privacy Policy - My Accounts App"),f(),k(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),v(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),v(19,"Effective Date:"),f(),v(20," 07/02/2025"),f(),h(21,"p"),v(22,"Welcome to "),h(23,"strong"),v(24,"My Accounts App"),f(),v(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),v(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),v(31,"Personal Information:"),f(),v(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),v(35,"Usage Data:"),f(),v(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),v(39,"Device Information:"),f(),v(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),v(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),v(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),v(47,"Personalize your experience."),f(),h(48,"li"),v(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),v(51,"Comply with legal requirements."),f()(),h(52,"h2"),v(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),v(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),v(59,"Service Providers:"),f(),v(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),v(63,"Legal Authorities:"),f(),v(64," When required by law or to protect our rights."),f()(),h(65,"h2"),v(66,"4. Data Retention & Security"),f(),h(67,"p"),v(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),v(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),v(73,"Access and review your personal data."),f(),h(74,"li"),v(75,"Request correction or deletion of your information."),f(),h(76,"li"),v(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),v(79,"6. Third-Party Links"),f(),h(80,"p"),v(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),v(83,"7. Changes to This Policy"),f(),h(84,"p"),v(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),v(87,"8. Contact Us"),f(),h(88,"p"),v(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),v(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:180px!important;height:100px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:180px!important;border-radius:5px!important}"]})}});function _U(n,e){if(n&1){let t=Y();h(0,"user-list",6),O("remove",function(i){L(t);let o=S();return V(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;b("users",(t=r)!==null&&t!==void 0?t:gs(1,yU))}}function CU(n,e){if(n&1){let t=Y();h(0,"div",7),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),O("click",function(){L(t);let i=S();return V(i.closeChat("group"))}),v(3,"\xD7"),f(),k(4,"app-chat",10),f()()}n&2&&(y(4),b("chatType","group"))}function bU(n,e){if(n&1){let t=Y();h(0,"div",11)(1,"div",8)(2,"span",9),O("click",function(){L(t);let i=S();return V(i.closeChat("private"))}),v(3,"\xD7"),f(),k(4,"app-chat",10),f()()}n&2&&(y(4),b("chatType","private"))}var yU,Pi,Hf=p(()=>{"use strict";T();Us();we();Mt();Vs();T();yU=()=>[];Pi=class n{userService=_(Ce);socketService=_(En);users$;destroyRef=_(kt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new de(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(qt(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new de(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(qt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-index"]],decls:8,vars:5,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","chat-modal",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType"],[1,"chat-modal"]],template:function(t,r){t&1&&(h(0,"section",0),k(1,"user-filter",1),N(2,_U,1,2,"user-list",2),Rt(3,"async"),f(),h(4,"button",3),O("click",function(){return r.openChat("group")}),v(5,"Group Chat"),f(),N(6,CU,5,1,"div",4)(7,bU,5,1,"div",5)),t&2&&(y(2),b("ngIf",Ht(3,3,r.users$)),y(4),b("ngIf",r.isGroupChatOpen),y(),b("ngIf",r.isPrivateChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background-color:#007bff}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}.group-chat-btn[_ngcontent-%COMP%]{right:100px}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function EU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=S().ngIf;y(),Dt(t.username)}}function DU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=S().ngIf;y(),pe("",t.username.substring(0,15),"...")}}function MU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=S().ngIf;y(),Dt(t.email)}}function SU(n,e){if(n&1&&(h(0,"span"),v(1),f()),n&2){let t=S().ngIf;y(),pe("",t.email.substring(0,20),"...")}}function IU(n,e){if(n&1){let t=Y();h(0,"section",2)(1,"section",3)(2,"button",4),O("click",function(){L(t);let i=S();return V(i.onBack())}),k(3,"img",5),f(),h(4,"h1"),v(5,"User Details"),f()(),h(6,"div",6),k(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),v(11,"Username:"),f(),N(12,EU,2,1,"span",9)(13,DU,2,1,"span",9),f(),h(14,"p")(15,"strong"),v(16,"Email:"),f(),N(17,MU,2,1,"span",9)(18,SU,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=S();y(7),b("src",t.img?t.img:"../../../assets/images/contact.png",ut),y(5),b("ngIf",!r.isLongField(t.username,15)),y(),b("ngIf",r.isLongField(t.username,15)),y(4),b("ngIf",!r.isLongField(t.email,20)),y(),b("ngIf",r.isLongField(t.email,20))}}var zf,QI=p(()=>{"use strict";T();we();it();Mt();T();Oe();it();zf=class n{router=_(Te);route=_(Lt);subscription;userService=_(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0),O("click",function(){return r.onBack()}),f(),N(1,IU,19,5,"section",1),Rt(2,"async"),k(3,"router-outlet")),t&2&&(y(),b("ngIf",Ht(2,1,r.user$)))},dependencies:[Ie,Bn,zt],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var ZI,JI=p(()=>{"use strict";T();Mt();we();Ff();ZI=(n,e)=>{let t=n.params.id,r=_(Ti),i=_(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),F(null)):i.getUserById(t).pipe(un(250),fe(o=>(console.error("Error fetching user:",o),F(null))),Gt(()=>r.hide()))}});var xU,qf,XI=p(()=>{"use strict";it();HS();RI();FI();LI();jI();GI();KI();YI();Hf();QI();JI();T();xU=[{path:"contact",component:kf,canActivate:[yo],children:[{path:"edit",component:Lc,canActivate:[yo]},{path:"edit/:id",component:Lc,resolve:{contact:Yy},canActivate:[yo]}]},{path:"contact/:id",component:Rf,outlet:"modal",resolve:{contact:Yy},canActivate:[yo]},{path:"login",component:Vc},{path:"signup",component:Vc},{path:"privacy-policy",component:$f},{path:"users",component:Pi,canActivate:[yo]},{path:"user/:id",component:zf,outlet:"modal",resolve:{user:ZI},canActivate:[yo]},{path:"",component:vf}],qf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ke({type:n});static \u0275inj=Ge({imports:[ry.forRoot(xU,{useHash:!1}),ry]})}});function PU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function Gf(){try{return typeof indexedDB=="object"}catch{return!1}}function Kf(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function ix(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function LU(n,e){return n.replace(VU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function Yf(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(ex(o)&&ex(s)){if(!Yf(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function ex(n){return n!==null&&typeof n=="object"}function Qf(n){return n&&n._delegate?n._delegate:n}var tx,OU,nx,Jy,TU,Xy,rx,AU,NU,kU,RU,e_,Wf,FU,Hr,zr,VU,LX,ea=p(()=>{"use strict";tx=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[u],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Jy;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let C=l<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Jy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},TU=function(n){let e=tx(n);return nx.encodeByteArray(e,!0)},Xy=function(n){return TU(n).replace(/\./g,"")},rx=function(n){try{return nx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};AU=()=>PU().__FIREBASE_DEFAULTS__,NU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&rx(n[1]);return e&&JSON.parse(e)},RU=()=>{try{return AU()||NU()||kU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},e_=()=>{var n;return(n=RU())===null||n===void 0?void 0:n.config};Wf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};FU="FirebaseError",Hr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=FU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}},zr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?LU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Hr(i,a,r)}};VU=/\{\$([^}]+)}/g;LX=4*60*60*1e3;});function jU(n){return n===_o?void 0:n}function UU(n){return n.instantiationMode==="EAGER"}var on,_o,t_,Zf,Jf=p(()=>{"use strict";ea();on=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};_o="[DEFAULT]";t_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Wf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UU(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};Zf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new t_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var BU,Be,$U,HU,zU,qU,Xf,ox=p(()=>{"use strict";BU=[],Be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Be||{}),$U={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},HU=Be.INFO,zU={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},qU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=zU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xf=class{constructor(e){this.name=e,this._logLevel=HU,this._logHandler=qU,this._userLogHandler=null,BU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}});function GU(){return sx||(sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KU(){return ax||(ax=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function YU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Wn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&cx.set(t,n)}).catch(()=>{}),o_.set(e,n),e}function QU(n){if(r_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});r_.set(n,e)}function ux(n){i_=n(i_)}function ZU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(eh(this),e,...t);return lx.set(r,e.sort?e.sort():[e]),Wn(r)}:KU().includes(n)?function(...e){return n.apply(eh(this),e),Wn(cx.get(this))}:function(...e){return Wn(n.apply(eh(this),e))}}function JU(n){return typeof n=="function"?ZU(n):(n instanceof IDBTransaction&&QU(n),WU(n,GU())?new Proxy(n,i_):n)}function Wn(n){if(n instanceof IDBRequest)return YU(n);if(n_.has(n))return n_.get(n);let e=JU(n);return e!==n&&(n_.set(n,e),o_.set(e,n)),e}var WU,sx,ax,cx,r_,lx,n_,o_,i_,eh,s_=p(()=>{"use strict";WU=(n,e)=>e.some(t=>n instanceof t);cx=new WeakMap,r_=new WeakMap,lx=new WeakMap,n_=new WeakMap,o_=new WeakMap;i_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return r_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};eh=n=>o_.get(n)});function Co(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Wn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Wn(s.result),c.oldVersion,c.newVersion,Wn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function th(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Wn(t).then(()=>{})}function dx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(a_.get(e))return a_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=eB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XU.includes(t)))return;let o=function(s,...a){return x(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return a_.set(e,o),o}var XU,eB,a_,nh=p(()=>{"use strict";s_();s_();XU=["get","getKey","getAll","getAllKeys","count"],eB=["put","add","delete","clear"],a_=new Map;ux(n=>$(E({},n),{get:(e,t,r)=>dx(e,t)||n.get(e,t,r),has:(e,t)=>!!dx(e,t)||n.has(e,t)}))});function tB(n){let e=n.getComponent();return e?.type==="VERSION"}function hx(n,e){try{n.container.addComponent(e)}catch(t){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wr(n){let e=n.name;if(f_.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;f_.set(e,n);for(let t of rh.values())hx(t,n);for(let t of OB.values())hx(t,n);return!0}function Uc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function m_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:d_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(t||(t=e_()),!t)throw Ai.create("no-options");let o=rh.get(i);if(o){if(Yf(t,o.options)&&Yf(r,o.config))return o;throw Ai.create("duplicate-app",{appName:i})}let s=new Zf(i);for(let c of f_.values())s.addComponent(c);let a=new h_(t,r,s);return rh.set(i,a),a}function v_(n=d_){let e=rh.get(n);if(!e&&n===d_&&e_())return m_();if(!e)throw Ai.create("no-app",{appName:n});return e}function Gn(n,e,t){var r;let i=(r=xB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}Wr(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function vx(){return c_||(c_=Co(PB,AB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),c_}function NB(n){return x(this,null,function*(){try{let t=(yield vx()).transaction(jc),r=yield t.objectStore(jc).get(yx(n));return yield t.done,r}catch(e){if(e instanceof Hr)qr.warn(e.message);else{let t=Ai.create("idb-get",{originalErrorMessage:e?.message});qr.warn(t.message)}}})}function px(n,e){return x(this,null,function*(){try{let r=(yield vx()).transaction(jc,"readwrite");yield r.objectStore(jc).put(e,yx(n)),yield r.done}catch(t){if(t instanceof Hr)qr.warn(t.message);else{let r=Ai.create("idb-set",{originalErrorMessage:t?.message});qr.warn(r.message)}}})}function yx(n){return`${n.name}!${n.options.appId}`}function gx(){return new Date().toISOString().substring(0,10)}function LB(n,e=kB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mx(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),mx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function mx(n){return Xy(JSON.stringify({version:2,heartbeats:n})).length}function VB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function jB(n){Wr(new on("platform-logger",e=>new l_(e),"PRIVATE")),Wr(new on("heartbeat",e=>new p_(e),"PRIVATE")),Gn(u_,fx,n),Gn(u_,fx,"esm2017"),Gn("fire-js","")}var l_,u_,fx,qr,nB,rB,iB,oB,sB,aB,cB,lB,uB,dB,fB,hB,pB,gB,mB,vB,yB,_B,CB,bB,wB,EB,DB,MB,SB,IB,d_,xB,rh,OB,f_,TB,Ai,h_,PB,AB,jc,c_,kB,RB,p_,g_,Bc=p(()=>{"use strict";Jf();ox();ea();ea();nh();l_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};u_="@firebase/app",fx="0.11.0";qr=new Xf("@firebase/app"),nB="@firebase/app-compat",rB="@firebase/analytics-compat",iB="@firebase/analytics",oB="@firebase/app-check-compat",sB="@firebase/app-check",aB="@firebase/auth",cB="@firebase/auth-compat",lB="@firebase/database",uB="@firebase/data-connect",dB="@firebase/database-compat",fB="@firebase/functions",hB="@firebase/functions-compat",pB="@firebase/installations",gB="@firebase/installations-compat",mB="@firebase/messaging",vB="@firebase/messaging-compat",yB="@firebase/performance",_B="@firebase/performance-compat",CB="@firebase/remote-config",bB="@firebase/remote-config-compat",wB="@firebase/storage",EB="@firebase/storage-compat",DB="@firebase/firestore",MB="@firebase/vertexai",SB="@firebase/firestore-compat",IB="firebase";d_="[DEFAULT]",xB={[u_]:"fire-core",[nB]:"fire-core-compat",[iB]:"fire-analytics",[rB]:"fire-analytics-compat",[sB]:"fire-app-check",[oB]:"fire-app-check-compat",[aB]:"fire-auth",[cB]:"fire-auth-compat",[lB]:"fire-rtdb",[uB]:"fire-data-connect",[dB]:"fire-rtdb-compat",[fB]:"fire-fn",[hB]:"fire-fn-compat",[pB]:"fire-iid",[gB]:"fire-iid-compat",[mB]:"fire-fcm",[vB]:"fire-fcm-compat",[yB]:"fire-perf",[_B]:"fire-perf-compat",[CB]:"fire-rc",[bB]:"fire-rc-compat",[wB]:"fire-gcs",[EB]:"fire-gcs-compat",[DB]:"fire-fst",[SB]:"fire-fst-compat",[MB]:"fire-vertex","fire-js":"fire-js",[IB]:"fire-js-all"};rh=new Map,OB=new Map,f_=new Map;TB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new zr("app","Firebase",TB);h_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}};PB="firebase-heartbeat-database",AB=1,jc="firebase-heartbeat-store",c_=null;kB=1024,RB=30,p_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new g_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>RB){let s=VB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qr.warn(r)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=gx(),{heartbeatsToSend:r,unsentEntries:i}=LB(this._heartbeatsCache.heartbeats),o=Xy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qr.warn(t),""}})}};g_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return Gf()?Kf().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield NB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return px(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return px(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};jB("")});var UB,BB,_x=p(()=>{"use strict";Bc();Bc();UB="firebase",BB="11.3.0";Gn(UB,BB,"app")});function Sx(n){return n instanceof Hr&&n.code.includes("request-failed")}function Ix({projectId:n}){return`${$B}/projects/${n}/installations`}function xx(n){return{token:n.token,requestStatus:2,expiresIn:KB(n.expiresIn),creationTime:Date.now()}}function Ox(n,e){return x(this,null,function*(){let r=(yield e.json()).error;return wo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Tx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function GB(n,{refreshToken:e}){let t=Tx(n);return t.append("Authorization",YB(e)),t}function Px(n){return x(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function KB(n){return Number(n.replace("s","000"))}function YB(n){return`${Mx} ${n}`}function QB(r,i){return x(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=Ix(n),s=Tx(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:Mx,appId:n.appId,sdkVersion:Dx},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Px(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:xx(d.authToken)}}else throw yield Ox("Create Installation",u)})}function Ax(n){return new Promise(e=>{setTimeout(e,n)})}function ZB(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function XB(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=e$(n);return JB.test(t)?t:C_}catch{return C_}}function e$(n){return ZB(n).substr(0,22)}function oh(n){return`${n.appName}!${n.appId}`}function kx(n,e){let t=oh(n);Rx(t,e),t$(t,e)}function Rx(n,e){let t=Nx.get(n);if(t)for(let r of t)r(e)}function t$(n,e){let t=n$();t&&t.postMessage({key:n,fid:e}),r$()}function n$(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=n=>{Rx(n.data.key,n.data.fid)}),bo}function r$(){Nx.size===0&&bo&&(bo.close(),bo=null)}function w_(){return y_||(y_=Co(i$,o$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Eo)}}})),y_}function ih(n,e){return x(this,null,function*(){let t=oh(n),i=(yield w_()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&kx(n,e.fid),e})}function Fx(n){return x(this,null,function*(){let e=oh(n),r=(yield w_()).transaction(Eo,"readwrite");yield r.objectStore(Eo).delete(e),yield r.done})}function sh(n,e){return x(this,null,function*(){let t=oh(n),i=(yield w_()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&kx(n,a.fid),a})}function E_(n){return x(this,null,function*(){let e,t=yield sh(n.appConfig,r=>{let i=s$(r),o=a$(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===C_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function s$(n){let e=n||{fid:XB(),registrationStatus:0};return Lx(e)}function a$(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(wo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=c$(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:l$(n)}:{installationEntry:e}}function c$(n,e){return x(this,null,function*(){try{let t=yield QB(n,e);return ih(n.appConfig,t)}catch(t){throw Sx(t)&&t.customData.serverCode===409?yield Fx(n.appConfig):yield ih(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function l$(n){return x(this,null,function*(){let e=yield Cx(n.appConfig);for(;e.registrationStatus===1;)yield Ax(100),e=yield Cx(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield E_(n);return r||t}return e})}function Cx(n){return sh(n,e=>{if(!e)throw wo.create("installation-not-found");return Lx(e)})}function Lx(n){return u$(n)?{fid:n.fid,registrationStatus:0}:n}function u$(n){return n.registrationStatus===1&&n.registrationTime+Ex<Date.now()}function d$(r,i){return x(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=f$(n,t),s=GB(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:Dx,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Px(()=>fetch(o,l));if(u.ok){let d=yield u.json();return xx(d)}else throw yield Ox("Generate Auth Token",u)})}function f$(n,{fid:e}){return`${Ix(n)}/${e}/authTokens:generate`}function D_(n,e=!1){return x(this,null,function*(){let t,r=yield sh(n.appConfig,o=>{if(!Vx(o))throw wo.create("not-registered");let s=o.authToken;if(!e&&g$(s))return o;if(s.requestStatus===1)return t=h$(n,e),o;{if(!navigator.onLine)throw wo.create("app-offline");let a=v$(o);return t=p$(n,a),a}});return t?yield t:r.authToken})}function h$(n,e){return x(this,null,function*(){let t=yield bx(n.appConfig);for(;t.authToken.requestStatus===1;)yield Ax(100),t=yield bx(n.appConfig);let r=t.authToken;return r.requestStatus===0?D_(n,e):r})}function bx(n){return sh(n,e=>{if(!Vx(e))throw wo.create("not-registered");let t=e.authToken;return y$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function p$(n,e){return x(this,null,function*(){try{let t=yield d$(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield ih(n.appConfig,r),t}catch(t){if(Sx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield Fx(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ih(n.appConfig,r)}throw t}})}function Vx(n){return n!==void 0&&n.registrationStatus===2}function g$(n){return n.requestStatus===2&&!m$(n)}function m$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+HB}function v$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function y$(n){return n.requestStatus===1&&n.requestTime+Ex<Date.now()}function _$(n){return x(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield E_(e);return r?r.catch(console.error):D_(e).catch(console.error),t.fid})}function C$(n,e=!1){return x(this,null,function*(){let t=n;return yield b$(t),(yield D_(t,e)).token})}function b$(n){return x(this,null,function*(){let{registrationPromise:e}=yield E_(n);e&&(yield e)})}function w$(n){if(!n||!n.options)throw __("App Configuration");if(!n.name)throw __("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw __(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function __(n){return wo.create("missing-app-config-values",{valueName:n})}function S$(){Wr(new on(jx,D$,"PUBLIC")),Wr(new on(E$,M$,"PRIVATE"))}var wx,b_,Ex,Dx,Mx,$B,HB,zB,qB,WB,wo,JB,C_,Nx,bo,i$,o$,Eo,y_,jx,E$,D$,M$,Ux=p(()=>{"use strict";Bc();Jf();ea();nh();wx="@firebase/installations",b_="0.6.12";Ex=1e4,Dx=`w:${b_}`,Mx="FIS_v2",$B="https://firebaseinstallations.googleapis.com/v1",HB=60*60*1e3,zB="installations",qB="Installations";WB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wo=new zr(zB,qB,WB);JB=/^[cdef][\w-]{21}$/,C_="";Nx=new Map;bo=null;i$="firebase-installations-database",o$=1,Eo="firebase-installations-store",y_=null;jx="installations",E$="installations-internal",D$=n=>{let e=n.getProvider("app").getImmediate(),t=w$(e),r=Uc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},M$=n=>{let e=n.getProvider("app").getImmediate(),t=Uc(e,jx).getImmediate();return{getId:()=>_$(t),getToken:i=>C$(t,i)}};S$();Gn(wx,b_);Gn(wx,b_,"esm2017")});function Gr(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function N$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function R$(n){return x(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(M_))return null;let e=null;return(yield Co(M_,k$,{upgrade:(r,i,o,s)=>x(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains($x))return;let c=s.objectStore($x),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Gr(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gr(u.auth),p256dh:Gr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gr(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Gr(u.auth),p256dh:Gr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Gr(u.vapidKey)}}}}})})).close(),yield th(M_),yield th("fcm_vapid_details_db"),yield th("undefined"),F$(e)?e:null})}function F$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function Yx(){return S_||(S_=Co(L$,V$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore($c)}}})),S_}function j$(n){return x(this,null,function*(){let e=Qx(n),r=yield(yield Yx()).transaction($c).objectStore($c).get(e);if(r)return r;{let i=yield R$(n.appConfig.senderId);if(i)return yield O_(n,i),i}})}function O_(n,e){return x(this,null,function*(){let t=Qx(n),i=(yield Yx()).transaction($c,"readwrite");return yield i.objectStore($c).put(e,t),yield i.done,e})}function Qx({appConfig:n}){return n.appId}function B$(n,e){return x(this,null,function*(){let t=yield P_(n),r=Zx(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(T_(n.appConfig),i)).json()}catch(s){throw xt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw xt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw xt.create("token-subscribe-no-token");return o.token})}function $$(n,e){return x(this,null,function*(){let t=yield P_(n),r=Zx(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${T_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw xt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw xt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw xt.create("token-update-no-token");return o.token})}function H$(n,e){return x(this,null,function*(){let r={method:"DELETE",headers:yield P_(n)};try{let o=yield(yield fetch(`${T_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw xt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw xt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function T_({projectId:n}){return`${O$}/projects/${n}/registrations`}function P_(t){return x(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function Zx({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Gx&&(i.web.applicationPubKey=r),i}function q$(n){return x(this,null,function*(){let e=yield G$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Gr(e.getKey("auth")),p256dh:Gr(e.getKey("p256dh"))},r=yield j$(n.firebaseDependencies);if(r){if(K$(r.subscriptionOptions,t))return Date.now()>=r.createTime+z$?W$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield H$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Hx(n.firebaseDependencies,t)}else return Hx(n.firebaseDependencies,t)})}function W$(n,e){return x(this,null,function*(){try{let t=yield $$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield O_(n.firebaseDependencies,r),t}catch(t){throw t}})}function Hx(n,e){return x(this,null,function*(){let r={token:yield B$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield O_(n,r),r.token})}function G$(n,e){return x(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:N$(e)})})}function K$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function zx(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return Y$(e,n),Q$(e,n),Z$(e,n),e}function Y$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function Q$(n,e){e.data&&(n.data=e.data)}function Z$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function J$(n){return typeof n=="object"&&!!n&&Kx in n}function X$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function e3(n){if(!n||!n.options)throw I_("App Configuration Object");if(!n.name)throw I_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw I_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function I_(n){return xt.create("missing-app-config-values",{valueName:n})}function t3(n){return x(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(I$,{scope:x$}),n.swRegistration.update().catch(()=>{}),yield n3(n.swRegistration)}catch(e){throw xt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function n3(n){return x(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${Bx} ms`)),Bx),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function r3(n,e){return x(this,null,function*(){if(!e&&!n.swRegistration&&(yield t3(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw xt.create("invalid-sw-registration");n.swRegistration=e}})}function i3(n,e){return x(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Gx)})}function Jx(n,e){return x(this,null,function*(){if(!navigator)throw xt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw xt.create("permission-blocked");return yield i3(n,e?.vapidKey),yield r3(n,e?.serviceWorkerRegistration),q$(n)})}function o3(n,e,t){return x(this,null,function*(){let r=s3(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Kx],message_name:t[T$],message_time:t[P$],message_device_time:Math.floor(Date.now()/1e3)})})}function s3(n){switch(n){case ah.NOTIFICATION_CLICKED:return"notification_open";case ah.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function a3(n,e){return x(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ah.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(zx(t)):n.onMessageHandler.next(zx(t)));let r=t.data;J$(r)&&r[A$]==="1"&&(yield o3(n,t.messageType,r))})}function u3(){Wr(new on("messaging",c3,"PUBLIC")),Wr(new on("messaging-internal",l3,"PRIVATE")),Gn(qx,Wx),Gn(qx,Wx,"esm2017")}function d3(){return x(this,null,function*(){try{yield Kf()}catch{return!1}return typeof window<"u"&&Gf()&&ix()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function f3(n,e){if(!navigator)throw xt.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function Xx(n=v_()){return d3().then(e=>{if(!e)throw xt.create("unsupported-browser")},e=>{throw xt.create("indexed-db-unsupported")}),Uc(Qf(n),"messaging").getImmediate()}function eO(n,e){return x(this,null,function*(){return n=Qf(n),Jx(n,e)})}function tO(n,e){return n=Qf(n),f3(n,e)}var I$,x$,Gx,O$,Kx,T$,P$,A$,Bx,ah,M_,k$,$x,L$,V$,$c,S_,U$,xt,z$,x_,qx,Wx,c3,l3,nO=p(()=>{"use strict";Ux();Jf();nh();ea();Bc();I$="/firebase-messaging-sw.js",x$="/firebase-cloud-messaging-push-scope",Gx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",O$="https://fcmregistrations.googleapis.com/v1",Kx="google.c.a.c_id",T$="google.c.a.c_l",P$="google.c.a.ts",A$="google.c.a.e",Bx=1e4;ah=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(ah||{});M_="fcm_token_details_db",k$=5,$x="fcm_token_object_Store";L$="firebase-messaging-database",V$=1,$c="firebase-messaging-store",S_=null;U$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},xt=new zr("messaging","Messaging",U$);z$=7*24*60*60*1e3;X$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");x_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=e3(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};qx="@firebase/messaging",Wx="0.12.16";c3=n=>{let e=new x_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>a3(e,t)),e},l3=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>Jx(e,r)}};u3()});var rO=p(()=>{"use strict";nO()});function h3(n){return Hi(()=>rt(new Error(n)))}function p3(n,e,t,r){return()=>{if(!(Cd(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(_e),o=n.get(_n);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=F(null);break;case"registerWithDelay":s=oO(+c[0]||0);break;case"registerWhenStable":let l=q(n.get(_n).whenStable());s=c[0]?Ul(l,oO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function oO(n){return F(null).pipe(un(n))}function g3(n,e){return new ta(Cd(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function m3(n,e={}){return cs([ch,lh,{provide:iO,useValue:n},{provide:Hc,useValue:e},{provide:ta,useFactory:g3,deps:[Hc,Qt]},{provide:vs,useFactory:p3,deps:[Ze,iO,Hc,Qt],multi:!0}])}var zc,ta,ch,lh,iO,Hc,sO,A_=p(()=>{"use strict";T();T();Oe();we();Xr();zc="Service workers are disabled or not supported by this browser";ta=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=h3(zc);else{let r=Ho(e,"controllerchange").pipe(j(()=>e.controller)),i=Hi(()=>F(e.controller)),o=Jn(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(ke(()=>e.getRegistration()));let l=Ho(e,"message").pipe(j(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(Fp());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(be(1),te(r=>{r.postMessage(E({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),be(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},ch=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new me,!t.isEnabled){this.messages=zi,this.notificationClicks=zi,this.subscription=zi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(ke(i=>i.getSubscription()));this.subscription=Ul(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(zc));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(ke(s=>s.subscribe(r)),be(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(zc));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),ke(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(A(ta))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),lh=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=zi,this.unrecoverable=zi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(A(ta))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();iO=new R("");Hc=class{};sO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[m3(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:[ch,lh]})}}return n})()});var na,N_=p(()=>{"use strict";we();ac();T();A_();Fa();ra();na=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return x(this,null,function*(){try{let e=yield $i(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return x(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield $i(this.http.post(`${ht.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return x(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",{title:e.title,body:e.body});try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Sending notification to server");let r=yield $i(this.http.post(`${ht.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return x(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return x(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield $i(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return x(this,null,function*(){try{let e=yield $i(this.http.get(`${ht.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(A(ch),A(co),A(lh),A(In))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var _3,In,ra=p(()=>{"use strict";T();_x();rO();we();N_();Mt();T();_3={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},In=class n{messaging;fcmToken={};tokenSubject=new de(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=_(Ze);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=m_(_3);this.messaging=Xx(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(na)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return x(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return x(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return x(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield eO(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){tO(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return x(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var uh,cO=p(()=>{"use strict";T();uh=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var dh,lO=p(()=>{"use strict";T();ra();dh=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return x(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>x(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(A(In))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function b3(n,e){n&1&&(bt(0),h(1,"a",15),v(2,"Login"),f(),h(3,"a",16),v(4,"Sign Up"),f(),wt())}function w3(n,e){if(n&1&&(bt(0),k(1,"img",19),wt()),n&2){let t=S(2);y(),b("src",t.loggedInUser==null?null:t.loggedInUser.img,ut)}}function E3(n,e){if(n&1&&v(0),n&2){let t=S(2);pe(" ",t.getUserInitial()," ")}}function D3(n,e){if(n&1){let t=Y();h(0,"div",17),O("click",function(){L(t);let i=S();return V(i.toggleUpload=!i.toggleUpload)}),N(1,w3,2,1,"ng-container",13)(2,E3,1,1,"ng-template",null,1,cr),f(),h(4,"button",18),O("click",function(){L(t);let i=S();return V(i.onLogout())}),v(5,"Logout"),f()}if(n&2){let t=Et(3),r=S();y(),b("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function M3(n,e){if(n&1){let t=Y();h(0,"div")(1,"image-upload",20),O("imageUploaded",function(i){L(t);let o=S();return V(o.onImageUploaded(i))}),f()()}}var C3,fh,uO=p(()=>{"use strict";T();Mt();it();Si();Oe();Qy();C3=()=>({exact:!0});fh=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=$(E({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(St))};static \u0275cmp=ee({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(h(0,"header")(1,"div",2),k(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),k(6,"img",6),f(),h(7,"a",7),k(8,"img",8),f(),h(9,"a",9),k(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),N(13,b3,5,0,"ng-container",13)(14,D3,6,2,"ng-template",null,0,cr),f()(),N(16,M3,2,0,"div",14),f()),t&2){let i=Et(15);y(5),b("routerLinkActiveOptions",gs(4,C3)),y(8),b("ngIf",!r.loggedInUser)("ngIfElse",i),y(3),b("ngIf",r.toggleUpload)}},dependencies:[Ie,wn,HM,Xs],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function I3(n,e){n&1&&(h(0,"div",1),k(1,"div",2),f())}var hh,dO=p(()=>{"use strict";T();Ff();Oe();hh=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(Ti))};static \u0275cmp=ee({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(N(0,I3,2,0,"div",0),Rt(1,"async")),t&2&&b("ngIf",Ht(1,1,r.isLoading))},dependencies:[Ie,zt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function O3(n,e){if(n&1){let t=Y();h(0,"section")(1,"h4"),v(2),f(),h(3,"button",1),O("click",function(){L(t);let i=S();return V(i.onCloseMsg())}),v(4,"X"),f()()}if(n&2){let t=e.ngIf;QE("msg ",t.type,""),b("@toggleMsg",void 0),y(2),Dt(t.txt)}}var ph,fO=p(()=>{"use strict";we();mf();T();Si();Oe();ph=class n{constructor(e){this.msgService=e}msg$=F(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(St))};static \u0275cmp=ee({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(N(0,O3,5,5,"section",0),Rt(1,"async")),t&2&&b("ngIf",Ht(1,1,r.msg$))},dependencies:[Ie,zt],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[pf("toggleMsg",[Sc(":enter",[zn({transform:"translateY(-100%)"}),Mc("0.3s ease-in-out",zn({transform:"translateY(0%)"}))]),Sc(":leave",[zn({transform:"translateY(0%)"}),Mc("0.3s ease-in-out",zn({transform:"translateY(-100%)"}))])])]}})}});function P3(n,e){if(n&1){let t=Y();h(0,"button",4),O("click",function(){L(t);let i=S();return V(i.installPWA())}),v(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}var gh,hO=p(()=>{"use strict";T();we();Ur();ra();cO();lO();Mt();Vs();T();Oe();it();uO();dO();fO();gh=class n{title="MyAccounts";contactService=_(vt);firebaseService=_(In);pwaService=_(uh);notificationMobileService=_(dh);userService=_(Ce);socketService=_(En);subscription;idleTimer;idleTime=0;idleMaxTime=600;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){this.subscription=this.contactService.loadContacts().pipe(be(1)).subscribe({error:e=>console.log("err:",e)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>x(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let e=yield this.firebaseService.getFCMToken();e?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",e):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",e=>{e.data&&e.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",e.data.token),this.userService.restoreLoginToken(e.data.token)),e.data&&e.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let e=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-e<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(e=>{e&&console.log("\u{1F511} FCM Token received (on init):",e)}),this.firebaseService.getTokenObservable().subscribe(e=>{e&&console.log("\u{1F511} FCM Token received:",e)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(h(0,"main",0),k(1,"app-header"),h(2,"div",1),N(3,P3,2,0,"button",2),f(),k(4,"router-outlet")(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),k(8,"msg")),t&2&&(y(3),b("ngIf",r.showInstallButton))},dependencies:[Ie,Bn,fh,hh,ph],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:2em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function pO(n){return new M(3e3,!1)}function A3(){return new M(3100,!1)}function N3(){return new M(3101,!1)}function k3(n){return new M(3001,!1)}function R3(n){return new M(3003,!1)}function F3(n){return new M(3004,!1)}function L3(n,e){return new M(3005,!1)}function V3(){return new M(3006,!1)}function j3(){return new M(3007,!1)}function U3(n,e){return new M(3008,!1)}function B3(n){return new M(3002,!1)}function $3(n,e,t,r,i){return new M(3010,!1)}function H3(){return new M(3011,!1)}function z3(){return new M(3012,!1)}function q3(){return new M(3200,!1)}function W3(){return new M(3202,!1)}function G3(){return new M(3013,!1)}function K3(n){return new M(3014,!1)}function Y3(n){return new M(3015,!1)}function Q3(n){return new M(3016,!1)}function Z3(n,e){return new M(3404,!1)}function J3(n){return new M(3502,!1)}function X3(n){return new M(3503,!1)}function e4(){return new M(3300,!1)}function t4(n){return new M(3504,!1)}function n4(n){return new M(3301,!1)}function r4(n,e){return new M(3302,!1)}function i4(n){return new M(3303,!1)}function o4(n,e){return new M(3400,!1)}function s4(n){return new M(3401,!1)}function a4(n){return new M(3402,!1)}function c4(n,e){return new M(3505,!1)}function Ni(n){switch(n.length){case 0:return new Mi;case 1:return n[0];default:return new Dc(n)}}function xO(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let C=g,w=m;if(g!=="offset")switch(C=n.normalizePropertyName(C,i),w){case gf:w=t.get(g);break;case hr:w=r.get(g);break;default:w=n.normalizeStyleValue(g,C,w,i);break}d.set(C,w)}),u||o.push(d),a=d,s=l}),i.length)throw J3(i);return o}function n0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&k_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&k_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&k_(t,"destroy",n)));break}}function k_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=r0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function r0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function an(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function gO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function i0(n){let e=n.parentNode||n.host||null;return e===l4?null:e}function u4(n){return n.substring(1,6)=="ebkit"}function d4(n){Do||(Do=f4()||{},mO=Do.style?"WebkitAppearance"in Do.style:!1);let e=!0;return Do.style&&!u4(n)&&(e=n in Do.style,!e&&mO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Do.style)),e}function f4(){return typeof document<"u"?document.body:null}function OO(n,e){for(;e;){if(e===n)return!0;e=i0(e)}return!1}function TO(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Kr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$_(parseFloat(e[1]),e[2])}function $_(n,e){switch(e){case"s":return n*h4;default:return n}}function wh(n,e,t){return n.hasOwnProperty("duration")?n:g4(n,e,t)}function g4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(pO(n)),{duration:0,delay:0,easing:""};i=$_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=$_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(A3()),a=!0),o<0&&(e.push(N3()),a=!0),a&&e.splice(c,0,pO(n))}return{duration:i,delay:o,easing:s}}function m4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function gr(n,e,t){e.forEach((r,i)=>{let o=s0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function So(n,e){e.forEach((t,r)=>{let i=s0(r);n.style[i]=""})}function qc(n){return Array.isArray(n)?n.length==1?n[0]:BS(n):n}function v4(n,e,t){let r=e.params||{},i=NO(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(k3(o))})}function NO(n){let e=[];if(typeof n=="string"){let t;for(;t=H_.exec(n);)e.push(t[1]);H_.lastIndex=0}return e}function Gc(n,e,t){let r=`${n}`,i=r.replace(H_,(o,s)=>{let a=e[s];return a==null&&(t.push(R3(s)),a=""),a.toString()});return i==r?n:i}function s0(n){return n.replace(y4,(...e)=>e[1].toUpperCase())}function _4(n,e){return n===0||e===0}function C4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,a0(n,a)))}}return e}function sn(n,e,t){switch(e.type){case ne.Trigger:return n.visitTrigger(e,t);case ne.State:return n.visitState(e,t);case ne.Transition:return n.visitTransition(e,t);case ne.Sequence:return n.visitSequence(e,t);case ne.Group:return n.visitGroup(e,t);case ne.Animate:return n.visitAnimate(e,t);case ne.Keyframes:return n.visitKeyframes(e,t);case ne.Style:return n.visitStyle(e,t);case ne.Reference:return n.visitReference(e,t);case ne.AnimateChild:return n.visitAnimateChild(e,t);case ne.AnimateRef:return n.visitAnimateRef(e,t);case ne.Query:return n.visitQuery(e,t);case ne.Stagger:return n.visitStagger(e,t);default:throw F3(e.type)}}function a0(n,e){return window.getComputedStyle(n)[e]}function w4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>E4(r,t,e)):t.push(n),t}function E4(n,e,t){if(n[0]==":"){let c=D4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(Y3(n)),e;let i=r[1],o=r[2],s=r[3];e.push(yO(i,s));let a=i==Dh&&s==Dh;o[0]=="<"&&!a&&e.push(yO(s,i))}function D4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Q3(n)),"* => *"}}function yO(n,e){let t=vh.has(n)||yh.has(n),r=vh.has(e)||yh.has(e);return(i,o)=>{let s=n==Dh||n==i,a=e==Dh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?vh.has(n):yh.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?vh.has(e):yh.has(e)),s&&a}}function RO(n,e,t,r){return new z_(n).build(e,t,r)}function S4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==kO);return e&&(n=n.replace(M4,"")),n=n.replace(/@\*/g,bh).replace(/@\w+/g,t=>bh+"-"+t.slice(1)).replace(/:animating/g,B_),[n,e]}function I4(n){return n?E({},n):null}function x4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function O4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=wh(n,e).duration;return R_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=R_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=wh(t,e);return R_(i.duration,i.delay,i.easing)}function Mo(n){return n?(n=E({},n),n.params&&(n.params=I4(n.params))):n={},n}function R_(n,e,t){return{duration:n,delay:e,easing:t}}function c0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function FO(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new W_().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function CO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function R4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,hr)}else for(let[o,s]of i)t.set(o,s)}),t}function bO(n,e,t,r,i,o,s,a,c,l,u,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function F4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function LO(n,e){let t=E({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function L4(n,e,t){return new Q_(n,e,t)}function V4(n,e,t){let r=[(s,a)=>!0],i={type:ne.Sequence,steps:[],options:null},o={type:ne.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ih(n,o,e)}function wO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function W4(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function G4(n){return n??null}function _h(n){return n&&n.nodeType===1}function K4(n){return n=="start"||n=="done"}function DO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function MO(n,e,t,r,i){let o=[];t.forEach(c=>o.push(DO(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[Kn]=q4,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>DO(c,o[a++])),s}function SO(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function xn(n,e){n.classList?.add(e)}function ia(n,e){n.classList?.remove(e)}function Y4(n,e,t){Ni(t).onDone(()=>n.processLeaveNode(e))}function Q4(n){let e=[];return jO(n,e),e}function jO(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Dc?jO(r.players,e):e.push(r)}}function Z4(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function IO(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function J4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=j_(e[0]),e.length>1&&(r=j_(e[e.length-1]))):e instanceof Map&&(t=j_(e)),t||r?new e0(n,t,r):null}function j_(n){let e=null;return n.forEach((t,r)=>{X4(r)&&(e=e||new Map,e.set(r,t))}),e}function X4(n){return n==="display"||n==="position"}function e5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function t5(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var l4,Do,mO,o0,Io,xo,h4,PO,p4,AO,U_,mh,bh,vO,B_,H_,y4,b4,Eh,Dh,vh,yh,kO,M4,_O,z_,q_,Kc,T4,P4,A4,N4,k4,W_,Mh,G_,Sh,K_,F_,Ih,Y_,Q_,j4,Z_,EO,U4,L_,B4,$4,H4,z4,VO,q4,Kn,Yc,Wc,V_,J_,X_,Qc,oa,e0,xh,Oh,Ch,UO,Th,t0,Ph,l0=p(()=>{"use strict";mf();T();T();l4=typeof document>"u"?null:document.documentElement;Do=null,mO=!1;o0=(()=>{class n{validateStyleProperty(t){return d4(t)}containsElement(t,r){return OO(t,r)}getParentElement(t){return i0(t)}query(t,r,i){return TO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Mi(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Io=class{static{this.NOOP=new o0}},xo=class{},h4=1e3,PO="{{",p4="}}",AO="ng-enter",U_="ng-leave",mh="ng-trigger",bh=".ng-trigger",vO="ng-animating",B_=".ng-animating";H_=new RegExp(`${PO}\\s*(.+?)\\s*${p4}`,"g");y4=/-+([a-z0-9])/g;b4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Eh=class extends xo{normalizePropertyName(e,t){return s0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(b4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(L3(e,r))}return s+o}},Dh="*";vh=new Set(["true","1"]),yh=new Set(["false","0"]);kO=":self",M4=new RegExp(`s*${kO}s*,?`,"g");_O="",z_=class{constructor(e){this._driver=e}build(e,t,r){let i=new q_(t);return this._resetContextStyleTimingState(i),sn(this,qc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=_O,e.collectedStyles=new Map,e.collectedStyles.set(_O,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(V3()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ne.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ne.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(j3())}),{type:ne.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{NO(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(U3(e.name,[...o.values()]))}return{type:ne.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=sn(this,qc(e.animation),t),i=w4(e.expr,t.errors);return{type:ne.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Mo(e.options)}}visitSequence(e,t){return{type:ne.Sequence,steps:e.steps.map(r=>sn(this,r,t)),options:Mo(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=sn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ne.Group,steps:o,options:Mo(e.options)}}visitAnimate(e,t){let r=O4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:zn({});if(o.type==ne.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=zn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ne.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===hr?r.push(a):t.errors.push(B3(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(PO)>=0){o=!0;break}}}),{type:ne.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push($3(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&v4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ne.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(H3()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(B=>{let oe=this._makeStyleAst(B,t),K=oe.offset!=null?oe.offset:x4(oe.styles),he=0;return K!=null&&(o++,he=oe.offset=K),c=c||he<0||he>1,a=a||he<l,l=he,s.push(he),oe});c&&t.errors.push(z3()),a&&t.errors.push(q3());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(W3()):o==0&&(m=i/(d-1));let g=d-1,C=t.currentTime,w=t.currentAnimateTimings,P=w.duration;return u.forEach((B,oe)=>{let K=m>0?oe==g?1:m*oe:s[oe],he=K*P;t.currentTime=C+w.delay+he,w.duration=he,this._validateStyleAst(B,t),B.offset=K,r.styles.push(B)}),r}visitReference(e,t){return{type:ne.Reference,animation:sn(this,qc(e.animation),t),options:Mo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ne.AnimateChild,options:Mo(e.options)}}visitAnimateRef(e,t){return{type:ne.AnimateRef,animation:this.visitReference(e.animation,t),options:Mo(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=S4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,an(t.collectedStyles,t.currentQuerySelector,new Map);let a=sn(this,qc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ne.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Mo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(G3());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:wh(e.timings,t.errors,!0);return{type:ne.Stagger,animation:sn(this,qc(e.animation),t),timings:r,options:null}}};q_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};Kc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},T4=1,P4=":enter",A4=new RegExp(P4,"g"),N4=":leave",k4=new RegExp(N4,"g");W_=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Kc;let d=new G_(e,t,l,i,o,u,[]);d.options=c;let m=c.delay?Kr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),sn(this,r,d);let g=d.timelines.filter(C=>C.containsAnimation());if(g.length&&a.size){let C;for(let w=g.length-1;w>=0;w--){let P=g[w];if(P.element===t){C=P;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,d.errors,c)}return g.length?g.map(C=>C.buildKeyframes()):[c0(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Kr(Gc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Kr(r.duration):null,a=r.delay!=null?Kr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),sn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ne.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Mh);let s=Kr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>sn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Kr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),sn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Gc(r,t.params,t.errors):r;return wh(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ne.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Kr(i.delay):0;o&&(t.previousNode.type===ne.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Mh);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),sn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;sn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Mh={},G_=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Sh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Kr(r.duration)),r.delay!=null&&(i.delay=Kr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Gc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Mh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new K_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(A4,"."+this._enterClassName),e=e.replace(k4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(K3(t)),a}},Sh=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=T4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||hr),this._currentKeyframe.set(t,hr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=R4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Gc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??hr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===gf?e.add(d):u===hr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return c0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},K_=class extends Sh{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",CO(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),C=t+g*r;m.set("offset",CO(C/s)),o.push(m)}r=s,t=0,i="",e=o}return c0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};F_={},Ih=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return F4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||F_,g=a&&a.params||F_,C=this.buildStyles(r,g,d),w=c&&c.params||F_,P=this.buildStyles(i,w,d),B=new Set,oe=new Map,K=new Map,he=i==="void",ze={params:LO(w,m),delay:this.ast.options?.delay},Me=u?[]:FO(e,t,this.ast.animation,o,s,C,P,ze,l,d),Le=0;return Me.forEach(st=>{Le=Math.max(st.duration+st.delay,Le)}),d.length?bO(t,this._triggerName,r,i,he,C,P,[],[],oe,K,Le,d):(Me.forEach(st=>{let mr=st.element,Oo=an(oe,mr,new Set);st.preStyleProps.forEach(ki=>Oo.add(ki));let d0=an(K,mr,new Set);st.postStyleProps.forEach(ki=>d0.add(ki)),mr!==t&&B.add(mr)}),bO(t,this._triggerName,r,i,he,C,P,Me,[...B.values()],oe,K,Le))}};Y_=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=LO(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Gc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};Q_=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Y_(i.style,o,r))}),wO(this.states,"true","1"),wO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ih(e,i,this.states))}),this.fallbackTransition=V4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};j4=new Kc,Z_=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=RO(this._driver,t,r,i);if(r.length)throw X3(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=xO(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=FO(this._driver,t,o,AO,U_,new Map,new Map,r,j4,i),s.forEach(u=>{let d=an(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(e4()),s=[]),i.length)throw t4(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,hr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Ni(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw n4(e);return t}listen(e,t,r,i){let o=r0(t,"","","");return n0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},EO="ng-animate-queued",U4=".ng-animate-queued",L_="ng-animate-disabled",B4=".ng-animate-disabled",$4="ng-star-inserted",H4=".ng-star-inserted",z4=[],VO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kn="__ng_removed",Yc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=G4(i),r){let o=e,{value:s}=o,a=jh(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Wc="void",V_=new Yc(Wc),J_=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw r4(r,t);if(r==null||r.length==0)throw i4(t);if(!K4(r))throw o4(r,t);let o=an(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=an(this._engine.statesByElement,e,new Map);return a.has(t)||(xn(e,mh),xn(e,mh+"-"+t),a.set(t,V_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw s4(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Qc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(xn(e,mh),xn(e,mh+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Yc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=V_),!(l.value===Wc)&&c.value===l.value){if(!Z4(c.params,l.params)){let w=[],P=o.matchStyles(c.value,c.params,w),B=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{So(e,P),gr(e,B)})}return}let m=an(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),C=!1;if(!g){if(!i)return;g=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:C}),C||(xn(e,EO),s.onStart(()=>{ia(e,EO)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let P=this._engine.playersByElement.get(e);if(P){let B=P.indexOf(s);B>=0&&P.splice(B,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,bh,!0);r.forEach(i=>{if(i[Kn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Wc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ni(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||V_,u=new Yc(Wc),d=new Qc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Kn];(!o||o===VO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=r0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,n0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},X_=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new J_(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(_h(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_h(t))return;let o=t[Kn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xn(e,L_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ia(e,L_))}removeNode(e,t,r){if(_h(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Kn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return _h(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,bh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,B_,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ni(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Kn];if(t&&t.setForRemoval){if(e[Kn]=VO,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(L_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,B4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];xn(i,$4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ni(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw a4(e)}_flushAnimations(e,t){let r=new Kc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let z=this.driver.query(U,U4,!0);for(let G=0;G<z.length;G++)u.add(z[G])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=SO(m,this.collectedEnterElements),C=new Map,w=0;g.forEach((U,z)=>{let G=AO+w++;C.set(z,G),U.forEach(ve=>xn(ve,G))});let P=[],B=new Set,oe=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let z=this.collectedLeaveElements[U],G=z[Kn];G&&G.setForRemoval&&(P.push(z),B.add(z),G.hasAnimation?this.driver.query(z,H4,!0).forEach(ve=>B.add(ve)):oe.add(z))}let K=new Map,he=SO(m,Array.from(B));he.forEach((U,z)=>{let G=U_+w++;K.set(z,G),U.forEach(ve=>xn(ve,G))}),e.push(()=>{g.forEach((U,z)=>{let G=C.get(z);U.forEach(ve=>ia(ve,G))}),he.forEach((U,z)=>{let G=K.get(z);U.forEach(ve=>ia(ve,G))}),P.forEach(U=>{this.processLeaveNode(U)})});let ze=[],Me=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(G=>{let ve=G.player,at=G.element;if(ze.push(ve),this.collectedEnterElements.length){let yt=at[Kn];if(yt&&yt.setForMove){if(yt.previousTriggersValues&&yt.previousTriggersValues.has(G.triggerName)){let Ri=yt.previousTriggersValues.get(G.triggerName),cn=this.statesByElement.get(G.element);if(cn&&cn.has(G.triggerName)){let Zc=cn.get(G.triggerName);Zc.value=Ri,cn.set(G.triggerName,Zc)}}ve.destroy();return}}let Yn=!d||!this.driver.containsElement(d,at),Wt=K.get(at),Yr=C.get(at),$e=this._buildInstruction(G,r,Yr,Wt,Yn);if($e.errors&&$e.errors.length){Me.push($e);return}if(Yn){ve.onStart(()=>So(at,$e.fromStyles)),ve.onDestroy(()=>gr(at,$e.toStyles)),i.push(ve);return}if(G.isFallbackTransition){ve.onStart(()=>So(at,$e.fromStyles)),ve.onDestroy(()=>gr(at,$e.toStyles)),i.push(ve);return}let p0=[];$e.timelines.forEach(yt=>{yt.stretchStartingKeyframe=!0,this.disabledNodes.has(yt.element)||p0.push(yt)}),$e.timelines=p0,r.append(at,$e.timelines);let ZO={instruction:$e,player:ve,element:at};s.push(ZO),$e.queriedElements.forEach(yt=>an(a,yt,[]).push(ve)),$e.preStyleProps.forEach((yt,Ri)=>{if(yt.size){let cn=c.get(Ri);cn||c.set(Ri,cn=new Set),yt.forEach((Zc,Vh)=>cn.add(Vh))}}),$e.postStyleProps.forEach((yt,Ri)=>{let cn=l.get(Ri);cn||l.set(Ri,cn=new Set),yt.forEach((Zc,Vh)=>cn.add(Vh))})});if(Me.length){let U=[];Me.forEach(z=>{U.push(c4(z.triggerName,z.errors))}),ze.forEach(z=>z.destroy()),this.reportError(U)}let Le=new Map,st=new Map;s.forEach(U=>{let z=U.element;r.has(z)&&(st.set(z,z),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Le))}),i.forEach(U=>{let z=U.element;this._getPreviousPlayers(z,!1,U.namespaceId,U.triggerName,null).forEach(ve=>{an(Le,z,[]).push(ve),ve.destroy()})});let mr=P.filter(U=>IO(U,c,l)),Oo=new Map;MO(Oo,this.driver,oe,l,hr).forEach(U=>{IO(U,c,l)&&mr.push(U)});let ki=new Map;g.forEach((U,z)=>{MO(ki,this.driver,new Set(U),c,gf)}),mr.forEach(U=>{let z=Oo.get(U),G=ki.get(U);Oo.set(U,new Map([...z?.entries()??[],...G?.entries()??[]]))});let Lh=[],f0=[],h0={};s.forEach(U=>{let{element:z,player:G,instruction:ve}=U;if(r.has(z)){if(u.has(z)){G.onDestroy(()=>gr(z,ve.toStyles)),G.disabled=!0,G.overrideTotalTime(ve.totalTime),i.push(G);return}let at=h0;if(st.size>1){let Wt=z,Yr=[];for(;Wt=Wt.parentNode;){let $e=st.get(Wt);if($e){at=$e;break}Yr.push(Wt)}Yr.forEach($e=>st.set($e,at))}let Yn=this._buildAnimation(G.namespaceId,ve,Le,o,ki,Oo);if(G.setRealPlayer(Yn),at===h0)Lh.push(G);else{let Wt=this.playersByElement.get(at);Wt&&Wt.length&&(G.parentPlayer=Ni(Wt)),i.push(G)}}else So(z,ve.fromStyles),G.onDestroy(()=>gr(z,ve.toStyles)),f0.push(G),u.has(z)&&i.push(G)}),f0.forEach(U=>{let z=o.get(U.element);if(z&&z.length){let G=Ni(z);U.setRealPlayer(G)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<P.length;U++){let z=P[U],G=z[Kn];if(ia(z,U_),G&&G.hasAnimation)continue;let ve=[];if(a.size){let Yn=a.get(z);Yn&&Yn.length&&ve.push(...Yn);let Wt=this.driver.query(z,B_,!0);for(let Yr=0;Yr<Wt.length;Yr++){let $e=a.get(Wt[Yr]);$e&&$e.length&&ve.push(...$e)}}let at=ve.filter(Yn=>!Yn.destroyed);at.length?Y4(this,z,at):this.processLeaveNode(z)}return P.length=0,Lh.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let z=this.players.indexOf(U);this.players.splice(z,1)}),U.play()}),Lh}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Wc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=an(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let C=g.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),g.destroy(),d.push(g)})}So(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,m=t.timelines.map(C=>{let w=C.element;u.add(w);let P=w[Kn];if(P&&P.removedBeforeQueried)return new Mi(C.duration,C.delay);let B=w!==c,oe=Q4((r.get(w)||z4).map(Le=>Le.getRealPlayer())).filter(Le=>{let st=Le;return st.element?st.element===w:!1}),K=o.get(w),he=s.get(w),ze=xO(this._normalizer,C.keyframes,K,he),Me=this._buildPlayer(C,ze,oe);if(C.subTimeline&&i&&d.add(w),B){let Le=new Qc(e,a,w);Le.setRealPlayer(Me),l.push(Le)}return Me});l.forEach(C=>{an(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>W4(this.playersByQueriedElement,C.element,C))}),u.forEach(C=>xn(C,vO));let g=Ni(m);return g.onDestroy(()=>{u.forEach(C=>ia(C,vO)),gr(c,t.toStyles)}),d.forEach(C=>{an(i,C,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Mi(e.duration,e.delay)}},Qc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Mi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>n0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){an(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};oa=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new X_(e.body,t,r),this._timelineEngine=new Z_(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=RO(this._driver,o,c,l);if(c.length)throw Z3(i,c);l.length&&void 0,a=L4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=gO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=gO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};e0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&gr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gr(this._element,this._initialStyles),this._endStyles&&(gr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(So(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(So(this._element,this._endStyles),this._endStyles=null),gr(this._element,this._initialStyles),this._state=3)}};xh=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:a0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Oh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return OO(e,t)}getParentElement(e){return i0(e)}query(e,t,r){return TO(e,t,r)}computeStyle(e,t,r){return a0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof xh);_4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((C,w)=>l.set(w,C))});let d=m4(t).map(g=>new Map(g));d=C4(e,d,l);let m=J4(e,d);return new xh(e,d,c,m)}},Ch="@",UO="@.disabled",Th=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Ch&&t==UO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},t0=class extends Th{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Ch?t.charAt(1)=="."&&t==UO?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==Ch){let i=e5(e),o=t.slice(1),s="";return o.charAt(0)!=Ch&&([o,s]=t5(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};Ph=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Th(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new t0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function i5(){return new Eh}function o5(n,e,t){return new Ph(n,e,t)}var r5,$O,BO,s5,HO,zO=p(()=>{"use strict";T();T();Ua();l0();l0();Oe();r5=(()=>{class n extends oa{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Io),A(xo))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();$O=[{provide:xo,useFactory:i5},{provide:oa,useClass:r5},{provide:ai,useFactory:o5,deps:[Id,oa,_e]}],BO=[{provide:Io,useFactory:()=>new Oh},{provide:Cm,useValue:"BrowserAnimations"},...$O],s5=[{provide:Io,useClass:o0},{provide:Cm,useValue:"NoopAnimations"},...$O],HO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?s5:BO}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Ke({type:n})}static{this.\u0275inj=Ge({providers:BO,imports:[Od]})}}return n})()});var Ah,qO=p(()=>{"use strict";T();Ah=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function f5(n,e){if(n&1){let t=Y();h(0,"div",17)(1,"input",18,3),yn("ngModelChange",function(i){L(t);let o=S();return Vn(o.room,i)||(o.room=i),V(i)}),f(),h(3,"button",19),O("click",function(){L(t);let i=S();return i.joinRoom(),V(i.isRoomJoined=!0)}),v(4,"Join Room"),f()()}if(n&2){let t=S();y(),vn("ngModel",t.room)}}function h5(n,e){if(n&1&&(h(0,"div"),v(1),f()),n&2){let t=S().$implicit;y(),Dt(t.text)}}function p5(n,e){if(n&1){let t=Y();h(0,"img",26),O("error",function(){L(t);let i=S().$implicit,o=S();return V(o.handleImageError(i.imageUrl))}),f()}if(n&2){let t=S().$implicit;b("src",t.imageUrl,ut)}}function g5(n,e){if(n&1){let t=Y();h(0,"video",27),O("error",function(){L(t);let i=S().$implicit,o=S();return V(o.handleVideoError(i.videoUrl))}),v(1," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f()}if(n&2){let t=S().$implicit;b("src",t.videoUrl,ut)}}function m5(n,e){if(n&1&&(h(0,"div",20)(1,"span",21),v(2),f(),h(3,"div",22),N(4,h5,2,1,"div",23)(5,p5,1,1,"img",24)(6,g5,2,1,"video",25),f()()),n&2){let t=e.$implicit;b("ngClass",ar(5,d5,t.senderName==="Me",t.senderName!=="Me")),y(2),Dt(t.senderName),y(2),b("ngIf",t.text),y(),b("ngIf",t.imageUrl),y(),b("ngIf",t.videoUrl)}}function v5(n,e){n&1&&(h(0,"span"),v(1,"\u2328\uFE0F"),f())}function y5(n,e){n&1&&(h(0,"span"),v(1,"\u2328\uFE0F"),f())}function _5(n,e){n&1&&(h(0,"span"),v(1,"\u{1F5BC}\uFE0F"),f())}function C5(n,e){n&1&&(h(0,"span"),v(1,"\u{1F3AC}"),f())}function b5(n,e){if(n&1&&(h(0,"div",28)(1,"div",29),N(2,v5,2,0,"span",23)(3,y5,2,0,"span",23)(4,_5,2,0,"span",23)(5,C5,2,0,"span",23),f()()),n&2){let t=S();y(2),b("ngIf",t.typingMessage==="Typing..."),y(),b("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),y(),b("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),y(),b("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function w5(n,e){if(n&1&&(h(0,"div",30),k(1,"div",31),h(2,"p"),v(3),f()()),n&2){let t=S();y(3),pe("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function E5(n,e){if(n&1){let t=Y();h(0,"button",32),O("click",function(i){L(t);let o=S();return V(o.sendMessage(i))}),v(1,"\u{1F680}"),f()}}function D5(n,e){if(n&1){let t=Y();h(0,"button",32),O("click",function(i){L(t);let o=S();return V(o.sendPrivateMessage(i))}),v(1,"\u{1F680}"),f()}}var c5,l5,u5,d5,sa,u0=p(()=>{"use strict";T();we();ac();ra();Jd();T();Vs();Mt();Oy();qO();N_();Fa();Oe();rn();c5=["roomInput"],l5=["chatInput"],u5=["messagesContainer"],d5=(n,e)=>({"my-message":n,"other-message":e});sa=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=_(In);cloudinaryService=_(Ci);typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new Ve,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>x(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}})))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>x(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>x(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return x(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return x(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return x(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(ht.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>x(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=$(E({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let s={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(s)}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return x(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.chatType==="private"?r.type.startsWith("image/")?this.sendPrivateImageMessage(a):r.type.startsWith("video/")&&this.sendPrivateVideoMessage(a):r.type.startsWith("image/")?this.sendImageMessage(a):r.type.startsWith("video/")&&this.sendVideoMessage(a)},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",e),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"","",e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.messages.push(t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return x(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(En),D(Ce),D(Ls),D(Ah),D(na),D(co))};static \u0275cmp=ee({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(td(c5,5),td(l5,5),td(u5,5)),t&2){let i;hs(i=ps())&&(r.roomInput=i.first),hs(i=ps())&&(r.chatInput=i.first),hs(i=ps())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},decls:20,vars:8,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[4,"ngIf"],["alt","Image","class","chat-image",3,"src","error",4,"ngIf"],["class","chat-video","controls","","preload","metadata",3,"src","error",4,"ngIf"],["alt","Image",1,"chat-image",3,"error","src"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"]],template:function(t,r){if(t&1){let i=Y();h(0,"div",4)(1,"h2"),v(2),f(),N(3,f5,5,1,"div",5),h(4,"div",6)(5,"div",7,0),N(7,m5,7,8,"div",8),f(),h(8,"div",9)(9,"div",10)(10,"label",11),v(11,"\u{1F4CE}"),f(),h(12,"input",12,1),yn("ngModelChange",function(s){return L(i),Vn(r.newMessage,s)||(r.newMessage=s),V(s)}),O("keyup",function(){return L(i),V(r.onTyping())})("blur",function(){return L(i),V(r.onStopTyping())}),f(),h(14,"input",13,2),O("change",function(s){return L(i),V(r.onFileSelected(s))}),f(),N(16,b5,6,4,"div",14),f(),N(17,w5,4,1,"div",15)(18,E5,2,0,"button",16)(19,D5,2,0,"button",16),f()()()}t&2&&(y(2),pe(" ",r.chatType==="group"?"Group Chat - "+r.room:"Private Chat With - "+r.targetUsername," "),y(),b("ngIf",r.chatType==="group"&&!r.isRoomJoined),y(4),b("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),y(5),vn("ngModel",r.newMessage),y(4),b("ngIf",r.isTyping),y(),b("ngIf",r.isUploading),y(),b("ngIf",r.chatType==="group"),y(),b("ngIf",r.chatType==="private"))},dependencies:[ur,dr,Ie,Mn,pr,$r],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;max-height:85vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none}.join-button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:10px;width:40px;height:40px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:36px;height:36px}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']})}});function I5(n,e){if(n&1&&(h(0,"span",18),v(1),f()),n&2){let t=S().ngIf;y(),Dt(t)}}function x5(n,e){if(n&1&&(bt(0),N(1,I5,2,1,"span",17),wt()),n&2){let t=e.ngIf,r=S();y(),b("ngIf",t>0&&!r.isPrivateChatOpen)}}function O5(n,e){if(n&1){let t=Y();h(0,"li",22),O("click",function(){let i=L(t).$implicit,o=S(2);return V(o.navigateToContact(i._id))}),v(1),f()}if(n&2){let t=e.$implicit;y(),pe(" ",t.name," ")}}function T5(n,e){if(n&1){let t=Y();h(0,"div",19)(1,"button",20),O("click",function(){L(t);let i=S();return V(i.closeContactsDropdown())}),v(2,"\xD7"),f(),h(3,"ul"),N(4,O5,2,1,"li",21),f()()}if(n&2){let t=S();y(4),b("ngForOf",t.contacts)}}function P5(n,e){if(n&1){let t=Y();h(0,"div",23),O("clickOutsideCapture",function(){L(t);let i=S();return V(i.closePrivateChat())}),h(1,"div",24)(2,"span",25),O("click",function(){L(t);let i=S();return V(i.closePrivateChat())}),v(3,"\xD7"),f(),k(4,"app-chat",26),f()()}if(n&2){let t=S();y(4),b("chatType","private")("targetUserId",t.user._id)}}var S5,Nh,WO=p(()=>{"use strict";T();it();we();Mt();T();it();Vs();Hf();Ur();Oe();Ii();Hs();u0();S5=n=>({"long-field":n});Nh=class n{constructor(e,t,r,i){this.router=e;this.socketService=t;this.userIndex=r;this.contactService=i}user;remove=new se;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=_(Ce).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new de(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof vi&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(be(1),ke(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),F(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(jp(1),be(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Te),D(En),D(Pi),D(vt))};static \u0275cmp=ee({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"chatType","targetUserId"]],template:function(t,r){t&1&&(h(0,"article",0)(1,"div",1),O("click",function(){return r.onPreviewClick()}),k(2,"img",2),f(),h(3,"div",3)(4,"h1",4),v(5),f()(),h(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),O("click",function(o){return r.openPrivateChat(o)}),k(10,"img",9),N(11,x5,2,1,"ng-container",10),Rt(12,"async"),f()(),h(13,"button",11),O("click",function(o){return r.openFacebookProfile(o,r.user)}),k(14,"img",12),f()(),h(15,"div",6)(16,"button",11),O("click",function(o){return r.openInstagramProfile(o,r.user)}),k(17,"img",13),f(),h(18,"button",11),O("click",function(){return r.toggleContactsDropdown()}),k(19,"img",14),f(),N(20,T5,5,1,"div",15),f()()(),N(21,P5,5,2,"div",16),k(22,"router-outlet")),t&2&&(y(2),b("src",r.user.img?r.user.img:"../../../assets/images/contact.png",ut),y(2),b("title",r.user.username)("ngClass",ms(9,S5,r.isLongField(r.user.username,15))),y(),pe(" ",r.user.username," "),y(6),b("ngIf",Ht(12,7,r.unreadMessagesCount$)),y(9),b("ngIf",r.showContactsDropdown),y(),b("ngIf",r.isPrivateChatOpen))},dependencies:[ur,dr,Ie,Bn,It,Dn,sa,zt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:20px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function N5(n,e){if(n&1){let t=Y();h(0,"user-preview",3),O("remove",function(){let i=L(t).$implicit,o=S();return V(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;b("user",t)}}function k5(n,e){n&1&&(h(0,"p"),v(1,"No users found."),f())}var kh,GO=p(()=>{"use strict";T();T();Mt();Oe();WO();kh=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new se;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275cmp=ee({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(h(0,"section",1),N(1,N5,1,1,"user-preview",2)(2,k5,2,0,"ng-template",null,0,cr),f()),t&2&&(y(),b("ngForOf",r.users))},dependencies:[dr,Nh],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function R5(n,e){if(n&1){let t=Y();h(0,"button",4),O("click",function(){L(t);let i=S();return V(i.onClearFilter())}),v(1,"\u2716"),f()}}var Rh,KO=p(()=>{"use strict";T();we();Us();Mt();T();Oe();rn();Rh=class n{userService=_(Ce);filterBy="";filterSubject$=new me;destroyRef=_(kt);ngOnInit(){this.userService.filterBy$.pipe(qt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Cr(),qt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ee({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),yn("ngModelChange",function(o){return Vn(r.filterBy,o)||(r.filterBy=o),o}),O("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,R5,2,0,"button",3),f()()),t&2&&(y(2),vn("ngModel",r.filterBy),y(),b("ngIf",r.filterBy))},dependencies:[Ie,Mn,pr,$r],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Fh,YO=p(()=>{"use strict";Ua();XI();hO();Fa();rn();zO();Ii();Hs();Hf();GO();KO();u0();A_();T();Oe();Fh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Ke({type:n,bootstrap:[gh]});static \u0275inj=Ge({imports:[Od,qf,WD,AI,NI,HO,sO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};tD(Pi,function(){return[Ie,It,Dn,kh,Rh,sa]},function(){return[zt]})});var F5=eT(QO=>{Ua();YO();ra();T();XD().bootstrapModule(Fh).then(()=>{let n=_(In);"serviceWorker"in navigator&&window.addEventListener("load",()=>x(QO,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default F5();
