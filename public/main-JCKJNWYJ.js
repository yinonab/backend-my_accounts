var k0=Object.defineProperty,IT=Object.defineProperties;var OT=Object.getOwnPropertyDescriptors;var el=Object.getOwnPropertySymbols;var N0=Object.prototype.hasOwnProperty,R0=Object.prototype.propertyIsEnumerable;var A0=(n,e,t)=>e in n?k0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||={})N0.call(e,t)&&A0(n,t,e[t]);if(el)for(var t of el(e))R0.call(e,t)&&A0(n,t,e[t]);return n},B=(n,e)=>IT(n,OT(e));var Zp=(n,e)=>{var t={};for(var r in n)N0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&el)for(var r of el(n))e.indexOf(r)<0&&R0.call(n,r)&&(t[r]=n[r]);return t};var h=(n,e)=>()=>(n&&(e=n(n=0)),e);var TT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),PT=(n,e)=>{for(var t in e)k0(n,t,{get:e[t],enumerable:!0})};var P=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function F0(n,e){return Object.is(n,e)}function ye(n){let e=ot;return ot=n,e}function L0(){return ot}function eh(n){if(tl)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(n);let e=ot.nextProducerIndex++;if(sl(ot),e<ot.producerNode.length&&ot.producerNode[e]!==n&&oa(ot)){let t=ot.producerNode[e];ol(t,ot.producerIndexOfThis[e])}ot.producerNode[e]!==n&&(ot.producerNode[e]=n,ot.producerIndexOfThis[e]=oa(ot)?B0(n,ot,e):0),ot.producerLastReadVersion[e]=n.version}function AT(){nl++}function V0(n){if(!(oa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===nl)){if(!n.producerMustRecompute(n)&&!nh(n)){n.dirty=!1,n.lastCleanEpoch=nl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=nl}}function j0(n){if(n.liveConsumerNode===void 0)return;let e=tl;tl=!0;try{for(let t of n.liveConsumerNode)t.dirty||kT(t)}finally{tl=e}}function U0(){return ot?.consumerAllowSignalWrites!==!1}function kT(n){n.dirty=!0,j0(n),n.consumerMarkedDirty?.(n)}function il(n){return n&&(n.nextProducerIndex=0),ye(n)}function th(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(oa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ol(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function nh(n){sl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(V0(t),r!==t.version))return!0}return!1}function rh(n){if(sl(n),oa(n))for(let e=0;e<n.producerNode.length;e++)ol(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function B0(n,e,t){if($0(n),n.liveConsumerNode.length===0&&z0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=B0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ol(n,e){if($0(n),n.liveConsumerNode.length===1&&z0(n))for(let r=0;r<n.producerNode.length;r++)ol(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];sl(i),i.producerIndexOfThis[r]=e}}function oa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function sl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function $0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function z0(n){return n.producerNode!==void 0}function H0(n){let e=Object.create(NT);e.computation=n;let t=()=>{if(V0(e),eh(e),e.value===rl)throw e.error;return e.value};return t[Cr]=e,t}function RT(){throw new Error}function W0(){q0()}function G0(n){q0=n}function K0(n){let e=Object.create(Q0);e.value=n;let t=()=>(eh(e),e.value);return t[Cr]=e,t}function ih(n,e){U0()||W0(),n.equal(n.value,e)||(n.value=e,LT(n))}function Y0(n,e){U0()||W0(),ih(n,e(n.value))}function LT(n){n.version++,AT(),j0(n),FT?.()}var ot,tl,nl,Cr,sa,Jp,Xp,rl,NT,q0,FT,Q0,Z0=h(()=>{"use strict";ot=null,tl=!1,nl=1,Cr=Symbol("SIGNAL");sa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Jp=Symbol("UNSET"),Xp=Symbol("COMPUTING"),rl=Symbol("ERRORED"),NT=B(M({},sa),{value:Jp,dirty:!0,error:null,equal:F0,producerMustRecompute(n){return n.value===Jp||n.value===Xp},producerRecomputeValue(n){if(n.value===Xp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Xp;let t=il(n),r;try{r=n.computation()}catch(i){r=rl,n.error=i}finally{th(n,t)}if(e!==Jp&&e!==rl&&r!==rl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});q0=RT;FT=null;Q0=B(M({},sa),{equal:F0,value:void 0})});function H(n){return typeof n=="function"}var Ge=h(()=>{"use strict"});function Fo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var al=h(()=>{"use strict"});var cl,J0=h(()=>{"use strict";al();cl=Fo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Ui(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ll=h(()=>{"use strict"});function ul(n){return n instanceof je||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function X0(n){H(n)?n():n.unsubscribe()}var je,oh,Bi=h(()=>{"use strict";Ge();J0();ll();je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof cl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{X0(o)}catch(s){e=e??[],s instanceof cl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)X0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ui(t,e)}remove(e){let{_finalizers:t}=this;t&&Ui(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();oh=je.EMPTY});var An,aa=h(()=>{"use strict";An={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Lo,sh=h(()=>{"use strict";Lo={setTimeout(n,e,...t){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function dl(n){Lo.setTimeout(()=>{let{onUnhandledError:e}=An;if(e)e(n);else throw n})}var ah=h(()=>{"use strict";aa();sh()});function br(){}var ca=h(()=>{"use strict"});function tC(n){return ch("E",void 0,n)}function nC(n){return ch("N",n,void 0)}function ch(n,e,t){return{kind:n,value:e,error:t}}var eC,rC=h(()=>{"use strict";eC=ch("C",void 0,void 0)});function Vo(n){if(An.useDeprecatedSynchronousErrorHandling){let e=!$i;if(e&&($i={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=$i;if($i=null,t)throw r}}else n()}function iC(n){An.useDeprecatedSynchronousErrorHandling&&$i&&($i.errorThrown=!0,$i.error=n)}var $i,fl=h(()=>{"use strict";aa();$i=null});function lh(n,e){return VT.call(n,e)}function pl(n){An.useDeprecatedSynchronousErrorHandling?iC(n):dl(n)}function jT(n){throw n}function uh(n,e){let{onStoppedNotification:t}=An;t&&Lo.setTimeout(()=>t(n,e))}var zi,VT,dh,ti,UT,hl=h(()=>{"use strict";Ge();Bi();aa();ah();ca();rC();sh();fl();zi=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ul(e)&&e.add(this)):this.destination=UT}static create(e,t,r){return new ti(e,t,r)}next(e){this.isStopped?uh(nC(e),this):this._next(e)}error(e){this.isStopped?uh(tC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uh(eC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},VT=Function.prototype.bind;dh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pl(t)}}},ti=class extends zi{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&An.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lh(e.next,o),error:e.error&&lh(e.error,o),complete:e.complete&&lh(e.complete,o)}):i=e}this.destination=new dh(i)}};UT={closed:!0,next:br,error:jT,complete:br}});var jo,gl=h(()=>{"use strict";jo=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function mt(n){return n}var wr=h(()=>{"use strict"});function fh(...n){return ph(n)}function ph(n){return n.length===0?mt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var hh=h(()=>{"use strict";wr()});function oC(n){var e;return(e=n??An.Promise)!==null&&e!==void 0?e:Promise}function BT(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function $T(n){return n&&n instanceof zi||BT(n)&&ul(n)}var ee,dt=h(()=>{"use strict";hl();Bi();gl();hh();aa();Ge();fl();ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=$T(t)?t:new ti(t,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=oC(r),new r((i,o)=>{let s=new ti({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[jo](){return this}pipe(...t){return ph(t)(this)}toPromise(t){return t=oC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function gh(n){return H(n?.lift)}function te(n){return e=>{if(gh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ue=h(()=>{"use strict";Ge()});function J(n,e,t,r,i){return new mh(n,e,t,r,i)}var mh,qe=h(()=>{"use strict";hl();mh=class extends zi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function Uo(){return te((n,e)=>{let t=null;n._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vh=h(()=>{"use strict";Ue();qe()});var ni,yh=h(()=>{"use strict";dt();Bi();vh();qe();Ue();ni=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(J(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Uo()(this)}}});var sC,aC=h(()=>{"use strict";al();sC=Fo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var ge,ml,la=h(()=>{"use strict";dt();Bi();aC();ll();fl();ge=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ml(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sC}next(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?oh:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,Ui(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new ml(e,t),n})(),ml=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:oh}}});var fe,cC=h(()=>{"use strict";la();fe=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var _h,lC=h(()=>{"use strict";_h={now(){return(_h.delegate||Date).now()},delegate:void 0}});var vl,uC=h(()=>{"use strict";Bi();vl=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}}});var ua,dC=h(()=>{"use strict";ua={setInterval(n,e,...t){let{delegate:r}=ua;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ua;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var yl,fC=h(()=>{"use strict";uC();dC();ll();yl=class extends vl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ua.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ui(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Bo,pC=h(()=>{"use strict";lC();Bo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Bo.now=_h.now});var _l,hC=h(()=>{"use strict";pC();_l=class extends Bo{constructor(e,t=Bo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var da,gC,Cl=h(()=>{"use strict";fC();hC();da=new _l(yl),gC=da});var At,fa=h(()=>{"use strict";dt();At=new ee(n=>n.complete())});function bl(n){return n&&H(n.schedule)}var Ch=h(()=>{"use strict";Ge()});function bh(n){return n[n.length-1]}function wl(n){return H(bh(n))?n.pop():void 0}function er(n){return bl(bh(n))?n.pop():void 0}function mC(n,e){return typeof bh(n)=="number"?n.pop():e}var Hi=h(()=>{"use strict";Ge();Ch()});function yC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function vC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qi(n){return this instanceof qi?(this.v=n,this):new qi(n)}function _C(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,d)}}function a(g,b){r[g]&&(i[g]=function(E){return new Promise(function(R,$){o.push([g,E,R,$])>1||c(g,E)})},b&&(i[g]=b(i[g])))}function c(g,b){try{l(r[g](b))}catch(E){v(o[0][3],E)}}function l(g){g.value instanceof qi?Promise.resolve(g.value.v).then(u,d):v(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function v(g,b){g(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function CC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vC=="function"?vC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var wh=h(()=>{"use strict"});var $o,El=h(()=>{"use strict";$o=n=>n&&typeof n.length=="number"&&typeof n!="function"});function Ml(n){return H(n?.then)}var Eh=h(()=>{"use strict";Ge()});function Dl(n){return H(n[jo])}var Mh=h(()=>{"use strict";gl();Ge()});function Sl(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var Dh=h(()=>{"use strict";Ge()});function xl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Sh=h(()=>{"use strict"});function zT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Il,xh=h(()=>{"use strict";Il=zT()});function Ol(n){return H(n?.[Il])}var Ih=h(()=>{"use strict";xh();Ge()});function Tl(n){return _C(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield qi(t.read());if(i)return yield qi(void 0);yield yield qi(r)}}finally{t.releaseLock()}})}function Pl(n){return H(n?.getReader)}var Al=h(()=>{"use strict";wh();Ge()});function xe(n){if(n instanceof ee)return n;if(n!=null){if(Dl(n))return HT(n);if($o(n))return qT(n);if(Ml(n))return WT(n);if(Sl(n))return bC(n);if(Ol(n))return GT(n);if(Pl(n))return KT(n)}throw xl(n)}function HT(n){return new ee(e=>{let t=n[jo]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qT(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function WT(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,dl)})}function GT(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function bC(n){return new ee(e=>{YT(n,e).catch(t=>e.error(t))})}function KT(n){return bC(Tl(n))}function YT(n,e){var t,r,i,o;return yC(this,void 0,void 0,function*(){try{for(t=CC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var St=h(()=>{"use strict";wh();El();Eh();dt();Mh();Dh();Sh();Ih();Al();Ge();ah();gl()});function $t(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var zo=h(()=>{"use strict"});function kl(n,e=0){return te((t,r)=>{t.subscribe(J(r,i=>$t(r,n,()=>r.next(i),e),()=>$t(r,n,()=>r.complete(),e),i=>$t(r,n,()=>r.error(i),e)))})}var Oh=h(()=>{"use strict";zo();Ue();qe()});function Nl(n,e=0){return te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var Th=h(()=>{"use strict";Ue()});function wC(n,e){return xe(n).pipe(Nl(e),kl(e))}var EC=h(()=>{"use strict";St();Oh();Th()});function MC(n,e){return xe(n).pipe(Nl(e),kl(e))}var DC=h(()=>{"use strict";St();Oh();Th()});function SC(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var xC=h(()=>{"use strict";dt()});function IC(n,e){return new ee(t=>{let r;return $t(t,e,()=>{r=n[Il](),$t(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var OC=h(()=>{"use strict";dt();xh();Ge();zo()});function Rl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{$t(t,e,()=>{let r=n[Symbol.asyncIterator]();$t(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var Ph=h(()=>{"use strict";dt();zo()});function TC(n,e){return Rl(Tl(n),e)}var PC=h(()=>{"use strict";Ph();Al()});function AC(n,e){if(n!=null){if(Dl(n))return wC(n,e);if($o(n))return SC(n,e);if(Ml(n))return MC(n,e);if(Sl(n))return Rl(n,e);if(Ol(n))return IC(n,e);if(Pl(n))return TC(n,e)}throw xl(n)}var kC=h(()=>{"use strict";EC();DC();xC();OC();Ph();Mh();Eh();El();Ih();Dh();Sh();Al();PC()});function G(n,e){return e?AC(n,e):xe(n)}var Ho=h(()=>{"use strict";kC();St()});function V(...n){let e=er(n);return G(n,e)}var NC=h(()=>{"use strict";Hi();Ho()});function Xe(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}var RC=h(()=>{"use strict";dt();Ge()});function Ah(n){return!!n&&(n instanceof ee||H(n.lift)&&H(n.subscribe))}var FC=h(()=>{"use strict";dt();Ge()});var kn,qo=h(()=>{"use strict";al();kn=Fo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function Wi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new ti({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new kn)}});n.subscribe(o)})}var LC=h(()=>{"use strict";qo();hl()});function VC(n){return n instanceof Date&&!isNaN(n)}var jC=h(()=>{"use strict"});function j(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>{r.next(n.call(e,o,i++))}))})}var Wo=h(()=>{"use strict";Ue();qe()});function ZT(n,e){return QT(e)?n(...e):n(e)}function Go(n){return j(e=>ZT(n,e))}var QT,Fl=h(()=>{"use strict";Wo();({isArray:QT}=Array)});function Ll(n){if(n.length===1){let e=n[0];if(JT(e))return{args:e,keys:null};if(nP(e)){let t=tP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function nP(n){return n&&typeof n=="object"&&XT(n)===eP}var JT,XT,eP,tP,kh=h(()=>{"use strict";({isArray:JT}=Array),{getPrototypeOf:XT,prototype:eP,keys:tP}=Object});function Vl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Nh=h(()=>{"use strict"});function pa(...n){let e=er(n),t=wl(n),{args:r,keys:i}=Ll(n);if(r.length===0)return G([],e);let o=new ee(rP(r,e,i?s=>Vl(i,s):mt));return t?o.pipe(Go(t)):o}function rP(n,e,t=mt){return r=>{UC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)UC(e,()=>{let l=G(n[c],e),u=!1;l.subscribe(J(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function UC(n,e,t){n?$t(t,n,e):e()}var BC=h(()=>{"use strict";dt();kh();Ho();wr();Fl();Hi();Nh();qe();zo()});function $C(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,v=()=>{d&&!c.length&&!l&&e.complete()},g=E=>l<r?b(E):c.push(E),b=E=>{o&&e.next(E),l++;let R=!1;xe(t(E,u++)).subscribe(J(e,$=>{i?.($),o?g($):e.next($)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let $=c.shift();s?$t(e,s,()=>b($)):b($)}v()}catch($){e.error($)}}))};return n.subscribe(J(e,g,()=>{d=!0,v()})),()=>{a?.()}}var zC=h(()=>{"use strict";St();zo();qe()});function Be(n,e,t=1/0){return H(e)?Be((r,i)=>j((o,s)=>e(r,o,i,s))(xe(n(r,i))),t):(typeof e=="number"&&(t=e),te((r,i)=>$C(r,i,n,t)))}var Ko=h(()=>{"use strict";Wo();St();Ue();zC();Ge()});function tr(n=1/0){return Be(mt,n)}var jl=h(()=>{"use strict";Ko();wr()});function HC(){return tr(1)}var qC=h(()=>{"use strict";jl()});function nr(...n){return HC()(G(n,er(n)))}var Ul=h(()=>{"use strict";qC();Hi();Ho()});function Gi(n){return new ee(e=>{xe(n()).subscribe(e)})}var WC=h(()=>{"use strict";dt();St()});function Rh(...n){let e=wl(n),{args:t,keys:r}=Ll(n),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;xe(t[u]).subscribe(J(o,v=>{d||(d=!0,l--),a[u]=v},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Vl(r,a):a),o.complete())}))}});return e?i.pipe(Go(e)):i}var GC=h(()=>{"use strict";dt();kh();St();Hi();qe();Fl();Nh()});function Yo(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Yo(n,e,t).pipe(Go(r));let[i,o]=lP(n)?oP.map(s=>a=>n[s](e,a,t)):aP(n)?iP.map(KC(n,e)):cP(n)?sP.map(KC(n,e)):[];if(!i&&$o(n))return Be(s=>Yo(s,e,t))(xe(n));if(!i)throw new TypeError("Invalid event target");return new ee(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function KC(n,e){return t=>r=>n[t](e,r)}function aP(n){return H(n.addListener)&&H(n.removeListener)}function cP(n){return H(n.on)&&H(n.off)}function lP(n){return H(n.addEventListener)&&H(n.removeEventListener)}var iP,oP,sP,YC=h(()=>{"use strict";St();dt();Ko();El();Ge();Fl();iP=["addListener","removeListener"],oP=["addEventListener","removeEventListener"],sP=["on","off"]});function Bl(n=0,e,t=gC){let r=-1;return e!=null&&(bl(e)?t=e:r=e),new ee(i=>{let o=VC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var Fh=h(()=>{"use strict";dt();Cl();Ch();jC()});function $l(...n){let e=er(n),t=mC(n,1/0),r=n;return r.length?r.length===1?xe(r[0]):tr(t)(G(r,e)):At}var QC=h(()=>{"use strict";jl();St();fa();Hi();Ho()});var Ki,ZC=h(()=>{"use strict";dt();ca();Ki=new ee(br)});function Ne(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Qo=h(()=>{"use strict";Ue();qe()});var JC=h(()=>{"use strict"});function ue(n){return te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(J(t,void 0,void 0,s=>{o=xe(n(s,ue(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var Lh=h(()=>{"use strict";St();qe();Ue()});function XC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(J(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var eb=h(()=>{"use strict";qe()});function un(n,e){return H(e)?Be(n,e,1):Be(n,1)}var Vh=h(()=>{"use strict";Ko();Ge()});function tb(n){return new ee(e=>n.subscribe(e))}var nb=h(()=>{"use strict";dt()});function zl(n,e=uP){let{connector:t}=e;return te((r,i)=>{let o=t();xe(n(tb(o))).subscribe(i),i.add(r.subscribe(o))})}var uP,jh=h(()=>{"use strict";la();St();Ue();nb();uP={connector:()=>new ge}});function Uh(n,e=da){return te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(J(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var rb=h(()=>{"use strict";Cl();Ue();qe()});function ri(n){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Hl=h(()=>{"use strict";Ue();qe()});function be(n){return n<=0?()=>At:te((e,t)=>{let r=0;e.subscribe(J(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var ha=h(()=>{"use strict";fa();Ue();qe()});function ib(){return te((n,e)=>{n.subscribe(J(e,br))})}var ob=h(()=>{"use strict";Ue();qe();ca()});function ga(n){return j(()=>n)}var Bh=h(()=>{"use strict";Wo()});function $h(n,e){return e?t=>nr(e.pipe(be(1),ib()),t.pipe($h(n))):Be((t,r)=>xe(n(t,r)).pipe(be(1),ga(t)))}var sb=h(()=>{"use strict";Ul();ha();ob();Bh();Ko();St()});function dn(n,e=da){let t=Bl(n,e);return $h(()=>t)}var zh=h(()=>{"use strict";Cl();sb();Fh()});function Er(n,e=mt){return n=n??dP,te((t,r)=>{let i,o=!0;t.subscribe(J(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function dP(n,e){return n===e}var ab=h(()=>{"use strict";wr();Ue();qe()});function ql(n=fP){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fP(){return new kn}var Hh=h(()=>{"use strict";qo();Ue();qe()});function Qt(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var qh=h(()=>{"use strict";Ue()});function rr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):mt,be(1),t?ri(e):ql(()=>new kn))}var cb=h(()=>{"use strict";qo();Qo();ha();Hl();Hh();wr()});function Zo(n){return n<=0?()=>At:te((e,t)=>{let r=[];e.subscribe(J(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Wh=h(()=>{"use strict";fa();Ue();qe()});function Gh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):mt,Zo(1),t?ri(e):ql(()=>new kn))}var lb=h(()=>{"use strict";qo();Qo();Wh();Hh();Hl();wr()});function ub(n,e){let t=H(n)?n:()=>n;return H(e)?zl(e,{connector:t}):r=>new ni(r,t)}var db=h(()=>{"use strict";yh();Ge();jh()});function Kh(n){return n?e=>zl(n)(e):e=>ub(new ge)(e)}var fb=h(()=>{"use strict";la();db();jh()});function st(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?mt:te((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(J(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let v=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Bl(r):xe(r(d,a)),b=J(s,()=>{b.unsubscribe(),v()},()=>{s.complete()});g.subscribe(b)}else v()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Yh=h(()=>{"use strict";Ue();qe();wr();Fh();St()});function Qh(n,e){return te(XC(n,e,arguments.length>=2,!0))}var pb=h(()=>{"use strict";Ue();eb()});function Zh(n){return Ne((e,t)=>n<=t)}var hb=h(()=>{"use strict";Qo()});function Jh(...n){let e=er(n);return te((t,r)=>{(e?nr(n,t,e):nr(n,t)).subscribe(r)})}var gb=h(()=>{"use strict";Ul();Hi();Ue()});function Re(n,e){return te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(J(r,c=>{i?.unsubscribe();let l=0,u=o++;xe(n(c,u)).subscribe(i=J(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Xh=h(()=>{"use strict";St();Ue();qe()});function fn(n){return te((e,t)=>{xe(n).subscribe(J(t,()=>t.complete(),br)),!t.closed&&e.subscribe(t)})}var eg=h(()=>{"use strict";Ue();qe();St();ca()});function ne(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(J(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}var tg=h(()=>{"use strict";Ge();Ue();qe();wr()});var we=h(()=>{"use strict";dt();yh();la();cC();Bi();hh();FC();LC();qo();BC();Ul();WC();GC();Ho();YC();QC();NC();RC();fa();ZC();JC();Lh();Vh();rb();zh();ab();Qo();qh();Wo();Yh();hb();Xh();ha();eg();tg()});var ii=h(()=>{"use strict";Lh();Vh();Hl();zh();Qo();qh();cb();lb();Wo();Bh();jl();Ko();fb();Yh();vh();pb();gb();Xh();ha();Wh();eg();tg()});function Ru(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Da(n){return{toString:n}.toString()}function pP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ow(n,e,t){return Da(()=>{let r=pP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Wl)?c[Wl]:Object.defineProperty(c,Wl,{value:[]})[Wl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function hP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function mg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function gn(n){return n.__forward_ref__=gn,n.toString=function(){return Nt(this())},n}function kt(n){return sw(n)?n():n}function sw(n){return typeof n=="function"&&n.hasOwnProperty(gP)&&n.__forward_ref__===gn}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fu(n){return mb(n,cw)||mb(n,lw)}function aw(n){return Fu(n)!==null}function mb(n,e){return n.hasOwnProperty(e)?n[e]:null}function mP(n){let e=n&&(n[cw]||n[lw]);return e||null}function vb(n){return n&&(n.hasOwnProperty(yb)||n.hasOwnProperty(vP))?n[yb]:null}function uw(n){return n&&!!n.\u0275providers}function Sa(n){return typeof n=="string"?n:n==null?"":String(n)}function wP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Sa(n)}function EP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,n)}function pm(n,e){throw new x(-201,!1)}function dw(){return vg}function zt(n){let e=vg;return vg=n,e}function fw(n,e,t){let r=Fu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;pm(n,"Injector")}function IP(){return ns}function oi(n){let e=ns;return ns=n,e}function OP(n,e=ce.Default){if(ns===void 0)throw new x(-203,!1);return ns===null?fw(n,void 0,e):ns.get(n,e&ce.Optional?null:void 0,e)}function F(n,e=ce.Default){return(dw()||OP)(kt(n),e)}function C(n,e=ce.Default){return F(n,Lu(e))}function Lu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _g(n){let e=[];for(let t=0;t<n.length;t++){let r=kt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=TP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function pw(n,e){return n[yg]=e,n.prototype[yg]=e,n}function TP(n){return n[yg]}function PP(n,e,t,r){let i=n[su];throw e[Cb]&&i.unshift(e[Cb]),n.message=AP(`
`+n.message,i,t,r),n[DP]=i,n[su]=null,n}function AP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==xP?n.slice(2):n;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(SP,`
  `)}`}function Zi(n,e){let t=n.hasOwnProperty(ou);return t?n[ou]:null}function kP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function NP(n){return n.flat(Number.POSITIVE_INFINITY)}function gm(n,e){n.forEach(t=>Array.isArray(t)?gm(t,e):e(t))}function hw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function au(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function RP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function mm(n,e,t){let r=xa(n,e);return r>=0?n[r|1]=t:(r=~r,RP(n,r,e,t)),r}function ng(n,e){let t=xa(n,e);if(t>=0)return n[t|1]}function xa(n,e){return FP(n,e,1)}function FP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function LP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Cg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];VP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function yw(n){return n===3||n===4||n===6}function VP(n){return n.charCodeAt(0)===64}function Ca(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?bb(n,t,i,null,e[++r]):bb(n,t,i,null,null))}}return n}function bb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function jP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(vm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function vm(n){return n.type===4&&n.value!==_w}function UP(n,e,t){let r=n.type===4&&!t?_w:n.value;return e===r}function BP(n,e,t){let r=4,i=n.attrs,o=i!==null?HP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Nn(r)&&!Nn(c))return!1;if(s&&Nn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!UP(n,c,t)||c===""&&e.length===1){if(Nn(r))return!1;s=!0}}else if(r&8){if(i===null||!jP(n,i,c,t)){if(Nn(r))return!1;s=!0}}else{let l=e[++a],u=$P(c,i,vm(n),t);if(u===-1){if(Nn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Nn(r))return!1;s=!0}}}}return Nn(r)||s}function Nn(n){return(n&1)===0}function $P(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qP(e,n)}function zP(n,e,t=!1){for(let r=0;r<e.length;r++)if(BP(n,e[r],t))return!0;return!1}function HP(n){for(let e=0;e<n.length;e++){let t=n[e];if(yw(t))return e}return n.length}function qP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function wb(n,e){return n?":not("+e.trim()+")":e}function WP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nn(s)&&(e+=wb(o,i),i=""),r=s,o=o||!Nn(r);t++}return i!==""&&(e+=wb(o,i)),e}function GP(n){return n.map(WP).join(",")}function KP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Nn(i))break;i=o}r++}return{attrs:e,classes:t}}function Z(n){return Da(()=>{let e=Mw(n),t=B(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||Ht,_:null,schemas:n.schemas||null,tView:null,id:""});Dw(t);let r=n.dependencies;return t.directiveDefs=lu(r,!1),t.pipeDefs=lu(r,!0),t.id=ZP(t),t})}function YP(n){return li(n)||Cw(n)}function QP(n){return n!==null}function Qe(n){return Da(()=>({type:n.type,bootstrap:n.bootstrap||Ht,declarations:n.declarations||Ht,imports:n.imports||Ht,exports:n.exports||Ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Eb(n,e){if(n==null)return is;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ci.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ci.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ae(n){return Da(()=>{let e=Mw(n);return Dw(e),e})}function so(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function li(n){return n[yP]||null}function Cw(n){return n[_P]||null}function bw(n){return n[CP]||null}function ww(n){let e=li(n)||Cw(n)||bw(n);return e!==null?e.standalone:!1}function Ew(n,e){let t=n[bP]||null;if(!t&&e===!0)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return t}function Mw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||is,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Eb(n.inputs,e),outputs:Eb(n.outputs),debugInfo:null}}function Dw(n){n.features?.forEach(e=>e(n))}function lu(n,e){if(!n)return null;let t=e?bw:YP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(QP)}function ZP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hs(n){return{\u0275providers:n}}function JP(...n){return{\u0275providers:Sw(!0,n),\u0275fromNgModule:!0}}function Sw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return gm(e,s=>{let a=s;bg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xw(i,o),t}function xw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ym(i,o=>{e(o,r)})}}function bg(n,e,t,r){if(n=kt(n),!n)return!1;let i=null,o=vb(n),s=!o&&li(n);if(!o&&!s){let c=n.ngModule;if(o=vb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)bg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gm(o.imports,u=>{bg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&xw(l,e)}if(!a){let l=Zi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:mw,useValue:i,multi:!0},i),e({provide:os,useValue:()=>F(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;ym(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ym(n,e){for(let t of n)uw(t)&&(t=t.\u0275providers),Array.isArray(t)?ym(t,e):e(t)}function Iw(n){return n!==null&&typeof n=="object"&&XP in n}function e1(n){return!!(n&&n.useExisting)}function t1(n){return!!(n&&n.useFactory)}function ss(n){return typeof n=="function"}function n1(n){return!!n.useClass}function _m(){return rg===void 0&&(rg=new cu),rg}function wg(n){let e=Fu(n),t=e!==null?e.factory:Zi(n);if(t!==null)return t;if(n instanceof L)throw new x(204,!1);if(n instanceof Function)return i1(n);throw new x(204,!1)}function i1(n){if(n.length>0)throw new x(204,!1);let t=mP(n);return t!==null?()=>t.factory(n):()=>new n}function o1(n){if(Iw(n))return Jo(void 0,n.useValue);{let e=Ow(n);return Jo(e,eu)}}function Ow(n,e,t){let r;if(ss(n)){let i=kt(n);return Zi(i)||wg(i)}else if(Iw(n))r=()=>kt(n.useValue);else if(t1(n))r=()=>n.useFactory(..._g(n.deps||[]));else if(e1(n))r=()=>F(kt(n.useExisting));else{let i=kt(n&&(n.useClass||n.provide));if(s1(n))r=()=>new i(..._g(n.deps));else return Zi(i)||wg(i)}return r}function Jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function s1(n){return!!n.deps}function a1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function c1(n){return typeof n=="function"||typeof n=="object"&&n instanceof L}function Eg(n,e){for(let t of n)Array.isArray(t)?Eg(t,e):t&&uw(t)?Eg(t.\u0275providers,e):e(t)}function mn(n,e){n instanceof ba&&n.assertNotDestroyed();let t,r=oi(n),i=zt(void 0);try{return e()}finally{oi(r),zt(i)}}function Tw(){return dw()!==void 0||IP()!=null}function Cm(n){if(!Tw())throw new x(-203,!1)}function l1(n){let e=vt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function u1(n){return typeof n=="function"}function ai(n){return Array.isArray(n)&&typeof n[Aw]=="object"}function Or(n){return Array.isArray(n)&&n[Aw]===!0}function bm(n){return(n.flags&4)!==0}function Bu(n){return n.componentOffset>-1}function $u(n){return(n.flags&1)===1}function ui(n){return!!n.template}function Mg(n){return(n[Q]&512)!==0}function kw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function jn(){return Nw}function Nw(n){return n.type.prototype.ngOnChanges&&(n.setInput=f1),d1}function d1(){let n=Fw(this),e=n?.current;if(e){let t=n.previous;if(t===is)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function f1(n,e,t,r,i){let o=this.declaredInputs[r],s=Fw(n)||p1(n,{previous:is,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Dg(l&&l.currentValue,t,c===is),kw(n,e,i,t)}function Fw(n){return n[Rw]||null}function p1(n,e){return n[Rw]=e}function lr(n){for(;Array.isArray(n);)n=n[Ir];return n}function Lw(n,e){return lr(e[n])}function vn(n,e){return lr(e[n.index])}function Vw(n,e){return n.data[e]}function jw(n,e){return n[e]}function gi(n,e){let t=e[n];return ai(t)?t:t[Ir]}function m1(n){return(n[Q]&4)===4}function wm(n){return(n[Q]&128)===128}function v1(n){return Or(n[xt])}function ls(n,e){return e==null?null:n[e]}function Uw(n){n[Xo]=0}function Bw(n){n[Q]&1024||(n[Q]|=1024,wm(n)&&Hu(n))}function y1(n,e){for(;n>0;)e=e[gs],n--;return e}function zu(n){return!!(n[Q]&9216||n[pn]?.dirty)}function Sg(n){n[ar].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),zu(n)&&Hu(n)}function Hu(n){n[ar].changeDetectionScheduler?.notify(0);let e=eo(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!wm(e)));)e=eo(e)}function $w(n,e){if((n[Q]&256)===256)throw new x(911,!1);n[si]===null&&(n[si]=[]),n[si].push(e)}function _1(n,e){if(n[si]===null)return;let t=n[si].indexOf(e);t!==-1&&n[si].splice(t,1)}function eo(n){let e=n[xt];return Or(e)?e[xt]:e}function C1(){return le.lFrame.elementDepthCount}function b1(){le.lFrame.elementDepthCount++}function w1(){le.lFrame.elementDepthCount--}function Hw(){return le.bindingsEnabled}function E1(){return le.skipHydrationRootTNode!==null}function M1(n){return le.skipHydrationRootTNode===n}function D1(){le.skipHydrationRootTNode=null}function de(){return le.lFrame.lView}function tt(){return le.lFrame.tView}function O(n){return le.lFrame.contextLView=n,n[Ln]}function T(n){return le.lFrame.contextLView=null,n}function yt(){let n=qw();for(;n!==null&&n.type===64;)n=n.parent;return n}function qw(){return le.lFrame.currentTNode}function S1(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ao(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Em(){return le.lFrame.isParent}function Ww(){le.lFrame.isParent=!1}function x1(){return le.lFrame.contextLView}function Gw(){return zw}function Sb(n){zw=n}function qu(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function I1(n){return le.lFrame.bindingIndex=n}function Wu(){return le.lFrame.bindingIndex++}function Kw(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function O1(){return le.lFrame.inI18n}function T1(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,xg(e)}function P1(){return le.lFrame.currentDirectiveIndex}function xg(n){le.lFrame.currentDirectiveIndex=n}function A1(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Yw(){return le.lFrame.currentQueryIndex}function Mm(n){le.lFrame.currentQueryIndex=n}function k1(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Vn]:null}function Qw(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=k1(o),i===null||(o=o[gs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=Zw();return r.currentTNode=e,r.lView=n,!0}function Dm(n){let e=Zw(),t=n[ie];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Zw(){let n=le.lFrame,e=n===null?null:n.child;return e===null?Jw(n):e}function Jw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Xw(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function Sm(){let n=Xw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function N1(n){return(le.lFrame.contextLView=y1(n,le.lFrame.contextLView))[Ln]}function co(){return le.lFrame.selectedIndex}function to(n){le.lFrame.selectedIndex=n}function xm(){let n=le.lFrame;return Vw(n.tView,n.selectedIndex)}function R1(){return le.lFrame.currentNamespace}function Gu(){return tE}function Ku(n){tE=n}function F1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Nw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Yu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function tu(n,e,t){nE(n,e,3,t)}function nu(n,e,t,r){(n[Q]&3)===t&&nE(n,e,t,r)}function og(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function nE(n,e,t,r){let i=r!==void 0?n[Xo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Xo]+=65536),(a<o||o==-1)&&(L1(n,t,e,c),n[Xo]=(n[Xo]&4294901760)+c+2),c++}function xb(n,e){ir(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),ir(5,n,e)}}function L1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[Xo]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,xb(a,o)):xb(a,o)}function V1(n){return n instanceof no}function j1(n){return(n.flags&8)!==0}function U1(n){return(n.flags&16)!==0}function rE(n){return n!==rs}function hu(n){return n&32767}function B1(n){return n>>16}function gu(n,e){let t=B1(n),r=e;for(;t>0;)r=r[gs],t--;return r}function mu(n){let e=Og;return Og=n,e}function H1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(va)&&(r=t[va]),r==null&&(r=t[va]=z1++);let i=r&iE,o=1<<i;e.data[n+(i>>oE)]|=o}function vu(n,e){let t=sE(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,ag(r.data,n),ag(e,null),ag(r.blueprint,null));let i=Im(n,e),o=n.injectorIndex;if(rE(i)){let s=hu(i),a=gu(i,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ag(n,e){n.push(0,0,0,0,0,0,0,0,e)}function sE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Im(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=dE(i),r===null)return rs;if(t++,i=i[gs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return rs}function Tg(n,e,t){H1(n,e,t)}function q1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(yw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function aE(n,e,t){if(t&ce.Optional||n!==void 0)return n;pm(e,"NodeInjector")}function cE(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[as],o=zt(void 0);try{return i?i.get(e,r,t&ce.Optional):fw(e,r,t&ce.Optional)}finally{zt(o)}}return aE(r,e,t)}function lE(n,e,t,r=ce.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ce.Self)){let s=Y1(n,e,t,r,or);if(s!==or)return s}let o=uE(n,e,t,r,or);if(o!==or)return o}return cE(e,t,r,i)}function uE(n,e,t,r,i){let o=G1(t);if(typeof o=="function"){if(!Qw(e,n,r))return r&ce.Host?aE(i,t,r):cE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))pm(t);else return s}finally{eE()}}else if(typeof o=="number"){let s=null,a=sE(n,e),c=rs,l=r&ce.Host?e[cr][Vn]:null;for((a===-1||r&ce.SkipSelf)&&(c=a===-1?Im(n,e):e[a+8],c===rs||!Ob(r,!1)?a=-1:(s=e[ie],a=hu(c),e=gu(c,e)));a!==-1;){let u=e[ie];if(Ib(o,a,u.data)){let d=W1(a,e,t,s,r,l);if(d!==or)return d}c=e[a+8],c!==rs&&Ob(r,e[ie].data[a+8]===l)&&Ib(o,a,e)?(s=u,a=hu(c),e=gu(c,e)):a=-1}}return i}function W1(n,e,t,r,i,o){let s=e[ie],a=s.data[n+8],c=r==null?Bu(a)&&Og:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,u=ru(a,s,t,c,l);return u!==null?ro(e,s,u,a):or}function ru(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,v=i?a+u:l;for(let g=d;g<v;g++){let b=s[g];if(g<c&&t===b||g>=c&&b.type===t)return g}if(i){let g=s[c];if(g&&ui(g)&&g.type===t)return c}return null}function ro(n,e,t,r){let i=n[t],o=e.data;if(V1(i)){let s=i;s.resolving&&EP(wP(o[t]));let a=mu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?zt(s.injectImpl):null,u=Qw(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&F1(t,o[t],e)}finally{l!==null&&zt(l),mu(a),s.resolving=!1,eE()}}return i}function G1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(va)?n[va]:void 0;return typeof e=="number"?e>=0?e&iE:K1:e}function Ib(n,e,t){let r=1<<n;return!!(t[e+(n>>oE)]&r)}function Ob(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}function K1(){return new Qi(yt(),de())}function Tr(n){return Da(()=>{let e=n.prototype.constructor,t=e[ou]||Pg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ou]||Pg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pg(n){return sw(n)?()=>{let e=Pg(kt(n));return e&&e()}:Zi(n)}function Y1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=uE(o,s,t,r|ce.Self,or);if(a!==or)return a;let c=o.parent;if(!c){let l=s[Pw];if(l){let u=l.get(t,or,r);if(u!==or)return u}c=dE(s),s=s[gs]}o=c}return i}function dE(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Vn]:null}function Om(n){return q1(yt(),n)}function Tb(n,e=null,t=null,r){let i=fE(n,e,t,r);return i.resolveInjectorInitializers(),i}function fE(n,e=null,t=null,r,i=new Set){let o=[t||Ht,JP(n)];return r=r||(typeof n=="object"?void 0:Nt(n)),new ba(o,e||_m(),r||null,i)}function cg(n){return n[Z1]}function J1(){return new Ag(de())}function yu(...n){}function hE(n){let e,t;function r(){n=yu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Pb(n){return queueMicrotask(()=>n()),()=>{n=yu}}function Pm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){hE(()=>{n.callbackScheduled=!1,Ng(n),n.isCheckStableRunning=!0,Pm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ng(n)}function nA(n){let e=()=>{tA(n)},t=X1++;n._inner=n._inner.fork({name:"angular",properties:{[Tm]:!0,[_u]:t,[_u+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(rA(c))return r.invokeTask(o,s,a,c);try{return Ab(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),kb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Ab(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!iA(c)&&e(),kb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ng(n),Pm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ng(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Ab(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kb(n){n._nesting--,Pm(n)}function rA(n){return gE(n,"__ignore_ng_zone__")}function iA(n){return gE(n,"__scheduler_tick__")}function gE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function oA(n="zone.js",e){return n==="noop"?new Cu:n==="zone.js"?new _e(e):n}function aA(){return ms(yt(),de())}function ms(n,e){return new _t(vn(n,e))}function cA(n){return n instanceof _t?n.nativeElement:n}function lA(){return this._results[Symbol.iterator]()}function mE(n){return(n.flags&128)===128}function dA(){return uA++}function fA(n){vE.set(n[Uu],n)}function Fg(n){vE.delete(n[Uu])}function di(n,e){ai(e)?(n[Nb]=e[Uu],fA(e)):n[Nb]=e}function yE(n){return CE(n[wa])}function _E(n){return CE(n[Fn])}function CE(n){for(;n!==null&&!Or(n);)n=n[Fn];return n}function bE(n){Lg=n}function wE(){if(Lg!==void 0)return Lg;if(typeof document<"u")return document;throw new x(210,!1)}function Rm(n,e,t=!1){return mA(n,e,t)}function yA(){if(Gl===void 0&&(Gl=null,vt.trustedTypes))try{Gl=vt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gl}function Zu(n){return yA()?.createHTML(n)||n}function ME(){if(Kl===void 0&&(Kl=null,vt.trustedTypes))try{Kl=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kl}function Rb(n){return ME()?.createHTML(n)||n}function Fb(n){return ME()?.createScriptURL(n)||n}function lo(n){return n instanceof bu?n.changingThisBreaksApplicationSecurity:n}function Ju(n,e){let t=_A(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${iw})`)}return t===e}function _A(n){return n instanceof bu&&n.getTypeName()||null}function CA(n){let e=new jg(n);return bA()?new Vg(e):e}function bA(){try{return!!new window.DOMParser().parseFromString(Zu(""),"text/html")}catch{return!1}}function Fm(n){return n=String(n),n.match(wA)?n:"unsafe:"+n}function Ar(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ia(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}function TA(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function PA(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw OE(e);return e}function AA(n){let e=n.firstChild;if(e&&TA(n,e))throw OE(e);return e}function Vb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function OE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}function jb(n){return n.replace(/&/g,"&amp;").replace(kA,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(NA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function TE(n,e){let t=null;try{Yl=Yl||CA(n);let r=e?String(e):"";t=Yl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Yl.getInertBodyElement(r)}while(r!==o);let a=new Ug().sanitizeChildren(Ub(t)||t);return Zu(a)}finally{if(t){let r=Ub(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Ub(n){return"content"in n&&RA(n)?n.content:null}function RA(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function Xu(n){let e=Lm();return e?Rb(e.sanitize(Oa.HTML,n)||""):Ju(n,"HTML")?Rb(lo(n)):TE(wE(),Sa(n))}function Ie(n){let e=Lm();return e?e.sanitize(Oa.URL,n)||"":Ju(n,"URL")?lo(n):Fm(Sa(n))}function FA(n){let e=Lm();if(e)return Fb(e.sanitize(Oa.RESOURCE_URL,n)||"");if(Ju(n,"ResourceURL"))return Fb(lo(n));throw new x(904,!1)}function LA(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?FA:Ie}function PE(n,e,t){return LA(e,t)(n)}function Lm(){let n=de();return n&&n[ar].sanitizer}function BA(n){return n.replace(VA,e=>e.replace(jA,UA))}function AE(n){return n instanceof Function?n():n}function $A(n){return(n??C(et)).get(Jt)==="browser"}function Vm(n,e){return zA(n,e)}function es(n,e,t,r,i){if(r!=null){let o,s=!1;Or(r)?o=r:ai(r)&&(s=!0,r=r[Ir]);let a=lr(r);n===0&&t!==null?i==null?LE(e,t,a):wu(e,t,a,i||null,!0):n===1&&t!==null?wu(e,t,a,i||null,!0):n===2?ok(e,a,s):n===3&&e.destroyNode(a),o!=null&&ak(e,n,o,t,i)}}function HA(n,e){return n.createText(e)}function qA(n,e,t){n.setValue(e,t)}function WA(n,e){return n.createComment(BA(e))}function kE(n,e,t){return n.createElement(e,t)}function GA(n,e){NE(n,e),e[Ir]=null,e[Vn]=null}function KA(n,e,t,r,i,o){r[Ir]=i,r[Vn]=e,td(n,r,t,1,i,o)}function NE(n,e){e[ar].changeDetectionScheduler?.notify(9),td(n,e,e[Ke],2,null,null)}function YA(n){let e=n[wa];if(!e)return lg(n[ie],n);for(;e;){let t=null;if(ai(e))t=e[wa];else{let r=e[Zt];r&&(t=r)}if(!t){for(;e&&!e[Fn]&&e!==n;)ai(e)&&lg(e[ie],e),e=e[xt];e===null&&(e=n),ai(e)&&lg(e[ie],e),t=e&&e[Fn]}e=t}}function QA(n,e,t,r){let i=Zt+r,o=t.length;r>0&&(t[i-1][Fn]=e),r<o-Zt?(e[Fn]=t[i],hw(t,Zt+r,e)):(t.push(e),e[Fn]=null),e[xt]=t;let s=e[Ji];s!==null&&t!==s&&RE(s,e);let a=e[Mr];a!==null&&a.insertView(n),Sg(e),e[Q]|=128}function RE(n,e){let t=n[cs],r=e[xt];if(ai(r))n[Q]|=pu.HasTransplantedViews;else{let i=r[xt][cr];e[cr]!==i&&(n[Q]|=pu.HasTransplantedViews)}t===null?n[cs]=[e]:t.push(e)}function jm(n,e){let t=n[cs],r=t.indexOf(e);t.splice(r,1)}function Bg(n,e){if(n.length<=Zt)return;let t=Zt+e,r=n[t];if(r){let i=r[Ji];i!==null&&i!==n&&jm(i,r),e>0&&(n[t-1][Fn]=r[Fn]);let o=au(n,Zt+e);GA(r[ie],r);let s=o[Mr];s!==null&&s.detachView(o[ie]),r[xt]=null,r[Fn]=null,r[Q]&=-129}return r}function FE(n,e){if(!(e[Q]&256)){let t=e[Ke];t.destroyNode&&td(n,e,t,3,null,null),YA(e)}}function lg(n,e){if(e[Q]&256)return;let t=ye(null);try{e[Q]&=-129,e[Q]|=256,e[pn]&&rh(e[pn]),JA(n,e),ZA(n,e),e[ie].type===1&&e[Ke].destroy();let r=e[Ji];if(r!==null&&Or(e[xt])){r!==e[xt]&&jm(r,e);let i=e[Mr];i!==null&&i.detachView(n)}Fg(e)}finally{ye(t)}}function ZA(n,e){let t=n.cleanup,r=e[du];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[du]=null);let i=e[si];if(i!==null){e[si]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function JA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof no)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,i,o);try{o.call(i)}finally{ir(5,i,o)}}}}}function XA(n,e,t){return ek(n,e.parent,t)}function ek(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ir];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===sr.None||o===sr.Emulated)return null}return vn(r,t)}}function wu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function LE(n,e,t){n.appendChild(e,t)}function Bb(n,e,t,r,i){r!==null?wu(n,e,t,r,i):LE(n,e,t)}function VE(n,e){return n.parentNode(e)}function tk(n,e){return n.nextSibling(e)}function nk(n,e,t){return ik(n,e,t)}function rk(n,e,t){return n.type&40?vn(n,t):null}function ed(n,e,t,r){let i=XA(n,r,e),o=e[Ke],s=r.parent||e[Vn],a=nk(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Bb(o,i,t[c],a,!1);else Bb(o,i,t,a,!1);$b!==void 0&&$b(o,r,e,t,i)}function ma(n,e){if(e!==null){let t=e.type;if(t&3)return vn(e,n);if(t&4)return $g(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ma(n,r);{let i=n[e.index];return Or(i)?$g(-1,i):lr(i)}}else{if(t&128)return ma(n,e.next);if(t&32)return Vm(e,n)()||lr(n[e.index]);{let r=jE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=eo(n[cr]);return ma(i,r)}else return ma(n,e.next)}}}return null}function jE(n,e){if(e!==null){let r=n[cr][Vn],i=e.projection;return r.projection[i]}return null}function $g(n,e){let t=Zt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return ma(r,i)}return e[Xi]}function ok(n,e,t){n.removeChild(null,e,t)}function Um(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&di(lr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Um(n,e,t.child,r,i,o,!1),es(e,n,i,a,o);else if(c&32){let l=Vm(t,r),u;for(;u=l();)es(e,n,i,u,o);es(e,n,i,a,o)}else c&16?sk(n,e,r,t,i,o):es(e,n,i,a,o);t=s?t.projectionNext:t.next}}function td(n,e,t,r,i,o){Um(t,r,n.firstChild,e,i,o,!1)}function sk(n,e,t,r,i,o){let s=t[cr],c=s[Vn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];es(e,n,i,u,o)}else{let l=c,u=s[xt];mE(r)&&(l.flags|=128),Um(n,e,l,u,i,o,!0)}}function ak(n,e,t,r,i){let o=t[Xi],s=lr(t);o!==s&&es(e,n,r,o,i);for(let a=Zt;a<t.length;a++){let c=t[a];td(c[ie],c,n,e,r,o)}}function ck(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Sr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sr.Important),n.setStyle(t,r,i,o))}}function lk(n,e,t){n.setAttribute(e,"style",t)}function UE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function BE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Cg(n,e,r),i!==null&&UE(n,e,i),o!==null&&lk(n,e,o)}function m(n=1){$E(tt(),de(),co()+n,!1)}function $E(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&tu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nu(e,o,0,t)}to(t)}function D(n,e=ce.Default){let t=de();if(t===null)return F(n,e);let r=yt();return lE(r,t,kt(n),e)}function zE(){let n="invalid";throw new Error(n)}function HE(n,e,t,r,i,o){let s=ye(null);try{let a=null;i&ci.SignalBased&&(a=e[r][Cr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ci.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):kw(e,a,r,o)}finally{ye(s)}}function uk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)to(~i);else{let o=i,s=t[++r],a=t[++r];T1(s,o);let c=e[o];a(2,c)}}}finally{to(-1)}}function nd(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Ir]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),Uw(d),d[xt]=d[gs]=n,d[Ln]=t,d[ar]=s||n&&n[ar],d[Ke]=a||n&&n[Ke],d[as]=c||n&&n[as]||null,d[Vn]=o,d[Uu]=dA(),d[uu]=u,d[Pw]=l,d[cr]=e.type==2?n[cr]:d,d}function Ta(n,e,t,r,i){let o=n.data[e];if(o===null)o=dk(n,e,t,r,i),O1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=S1();o.injectorIndex=s===null?-1:s.injectorIndex}return ao(o,!0),o}function dk(n,e,t,r,i){let o=qw(),s=Em(),a=s?o:o&&o.parent,c=n.data[e]=vk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function qE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function WE(n,e,t,r,i){let o=co(),s=r&2;try{to(-1),s&&e.length>hn&&$E(n,e,hn,!1),ir(s?2:0,i),t(r,i)}finally{to(o),ir(s?3:1,i)}}function Bm(n,e,t){if(bm(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ye(r)}}}function $m(n,e,t){Hw()&&(Ek(n,e,t,vn(t,e)),(t.flags&64)===64&&QE(n,e,t))}function zm(n,e,t=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function GE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Hm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Hm(n,e,t,r,i,o,s,a,c,l,u){let d=hn+r,v=d+i,g=fk(d,v),b=typeof l=="function"?l():l;return g[ie]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}function fk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ur);return t}function pk(n,e,t,r){let o=r.get(vA,EE)||t===sr.ShadowDom,s=n.selectRootElement(e,o);return hk(s),s}function hk(n){gk(n)}function mk(n,e,t,r){let i=XE(e);i.push(t),n.firstCreatePass&&eM(n).push(r,i.length-1)}function vk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return E1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ci.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?Hb(r,t,l,a,c):Hb(r,t,l,a)}return r}function Hb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function yk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],v=t?t.get(d):null,g=v?v.inputs:null,b=v?v.outputs:null;c=zb(0,d.inputs,u,c,g),l=zb(1,d.outputs,u,l,b);let E=c!==null&&s!==null&&!vm(e)?Nk(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _k(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function KE(n,e,t,r,i,o,s,a){let c=vn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Wm(n,t,u,r,i),Bu(e)&&Ck(t,e.index)):e.type&3?(r=_k(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Ck(n,e){let t=gi(e,n);t[Q]&16||(t[Q]|=64)}function qm(n,e,t,r){if(Hw()){let i=r===null?null:{"":-1},o=Dk(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&YE(n,e,t,s,i,a),i&&Sk(t,r,i)}t.mergedAttrs=Ca(t.mergedAttrs,t.attrs)}function YE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Tg(vu(t,e),n,r[l].type);Ik(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=qE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=Ca(t.mergedAttrs,u.hostAttrs),Ok(n,t,e,c,u),xk(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}yk(n,t,o)}function bk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;wk(s)!=a&&s.push(a),s.push(t,r,o)}}function wk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Ek(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Bu(t)&&Tk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||vu(t,e),di(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=ro(e,n,a,t);if(di(l,e),s!==null&&kk(e,a-i,l,c,t,s),ui(c)){let u=gi(t.index,e);u[Ln]=ro(e,n,a,t)}}}function QE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=P1();try{to(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];xg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Mk(c,l)}}finally{to(-1),xg(s)}}function Mk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Dk(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(zP(e,s.selectors,!1))if(r||(r=[]),ui(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;zg(n,e,c)}else r.unshift(s),zg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function zg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Sk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}}function xk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ui(e)&&(t[""]=n)}}function Ik(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ok(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Zi(i.type,!0)),s=new no(o,ui(i),D);n.blueprint[r]=s,t[r]=s,bk(n,e,r,qE(n,t,i.hostVars,ur),i)}function Tk(n,e,t){let r=vn(e,n),i=GE(t),o=n[ar].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=rd(n,nd(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function Pk(n,e,t,r,i,o){let s=vn(n,e);Ak(e[Ke],s,o,n.value,t,r,i)}function Ak(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Sa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function kk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];HE(r,t,c,l,u,d)}}function Nk(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function ZE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function JE(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Mm(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function rd(n,e){return n[wa]?n[Mb][Fn]=e:n[wa]=e,n[Mb]=e,e}function Hg(n,e,t){Mm(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function XE(n){return n[du]??=[]}function eM(n){return n.cleanup??=[]}function tM(n,e){let t=n[as],r=t?t.get(Dr,null):null;r&&r.handleError(e)}function Wm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];HE(u,l,r,a,c,i)}}function Rk(n,e,t){let r=Lw(e,n);qA(n[Ke],r,t)}function Fk(n,e){let t=gi(e,n),r=t[ie];Lk(r,t);let i=t[Ir];i!==null&&t[uu]===null&&(t[uu]=Rm(i,t[as])),Gm(r,t,t[Ln])}function Lk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Gm(n,e,t){Dm(e);try{let r=n.viewQuery;r!==null&&Hg(1,r,t);let i=n.template;i!==null&&WE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Mr]?.finishViewCreation(n),n.staticContentQueries&&JE(n,e),n.staticViewQueries&&Hg(2,n.viewQuery,t);let o=n.components;o!==null&&Vk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Sm()}}function Vk(n,e){for(let t=0;t<e.length;t++)Fk(n,e[t])}function jk(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=nd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ji]=l;let u=n[Mr];return u!==null&&(c[Mr]=u.createEmbeddedView(o)),Gm(o,c,t),c}finally{ye(i)}}function qb(n,e){return!e||e.firstChild===null||mE(n)}function Uk(n,e,t,r=!0){let i=e[ie];if(QA(i,e,n,t),r){let s=$g(t,n),a=e[Ke],c=VE(a,n[Xi]);c!==null&&KA(i,n[Vn],a,e,c,s)}let o=e[uu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Eu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(lr(o)),Or(o)&&Bk(o,r);let s=t.type;if(s&8)Eu(n,e,t.child,r);else if(s&32){let a=Vm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=jE(e,t);if(Array.isArray(a))r.push(...a);else{let c=eo(e[cr]);Eu(c[ie],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Bk(n,e){for(let t=Zt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&Eu(r[ie],r,i,e)}n[Xi]!==n[Ir]&&e.push(n[Xi])}function $k(n){return n[pn]??zk(n)}function zk(n){let e=nM.pop()??Object.create(qk);return e.lView=n,e}function Hk(n){n.lView[pn]!==n&&(n.lView=null,nM.push(n))}function Wk(n){let e=n[pn]??Object.create(Gk);return e.lView=n,e}function rM(n){return n.type!==2}function iM(n,e=!0,t=0){let r=n[ar],i=r.rendererFactory,o=!1;o||i.begin?.();try{Yk(n,t)}catch(s){throw e&&tM(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Yk(n,e){let t=Gw();try{Sb(!0),qg(n,e);let r=0;for(;zu(n);){if(r===Kk)throw new x(103,!1);r++,qg(n,1)}}finally{Sb(t)}}function Qk(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[ar].inlineEffectRunner?.flush(),Dm(e);let a=!0,c=null,l=null;o||(rM(n)?(l=$k(e),c=il(l)):L0()===null?(a=!1,l=Wk(e),c=il(l)):e[pn]&&(rh(e[pn]),e[pn]=null));try{Uw(e),I1(n.bindingStartIndex),t!==null&&WE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&tu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&nu(e,g,0,null),og(e,0)}if(s||Zk(e),oM(e,0),n.contentQueries!==null&&JE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&tu(e,g)}else{let g=n.contentHooks;g!==null&&nu(e,g,1),og(e,1)}uk(n,e);let d=n.components;d!==null&&aM(e,d,0);let v=n.viewQuery;if(v!==null&&Hg(2,v,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&tu(e,g)}else{let g=n.viewHooks;g!==null&&nu(e,g,2),og(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ig]){for(let g of e[ig])g();e[ig]=null}o||(e[Q]&=-73)}catch(u){throw o||Hu(e),u}finally{l!==null&&(th(l,c),a&&Hk(l)),Sm()}}function oM(n,e){for(let t=yE(n);t!==null;t=_E(t))for(let r=Zt;r<t.length;r++){let i=t[r];sM(i,e)}}function Zk(n){for(let e=yE(n);e!==null;e=_E(e)){if(!(e[Q]&pu.HasTransplantedViews))continue;let t=e[cs];for(let r=0;r<t.length;r++){let i=t[r];Bw(i)}}}function Jk(n,e,t){let r=gi(e,n);sM(r,t)}function sM(n,e){wm(n)&&qg(n,e)}function qg(n,e){let r=n[ie],i=n[Q],o=n[pn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nh(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)Qk(r,n,r.template,n[Ln]);else if(i&8192){oM(n,1);let a=r.components;a!==null&&aM(n,a,1)}}function aM(n,e,t){for(let r=0;r<e.length;r++)Jk(n,e[r],t)}function Km(n,e){let t=Gw()?64:1088;for(n[ar].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=eo(n);if(Mg(n)&&!r)return n;n=r}return null}function tN(){return id(yt(),de())}function id(n,e){return n.type&4?new eN(e,n,ms(n,e)):null}function Wb(n,e){return nN(n,e)}function rN(n){let e=Error(`No component factory found for ${Nt(n)}.`);return e[iN]=n,e}function oN(){let n=de(),e=yt(),t=gi(e.index,n);return(ai(t)?t:n)[Ke]}function Du(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mg(i,a);else if(o==2){let c=a,l=e[++s];r=mg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Gb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ci.None;e?t.push({propName:s,templateName:r,isSignal:(a&ci.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function aN(n){let e=n.toLowerCase();return e==="svg"?h1:e==="math"?g1:null}function cN(n,e){let t=n[ie],r=hn;return n[r]=e,Ta(t,r,2,"#host",null)}function lN(n,e,t,r,i,o,s){let a=i[ie];uN(r,n,e,s);let c=null;e!==null&&(c=Rm(e,i[as]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=nd(i,GE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&zg(a,n,r.length-1),rd(i,d),i[n.index]=d}function uN(n,e,t,r){for(let i of n)e.mergedAttrs=Ca(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Du(e,e.mergedAttrs,!0),t!==null&&BE(r,t,e))}function dN(n,e,t,r,i,o){let s=yt(),a=i[ie],c=vn(s,i);YE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,v=ro(i,a,d,s);di(v,i)}QE(a,i,s),c&&di(c,i);let l=ro(i,a,s.directiveStart+s.componentOffset,s);if(n[Ln]=i[Ln]=l,o!==null)for(let u of o)u(l,e);return Bm(a,s,i),l}function fN(n,e,t,r){if(r)Cg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=KP(e.selectors[0]);i&&Cg(n,t,i),o&&o.length>0&&UE(n,t,o.join(" "))}}function pN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function hN(){let n=yt();Yu(de()[ie],n)}function gN(){let n=yt();return dM(n,de())}function Kb(n){return n[fu]}function ug(n){return n[fu]||(n[fu]=[])}function dM(n,e){let t,r=e[n.index];return Or(r)?t=r:(t=ZE(r,e,null,n),e[n.index]=t,rd(e,t)),yN(t,e,n,r),new uM(t,n,e)}function vN(n,e){let t=n[Ke],r=t.createComment(""),i=vn(e,n),o=VE(t,i);return wu(t,o,r,tk(t,i),!1),r}function CN(n,e,t){return _N(n,e,t)}function bN(n,e,t,r){if(n[Xi])return;let i;t.type&8?i=lr(r):i=vN(e,t),n[Xi]=i}function wN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function EN(n,e){return n.type&11?ms(n,e):n.type&4?id(n,e):null}function MN(n,e,t,r){return t===-1?EN(e,n):t===-2?DN(n,e,r):ro(n,n[ie],t,e)}function DN(n,e,t){if(t===_t)return ms(e,n);if(t===fi)return id(e,n);if(t===kr)return dM(e,n)}function fM(n,e,t,r){let i=e[Mr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(MN(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Xg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=fM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Zt;d<u.length;d++){let v=u[d];v[Ji]===v[xt]&&Xg(v[ie],v,l,r)}if(u[cs]!==null){let d=u[cs];for(let v=0;v<d.length;v++){let g=d[v];Xg(g[ie],g,l,r)}}}}}return r}function SN(n,e){return n[Mr].queries[e].queryList}function pM(n,e,t){let r=new Rg((t&4)===4);return mk(n,e,r,r.destroy),(e[Mr]??=new Qg).queries.push(new Yg(r))-1}function xN(n,e,t){let r=tt();return r.firstCreatePass&&(hM(r,new xu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),pM(r,de(),e)}function IN(n,e,t,r){let i=tt();if(i.firstCreatePass){let o=yt();hM(i,new xu(e,t,r),o.index),TN(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return pM(i,de(),t)}function ON(n){return n.split(",").map(e=>e.trim())}function hM(n,e,t){n.queries===null&&(n.queries=new Zg),n.queries.track(new Jg(e,t))}function TN(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Qm(n,e){return n.queries.getByIndex(e)}function PN(n,e){let t=n[ie],r=Qm(t,e);return r.crossesNgTemplate?Xg(t,n,e,[]):fM(t,n,r,e)}function uo(n){Yb.has(n)||(Yb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function AN(n){return typeof n=="function"&&n[Cr]!==void 0}function fo(n,e){uo("NgSignals");let t=K0(n),r=t[Cr];return e?.equal&&(r.equal=e.equal),t.set=i=>ih(r,i),t.update=i=>Y0(r,i),t.asReadonly=kN.bind(t),t}function kN(){let n=this[Cr];if(n.readonlyFn===void 0){let e=()=>this();e[Cr]=n,n.readonlyFn=e}return n.readonlyFn}function gM(n){return AN(n)&&typeof n.set=="function"}function NN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(VN))}return o}return Iu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,v)=>{a.push(""),s.push(r(d).then(g=>{a[l+v]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>jN(o));e.push(c)}),FN(),Promise.all(e).then(()=>{})}function FN(){let n=Iu;return Iu=new Map,n}function LN(){return Iu.size===0}function VN(n){return typeof n=="string"?n:n.text()}function jN(n){RN.delete(n)}function UN(n){return Object.getPrototypeOf(n.prototype).constructor}function qt(n){let e=UN(n.type),t=!0,r=[n];for(;e;){let i;if(ui(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ql(n.inputs),s.inputTransforms=Ql(n.inputTransforms),s.declaredInputs=Ql(n.declaredInputs),s.outputs=Ql(n.outputs);let a=i.hostBindings;a&&qN(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&zN(n,c),l&&HN(n,l),BN(n,i),hP(n.outputs,i.outputs),ui(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===qt&&(t=!1)}}e=Object.getPrototypeOf(e)}$N(r)}function BN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function $N(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ca(i.hostAttrs,t=Ca(t,i.hostAttrs))}}function Ql(n){return n===is?{}:n===Ht?[]:n}function zN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function HN(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function qN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Zm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function WN(n,e,t){return new Ou(n,e,t,!1)}function od(n,e,t=null){return new em({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function mM(n){return KN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function GN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function KN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Jm(n,e,t){return n[e]=t}function YN(n,e){return n[e]}function xr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function QN(n,e,t,r){let i=xr(n,e,t);return xr(n,e+1,r)||i}function ZN(n){return(n.flags&32)===32}function JN(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ta(e,n,4,s||null,a||null);qm(e,t,u,ls(l,c)),Yu(e,u);let d=u.tView=Hm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function XN(n,e,t,r,i,o,s,a,c,l){let u=t+hn,d=e.firstCreatePass?JN(u,e,n,r,i,o,s,a,c):e.data[u];ao(d,!1);let v=eR(e,n,d,t);Gu()&&ed(e,n,v,d),di(v,n);let g=ZE(v,n,v,d);return n[u]=g,rd(n,g),CN(g,d,n),$u(d)&&$m(e,n,d),c!=null&&zm(n,d,l),d}function k(n,e,t,r,i,o,s,a){let c=de(),l=tt(),u=ls(l.consts,o);return XN(c,l,n,e,t,r,i,u,s,a),k}function tR(n,e,t,r){return Ku(!0),e[Ke].createComment("")}function Xm(n,e){!e?.injector&&Cm(Xm);let t=e?.injector??C(et);return $A(t)?(uo("NgAfterNextRender"),rR(n,t,e,!0)):iR}function nR(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function rR(n,e,t,r){let i=e.get(vM);i.impl??=e.get(tm);let o=t?.phase??ts.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Ft):null,a=new nm(i.impl,nR(n,o),r,s);return i.impl.register(a),a}function vs(n,e,t,r){let i=de(),o=Wu();if(xr(i,o,e)){let s=tt(),a=xm();Pk(a,i,n,e,t,r)}return vs}function yM(n,e,t,r){return xr(n,Wu(),t)?e+Sa(t)+r:ur}function Zl(n,e){return n<<17|e<<2}function oo(n){return n>>17&32767}function oR(n){return(n&2)==2}function sR(n,e){return n&131071|e<<17}function rm(n){return n|2}function ps(n){return(n&131068)>>2}function dg(n,e){return n&-131069|e<<2}function aR(n){return(n&1)===1}function im(n){return n|1}function cR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=oo(s),c=ps(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||xa(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let v=oo(n[a+1]);n[r+1]=Zl(v,a),v!==0&&(n[v+1]=dg(n[v+1],r)),n[a+1]=sR(n[a+1],r)}else n[r+1]=Zl(a,0),a!==0&&(n[a+1]=dg(n[a+1],r)),a=r;else n[r+1]=Zl(c,0),a===0?a=r:n[c+1]=dg(n[c+1],r),c=r;l&&(n[r+1]=rm(n[r+1])),Qb(n,u,r,!0),Qb(n,u,r,!1),lR(e,u,n,r,o),s=Zl(a,c),o?e.classBindings=s:e.styleBindings=s}function lR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&xa(o,e)>=0&&(t[r+1]=im(t[r+1]))}function Qb(n,e,t,r){let i=n[t+1],o=e===null,s=r?oo(i):ps(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];uR(c,e)&&(a=!0,n[s+1]=r?im(l):rm(l)),s=r?oo(l):ps(l)}a&&(n[t+1]=r?rm(i):im(i))}function uR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xa(n,e)>=0:!1}function dR(n){return n.substring(Rn.key,Rn.keyEnd)}function fR(n){return pR(n),_M(n,CM(n,0,Rn.textEnd))}function _M(n,e){let t=Rn.textEnd;return t===e?-1:(e=Rn.keyEnd=hR(n,Rn.key=e,t),CM(n,e,t))}function pR(n){Rn.key=0,Rn.keyEnd=0,Rn.value=0,Rn.valueEnd=0,Rn.textEnd=n.length}function CM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function hR(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function y(n,e,t){let r=de(),i=Wu();if(xr(r,i,e)){let o=tt(),s=xm();KE(o,s,r,n,e,r[Ke],t,!1)}return y}function om(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Wm(n,t,o[s],s,r)}function Bn(n,e){return mR(n,e,null,!0),Bn}function gR(n,e){for(let t=fR(e);t>=0;t=_M(e,t))mm(n,dR(e),!0)}function mR(n,e,t,r){let i=de(),o=tt(),s=Kw(2);if(o.firstUpdatePass&&wM(o,n,s,r),e!==ur&&xr(i,s,e)){let a=o.data[co()];EM(o,a,i,i[Ke],n,i[s+1]=MR(e,t),r,s)}}function vR(n,e,t,r){let i=tt(),o=Kw(2);i.firstUpdatePass&&wM(i,null,o,r);let s=de();if(t!==ur&&xr(s,o,t)){let a=i.data[co()];if(MM(a,r)&&!bM(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=mg(c,t||"")),om(i,a,s,t,r)}else ER(i,a,s,s[Ke],s[o+1],s[o+1]=wR(n,e,t),r,o)}}function bM(n,e){return e>=n.expandoStartIndex}function wM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[co()],s=bM(n,t);MM(o,r)&&e===null&&!s&&(e=!1),e=yR(i,o,e,r),cR(i,o,e,t,s,r)}}function yR(n,e,t,r){let i=A1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=fg(null,n,e,t,r),t=Ma(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=fg(i,n,e,t,r),o===null){let c=_R(n,e,r);c!==void 0&&Array.isArray(c)&&(c=fg(null,n,e,c[1],r),c=Ma(c,e.attrs,r),CR(n,e,r,c))}else o=bR(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function _R(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ps(r)!==0)return n[oo(r)]}function CR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[oo(i)]=r}function bR(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ma(r,s,t)}return Ma(r,e.attrs,t)}function fg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ma(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ma(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),mm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function wR(n,e,t){if(t==null||t==="")return Ht;let r=[],i=lo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function ER(n,e,t,r,i,o,s,a){i===ur&&(i=Ht);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let v=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,b=null,E;u===d?(c+=2,l+=2,v!==g&&(b=d,E=g)):d===null||u!==null&&u<d?(c+=2,b=u):(l+=2,b=d,E=g),b!==null&&EM(n,e,t,r,b,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function EM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=aR(l)?Zb(c,e,t,i,ps(l),s):void 0;if(!Pu(u)){Pu(o)||oR(l)&&(o=Zb(c,null,t,i,a,s));let d=Lw(co(),t);ck(r,s,d,i,o)}}function Zb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,v=t[i+1];v===ur&&(v=d?Ht:void 0);let g=d?ng(v,r):u===r?v:void 0;if(l&&!Pu(g)&&(g=ng(c,r)),Pu(g)&&(a=g,s))return a;let b=n[i+1];i=s?oo(b):ps(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ng(c,r))}return a}function Pu(n){return n!==void 0}function MR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Nt(lo(n)))),n}function MM(n,e){return(n.flags&(e?8:16))!==0}function DM(n,e,t){let r=de(),i=yM(r,n,e,t);vR(mm,gR,i,!0)}function DR(n,e,t,r,i,o){let s=e.consts,a=ls(s,i),c=Ta(e,n,2,r,a);return qm(e,t,c,ls(s,o)),c.attrs!==null&&Du(c,c.attrs,!1),c.mergedAttrs!==null&&Du(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function p(n,e,t,r){let i=de(),o=tt(),s=hn+n,a=i[Ke],c=o.firstCreatePass?DR(s,o,i,e,t,r):o.data[s],l=SR(o,i,c,a,e,n);i[s]=l;let u=$u(c);return ao(c,!0),BE(a,l,c),!ZN(c)&&Gu()&&ed(o,i,l,c),C1()===0&&di(l,i),b1(),u&&($m(o,i,c),Bm(o,c,i)),r!==null&&zm(i,c),p}function f(){let n=yt();Em()?Ww():(n=n.parent,ao(n,!1));let e=n;M1(e)&&D1(),w1();let t=tt();return t.firstCreatePass&&(Yu(t,n),bm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&j1(e)&&om(t,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&U1(e)&&om(t,e,de(),e.stylesWithoutHost,!1),f}function A(n,e,t,r){return p(n,e,t,r),f(),A}function xR(n,e,t,r,i){let o=e.consts,s=ls(o,r),a=Ta(e,n,8,"ng-container",s);s!==null&&Du(a,s,!0);let c=ls(o,i);return qm(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ct(n,e,t){let r=de(),i=tt(),o=n+hn,s=i.firstCreatePass?xR(o,i,r,e,t):i.data[o];ao(s,!0);let a=IR(i,r,s,n);return r[o]=a,Gu()&&ed(i,r,a,s),di(a,r),$u(s)&&($m(i,r,s),Bm(i,s,r)),t!=null&&zm(r,s),Ct}function bt(){let n=yt(),e=tt();return Em()?Ww():(n=n.parent,ao(n,!1)),e.firstCreatePass&&(Yu(e,n),bm(n)&&e.queries.elementEnd(n)),bt}function z(){return de()}function OR(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function yn(n){let e=PR(n),t=Jb(e);if(t)return t;let r=e.split("-")[0];if(t=Jb(r),t)return t;if(r==="en")return TR;throw new x(701,!1)}function Jb(n){return n in pg||(pg[n]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[n]),pg[n]}function PR(n){return n.toLowerCase().replace(/_/g,"-")}function kR(n){typeof n=="string"&&(AR=n.toLowerCase().replace(/_/g,"-"))}function S(n,e,t,r){let i=de(),o=tt(),s=yt();return SM(o,i,i[Ke],s,n,e,r),S}function RR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[du],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function SM(n,e,t,r,i,o,s){let a=$u(r),l=n.firstCreatePass&&eM(n),u=e[Ln],d=XE(e),v=!0;if(r.type&3||s){let E=vn(r,e),R=s?s(E):E,$=d.length,se=s?pe=>s(lr(pe[r.index])):r.index,Y=null;if(!s&&a&&(Y=RR(n,e,i,r.index)),Y!==null){let pe=Y.__ngLastListenerFn__||Y;pe.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,v=!1}else{o=ew(r,e,u,o),NR(E,i,o);let pe=t.listen(R,i,o);d.push(o,pe),l&&l.push(i,se,$,$+1)}}else o=ew(r,e,u,o);let g=r.outputs,b;if(v&&g!==null&&(b=g[i])){let E=b.length;if(E)for(let R=0;R<E;R+=2){let $=b[R],se=b[R+1],We=e[$][se].subscribe(o),Se=d.length;d.push(o,We),l&&l.push(i,r.index,Se,-(Se+1))}}}function Xb(n,e,t,r){let i=ye(null);try{return ir(6,e,t),t(r)!==!1}catch(o){return tM(n,o),!1}finally{ir(7,e,t),ye(i)}}function ew(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?gi(n.index,e):e;Km(s,5);let a=Xb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Xb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function w(n=1){return N1(n)}function xM(n,e,t,r){IN(n,e,t,r)}function sd(n,e,t){xN(n,e,t)}function ys(n){let e=de(),t=tt(),r=Yw();Mm(r+1);let i=Qm(t,r);if(n.dirty&&m1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=PN(e,r);n.reset(o,cA),n.notifyOnChanges()}return!0}return!1}function _s(){return SN(de(),Yw())}function FR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function at(n){let e=x1();return jw(e,hn+n)}function _(n,e=""){let t=de(),r=tt(),i=n+hn,o=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],s=LR(r,t,o,e,n);t[i]=s,Gu()&&ed(r,t,s,o),ao(o,!1)}function It(n){return Oe("",n,""),It}function Oe(n,e,t){let r=de(),i=yM(r,n,e,t);return i!==ur&&Rk(r,co(),i),Oe}function Lt(n,e,t){gM(e)&&(e=e());let r=de(),i=Wu();if(xr(r,i,e)){let o=tt(),s=xm();KE(o,s,r,n,e,r[Ke],t,!1)}return Lt}function Wt(n,e){let t=gM(n);return t&&n.set(e),t}function Vt(n,e){let t=de(),r=tt(),i=yt();return SM(r,t,t[Ke],i,n,e),Vt}function VR(n,e,t){let r=tt();if(r.firstCreatePass){let i=ui(n);sm(t,r.data,r.blueprint,i,!0),sm(e,r.data,r.blueprint,i,!1)}}function sm(n,e,t,r,i){if(n=kt(n),Array.isArray(n))for(let o=0;o<n.length;o++)sm(n[o],e,t,r,i);else{let o=tt(),s=de(),a=yt(),c=ss(n)?n:kt(n.provide),l=Ow(n),u=a.providerIndexes&1048575,d=a.directiveStart,v=a.providerIndexes>>20;if(ss(n)||!n.multi){let g=new no(l,i,D),b=gg(c,e,i?u:u+v,d);b===-1?(Tg(vu(a,s),o,c),hg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[b]=g,s[b]=g)}else{let g=gg(c,e,u+v,d),b=gg(c,e,u,u+v),E=g>=0&&t[g],R=b>=0&&t[b];if(i&&!R||!i&&!E){Tg(vu(a,s),o,c);let $=BR(i?UR:jR,t.length,i,r,l);!i&&R&&(t[b].providerFactory=$),hg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push($),s.push($)}else{let $=IM(t[i?b:g],l,!i&&r);hg(o,n,g>-1?g:b,$)}!i&&r&&R&&t[b].componentProviders++}}}function hg(n,e,t,r){let i=ss(e),o=n1(e);if(i||o){let c=(o?kt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function IM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function jR(n,e,t,r){return am(this.multi,[])}function UR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ro(t,t[ie],this.providerFactory.index,r);o=a.slice(0,s),am(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],am(i,o);return o}function am(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function BR(n,e,t,r,i){let o=new no(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,IM(o,i,r&&!t),o}function nt(n,e=[]){return t=>{t.providersResolver=(r,i)=>VR(r,i?i(n):n,e)}}function OM(n){uo("NgStandalone"),n.getStandaloneInjector=e=>e.get($R).getOrCreateStandaloneInjector(n)}function TM(n,e,t){let r=n.\u0275cmp;r.directiveDefs=lu(e,!1),r.pipeDefs=lu(t,!0)}function ad(n,e,t){let r=qu()+n,i=de();return i[r]===ur?Jm(i,r,t?e.call(t):e()):YN(i,r)}function Pa(n,e,t,r){return AM(de(),qu(),n,e,t,r)}function _n(n,e,t,r,i){return zR(de(),qu(),n,e,t,r,i)}function PM(n,e){let t=n[e];return t===ur?void 0:t}function AM(n,e,t,r,i,o){let s=e+t;return xr(n,s,i)?Jm(n,s+1,o?r.call(o,i):r(i)):PM(n,s+1)}function zR(n,e,t,r,i,o,s){let a=e+t;return QN(n,a,i,o)?Jm(n,a+2,s?r.call(s,i,o):r(i,o)):PM(n,a+2)}function wt(n,e){let t=tt(),r,i=n+hn;t.firstCreatePass?(r=HR(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Zi(r.type,!0)),s,a=zt(D);try{let c=mu(!1),l=o();return mu(c),FR(t,de(),i,l),l}finally{zt(a)}}function HR(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Et(n,e,t){let r=n+hn,i=de(),o=jw(i,r);return qR(i,r)?AM(i,qu(),e,o.transform,t,o):o.transform(t)}function qR(n,e){return n[ie].data[e].pure}function $n(n,e){return id(n,e)}function WR(n){Jl!==null&&(n.defaultEncapsulation!==Jl.defaultEncapsulation||n.preserveWhitespaces!==Jl.preserveWhitespaces)||(Jl=n)}function GR(n){tv=n}function mi(n){return!!n&&typeof n.then=="function"}function nv(n){return!!n&&typeof n.subscribe=="function"}function KR(){G0(()=>{throw new x(600,!1)})}function YR(n){return n.isBoundToModule}function ZR(n,e,t){try{let r=t();return mi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function NM(n,e){return Array.isArray(e)?e.reduce(NM,n):M(M({},n),e)}function iu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JR(n,e,t,r){if(!t&&!zu(n))return;iM(n,e,t&&!r?0:1)}function eF(n,e,t){let r=new Tu(t);return Promise.resolve(r)}function tw(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function nF({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(B(M({},RM()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:os,multi:!0,useFactory:()=>{let r=C(tF,{optional:!0});return()=>r.initialize()}},{provide:os,multi:!0,useFactory:()=>{let r=C(rF);return()=>{r.initialize()}}},e===!0?{provide:cM,useValue:!0}:[],{provide:lM,useValue:t??pE}]}function RM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function oF(){return typeof $localize<"u"&&$localize.locale||Au}function Xl(n){return!n.moduleRef}function sF(n){let e=Xl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Xl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Dr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Xl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ku);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ku);s.add(o),n.moduleRef.onDestroy(()=>{iu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return ZR(r,t,()=>{let o=e.get(kM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(pd,Au);if(kR(s||Au),Xl(n)){let a=e.get(Cn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return aF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function aF(n,e){let t=n.injector.get(Cn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new x(-403,!1);e.push(n)}function cF(n){if(ya&&!ya.get(LM,!1))throw new x(400,!1);KR(),ya=n;let e=n.get(FM);return dF(n),e}function rv(n,e,t=[]){let r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=VM();if(!s||s.injector.get(LM,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):cF(lF(a,r))}return uF(i)}}function lF(n=[],e){return et.create({name:e,providers:[{provide:ju,useValue:"platform"},{provide:ku,useValue:new Set([()=>ya=null])},...n]})}function uF(n){let e=VM();if(!e)throw new x(401,!1);return e}function VM(){return ya?.get(FM)??null}function dF(n){n.get(Am,null)?.forEach(t=>t())}function fF(n){return pF(yt(),de(),(n&16)===16)}function pF(n,e,t){if(Bu(n)&&!t){let r=gi(n.index,e);return new io(r,r)}else if(n.type&175){let r=e[cr];return new io(r,e)}return null}function nw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function rw(){return new iv([new lm])}function vi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function po(n,e){uo("NgSignals");let t=H0(n);return e?.equal&&(t[Cr].equal=e.equal),t}function Xt(n){let e=ye(null);try{return n()}finally{ye(e)}}function BM(n){let e=li(n);if(!e)return null;let t=new fs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var iw,x,Wl,vt,gP,cw,yb,lw,vP,L,yP,_P,CP,bP,ou,va,_b,ce,vg,MP,_a,yg,su,DP,SP,xP,Cb,ns,Vu,hm,is,Ht,os,gw,mw,cu,vw,sr,ci,_w,XP,ju,eu,r1,rg,Rt,ba,Ir,ie,Q,xt,Fn,Vn,uu,du,Ln,as,ar,Ke,wa,Mb,gs,cr,Ji,Xo,Mr,Uu,Pw,si,ig,pn,hn,Aw,Xi,fu,cs,Zt,pu,Dg,Rw,Db,ir,h1,g1,le,zw,eE,tE,rs,no,sg,Ig,Og,$1,iE,oE,z1,or,Qi,et,Q1,Z1,pE,Ft,Ag,Pr,kg,X,Tm,_u,X1,_e,eA,Cu,Dr,sA,_t,Rg,vE,uA,Nb,Lg,Qu,pA,Am,Jt,km,Nm,hA,gA,mA,EE,vA,Gl,Kl,bu,Vg,jg,wA,DE,SE,xE,EA,MA,DA,Lb,IE,SA,xA,IA,OA,Ug,kA,NA,Yl,Oa,VA,jA,UA,Sr,zA,ik,$b,ur,gk,nM,qk,Gk,Kk,io,fi,Xk,eN,F9,nN,us,Ym,cM,lM,Wg,Mu,iN,Gg,ds,pi,Un,sN,Su,fs,Kg,kr,mN,uM,yN,_N,Yg,Qg,xu,Zg,Jg,Yb,Iu,RN,hi,Ea,Ou,Tu,em,eR,ts,vM,tm,nm,iR,Rn,SR,IR,Yi,TR,pg,Ze,Au,AR,NR,LR,$R,Jl,cd,ev,Aa,ld,ud,tv,Cs,kM,dd,QR,Cn,cm,fd,XR,tF,rF,iF,pd,ku,FM,ya,LM,zn,lm,hF,um,dm,fm,Nu,iv,jM,UM,N=h(()=>{"use strict";Z0();we();ii();iw="https://g.co/ng/security#xss",x=class extends Error{constructor(e,t){super(Ru(e,t)),this.code=e}};Wl="__parameters__";vt=globalThis;gP=Ae({__forward_ref__:Ae});cw=Ae({\u0275prov:Ae}),yb=Ae({\u0275inj:Ae}),lw=Ae({ngInjectableDef:Ae}),vP=Ae({ngInjectorDef:Ae}),L=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};yP=Ae({\u0275cmp:Ae}),_P=Ae({\u0275dir:Ae}),CP=Ae({\u0275pipe:Ae}),bP=Ae({\u0275mod:Ae}),ou=Ae({\u0275fac:Ae}),va=Ae({__NG_ELEMENT_ID__:Ae}),_b=Ae({__NG_ENV_ID__:Ae});ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{});MP={},_a=MP,yg="__NG_DI_FLAG__",su="ngTempTokenPath",DP="ngTokenPath",SP=/\n/gm,xP="\u0275",Cb="__source";Vu=pw(ow("Optional"),8),hm=pw(ow("SkipSelf"),4);is={},Ht=[],os=new L(""),gw=new L("",-1),mw=new L(""),cu=class{get(e,t=_a){if(t===_a){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return t}},vw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vw||{}),sr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(sr||{}),ci=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ci||{});_w="ng-template";XP=Ae({provide:String,useValue:Ae});ju=new L(""),eu={},r1={};Rt=class{},ba=class extends Rt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Eg(e,s=>this.processProvider(s)),this.records.set(gw,Jo(void 0,this)),i.has("environment")&&this.records.set(Rt,Jo(void 0,this));let o=this.records.get(ju);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mw,Ht,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=oi(this),r=zt(void 0),i;try{return e()}finally{oi(t),zt(r)}}get(e,t=_a,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_b))return e[_b](this);r=Lu(r);let i,o=oi(this),s=zt(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=c1(e)&&Fu(e);l&&this.injectableDefInScope(l)?c=Jo(wg(e),eu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ce.Self?_m():this.parent;return t=r&ce.Optional&&t===_a?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[su]=a[su]||[]).unshift(Nt(e)),o)throw a;return PP(a,e,"R3InjectorError",this.source)}else throw a}finally{zt(s),oi(o)}}resolveInjectorInitializers(){let e=ye(null),t=oi(this),r=zt(void 0),i;try{let o=this.get(os,Ht,ce.Self);for(let s of o)s()}finally{oi(t),zt(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=kt(e);let t=ss(e)?e:kt(e&&e.provide),r=o1(e);if(!ss(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Jo(void 0,eu,!0),i.factory=()=>_g(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===eu&&(t.value=r1,t.value=t.factory()),typeof t.value=="object"&&t.value&&a1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=kt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Ir=0,ie=1,Q=2,xt=3,Fn=4,Vn=5,uu=6,du=7,Ln=8,as=9,ar=10,Ke=11,wa=12,Mb=13,gs=14,cr=15,Ji=16,Xo=17,Mr=18,Uu=19,Pw=20,si=21,ig=22,pn=23,hn=25,Aw=1,Xi=7,fu=8,cs=9,Zt=10,pu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(pu||{});Dg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};jn.ngInherit=!0;Rw="__ngSimpleChanges__";Db=null,ir=function(n,e,t){Db?.(n,e,t)},h1="svg",g1="math";le={lFrame:Jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},zw=!1;eE=Xw;tE=!0;rs=-1,no=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};sg={},Ig=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Lu(r);let i=this.injector.get(e,sg,r);return i!==sg||t===sg?i:this.parentInjector.get(e,t,r)}};Og=!0;$1=256,iE=$1-1,oE=5,z1=0,or={};Qi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return lE(this._tNode,this._lView,e,Lu(r),t)}};et=class n{static{this.THROW_IF_NOT_FOUND=_a}static{this.NULL=new cu}static create(e,t){if(Array.isArray(e))return Tb({name:""},t,e,"");{let r=e.name??"";return Tb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=I({token:n,providedIn:"any",factory:()=>F(gw)})}static{this.__NG_ELEMENT_ID__=-1}};Q1=new L("");Q1.__NG_ELEMENT_ID__=n=>{let e=yt();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new x(204,!1)};Z1="ngOriginalError";pE=!0,Ft=(()=>{class n{static{this.__NG_ELEMENT_ID__=J1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Ag=class extends Ft{constructor(e){super(),this._lView=e}onDestroy(e){return $w(this._lView,e),()=>_1(this._lView,e)}};Pr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),kg=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Tw()&&(this.destroyRef=C(Ft,{optional:!0})??void 0,this.pendingTasks=C(Pr,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},X=kg;Tm="isAngularZone",_u=Tm+"_ID",X1=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pE}=e;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,nA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,eA,yu,yu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},eA={};Cu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};Dr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cg(e);for(;t&&cg(t);)t=cg(t);return t||null}},sA=new L("",{providedIn:"root",factory:()=>{let n=C(_e),e=C(Dr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});_t=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=aA}}return n})();Rg=class n{get changes(){return this._changes??=new X}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=lA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=NP(e);(this._changesDetected=!kP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};vE=new Map,uA=0;Nb="__ngContext__";Qu=new L("",{providedIn:"root",factory:()=>pA}),pA="ng",Am=new L(""),Jt=new L("",{providedIn:"platform",factory:()=>"unknown"}),km=new L(""),Nm=new L("",{providedIn:"root",factory:()=>wE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),hA="h",gA="b",mA=()=>null;EE=!1,vA=new L("",{providedIn:"root",factory:()=>EE});bu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iw})`}};Vg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Zu(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},jg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Zu(e),t}};wA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;DE=Ar("area,br,col,hr,img,wbr"),SE=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xE=Ar("rp,rt"),EA=Ia(xE,SE),MA=Ia(SE,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),DA=Ia(xE,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lb=Ia(DE,MA,DA,EA),IE=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SA=Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xA=Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),IA=Ia(IE,SA,xA),OA=Ar("script,style,template"),Ug=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=AA(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=PA(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Vb(e).toLowerCase();if(!Lb.hasOwnProperty(t))return this.sanitizedSomething=!0,!OA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!IA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;IE[a]&&(c=Fm(c)),this.buf.push(" ",s,'="',jb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Vb(e).toLowerCase();Lb.hasOwnProperty(t)&&!DE.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(jb(e))}};kA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NA=/([^\#-~ |!])/g;Oa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Oa||{});VA=/^>|^->|<!--|-->|--!>|<!-$/g,jA=/(<|>)/g,UA="\u200B$1\u200B";Sr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Sr||{});ik=rk;ur={};gk=()=>null;nM=[];qk=B(M({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Hu(n.lView)},consumerOnSignalRead(){this.lView[pn]=this}});Gk=B(M({},sa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=eo(n.lView);for(;e&&!rM(e[ie]);)e=eo(e);e&&Bw(e)},consumerOnSignalRead(){this.lView[pn]=this}});Kk=100;io=class{get rootNodes(){let e=this._lView,t=e[ie];return Eu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(e){this._lView[Ln]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(Or(e)){let t=e[fu],r=t?t.indexOf(this):-1;r>-1&&(Bg(e,r),au(t,r))}this._attachedToViewContainer=!1}FE(this._lView[ie],this._lView)}onDestroy(e){$w(this._lView,e)}markForCheck(){Km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Sg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,iM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Mg(this._lView),t=this._lView[Ji];t!==null&&!e&&jm(t,this._lView),NE(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let t=Mg(this._lView),r=this._lView[Ji];r!==null&&!t&&RE(r,this._lView),Sg(this._lView)}},fi=(()=>{class n{static{this.__NG_ELEMENT_ID__=tN}}return n})(),Xk=fi,eN=class extends Xk{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=jk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new io(i)}};F9=new RegExp(`^(\\d+)*(${gA}|${hA})*(.*)`),nN=()=>null;us=class{},Ym=new L("",{providedIn:"root",factory:()=>!1}),cM=new L(""),lM=new L(""),Wg=class{},Mu=class{};iN="ngComponent",Gg=class{resolveComponentFactory(e){throw rN(e)}},ds=class{static{this.NULL=new Gg}},pi=class{},Un=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>oN()}}return n})();sN=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>null})}}return n})();Su=class extends ds{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=li(e);return new fs(t,this.ngModule)}};fs=class extends Mu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Gb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Gb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=GP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof Rt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ig(e,s):e,c=a.get(pi,null);if(c===null)throw new x(407,!1);let l=a.get(sN,null),u=a.get(us,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},v=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?pk(v,r,this.componentDef.encapsulation,a):kE(v,g,aN(g)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let R=null;b!==null&&(R=Rm(b,a,!0));let $=Hm(0,null,null,1,0,null,null,null,null,null,null),se=nd(null,$,null,E,null,null,d,v,a,null,R);Dm(se);let Y,pe,We=null;try{let Se=this.componentDef,Ve,lt=null;Se.findHostDirectiveDefs?(Ve=[],lt=new Map,Se.findHostDirectiveDefs(Se,Ve,lt),Ve.push(Se)):Ve=[Se];let _r=cN(se,b);We=lN(_r,b,Se,Ve,se,d,v),pe=Vw($,hn),b&&fN(v,Se,b,r),t!==void 0&&pN(pe,this.ngContentSelectors,t),Y=dN(We,Se,Ve,lt,se,[hN]),Gm($,se,null)}catch(Se){throw We!==null&&Fg(We),Fg(se),Se}finally{Sm()}return new Kg(this.componentType,Y,ms(pe,se),se,pe)}finally{ye(o)}}},Kg=class extends Wg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new io(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Wm(o[ie],o,i,e,t),this.previousInputValues.set(e,t);let s=gi(this._tNode.index,o);Km(s,1)}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};kr=(()=>{class n{static{this.__NG_ELEMENT_ID__=gN}}return n})();mN=kr,uM=class extends mN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ms(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Im(this._hostTNode,this._hostLView);if(rE(e)){let t=gu(e,this._hostLView),r=hu(e),i=t[ie].data[r+8];return new Qi(i,t)}else return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Kb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Wb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,qb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!u1(e),a;if(s)a=t;else{let b=t||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new fs(li(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Rt,null);E&&(o=E)}let u=li(c.componentType??{}),d=Wb(this._lContainer,u?.id??null),v=d?.firstChild??null,g=c.create(l,i,v,o);return this.insertImpl(g.hostView,a,qb(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(v1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xt],l=new uM(c,c[Vn],c[xt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Uk(s,i,o,r),e.attachToViewContainerRef(),hw(ug(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Kb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Bg(this._lContainer,t);r&&(au(ug(this._lContainer),t),FE(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Bg(this._lContainer,t);return r&&au(ug(this._lContainer),t)!=null?new io(r):null}_adjustIndex(e,t=0){return e??this.length+t}};yN=bN,_N=()=>!1;Yg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Qg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Qm(e,t).matches!==null&&this.queries[t].setDirty()}},xu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=ON(e):this.predicate=e}},Zg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,wN(t,o)),this.matchTNodeWithReadOption(e,t,ru(t,e,o,!1,!1))}else r===fi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ru(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===_t||i===kr||i===fi&&t.type&4)this.addMatch(t.index,-2);else{let o=ru(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};Yb=new Set;Iu=new Map,RN=new Set;hi=class{},Ea=class{},Ou=class extends hi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Su(this);let o=Ew(e);this._bootstrapComponents=AE(o.bootstrap),this._r3Injector=fE(e,t,[{provide:hi,useValue:this},{provide:ds,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tu=class extends Ea{constructor(e){super(),this.moduleType=e}create(e){return new Ou(this.moduleType,e,[])}};em=class extends hi{constructor(e){super(),this.componentFactoryResolver=new Su(this),this.instance=null;let t=new ba([...e.providers,{provide:hi,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],e.parent||_m(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};eR=tR;ts=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ts||{}),vM=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),tm=class n{constructor(){this.ngZone=C(_e),this.scheduler=C(us),this.errorHandler=C(Dr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ts.EarlyRead,ts.Write,ts.MixedReadWrite,ts.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}},nm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};iR={destroy(){}};Rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};SR=(n,e,t,r,i,o)=>(Ku(!0),kE(r,i,R1()));IR=(n,e,t,r)=>(Ku(!0),WA(e[Ke],""));Yi=void 0;TR=["en",[["a","p"],["AM","PM"],Yi],[["AM","PM"],Yi,Yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yi,"{1} 'at' {0}",Yi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",OR],pg={};Ze=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ze||{});Au="en-US",AR=Au;NR=(n,e,t)=>{};LR=(n,e,t,r,i)=>(Ku(!0),HA(e[Ke],r));$R=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Sw(!1,t.type),i=r.length>0?od([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(F(Rt))})}}return n})();Jl=null;cd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ev=new L(""),Aa=new L(""),ld=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,tv||(GR(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(F(_e),F(ud),F(Aa))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ud=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return tv?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();Cs=new L(""),kM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=C(Cs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(mi(o))t.push(o);else if(nv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dd=new L("");QR=10;Cn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(sA),this.afterRenderManager=C(vM),this.zonelessEnabled=C(Ym),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=C(Pr).hasPendingTasks.pipe(j(t=>!t)),this._injector=C(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Mu;if(!this._injector.get(kM).done){let v=!i&&ww(t),g=!1;throw new x(405,g)}let s;i?s=t:s=this._injector.get(ds).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=YR(s)?void 0:this._injector.get(hi),c=r||s.selector,l=s.create(et.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(ev,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),iu(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new x(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(pi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<QR;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)JR(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>zu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;iu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(dd,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>iu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();cm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},fd=(()=>{class n{compileModuleSync(t){return new Tu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ew(t),o=AE(i.declarations).reduce((s,a)=>{let c=li(a);return c&&s.push(new fs(c)),s},[]);return new cm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XR=new L("");tF=(()=>{class n{constructor(){this.zone=C(_e),this.changeDetectionScheduler=C(us),this.applicationRef=C(Cn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();rF=(()=>{class n{constructor(){this.subscription=new je,this.initialized=!1,this.zone=C(_e),this.pendingTasks=C(Pr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iF=(()=>{class n{constructor(){this.appRef=C(Cn),this.taskService=C(Pr),this.ngZone=C(_e),this.zonelessEnabled=C(Ym),this.disableScheduling=C(cM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new je,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_u):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(lM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Pb:hE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_u+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Pb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();pd=new L("",{providedIn:"root",factory:()=>C(pd,ce.Optional|ce.SkipSelf)||oF()}),ku=new L("");FM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>oA(r?.ngZone,B(M({},RM({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[nF({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:us,useExisting:iF}],c=WN(t.moduleType,this.injector,a);return sF({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=NM({},r);return eF(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(ku,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(F(et))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ya=null,LM=new L("");zn=(()=>{class n{static{this.__NG_ELEMENT_ID__=fF}}return n})();lm=class{constructor(){}supports(e){return mM(e)}create(e){return new um(e)}},hF=(n,e)=>e,um=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<nw(r,i,o)?t:r,a=nw(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let v=0;v<l;v++){let g=v<o.length?o[v]:o[v]=0,b=g+v;u<=b&&b<l&&(o[v]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!mM(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,GN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new dm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},fm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Nu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new fm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};iv=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:rw})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||rw()),deps:[[n,new hm,new Vu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new x(901,!1)}}return n})(),jM=rv(null,"core",[]),UM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(F(Cn))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})()});function dr(){return KM}function YM(n){KM??=n}function yv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function $M(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Rr(n){return n&&n[0]!=="?"?"?"+n:n}function vF(){return new ws(F(Lr))}function yF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function zM(n){return n.replace(/\/index.html$/,"")}function _F(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function CF(n){return yn(n)[Ze.LocaleId]}function bF(n,e,t){let r=yn(n),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],o=bn(i,e);return bn(o,t)}function wF(n,e,t){let r=yn(n),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],o=bn(i,e);return bn(o,t)}function EF(n,e,t){let r=yn(n),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],o=bn(i,e);return bn(o,t)}function MF(n,e){let r=yn(n)[Ze.Eras];return bn(r,e)}function hd(n,e){let t=yn(n);return bn(t[Ze.DateFormat],e)}function gd(n,e){let t=yn(n);return bn(t[Ze.TimeFormat],e)}function md(n,e){let r=yn(n)[Ze.DateTimeFormat];return bn(r,e)}function Md(n,e){let t=yn(n),r=t[Ze.NumberSymbols][e];if(typeof r>"u"){if(e===yi.CurrencyDecimal)return t[Ze.NumberSymbols][yi.Decimal];if(e===yi.CurrencyGroup)return t[Ze.NumberSymbols][yi.Group]}return r}function XM(n){if(!n[Ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function DF(n){let e=yn(n);return XM(e),(e[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?ov(r):[ov(r[0]),ov(r[1])])}function SF(n,e,t){let r=yn(n);XM(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],o=bn(i,e)||[];return bn(o,t)||[]}function bn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function ov(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function OF(n,e,t,r){let i=VF(n);e=Nr(t,e)||e;let s=[],a;for(;e;)if(a=IF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=tD(r,c),i=LF(i,r,!0));let l="";return s.forEach(u=>{let d=RF(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ed(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Nr(n,e){let t=CF(n);if(vd[t]??={},vd[t][e])return vd[t][e];let r="";switch(e){case"shortDate":r=hd(n,en.Short);break;case"mediumDate":r=hd(n,en.Medium);break;case"longDate":r=hd(n,en.Long);break;case"fullDate":r=hd(n,en.Full);break;case"shortTime":r=gd(n,en.Short);break;case"mediumTime":r=gd(n,en.Medium);break;case"longTime":r=gd(n,en.Long);break;case"fullTime":r=gd(n,en.Full);break;case"short":let i=Nr(n,"shortTime"),o=Nr(n,"shortDate");r=yd(md(n,en.Short),[i,o]);break;case"medium":let s=Nr(n,"mediumTime"),a=Nr(n,"mediumDate");r=yd(md(n,en.Medium),[s,a]);break;case"long":let c=Nr(n,"longTime"),l=Nr(n,"longDate");r=yd(md(n,en.Long),[c,l]);break;case"full":let u=Nr(n,"fullTime"),d=Nr(n,"fullDate");r=yd(md(n,en.Full),[u,d]);break}return r&&(vd[t][e]=r),r}function yd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Hn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function TF(n,e){return Hn(n,3).substring(0,e)}function rt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=PF(n,o);if((t>0||a>-t)&&(a+=t),n===Me.Hours)a===0&&t===-12&&(a=12);else if(n===Me.FractionalSeconds)return TF(a,e);let c=Md(s,yi.MinusSign);return Hn(a,e,c,r,i)}}function PF(n,e){switch(n){case Me.FullYear:return e.getFullYear();case Me.Month:return e.getMonth();case Me.Date:return e.getDate();case Me.Hours:return e.getHours();case Me.Minutes:return e.getMinutes();case Me.Seconds:return e.getSeconds();case Me.FractionalSeconds:return e.getMilliseconds();case Me.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Fe(n,e,t=jt.Format,r=!1){return function(i,o){return AF(i,o,n,e,t,r)}}function AF(n,e,t,r,i,o){switch(t){case Ee.Months:return EF(e,i,r)[n.getMonth()];case Ee.Days:return wF(e,i,r)[n.getDay()];case Ee.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=DF(e),u=SF(e,i,r),d=l.findIndex(v=>{if(Array.isArray(v)){let[g,b]=v,E=s>=g.hours&&a>=g.minutes,R=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(E&&R)return!0}else if(E||R)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return bF(e,i,r)[s<12?0:1];case Ee.Eras:return MF(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function _d(n){return function(e,t,r){let i=-1*r,o=Md(t,yi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Fr.Short:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case Fr.ShortGMT:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case Fr.Long:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case Fr.Extended:return r===0?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function NF(n){let e=Ed(n,kF,1).getDay();return Ed(n,0,1+(e<=bd?bd:bd+7)-e)}function eD(n){let e=n.getDay(),t=e===0?-3:bd-e;return Ed(n.getFullYear(),n.getMonth(),n.getDate()+t)}function sv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=eD(t),s=NF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,n,Md(r,yi.MinusSign))}}function Cd(n,e=!1){return function(t,r){let o=eD(t).getFullYear();return Hn(o,n,Md(r,yi.MinusSign),e)}}function RF(n){if(av[n])return av[n];let e;switch(n){case"G":case"GG":case"GGG":e=Fe(Ee.Eras,ke.Abbreviated);break;case"GGGG":e=Fe(Ee.Eras,ke.Wide);break;case"GGGGG":e=Fe(Ee.Eras,ke.Narrow);break;case"y":e=rt(Me.FullYear,1,0,!1,!0);break;case"yy":e=rt(Me.FullYear,2,0,!0,!0);break;case"yyy":e=rt(Me.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(Me.FullYear,4,0,!1,!0);break;case"Y":e=Cd(1);break;case"YY":e=Cd(2,!0);break;case"YYY":e=Cd(3);break;case"YYYY":e=Cd(4);break;case"M":case"L":e=rt(Me.Month,1,1);break;case"MM":case"LL":e=rt(Me.Month,2,1);break;case"MMM":e=Fe(Ee.Months,ke.Abbreviated);break;case"MMMM":e=Fe(Ee.Months,ke.Wide);break;case"MMMMM":e=Fe(Ee.Months,ke.Narrow);break;case"LLL":e=Fe(Ee.Months,ke.Abbreviated,jt.Standalone);break;case"LLLL":e=Fe(Ee.Months,ke.Wide,jt.Standalone);break;case"LLLLL":e=Fe(Ee.Months,ke.Narrow,jt.Standalone);break;case"w":e=sv(1);break;case"ww":e=sv(2);break;case"W":e=sv(1,!0);break;case"d":e=rt(Me.Date,1);break;case"dd":e=rt(Me.Date,2);break;case"c":case"cc":e=rt(Me.Day,1);break;case"ccc":e=Fe(Ee.Days,ke.Abbreviated,jt.Standalone);break;case"cccc":e=Fe(Ee.Days,ke.Wide,jt.Standalone);break;case"ccccc":e=Fe(Ee.Days,ke.Narrow,jt.Standalone);break;case"cccccc":e=Fe(Ee.Days,ke.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=Fe(Ee.Days,ke.Abbreviated);break;case"EEEE":e=Fe(Ee.Days,ke.Wide);break;case"EEEEE":e=Fe(Ee.Days,ke.Narrow);break;case"EEEEEE":e=Fe(Ee.Days,ke.Short);break;case"a":case"aa":case"aaa":e=Fe(Ee.DayPeriods,ke.Abbreviated);break;case"aaaa":e=Fe(Ee.DayPeriods,ke.Wide);break;case"aaaaa":e=Fe(Ee.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":e=Fe(Ee.DayPeriods,ke.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=Fe(Ee.DayPeriods,ke.Wide,jt.Standalone,!0);break;case"bbbbb":e=Fe(Ee.DayPeriods,ke.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(Ee.DayPeriods,ke.Abbreviated,jt.Format,!0);break;case"BBBB":e=Fe(Ee.DayPeriods,ke.Wide,jt.Format,!0);break;case"BBBBB":e=Fe(Ee.DayPeriods,ke.Narrow,jt.Format,!0);break;case"h":e=rt(Me.Hours,1,-12);break;case"hh":e=rt(Me.Hours,2,-12);break;case"H":e=rt(Me.Hours,1);break;case"HH":e=rt(Me.Hours,2);break;case"m":e=rt(Me.Minutes,1);break;case"mm":e=rt(Me.Minutes,2);break;case"s":e=rt(Me.Seconds,1);break;case"ss":e=rt(Me.Seconds,2);break;case"S":e=rt(Me.FractionalSeconds,1);break;case"SS":e=rt(Me.FractionalSeconds,2);break;case"SSS":e=rt(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=_d(Fr.Short);break;case"ZZZZZ":e=_d(Fr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_d(Fr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=_d(Fr.Long);break;default:return null}return av[n]=e,e}function tD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function FF(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function LF(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=tD(e,i);return FF(n,r*(o-i))}function VF(n){if(HM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Ed(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(xF))return jF(r)}let e=new Date(n);if(!HM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function jF(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function HM(n){return n instanceof Date&&!isNaN(n.valueOf())}function Dd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function WM(n,e){n.context.$implicit=e.item}function GM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Nt(e)}'.`)}function rD(n,e){return new x(2100,!1)}function xd(n){return n===bv}function Id(n){return n===qF}function WF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var KM,wd,ft,vv,QM,mF,Lr,ZM,_v,JM,ws,jt,ke,en,yi,xF,vd,IF,Fr,Me,Ee,kF,bd,av,cv,qM,fr,lv,pr,me,uv,dv,Cv,nD,fv,pv,UF,BF,Gt,$F,zF,HF,Sd,iD,bv,qF,oD,hv,gv,bs,De=h(()=>{"use strict";N();N();KM=null;wd=class{},ft=new L(""),vv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>C(mF),providedIn:"platform"})}}return n})(),QM=new L(""),mF=(()=>{class n extends vv{constructor(){super(),this._doc=C(ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dr().getBaseHref(this._doc)}onPopState(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Lr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>C(_v),providedIn:"root"})}}return n})(),ZM=new L(""),_v=(()=>{class n extends Lr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Rr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(vv),F(ZM,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JM=(()=>{class n extends Lr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=yv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(vv),F(ZM,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ws=(()=>{class n{constructor(t){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=_F($M(zM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Rr(r))}normalize(t){return n.stripTrailingSlash(yF(this._basePath,zM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Rr}static{this.joinWithSlash=yv}static{this.stripTrailingSlash=$M}static{this.\u0275fac=function(r){return new(r||n)(F(Lr))}}static{this.\u0275prov=I({token:n,factory:()=>vF(),providedIn:"root"})}}return n})();jt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(jt||{}),ke=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ke||{}),en=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(en||{}),yi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};xF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vd={},IF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Fr||{}),Me=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Me||{}),Ee=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ee||{});kF=0,bd=4;av={};cv=/\s+/,qM=[],fr=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=qM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(cv):qM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(cv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(cv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(_t),D(Un))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),lv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new lv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),WM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);WM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(kr),D(fi),D(iv))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();me=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new uv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){GM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){GM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(kr),D(fi))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),uv=class{constructor(){this.$implicit=null,this.ngIf=null}};dv=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Cv=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),nD=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new dv(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||n)(D(kr),D(fi),D(Cv,9))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})();fv=class{createSubscription(e,t){return Xt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Xt(()=>e.unsubscribe())}},pv=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},UF=new pv,BF=new fv,Gt=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(mi(t))return UF;if(nv(t))return BF;throw rD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(zn,16))}}static{this.\u0275pipe=so({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),$F="mediumDate",zF=new L(""),HF=new L(""),Sd=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??$F,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return OF(t,s,o||this.locale,a)}catch(s){throw rD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(pd,16),D(zF,24),D(HF,24))}}static{this.\u0275pipe=so({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),iD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),bv="browser",qF="server";oD=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>xd(C(Jt))?new hv(C(ft),window):new gv})}}return n})(),hv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=WF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};gv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},bs=class{}});function GF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function sD(n){return encodeURIComponent(n).replace(KF,(e,t)=>YF[t]??e)}function Od(n){return`${n}`}function QF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function aD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cD(n){return typeof Blob<"u"&&n instanceof Blob}function lD(n){return typeof FormData<"u"&&n instanceof FormData}function ZF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function wv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function uD(n){if(n.url)return n.url;let e=eL.toLocaleLowerCase();return n.headers.get(e)}function Sv(){}function nL(n){n.then(Sv,Sv)}function gD(n,e){return e(n)}function rL(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function iL(n,e,t){return(r,i)=>mn(t,()=>e(r,o=>n(o,i)))}function aL(){let n=null;return(e,t)=>{n===null&&(n=(C(oL,{optional:!0})??[]).reduceRight(rL,gD));let r=C(Pr);if(C(mD)){let o=r.add();return n(e,t).pipe(Qt(()=>r.remove(o)))}else return n(e,t)}}function lL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function gL(n,e){let t=n.url.toLowerCase();if(!C(vD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=C(Ad).getToken(),i=C(pL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function mL(n,e){return{\u0275kind:n,\u0275providers:e}}function vL(...n){let e=[ho,fD,dD,{provide:Na,useExisting:dD},{provide:Td,useFactory:()=>C(tL,{optional:!0})??C(fD)},{provide:xv,useValue:gL,multi:!0},{provide:vD,useValue:!0},{provide:Ad,useClass:hL}];for(let t of n)e.push(...t.\u0275providers);return hs(e)}function yL(){return mL(yD.LegacyInterceptors,[{provide:pD,useFactory:aL},{provide:xv,useExisting:pD,multi:!0}])}var Na,Td,Vr,Ev,KF,YF,Ci,Mv,ka,bi,Ra,Pd,Fa,_i,hD,JF,ho,XF,eL,tL,Dv,oL,xv,sL,mD,dD,cL,fD,vD,uL,dL,fL,pL,Ad,hL,yD,pD,_D,La=h(()=>{"use strict";N();N();we();ii();De();De();Na=class{},Td=class{},Vr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},Ev=class{encodeKey(e){return sD(e)}encodeValue(e){return sD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};KF=/%(\d[a-f0-9])/gi,YF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};Ci=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ev,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=GF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Od):[Od(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Od(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Od(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},Mv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};ka=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(QF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Vr,this.context??=new Mv,!this.params)this.params=new Ci,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||aD(this.body)||cD(this.body)||lD(this.body)||ZF(this.body)?this.body:this.body instanceof Ci?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||lD(this.body)?null:cD(this.body)?this.body.type||null:aD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ci?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,g)=>v.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((v,g)=>v.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},bi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(bi||{}),Ra=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Vr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pd=class n extends Ra{constructor(e={}){super(e),this.type=bi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fa=class n extends Ra{constructor(e={}){super(e),this.type=bi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_i=class extends Ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},hD=200,JF=204;ho=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ka)o=t;else{let c;i.headers instanceof Vr?c=i.headers:c=new Vr(i.headers);let l;i.params&&(i.params instanceof Ci?l=i.params:l=new Ci({fromObject:i.params})),o=new ka(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=V(o).pipe(un(c=>this.handler.handle(c)));if(t instanceof ka||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof Fa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ci().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wv(i,r))}post(t,r,i={}){return this.request("POST",t,wv(i,r))}put(t,r,i={}){return this.request("PUT",t,wv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(F(Na))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),XF=/^\)\]\}',?\n/,eL="X-Request-URL";tL=(()=>{class n{constructor(){this.fetchImpl=C(Dv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=C(_e)}handle(t){return new ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Sv,o=>r.error(new _i({error:o}))),()=>i.abort()})}doRequest(t,r,i){return P(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,M({signal:r},o)));nL(g),i.next({type:bi.Sent}),s=yield g}catch(g){i.error(new _i({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Vr(s.headers),c=s.statusText,l=uD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new Pd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),b=[],E=s.body.getReader(),R=0,$,se,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>P(this,null,function*(){for(;;){let{done:We,value:Se}=yield E.read();if(We)break;if(b.push(Se),R+=Se.length,t.reportProgress){se=t.responseType==="text"?(se??"")+($??=new TextDecoder).decode(Se,{stream:!0}):void 0;let Ve=()=>i.next({type:bi.DownloadProgress,total:g?+g:void 0,loaded:R,partialText:se});Y?Y.run(Ve):Ve()}}}));let pe=this.concatChunks(b,R);try{let We=s.headers.get("Content-Type")??"";d=this.parseBody(t,pe,We)}catch(We){i.error(new _i({error:We,headers:new Vr(s.headers),status:s.status,statusText:s.statusText,url:uD(s)??t.urlWithParams}));return}}u===0&&(u=d?hD:0),u>=200&&u<300?(i.next(new Fa({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new _i({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(XF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Dv=class{};oL=new L(""),xv=new L(""),sL=new L(""),mD=new L("",{providedIn:"root",factory:()=>!0});dD=(()=>{class n extends Na{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=C(Pr),this.contributeToStability=C(mD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(xv),...this.injector.get(sL,[])]));this.chain=r.reduceRight((i,o)=>iL(i,o,this.injector),gD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(F(Td),F(Rt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),cL=/^\)\]\}',?\n/;fD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?G(r.\u0275loadImpl()):V(null)).pipe(Re(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((E,R)=>s.setRequestHeader(E,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let E=t.detectContentTypeHeader();E!==null&&s.setRequestHeader("Content-Type",E)}if(t.responseType){let E=t.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let E=s.statusText||"OK",R=new Vr(s.getAllResponseHeaders()),$=lL(s)||t.url;return c=new Pd({headers:R,status:s.status,statusText:E,url:$}),c},u=()=>{let{headers:E,status:R,statusText:$,url:se}=l(),Y=null;R!==JF&&(Y=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=Y?hD:0);let pe=R>=200&&R<300;if(t.responseType==="json"&&typeof Y=="string"){let We=Y;Y=Y.replace(cL,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Se){Y=We,pe&&(pe=!1,Y={error:Se,text:Y})}}pe?(o.next(new Fa({body:Y,headers:E,status:R,statusText:$,url:se||void 0})),o.complete()):o.error(new _i({error:Y,headers:E,status:R,statusText:$,url:se||void 0}))},d=E=>{let{url:R}=l(),$=new _i({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error($)},v=!1,g=E=>{v||(o.next(l()),v=!0);let R={type:bi.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(R.total=E.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},b=E=>{let R={type:bi.UploadProgress,loaded:E.loaded};E.lengthComputable&&(R.total=E.total),o.next(R)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:bi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(F(bs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),vD=new L(""),uL="XSRF-TOKEN",dL=new L("",{providedIn:"root",factory:()=>uL}),fL="X-XSRF-TOKEN",pL=new L("",{providedIn:"root",factory:()=>fL}),Ad=class{},hL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Dd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(F(ft),F(Jt),F(dL))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();yD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(yD||{});pD=new L("");_D=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[vL(yL())]})}}return n})()});function _L(){return Va=Va||document.querySelector("base"),Va?Va.getAttribute("href"):null}function CL(n){return new URL(n,document.baseURI).pathname}function SL(n){return EL.replace(Fv,n)}function xL(n){return wL.replace(Fv,n)}function DD(n,e){return e.map(t=>t.replace(Fv,n))}function CD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function AL(){Av.makeCurrent()}function kL(){return new Dr}function NL(){return bE(document),document}var Pv,Av,Va,kv,bL,Nv,wD,kd,Ov,ED,Tv,Fv,MD,wL,EL,ML,DL,Nd,ja,Rv,Ua,Rd,IL,bD,OL,TL,PL,RL,SD,FL,LL,VL,Fd,xD,Ba=h(()=>{"use strict";De();N();N();Pv=class extends wd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Av=class n extends Pv{static makeCurrent(){YM(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=_L();return t==null?null:CL(t)}resetBaseElement(){Va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Dd(document.cookie,e)}},Va=null;kv=class{addToWindow(e){vt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new x(5103,!1);return o},vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),vt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=vt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?dr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},bL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Nv=new L(""),wD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(F(Nv),F(_e))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),kd=class{constructor(e){this._doc=e}},Ov="ng-app-id",ED=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Id(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Ov}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ov),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ov,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(F(ft),F(Qu),F(Nm,8),F(Jt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Tv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fv=/%COMP%/g,MD="%COMP%",wL=`_nghost-${MD}`,EL=`_ngcontent-${MD}`,ML=!0,DL=new L("",{providedIn:"root",factory:()=>ML});Nd=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Id(a),this.defaultRenderer=new ja(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sr.ShadowDom&&(r=B(M({},r),{encapsulation:sr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Rd?i.applyToHost(t):i instanceof Ua&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case sr.Emulated:o=new Rd(c,l,r,this.appId,u,s,a,d);break;case sr.ShadowDom:return new Rv(c,l,t,r,s,a,this.nonce,d);default:o=new Ua(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(F(wD),F(ED),F(Qu),F(DL),F(ft),F(Jt),F(_e),F(Nm))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ja=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Tv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(CD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(CD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Tv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Tv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sr.DashCase|Sr.Important)?e.style.setProperty(t,r,i&Sr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};Rv=class extends ja{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=DD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ua=class extends ja{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?DD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rd=class extends Ua{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=SL(l),this.hostAttr=xL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},IL=(()=>{class n extends kd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(F(ft))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),bD=["alt","control","meta","shift"],OL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},PL=(()=>{class n extends kd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=OL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bD.forEach(s=>{if(s!==i){let a=TL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(F(ft))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();RL=[{provide:Jt,useValue:bv},{provide:Am,useValue:AL,multi:!0},{provide:ft,useFactory:NL,deps:[]}],SD=rv(jM,"browser",RL),FL=new L(""),LL=[{provide:Aa,useClass:kv,deps:[]},{provide:ev,useClass:ld,deps:[_e,ud,Aa]},{provide:ld,useClass:ld,deps:[_e,ud,Aa]}],VL=[{provide:ju,useValue:"root"},{provide:Dr,useFactory:kL,deps:[]},{provide:Nv,useClass:IL,multi:!0,deps:[ft,_e,Jt]},{provide:Nv,useClass:PL,multi:!0,deps:[ft]},Nd,ED,wD,{provide:pi,useExisting:Nd},{provide:bs,useClass:bL,deps:[]},[]],Fd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Qu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(F(FL,12))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[...VL,...LL],imports:[iD,UM]})}}return n})(),xD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(F(ft))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Is(n){return new Bv(n)}function jL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function UL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hr(n[t],e[t]))return!1;return!0}function hr(n,e){let t=n?$v(n):void 0,r=e?$v(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!jD(n[i],e[i]))return!1;return!0}function $v(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function UD(n){return n.length>0?n[n.length-1]:null}function Mi(n){return Ah(n)?n:mi(n)?G(Promise.resolve(n)):V(n)}function OD(n,e,t){return BL[t.paths](n.root,e.root,t.matrixParams)&&BD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function $L(n,e){return hr(n,e)}function $D(n,e,t){if(!mo(n.segments,e.segments)||!jd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$D(n.children[r],e.children[r],t))return!1;return!0}function zL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jD(n[t],e[t]))}function zD(n,e,t){return HD(n,e,e.segments,t)}function HD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!mo(i,t)||e.hasChildren()||!jd(i,t,r))}else if(n.segments.length===t.length){if(!mo(n.segments,t)||!jd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!zD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!mo(n.segments,i)||!jd(n.segments,i,r)||!n.children[oe]?!1:HD(n.children[oe],e,o,r)}}function jd(n,e,t){return e.every((r,i)=>BD[t](n[i].parameters,r.parameters))}function HL(n,e){return mo(n,e)&&n.every((t,r)=>hr(t.parameters,e[r].parameters))}function mo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function qL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}function Ud(n){return n.segments.map(e=>WD(e)).join("/")}function $a(n,e){if(!n.hasChildren())return Ud(n);if(e){let t=n.children[oe]?$a(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${$a(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=qL(n,(r,i)=>i===oe?[$a(n.children[oe],!1)]:[`${i}:${$a(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Ud(n)}/${t[0]}`:`${Ud(n)}/(${t.join("//")})`}}function qD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ld(n){return qD(n).replace(/%3B/gi,";")}function GL(n){return encodeURI(n)}function zv(n){return qD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bd(n){return decodeURIComponent(n)}function TD(n){return Bd(n.replace(/\+/g,"%20"))}function WD(n){return`${zv(n.path)}${KL(n.parameters)}`}function KL(n){return Object.entries(n).map(([e,t])=>`;${zv(e)}=${zv(t)}`).join("")}function YL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ld(t)}=${Ld(i)}`).join("&"):`${Ld(t)}=${Ld(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function Lv(n){let e=n.match(QL);return e?e[0]:""}function JL(n){let e=n.match(ZL);return e?e[0]:""}function e2(n){let e=n.match(XL);return e?e[0]:""}function n2(n){let e=n.match(t2);return e?e[0]:""}function GD(n){return n.segments.length>0?new Te([],{[oe]:n}):n}function KD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=KD(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return r2(t)}function r2(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Te(n.segments.concat(e.segments),e.children)}return n}function vo(n){return n instanceof Ur}function i2(n,e,t=null,r=null){let i=YD(n);return QD(i,e,t,r)}function YD(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=GD(r);return e??i}function QD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Vv(i,i,i,t,r);let o=o2(e);if(o.toRoot())return Vv(i,i,new Te([],{}),t,r);let s=s2(o,i,n),a=s.processChildren?qa(s.segmentGroup,s.index,o.commands):JD(s.segmentGroup,s.index,o.commands);return Vv(i,s.segmentGroup,a,t,r)}function $d(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ka(n){return typeof n=="object"&&n!=null&&n.outlets}function Vv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=ZD(n,e,t);let a=GD(KD(s));return new Ur(a,o,i)}function ZD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ZD(o,e,t)}),new Te(n.segments,r)}function o2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new zd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zd(t,e,r)}function s2(n,e,t){if(n.isAbsolute)return new Ds(e,!0,0);if(!t)return new Ds(e,!1,NaN);if(t.parent===null)return new Ds(t,!0,0);let r=$d(n.commands[0])?0:1,i=t.segments.length-1+r;return a2(t,i,n.numberOfDoubleDots)}function a2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Ds(r,!1,i-o)}function c2(n){return Ka(n[0])?n[0].outlets:{[oe]:n}}function JD(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return qa(n,e,t);let r=l2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Te(n.segments.slice(r.pathIndex),n.children),qa(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?qv(n,e,t):r.match?qa(n,0,i):qv(n,e,t)}function qa(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=c2(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=qa(n.children[oe],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function l2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ka(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!AD(c,l,s))return o;r+=2}else{if(!AD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ka(o)){let c=u2(o.outlets);return new Te(r,c)}if(i===0&&$d(t[0])){let c=n.segments[e];r.push(new go(c.path,PD(t[0]))),i++;continue}let s=Ka(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$d(a)?(r.push(new go(s,PD(a))),i+=2):(r.push(new go(s,{})),i++)}return new Te(r,{})}function u2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=qv(new Te([],{}),0,r))}),e}function PD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function AD(n,e,t){return n==t.path&&hr(e,t.parameters)}function d2(n,e){return n.providers&&!n._injector&&(n._injector=od(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qn(n){return n.outlet||oe}function f2(n,e){let t=n.filter(r=>qn(r)===e);return t.push(...n.filter(r=>qn(r)!==e)),t}function rc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function ry(n,e){if(n===e.value)return e;for(let t of e.children){let r=ry(n,t);if(r)return r}return null}function iy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=iy(n,t);if(r.length)return r.unshift(e),r}return[]}function Ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function XD(n){let e=p2(n),t=new fe([new go("",{})]),r=new fe({}),i=new fe({}),o=new fe({}),s=new fe(""),a=new Ut(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new Kd(new tn(a,[]),e)}function p2(n){let e={},t={},r={},i="",o=new Ss([],e,r,i,t,oe,n,null,{});return new Qd("",new tn(o,[]))}function Yd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&tS(i)&&(r.resolve[tc]=i.title),r}function py(n,e){e.value._routerState=n,e.children.forEach(t=>py(n,t))}function eS(n){let e=n.children.length>0?` { ${n.children.map(eS).join(", ")} } `:"";return`${n.value}${e}`}function jv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hr(e.params,t.params)||n.paramsSubject.next(t.params),UL(e.url,t.url)||n.urlSubject.next(t.url),hr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function oy(n,e){let t=hr(n.params,e.params)&&HL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||oy(n.parent,e.parent))}function tS(n){return typeof n.title=="string"||n.title===null}function h2(n,e,t){let r=Za(n,e._root,t?t._root:void 0);return new Kd(r,e)}function Za(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=g2(n,e,t);return new tn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Za(n,a)),s}}let r=m2(e.value),i=e.children.map(o=>Za(n,o));return new tn(r,i)}}function g2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Za(n,r,i);return Za(n,r)})}function m2(n){return new Ut(new fe(n.url),new fe(n.params),new fe(n.queryParams),new fe(n.fragment),new fe(n.data),n.outlet,n.component,n)}function Zd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rS(!1,nn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function rS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[nS]=!0,t.cancellationCode=e,t}function v2(n){return iS(n)&&vo(n.url)}function iS(n){return!!n&&n[nS]}function _2(n,e,t){let r=n._root,i=e?e._root:null;return za(r,i,t,[r.value])}function C2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function As(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!aw(n)?n:e.get(n):r}function za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ms(e);return n.children.forEach(s=>{b2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,t.getContext(s),i)),i}function b2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=w2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?za(n,e,a?a.children:null,r,i):za(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xs(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new Jd(r)),o.component?za(n,null,a?a.children:null,r,i):za(n,null,t,r,i);return i}function w2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!mo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mo(n.url,e.url)||!hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oy(n,e)||!hr(n.queryParams,e.queryParams);case"paramsChange":default:return!oy(n,e)}}function Ga(n,e,t){let r=Ms(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),t):Ga(s,null,t):Ga(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new xs(e.outlet.component,i)):t.canDeactivateChecks.push(new xs(null,i)):t.canDeactivateChecks.push(new xs(null,i))}function oc(n){return typeof n=="function"}function E2(n){return typeof n=="boolean"}function M2(n){return n&&oc(n.canLoad)}function D2(n){return n&&oc(n.canActivate)}function S2(n){return n&&oc(n.canActivateChild)}function x2(n){return n&&oc(n.canDeactivate)}function I2(n){return n&&oc(n.canMatch)}function oS(n){return n instanceof kn||n?.name==="EmptyError"}function Ps(){return Re(n=>pa(n.map(e=>e.pipe(be(1),Jh(Vd)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Vd)return Vd;if(t===!1||O2(t))return t}return!0}),Ne(e=>e!==Vd),be(1)))}function O2(n){return vo(n)||n instanceof Ja}function T2(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?V(B(M({},t),{guardsResult:!0})):P2(s,r,i,n).pipe(Be(a=>a&&E2(a)?A2(r,o,n,e):V(a)),j(a=>B(M({},t),{guardsResult:a})))})}function P2(n,e,t,r){return G(n).pipe(Be(i=>L2(i.component,i.route,t,e,r)),rr(i=>i!==!0,!0))}function A2(n,e,t,r){return G(e).pipe(un(i=>nr(N2(i.route.parent,r),k2(i.route,r),F2(n,i.path,t),R2(n,i.route,t))),rr(i=>i!==!0,!0))}function k2(n,e){return n!==null&&e&&e(new ey(n)),V(!0)}function N2(n,e){return n!==null&&e&&e(new Jv(n)),V(!0)}function R2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(o=>Gi(()=>{let s=rc(e)??t,a=As(o,s),c=D2(a)?a.canActivate(e,n):mn(s,()=>a(e,n));return Mi(c).pipe(rr())}));return V(i).pipe(Ps())}function F2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>C2(s)).filter(s=>s!==null).map(s=>Gi(()=>{let a=s.guards.map(c=>{let l=rc(s.node)??t,u=As(c,l),d=S2(u)?u.canActivateChild(r,n):mn(l,()=>u(r,n));return Mi(d).pipe(rr())});return V(a).pipe(Ps())}));return V(o).pipe(Ps())}function L2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return V(!0);let s=o.map(a=>{let c=rc(e)??i,l=As(a,c),u=x2(l)?l.canDeactivate(n,e,t,r):mn(c,()=>l(n,e,t,r));return Mi(u).pipe(rr())});return V(s).pipe(Ps())}function V2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let o=i.map(s=>{let a=As(s,n),c=M2(a)?a.canLoad(e,t):mn(n,()=>a(e,t));return Mi(c)});return V(o).pipe(Ps(),sS(r))}function sS(n){return fh(ne(e=>{if(typeof e!="boolean")throw Zd(n,e)}),j(e=>e===!0))}function j2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let o=i.map(s=>{let a=As(s,n),c=I2(a)?a.canMatch(e,t):mn(n,()=>a(e,t));return Mi(c)});return V(o).pipe(Ps(),sS(r))}function Es(n){return Xe(new Xa(n))}function U2(n){return Xe(new x(4e3,!1))}function B2(n){return Xe(rS(!1,nn.GuardRejected))}function $2(n,e,t,r,i){let o=aS(n,e,t);return o.matched?(r=d2(e,r),j2(r,e,t,i).pipe(j(s=>s===!0?o:M({},ly)))):V(o)}function aS(n,e,t){if(e.path==="**")return z2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},ly):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||jL)(t,n,e);if(!i)return M({},ly);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function z2(n){return{matched:!0,parameters:n.length>0?UD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ND(n,e,t,r){return t.length>0&&W2(n,t,r)?{segmentGroup:new Te(e,q2(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&G2(n,t,r)?{segmentGroup:new Te(n.segments,H2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function H2(n,e,t,r){let i={};for(let o of t)if(nf(n,e,o)&&!r[qn(o)]){let s=new Te([],{});i[qn(o)]=s}return M(M({},r),i)}function q2(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&qn(r)!==oe){let i=new Te([],{});t[qn(r)]=i}return t}function W2(n,e,t){return t.some(r=>nf(n,e,r)&&qn(r)!==oe)}function G2(n,e,t){return t.some(r=>nf(n,e,r))}function nf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function K2(n,e,t){return e.length===0&&!n.children[t]}function Y2(n,e,t,r,i,o,s="emptyOnly"){return new dy(n,e,t,r,i,s,o).recognize()}function Z2(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function J2(n){let e=n.value.routeConfig;return e&&e.path===""}function cS(n){let e=[],t=new Set;for(let r of n){if(!J2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=cS(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!t.has(r))}function RD(n){return n.data||{}}function FD(n){return n.resolve||{}}function X2(n,e,t,r,i,o){return Be(s=>Y2(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>B(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function eV(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of lS(c))s.add(l);let a=0;return G(s).pipe(un(c=>o.has(c)?tV(c,r,n,e):(c.data=Yd(c,c.parent,n).resolve,V(void 0))),ne(()=>a++),Zo(1),Be(c=>a===s.size?V(t):At))})}function lS(n){let e=n.children.map(t=>lS(t)).flat();return[n,...e]}function tV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!tS(i)&&(o[tc]=i.title),nV(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=Yd(n,n.parent,t).resolve,null)))}function nV(n,e,t,r){let i=$v(n);if(i.length===0)return V({});let o={};return G(i).pipe(Be(s=>rV(n[s],e,t,r).pipe(rr(),ne(a=>{if(a instanceof Ja)throw Zd(new Os,a);o[s]=a}))),Zo(1),ga(o),ue(s=>oS(s)?At:Xe(s)))}function rV(n,e,t,r){let i=rc(e)??r,o=As(n,i),s=o.resolve?o.resolve(e,t):mn(i,()=>o(e,t));return Mi(s)}function Uv(n){return Re(e=>{let t=n(e);return t?G(t).pipe(j(()=>e)):V(e)})}function hy(n){let e=n.children&&n.children.map(hy),t=e?B(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=oV),t}function sV(n,e,t,r){return Mi(n.loadChildren()).pipe(j(dS),Be(i=>i instanceof Ea||Array.isArray(i)?V(i):G(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xd,[],{optional:!0,self:!0}).flat()),{routes:s.map(hy),injector:o}}))}function aV(n){return n&&typeof n=="object"&&"default"in n}function dS(n){return aV(n)?n.default:n}function lV(n,e,t){let r=n.get(pS),i=n.get(ft);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),uV(n))),{onViewTransitionCreated:c}=r;return c&&mn(n,()=>c({transition:a,from:e,to:t})),s})}function uV(n){return new Promise(e=>{Xm({read:()=>setTimeout(e)},{injector:n})})}function fV(n){return n!==Wa}function gS(n,e){n.events.pipe(Ne(t=>t instanceof rn||t instanceof jr||t instanceof Ya||t instanceof Ei),j(t=>t instanceof rn||t instanceof Ei?Ha.COMPLETE:(t instanceof jr?t.code===nn.Redirect||t.code===nn.SupersededByNewNavigation:!1)?Ha.REDIRECTING:Ha.FAILED),Ne(t=>t!==Ha.REDIRECTING),be(1)).subscribe(()=>{e()})}function mV(n){throw n}function _V(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new x(4008,!1)}function CV(n){return!(n instanceof Qa)&&!(n instanceof Ts)}function bV(n){return!!n.paths}function MV(n){return n.routerState.root}function ac(n,e){return{\u0275kind:n,\u0275providers:e}}function DV(){let n=C(et);return e=>{let t=n.get(Cn);if(e!==t.components[0])return;let r=n.get(Pe),i=n.get(yS);n.get(yy)===1&&r.initialNavigation(),n.get(_S,null,ce.Optional)?.setUpPreloading(),n.get(vS,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function SV(){return ac(2,[{provide:yy,useValue:0},{provide:Cs,multi:!0,deps:[et],useFactory:e=>{let t=e.get(QM,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Pe),o=e.get(yS);gS(i,()=>{r(!0)}),e.get(vy).afterPreactivation=()=>(r(!0),o.closed?V(void 0):o),i.initialNavigation()}))}}])}function xV(){return ac(3,[{provide:Cs,multi:!0,useFactory:()=>{let e=C(Pe);return()=>{e.setUpLocationChangeListener()}}},{provide:yy,useValue:2}])}function IV(n){return ac(0,[{provide:_S,useExisting:wV},{provide:ef,useExisting:n}])}function OV(){return ac(8,[kD,{provide:tf,useExisting:kD}])}function TV(n){let e=[{provide:fS,useValue:lV},{provide:pS,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return ac(9,e)}function AV(){return{provide:vS,useFactory:()=>{let n=C(oD),e=C(_e),t=C(sc),r=C(vy),i=C(nc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new EV(i,r,n,e,t)}}}function kV(){return{provide:Lr,useClass:JM}}function NV(){return{provide:Lr,useClass:_v}}function RV(n){return"guarded"}function FV(n){return[n.initialNavigation==="disabled"?xV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?SV().\u0275providers:[]]}function LV(){return[{provide:VD,useFactory:DV},{provide:dd,multi:!0,useExisting:VD}]}var oe,tc,Bv,BL,BD,Ur,Te,go,nc,Os,WL,QL,ZL,XL,t2,Hv,zd,Ds,Wa,pt,wn,wi,rn,nn,Hd,jr,Ei,Ya,qd,Wv,Gv,Kv,Yv,Qv,Zv,Jv,Xv,ey,ty,Wd,Qa,Ts,ny,ic,Gd,tn,Kd,Ut,Ss,Qd,Wn,sy,tf,kD,Ja,nS,y2,ay,Jd,xs,Vd,Xa,ec,cy,ly,uy,Q2,dy,uS,iV,sc,oV,Xd,gy,my,cV,fS,pS,dV,vy,pV,fy,hV,hS,gV,Ha,vV,yV,Pe,En,mS,ef,wV,vS,EV,yS,yy,_S,LD,PV,_y,VD,ct=h(()=>{"use strict";N();N();we();De();De();ii();Ba();oe="primary",tc=Symbol("RouteTitle"),Bv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};BL={exact:$D,subset:zD},BD={exact:$L,subset:zL,ignored:()=>!0};Ur=class{constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return WL.serialize(this)}},Te=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ud(this)}},go=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return WD(this)}};nc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new Os,providedIn:"root"})}}return n})(),Os=class{parse(e){let t=new Hv(e);return new Ur(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$a(e.root,!0)}`,r=YL(e.queryParams),i=typeof e.fragment=="string"?`#${GL(e.fragment)}`:"";return`${t}${r}${i}`}},WL=new Os;QL=/^[^\/()?;#]+/;ZL=/^[^\/()?;=#]+/;XL=/^[^=?&#]+/;t2=/^[^&#]+/;Hv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new Te(e,t)),r}parseSegment(){let e=Lv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new go(Bd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=JL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Lv(this.remaining);i&&(r=i,this.capture(r))}e[Bd(t)]=Bd(r)}parseQueryParam(e){let t=e2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=n2(this.remaining);s&&(r=s,this.capture(r))}let i=TD(t),o=TD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};zd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$d(r[0]))throw new x(4003,!1);let i=r.find(Ka);if(i&&i!==UD(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Ds=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};Wa="imperative",pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pt||{}),wn=class{constructor(e,t){this.id=e,this.url=t}},wi=class extends wn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends wn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(nn||{}),Hd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Hd||{}),jr=class extends wn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ei=class extends wn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=pt.NavigationSkipped}},Ya=class extends wn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qd=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wv=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class extends wn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kv=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yv=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qv=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zv=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ey=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ty=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=pt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Qa=class{},Ts=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};ny=class{get injector(){return rc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ic(this.rootInjector),this.attachRef=null}},ic=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ny(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(F(Rt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ry(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ry(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=iy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return iy(e,this._root).map(t=>t.value)}};tn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Kd=class extends Gd{constructor(e,t){super(e),this.snapshot=t,py(this,e)}toString(){return this.snapshot.toString()}};Ut=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[tc]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>Is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>Is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};Ss=class{get title(){return this.data?.[tc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qd=class extends Gd{constructor(e,t){super(t),this.url=e,py(this,t)}toString(){return eS(this._root)}};Wn=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=C(ic),this.location=C(kr),this.changeDetector=C(zn),this.inputBinder=C(tf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new sy(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]})}}return n})(),sy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ut?this.route:e===ic?this.childContexts:this.parent.get(e,t)}},tf=new L(""),kD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=pa([r.queryParams,r.params,r.data]).pipe(Re(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?V(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=BM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();Ja=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},nS="ngNavigationCancelingError";y2=(n,e,t,r)=>j(i=>(new ay(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ay=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ms(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ms(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ty(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(jv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xs=class{constructor(e,t){this.component=e,this.route=t}};Vd=Symbol("INITIAL_VALUE");Xa=class{constructor(e){this.segmentGroup=e||null}},ec=class extends Error{constructor(e){super(),this.urlTree=e}};cy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[oe])return U2(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:v,params:g,data:b,title:E}=i,R=mn(o,()=>a({params:g,data:b,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:v,title:E}));if(R instanceof Ur)throw new ec(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ec(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ur(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},ly={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};uy=class{};Q2=31,dy=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=ND(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new tn(r,t),o=new Qd("",i),s=i2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ss([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(j(r=>({children:r,rootSnapshot:t})),ue(r=>{if(r instanceof ec)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof tn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return G(o).pipe(un(s=>{let a=r.children[s],c=f2(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Qh((s,a)=>(s.push(...a),s)),ri(null),Gh(),Be(s=>{if(s===null)return Es(r);let a=cS(s);return Z2(a),V(a)}))}processSegment(e,t,r,i,o,s,a){return G(t).pipe(un(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ue(l=>{if(l instanceof Xa)return V(null);throw l}))),rr(c=>!!c),ue(c=>{if(oS(c))return K2(r,i,o)?V(new uy):Es(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return qn(r)!==s&&(s===oe||!nf(i,o,r))?Es(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Es(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:v}=aS(t,i,o);if(!c)return Es(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Q2&&(this.allowRedirects=!1));let g=new Ss(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,RD(i),qn(i),i.component??i._loadedComponent??null,i,FD(i)),b=Yd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let E=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(Be(R=>this.processSegment(e,r,t,R.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=$2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Re(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Re(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:v,remainingSegments:g}=c,b=new Ss(v,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,RD(r),qn(r),r.component??r._loadedComponent??null,r,FD(r)),E=Yd(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(E.params),b.data=Object.freeze(E.data);let{segmentGroup:R,slicedSegments:$}=ND(t,v,g,l);if($.length===0&&R.hasChildren())return this.processChildren(u,l,R,b).pipe(j(Y=>new tn(b,Y)));if(l.length===0&&$.length===0)return V(new tn(b,[]));let se=qn(r)===o;return this.processSegment(u,l,R,$,se?oe:o,!0,b).pipe(j(Y=>new tn(b,Y instanceof tn?[Y]:[])))}))):Es(t)))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?V({routes:t._loadedRoutes,injector:t._loadedInjector}):V2(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):B2(t))):V({routes:[],injector:e})}};uS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[tc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>C(iV),providedIn:"root"})}}return n})(),iV=(()=>{class n extends uS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(F(xD))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sc=new L("",{providedIn:"root",factory:()=>({})}),oV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],standalone:!0,features:[OM],decls:1,vars:0,template:function(r,i){r&1&&A(0,"router-outlet")},dependencies:[Wn],encapsulation:2})}}return n})();Xd=new L(""),gy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(fd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Mi(t.loadComponent()).pipe(j(dS),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qt(()=>{this.componentLoaders.delete(t)})),i=new ni(r,()=>new ge).pipe(Uo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sV(r,this.compiler,t,this.onLoadEndListener).pipe(Qt(()=>{this.childrenLoaders.delete(r)})),s=new ni(o,()=>new ge).pipe(Uo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();my=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>C(cV),providedIn:"root"})}}return n})(),cV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fS=new L(""),pS=new L("");dV=new L(""),vy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=C(gy),this.environmentInjector=C(Rt),this.urlSerializer=C(nc),this.rootContexts=C(ic),this.location=C(ws),this.inputBindingEnabled=C(tf,{optional:!0})!==null,this.titleStrategy=C(uS),this.options=C(sc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(my),this.createViewTransition=C(fS,{optional:!0}),this.navigationErrorHandler=C(dV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Qv(i)),r=i=>this.events.next(new Zv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(B(M(M({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new fe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),j(o=>B(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Re(o=>{let s=!1,a=!1;return V(o).pipe(Re(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),At;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?B(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Ei(c.id,this.urlSerializer.serialize(c.rawUrl),d,Hd.IgnoredSameUrlNavigation)),c.resolve(!1),At}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Re(d=>{let v=this.transitions?.getValue();return this.events.next(new wi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),v!==this.transitions?.getValue()?At:Promise.resolve(d)}),X2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=B(M({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let v=new qd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:v,source:g,restoredState:b,extras:E}=c,R=new wi(d,this.urlSerializer.serialize(v),g,b);this.events.next(R);let $=XD(this.rootComponentType).snapshot;return this.currentTransition=o=B(M({},c),{targetSnapshot:$,urlAfterRedirects:v,extras:B(M({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,V(o)}else{let d="";return this.events.next(new Ei(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Hd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),At}}),ne(c=>{let l=new Wv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=B(M({},c),{guards:_2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),T2(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Zd(this.urlSerializer,c.guardsResult);let l=new Gv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",nn.GuardRejected),!1)),Uv(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(ne(l=>{let u=new Kv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Re(l=>{let u=!1;return V(l).pipe(eV(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",nn.NoDataFromResolver)}}))}),ne(l=>{let u=new Yv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Uv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(v=>{u.component=v}),j(()=>{})));for(let v of u.children)d.push(...l(v));return d};return pa(l(c.targetSnapshot.root)).pipe(ri(null),be(1))}),Uv(()=>this.afterPreactivation()),Re(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?G(u).pipe(j(()=>o)):V(o)}),j(c=>{let l=h2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=B(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new Qa)}),y2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),be(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),fn(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),Qt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ue(c=>{if(a=!0,iS(c))this.events.next(new jr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),v2(c)?this.events.next(new Ts(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ya(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=mn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ja){let{message:d,cancellationCode:v}=Zd(this.urlSerializer,u);this.events.next(new jr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,v)),this.events.next(new Ts(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return At}))}))}cancelNavigationTransition(t,r,i){let o=new jr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();pV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>C(hV),providedIn:"root"})}}return n})(),fy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},hV=(()=>{class n extends fy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>C(gV),providedIn:"root"})}}return n})(),gV=(()=>{class n extends hS{constructor(){super(...arguments),this.location=C(ws),this.urlSerializer=C(nc),this.options=C(sc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(my),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ur,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=XD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof wi)this.stateMemento=this.createStateMemento();else if(t instanceof Ei)this.rawUrlTree=r.initialUrl;else if(t instanceof qd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Qa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof jr&&(t.code===nn.GuardRejected||t.code===nn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ya?this.restoreHistory(r,!0):t instanceof rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ur?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=M(M({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ha=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ha||{});vV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=C(cd),this.stateManager=C(hS),this.options=C(sc,{optional:!0})||{},this.pendingTasks=C(Pr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(vy),this.urlSerializer=C(nc),this.location=C(ws),this.urlHandlingStrategy=C(my),this._events=new ge,this.errorHandler=this.options.errorHandler||mV,this.navigated=!1,this.routeReuseStrategy=C(pV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Xd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(tf,{optional:!0}),this.eventsSubscription=new je,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jr&&r.code!==nn.Redirect&&r.code!==nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rn)this.navigated=!0;else if(r instanceof Ts){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fV(i.source)},s);this.scheduleNavigation(a,Wa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}CV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=M({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let v=i?i.snapshot:this.routerState.snapshot.root;d=YD(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return QD(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=vo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wa,null,r)}navigate(t,r={skipLocationChange:!1}){return _V(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},vV):r===!1?i=M({},yV):i=r,vo(t))return OD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return OD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,v)=>{a=d,c=v});let u=this.pendingTasks.add();return gS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();En=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:PE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:vo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Pe),D(Ut),Om("tabindex"),D(Un),D(_t),D(Lr))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&S("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vi],replaceUrl:[2,"replaceUrl","replaceUrl",vi],routerLink:"routerLink"},standalone:!0,features:[Zm,jn]})}}return n})(),mS=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new X,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof rn&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(tr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=G(t).pipe(tr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=bV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Pe),D(_t),D(Un),D(zn),D(En,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&xM(o,En,5),r&2){let s;ys(s=_s())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[jn]})}}return n})();ef=class{},wV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof rn),un(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=od(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return G(i).pipe(tr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=V(null);let o=i.pipe(Be(s=>s===null?V(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return G([o,s]).pipe(tr())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(F(Pe),F(fd),F(Rt),F(ef),F(gy))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vS=new L(""),EV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ei&&t.code===Hd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){zE()}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();yS=new L("",{factory:()=>new ge}),yy=new L("",{providedIn:"root",factory:()=>1});_S=new L("");LD=new L("ROUTER_FORROOT_GUARD"),PV=[ws,{provide:nc,useClass:Os},Pe,ic,{provide:Ut,useFactory:MV,deps:[Pe]},gy,[]],_y=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[PV,[],{provide:Xd,multi:!0,useValue:t},{provide:LD,useFactory:RV,deps:[[Pe,new Vu,new hm]]},{provide:sc,useValue:r||{}},r?.useHash?kV():NV(),AV(),r?.preloadingStrategy?IV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?FV(r):[],r?.bindToComponentInputs?OV().\u0275providers:[],r?.enableViewTransitions?TV().\u0275providers:[],LV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(F(LD,8))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})();VD=new L("")});var rf,CS=h(()=>{"use strict";ii();we();N();La();rf=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(st(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(st(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}static \u0275fac=function(t){return new(t||n)(F(ho))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var VV,jV,ht,cc=h(()=>{"use strict";VV=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],jV=!VV.includes(window.location.hostname),ht={baseURL:jV?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function lc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var bS=h(()=>{"use strict"});function dc(n,e=200){return P(this,null,function*(){if(uc){let t=lc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function UV(n,e){return P(this,null,function*(){if(uc){let t=yield fetch(`${ht.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield dc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function BV(n,e){return P(this,null,function*(){let t=`${ht.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function $V(n,e,t){return P(this,null,function*(){if(uc){let r=t?`${ht.baseURL}/${t}`:`${ht.baseURL}/${n}`,i={"Content-Type":"application/json"},o=lc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=B(M({},e),{_id:qV()}),i=yield dc(n);return i.push(r),Cy(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function zV(n,e){return P(this,null,function*(){if(uc){let t=`${ht.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=lc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield dc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),Cy(n,t),e}})}function HV(n,e){return P(this,null,function*(){if(uc){let t=lc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield dc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),Cy(n,t)}})}function Cy(n,e){localStorage.setItem(n,JSON.stringify(e))}function qV(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var it,uc,by=h(()=>{"use strict";cc();bS();it={post:$V,get:UV,put:zV,remove:HV,query:dc,login:BV},uc=!0});var wS,WV,of,ES=h(()=>{"use strict";wS="dzqnyehxn",WV="fuhrsp2z",of={CLOUD_NAME:wS,UPLOAD_PRESET:WV,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${wS}/${n}/upload`}});var gr,fc=h(()=>{"use strict";ES();we();N();gr=class n{cloudName=of.CLOUD_NAME;uploadPreset=of.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=of.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),G(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Kn,pc,hc,sf=h(()=>{"use strict";Kn=Object.create(null);Kn.open="0";Kn.close="1";Kn.ping="2";Kn.pong="3";Kn.message="4";Kn.upgrade="5";Kn.noop="6";pc=Object.create(null);Object.keys(Kn).forEach(n=>{pc[Kn[n]]=n});hc={type:"error",data:"parser error"}});function DS(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function OS(n,e){if(SS&&n.data instanceof Blob)return n.data.arrayBuffer().then(DS).then(e);if(xS&&(n.data instanceof ArrayBuffer||IS(n.data)))return e(DS(n.data));gc(n,!1,t=>{Ey||(Ey=new TextEncoder),e(Ey.encode(t))})}var SS,xS,IS,gc,MS,Ey,TS=h(()=>{"use strict";sf();SS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xS=typeof ArrayBuffer=="function",IS=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,gc=({type:n,data:e},t,r)=>SS&&e instanceof Blob?t?r(e):MS(e,r):xS&&(e instanceof ArrayBuffer||IS(e))?t?r(e):MS(new Blob([e]),r):r(Kn[n]+(e||"")),MS=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var PS,mc,AS,kS=h(()=>{"use strict";PS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<PS.length;n++)mc[PS.charCodeAt(n)]=n;AS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=mc[n.charCodeAt(r)],s=mc[n.charCodeAt(r+1)],a=mc[n.charCodeAt(r+2)],c=mc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var GV,vc,KV,NS,RS=h(()=>{"use strict";sf();kS();GV=typeof ArrayBuffer=="function",vc=(n,e)=>{if(typeof n!="string")return{type:"message",data:NS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:KV(n.substring(1),e)}:pc[t]?n.length>1?{type:pc[t],data:n.substring(1)}:{type:pc[t]}:hc},KV=(n,e)=>{if(GV){let t=AS(n);return NS(t,e)}else return{base64:!0,data:n}},NS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function jS(){return new TransformStream({transform(n,e){OS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function af(n){return n.reduce((e,t)=>e+t.length,0)}function cf(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function US(n,e){My||(My=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(af(t)<1)break;let c=cf(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(af(t)<2)break;let c=cf(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(af(t)<8)break;let c=cf(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(hc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(af(t)<i)break;let c=cf(t,i);a.enqueue(vc(o?c:My.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(hc);break}}}})}var FS,LS,VS,My,Dy,ks=h(()=>{"use strict";TS();RS();sf();FS="",LS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{gc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(FS))})})},VS=(n,e)=>{let t=n.split(FS),r=[];for(let i=0;i<t.length;i++){let o=vc(t[i],e);if(r.push(o),o.type==="error")break}return r};Dy=4});function Le(n){if(n)return YV(n)}function YV(n){for(var e in Le.prototype)n[e]=Le.prototype[e];return n}var yo=h(()=>{"use strict";Le.prototype.on=Le.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Le.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Le.prototype.off=Le.prototype.removeListener=Le.prototype.removeAllListeners=Le.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Le.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Le.prototype.emitReserved=Le.prototype.emit;Le.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Le.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Br,Bt,BS,_o=h(()=>{"use strict";Br=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Bt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),BS="arraybuffer"});function lf(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function $r(n,e){e.useNativeTimers?(n.setTimeoutFn=QV.bind(Bt),n.clearTimeoutFn=ZV.bind(Bt)):(n.setTimeoutFn=Bt.setTimeout.bind(Bt),n.clearTimeoutFn=Bt.clearTimeout.bind(Bt))}function $S(n){return typeof n=="string"?XV(n):Math.ceil((n.byteLength||n.size)*JV)}function XV(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function uf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var QV,ZV,JV,Co=h(()=>{"use strict";_o();QV=Bt.setTimeout,ZV=Bt.clearTimeout;JV=1.33});function zS(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function HS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Sy=h(()=>{"use strict"});var df,zr,yc=h(()=>{"use strict";ks();yo();Co();Sy();df=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},zr=class extends Le{constructor(e){super(),this.writable=!1,$r(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new df(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=vc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=zS(e);return t.length?"?"+t:""}}});var _c,xy=h(()=>{"use strict";yc();Co();ks();_c=class extends zr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};VS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,LS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=uf()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var qS,WS,GS=h(()=>{"use strict";qS=!1;try{qS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}WS=qS});function ej(){}function KS(){for(let n in ff.requests)ff.requests.hasOwnProperty(n)&&ff.requests[n].abort()}function YS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||WS))return new XMLHttpRequest}catch{}if(!e)try{return new Bt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Iy,ff,tj,Di,pf=h(()=>{"use strict";xy();yo();Co();_o();GS();Iy=class extends _c{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},ff=(()=>{class n extends Le{constructor(t,r,i){super(),this.createRequest=t,$r(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=lf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ej,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",KS);else if(typeof addEventListener=="function"){let n="onpagehide"in Bt?"pagehide":"unload";addEventListener(n,KS,!1)}}tj=function(){let n=YS({xdomain:!1});return n&&n.responseType!==null}(),Di=class extends Iy{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=tj&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ff(YS,this.uri(),e)}}});var QS,Ty,Oy,Si,hf=h(()=>{"use strict";yc();Co();ks();_o();QS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ty=class extends zr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=QS?{}:lf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;gc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Br(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=uf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Oy=Bt.WebSocket||Bt.MozWebSocket,Si=class extends Ty{createSocket(e,t,r){return QS?new Oy(e,t,r):t?new Oy(e,t):new Oy(e)}doWrite(e,t){this.ws.send(t)}}});var Ns,Py=h(()=>{"use strict";yc();_o();ks();Ns=class extends zr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=US(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=jS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Br(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var Ay,ky=h(()=>{"use strict";pf();hf();Py();Ay={websocket:Si,webtransport:Ns,polling:Di}});function Rs(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=nj.exec(n||""),o={},s=14;for(;s--;)o[rj[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=ij(o,o.path),o.queryKey=oj(o,o.query),o}function ij(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function oj(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var nj,rj,Ny=h(()=>{"use strict";nj=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Ry,gf,mf,vf,Fs,Fy=h(()=>{"use strict";ky();Co();Sy();Ny();yo();ks();_o();Ry=typeof addEventListener=="function"&&typeof removeEventListener=="function",gf=[];Ry&&addEventListener("offline",()=>{gf.forEach(n=>n())},!1);mf=(()=>{class n extends Le{constructor(t,r){if(super(),this.binaryType=BS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Rs(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Rs(r.host).host);$r(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=HS(this.opts.query)),Ry&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},gf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=Dy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=$S(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Br(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ry&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=gf.indexOf(this._offlineEventListener);i!==-1&&gf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=Dy,n})(),vf=class extends mf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;mf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;mf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let v=new Error("probe error: "+d);v.transport=t.name,o(),this.emitReserved("upgradeError",v)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Fs=class extends vf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Ay[i]).filter(i=>!!i)),super(e,r)}}});var ZS=h(()=>{"use strict";xy()});var _Q,yf=h(()=>{"use strict";Fy();Fy();yc();ky();Co();Ny();_o();ZS();pf();pf();hf();hf();Py();_Q=Fs.protocol});function JS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Rs(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var XS=h(()=>{"use strict";yf()});function bc(n){return aj&&(n instanceof ArrayBuffer||cj(n))||lj&&n instanceof Blob||uj&&n instanceof File}function Cc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Cc(n[t]))return!0;return!1}if(bc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Cc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Cc(n[t]))return!0;return!1}var aj,cj,ex,lj,uj,Ly=h(()=>{"use strict";aj=typeof ArrayBuffer=="function",cj=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ex=Object.prototype.toString,lj=typeof Blob=="function"||typeof Blob<"u"&&ex.call(Blob)==="[object BlobConstructor]",uj=typeof File=="function"||typeof File<"u"&&ex.call(File)==="[object FileConstructor]"});function tx(n){let e=[],t=n.data,r=n;return r.data=Vy(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Vy(n,e){if(!n)return n;if(bc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Vy(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Vy(n[r],e));return t}return n}function nx(n,e){return n.data=jy(n.data,e),delete n.attachments,n}function jy(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=jy(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=jy(n[t],e));return n}var rx=h(()=>{"use strict";Ly()});var zy={};PT(zy,{Decoder:()=>By,Encoder:()=>Uy,PacketType:()=>he,protocol:()=>ox});function ix(n){return Object.prototype.toString.call(n)==="[object Object]"}var dj,ox,he,Uy,By,$y,_f=h(()=>{"use strict";yo();rx();Ly();dj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ox=5,he=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(he||{}),Uy=class{constructor(e){this.replacer=e}encode(e){return(e.type===he.EVENT||e.type===he.ACK)&&Cc(e)?this.encodeAsBinary({type:e.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===he.BINARY_EVENT||e.type===he.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=tx(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};By=class n extends Le{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===he.BINARY_EVENT;r||t.type===he.BINARY_ACK?(t.type=r?he.EVENT:he.ACK,this.reconstructor=new $y(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(bc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(he[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===he.BINARY_EVENT||r.type===he.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case he.CONNECT:return ix(t);case he.DISCONNECT:return t===void 0;case he.CONNECT_ERROR:return typeof t=="string"||ix(t);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&dj.indexOf(t[0])===-1);case he.ACK:case he.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},$y=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=nx(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function on(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Hy=h(()=>{"use strict"});var fj,Ls,qy=h(()=>{"use strict";_f();Hy();yo();fj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ls=class extends Le{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[on(e,"open",this.onopen.bind(this)),on(e,"packet",this.onpacket.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(fj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:he.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:he.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case he.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(e);break;case he.ACK:case he.BINARY_ACK:this.onack(e);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:he.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function bo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var sx=h(()=>{"use strict";bo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};bo.prototype.reset=function(){this.attempts=0};bo.prototype.setMin=function(n){this.ms=n};bo.prototype.setMax=function(n){this.max=n};bo.prototype.setJitter=function(n){this.jitter=n}});var Vs,ax=h(()=>{"use strict";yf();qy();_f();Hy();sx();yo();Vs=class extends Le{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,$r(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new bo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||zy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Fs(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=on(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=on(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(on(e,"ping",this.onping.bind(this)),on(e,"data",this.ondata.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Br(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ls(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function Ec(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=JS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=wc[i]&&o in wc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Vs(r,e):(wc[i]||(wc[i]=new Vs(r,e)),c=wc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var wc,cx=h(()=>{"use strict";XS();ax();qy();_f();yf();wc={};Object.assign(Ec,{Manager:Vs,Socket:Ls,io:Ec,connect:Ec})});var js,Wy=h(()=>{"use strict";N();js=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function dx(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var cZ,ux,pj,hj,gj,mj,vj,yj,Mn,Us=h(()=>{"use strict";cx();Ot();N();Wy();cZ=dx(),ux="chat-add-msg",pj="chat-add-private-msg",hj="chat-send-msg",gj="chat-set-topic",mj="chat-send-private-msg",vj="set-user-socket",yj="unset-user-socket",Mn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;chatAddMsgCallbacks=[];isChatAddMsgListenerRegistered=!1;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=dx(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=Ec(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}subscribeToChatAddMsg(e){this.chatAddMsgCallbacks.push(e),this.isChatAddMsgListenerRegistered||(this.socket||this.setup(),this.socket?.on(ux,t=>{this.chatAddMsgCallbacks.forEach(r=>r(t))}),this.isChatAddMsgListenerRegistered=!0)}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(gj,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(hj,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i,o){this.socket||this.setup();let s=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",s),!s||!e||!t.trim()&&!i&&!o){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:s,toUserId:e,msg:t,imageUrl:i,videoUrl:o});return}let a={sender:s._id,senderName:s.username,text:t||"",imageUrl:i||void 0,videoUrl:o||void 0,toUserId:e};this.addToBuffer(B(M({},a),{senderName:"Me"})),console.log("\u2705 Sending private message:",a),this.socket?.emit(mj,{toUserId:e,text:t,imageUrl:i,videoUrl:o,sender:s._id,senderName:s.username,tempId:r})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(vj,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(ux,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(pj,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=B(M({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id}),i=this.privateMessagesBuffer.findIndex(o=>o.tempId!==void 0&&r.tempId!==void 0&&o.tempId===r.tempId);i!==-1?this.privateMessagesBuffer[i]=M(M({},this.privateMessagesBuffer[i]),r):this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(yj)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(F(et),F(js))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Mc,xi,fx,px,Ii,Ce,Ot=h(()=>{"use strict";we();by();cc();N();fc();Us();Mc="user",xi="loggedInUser",fx="facebookId",px="facebookAccessToken",Ii="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(xi)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new fe([]);users$=this._users$.asObservable();_filterBy$=new fe("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new fe(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){G(it.query(Mc)).pipe(ne(e=>{this._users$.next(this._sort(e))}),ue(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(xi)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(xi)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(xi,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Ii,e),sessionStorage.setItem(Ii,e),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"SAVE_LOGIN_TOKEN",token:e}),console.log("\u{1F4BE} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC-Service Worker \u05DC\u05E9\u05DE\u05D9\u05E8\u05EA token \u05D1\u05BEIndexedDB"))}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ii)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ii)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ii)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ii)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Ii)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${ht.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={email:e,password:t};return G(it.login("auth/login",r)).pipe(ne(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(xi,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),ue(this._handleError))}loginWithFacebook(e){return G(it.login("auth/facebook",e)).pipe(ne(t=>{let r=t.user,i=t.loginToken;this._loggedInUser$.next(r),localStorage.setItem(xi,JSON.stringify(r)),localStorage.setItem(fx,e.facebookId),localStorage.setItem(px,e.accessToken),this.socketService.login(r._id),this._saveLoginToken(i)}),j(t=>t.user),ue(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(xi),localStorage.removeItem(fx),localStorage.removeItem(px),localStorage.removeItem(Ii),this.socketService.logout()}loadUsers(){return G(it.query(Mc)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),ne(e=>this._users$.next(e)),st(3),ue(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(be(1)).subscribe()}deleteUser(e){return G(it.remove(Mc,e)).pipe(ne(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),st(2),ue(this._handleError))}getUserById(e){return G(it.get(Mc,e)).pipe(st(3),ue(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=B(M({},e),{_id:this._getRandomId()});return G(it.post("auth/signup",t)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),st(3),ue(this._handleError))}_updateUser(e){return G(it.put(Mc,e)).pipe(ne(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),st(3),ue(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),Xe(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?G(it.put("user/updateProfile",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(xi,JSON.stringify(t))}),ue(this._handleError)):Xe(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Re(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return Xe(()=>new Error("No logged-in user found. Please log in."));let i=B(M({},r),{img:t});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),ue(t=>(console.error("Error updating user image:",t.message||t),Xe(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(F(gr),F(Mn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Cf(n,e){return{type:re.Trigger,name:n,definitions:e,options:{}}}function xc(n,e=null){return{type:re.Animate,styles:e,timings:n}}function hx(n,e=null){return{type:re.Sequence,steps:n,options:e}}function Yn(n){return{type:re.Style,styles:n,offset:null}}function Ky(n,e,t){return{type:re.State,name:n,styles:e,options:t}}function Ic(n,e,t=null){return{type:re.Transition,expr:n,animation:e,options:t}}var re,mr,Oi,Sc,bf,wf=h(()=>{"use strict";re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(re||{}),mr="*";Oi=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Sc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},bf="!"});var Oc,Mt,Hr=h(()=>{"use strict";we();by();N();Oc="contact",Mt=class n{_contacts$=new fe([]);contacts$=this._contacts$.asObservable();_allContacts$=new fe([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new fe({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){G(it.query(Oc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),G(it.query("contact/All")).pipe(ne(e=>{this._allContacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(M({},r),{img:t});return G(it.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),ue(o=>this._handleError(o)))}updateContactVideo(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(M({},r),{video:t});return G(it.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),ue(o=>this._handleError(o)))}loadContacts(){return G(it.query(Oc)).pipe(ne(e=>{let t=this._filterBy$.value;e=e.map(r=>B(M({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),st(1),ue(this._handleError))}deleteContact(e){return G(it.remove(Oc,e)).pipe(ne(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),st(1),ue(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(be(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return G(it.get(Oc,e)).pipe(st(1),ue(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),G(it.put("contact/edit",e)).pipe(ne(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),st(1),ue(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),G(it.post(Oc,e)).pipe(ne(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),st(1),ue(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),Xe(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Bs,Yy=h(()=>{"use strict";N();Bs=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Kt(n){n||(Cm(Kt),n=C(Ft));let e=new ee(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(fn(e))}var $s=h(()=>{"use strict";N();we();ii();});var Tt,Ti=h(()=>{"use strict";N();we();$s();N();Tt=class n{destroyRef=C(Ft);_msg=new fe(null);msg$=this._msg.asObservable().pipe(Er());_msgQueue$=new ge;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(un(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?V(null):(this._currentMsg=e,V(e).pipe(ne(()=>this._msg.next(e)),dn(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(Kt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var gt,qr=h(()=>{"use strict";N();gt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&S("click",function(o){return r.onClick(o)})}})}});function Cj(n,e){if(n&1&&(Ct(0),p(1,"h1"),_(2),f(),A(3,"img",3),bt()),n&2){let t=w();m(2),Oe("Hello: ",t.logdinUser.username,"!"),m(),y("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Ie)}}function bj(n,e){if(n&1){let t=z();p(0,"h1"),_(1," Welcome!"),A(2,"br"),_(3," Please login or sign up"),A(4,"br"),p(5,"span",4),A(6,"img",5),f()(),p(7,"section",6)(8,"a",7),_(9,"Login"),f(),p(10,"a",8),_(11,"Sign Up"),f(),p(12,"button",9),S("click",function(){O(t);let i=w();return T(i.loginWithFacebook())}),A(13,"img",10),p(14,"span",11),_(15,"Login with Facebook"),f()()()}}var Ef,mx=h(()=>{"use strict";N();CS();we();Ot();wf();Hr();N();Yy();Ti();ct();De();qr();Ef=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=C(rf);userService=C(Ce);logdinUser=this.userService.getLoggedInUser();contactService=C(Mt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(be(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Bs),D(Tt),D(Pe))};static \u0275cmp=Z({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(p(0,"section",1),k(1,Cj,4,2,"ng-container",2)(2,bj,16,0,"ng-template",null,0,$n),f()),t&2){let i=at(3);m(),y("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[me,En,gt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[Cf("bounceArrow",[Ky("up",Yn({transform:"translateY(-10px)"})),Ky("down",Yn({transform:"translateY(10px)"})),Ic("up <=> down",[xc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var Dn,Hs=h(()=>{"use strict";N();N();Dn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new X;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(_t))};static \u0275dir=ae({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function wj(n,e){if(n&1){let t=z();p(0,"div",1)(1,"div",2),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.cancel())}),p(2,"p"),_(3),f(),p(4,"div",3)(5,"button",4),S("click",function(){O(t);let i=w();return T(i.confirm())}),_(6,"Yes"),f(),p(7,"button",4),S("click",function(){O(t);let i=w();return T(i.cancel())}),_(8,"No"),f()()()()}if(n&2){let t=w();m(3),It(t.message)}}var qs,Qy=h(()=>{"use strict";N();N();De();qr();Hs();qs=class n{isVisible=!1;message="";confirmed=new X;canceled=new X;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&k(0,wj,9,1,"div",0),t&2&&y("ngIf",r.isVisible)},dependencies:[me,gt,Dn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var Ej,Mj,Dj,Df,yx=h(()=>{"use strict";N();N();ct();Ti();Yy();De();Qy();qr();Ej=(n,e)=>[n,e],Mj=n=>({"long-name":n}),Dj=n=>["/contact/edit",n],Df=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new X;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Pe),D(Tt),D(Bs))};static \u0275cmp=Z({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:14,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(p(0,"article",0),S("click",function(){return r.onPreviewClick()}),A(1,"img",1),p(2,"div",2)(3,"h1",3),_(4),f()(),p(5,"div",4)(6,"button",5),S("click",function(){return r.onDeleteClick()}),A(7,"img",6),f(),p(8,"button",7),S("click",function(){return r.onEditClick()}),A(9,"img",8),f(),p(10,"button",9),S("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),A(11,"img",10),f()()(),p(12,"app-modal",11),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),A(13,"router-outlet")),t&2&&(m(),y("src",r.contact.img?r.contact.img:"../../../assets/images/picture.png",Ie)("ngClass",_n(7,Ej,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),m(2),y("ngClass",Pa(10,Mj,r.isLongName)),m(),Oe(" ",r.contact.name," "),m(4),y("routerLink",Pa(12,Dj,r.contact._id)),m(4),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[fr,Wn,En,qs,gt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;width:22em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;height:17em;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1c284e;font-weight:700;text-align:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:10px;margin-top:.5rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:1.125rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{gap:8px}}']})}});function xj(n,e){if(n&1){let t=z();p(0,"contact-preview",2),S("remove",function(){let i=O(t).$implicit,o=w();return T(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;y("contact",t)}}var Sf,_x=h(()=>{"use strict";N();ct();we();N();ct();De();yx();Sf=class n{constructor(e){this.router=e}contacts;remove=new X;destroy$=new ge;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof rn)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Pe))};static \u0275cmp=Z({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(p(0,"section",0),k(1,xj,1,1,"contact-preview",1),f()),t&2&&(m(),y("ngForOf",r.contacts))},dependencies:[pr,Df],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function Tj(){let n=dr()?dr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Pi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Tx(n){return n!=null&&typeof n.length=="number"}function kj(n){return e=>{if(Pi(e.value)||Pi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Nj(n){return e=>{if(Pi(e.value)||Pi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Px(n){return Pi(n.value)?{required:!0}:null}function Rj(n){return n.value===!0?null:{required:!0}}function Fj(n){return Pi(n.value)||Aj.test(n.value)?null:{email:!0}}function Ax(n){return e=>Pi(e.value)||!Tx(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Lj(n){return e=>Tx(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Vj(n){if(!n)return If;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function If(n){return null}function kx(n){return n!=null}function Nx(n){return mi(n)?G(n):n}function Rx(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function Fx(n,e){return e.map(t=>t(n))}function jj(n){return!n.validate}function Lx(n){return n.map(e=>jj(e)?e:t=>e.validate(t))}function Vx(n){if(!n)return null;let e=n.filter(kx);return e.length==0?null:function(t){return Rx(Fx(t,e))}}function r_(n){return n!=null?Vx(Lx(n)):null}function jx(n){if(!n)return null;let e=n.filter(kx);return e.length==0?null:function(t){let r=Fx(t,e).map(Nx);return Rh(r).pipe(j(Rx))}}function i_(n){return n!=null?jx(Lx(n)):null}function Cx(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ux(n){return n._rawValidators}function Bx(n){return n._rawAsyncValidators}function Zy(n){return n?Array.isArray(n)?n:[n]:[]}function Of(n,e){return Array.isArray(n)?n.includes(e):n===e}function bx(n,e){let t=Zy(e);return Zy(n).forEach(i=>{Of(t,i)||t.push(i)}),t}function wx(n,e){return Zy(e).filter(t=>!Of(n,t))}function o_(n){return(Lf(n)?n.validators:n)||null}function Bj(n){return Array.isArray(n)?r_(n):n||null}function s_(n,e){return(Lf(e)?e.asyncValidators:n)||null}function $j(n){return Array.isArray(n)?i_(n):n||null}function Lf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function $x(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function zx(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new x(1002,"")})}function Hx(n,e){return[...e.path,n]}function kf(n,e,t=Vf){a_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Hj(n,e),Wj(n,e),qj(n,e),zj(n,e)}function Ex(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Nf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function a_(n,e){let t=Ux(n);e.validator!==null?n.setValidators(Cx(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Bx(n);e.asyncValidator!==null?n.setAsyncValidators(Cx(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Nf(e._rawValidators,i),Nf(e._rawAsyncValidators,i)}function Rf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Ux(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=Bx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Nf(e._rawValidators,r),Nf(e._rawAsyncValidators,r),t}function Hj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&qx(n,e)})}function qj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&qx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function qx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Wx(n,e){n==null,a_(n,e)}function Gj(n,e){return Rf(n,e)}function Gx(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Kj(n){return Object.getPrototypeOf(n.constructor)===n_}function Kx(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Yx(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Sn?t=o:Kj(o)?r=o:i=o}),i||r||t||null}function Yj(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Dx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function Zx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function nU(n){return n.split(":")[0]}function xx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function iU(n){return n.split(":")[0]}function oU(n){return typeof n=="number"?n:parseInt(n,10)}function Ix(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ox,n_,Fc,Oj,Pj,Sn,xn,Qs,Aj,Ai,Tf,Wr,Eo,Pf,Uj,PJ,vr,Ff,Tc,xf,Ws,Pc,ki,Af,kc,Nc,Gs,Jy,Xy,Ks,Ys,e_,Lc,Vf,Qj,Ac,c_,Rc,Zj,Jj,Sx,Gr,jf,Qx,Xj,l_,eU,u_,tU,Uf,Jx,rU,Xx,eI,tI,sU,d_,aU,f_,nI,t_,rI,iI,oI,In=h(()=>{"use strict";N();N();De();we();ii();Ox=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Un),D(_t))}}static{this.\u0275dir=ae({type:n})}}return n})(),n_=(()=>{class n extends Ox{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,features:[qt]})}}return n})(),Fc=new L(""),Oj={provide:Fc,useExisting:gn(()=>Sn),multi:!0};Pj=new L(""),Sn=(()=>{class n extends Ox{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Tj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Un),D(_t),D(Pj,8))}}static{this.\u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[nt([Oj]),qt]})}}return n})();xn=new L(""),Qs=new L(""),Aj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ai=class{static min(e){return kj(e)}static max(e){return Nj(e)}static required(e){return Px(e)}static requiredTrue(e){return Rj(e)}static email(e){return Fj(e)}static minLength(e){return Ax(e)}static maxLength(e){return Lj(e)}static pattern(e){return Vj(e)}static nullValidator(e){return If(e)}static compose(e){return Vx(e)}static composeAsync(e){return jx(e)}};Tf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=r_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=i_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Wr=class extends Tf{get formDirective(){return null}get path(){return null}},Eo=class extends Tf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Uj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},PJ=B(M({},Uj),{"[class.ng-submitted]":"isSubmitted"}),vr=(()=>{class n extends Pf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Eo,2))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qt]})}}return n})(),Ff=(()=>{class n extends Pf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Wr,10))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qt]})}}return n})(),Tc="VALID",xf="INVALID",Ws="PENDING",Pc="DISABLED",ki=class{},Af=class extends ki{constructor(e,t){super(),this.value=e,this.source=t}},kc=class extends ki{constructor(e,t){super(),this.pristine=e,this.source=t}},Nc=class extends ki{constructor(e,t){super(),this.touched=e,this.source=t}},Gs=class extends ki{constructor(e,t){super(),this.status=e,this.source=t}},Jy=class extends ki{constructor(e){super(),this.source=e}},Xy=class extends ki{constructor(e){super(),this.source=e}};Ks=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=po(()=>this.statusReactive()),this.statusReactive=fo(void 0),this._pristine=po(()=>this.pristineReactive()),this.pristineReactive=fo(!0),this._touched=po(()=>this.touchedReactive()),this.touchedReactive=fo(!1),this._events=new ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xt(this.statusReactive)}set status(e){Xt(()=>this.statusReactive.set(e))}get valid(){return this.status===Tc}get invalid(){return this.status===xf}get pending(){return this.status==Ws}get disabled(){return this.status===Pc}get enabled(){return this.status!==Pc}get pristine(){return Xt(this.pristineReactive)}set pristine(e){Xt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Xt(this.touchedReactive)}set touched(e){Xt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wx(e,this._rawAsyncValidators))}hasValidator(e){return Of(this._rawValidators,e)}hasAsyncValidator(e){return Of(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new kc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new kc(!0,r))}markAsPending(e={}){this.status=Ws;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this.errors=null,this._forEachChild(i=>{i.disable(B(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Af(this.value,r)),this._events.next(new Gs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this._forEachChild(r=>{r.enable(B(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tc||this.status===Ws)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Af(this.value,t)),this._events.next(new Gs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pc:Tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ws,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Nx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Gs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Pc:this.errors?xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ws)?Ws:this._anyControlsHaveStatus(xf)?xf:Tc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new kc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Bj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$j(this._rawAsyncValidators)}},Ys=class extends Ks{constructor(e,t,r){super(o_(t),s_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zx(this,!0,e),Object.keys(e).forEach(r=>{$x(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},e_=class extends Ys{},Lc=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Vf}),Vf="always";Qj={provide:Wr,useExisting:gn(()=>c_)},Ac=Promise.resolve(),c_=(()=>{class n extends Wr{get submitted(){return Xt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=po(()=>this.submittedReactive()),this.submittedReactive=fo(!1),this._directives=new Set,this.ngSubmit=new X,this.form=new Ys({},r_(t),i_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ac.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),kf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ac.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ac.then(()=>{let r=this._findContainer(t.path),i=new Ys({});Wx(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ac.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ac.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Kx(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(xn,10),D(Qs,10),D(Lc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Qj]),qt]})}}return n})();Rc=class extends Ks{constructor(e=null,t,r){super(o_(t),s_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Dx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Dx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Zj=n=>n instanceof Rc,Jj={provide:Eo,useExisting:gn(()=>Gr)},Sx=Promise.resolve(),Gr=(()=>{class n extends Eo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Rc,this._registered=!1,this.name="",this.update=new X,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Yx(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Gx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Sx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&vi(r);Sx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Hx(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Wr,9),D(xn,10),D(Qs,10),D(Fc,10),D(zn,8),D(Lc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nt([Jj]),qt,jn]})}}return n})(),jf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Qx=new L(""),Xj={provide:Wr,useExisting:gn(()=>l_)},l_=(()=>{class n extends Wr{get submitted(){return Xt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=po(()=>this._submittedReactive()),this._submittedReactive=fo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return kf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ex(t.control||null,t,!1),Yj(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Kx(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Jy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Xy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Ex(r||null,t),Zj(i)&&(kf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Wx(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Gj(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){a_(this.form,this),this._oldForm&&Rf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(xn,10),D(Qs,10),D(Lc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Xj]),qt,jn]})}}return n})(),eU={provide:Eo,useExisting:gn(()=>u_)},u_=(()=>{class n extends Eo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Yx(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Gx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Wr,13),D(xn,10),D(Qs,10),D(Fc,10),D(Qx,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([eU]),qt,jn]})}}return n})(),tU={provide:Fc,useExisting:gn(()=>Uf),multi:!0};Uf=(()=>{class n extends n_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Zx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=nU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([tU]),qt]})}}return n})(),Jx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Zx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(_t),D(Un),D(Uf,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),rU={provide:Fc,useExisting:gn(()=>Xx),multi:!0};Xx=(()=>{class n extends n_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=iU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([rU]),qt]})}}return n})(),eI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(xx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(_t),D(Un),D(Xx,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();tI=(()=>{class n{constructor(){this._validator=If}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):If,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,features:[jn]})}}return n})(),sU={provide:xn,useExisting:gn(()=>d_),multi:!0},d_=(()=>{class n extends tI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=vi,this.createValidator=t=>Px}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&vs("required",i._enabled?"":null)},inputs:{required:"required"},features:[nt([sU]),qt]})}}return n})(),aU={provide:xn,useExisting:gn(()=>f_),multi:!0},f_=(()=>{class n extends tI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>oU(t),this.createValidator=t=>Ax(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&vs("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[nt([aU]),qt]})}}return n})(),nI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),t_=class extends Ks{constructor(e,t,r){super(o_(t),s_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zx(this,!1,e),e.forEach((r,i)=>{$x(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};rI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Ix(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ys(i,o)}record(t,r=null){let i=this._reduceControls(t);return new e_(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Ix(r)?o=r:(o.validators=r,o.asyncValidators=i),new Rc(t,B(M({},o),{nonNullable:!0}))):new Rc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new t_(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Rc)return t;if(t instanceof Ks)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lc,useValue:t.callSetDisabledState??Vf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[nI]})}}return n})(),oI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Lc,useValue:t.callSetDisabledState??Vf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[nI]})}}return n})()});function cU(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.onClearFilter())}),_(1," \u2716 "),f()}}var Bf,sI=h(()=>{"use strict";N();we();$s();Hr();N();De();In();Bf=class n{contactService=C(Mt);filterBy;filterSubject$=new ge;destroyRef=C(Ft);ngOnInit(){this.contactService.filterBy$.pipe(Kt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Er(),Kt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),Vt("ngModelChange",function(o){return Wt(r.filterBy.name,o)||(r.filterBy.name=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),k(3,cU,2,0,"button",3),f()()),t&2&&(m(2),Lt("ngModel",r.filterBy.name),m(),y("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[me,Sn,vr,Gr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var $f,aI=h(()=>{"use strict";N();$s();Hr();N();ct();_x();sI();De();$f=class n{contactService=C(Mt);contacts$;destroyRef=C(Ft);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(Kt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"contact-filter"),A(2,"input",1),f(),p(3,"button",2),A(4,"img",3),p(5,"span"),_(6,"Add Contact"),f()(),p(7,"contact-list",4),wt(8,"async"),S("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(m(7),y("contacts",Et(8,1,r.contacts$)))},dependencies:[En,Sf,Bf,Gt],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});var zf,cI=h(()=>{"use strict";N();zf=class n{transform(e){if(!e)return"";let t=/(https?:\/\/)?(www\.)?([^\/.]+)\.co/,r=e.match(t);if(r){let i=r[3];return`<a href="${e}" target="_blank" rel="noopener noreferrer">${i}</a>`}return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=so({name:"extractDomain",type:n,pure:!0})}});function dU(n,e){if(n&1&&(p(0,"div",11),A(1,"img",12),f()),n&2){let t=w().ngIf;m(),y("src",t.img?t.img:"../../../assets/images/picture.png",Ie)("ngClass",_n(2,lI,t.imageSize||"medium",t.imageShape||"circle"))}}function fU(n,e){if(n&1&&(p(0,"div",13)(1,"video",14),_(2," Your browser does not support the video tag. "),f()()),n&2){let t=w().ngIf;m(),y("src",t.video,Ie)("ngClass",_n(2,lI,t.imageSize||"medium",t.imageShape||"circle"))}}function pU(n,e){if(n&1&&(p(0,"p")(1,"strong"),_(2,"Dscription:"),f(),_(3),f()),n&2){let t=w().ngIf;m(3),Oe(" ",t.lastName,"")}}function hU(n,e){if(n&1&&(p(0,"p")(1,"strong"),_(2,"Info:"),f(),A(3,"span",15),wt(4,"extractDomain"),f()),n&2){let t=w().ngIf;m(3),y("innerHTML",Et(4,1,t.additionalInfo),Xu)}}function gU(n,e){if(n&1){let t=z();p(0,"section",2),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.onBack())}),p(1,"section",3)(2,"button",4),S("click",function(){O(t);let i=w();return T(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),_(5,"Contact Details"),f()(),p(6,"div",6),k(7,dU,2,5,"div",7)(8,fU,3,5,"div",8),f(),p(9,"div",9)(10,"p")(11,"strong"),_(12,"Name:"),f(),_(13),f(),k(14,pU,4,1,"p",10)(15,hU,5,3,"p",10),f()()}if(n&2){let t=e.ngIf;m(7),y("ngIf",t.img),m(),y("ngIf",t.video),m(5),Oe(" ",t.name,""),m(),y("ngIf",t.lastName),m(),y("ngIf",t.additionalInfo)}}var lI,Hf,uI=h(()=>{"use strict";N();we();ct();N();De();ct();qr();Hs();cI();lI=(n,e)=>[n,e];Hf=class n{router=C(Pe);route=C(Ut);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&B(M({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"media-row"],["class","contact-image-container",4,"ngIf"],["class","contact-video-container",4,"ngIf"],[1,"contact-fields"],[4,"ngIf"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-video-container"],["width","220","height","140","controls","",3,"src","ngClass"],[3,"innerHTML"]],template:function(t,r){t&1&&(A(0,"div",0),k(1,gU,16,5,"section",1),wt(2,"async"),A(3,"router-outlet")),t&2&&(m(),y("ngIf",Et(2,1,r.contact$)))},dependencies:[fr,me,Wn,gt,Dn,Gt,zf],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:350px;height:200px}@media (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:310px!important;height:200px!important;border:1px solid}}"]})}});var On,Zs=h(()=>{"use strict";we();N();On=class n{isLoadingSubject=new fe(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var h_,dI=h(()=>{"use strict";N();Hr();we();Zs();h_=(n,e)=>{let t=n.params.id,r=C(On),i=C(Mt);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getById(t).pipe(dn(250),ue(o=>(console.error("Error fetching contact:",o),V(null))),Qt(()=>r.hide()))}});function mU(n,e){if(n&1&&(p(0,"div",4),A(1,"img",5),f()),n&2){let t=w();m(),y("src",t.uploadedImageUrl,Ie)}}var Js,g_=h(()=>{"use strict";N();N();fc();Zs();De();Js=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}imageUploaded=new X;uploadError=new X;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadImage(r)}}uploadImage(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded image URL:",t),this.imageUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the image:",t),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(gr),D(On))};static \u0275cmp=Z({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"image-upload"],["class","contact-image-container",4,"ngIf"],["for","fileInput"],["type","file","id","fileInput",3,"change","disabled"],[1,"contact-image-container"],["alt","Uploaded Image",1,"contact-image",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),k(1,mU,2,1,"div",1),p(2,"label",2),_(3,"\u05D1\u05D7\u05E8 \u05EA\u05DE\u05D5\u05E0\u05D4 \u{1F4F7}"),f(),p(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(m(),y("ngIf",r.uploadedImageUrl),m(),Bn("hidden",r.uploadedImageUrl),m(2),y("disabled",r.isLoading))},dependencies:[me],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;background-color:transparent;box-shadow:none;max-width:200px;text-align:center}.image-upload[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #ddd;display:flex;justify-content:center;align-items:center}.image-upload[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;width:7em;height:1em;background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003;margin-top:.5rem;visibility:visible}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.image-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8rem;color:#555;max-width:150px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});function vU(n,e){if(n&1&&(p(0,"div",4),A(1,"video",5),f()),n&2){let t=w();m(),y("src",t.uploadedVideoUrl,Ie)}}var qf,pI=h(()=>{"use strict";N();N();fc();Zs();De();qf=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}videoUploaded=new X;uploadError=new X;selectedFile=null;uploadedVideoUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadVideo(r)}}uploadVideo(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded video URL:",t),this.videoUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the video:",t),this.uploadError.emit("Failed to upload the video"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(gr),D(On))};static \u0275cmp=Z({type:n,selectors:[["video-upload"]],outputs:{videoUploaded:"videoUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"video-upload"],["class","video-container",4,"ngIf"],["for","videoFileInput"],["type","file","id","videoFileInput","accept","video/*",3,"change","disabled"],[1,"video-container"],["width","220","height","140","controls","",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),k(1,vU,2,1,"div",1),p(2,"label",2),_(3,"\u05D1\u05D7\u05E8 \u05D5\u05D9\u05D3\u05D0\u05D5 \u{1F3A5}"),f(),p(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(m(),y("ngIf",r.uploadedVideoUrl),m(),Bn("hidden",r.uploadedVideoUrl),m(2),y("disabled",r.isLoading))},dependencies:[me],styles:[".video-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.video-upload[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{width:220px;height:140px;border:2px solid #ddd;border-radius:8px;overflow:hidden}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;padding:.2rem .6rem;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.video-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.video-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});var Wf,hI=h(()=>{"use strict";N();Wf=class n{transform(e){if(!e)return e;let t=/(https?:\/\/[^\s]+)/g;return e.replace(t,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>')}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=so({name:"linkify",type:n,pure:!0})}});function CU(n,e){if(n&1){let t=z();p(0,"button",39),S("click",function(){O(t);let i=w(2);return T(i.onDeleteClick())}),A(1,"img",40),f()}}function bU(n,e){if(n&1){let t=z();p(0,"img",41),S("click",function(){O(t);let i=w(2);return T(i.toggleImageUpload())}),f()}if(n&2){let t=w(2);y("src",t.contact.img,Ie)("ngClass",_n(2,Gf,t.selectedImageSize,t.selectedImageShape))}}function wU(n,e){if(n&1){let t=z();p(0,"div",43),S("click",function(){O(t);let i=w(3);return T(i.toggleImageUpload())}),_(1),f()}if(n&2){let t,r=w(3);y("ngClass",_n(2,Gf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),m(),Oe(" ",r.getInitials(r.contact.name)," ")}}function EU(n,e){if(n&1){let t=z();p(0,"img",44),S("click",function(){O(t);let i=w(3);return T(i.toggleImageUpload())}),f()}if(n&2){let t,r=w(3);y("ngClass",_n(1,Gf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function MU(n,e){if(n&1&&k(0,wU,2,5,"div",42)(1,EU,1,4,"ng-template",null,2,$n),n&2){let t=at(2),r=w(2);y("ngIf",r.contact.name)("ngIfElse",t)}}function DU(n,e){if(n&1){let t=z();p(0,"div",45)(1,"image-upload",46),S("imageUploaded",function(i){O(t);let o=w(2);return T(o.onImageUploaded(i))})("uploadError",function(i){O(t);let o=w(2);return T(o.onUploadError(i))}),f()()}}function SU(n,e){if(n&1&&(p(0,"video",47),A(1,"source",48),_(2," Your browser does not support the video tag. "),f()),n&2){let t=w(2);m(),y("src",t.contact.video,Ie)}}function xU(n,e){if(n&1){let t=z();p(0,"div",49),S("click",function(){O(t);let i=w(2);return T(i.toggleVideoUpload())}),A(1,"img",50),f()}if(n&2){let t=w(2);y("ngClass",_n(1,Gf,t.selectedImageSize,t.selectedImageShape))}}function IU(n,e){if(n&1){let t=z();p(0,"div",51)(1,"video-upload",52),S("videoUploaded",function(i){O(t);let o=w(2);return T(o.onVideoUploaded(i))})("uploadError",function(i){O(t);let o=w(2);return T(o.onUploadVideoError(i))}),f()()}}function OU(n,e){if(n&1&&(p(0,"option",53),_(1),f()),n&2){let t=e.$implicit;y("value",t.value),m(),Oe("",t.label," ")}}function TU(n,e){if(n&1&&(p(0,"option",53),_(1),f()),n&2){let t=e.$implicit;y("value",t.value),m(),Oe("",t.label," ")}}function PU(n,e){n&1&&(p(0,"span"),_(1,"Name is required!"),f())}function AU(n,e){n&1&&(p(0,"span"),_(1,"Name must be at least 3 characters long!"),f())}function kU(n,e){if(n&1&&(p(0,"p",55),k(1,PU,2,0,"span",30)(2,AU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.required),m(),y("ngIf",t.errors.minlength)}}function NU(n,e){if(n&1&&(Ct(0),k(1,kU,3,2,"p",54),bt()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function RU(n,e){n&1&&(p(0,"div",56)(1,"label",57),_(2,"Description"),f(),A(3,"textarea",58),f())}function FU(n,e){n&1&&(p(0,"span"),_(1,"Description must be at least 3 characters long!"),f())}function LU(n,e){if(n&1&&(p(0,"p",55),k(1,FU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.minlength)}}function VU(n,e){if(n&1&&(Ct(0),k(1,LU,2,1,"p",54),bt()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function jU(n,e){if(n&1&&(A(0,"p",59),wt(1,"linkify")),n&2){let t=w(2);y("innerHTML",Et(1,1,t.form.controls.additionalInfo.value),Xu)}}function UU(n,e){n&1&&(p(0,"span"),_(1,"Additional Info must be at least 3 characters long!"),f())}function BU(n,e){if(n&1&&(p(0,"p",55),k(1,UU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.minlength)}}function $U(n,e){if(n&1&&(Ct(0),k(1,BU,2,1,"p",54),bt()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function zU(n,e){if(n&1){let t=z();p(0,"div",60)(1,"label",61)(2,"input",62),S("change",function(i){O(t);let o=w(2);return T(o.onToggleLastName(i))}),f(),A(3,"span",63),f(),p(4,"span",64),_(5,"Add Description"),f()()}if(n&2){let t=w(2);m(2),y("checked",t.IsLastName||t.contact.lastName)}}function HU(n,e){if(n&1){let t=z();p(0,"div",5)(1,"section",6),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.onBack())}),p(2,"section",7)(3,"a",8),A(4,"img",9),f(),p(5,"h2"),_(6),f(),k(7,CU,2,0,"button",10),f(),p(8,"form",11),S("ngSubmit",function(){O(t);let i=w();return T(i.onSaveContact())}),p(9,"div",12)(10,"div",13),k(11,bU,1,5,"img",14)(12,MU,3,2,"ng-template",null,0,$n)(14,DU,2,0,"div",15),f(),p(15,"div",16)(16,"div",17),S("click",function(){O(t);let i=w();return T(i.toggleVideoUpload())}),k(17,SU,3,1,"video",18),f(),k(18,xU,2,4,"ng-template",null,1,$n)(20,IU,2,0,"div",19),f()(),p(21,"div",20)(22,"label",21),_(23,"Size:"),f(),p(24,"select",22),S("change",function(i){O(t);let o=w();return T(o.onImageSizeChange(i))}),k(25,OU,2,2,"option",23),f(),p(26,"label",24),_(27,"Shape:"),f(),p(28,"select",25),S("change",function(i){O(t);let o=w();return T(o.onImageShapeChange(i))}),k(29,TU,2,2,"option",23),f()(),p(30,"div",26)(31,"div",27)(32,"label",28),_(33,"Name"),f(),A(34,"input",29),f(),k(35,NU,2,1,"ng-container",30)(36,RU,4,0,"div",31)(37,VU,2,1,"ng-container",30),p(38,"div",32)(39,"label",33),_(40,"Additional Info"),f(),A(41,"textarea",34),f(),k(42,jU,2,3,"p",35)(43,$U,2,1,"ng-container",30),p(44,"div",36),k(45,zU,6,1,"div",37),p(46,"button",38),_(47," Save "),f()()()()()()}if(n&2){let t=at(13),r=at(19),i=w();m(6),Oe("",i.contact._id?"Edit":"Add"," Contact"),m(),y("ngIf",i.contact._id),m(),y("formGroup",i.form),m(3),y("ngIf",i.contact.img)("ngIfElse",t),m(3),y("ngIf",i.showImageUpload),m(3),y("ngIf",i.contact.video)("ngIfElse",r),m(3),y("ngIf",i.showVideoUpload),m(5),y("ngForOf",i.imageSizeOptions)("ngForTrackBy",i.trackByFn),m(4),y("ngForOf",i.imageShapeOptions)("ngForTrackBy",i.trackByFn),m(6),y("ngIf",i.form.controls.name),m(),y("ngIf",i.IsLastName||i.contact.lastName),m(),y("ngIf",i.form.controls.lastName),m(5),y("ngIf",i.form.controls.additionalInfo.value),m(),y("ngIf",i.form.controls.additionalInfo),m(2),y("ngIf",!i.contact.lastName),m(),y("disabled",i.form.invalid)}}var Gf,jc,gI=h(()=>{"use strict";N();Hr();ct();we();In();De();N();In();De();Ti();ct();Qy();qr();Hs();g_();pI();hI();Gf=(n,e)=>[n,e];jc=class n{constructor(e,t,r,i){this.fb=e;this.datePipe=t;this.msgService=r;this.cd=i}IsLastName=!1;showImageUpload=!1;showVideoUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new ge;contactService=C(Mt);contact=this.contactService.getEmptyContact();router=C(Pe);route=C(Ut);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Ai.required,Ai.minLength(3)]],lastName:[e?this.contact.lastName:"",[Ai.minLength(3)]],additionalInfo:[e?this.contact.additionalInfo:""],phone:[e?this.contact.phone:"",[Ai.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Ai.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date)],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],video:[e?this.contact.video:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(fn(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(fn(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Ne(t=>!!t),fn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue(B(M({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle",video:t.video||""})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(fn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=M({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(fn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.patchValue({img:e}),this.showImageUpload=!1,this.cd.detectChanges(),this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}onVideoUploaded(e){console.log("Video uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.video=e,this.form.patchValue({video:e}),this.showVideoUpload=!1,this.contact._id?this.contactService.updateContactVideo(this.contact._id,e).subscribe({next:t=>{console.log("Contact video updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact video updated successfully!")},error:t=>{console.error("Failed to update contact video:",t),this.msgService.setErrorMsg("Failed to update contact video.")}}):console.log("Contact does not have an ID yet. Video update will be saved with the form submission.")}onUploadVideoError(e){console.error("Video upload error:",e),this.msgService.setErrorMsg(e)}toggleVideoUpload(){this.showVideoUpload=!this.showVideoUpload}static \u0275fac=function(t){return new(t||n)(D(rI),D(Sd),D(Tt),D(zn))};static \u0275cmp=Z({type:n,selectors:[["contact-edit"]],features:[nt([Sd])],decls:3,vars:3,consts:[["fallback",""],["videoFallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"media-row"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"contact-video-container"],[1,"video-wrapper",3,"click"],["width","220","height","140","controls","",4,"ngIf","ngIfElse"],["class","video-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","desc form-input",4,"ngIf"],[1,"form-input","desc"],["for","additionalInfo"],["formControlName","additionalInfo","placeholder","Enter text, links, or anything...","id","additionalInfo",1,"lastName"],["class","formatted-text",3,"innerHTML",4,"ngIf"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"click","src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/picture.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["width","220","height","140","controls",""],["type","video/mp4",3,"src"],[1,"default-video-avatar",3,"click","ngClass"],["src","../../../assets/images/video.png","alt","Default Video Placeholder"],[1,"video-upload-section"],[3,"videoUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],[1,"desc","form-input"],["for","lastName"],["formControlName","lastName","placeholder","Enter description...","id","description"],[1,"formatted-text",3,"innerHTML"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(k(0,HU,48,20,"div",3),p(1,"section")(2,"app-modal",4),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(y("ngIf",r.contact),m(2),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[fr,pr,me,En,jf,Jx,eI,Sn,Uf,vr,Ff,l_,u_,qs,gt,Dn,Js,qf,Wf],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:30em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:8px;font-size:16px;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;background-color:#fff;resize:vertical;font-family:Roboto,sans-serif}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none;box-shadow:0 0 5px #f1c40f80}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:3em;height:1em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:.6em;width:1em;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:7em;font-size:13px;margin-right:.7em}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;margin-top:1rem;display:flex;flex-direction:column;align-items:center}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #ccc;border-radius:8px;object-fit:cover;width:220px;height:140px;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .video-upload-section[_ngcontent-%COMP%]{margin-top:.5rem}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#eee;width:160px!important;height:100px!important;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;opacity:.6}@media screen and (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0!important}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{width:200px!important;height:120px!important;border:1px solid;background:beige}.contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.default-avatar[_ngcontent-%COMP%], .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px!important;height:100px!important}}.upload-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.upload-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.upload-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.video-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.video-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000}']})}});function mI(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function vI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(Uh(200),Er(),Re(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function yI(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Kf=h(()=>{"use strict";we();Hr()});var Yf,_I=h(()=>{"use strict";In();Kf();N();Yf=class n{validate(e){return mI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appEmailValidator",""]],features:[nt([{provide:xn,useExisting:n,multi:!0}])]})}});var Qf,CI=h(()=>{"use strict";In();Kf();N();Ot();Qf=class n{constructor(e){this.userService=e}validate(e){return vI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275dir=ae({type:n,selectors:[["","appEmailTaken",""]],features:[nt([{provide:Qs,useExisting:n,multi:!0}])]})}});var Zf,bI=h(()=>{"use strict";In();Kf();N();Zf=class n{validate(e){return yI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appPasswordValidator",""]],features:[nt([{provide:xn,useExisting:n,multi:!0}])]})}});var Jf,wI=h(()=>{"use strict";In();N();Jf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appFullNameValidator",""]],features:[nt([{provide:xn,useExisting:n,multi:!0}])]})}});function YU(n,e){n&1&&(p(0,"span"),_(1,"Email is required."),f())}function QU(n,e){n&1&&(p(0,"span"),_(1,"Please enter a valid email address."),f())}function ZU(n,e){if(n&1&&(p(0,"div",14),k(1,YU,2,0,"span",6)(2,QU,2,0,"span",6),f()),n&2){w();let t=at(4);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.email)}}function JU(n,e){if(n&1){let t=z();Ct(0),p(1,"label",12),_(2,"Email:"),f(),p(3,"input",13,2),Vt("ngModelChange",function(i){O(t);let o=w();return Wt(o.user.email,i)||(o.user.email=i),T(i)}),f(),k(5,ZU,3,2,"div",9),A(6,"br"),bt()}if(n&2){let t=at(4),r=w();m(3),Lt("ngModel",r.user.email),m(2),y("ngIf",t.touched&&t.invalid)}}function XU(n,e){n&1&&(p(0,"span"),_(1,"Full name is required."),f())}function eB(n,e){n&1&&(p(0,"span"),_(1," Full name must be at least 3 characters long. "),f())}function tB(n,e){if(n&1&&(p(0,"div",14),k(1,XU,2,0,"span",6)(2,eB,2,0,"span",6),f()),n&2){w();let t=at(4);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.minlength)}}function nB(n,e){n&1&&(p(0,"span"),_(1,"Email is required."),f())}function rB(n,e){n&1&&(p(0,"span"),_(1,"Please enter a valid email address."),f())}function iB(n,e){n&1&&(p(0,"span"),_(1,"This email is already registered."),f())}function oB(n,e){if(n&1&&(p(0,"div",14),k(1,nB,2,0,"span",6)(2,rB,2,0,"span",6)(3,iB,2,0,"span",6),f()),n&2){w();let t=at(10);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.email),m(),y("ngIf",t.errors==null?null:t.errors.emailTaken)}}function sB(n,e){n&1&&(p(0,"div",19),_(1," Checking email availability... "),f())}function aB(n,e){if(n&1){let t=z();Ct(0),p(1,"label",15),_(2,"Full Name:"),f(),p(3,"input",16,3),Vt("ngModelChange",function(i){O(t);let o=w();return Wt(o.user.username,i)||(o.user.username=i),T(i)}),f(),k(5,tB,3,2,"div",9),A(6,"br"),p(7,"label",12),_(8,"Email:"),f(),p(9,"input",17,2),Vt("ngModelChange",function(i){O(t);let o=w();return Wt(o.user.email,i)||(o.user.email=i),T(i)}),f(),k(11,oB,4,3,"div",9)(12,sB,2,0,"div",18),A(13,"br"),bt()}if(n&2){let t=at(4),r=at(10),i=w();m(3),Lt("ngModel",i.user.username),m(2),y("ngIf",t.touched&&t.invalid),m(4),Lt("ngModel",i.user.email),m(2),y("ngIf",r.touched&&r.invalid),m(),y("ngIf",r.pending)}}function cB(n,e){n&1&&(p(0,"span"),_(1,"Password is required."),f())}function lB(n,e){n&1&&(p(0,"span"),_(1,"Password must be at least 6 characters long."),f())}function uB(n,e){n&1&&(p(0,"span"),_(1,"Password must contain at least one capital letter."),f())}function dB(n,e){n&1&&(p(0,"span"),_(1,"Password must contain at least one special character."),f())}function fB(n,e){if(n&1&&(p(0,"div",14),k(1,cB,2,0,"span",6)(2,lB,2,0,"span",6)(3,uB,2,0,"span",6)(4,dB,2,0,"span",6),f()),n&2){w();let t=at(10);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.minlength),m(),y("ngIf",t.errors==null?null:t.errors.noCapitalLetter),m(),y("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function pB(n,e){if(n&1&&(p(0,"p",14),_(1),f()),n&2){let t=w();m(),It(t.errorMessage)}}var Uc,EI=h(()=>{"use strict";N();Ot();ct();Ti();De();In();_I();CI();bI();wI();Uc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=B(M({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.email,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.email,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Pe),D(Tt),D(Ut))};static \u0275cmp=Z({type:n,selectors:[["login-sign-up"]],decls:21,vars:10,consts:[["form","ngForm"],["password","ngModel"],["email","ngModel"],["username","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],[4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","",3,"ngModelChange","ngModel"],[1,"error-message"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=z();p(0,"div",4)(1,"h4"),_(2),f(),p(3,"form",5,0),S("ngSubmit",function(){return O(i),T(r.onSubmit())}),k(5,JU,7,2,"ng-container",6)(6,aB,14,5,"ng-container",6),p(7,"label",7),_(8,"Password:"),f(),p(9,"input",8,1),Vt("ngModelChange",function(s){return O(i),Wt(r.user.password,s)||(r.user.password=s),T(s)}),f(),k(11,fB,5,4,"div",9),A(12,"br"),p(13,"button",10),_(14),f(),p(15,"p"),_(16),p(17,"a",11),S("click",function(s){return O(i),r.toggleMode(),T(s.preventDefault())}),_(18),f()(),A(19,"br"),f(),k(20,pB,2,1,"p",9),f()}if(t&2){let i=at(4),o=at(10);m(2),It(r.isSignupMode?"Create an Account":"Sign In"),m(3),y("ngIf",!r.isSignupMode),m(),y("ngIf",r.isSignupMode),m(3),Lt("ngModel",r.user.password),m(2),y("ngIf",o.touched&&o.invalid),m(2),y("disabled",i.invalid),m(),Oe(" ",r.isSignupMode?"Sign Up":"Log In"," "),m(2),Oe(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),m(2),Oe(" ",r.isSignupMode?"Sign in here":"Create an account"," "),m(2),y("ngIf",r.errorMessage)}},dependencies:[me,jf,Sn,vr,Ff,d_,f_,Gr,c_,Yf,Qf,Zf,Jf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var Mo,MI=h(()=>{"use strict";N();ct();Ot();we();Ti();Mo=(n,e)=>{let t=C(Ce),r=C(Pe),i=C(Tt);return t.loggedInUser$.pipe(dn(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var Xf,DI=h(()=>{"use strict";N();Xf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(p(0,"html",0)(1,"head"),A(2,"meta",1)(3,"meta",2),p(4,"title"),_(5,"Privacy Policy - My Accounts App"),f(),A(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),p(13,"body")(14,"div",10)(15,"h1"),_(16,"Privacy Policy for My Accounts App"),f(),p(17,"p")(18,"strong"),_(19,"Effective Date:"),f(),_(20," 07/02/2025"),f(),p(21,"p"),_(22,"Welcome to "),p(23,"strong"),_(24,"My Accounts App"),f(),_(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),p(26,"h2"),_(27,"1. Information We Collect"),f(),p(28,"ul")(29,"li")(30,"strong"),_(31,"Personal Information:"),f(),_(32," Name, email address, phone number, and other details provided during registration."),f(),p(33,"li")(34,"strong"),_(35,"Usage Data:"),f(),_(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),p(37,"li")(38,"strong"),_(39,"Device Information:"),f(),_(40," IP address, browser type, and operating system."),f()(),p(41,"h2"),_(42,"2. How We Use Your Information"),f(),p(43,"ul")(44,"li"),_(45,"Provide, operate, and improve our app and services."),f(),p(46,"li"),_(47,"Personalize your experience."),f(),p(48,"li"),_(49,"Ensure security and prevent fraudulent activities."),f(),p(50,"li"),_(51,"Comply with legal requirements."),f()(),p(52,"h2"),_(53,"3. Sharing of Information"),f(),p(54,"ul")(55,"li"),_(56,"We do not sell or rent your personal information."),f(),p(57,"li")(58,"strong"),_(59,"Service Providers:"),f(),_(60," Third-party vendors that help us operate our app."),f(),p(61,"li")(62,"strong"),_(63,"Legal Authorities:"),f(),_(64," When required by law or to protect our rights."),f()(),p(65,"h2"),_(66,"4. Data Retention & Security"),f(),p(67,"p"),_(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),p(69,"h2"),_(70,"5. Your Rights"),f(),p(71,"ul")(72,"li"),_(73,"Access and review your personal data."),f(),p(74,"li"),_(75,"Request correction or deletion of your information."),f(),p(76,"li"),_(77,"Opt-out of marketing communications."),f()(),p(78,"h2"),_(79,"6. Third-Party Links"),f(),p(80,"p"),_(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),p(82,"h2"),_(83,"7. Changes to This Policy"),f(),p(84,"p"),_(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),p(86,"h2"),_(87,"8. Contact Us"),f(),p(88,"p"),_(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),p(90,"p"),_(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f;padding:7px}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}"]})}});function gB(n,e){if(n&1){let t=z();p(0,"user-list",6),S("remove",function(i){O(t);let o=w();return T(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;y("users",(t=r)!==null&&t!==void 0?t:ad(1,hB))}}function mB(n,e){if(n&1){let t=z();p(0,"div",7),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.closeChat("group"))}),p(1,"div",8)(2,"span",9),S("click",function(){O(t);let i=w();return T(i.closeChat("group"))}),_(3,"\xD7"),f(),p(4,"app-chat",10),S("closeChat",function(){O(t);let i=w();return T(i.closeChat("group"))}),f()()()}n&2&&(m(4),y("chatType","group"))}var hB,Ni,ep=h(()=>{"use strict";N();$s();we();Ot();Us();N();hB=()=>[];Ni=class n{userService=C(Ce);socketService=C(Mn);users$;destroyRef=C(Ft);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new fe(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(Kt(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new fe(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(Kt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-index"]],decls:7,vars:4,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/social_cvhg3i.png","alt","group-chat",1,"send-btn"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType"]],template:function(t,r){t&1&&(p(0,"section",0),A(1,"user-filter",1),k(2,gB,1,2,"user-list",2),wt(3,"async"),f(),p(4,"button",3),S("click",function(){return r.openChat("group")}),A(5,"img",4),f(),k(6,mB,5,1,"div",5)),t&2&&(m(2),y("ngIf",Et(3,2,r.users$)),m(4),y("ngIf",r.isGroupChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background:linear-gradient(90deg,#34495e,#2c3e50)}.send-btn[_ngcontent-%COMP%]{max-width:4em}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px;bottom:15em}.group-chat-btn[_ngcontent-%COMP%]{right:1em!important}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function yB(n,e){if(n&1&&(p(0,"span"),_(1),f()),n&2){let t=w().ngIf;m(),It(t.username)}}function _B(n,e){if(n&1&&(p(0,"span"),_(1),f()),n&2){let t=w().ngIf;m(),Oe("",t.username.substring(0,15),"...")}}function CB(n,e){if(n&1&&(p(0,"span"),_(1),f()),n&2){let t=w().ngIf;m(),It(t.email)}}function bB(n,e){if(n&1&&(p(0,"span"),_(1),f()),n&2){let t=w().ngIf;m(),Oe("",t.email.substring(0,20),"...")}}function wB(n,e){if(n&1){let t=z();p(0,"section",2)(1,"section",3)(2,"button",4),S("click",function(){O(t);let i=w();return T(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),_(5,"User Details"),f()(),p(6,"div",6),A(7,"img",7),f(),p(8,"div",8)(9,"p")(10,"strong"),_(11,"Username:"),f(),k(12,yB,2,1,"span",9)(13,_B,2,1,"span",9),f(),p(14,"p")(15,"strong"),_(16,"Email:"),f(),k(17,CB,2,1,"span",9)(18,bB,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=w();m(7),y("src",t.img?t.img:"../../../assets/images/contact.png",Ie),m(5),y("ngIf",!r.isLongField(t.username,15)),m(),y("ngIf",r.isLongField(t.username,15)),m(4),y("ngIf",!r.isLongField(t.email,20)),m(),y("ngIf",r.isLongField(t.email,20))}}var tp,SI=h(()=>{"use strict";N();we();ct();Ot();N();De();ct();tp=class n{router=C(Pe);route=C(Ut);subscription;userService=C(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(p(0,"div",0),S("click",function(){return r.onBack()}),f(),k(1,wB,19,5,"section",1),wt(2,"async"),A(3,"router-outlet")),t&2&&(m(),y("ngIf",Et(2,1,r.user$)))},dependencies:[me,Wn,Gt],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var xI,II=h(()=>{"use strict";N();Ot();we();Zs();xI=(n,e)=>{let t=n.params.id,r=C(On),i=C(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getUserById(t).pipe(dn(250),ue(o=>(console.error("Error fetching user:",o),V(null))),Qt(()=>r.hide()))}});var EB,np,OI=h(()=>{"use strict";ct();mx();aI();uI();dI();gI();EI();MI();DI();ep();SI();II();N();EB=[{path:"contact",component:$f,canActivate:[Mo],children:[{path:"edit",component:jc,canActivate:[Mo]},{path:"edit/:id",component:jc,resolve:{contact:h_},canActivate:[Mo]}]},{path:"contact/:id",component:Hf,outlet:"modal",resolve:{contact:h_},canActivate:[Mo]},{path:"login",component:Uc},{path:"signup",component:Uc},{path:"privacy-policy",component:Xf},{path:"users",component:Ni,canActivate:[Mo]},{path:"user/:id",component:tp,outlet:"modal",resolve:{user:xI},canActivate:[Mo]},{path:"",component:Ef}],np=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n});static \u0275inj=Ye({imports:[_y.forRoot(EB,{useHash:!1}),_y]})}});function SB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function ip(){try{return typeof indexedDB=="object"}catch{return!1}}function op(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function NI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function AB(n,e){return n.replace(kB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function sp(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(TI(o)&&TI(s)){if(!sp(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function TI(n){return n!==null&&typeof n=="object"}function ap(n){return n&&n._delegate?n._delegate:n}var PI,MB,AI,m_,DB,v_,kI,xB,IB,OB,TB,y_,rp,PB,Kr,Yr,kB,Qee,Xs=h(()=>{"use strict";PI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},MB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},AI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(v=64)),r.push(t[u],t[d],t[v],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new m_;let v=o<<2|a>>4;if(r.push(v),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let b=l<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},m_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DB=function(n){let e=PI(n);return AI.encodeByteArray(e,!0)},v_=function(n){return DB(n).replace(/\./g,"")},kI=function(n){try{return AI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};xB=()=>SB().__FIREBASE_DEFAULTS__,IB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&kI(n[1]);return e&&JSON.parse(e)},TB=()=>{try{return xB()||IB()||OB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},y_=()=>{var n;return(n=TB())===null||n===void 0?void 0:n.config};rp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};PB="FirebaseError",Kr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=PB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yr.prototype.create)}},Yr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?AB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kr(i,a,r)}};kB=/\{\$([^}]+)}/g;Qee=4*60*60*1e3;});function NB(n){return n===Do?void 0:n}function RB(n){return n.instantiationMode==="EAGER"}var sn,Do,__,cp,lp=h(()=>{"use strict";Xs();sn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};Do="[DEFAULT]";__=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new rp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RB(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};cp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new __(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var LB,$e,VB,jB,UB,BB,up,RI=h(()=>{"use strict";LB=[],$e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}($e||{}),VB={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},jB=$e.INFO,UB={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},BB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=UB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},up=class{constructor(e){this.name=e,this._logLevel=jB,this._logHandler=BB,this._userLogHandler=null,LB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}});function zB(){return FI||(FI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HB(){return LI||(LI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function qB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Qn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&VI.set(t,n)}).catch(()=>{}),E_.set(e,n),e}function WB(n){if(b_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});b_.set(n,e)}function UI(n){w_=n(w_)}function GB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(dp(this),e,...t);return jI.set(r,e.sort?e.sort():[e]),Qn(r)}:HB().includes(n)?function(...e){return n.apply(dp(this),e),Qn(VI.get(this))}:function(...e){return Qn(n.apply(dp(this),e))}}function KB(n){return typeof n=="function"?GB(n):(n instanceof IDBTransaction&&WB(n),$B(n,zB())?new Proxy(n,w_):n)}function Qn(n){if(n instanceof IDBRequest)return qB(n);if(C_.has(n))return C_.get(n);let e=KB(n);return e!==n&&(C_.set(n,e),E_.set(e,n)),e}var $B,FI,LI,VI,b_,jI,C_,E_,w_,dp,M_=h(()=>{"use strict";$B=(n,e)=>e.some(t=>n instanceof t);VI=new WeakMap,b_=new WeakMap,jI=new WeakMap,C_=new WeakMap,E_=new WeakMap;w_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return b_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};dp=n=>E_.get(n)});function So(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Qn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Qn(s.result),c.oldVersion,c.newVersion,Qn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function fp(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Qn(t).then(()=>{})}function BI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(D_.get(e))return D_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=QB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YB.includes(t)))return;let o=function(s,...a){return P(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return D_.set(e,o),o}var YB,QB,D_,pp=h(()=>{"use strict";M_();M_();YB=["get","getKey","getAll","getAllKeys","count"],QB=["put","add","delete","clear"],D_=new Map;UI(n=>B(M({},n),{get:(e,t,r)=>BI(e,t)||n.get(e,t,r),has:(e,t)=>!!BI(e,t)||n.has(e,t)}))});function ZB(n){let e=n.getComponent();return e?.type==="VERSION"}function zI(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zr(n){let e=n.name;if(T_.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;T_.set(e,n);for(let t of hp.values())zI(t,n);for(let t of D3.values())zI(t,n);return!0}function $c(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function N_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:O_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(t||(t=y_()),!t)throw Ri.create("no-options");let o=hp.get(i);if(o){if(sp(t,o.options)&&sp(r,o.config))return o;throw Ri.create("duplicate-app",{appName:i})}let s=new cp(i);for(let c of T_.values())s.addComponent(c);let a=new P_(t,r,s);return hp.set(i,a),a}function R_(n=O_){let e=hp.get(n);if(!e&&n===O_&&y_())return N_();if(!e)throw Ri.create("no-app",{appName:n});return e}function Zn(n,e,t){var r;let i=(r=M3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}Zr(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function GI(){return S_||(S_=So(x3,I3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ri.create("idb-open",{originalErrorMessage:n.message})})),S_}function O3(n){return P(this,null,function*(){try{let t=(yield GI()).transaction(Bc),r=yield t.objectStore(Bc).get(KI(n));return yield t.done,r}catch(e){if(e instanceof Kr)Qr.warn(e.message);else{let t=Ri.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}})}function HI(n,e){return P(this,null,function*(){try{let r=(yield GI()).transaction(Bc,"readwrite");yield r.objectStore(Bc).put(e,KI(n)),yield r.done}catch(t){if(t instanceof Kr)Qr.warn(t.message);else{let r=Ri.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(r.message)}}})}function KI(n){return`${n.name}!${n.options.appId}`}function qI(){return new Date().toISOString().substring(0,10)}function A3(n,e=T3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),WI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function WI(n){return v_(JSON.stringify({version:2,heartbeats:n})).length}function k3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function N3(n){Zr(new sn("platform-logger",e=>new x_(e),"PRIVATE")),Zr(new sn("heartbeat",e=>new A_(e),"PRIVATE")),Zn(I_,$I,n),Zn(I_,$I,"esm2017"),Zn("fire-js","")}var x_,I_,$I,Qr,JB,XB,e3,t3,n3,r3,i3,o3,s3,a3,c3,l3,u3,d3,f3,p3,h3,g3,m3,v3,y3,_3,C3,b3,w3,E3,O_,M3,hp,D3,T_,S3,Ri,P_,x3,I3,Bc,S_,T3,P3,A_,k_,zc=h(()=>{"use strict";lp();RI();Xs();Xs();pp();x_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};I_="@firebase/app",$I="0.11.0";Qr=new up("@firebase/app"),JB="@firebase/app-compat",XB="@firebase/analytics-compat",e3="@firebase/analytics",t3="@firebase/app-check-compat",n3="@firebase/app-check",r3="@firebase/auth",i3="@firebase/auth-compat",o3="@firebase/database",s3="@firebase/data-connect",a3="@firebase/database-compat",c3="@firebase/functions",l3="@firebase/functions-compat",u3="@firebase/installations",d3="@firebase/installations-compat",f3="@firebase/messaging",p3="@firebase/messaging-compat",h3="@firebase/performance",g3="@firebase/performance-compat",m3="@firebase/remote-config",v3="@firebase/remote-config-compat",y3="@firebase/storage",_3="@firebase/storage-compat",C3="@firebase/firestore",b3="@firebase/vertexai",w3="@firebase/firestore-compat",E3="firebase";O_="[DEFAULT]",M3={[I_]:"fire-core",[JB]:"fire-core-compat",[e3]:"fire-analytics",[XB]:"fire-analytics-compat",[n3]:"fire-app-check",[t3]:"fire-app-check-compat",[r3]:"fire-auth",[i3]:"fire-auth-compat",[o3]:"fire-rtdb",[s3]:"fire-data-connect",[a3]:"fire-rtdb-compat",[c3]:"fire-fn",[l3]:"fire-fn-compat",[u3]:"fire-iid",[d3]:"fire-iid-compat",[f3]:"fire-fcm",[p3]:"fire-fcm-compat",[h3]:"fire-perf",[g3]:"fire-perf-compat",[m3]:"fire-rc",[v3]:"fire-rc-compat",[y3]:"fire-gcs",[_3]:"fire-gcs-compat",[C3]:"fire-fst",[w3]:"fire-fst-compat",[b3]:"fire-vertex","fire-js":"fire-js",[E3]:"fire-js-all"};hp=new Map,D3=new Map,T_=new Map;S3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Yr("app","Firebase",S3);P_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}};x3="firebase-heartbeat-database",I3=1,Bc="firebase-heartbeat-store",S_=null;T3=1024,P3=30,A_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new k_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>P3){let s=k3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=qI(),{heartbeatsToSend:r,unsentEntries:i}=A3(this._heartbeatsCache.heartbeats),o=v_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qr.warn(t),""}})}};k_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return ip()?op().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield O3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};N3("")});var R3,F3,YI=h(()=>{"use strict";zc();zc();R3="firebase",F3="11.3.0";Zn(R3,F3,"app")});function nO(n){return n instanceof Kr&&n.code.includes("request-failed")}function rO({projectId:n}){return`${L3}/projects/${n}/installations`}function iO(n){return{token:n.token,requestStatus:2,expiresIn:z3(n.expiresIn),creationTime:Date.now()}}function oO(n,e){return P(this,null,function*(){let r=(yield e.json()).error;return Io.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function sO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function $3(n,{refreshToken:e}){let t=sO(n);return t.append("Authorization",H3(e)),t}function aO(n){return P(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function z3(n){return Number(n.replace("s","000"))}function H3(n){return`${tO} ${n}`}function q3(r,i){return P(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=rO(n),s=sO(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:tO,appId:n.appId,sdkVersion:eO},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield aO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:iO(d.authToken)}}else throw yield oO("Create Installation",u)})}function cO(n){return new Promise(e=>{setTimeout(e,n)})}function W3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function K3(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=Y3(n);return G3.test(t)?t:V_}catch{return V_}}function Y3(n){return W3(n).substr(0,22)}function mp(n){return`${n.appName}!${n.appId}`}function uO(n,e){let t=mp(n);dO(t,e),Q3(t,e)}function dO(n,e){let t=lO.get(n);if(t)for(let r of t)r(e)}function Q3(n,e){let t=Z3();t&&t.postMessage({key:n,fid:e}),J3()}function Z3(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=n=>{dO(n.data.key,n.data.fid)}),xo}function J3(){lO.size===0&&xo&&(xo.close(),xo=null)}function U_(){return F_||(F_=So(X3,e$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Oo)}}})),F_}function gp(n,e){return P(this,null,function*(){let t=mp(n),i=(yield U_()).transaction(Oo,"readwrite"),o=i.objectStore(Oo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&uO(n,e.fid),e})}function fO(n){return P(this,null,function*(){let e=mp(n),r=(yield U_()).transaction(Oo,"readwrite");yield r.objectStore(Oo).delete(e),yield r.done})}function vp(n,e){return P(this,null,function*(){let t=mp(n),i=(yield U_()).transaction(Oo,"readwrite"),o=i.objectStore(Oo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&uO(n,a.fid),a})}function B_(n){return P(this,null,function*(){let e,t=yield vp(n.appConfig,r=>{let i=t$(r),o=n$(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===V_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function t$(n){let e=n||{fid:K3(),registrationStatus:0};return pO(e)}function n$(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Io.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r$(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:i$(n)}:{installationEntry:e}}function r$(n,e){return P(this,null,function*(){try{let t=yield q3(n,e);return gp(n.appConfig,t)}catch(t){throw nO(t)&&t.customData.serverCode===409?yield fO(n.appConfig):yield gp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function i$(n){return P(this,null,function*(){let e=yield QI(n.appConfig);for(;e.registrationStatus===1;)yield cO(100),e=yield QI(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield B_(n);return r||t}return e})}function QI(n){return vp(n,e=>{if(!e)throw Io.create("installation-not-found");return pO(e)})}function pO(n){return o$(n)?{fid:n.fid,registrationStatus:0}:n}function o$(n){return n.registrationStatus===1&&n.registrationTime+XI<Date.now()}function s$(r,i){return P(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=a$(n,t),s=$3(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:eO,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield aO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return iO(d)}else throw yield oO("Generate Auth Token",u)})}function a$(n,{fid:e}){return`${rO(n)}/${e}/authTokens:generate`}function $_(n,e=!1){return P(this,null,function*(){let t,r=yield vp(n.appConfig,o=>{if(!hO(o))throw Io.create("not-registered");let s=o.authToken;if(!e&&u$(s))return o;if(s.requestStatus===1)return t=c$(n,e),o;{if(!navigator.onLine)throw Io.create("app-offline");let a=f$(o);return t=l$(n,a),a}});return t?yield t:r.authToken})}function c$(n,e){return P(this,null,function*(){let t=yield ZI(n.appConfig);for(;t.authToken.requestStatus===1;)yield cO(100),t=yield ZI(n.appConfig);let r=t.authToken;return r.requestStatus===0?$_(n,e):r})}function ZI(n){return vp(n,e=>{if(!hO(e))throw Io.create("not-registered");let t=e.authToken;return p$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function l$(n,e){return P(this,null,function*(){try{let t=yield s$(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield gp(n.appConfig,r),t}catch(t){if(nO(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield fO(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gp(n.appConfig,r)}throw t}})}function hO(n){return n!==void 0&&n.registrationStatus===2}function u$(n){return n.requestStatus===2&&!d$(n)}function d$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+V3}function f$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function p$(n){return n.requestStatus===1&&n.requestTime+XI<Date.now()}function h$(n){return P(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield B_(e);return r?r.catch(console.error):$_(e).catch(console.error),t.fid})}function g$(n,e=!1){return P(this,null,function*(){let t=n;return yield m$(t),(yield $_(t,e)).token})}function m$(n){return P(this,null,function*(){let{registrationPromise:e}=yield B_(n);e&&(yield e)})}function v$(n){if(!n||!n.options)throw L_("App Configuration");if(!n.name)throw L_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw L_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function L_(n){return Io.create("missing-app-config-values",{valueName:n})}function b$(){Zr(new sn(gO,_$,"PUBLIC")),Zr(new sn(y$,C$,"PRIVATE"))}var JI,j_,XI,eO,tO,L3,V3,j3,U3,B3,Io,G3,V_,lO,xo,X3,e$,Oo,F_,gO,y$,_$,C$,mO=h(()=>{"use strict";zc();lp();Xs();pp();JI="@firebase/installations",j_="0.6.12";XI=1e4,eO=`w:${j_}`,tO="FIS_v2",L3="https://firebaseinstallations.googleapis.com/v1",V3=60*60*1e3,j3="installations",U3="Installations";B3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Io=new Yr(j3,U3,B3);G3=/^[cdef][\w-]{21}$/,V_="";lO=new Map;xo=null;X3="firebase-installations-database",e$=1,Oo="firebase-installations-store",F_=null;gO="installations",y$="installations-internal",_$=n=>{let e=n.getProvider("app").getImmediate(),t=v$(e),r=$c(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},C$=n=>{let e=n.getProvider("app").getImmediate(),t=$c(e,gO).getImmediate();return{getId:()=>h$(t),getToken:i=>g$(t,i)}};b$();Zn(JI,j_);Zn(JI,j_,"esm2017")});function Jr(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function I$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function T$(n){return P(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(z_))return null;let e=null;return(yield So(z_,O$,{upgrade:(r,i,o,s)=>P(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(yO))return;let c=s.objectStore(yO),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Jr(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jr(u.auth),p256dh:Jr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jr(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jr(u.auth),p256dh:Jr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jr(u.vapidKey)}}}}})})).close(),yield fp(z_),yield fp("fcm_vapid_details_db"),yield fp("undefined"),P$(e)?e:null})}function P$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function DO(){return H_||(H_=So(A$,k$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hc)}}})),H_}function N$(n){return P(this,null,function*(){let e=SO(n),r=yield(yield DO()).transaction(Hc).objectStore(Hc).get(e);if(r)return r;{let i=yield T$(n.appConfig.senderId);if(i)return yield G_(n,i),i}})}function G_(n,e){return P(this,null,function*(){let t=SO(n),i=(yield DO()).transaction(Hc,"readwrite");return yield i.objectStore(Hc).put(e,t),yield i.done,e})}function SO({appConfig:n}){return n.appId}function F$(n,e){return P(this,null,function*(){let t=yield Y_(n),r=xO(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(K_(n.appConfig),i)).json()}catch(s){throw Pt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Pt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Pt.create("token-subscribe-no-token");return o.token})}function L$(n,e){return P(this,null,function*(){let t=yield Y_(n),r=xO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${K_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Pt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Pt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Pt.create("token-update-no-token");return o.token})}function V$(n,e){return P(this,null,function*(){let r={method:"DELETE",headers:yield Y_(n)};try{let o=yield(yield fetch(`${K_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw Pt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Pt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function K_({projectId:n}){return`${M$}/projects/${n}/registrations`}function Y_(t){return P(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function xO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==EO&&(i.web.applicationPubKey=r),i}function U$(n){return P(this,null,function*(){let e=yield $$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Jr(e.getKey("auth")),p256dh:Jr(e.getKey("p256dh"))},r=yield N$(n.firebaseDependencies);if(r){if(z$(r.subscriptionOptions,t))return Date.now()>=r.createTime+j$?B$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield V$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _O(n.firebaseDependencies,t)}else return _O(n.firebaseDependencies,t)})}function B$(n,e){return P(this,null,function*(){try{let t=yield L$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield G_(n.firebaseDependencies,r),t}catch(t){throw t}})}function _O(n,e){return P(this,null,function*(){let r={token:yield F$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield G_(n,r),r.token})}function $$(n,e){return P(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:I$(e)})})}function z$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function CO(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return H$(e,n),q$(e,n),W$(e,n),e}function H$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function q$(n,e){e.data&&(n.data=e.data)}function W$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function G$(n){return typeof n=="object"&&!!n&&MO in n}function K$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Y$(n){if(!n||!n.options)throw q_("App Configuration Object");if(!n.name)throw q_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw q_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function q_(n){return Pt.create("missing-app-config-values",{valueName:n})}function Q$(n){return P(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(w$,{scope:E$}),n.swRegistration.update().catch(()=>{}),yield Z$(n.swRegistration)}catch(e){throw Pt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function Z$(n){return P(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${vO} ms`)),vO),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function J$(n,e){return P(this,null,function*(){if(!e&&!n.swRegistration&&(yield Q$(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");n.swRegistration=e}})}function X$(n,e){return P(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=EO)})}function IO(n,e){return P(this,null,function*(){if(!navigator)throw Pt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Pt.create("permission-blocked");return yield X$(n,e?.vapidKey),yield J$(n,e?.serviceWorkerRegistration),U$(n)})}function e5(n,e,t){return P(this,null,function*(){let r=t5(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[MO],message_name:t[D$],message_time:t[S$],message_device_time:Math.floor(Date.now()/1e3)})})}function t5(n){switch(n){case yp.NOTIFICATION_CLICKED:return"notification_open";case yp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function n5(n,e){return P(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===yp.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(CO(t)):n.onMessageHandler.next(CO(t)));let r=t.data;G$(r)&&r[x$]==="1"&&(yield e5(n,t.messageType,r))})}function o5(){Zr(new sn("messaging",r5,"PUBLIC")),Zr(new sn("messaging-internal",i5,"PRIVATE")),Zn(bO,wO),Zn(bO,wO,"esm2017")}function s5(){return P(this,null,function*(){try{yield op()}catch{return!1}return typeof window<"u"&&ip()&&NI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function a5(n,e){if(!navigator)throw Pt.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function OO(n=R_()){return s5().then(e=>{if(!e)throw Pt.create("unsupported-browser")},e=>{throw Pt.create("indexed-db-unsupported")}),$c(ap(n),"messaging").getImmediate()}function TO(n,e){return P(this,null,function*(){return n=ap(n),IO(n,e)})}function PO(n,e){return n=ap(n),a5(n,e)}var w$,E$,EO,M$,MO,D$,S$,x$,vO,yp,z_,O$,yO,A$,k$,Hc,H_,R$,Pt,j$,W_,bO,wO,r5,i5,AO=h(()=>{"use strict";mO();lp();pp();Xs();zc();w$="/firebase-messaging-sw.js",E$="/firebase-cloud-messaging-push-scope",EO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",M$="https://fcmregistrations.googleapis.com/v1",MO="google.c.a.c_id",D$="google.c.a.c_l",S$="google.c.a.ts",x$="google.c.a.e",vO=1e4;yp=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(yp||{});z_="fcm_token_details_db",O$=5,yO="fcm_token_object_Store";A$="firebase-messaging-database",k$=1,Hc="firebase-messaging-store",H_=null;R$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Pt=new Yr("messaging","Messaging",R$);j$=7*24*60*60*1e3;K$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");W_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=Y$(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};bO="@firebase/messaging",wO="0.12.16";r5=n=>{let e=new W_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>n5(e,t)),e},i5=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>IO(e,r)}};o5()});var kO=h(()=>{"use strict";AO()});function c5(n){return Gi(()=>Xe(new Error(n)))}function l5(n,e,t,r){return()=>{if(!(xd(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(_e),o=n.get(Cn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=V(null);break;case"registerWithDelay":s=RO(+c[0]||0);break;case"registerWhenStable":let l=G(n.get(Cn).whenStable());s=c[0]?$l(l,RO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function RO(n){return V(null).pipe(dn(n))}function u5(n,e){return new ea(xd(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function d5(n,e={}){return hs([_p,Cp,{provide:NO,useValue:n},{provide:qc,useValue:e},{provide:ea,useFactory:u5,deps:[qc,Jt]},{provide:Cs,useFactory:l5,deps:[et,NO,qc,Jt],multi:!0}])}var Wc,ea,_p,Cp,NO,qc,FO,Q_=h(()=>{"use strict";N();N();De();we();ii();Wc="Service workers are disabled or not supported by this browser";ea=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=c5(Wc);else{let r=Yo(e,"controllerchange").pipe(j(()=>e.controller)),i=Gi(()=>V(e.controller)),o=nr(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(Re(()=>e.getRegistration()));let l=Yo(e,"message").pipe(j(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(Kh());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(be(1),ne(r=>{r.postMessage(M({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),be(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},_p=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ge,!t.isEnabled){this.messages=Ki,this.notificationClicks=Ki,this.subscription=Ki;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(Re(i=>i.getSubscription()));this.subscription=$l(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Wc));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Re(s=>s.subscribe(r)),be(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wc));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),Re(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(F(ea))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Cp=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Ki,this.unrecoverable=Ki;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(F(ea))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();NO=new L("");qc=class{};FO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[d5(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[_p,Cp]})}}return n})()});var Fi,bp=h(()=>{"use strict";we();cc();N();Q_();La();ta();Fi=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return P(this,null,function*(){try{let e=yield Wi(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return P(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield Wi(this.http.post(`${ht.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return P(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",e);try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Payload before sending to server:",JSON.stringify({title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},null,2)),console.log("\u{1F4E1} Sending notification to server");let r=yield Wi(this.http.post(`${ht.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return P(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return P(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield Wi(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return P(this,null,function*(){try{let e=yield Wi(this.http.get(`${ht.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}startKeepAliveNotifications(){setInterval(()=>P(this,null,function*(){console.log("\u{1F504} Sending keep-alive notification...");try{yield this.sendNotification({title:"\u{1F504} Keep Alive",body:"Ensuring the app stays awake...",wakeUpApp:!0,silent:!0,vibrate:[],autoDismiss:!0,type:"keep-alive"}),console.log("\u2705 Keep-alive notification sent.")}catch(e){console.error("\u274C Failed to send keep-alive notification",e)}}),3e4)}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(F(_p),F(ho),F(Cp),F(Tn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var h5,Tn,ta=h(()=>{"use strict";N();YI();kO();we();bp();Ot();N();h5={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},Tn=class n{messaging;fcmToken={};tokenSubject=new fe(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=C(et);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=N_(h5);this.messaging=OO(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(Fi)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return P(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return P(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return P(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield TO(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){PO(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return P(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var wp,VO=h(()=>{"use strict";N();wp=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Ep,jO=h(()=>{"use strict";N();ta();Ep=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return P(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>P(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(F(Tn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function m5(n,e){n&1&&(Ct(0),p(1,"a",15),_(2,"Login"),f(),p(3,"a",16),_(4,"Sign Up"),f(),bt())}function v5(n,e){if(n&1&&(Ct(0),A(1,"img",19),bt()),n&2){let t=w(2);m(),y("src",t.loggedInUser==null?null:t.loggedInUser.img,Ie)}}function y5(n,e){if(n&1&&_(0),n&2){let t=w(2);Oe(" ",t.getUserInitial()," ")}}function _5(n,e){if(n&1){let t=z();p(0,"div",17),S("click",function(){O(t);let i=w();return T(i.toggleUpload=!i.toggleUpload)}),k(1,v5,2,1,"ng-container",13)(2,y5,1,1,"ng-template",null,1,$n),f(),p(4,"button",18),S("click",function(){O(t);let i=w();return T(i.onLogout())}),_(5,"Logout"),f()}if(n&2){let t=at(3),r=w();m(),y("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function C5(n,e){if(n&1){let t=z();p(0,"div")(1,"image-upload",20),S("imageUploaded",function(i){O(t);let o=w();return T(o.onImageUploaded(i))}),f()()}}var g5,Mp,UO=h(()=>{"use strict";N();Ot();ct();Ti();De();g_();g5=()=>({exact:!0});Mp=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=B(M({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Pe),D(Tt))};static \u0275cmp=Z({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(p(0,"header")(1,"div",2),A(2,"img",3),f(),p(3,"div",4)(4,"nav")(5,"a",5),A(6,"img",6),f(),p(7,"a",7),A(8,"img",8),f(),p(9,"a",9),A(10,"img",10),f()()(),p(11,"div",11)(12,"div",12),k(13,m5,5,0,"ng-container",13)(14,_5,6,2,"ng-template",null,0,$n),f()(),k(16,C5,2,0,"div",14),f()),t&2){let i=at(15);m(5),y("routerLinkActiveOptions",ad(4,g5)),m(8),y("ngIf",!r.loggedInUser)("ngIfElse",i),m(3),y("ngIf",r.toggleUpload)}},dependencies:[me,En,mS,Js],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function w5(n,e){n&1&&(p(0,"div",1),A(1,"div",2),f())}var Dp,BO=h(()=>{"use strict";N();Zs();De();Dp=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(On))};static \u0275cmp=Z({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(k(0,w5,2,0,"div",0),wt(1,"async")),t&2&&y("ngIf",Et(1,1,r.isLoading))},dependencies:[me,Gt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function M5(n,e){if(n&1){let t=z();p(0,"section")(1,"h4"),_(2),f(),p(3,"button",1),S("click",function(){O(t);let i=w();return T(i.onCloseMsg())}),_(4,"X"),f()()}if(n&2){let t=e.ngIf;DM("msg ",t.type,""),y("@toggleMsg",void 0),m(2),It(t.txt)}}var Sp,$O=h(()=>{"use strict";we();wf();N();Ti();De();Sp=class n{constructor(e){this.msgService=e}msg$=V(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(Tt))};static \u0275cmp=Z({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(k(0,M5,5,5,"section",0),wt(1,"async")),t&2&&y("ngIf",Et(1,1,r.msg$))},dependencies:[me,Gt],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[Cf("toggleMsg",[Ic(":enter",[Yn({transform:"translateY(-100%)"}),xc("0.3s ease-in-out",Yn({transform:"translateY(0%)"}))]),Ic(":leave",[Yn({transform:"translateY(0%)"}),xc("0.3s ease-in-out",Yn({transform:"translateY(-100%)"}))])])]}})}});function S5(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.installPWA())}),_(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}function x5(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.disableBatteryOptimization())}),_(1," \u2622\uFE0F"),f()}}var xp,zO=h(()=>{"use strict";N();we();Hr();ta();VO();bp();jO();Ot();Us();N();De();ct();UO();BO();$O();xp=class n{title="MyAccounts";contactService=C(Mt);firebaseService=C(Tn);pwaService=C(wp);notificationMobileService=C(Ep);notificationService=C(Fi);userService=C(Ce);socketService=C(Mn);subscription;idleTimer;idleTime=0;idleMaxTime=600;showBatteryOptimizationButton=!0;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){localStorage.getItem("batteryOptimizationDisabled")==="true"&&(this.showBatteryOptimizationButton=!1),this.notificationService.startKeepAliveNotifications(),this.keepScreenAwake(),this.subscription=this.contactService.loadContacts().pipe(be(1)).subscribe({error:t=>console.log("err:",t)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>P(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let t=yield this.firebaseService.getFCMToken();t?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",t.data.token),this.userService.restoreLoginToken(t.data.token)),t.data&&t.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let t=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-t<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(t=>{t&&console.log("\u{1F511} FCM Token received (on init):",t)}),this.firebaseService.getTokenObservable().subscribe(t=>{t&&console.log("\u{1F511} FCM Token received:",t)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}keepScreenAwake(){return P(this,null,function*(){if("wakeLock"in navigator)try{let e=yield navigator.wakeLock.request("screen");console.log("\u2705 Wake Lock enabled"),e.addEventListener("release",()=>{console.log("\u26A0\uFE0F Wake Lock was released")})}catch(e){console.error("\u274C Wake Lock failed:",e)}else console.warn("\u26A0\uFE0F Wake Lock API not supported")})}disableBatteryOptimization(){"requestWakeLock"in navigator?navigator.requestWakeLock("screen").then(()=>{console.log("\u2705 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 \u05D1\u05D5\u05D8\u05DC"),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1}).catch(e=>{console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D4\u05E8\u05E9\u05D0\u05EA Wake Lock:",e)}):(alert(`\u05DC\u05D1\u05D9\u05E6\u05D5\u05E2\u05D9\u05DD \u05D2\u05D1\u05D5\u05D4\u05D9\u05DD :
\u05DC\u05D7\u05E5 \u05DC\u05D7\u05D9\u05E6\u05D4 \u05D0\u05E8\u05D5\u05DB\u05D4 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E9\u05DC \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E2\u05DD \u05D4\u05E1\u05D9\u05DE\u05DF : (!) ,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 / \u05E1\u05D5\u05DC\u05DC\u05D4,
\u05D1\u05D7\u05E8 \u05D1\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05DC\u05DC\u05D0 \u05D4\u05D2\u05D1\u05DC\u05D4.`),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:9,vars:2,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(p(0,"main",0),A(1,"app-header"),p(2,"div",1),k(3,S5,2,0,"button",2)(4,x5,2,0,"button",2),f(),A(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),A(8,"msg")),t&2&&(m(3),y("ngIf",r.showInstallButton),m(),y("ngIf",r.showBatteryOptimizationButton))},dependencies:[me,Wn,Mp,Dp,Sp],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:.5em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function HO(n){return new x(3e3,!1)}function I5(){return new x(3100,!1)}function O5(){return new x(3101,!1)}function T5(n){return new x(3001,!1)}function P5(n){return new x(3003,!1)}function A5(n){return new x(3004,!1)}function k5(n,e){return new x(3005,!1)}function N5(){return new x(3006,!1)}function R5(){return new x(3007,!1)}function F5(n,e){return new x(3008,!1)}function L5(n){return new x(3002,!1)}function V5(n,e,t,r,i){return new x(3010,!1)}function j5(){return new x(3011,!1)}function U5(){return new x(3012,!1)}function B5(){return new x(3200,!1)}function $5(){return new x(3202,!1)}function z5(){return new x(3013,!1)}function H5(n){return new x(3014,!1)}function q5(n){return new x(3015,!1)}function W5(n){return new x(3016,!1)}function G5(n,e){return new x(3404,!1)}function K5(n){return new x(3502,!1)}function Y5(n){return new x(3503,!1)}function Q5(){return new x(3300,!1)}function Z5(n){return new x(3504,!1)}function J5(n){return new x(3301,!1)}function X5(n,e){return new x(3302,!1)}function e4(n){return new x(3303,!1)}function t4(n,e){return new x(3400,!1)}function n4(n){return new x(3401,!1)}function r4(n){return new x(3402,!1)}function i4(n,e){return new x(3505,!1)}function Li(n){switch(n.length){case 0:return new Oi;case 1:return n[0];default:return new Sc(n)}}function iT(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((v,g)=>{let b=g,E=v;if(g!=="offset")switch(b=n.normalizePropertyName(b,i),E){case bf:E=t.get(g);break;case mr:E=r.get(g);break;default:E=n.normalizeStyleValue(g,b,E,i);break}d.set(b,E)}),u||o.push(d),a=d,s=l}),i.length)throw K5(i);return o}function _0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Z_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Z_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Z_(t,"destroy",n)));break}}function Z_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=C0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function C0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function cn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function qO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function b0(n){let e=n.parentNode||n.host||null;return e===o4?null:e}function s4(n){return n.substring(1,6)=="ebkit"}function a4(n){To||(To=c4()||{},WO=To.style?"WebkitAppearance"in To.style:!1);let e=!0;return To.style&&!s4(n)&&(e=n in To.style,!e&&WO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in To.style)),e}function c4(){return typeof document<"u"?document.body:null}function oT(n,e){for(;e;){if(e===n)return!0;e=b0(e)}return!1}function sT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Xr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:o0(parseFloat(e[1]),e[2])}function o0(n,e){switch(e){case"s":return n*l4;default:return n}}function Np(n,e,t){return n.hasOwnProperty("duration")?n:d4(n,e,t)}function d4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(HO(n)),{duration:0,delay:0,easing:""};i=o0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=o0(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(I5()),a=!0),o<0&&(e.push(O5()),a=!0),a&&e.splice(c,0,HO(n))}return{duration:i,delay:o,easing:s}}function f4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function yr(n,e,t){e.forEach((r,i)=>{let o=E0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Ao(n,e){e.forEach((t,r)=>{let i=E0(r);n.style[i]=""})}function Gc(n){return Array.isArray(n)?n.length==1?n[0]:hx(n):n}function p4(n,e,t){let r=e.params||{},i=lT(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(T5(o))})}function lT(n){let e=[];if(typeof n=="string"){let t;for(;t=s0.exec(n);)e.push(t[1]);s0.lastIndex=0}return e}function Yc(n,e,t){let r=`${n}`,i=r.replace(s0,(o,s)=>{let a=e[s];return a==null&&(t.push(P5(s)),a=""),a.toString()});return i==r?n:i}function E0(n){return n.replace(h4,(...e)=>e[1].toUpperCase())}function g4(n,e){return n===0||e===0}function m4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,M0(n,a)))}}return e}function an(n,e,t){switch(e.type){case re.Trigger:return n.visitTrigger(e,t);case re.State:return n.visitState(e,t);case re.Transition:return n.visitTransition(e,t);case re.Sequence:return n.visitSequence(e,t);case re.Group:return n.visitGroup(e,t);case re.Animate:return n.visitAnimate(e,t);case re.Keyframes:return n.visitKeyframes(e,t);case re.Style:return n.visitStyle(e,t);case re.Reference:return n.visitReference(e,t);case re.AnimateChild:return n.visitAnimateChild(e,t);case re.AnimateRef:return n.visitAnimateRef(e,t);case re.Query:return n.visitQuery(e,t);case re.Stagger:return n.visitStagger(e,t);default:throw A5(e.type)}}function M0(n,e){return window.getComputedStyle(n)[e]}function y4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>_4(r,t,e)):t.push(n),t}function _4(n,e,t){if(n[0]==":"){let c=C4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(q5(n)),e;let i=r[1],o=r[2],s=r[3];e.push(KO(i,s));let a=i==Fp&&s==Fp;o[0]=="<"&&!a&&e.push(KO(s,i))}function C4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(W5(n)),"* => *"}}function KO(n,e){let t=Op.has(n)||Tp.has(n),r=Op.has(e)||Tp.has(e);return(i,o)=>{let s=n==Fp||n==i,a=e==Fp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Op.has(n):Tp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Op.has(e):Tp.has(e)),s&&a}}function dT(n,e,t,r){return new a0(n).build(e,t,r)}function w4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==uT);return e&&(n=n.replace(b4,"")),n=n.replace(/@\*/g,kp).replace(/@\w+/g,t=>kp+"-"+t.slice(1)).replace(/:animating/g,i0),[n,e]}function E4(n){return n?M({},n):null}function M4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function D4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Np(n,e).duration;return J_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=J_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Np(t,e);return J_(i.duration,i.delay,i.easing)}function Po(n){return n?(n=M({},n),n.params&&(n.params=E4(n.params))):n={},n}function J_(n,e,t){return{duration:n,delay:e,easing:t}}function D0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function fT(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new l0().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function QO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function P4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,mr)}else for(let[o,s]of i)t.set(o,s)}),t}function ZO(n,e,t,r,i,o,s,a,c,l,u,d,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:v}}function A4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function pT(n,e){let t=M({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function k4(n,e,t){return new p0(n,e,t)}function N4(n,e,t){let r=[(s,a)=>!0],i={type:re.Sequence,steps:[],options:null},o={type:re.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new jp(n,o,e)}function JO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function $4(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function z4(n){return n??null}function Pp(n){return n&&n.nodeType===1}function H4(n){return n=="start"||n=="done"}function eT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function tT(n,e,t,r,i){let o=[];t.forEach(c=>o.push(eT(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let v=e.computeStyle(l,d,i);u.set(d,v),(!v||v.length==0)&&(l[Jn]=B4,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>eT(c,o[a++])),s}function nT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Pn(n,e){n.classList?.add(e)}function na(n,e){n.classList?.remove(e)}function q4(n,e,t){Li(t).onDone(()=>n.processLeaveNode(e))}function W4(n){let e=[];return gT(n,e),e}function gT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Sc?gT(r.players,e):e.push(r)}}function G4(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function rT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function K4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=n0(e[0]),e.length>1&&(r=n0(e[e.length-1]))):e instanceof Map&&(t=n0(e)),t||r?new v0(n,t,r):null}function n0(n){let e=null;return n.forEach((t,r)=>{Y4(r)&&(e=e||new Map,e.set(r,t))}),e}function Y4(n){return n==="display"||n==="position"}function Q4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Z4(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var o4,To,WO,w0,ko,No,l4,aT,u4,cT,r0,Ip,kp,GO,i0,s0,h4,v4,Rp,Fp,Op,Tp,uT,b4,YO,a0,c0,Qc,S4,x4,I4,O4,T4,l0,Lp,u0,Vp,d0,X_,jp,f0,p0,R4,h0,XO,F4,e0,L4,V4,j4,U4,hT,B4,Jn,Zc,Kc,t0,g0,m0,Jc,ra,v0,Up,Bp,Ap,mT,$p,y0,zp,S0=h(()=>{"use strict";wf();N();N();o4=typeof document>"u"?null:document.documentElement;To=null,WO=!1;w0=(()=>{class n{validateStyleProperty(t){return a4(t)}containsElement(t,r){return oT(t,r)}getParentElement(t){return b0(t)}query(t,r,i){return sT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Oi(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ko=class{static{this.NOOP=new w0}},No=class{},l4=1e3,aT="{{",u4="}}",cT="ng-enter",r0="ng-leave",Ip="ng-trigger",kp=".ng-trigger",GO="ng-animating",i0=".ng-animating";s0=new RegExp(`${aT}\\s*(.+?)\\s*${u4}`,"g");h4=/-+([a-z0-9])/g;v4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Rp=class extends No{normalizePropertyName(e,t){return E0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(v4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(k5(e,r))}return s+o}},Fp="*";Op=new Set(["true","1"]),Tp=new Set(["false","0"]);uT=":self",b4=new RegExp(`s*${uT}s*,?`,"g");YO="",a0=class{constructor(e){this._driver=e}build(e,t,r){let i=new c0(t);return this._resetContextStyleTimingState(i),an(this,Gc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=YO,e.collectedStyles=new Map,e.collectedStyles.set(YO,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(N5()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==re.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==re.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(R5())}),{type:re.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{lT(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(F5(e.name,[...o.values()]))}return{type:re.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=an(this,Gc(e.animation),t),i=y4(e.expr,t.errors);return{type:re.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Po(e.options)}}visitSequence(e,t){return{type:re.Sequence,steps:e.steps.map(r=>an(this,r,t)),options:Po(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=an(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:re.Group,steps:o,options:Po(e.options)}}visitAnimate(e,t){let r=D4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Yn({});if(o.type==re.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Yn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:re.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===mr?r.push(a):t.errors.push(L5(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(aT)>=0){o=!0;break}}}),{type:re.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(V5(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&p4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:re.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(j5()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map($=>{let se=this._makeStyleAst($,t),Y=se.offset!=null?se.offset:M4(se.styles),pe=0;return Y!=null&&(o++,pe=se.offset=Y),c=c||pe<0||pe>1,a=a||pe<l,l=pe,s.push(pe),se});c&&t.errors.push(U5()),a&&t.errors.push(B5());let d=e.steps.length,v=0;o>0&&o<d?t.errors.push($5()):o==0&&(v=i/(d-1));let g=d-1,b=t.currentTime,E=t.currentAnimateTimings,R=E.duration;return u.forEach(($,se)=>{let Y=v>0?se==g?1:v*se:s[se],pe=Y*R;t.currentTime=b+E.delay+pe,E.duration=pe,this._validateStyleAst($,t),$.offset=Y,r.styles.push($)}),r}visitReference(e,t){return{type:re.Reference,animation:an(this,Gc(e.animation),t),options:Po(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:re.AnimateChild,options:Po(e.options)}}visitAnimateRef(e,t){return{type:re.AnimateRef,animation:this.visitReference(e.animation,t),options:Po(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=w4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,cn(t.collectedStyles,t.currentQuerySelector,new Map);let a=an(this,Gc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:re.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Po(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(z5());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Np(e.timings,t.errors,!0);return{type:re.Stagger,animation:an(this,Gc(e.animation),t),timings:r,options:null}}};c0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};Qc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},S4=1,x4=":enter",I4=new RegExp(x4,"g"),O4=":leave",T4=new RegExp(O4,"g");l0=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Qc;let d=new u0(e,t,l,i,o,u,[]);d.options=c;let v=c.delay?Xr(c.delay):0;d.currentTimeline.delayNextStep(v),d.currentTimeline.setStyles([s],null,d.errors,c),an(this,r,d);let g=d.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let E=g.length-1;E>=0;E--){let R=g[E];if(R.element===t){b=R;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,d.errors,c)}return g.length?g.map(b=>b.buildKeyframes()):[D0(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Xr(Yc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Xr(r.duration):null,a=r.delay!=null?Xr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),an(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==re.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Lp);let s=Xr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>an(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Xr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),an(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Yc(r,t.params,t.errors):r;return Np(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==re.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Xr(i.delay):0;o&&(t.previousNode.type===re.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Lp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),an(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let v=d.currentTimeline.currentTime;s=Math.max(s,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;an(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Lp={},u0=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Vp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Xr(r.duration)),r.delay!=null&&(i.delay=Xr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Yc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Lp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new d0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(I4,"."+this._enterClassName),e=e.replace(T4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(H5(t)),a}},Vp=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=S4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||mr),this._currentKeyframe.set(t,mr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=P4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Yc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??mr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===bf?e.add(d):u===mr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return D0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},d0=class extends Vp{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",QO(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let v=new Map(e[d]),g=v.get("offset"),b=t+g*r;v.set("offset",QO(b/s)),o.push(v)}r=s,t=0,i="",e=o}return D0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};X_={},jp=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return A4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],v=this.ast.options&&this.ast.options.params||X_,g=a&&a.params||X_,b=this.buildStyles(r,g,d),E=c&&c.params||X_,R=this.buildStyles(i,E,d),$=new Set,se=new Map,Y=new Map,pe=i==="void",We={params:pT(E,v),delay:this.ast.options?.delay},Se=u?[]:fT(e,t,this.ast.animation,o,s,b,R,We,l,d),Ve=0;return Se.forEach(lt=>{Ve=Math.max(lt.duration+lt.delay,Ve)}),d.length?ZO(t,this._triggerName,r,i,pe,b,R,[],[],se,Y,Ve,d):(Se.forEach(lt=>{let _r=lt.element,Ro=cn(se,_r,new Set);lt.preStyleProps.forEach(Vi=>Ro.add(Vi));let I0=cn(Y,_r,new Set);lt.postStyleProps.forEach(Vi=>I0.add(Vi)),_r!==t&&$.add(_r)}),ZO(t,this._triggerName,r,i,pe,b,R,Se,[...$.values()],se,Y,Ve))}};f0=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=pT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Yc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};p0=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new f0(i.style,o,r))}),JO(this.states,"true","1"),JO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new jp(e,i,this.states))}),this.fallbackTransition=N4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};R4=new Qc,h0=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=dT(this._driver,t,r,i);if(r.length)throw Y5(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=iT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=fT(this._driver,t,o,cT,r0,new Map,new Map,r,R4,i),s.forEach(u=>{let d=cn(a,u.element,new Map);u.postStyleProps.forEach(v=>d.set(v,null))})):(i.push(Q5()),s=[]),i.length)throw Z5(i);a.forEach((u,d)=>{u.forEach((v,g)=>{u.set(g,this._driver.computeStyle(d,g,mr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Li(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw J5(e);return t}listen(e,t,r,i){let o=C0(t,"","","");return _0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},XO="ng-animate-queued",F4=".ng-animate-queued",e0="ng-animate-disabled",L4=".ng-animate-disabled",V4="ng-star-inserted",j4=".ng-star-inserted",U4=[],hT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},B4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jn="__ng_removed",Zc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=z4(i),r){let o=e,{value:s}=o,a=Zp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Kc="void",t0=new Zc(Kc),g0=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw X5(r,t);if(r==null||r.length==0)throw e4(t);if(!H4(r))throw t4(r,t);let o=cn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=cn(this._engine.statesByElement,e,new Map);return a.has(t)||(Pn(e,Ip),Pn(e,Ip+"-"+t),a.set(t,t0)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw n4(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Jc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Pn(e,Ip),Pn(e,Ip+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Zc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=t0),!(l.value===Kc)&&c.value===l.value){if(!G4(c.params,l.params)){let E=[],R=o.matchStyles(c.value,c.params,E),$=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Ao(e,R),yr(e,$)})}return}let v=cn(this._engine.playersByElement,e,[]);v.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),b=!1;if(!g){if(!i)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(Pn(e,XO),s.onStart(()=>{na(e,XO)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let R=this._engine.playersByElement.get(e);if(R){let $=R.indexOf(s);$>=0&&R.splice($,1)}}),this.players.push(s),v.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,kp,!0);r.forEach(i=>{if(i[Jn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Kc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Li(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||t0,u=new Zc(Kc),d=new Jc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Jn];(!o||o===hT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Pn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=C0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,_0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},m0=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new g0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Pp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Pp(t))return;let o=t[Jn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pn(e,e0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),na(e,e0))}removeNode(e,t,r){if(Pp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Jn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Pp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,kp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,i0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Li(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Jn];if(t&&t.setForRemoval){if(e[Jn]=hT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(e0)&&this.markElementAsDisabled(e,!1),this.driver.query(e,L4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Pn(i,V4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Li(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw r4(e)}_flushAnimations(e,t){let r=new Qc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let W=this.driver.query(U,F4,!0);for(let K=0;K<W.length;K++)u.add(W[K])});let d=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=nT(v,this.collectedEnterElements),b=new Map,E=0;g.forEach((U,W)=>{let K=cT+E++;b.set(W,K),U.forEach(ve=>Pn(ve,K))});let R=[],$=new Set,se=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let W=this.collectedLeaveElements[U],K=W[Jn];K&&K.setForRemoval&&(R.push(W),$.add(W),K.hasAnimation?this.driver.query(W,j4,!0).forEach(ve=>$.add(ve)):se.add(W))}let Y=new Map,pe=nT(v,Array.from($));pe.forEach((U,W)=>{let K=r0+E++;Y.set(W,K),U.forEach(ve=>Pn(ve,K))}),e.push(()=>{g.forEach((U,W)=>{let K=b.get(W);U.forEach(ve=>na(ve,K))}),pe.forEach((U,W)=>{let K=Y.get(W);U.forEach(ve=>na(ve,K))}),R.forEach(U=>{this.processLeaveNode(U)})});let We=[],Se=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(K=>{let ve=K.player,ut=K.element;if(We.push(ve),this.collectedEnterElements.length){let Dt=ut[Jn];if(Dt&&Dt.setForMove){if(Dt.previousTriggersValues&&Dt.previousTriggersValues.has(K.triggerName)){let ji=Dt.previousTriggersValues.get(K.triggerName),ln=this.statesByElement.get(K.element);if(ln&&ln.has(K.triggerName)){let Xc=ln.get(K.triggerName);Xc.value=ji,ln.set(K.triggerName,Xc)}}ve.destroy();return}}let Xn=!d||!this.driver.containsElement(d,ut),Yt=Y.get(ut),ei=b.get(ut),ze=this._buildInstruction(K,r,ei,Yt,Xn);if(ze.errors&&ze.errors.length){Se.push(ze);return}if(Xn){ve.onStart(()=>Ao(ut,ze.fromStyles)),ve.onDestroy(()=>yr(ut,ze.toStyles)),i.push(ve);return}if(K.isFallbackTransition){ve.onStart(()=>Ao(ut,ze.fromStyles)),ve.onDestroy(()=>yr(ut,ze.toStyles)),i.push(ve);return}let P0=[];ze.timelines.forEach(Dt=>{Dt.stretchStartingKeyframe=!0,this.disabledNodes.has(Dt.element)||P0.push(Dt)}),ze.timelines=P0,r.append(ut,ze.timelines);let xT={instruction:ze,player:ve,element:ut};s.push(xT),ze.queriedElements.forEach(Dt=>cn(a,Dt,[]).push(ve)),ze.preStyleProps.forEach((Dt,ji)=>{if(Dt.size){let ln=c.get(ji);ln||c.set(ji,ln=new Set),Dt.forEach((Xc,Qp)=>ln.add(Qp))}}),ze.postStyleProps.forEach((Dt,ji)=>{let ln=l.get(ji);ln||l.set(ji,ln=new Set),Dt.forEach((Xc,Qp)=>ln.add(Qp))})});if(Se.length){let U=[];Se.forEach(W=>{U.push(i4(W.triggerName,W.errors))}),We.forEach(W=>W.destroy()),this.reportError(U)}let Ve=new Map,lt=new Map;s.forEach(U=>{let W=U.element;r.has(W)&&(lt.set(W,W),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Ve))}),i.forEach(U=>{let W=U.element;this._getPreviousPlayers(W,!1,U.namespaceId,U.triggerName,null).forEach(ve=>{cn(Ve,W,[]).push(ve),ve.destroy()})});let _r=R.filter(U=>rT(U,c,l)),Ro=new Map;tT(Ro,this.driver,se,l,mr).forEach(U=>{rT(U,c,l)&&_r.push(U)});let Vi=new Map;g.forEach((U,W)=>{tT(Vi,this.driver,new Set(U),c,bf)}),_r.forEach(U=>{let W=Ro.get(U),K=Vi.get(U);Ro.set(U,new Map([...W?.entries()??[],...K?.entries()??[]]))});let Yp=[],O0=[],T0={};s.forEach(U=>{let{element:W,player:K,instruction:ve}=U;if(r.has(W)){if(u.has(W)){K.onDestroy(()=>yr(W,ve.toStyles)),K.disabled=!0,K.overrideTotalTime(ve.totalTime),i.push(K);return}let ut=T0;if(lt.size>1){let Yt=W,ei=[];for(;Yt=Yt.parentNode;){let ze=lt.get(Yt);if(ze){ut=ze;break}ei.push(Yt)}ei.forEach(ze=>lt.set(ze,ut))}let Xn=this._buildAnimation(K.namespaceId,ve,Ve,o,Vi,Ro);if(K.setRealPlayer(Xn),ut===T0)Yp.push(K);else{let Yt=this.playersByElement.get(ut);Yt&&Yt.length&&(K.parentPlayer=Li(Yt)),i.push(K)}}else Ao(W,ve.fromStyles),K.onDestroy(()=>yr(W,ve.toStyles)),O0.push(K),u.has(W)&&i.push(K)}),O0.forEach(U=>{let W=o.get(U.element);if(W&&W.length){let K=Li(W);U.setRealPlayer(K)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<R.length;U++){let W=R[U],K=W[Jn];if(na(W,r0),K&&K.hasAnimation)continue;let ve=[];if(a.size){let Xn=a.get(W);Xn&&Xn.length&&ve.push(...Xn);let Yt=this.driver.query(W,i0,!0);for(let ei=0;ei<Yt.length;ei++){let ze=a.get(Yt[ei]);ze&&ze.length&&ve.push(...ze)}}let ut=ve.filter(Xn=>!Xn.destroyed);ut.length?q4(this,W,ut):this.processLeaveNode(W)}return R.length=0,Yp.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let W=this.players.indexOf(U);this.players.splice(W,1)}),U.play()}),Yp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Kc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=cn(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),d.push(g)})}Ao(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,v=t.timelines.map(b=>{let E=b.element;u.add(E);let R=E[Jn];if(R&&R.removedBeforeQueried)return new Oi(b.duration,b.delay);let $=E!==c,se=W4((r.get(E)||U4).map(Ve=>Ve.getRealPlayer())).filter(Ve=>{let lt=Ve;return lt.element?lt.element===E:!1}),Y=o.get(E),pe=s.get(E),We=iT(this._normalizer,b.keyframes,Y,pe),Se=this._buildPlayer(b,We,se);if(b.subTimeline&&i&&d.add(E),$){let Ve=new Jc(e,a,E);Ve.setRealPlayer(Se),l.push(Ve)}return Se});l.forEach(b=>{cn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>$4(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>Pn(b,GO));let g=Li(v);return g.onDestroy(()=>{u.forEach(b=>na(b,GO)),yr(c,t.toStyles)}),d.forEach(b=>{cn(i,b,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Oi(e.duration,e.delay)}},Jc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Oi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>_0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){cn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};ra=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new m0(e.body,t,r),this._timelineEngine=new h0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=dT(this._driver,o,c,l);if(c.length)throw G5(i,c);l.length&&void 0,a=k4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=qO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=qO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};v0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&yr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yr(this._element,this._initialStyles),this._endStyles&&(yr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ao(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ao(this._element,this._endStyles),this._endStyles=null),yr(this._element,this._initialStyles),this._state=3)}};Up=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:M0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Bp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return oT(e,t)}getParentElement(e){return b0(e)}query(e,t,r){return sT(e,t,r)}computeStyle(e,t,r){return M0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof Up);g4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((b,E)=>l.set(E,b))});let d=f4(t).map(g=>new Map(g));d=m4(e,d,l);let v=K4(e,d);return new Up(e,d,c,v)}},Ap="@",mT="@.disabled",$p=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Ap&&t==mT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},y0=class extends $p{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Ap?t.charAt(1)=="."&&t==mT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==Ap){let i=Q4(e),o=t.slice(1),s="";return o.charAt(0)!=Ap&&([o,s]=Z4(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};zp=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new $p(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new y0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function e8(){return new Rp}function t8(n,e,t){return new zp(n,e,t)}var X4,yT,vT,n8,_T,CT=h(()=>{"use strict";N();N();Ba();S0();S0();De();X4=(()=>{class n extends ra{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(F(ft),F(ko),F(No))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();yT=[{provide:No,useFactory:e8},{provide:ra,useClass:X4},{provide:pi,useFactory:t8,deps:[Nd,ra,_e]}],vT=[{provide:ko,useFactory:()=>new Bp},{provide:km,useValue:"BrowserAnimations"},...yT],n8=[{provide:ko,useClass:w0},{provide:km,useValue:"NoopAnimations"},...yT],_T=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?n8:vT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:vT,imports:[Fd]})}}return n})()});var Hp,bT=h(()=>{"use strict";N();Hp=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function c8(n,e){if(n&1){let t=z();p(0,"div",30)(1,"span",31),S("click",function(){let i=O(t).$implicit,o=w(3);return T(o.joinSavedGroup(i))}),_(2),f(),p(3,"button",31),S("click",function(){let i=O(t).$implicit,o=w(3);return T(o.removeGroup(i))}),_(4,"X"),f()()}if(n&2){let t=e.$implicit;m(2),Oe(" ",t," ")}}function l8(n,e){if(n&1&&(p(0,"div",28),k(1,c8,5,1,"div",29),f()),n&2){let t=w(2);Bn("open",t.isSavedGroupsOpen),m(),y("ngForOf",t.savedGroups)}}function u8(n,e){if(n&1){let t=z();p(0,"div",23)(1,"div",24),S("click",function(){O(t);let i=w();return T(i.toggleSavedGroups())}),p(2,"span",25),_(3,"\u05D7\u05D3\u05E8\u05D9\u05DD \u05E9\u05DE\u05D5\u05E8\u05D9\u05DD"),f(),p(4,"span",26),_(5,"\u25BC"),f()(),k(6,l8,2,3,"div",27),f()}if(n&2){let t=w();m(4),Bn("open",t.isSavedGroupsOpen),m(2),y("ngIf",t.savedGroups.length>0)}}function d8(n,e){if(n&1){let t=z();p(0,"div",32)(1,"input",33,3),Vt("ngModelChange",function(i){O(t);let o=w();return Wt(o.room,i)||(o.room=i),T(i)}),f(),p(3,"button",34),S("click",function(){O(t);let i=w();return i.joinRoom(),T(i.isRoomJoined=!0)}),A(4,"img",35),f()()}if(n&2){let t=w();m(),Lt("ngModel",t.room)}}function f8(n,e){if(n&1){let t=z();p(0,"div",42)(1,"img",43),S("error",function(){O(t);let i=w().$implicit,o=w();return T(o.handleImageError(i.imageUrl))}),f(),p(2,"button",44),S("click",function(){O(t);let i=w().$implicit,o=w();return T(o.openMediaModal(i.imageUrl,"image"))}),A(3,"img",45),f()()}if(n&2){let t=w().$implicit;m(),y("src",t.imageUrl,Ie)}}function p8(n,e){if(n&1){let t=z();p(0,"div",46)(1,"video",47),S("error",function(){O(t);let i=w().$implicit,o=w();return T(o.handleVideoError(i.videoUrl))}),_(2," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f(),p(3,"button",44),S("click",function(){O(t);let i=w().$implicit,o=w();return T(o.openMediaModal(i.videoUrl,"video"))}),A(4,"img",45),f()()}if(n&2){let t=w().$implicit;m(),y("src",t.videoUrl,Ie)}}function h8(n,e){if(n&1&&(p(0,"div"),_(1),f()),n&2){let t=w().$implicit;m(),It(t.text)}}function g8(n,e){if(n&1&&(p(0,"div",36)(1,"span",37),_(2),f(),p(3,"div",38),k(4,f8,4,1,"div",39)(5,p8,5,1,"div",40)(6,h8,2,1,"div",41),f()()),n&2){let t=e.$implicit;y("ngClass",_n(5,a8,t.senderName==="Me",t.senderName!=="Me")),m(2),It(t.senderName),m(2),y("ngIf",t.imageUrl),m(),y("ngIf",t.videoUrl),m(),y("ngIf",t.text)}}function m8(n,e){n&1&&(p(0,"span"),_(1,"\u2328\uFE0F"),f())}function v8(n,e){n&1&&(p(0,"span"),_(1,"\u2328\uFE0F"),f())}function y8(n,e){n&1&&(p(0,"span"),_(1,"\u{1F5BC}\uFE0F"),f())}function _8(n,e){n&1&&(p(0,"span"),_(1,"\u{1F3AC}"),f())}function C8(n,e){if(n&1&&(p(0,"div",48)(1,"div",49),k(2,m8,2,0,"span",41)(3,v8,2,0,"span",41)(4,y8,2,0,"span",41)(5,_8,2,0,"span",41),f()()),n&2){let t=w();m(2),y("ngIf",t.typingMessage==="Typing..."),m(),y("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),m(),y("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),m(),y("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function b8(n,e){if(n&1&&(p(0,"div",50),A(1,"div",51),p(2,"p"),_(3),f()()),n&2){let t=w();m(3),Oe("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function w8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w();return T(o.sendMessage(i))}),A(1,"img",53),f()}}function E8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w();return T(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function M8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function D8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function S8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w(2);return T(o.sendMessage(i))}),A(1,"img",53),f()}}function x8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w(2);return T(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function I8(n,e){if(n&1){let t=z();p(0,"div",54),S("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),p(1,"div",55),S("click",function(i){return O(t),T(i.stopPropagation())})("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),k(2,M8,1,1,"img",56)(3,D8,1,1,"video",57),p(4,"div",58)(5,"div",14)(6,"textarea",59,1),Vt("ngModelChange",function(i){O(t);let o=w();return Wt(o.newMessage,i)||(o.newMessage=i),T(i)}),S("keyup",function(){O(t);let i=w();return T(i.onTyping())})("blur",function(){O(t);let i=w();return T(i.onStopTyping())}),f()(),k(8,S8,2,0,"button",20)(9,x8,2,0,"button",20),f()()()}if(n&2){let t=w();m(2),y("ngIf",t.selectedMedia.type==="image"),m(),y("ngIf",t.selectedMedia.type==="video"),m(3),Lt("ngModel",t.newMessage),m(2),y("ngIf",t.chatType==="group"),m(),y("ngIf",t.chatType==="private")}}function O8(n,e){if(n&1&&A(0,"img",72),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Ie)}}function T8(n,e){if(n&1&&A(0,"video",73),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Ie)}}function P8(n,e){if(n&1){let t=z();p(0,"div",62)(1,"div",63)(2,"h3"),_(3,"\u05E2\u05E8\u05D9\u05DB\u05EA \u05D4\u05D5\u05D3\u05E2\u05EA \u05DE\u05D3\u05D9\u05D4"),f(),Ct(4,64),k(5,O8,1,1,"img",65)(6,T8,1,1,"video",66),bt(),p(7,"textarea",67),Vt("ngModelChange",function(i){O(t);let o=w();return Wt(o.pendingMediaMessage.text,i)||(o.pendingMediaMessage.text=i),T(i)}),S("keyup",function(){O(t);let i=w();return T(i.onTyping())})("blur",function(){O(t);let i=w();return T(i.onStopTyping())}),f(),p(8,"div",68)(9,"button",69),S("click",function(){O(t);let i=w();return T(i.sendPendingMediaMessage())}),A(10,"img",70),f(),p(11,"button",71),S("click",function(){O(t);let i=w();return T(i.cancelPendingMediaMessage())}),_(12,"\u2716\uFE0F"),f()()()()}if(n&2){let t=w();m(4),y("ngSwitch",t.pendingMediaMessage.mediaType),m(),y("ngSwitchCase","image"),m(),y("ngSwitchCase","video"),m(),Lt("ngModel",t.pendingMediaMessage.text)}}function A8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function k8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function N8(n,e){if(n&1){let t=z();p(0,"div",54),S("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),p(1,"div",55),S("click",function(i){return O(t),T(i.stopPropagation())})("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),k(2,A8,1,1,"img",56)(3,k8,1,1,"video",57),f()()}if(n&2){let t=w();m(2),y("ngIf",t.selectedMedia.type==="image"),m(),y("ngIf",t.selectedMedia.type==="video")}}var i8,o8,s8,a8,ia,x0=h(()=>{"use strict";N();we();cc();ta();fc();N();Us();Ot();Wy();bT();bp();La();De();In();qr();i8=["roomInput"],o8=["chatInput"],s8=["messagesContainer"],a8=(n,e)=>({"my-message":n,"other-message":e});ia=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;closeChat=new X;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;selectedMedia=null;savedGroups=[];isSavedGroupsOpen=!1;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=C(Tn);cloudinaryService=C(gr);processedMessageIds=new Set;pendingMediaMessage=null;typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.loadSavedGroups(),this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new je,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketService.subscribeToChatAddMsg(e=>P(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}}))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>P(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>P(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return P(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return P(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return P(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(ht.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>B(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>P(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=B(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender}),s=this.privateMessages.findIndex(a=>a.tempId!==void 0&&o.tempId!==void 0&&a.tempId===o.tempId);if(s!==-1?this.privateMessages[s]=M(M({},this.privateMessages[s]),o):this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let a={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(a)}catch(a){this.errorLogger.log("Error handling incoming message notification",a)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return P(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinSavedGroup(e){this.room=e,this.joinRoom(),this.isSavedGroupsOpen=!1}toggleSavedGroups(){this.isSavedGroupsOpen=!this.isSavedGroupsOpen}removeGroup(e){this.savedGroups=this.savedGroups.filter(t=>t!==e),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))}loadSavedGroups(){let e=localStorage.getItem("savedGroups");e&&(this.savedGroups=JSON.parse(e))}joinRoom(){this.room.trim()&&(this.savedGroups.includes(this.room)||(this.savedGroups.push(this.room),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))),this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.pendingMediaMessage={mediaUrl:a,mediaType:i?"video":"image",text:""}},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}triggerCloseChat(){this.closeChat.emit()}sendPendingMediaMessage(){if(!this.pendingMediaMessage)return;let e={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.pendingMediaMessage.text,imageUrl:this.pendingMediaMessage.mediaType==="image"?this.pendingMediaMessage.mediaUrl:"",videoUrl:this.pendingMediaMessage.mediaType==="video"?this.pendingMediaMessage.mediaUrl:""};this.chatType==="private"?(this.socketService.sendPrivateMessage(this.targetUserId,e.text,e.tempId||void 0,e.imageUrl,e.videoUrl),this.privateMessages.push(e)):this.socketService.sendMessage(e.text,e.imageUrl,e.videoUrl),this.pendingMediaMessage=null,this.scrollToBottom(),this.onStopTyping()}cancelPendingMediaMessage(){this.pendingMediaMessage=null}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",r.tempId,e,void 0),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"",t.tempId,void 0,e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return P(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage,t.tempId,void 0,void 0),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}openMediaModal(e,t){this.selectedMedia={url:e,type:t}}closeMediaModal(){this.selectedMedia=null}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(Mn),D(Ce),D(js),D(Hp),D(Fi),D(ho))};static \u0275cmp=Z({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(sd(i8,5),sd(o8,5),sd(s8,5)),t&2){let i;ys(i=_s())&&(r.roomInput=i.first),ys(i=_s())&&(r.chatInput=i.first),ys(i=_s())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},outputs:{closeChat:"closeChat"},decls:27,vars:12,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],[1,"chat-header"],[1,"close-dropdown",3,"click"],["src","../../../assets/images/backB.png","alt","go back",1,"close-chat"],["class","saved-groups-container",4,"ngIf"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],["class","pending-media-overlay",4,"ngIf"],[1,"saved-groups-container"],[1,"saved-groups-header",3,"click"],[1,"label"],[1,"arrow"],["class","saved-groups-dropdown",3,"open",4,"ngIf"],[1,"saved-groups-dropdown"],["class","saved-group-item",4,"ngFor","ngForOf"],[1,"saved-group-item"],[3,"click"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740638820/application_xnlu1o.png","alt","go back",1,"send-btn"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],["class","image-container",4,"ngIf"],["class","video-container",4,"ngIf"],[4,"ngIf"],[1,"image-container"],["alt","Image",1,"chat-image",3,"error","src"],[1,"enlarge-button",3,"click"],["src","../../../assets/images/arrows.png","alt","go back",1,"zoom-chat"],[1,"video-container"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn"],[1,"image-modal",3,"click"],["evStop","",1,"modal-content",3,"click"],["alt","Enlarged Image","class","enlarged-image",3,"src",4,"ngIf"],["controls","","class","enlarged-video",3,"src",4,"ngIf"],[1,"chat-input",2,"margin-top","1em"],["placeholder","Type a message...","rows","1",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["alt","Enlarged Image",1,"enlarged-image",3,"src"],["controls","",1,"enlarged-video",3,"src"],[1,"pending-media-overlay"],[1,"pending-media-message"],[3,"ngSwitch"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src",4,"ngSwitchCase"],["controls","","class","pending-media-video",3,"src",4,"ngSwitchCase"],["type","text","placeholder","\u05D4\u05D5\u05E1\u05D9\u05E4\u05D5 \u05D8\u05E7\u05E1\u05D8 \u05DC\u05DE\u05D3\u05D9\u05D4",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],[1,"buttons-modal"],[1,"send-button-modal",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn-modal"],[1,"cancel-button-modal",3,"click"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src"],["controls","",1,"pending-media-video",3,"src"]],template:function(t,r){if(t&1){let i=z();p(0,"div",4)(1,"div",5)(2,"button",6),S("click",function(){return O(i),T(r.triggerCloseChat())}),A(3,"img",7),f(),p(4,"h2"),_(5),f(),k(6,u8,7,3,"div",8),f(),k(7,d8,5,1,"div",9),p(8,"div",10)(9,"div",11,0),k(11,g8,7,8,"div",12),f(),p(12,"div",13)(13,"div",14)(14,"label",15),_(15,"\u{1F4CE}"),f(),p(16,"textarea",16,1),Vt("ngModelChange",function(s){return O(i),Wt(r.newMessage,s)||(r.newMessage=s),T(s)}),S("keyup",function(){return O(i),T(r.onTyping())})("blur",function(){return O(i),T(r.onStopTyping())}),f(),p(18,"input",17,2),S("change",function(s){return O(i),T(r.onFileSelected(s))}),f(),k(20,C8,6,4,"div",18),f(),k(21,b8,4,1,"div",19)(22,w8,2,0,"button",20)(23,E8,2,0,"button",20),f()()(),k(24,I8,10,5,"div",21)(25,P8,13,4,"div",22)(26,N8,4,2,"div",21)}t&2&&(m(5),Oe(" ",r.chatType==="group"?r.room:r.targetUsername," "),m(),y("ngIf",r.chatType==="group"),m(),y("ngIf",r.chatType==="group"&&!r.isRoomJoined),m(4),y("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),m(5),Lt("ngModel",r.newMessage),m(4),y("ngIf",r.isTyping),m(),y("ngIf",r.isUploading),m(),y("ngIf",r.chatType==="group"),m(),y("ngIf",r.chatType==="private"),m(),y("ngIf",r.selectedMedia),m(),y("ngIf",r.pendingMediaMessage),m(),y("ngIf",r.selectedMedia))},dependencies:[fr,pr,me,Cv,nD,Sn,vr,Gr,gt],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;height:90vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative;padding:.5rem;background-color:#fafafa;border-bottom:1px solid #ddd}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;margin-right:.5rem}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]   .close-chat[_ngcontent-%COMP%]{width:2.5em;height:2.5em}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;text-align:center;flex:1}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none;margin-right:1em}.join-button[_ngcontent-%COMP%]{max-width:5em;color:#fff;border:black solid 1px;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:60px;height:60px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.send-btn[_ngcontent-%COMP%]{max-width:100%;padding:.2em;position:relative;right:.3em}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1;max-width:90%}.send-button[_ngcontent-%COMP%]{position:absolute}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}.close-dropdown[_ngcontent-%COMP%]:hover{color:red}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.enlarge-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:#f4efef80;border:none;color:#fff;padding:5px;cursor:pointer;border-radius:50%;max-width:2em;max-height:2em}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-content[_ngcontent-%COMP%]{position:relative}.enlarged-image[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100;overflow:auto}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;padding:10px}.enlarged-image[_ngcontent-%COMP%]{max-width:50%;max-height:95%;display:block;margin:auto;border-radius:8px}.enlarged-video[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:0;right:15em;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.video-container[_ngcontent-%COMP%]{position:relative;display:inline-block}@media (max-width: 600px){.enlarged-image[_ngcontent-%COMP%]{max-width:70%;max-height:95%;border-radius:0}.close-modal[_ngcontent-%COMP%]{top:0;right:5em;padding:4px 8px;font-size:16px}}.saved-groups-container[_ngcontent-%COMP%]{margin-left:10px;width:7em;border:1px solid #ddd;border-radius:8px;background:#fff;box-shadow:0 2px 6px #0000000d;overflow:hidden}.saved-groups-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;cursor:pointer;background:linear-gradient(135deg,#fafafa,#f0f0f0)}.saved-groups-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f2f2f2,#e8e8e8)}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.saved-groups-dropdown[_ngcontent-%COMP%]{max-height:0;transition:max-height .4s ease-in-out;overflow:hidden;border-top:1px solid #ddd}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:300px}.saved-group-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid #f0f0f0;transition:background-color .2s}.saved-group-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#333;cursor:pointer}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#ff4d4d;font-size:1.2em;cursor:pointer;transition:color .3s}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:red}@media (max-width: 600px){.saved-groups-header[_ngcontent-%COMP%]{padding:8px}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:12px}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:200px}.saved-group-item[_ngcontent-%COMP%]{padding:6px 8px}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}}.pending-media-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1200;display:flex;align-items:center;justify-content:center}.pending-media-message[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;width:90%;max-width:500px;text-align:center;box-shadow:0 4px 10px #0003}.pending-media-message[_ngcontent-%COMP%]   .buttons-modal[_ngcontent-%COMP%]{display:flex;justify-content:center}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.pending-media-message[_ngcontent-%COMP%]   .send-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#b30c17;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]:hover{background-color:#ef9b9b}.pending-media-message[_ngcontent-%COMP%]   .cancel-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;font-size:1.2em;color:#333}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;margin:10px 0;font-size:14px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{background-color:#28a745;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type:hover{background-color:#218838}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{background-color:#dc3545;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:hover{background-color:#c82333}@media (max-width: 600px){.pending-media-message[_ngcontent-%COMP%]{width:95%;padding:15px}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1em}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:8px;font-size:13px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}}.pending-media-video[_ngcontent-%COMP%]{max-width:100%;max-height:300px;margin-bottom:1em;border-radius:8px;background:#000}']})}});function L8(n,e){if(n&1&&(p(0,"span",18),_(1),f()),n&2){let t=w().ngIf;m(),It(t)}}function V8(n,e){if(n&1&&(Ct(0),k(1,L8,2,1,"span",17),bt()),n&2){let t=e.ngIf,r=w();m(),y("ngIf",t>0&&!r.isPrivateChatOpen)}}function j8(n,e){if(n&1){let t=z();p(0,"li",22),S("click",function(){let i=O(t).$implicit,o=w(2);return T(o.navigateToContact(i._id))}),_(1),f()}if(n&2){let t=e.$implicit;m(),Oe(" ",t.name," ")}}function U8(n,e){if(n&1){let t=z();p(0,"div",19)(1,"button",20),S("click",function(){O(t);let i=w();return T(i.closeContactsDropdown())}),_(2,"\xD7"),f(),p(3,"ul"),k(4,j8,2,1,"li",21),f()()}if(n&2){let t=w();m(4),y("ngForOf",t.contacts)}}function B8(n,e){if(n&1){let t=z();p(0,"div",23),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.closePrivateChat())}),p(1,"div",24)(2,"span",25),S("click",function(){O(t);let i=w();return T(i.closePrivateChat())}),_(3,"\xD7"),f(),p(4,"app-chat",26),S("closeChat",function(){O(t);let i=w();return T(i.closePrivateChat())}),f()()()}if(n&2){let t=w();m(4),y("chatType","private")("targetUserId",t.user._id)}}var F8,qp,wT=h(()=>{"use strict";N();ct();we();Ot();N();ct();Us();ep();Hr();De();qr();Hs();x0();F8=n=>({"long-field":n});qp=class n{constructor(e,t,r,i){this.router=e;this.socketService=t;this.userIndex=r;this.contactService=i}user;remove=new X;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=C(Ce).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new fe(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof wi&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(be(1),Re(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),V(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(Zh(1),be(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Pe),D(Mn),D(Ni),D(Mt))};static \u0275cmp=Z({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType","targetUserId"]],template:function(t,r){t&1&&(p(0,"article",0)(1,"div",1),S("click",function(){return r.onPreviewClick()}),A(2,"img",2),f(),p(3,"div",3)(4,"h1",4),_(5),f()(),p(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),S("click",function(o){return r.openPrivateChat(o)}),A(10,"img",9),k(11,V8,2,1,"ng-container",10),wt(12,"async"),f()(),p(13,"button",11),S("click",function(o){return r.openFacebookProfile(o,r.user)}),A(14,"img",12),f()(),p(15,"div",6)(16,"button",11),S("click",function(o){return r.openInstagramProfile(o,r.user)}),A(17,"img",13),f(),p(18,"button",11),S("click",function(){return r.toggleContactsDropdown()}),A(19,"img",14),f(),k(20,U8,5,1,"div",15),f()()(),k(21,B8,5,2,"div",16),A(22,"router-outlet")),t&2&&(m(2),y("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Ie),m(2),y("title",r.user.username)("ngClass",Pa(9,F8,r.isLongField(r.user.username,15))),m(),Oe(" ",r.user.username," "),m(6),y("ngIf",Et(12,7,r.unreadMessagesCount$)),m(9),y("ngIf",r.showContactsDropdown),m(),y("ngIf",r.isPrivateChatOpen))},dependencies:[fr,pr,me,Wn,gt,Dn,ia,Gt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%!important;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function z8(n,e){if(n&1){let t=z();p(0,"user-preview",3),S("remove",function(){let i=O(t).$implicit,o=w();return T(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;y("user",t)}}function H8(n,e){n&1&&(p(0,"p"),_(1,"No users found."),f())}var Wp,ET=h(()=>{"use strict";N();N();Ot();De();wT();Wp=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new X;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275cmp=Z({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(p(0,"section",1),k(1,z8,1,1,"user-preview",2)(2,H8,2,0,"ng-template",null,0,$n),f()),t&2&&(m(),y("ngForOf",r.users))},dependencies:[pr,qp],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:.5em;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function q8(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.onClearFilter())}),_(1,"\u2716"),f()}}var Gp,MT=h(()=>{"use strict";N();we();$s();Ot();N();De();In();Gp=class n{userService=C(Ce);filterBy="";filterSubject$=new ge;destroyRef=C(Ft);ngOnInit(){this.userService.filterBy$.pipe(Kt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Er(),Kt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),Vt("ngModelChange",function(o){return Wt(r.filterBy,o)||(r.filterBy=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),k(3,q8,2,0,"button",3),f()()),t&2&&(m(2),Lt("ngModel",r.filterBy),m(),y("ngIf",r.filterBy))},dependencies:[me,Sn,vr,Gr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:.13em auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Kp,DT=h(()=>{"use strict";Ba();OI();zO();La();In();CT();qr();Hs();ep();ET();MT();x0();Q_();N();De();Kp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n,bootstrap:[xp]});static \u0275inj=Ye({imports:[Fd,np,_D,iI,oI,_T,FO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};TM(Ni,function(){return[me,gt,Dn,Wp,Gp,ia]},function(){return[Gt]})});var W8=TT(ST=>{Ba();DT();ta();N();SD().bootstrapModule(Kp).then(()=>{let n=C(Tn);"serviceWorker"in navigator&&window.addEventListener("load",()=>P(ST,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default W8();
