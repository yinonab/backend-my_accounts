var P0=Object.defineProperty,DT=Object.defineProperties;var MT=Object.getOwnPropertyDescriptors;var tl=Object.getOwnPropertySymbols;var A0=Object.prototype.hasOwnProperty,N0=Object.prototype.propertyIsEnumerable;var T0=(n,e,t)=>e in n?P0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,D=(n,e)=>{for(var t in e||={})A0.call(e,t)&&T0(n,t,e[t]);if(tl)for(var t of tl(e))N0.call(e,t)&&T0(n,t,e[t]);return n},B=(n,e)=>DT(n,MT(e));var Zh=(n,e)=>{var t={};for(var r in n)A0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&tl)for(var r of tl(n))e.indexOf(r)<0&&N0.call(n,r)&&(t[r]=n[r]);return t};var p=(n,e)=>()=>(n&&(e=n(n=0)),e);var ST=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),IT=(n,e)=>{for(var t in e)P0(n,t,{get:e[t],enumerable:!0})};var O=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function k0(n,e){return Object.is(n,e)}function ye(n){let e=ot;return ot=n,e}function R0(){return ot}function ep(n){if(nl)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(n);let e=ot.nextProducerIndex++;if(al(ot),e<ot.producerNode.length&&ot.producerNode[e]!==n&&sa(ot)){let t=ot.producerNode[e];sl(t,ot.producerIndexOfThis[e])}ot.producerNode[e]!==n&&(ot.producerNode[e]=n,ot.producerIndexOfThis[e]=sa(ot)?j0(n,ot,e):0),ot.producerLastReadVersion[e]=n.version}function xT(){rl++}function F0(n){if(!(sa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===rl)){if(!n.producerMustRecompute(n)&&!np(n)){n.dirty=!1,n.lastCleanEpoch=rl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=rl}}function L0(n){if(n.liveConsumerNode===void 0)return;let e=nl;nl=!0;try{for(let t of n.liveConsumerNode)t.dirty||OT(t)}finally{nl=e}}function V0(){return ot?.consumerAllowSignalWrites!==!1}function OT(n){n.dirty=!0,L0(n),n.consumerMarkedDirty?.(n)}function ol(n){return n&&(n.nextProducerIndex=0),ye(n)}function tp(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(sa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)sl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function np(n){al(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(F0(t),r!==t.version))return!0}return!1}function rp(n){if(al(n),sa(n))for(let e=0;e<n.producerNode.length;e++)sl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function j0(n,e,t){if(U0(n),n.liveConsumerNode.length===0&&B0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=j0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function sl(n,e){if(U0(n),n.liveConsumerNode.length===1&&B0(n))for(let r=0;r<n.producerNode.length;r++)sl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];al(i),i.producerIndexOfThis[r]=e}}function sa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function al(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function U0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function B0(n){return n.producerNode!==void 0}function $0(n){let e=Object.create(TT);e.computation=n;let t=()=>{if(F0(e),ep(e),e.value===il)throw e.error;return e.value};return t[_r]=e,t}function PT(){throw new Error}function z0(){H0()}function q0(n){H0=n}function W0(n){let e=Object.create(K0);e.value=n;let t=()=>(ep(e),e.value);return t[_r]=e,t}function ip(n,e){V0()||z0(),n.equal(n.value,e)||(n.value=e,NT(n))}function G0(n,e){V0()||z0(),ip(n,e(n.value))}function NT(n){n.version++,xT(),L0(n),AT?.()}var ot,nl,rl,_r,aa,Jh,Xh,il,TT,H0,AT,K0,Y0=p(()=>{"use strict";ot=null,nl=!1,rl=1,_r=Symbol("SIGNAL");aa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Jh=Symbol("UNSET"),Xh=Symbol("COMPUTING"),il=Symbol("ERRORED"),TT=B(D({},aa),{value:Jh,dirty:!0,error:null,equal:k0,producerMustRecompute(n){return n.value===Jh||n.value===Xh},producerRecomputeValue(n){if(n.value===Xh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Xh;let t=ol(n),r;try{r=n.computation()}catch(i){r=il,n.error=i}finally{tp(n,t)}if(e!==Jh&&e!==il&&r!==il&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});H0=PT;AT=null;K0=B(D({},aa),{equal:k0,value:void 0})});function H(n){return typeof n=="function"}var Ge=p(()=>{"use strict"});function Fo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var cl=p(()=>{"use strict"});var ll,Q0=p(()=>{"use strict";cl();ll=Fo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function ji(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ul=p(()=>{"use strict"});function dl(n){return n instanceof je||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function Z0(n){H(n)?n():n.unsubscribe()}var je,op,Ui=p(()=>{"use strict";Ge();Q0();ul();je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof ll?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Z0(o)}catch(s){e=e??[],s instanceof ll?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ll(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Z0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ji(t,e)}remove(e){let{_finalizers:t}=this;t&&ji(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();op=je.EMPTY});var Pn,ca=p(()=>{"use strict";Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Lo,sp=p(()=>{"use strict";Lo={setTimeout(n,e,...t){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function fl(n){Lo.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(n);else throw n})}var ap=p(()=>{"use strict";ca();sp()});function Cr(){}var la=p(()=>{"use strict"});function X0(n){return cp("E",void 0,n)}function eC(n){return cp("N",n,void 0)}function cp(n,e,t){return{kind:n,value:e,error:t}}var J0,tC=p(()=>{"use strict";J0=cp("C",void 0,void 0)});function Vo(n){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!Bi;if(e&&(Bi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Bi;if(Bi=null,t)throw r}}else n()}function nC(n){Pn.useDeprecatedSynchronousErrorHandling&&Bi&&(Bi.errorThrown=!0,Bi.error=n)}var Bi,hl=p(()=>{"use strict";ca();Bi=null});function lp(n,e){return kT.call(n,e)}function pl(n){Pn.useDeprecatedSynchronousErrorHandling?nC(n):fl(n)}function RT(n){throw n}function up(n,e){let{onStoppedNotification:t}=Pn;t&&Lo.setTimeout(()=>t(n,e))}var $i,kT,dp,Xr,FT,gl=p(()=>{"use strict";Ge();Ui();ca();ap();la();tC();sp();hl();$i=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dl(e)&&e.add(this)):this.destination=FT}static create(e,t,r){return new Xr(e,t,r)}next(e){this.isStopped?up(eC(e),this):this._next(e)}error(e){this.isStopped?up(X0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?up(J0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kT=Function.prototype.bind;dp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pl(t)}}},Xr=class extends $i{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lp(e.next,o),error:e.error&&lp(e.error,o),complete:e.complete&&lp(e.complete,o)}):i=e}this.destination=new dp(i)}};FT={closed:!0,next:Cr,error:RT,complete:Cr}});var jo,ml=p(()=>{"use strict";jo=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function gt(n){return n}var br=p(()=>{"use strict"});function fp(...n){return hp(n)}function hp(n){return n.length===0?gt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var pp=p(()=>{"use strict";br()});function rC(n){var e;return(e=n??Pn.Promise)!==null&&e!==void 0?e:Promise}function LT(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function VT(n){return n&&n instanceof $i||LT(n)&&dl(n)}var ee,ut=p(()=>{"use strict";gl();Ui();ml();pp();ca();Ge();hl();ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=VT(t)?t:new Xr(t,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=rC(r),new r((i,o)=>{let s=new Xr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[jo](){return this}pipe(...t){return hp(t)(this)}toPromise(t){return t=rC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function gp(n){return H(n?.lift)}function te(n){return e=>{if(gp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ue=p(()=>{"use strict";Ge()});function J(n,e,t,r,i){return new mp(n,e,t,r,i)}var mp,qe=p(()=>{"use strict";gl();mp=class extends $i{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function Uo(){return te((n,e)=>{let t=null;n._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var vp=p(()=>{"use strict";Ue();qe()});var ei,yp=p(()=>{"use strict";ut();Ui();vp();qe();Ue();ei=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(J(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Uo()(this)}}});var iC,oC=p(()=>{"use strict";cl();iC=Fo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var ge,vl,ua=p(()=>{"use strict";ut();Ui();oC();ul();hl();ge=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new vl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new iC}next(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?op:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,ji(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new vl(e,t),n})(),vl=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:op}}});var fe,sC=p(()=>{"use strict";ua();fe=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var _p,aC=p(()=>{"use strict";_p={now(){return(_p.delegate||Date).now()},delegate:void 0}});var yl,cC=p(()=>{"use strict";Ui();yl=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}}});var da,lC=p(()=>{"use strict";da={setInterval(n,e,...t){let{delegate:r}=da;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=da;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var _l,uC=p(()=>{"use strict";cC();lC();ul();_l=class extends yl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return da.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&da.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ji(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Bo,dC=p(()=>{"use strict";aC();Bo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Bo.now=_p.now});var Cl,fC=p(()=>{"use strict";dC();Cl=class extends Bo{constructor(e,t=Bo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var fa,hC,bl=p(()=>{"use strict";uC();fC();fa=new Cl(_l),hC=fa});var Tt,ha=p(()=>{"use strict";ut();Tt=new ee(n=>n.complete())});function wl(n){return n&&H(n.schedule)}var Cp=p(()=>{"use strict";Ge()});function bp(n){return n[n.length-1]}function El(n){return H(bp(n))?n.pop():void 0}function Xn(n){return wl(bp(n))?n.pop():void 0}function pC(n,e){return typeof bp(n)=="number"?n.pop():e}var Hi=p(()=>{"use strict";Ge();Cp()});function mC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function gC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zi(n){return this instanceof zi?(this.v=n,this):new zi(n)}function vC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(w){return new Promise(function(P,$){o.push([g,w,P,$])>1||c(g,w)})},_&&(i[g]=_(i[g])))}function c(g,_){try{l(r[g](_))}catch(w){m(o[0][3],w)}}function l(g){g.value instanceof zi?Promise.resolve(g.value.v).then(u,d):m(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function m(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function yC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof gC=="function"?gC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var wp=p(()=>{"use strict"});var $o,Dl=p(()=>{"use strict";$o=n=>n&&typeof n.length=="number"&&typeof n!="function"});function Ml(n){return H(n?.then)}var Ep=p(()=>{"use strict";Ge()});function Sl(n){return H(n[jo])}var Dp=p(()=>{"use strict";ml();Ge()});function Il(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var Mp=p(()=>{"use strict";Ge()});function xl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Sp=p(()=>{"use strict"});function jT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ol,Ip=p(()=>{"use strict";Ol=jT()});function Tl(n){return H(n?.[Ol])}var xp=p(()=>{"use strict";Ip();Ge()});function Pl(n){return vC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield zi(t.read());if(i)return yield zi(void 0);yield yield zi(r)}}finally{t.releaseLock()}})}function Al(n){return H(n?.getReader)}var Nl=p(()=>{"use strict";wp();Ge()});function Ie(n){if(n instanceof ee)return n;if(n!=null){if(Sl(n))return UT(n);if($o(n))return BT(n);if(Ml(n))return $T(n);if(Il(n))return _C(n);if(Tl(n))return HT(n);if(Al(n))return zT(n)}throw xl(n)}function UT(n){return new ee(e=>{let t=n[jo]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BT(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function $T(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fl)})}function HT(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function _C(n){return new ee(e=>{qT(n,e).catch(t=>e.error(t))})}function zT(n){return _C(Pl(n))}function qT(n,e){var t,r,i,o;return mC(this,void 0,void 0,function*(){try{for(t=yC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var Dt=p(()=>{"use strict";wp();Dl();Ep();ut();Dp();Mp();Sp();xp();Nl();Ge();ap();ml()});function Vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var Ho=p(()=>{"use strict"});function kl(n,e=0){return te((t,r)=>{t.subscribe(J(r,i=>Vt(r,n,()=>r.next(i),e),()=>Vt(r,n,()=>r.complete(),e),i=>Vt(r,n,()=>r.error(i),e)))})}var Op=p(()=>{"use strict";Ho();Ue();qe()});function Rl(n,e=0){return te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var Tp=p(()=>{"use strict";Ue()});function CC(n,e){return Ie(n).pipe(Rl(e),kl(e))}var bC=p(()=>{"use strict";Dt();Op();Tp()});function wC(n,e){return Ie(n).pipe(Rl(e),kl(e))}var EC=p(()=>{"use strict";Dt();Op();Tp()});function DC(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var MC=p(()=>{"use strict";ut()});function SC(n,e){return new ee(t=>{let r;return Vt(t,e,()=>{r=n[Ol](),Vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var IC=p(()=>{"use strict";ut();Ip();Ge();Ho()});function Fl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{Vt(t,e,()=>{let r=n[Symbol.asyncIterator]();Vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var Pp=p(()=>{"use strict";ut();Ho()});function xC(n,e){return Fl(Pl(n),e)}var OC=p(()=>{"use strict";Pp();Nl()});function TC(n,e){if(n!=null){if(Sl(n))return CC(n,e);if($o(n))return DC(n,e);if(Ml(n))return wC(n,e);if(Il(n))return Fl(n,e);if(Tl(n))return SC(n,e);if(Al(n))return xC(n,e)}throw xl(n)}var PC=p(()=>{"use strict";bC();EC();MC();IC();Pp();Dp();Ep();Dl();xp();Mp();Sp();Nl();OC()});function W(n,e){return e?TC(n,e):Ie(n)}var zo=p(()=>{"use strict";PC();Dt()});function V(...n){let e=Xn(n);return W(n,e)}var AC=p(()=>{"use strict";Hi();zo()});function Xe(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}var NC=p(()=>{"use strict";ut();Ge()});function Ap(n){return!!n&&(n instanceof ee||H(n.lift)&&H(n.subscribe))}var kC=p(()=>{"use strict";ut();Ge()});var An,qo=p(()=>{"use strict";cl();An=Fo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function qi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Xr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new An)}});n.subscribe(o)})}var RC=p(()=>{"use strict";qo();gl()});function FC(n){return n instanceof Date&&!isNaN(n)}var LC=p(()=>{"use strict"});function j(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>{r.next(n.call(e,o,i++))}))})}var Wo=p(()=>{"use strict";Ue();qe()});function GT(n,e){return WT(e)?n(...e):n(e)}function Go(n){return j(e=>GT(n,e))}var WT,Ll=p(()=>{"use strict";Wo();({isArray:WT}=Array)});function Vl(n){if(n.length===1){let e=n[0];if(KT(e))return{args:e,keys:null};if(JT(e)){let t=ZT(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function JT(n){return n&&typeof n=="object"&&YT(n)===QT}var KT,YT,QT,ZT,Np=p(()=>{"use strict";({isArray:KT}=Array),{getPrototypeOf:YT,prototype:QT,keys:ZT}=Object});function jl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var kp=p(()=>{"use strict"});function pa(...n){let e=Xn(n),t=El(n),{args:r,keys:i}=Vl(n);if(r.length===0)return W([],e);let o=new ee(XT(r,e,i?s=>jl(i,s):gt));return t?o.pipe(Go(t)):o}function XT(n,e,t=gt){return r=>{VC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)VC(e,()=>{let l=W(n[c],e),u=!1;l.subscribe(J(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function VC(n,e,t){n?Vt(t,n,e):e()}var jC=p(()=>{"use strict";ut();Np();zo();br();Ll();Hi();kp();qe();Ho()});function UC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,m=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?_(w):c.push(w),_=w=>{o&&e.next(w),l++;let P=!1;Ie(t(w,u++)).subscribe(J(e,$=>{i?.($),o?g($):e.next($)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;c.length&&l<r;){let $=c.shift();s?Vt(e,s,()=>_($)):_($)}m()}catch($){e.error($)}}))};return n.subscribe(J(e,g,()=>{d=!0,m()})),()=>{a?.()}}var BC=p(()=>{"use strict";Dt();Ho();qe()});function Be(n,e,t=1/0){return H(e)?Be((r,i)=>j((o,s)=>e(r,o,i,s))(Ie(n(r,i))),t):(typeof e=="number"&&(t=e),te((r,i)=>UC(r,i,n,t)))}var Ko=p(()=>{"use strict";Wo();Dt();Ue();BC();Ge()});function er(n=1/0){return Be(gt,n)}var Ul=p(()=>{"use strict";Ko();br()});function $C(){return er(1)}var HC=p(()=>{"use strict";Ul()});function tr(...n){return $C()(W(n,Xn(n)))}var Bl=p(()=>{"use strict";HC();Hi();zo()});function Wi(n){return new ee(e=>{Ie(n()).subscribe(e)})}var zC=p(()=>{"use strict";ut();Dt()});function Rp(...n){let e=El(n),{args:t,keys:r}=Vl(n),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ie(t[u]).subscribe(J(o,m=>{d||(d=!0,l--),a[u]=m},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?jl(r,a):a),o.complete())}))}});return e?i.pipe(Go(e)):i}var qC=p(()=>{"use strict";ut();Np();Dt();Hi();qe();Ll();kp()});function Yo(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Yo(n,e,t).pipe(Go(r));let[i,o]=oP(n)?tP.map(s=>a=>n[s](e,a,t)):rP(n)?eP.map(WC(n,e)):iP(n)?nP.map(WC(n,e)):[];if(!i&&$o(n))return Be(s=>Yo(s,e,t))(Ie(n));if(!i)throw new TypeError("Invalid event target");return new ee(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function WC(n,e){return t=>r=>n[t](e,r)}function rP(n){return H(n.addListener)&&H(n.removeListener)}function iP(n){return H(n.on)&&H(n.off)}function oP(n){return H(n.addEventListener)&&H(n.removeEventListener)}var eP,tP,nP,GC=p(()=>{"use strict";Dt();ut();Ko();Dl();Ge();Ll();eP=["addListener","removeListener"],tP=["addEventListener","removeEventListener"],nP=["on","off"]});function $l(n=0,e,t=hC){let r=-1;return e!=null&&(wl(e)?t=e:r=e),new ee(i=>{let o=FC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var Fp=p(()=>{"use strict";ut();bl();Cp();LC()});function Hl(...n){let e=Xn(n),t=pC(n,1/0),r=n;return r.length?r.length===1?Ie(r[0]):er(t)(W(r,e)):Tt}var KC=p(()=>{"use strict";Ul();Dt();ha();Hi();zo()});var Gi,YC=p(()=>{"use strict";ut();la();Gi=new ee(Cr)});function Ne(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Qo=p(()=>{"use strict";Ue();qe()});var QC=p(()=>{"use strict"});function ue(n){return te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(J(t,void 0,void 0,s=>{o=Ie(n(s,ue(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var Lp=p(()=>{"use strict";Dt();qe();Ue()});function ZC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(J(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var JC=p(()=>{"use strict";qe()});function an(n,e){return H(e)?Be(n,e,1):Be(n,1)}var Vp=p(()=>{"use strict";Ko();Ge()});function XC(n){return new ee(e=>n.subscribe(e))}var eb=p(()=>{"use strict";ut()});function zl(n,e=sP){let{connector:t}=e;return te((r,i)=>{let o=t();Ie(n(XC(o))).subscribe(i),i.add(r.subscribe(o))})}var sP,jp=p(()=>{"use strict";ua();Dt();Ue();eb();sP={connector:()=>new ge}});function Up(n,e=fa){return te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(J(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var tb=p(()=>{"use strict";bl();Ue();qe()});function ti(n){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var ql=p(()=>{"use strict";Ue();qe()});function be(n){return n<=0?()=>Tt:te((e,t)=>{let r=0;e.subscribe(J(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var ga=p(()=>{"use strict";ha();Ue();qe()});function nb(){return te((n,e)=>{n.subscribe(J(e,Cr))})}var rb=p(()=>{"use strict";Ue();qe();la()});function ma(n){return j(()=>n)}var Bp=p(()=>{"use strict";Wo()});function $p(n,e){return e?t=>tr(e.pipe(be(1),nb()),t.pipe($p(n))):Be((t,r)=>Ie(n(t,r)).pipe(be(1),ma(t)))}var ib=p(()=>{"use strict";Bl();ga();rb();Bp();Ko();Dt()});function cn(n,e=fa){let t=$l(n,e);return $p(()=>t)}var Hp=p(()=>{"use strict";bl();ib();Fp()});function wr(n,e=gt){return n=n??aP,te((t,r)=>{let i,o=!0;t.subscribe(J(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function aP(n,e){return n===e}var ob=p(()=>{"use strict";br();Ue();qe()});function Wl(n=cP){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cP(){return new An}var zp=p(()=>{"use strict";qo();Ue();qe()});function Gt(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var qp=p(()=>{"use strict";Ue()});function nr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):gt,be(1),t?ti(e):Wl(()=>new An))}var sb=p(()=>{"use strict";qo();Qo();ga();ql();zp();br()});function Zo(n){return n<=0?()=>Tt:te((e,t)=>{let r=[];e.subscribe(J(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Wp=p(()=>{"use strict";ha();Ue();qe()});function Gp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):gt,Zo(1),t?ti(e):Wl(()=>new An))}var ab=p(()=>{"use strict";qo();Qo();Wp();zp();ql();br()});function cb(n,e){let t=H(n)?n:()=>n;return H(e)?zl(e,{connector:t}):r=>new ei(r,t)}var lb=p(()=>{"use strict";yp();Ge();jp()});function Kp(n){return n?e=>zl(n)(e):e=>cb(new ge)(e)}var ub=p(()=>{"use strict";ua();lb();jp()});function st(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?gt:te((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(J(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let m=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?$l(r):Ie(r(d,a)),_=J(s,()=>{_.unsubscribe(),m()},()=>{s.complete()});g.subscribe(_)}else m()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Yp=p(()=>{"use strict";Ue();qe();br();Fp();Dt()});function Qp(n,e){return te(ZC(n,e,arguments.length>=2,!0))}var db=p(()=>{"use strict";Ue();JC()});function Zp(n){return Ne((e,t)=>n<=t)}var fb=p(()=>{"use strict";Qo()});function Jp(...n){let e=Xn(n);return te((t,r)=>{(e?tr(n,t,e):tr(n,t)).subscribe(r)})}var hb=p(()=>{"use strict";Bl();Hi();Ue()});function ke(n,e){return te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(J(r,c=>{i?.unsubscribe();let l=0,u=o++;Ie(n(c,u)).subscribe(i=J(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Xp=p(()=>{"use strict";Dt();Ue();qe()});function ln(n){return te((e,t)=>{Ie(n).subscribe(J(t,()=>t.complete(),Cr)),!t.closed&&e.subscribe(t)})}var eg=p(()=>{"use strict";Ue();qe();Dt();la()});function ne(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(J(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):gt}var tg=p(()=>{"use strict";Ge();Ue();qe();br()});var we=p(()=>{"use strict";ut();yp();ua();sC();Ui();pp();kC();RC();qo();jC();Bl();zC();qC();zo();GC();KC();AC();NC();ha();YC();QC();Lp();Vp();tb();Hp();ob();Qo();qp();Wo();Yp();fb();Xp();ga();eg();tg()});var ni=p(()=>{"use strict";Lp();Vp();ql();Hp();Qo();qp();sb();ab();Wo();Bp();Ul();Ko();ub();Yp();vp();db();hb();Xp();ga();Wp();eg();tg()});function Fu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Sa(n){return{toString:n}.toString()}function lP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function rw(n,e,t){return Sa(()=>{let r=lP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Gl)?c[Gl]:Object.defineProperty(c,Gl,{value:[]})[Gl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function uP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function At(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(At).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function mg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function fn(n){return n.__forward_ref__=fn,n.toString=function(){return At(this())},n}function Pt(n){return iw(n)?n():n}function iw(n){return typeof n=="function"&&n.hasOwnProperty(dP)&&n.__forward_ref__===fn}function x(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function Lu(n){return pb(n,sw)||pb(n,aw)}function ow(n){return Lu(n)!==null}function pb(n,e){return n.hasOwnProperty(e)?n[e]:null}function fP(n){let e=n&&(n[sw]||n[aw]);return e||null}function gb(n){return n&&(n.hasOwnProperty(mb)||n.hasOwnProperty(hP))?n[mb]:null}function cw(n){return n&&!!n.\u0275providers}function Ia(n){return typeof n=="string"?n:n==null?"":String(n)}function yP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ia(n)}function _P(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,n)}function hm(n,e){throw new I(-201,!1)}function lw(){return vg}function jt(n){let e=vg;return vg=n,e}function uw(n,e,t){let r=Lu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;hm(n,"Injector")}function DP(){return ns}function ri(n){let e=ns;return ns=n,e}function MP(n,e=ae.Default){if(ns===void 0)throw new I(-203,!1);return ns===null?uw(n,void 0,e):ns.get(n,e&ae.Optional?null:void 0,e)}function A(n,e=ae.Default){return(lw()||MP)(Pt(n),e)}function y(n,e=ae.Default){return A(n,Vu(e))}function Vu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _g(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],c=SP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(A(i,o))}else e.push(A(r))}return e}function dw(n,e){return n[yg]=e,n.prototype[yg]=e,n}function SP(n){return n[yg]}function IP(n,e,t,r){let i=n[au];throw e[yb]&&i.unshift(e[yb]),n.message=xP(`
`+n.message,i,t,r),n[bP]=i,n[au]=null,n}function xP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==EP?n.slice(2):n;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(wP,`
  `)}`}function Qi(n,e){let t=n.hasOwnProperty(su);return t?n[su]:null}function OP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function TP(n){return n.flat(Number.POSITIVE_INFINITY)}function gm(n,e){n.forEach(t=>Array.isArray(t)?gm(t,e):e(t))}function fw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function cu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function PP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function mm(n,e,t){let r=xa(n,e);return r>=0?n[r|1]=t:(r=~r,PP(n,r,e,t)),r}function ng(n,e){let t=xa(n,e);if(t>=0)return n[t|1]}function xa(n,e){return AP(n,e,1)}function AP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function NP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Cg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];kP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function mw(n){return n===3||n===4||n===6}function kP(n){return n.charCodeAt(0)===64}function ba(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?_b(n,t,i,null,e[++r]):_b(n,t,i,null,null))}}return n}function _b(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function RP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(vm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function vm(n){return n.type===4&&n.value!==vw}function FP(n,e,t){let r=n.type===4&&!t?vw:n.value;return e===r}function LP(n,e,t){let r=4,i=n.attrs,o=i!==null?UP(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Nn(r)&&!Nn(c))return!1;if(s&&Nn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!FP(n,c,t)||c===""&&e.length===1){if(Nn(r))return!1;s=!0}}else if(r&8){if(i===null||!RP(n,i,c,t)){if(Nn(r))return!1;s=!0}}else{let l=e[++a],u=VP(c,i,vm(n),t);if(u===-1){if(Nn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Nn(r))return!1;s=!0}}}}return Nn(r)||s}function Nn(n){return(n&1)===0}function VP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return BP(e,n)}function jP(n,e,t=!1){for(let r=0;r<e.length;r++)if(LP(n,e[r],t))return!0;return!1}function UP(n){for(let e=0;e<n.length;e++){let t=n[e];if(mw(t))return e}return n.length}function BP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Cb(n,e){return n?":not("+e.trim()+")":e}function $P(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nn(s)&&(e+=Cb(o,i),i=""),r=s,o=o||!Nn(r);t++}return i!==""&&(e+=Cb(o,i)),e}function HP(n){return n.map($P).join(",")}function zP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Nn(i))break;i=o}r++}return{attrs:e,classes:t}}function Z(n){return Sa(()=>{let e=ww(n),t=B(D({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,styles:n.styles||Ut,_:null,schemas:n.schemas||null,tView:null,id:""});Ew(t);let r=n.dependencies;return t.directiveDefs=uu(r,!1),t.pipeDefs=uu(r,!0),t.id=GP(t),t})}function qP(n){return ai(n)||yw(n)}function WP(n){return n!==null}function Qe(n){return Sa(()=>({type:n.type,bootstrap:n.bootstrap||Ut,declarations:n.declarations||Ut,imports:n.imports||Ut,exports:n.exports||Ut,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bb(n,e){if(n==null)return is;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=si.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==si.None?[r,a]:r,e[o]=s):t[o]=r}return t}function le(n){return Sa(()=>{let e=ww(n);return Ew(e),e})}function so(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ai(n){return n[pP]||null}function yw(n){return n[gP]||null}function _w(n){return n[mP]||null}function Cw(n){let e=ai(n)||yw(n)||_w(n);return e!==null?e.standalone:!1}function bw(n,e){let t=n[vP]||null;if(!t&&e===!0)throw new Error(`Type ${At(n)} does not have '\u0275mod' property.`);return t}function ww(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||is,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ut,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bb(n.inputs,e),outputs:bb(n.outputs),debugInfo:null}}function Ew(n){n.features?.forEach(e=>e(n))}function uu(n,e){if(!n)return null;let t=e?_w:qP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(WP)}function GP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ps(n){return{\u0275providers:n}}function KP(...n){return{\u0275providers:Dw(!0,n),\u0275fromNgModule:!0}}function Dw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return gm(e,s=>{let a=s;bg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Mw(i,o),t}function Mw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ym(i,o=>{e(o,r)})}}function bg(n,e,t,r){if(n=Pt(n),!n)return!1;let i=null,o=gb(n),s=!o&&ai(n);if(!o&&!s){let c=n.ngModule;if(o=gb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)bg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gm(o.imports,u=>{bg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Mw(l,e)}if(!a){let l=Qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ut},i),e({provide:pw,useValue:i,multi:!0},i),e({provide:os,useValue:()=>A(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;ym(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ym(n,e){for(let t of n)cw(t)&&(t=t.\u0275providers),Array.isArray(t)?ym(t,e):e(t)}function Sw(n){return n!==null&&typeof n=="object"&&YP in n}function QP(n){return!!(n&&n.useExisting)}function ZP(n){return!!(n&&n.useFactory)}function ss(n){return typeof n=="function"}function JP(n){return!!n.useClass}function _m(){return rg===void 0&&(rg=new lu),rg}function wg(n){let e=Lu(n),t=e!==null?e.factory:Qi(n);if(t!==null)return t;if(n instanceof L)throw new I(204,!1);if(n instanceof Function)return e1(n);throw new I(204,!1)}function e1(n){if(n.length>0)throw new I(204,!1);let t=fP(n);return t!==null?()=>t.factory(n):()=>new n}function t1(n){if(Sw(n))return Jo(void 0,n.useValue);{let e=Iw(n);return Jo(e,tu)}}function Iw(n,e,t){let r;if(ss(n)){let i=Pt(n);return Qi(i)||wg(i)}else if(Sw(n))r=()=>Pt(n.useValue);else if(ZP(n))r=()=>n.useFactory(..._g(n.deps||[]));else if(QP(n))r=()=>A(Pt(n.useExisting));else{let i=Pt(n&&(n.useClass||n.provide));if(n1(n))r=()=>new i(..._g(n.deps));else return Qi(i)||wg(i)}return r}function Jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function n1(n){return!!n.deps}function r1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function i1(n){return typeof n=="function"||typeof n=="object"&&n instanceof L}function Eg(n,e){for(let t of n)Array.isArray(t)?Eg(t,e):t&&cw(t)?Eg(t.\u0275providers,e):e(t)}function hn(n,e){n instanceof wa&&n.assertNotDestroyed();let t,r=ri(n),i=jt(void 0);try{return e()}finally{ri(r),jt(i)}}function xw(){return lw()!==void 0||DP()!=null}function Cm(n){if(!xw())throw new I(-203,!1)}function o1(n){let e=mt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function s1(n){return typeof n=="function"}function oi(n){return Array.isArray(n)&&typeof n[Tw]=="object"}function xr(n){return Array.isArray(n)&&n[Tw]===!0}function bm(n){return(n.flags&4)!==0}function $u(n){return n.componentOffset>-1}function Hu(n){return(n.flags&1)===1}function ci(n){return!!n.template}function Dg(n){return(n[Q]&512)!==0}function Pw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Vn(){return Aw}function Aw(n){return n.type.prototype.ngOnChanges&&(n.setInput=c1),a1}function a1(){let n=kw(this),e=n?.current;if(e){let t=n.previous;if(t===is)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function c1(n,e,t,r,i){let o=this.declaredInputs[r],s=kw(n)||l1(n,{previous:is,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Mg(l&&l.currentValue,t,c===is),Pw(n,e,i,t)}function kw(n){return n[Nw]||null}function l1(n,e){return n[Nw]=e}function cr(n){for(;Array.isArray(n);)n=n[Ir];return n}function Rw(n,e){return cr(e[n])}function pn(n,e){return cr(e[n.index])}function Fw(n,e){return n.data[e]}function Lw(n,e){return n[e]}function fi(n,e){let t=e[n];return oi(t)?t:t[Ir]}function f1(n){return(n[Q]&4)===4}function wm(n){return(n[Q]&128)===128}function h1(n){return xr(n[Mt])}function ls(n,e){return e==null?null:n[e]}function Vw(n){n[Xo]=0}function jw(n){n[Q]&1024||(n[Q]|=1024,wm(n)&&qu(n))}function p1(n,e){for(;n>0;)e=e[gs],n--;return e}function zu(n){return!!(n[Q]&9216||n[un]?.dirty)}function Sg(n){n[sr].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),zu(n)&&qu(n)}function qu(n){n[sr].changeDetectionScheduler?.notify(0);let e=Xi(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!wm(e)));)e=Xi(e)}function Uw(n,e){if((n[Q]&256)===256)throw new I(911,!1);n[ii]===null&&(n[ii]=[]),n[ii].push(e)}function g1(n,e){if(n[ii]===null)return;let t=n[ii].indexOf(e);t!==-1&&n[ii].splice(t,1)}function Xi(n){let e=n[Mt];return xr(e)?e[Mt]:e}function m1(){return ce.lFrame.elementDepthCount}function v1(){ce.lFrame.elementDepthCount++}function y1(){ce.lFrame.elementDepthCount--}function $w(){return ce.bindingsEnabled}function _1(){return ce.skipHydrationRootTNode!==null}function C1(n){return ce.skipHydrationRootTNode===n}function b1(){ce.skipHydrationRootTNode=null}function de(){return ce.lFrame.lView}function tt(){return ce.lFrame.tView}function R(n){return ce.lFrame.contextLView=n,n[Fn]}function F(n){return ce.lFrame.contextLView=null,n}function vt(){let n=Hw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Hw(){return ce.lFrame.currentTNode}function w1(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ao(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function Em(){return ce.lFrame.isParent}function zw(){ce.lFrame.isParent=!1}function E1(){return ce.lFrame.contextLView}function qw(){return Bw}function Db(n){Bw=n}function Wu(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function D1(n){return ce.lFrame.bindingIndex=n}function Gu(){return ce.lFrame.bindingIndex++}function Ww(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function M1(){return ce.lFrame.inI18n}function S1(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ig(e)}function I1(){return ce.lFrame.currentDirectiveIndex}function Ig(n){ce.lFrame.currentDirectiveIndex=n}function x1(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Gw(){return ce.lFrame.currentQueryIndex}function Dm(n){ce.lFrame.currentQueryIndex=n}function O1(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Ln]:null}function Kw(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=O1(o),i===null||(o=o[gs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=Yw();return r.currentTNode=e,r.lView=n,!0}function Mm(n){let e=Yw(),t=n[ie];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Yw(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?Qw(n):e}function Qw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Zw(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function Sm(){let n=Zw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function T1(n){return(ce.lFrame.contextLView=p1(n,ce.lFrame.contextLView))[Fn]}function co(){return ce.lFrame.selectedIndex}function eo(n){ce.lFrame.selectedIndex=n}function Im(){let n=ce.lFrame;return Fw(n.tView,n.selectedIndex)}function P1(){return ce.lFrame.currentNamespace}function Ku(){return Xw}function Yu(n){Xw=n}function A1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Aw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Qu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function nu(n,e,t){eE(n,e,3,t)}function ru(n,e,t,r){(n[Q]&3)===t&&eE(n,e,t,r)}function og(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function eE(n,e,t,r){let i=r!==void 0?n[Xo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Xo]+=65536),(a<o||o==-1)&&(N1(n,t,e,c),n[Xo]=(n[Xo]&4294901760)+c+2),c++}function Mb(n,e){rr(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),rr(5,n,e)}}function N1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[Xo]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,Mb(a,o)):Mb(a,o)}function k1(n){return n instanceof to}function R1(n){return(n.flags&8)!==0}function F1(n){return(n.flags&16)!==0}function tE(n){return n!==rs}function gu(n){return n&32767}function L1(n){return n>>16}function mu(n,e){let t=L1(n),r=e;for(;t>0;)r=r[gs],t--;return r}function vu(n){let e=Og;return Og=n,e}function U1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ya)&&(r=t[ya]),r==null&&(r=t[ya]=j1++);let i=r&nE,o=1<<i;e.data[n+(i>>rE)]|=o}function yu(n,e){let t=iE(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,ag(r.data,n),ag(e,null),ag(r.blueprint,null));let i=xm(n,e),o=n.injectorIndex;if(tE(i)){let s=gu(i),a=mu(i,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ag(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function xm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=lE(i),r===null)return rs;if(t++,i=i[gs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return rs}function Tg(n,e,t){U1(n,e,t)}function B1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(mw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function oE(n,e,t){if(t&ae.Optional||n!==void 0)return n;hm(e,"NodeInjector")}function sE(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),!(t&(ae.Self|ae.Host))){let i=n[as],o=jt(void 0);try{return i?i.get(e,r,t&ae.Optional):uw(e,r,t&ae.Optional)}finally{jt(o)}}return oE(r,e,t)}function aE(n,e,t,r=ae.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ae.Self)){let s=q1(n,e,t,r,ir);if(s!==ir)return s}let o=cE(n,e,t,r,ir);if(o!==ir)return o}return sE(e,t,r,i)}function cE(n,e,t,r,i){let o=H1(t);if(typeof o=="function"){if(!Kw(e,n,r))return r&ae.Host?oE(i,t,r):sE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))hm(t);else return s}finally{Jw()}}else if(typeof o=="number"){let s=null,a=iE(n,e),c=rs,l=r&ae.Host?e[ar][Ln]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?xm(n,e):e[a+8],c===rs||!Ib(r,!1)?a=-1:(s=e[ie],a=gu(c),e=mu(c,e)));a!==-1;){let u=e[ie];if(Sb(o,a,u.data)){let d=$1(a,e,t,s,r,l);if(d!==ir)return d}c=e[a+8],c!==rs&&Ib(r,e[ie].data[a+8]===l)&&Sb(o,a,e)?(s=u,a=gu(c),e=mu(c,e)):a=-1}}return i}function $1(n,e,t,r,i,o){let s=e[ie],a=s.data[n+8],c=r==null?$u(a)&&Og:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,u=iu(a,s,t,c,l);return u!==null?no(e,s,u,a):ir}function iu(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,m=i?a+u:l;for(let g=d;g<m;g++){let _=s[g];if(g<c&&t===_||g>=c&&_.type===t)return g}if(i){let g=s[c];if(g&&ci(g)&&g.type===t)return c}return null}function no(n,e,t,r){let i=n[t],o=e.data;if(k1(i)){let s=i;s.resolving&&_P(yP(o[t]));let a=vu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?jt(s.injectImpl):null,u=Kw(n,r,ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&A1(t,o[t],e)}finally{l!==null&&jt(l),vu(a),s.resolving=!1,Jw()}}return i}function H1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ya)?n[ya]:void 0;return typeof e=="number"?e>=0?e&nE:z1:e}function Sb(n,e,t){let r=1<<n;return!!(t[e+(n>>rE)]&r)}function Ib(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}function z1(){return new Yi(vt(),de())}function Or(n){return Sa(()=>{let e=n.prototype.constructor,t=e[su]||Pg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[su]||Pg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pg(n){return iw(n)?()=>{let e=Pg(Pt(n));return e&&e()}:Qi(n)}function q1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=cE(o,s,t,r|ae.Self,ir);if(a!==ir)return a;let c=o.parent;if(!c){let l=s[Ow];if(l){let u=l.get(t,ir,r);if(u!==ir)return u}c=lE(s),s=s[gs]}o=c}return i}function lE(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Ln]:null}function Om(n){return B1(vt(),n)}function xb(n,e=null,t=null,r){let i=uE(n,e,t,r);return i.resolveInjectorInitializers(),i}function uE(n,e=null,t=null,r,i=new Set){let o=[t||Ut,KP(n)];return r=r||(typeof n=="object"?void 0:At(n)),new wa(o,e||_m(),r||null,i)}function cg(n){return n[G1]}function K1(){return new Ag(de())}function _u(...n){}function fE(n){let e,t;function r(){n=_u;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Ob(n){return queueMicrotask(()=>n()),()=>{n=_u}}function Pm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Z1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){fE(()=>{n.callbackScheduled=!1,kg(n),n.isCheckStableRunning=!0,Pm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),kg(n)}function J1(n){let e=()=>{Z1(n)},t=Y1++;n._inner=n._inner.fork({name:"angular",properties:{[Tm]:!0,[Cu]:t,[Cu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(X1(c))return r.invokeTask(o,s,a,c);try{return Tb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Pb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Tb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eA(c)&&e(),Pb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,kg(n),Pm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function kg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Tb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pb(n){n._nesting--,Pm(n)}function X1(n){return hE(n,"__ignore_ng_zone__")}function eA(n){return hE(n,"__scheduler_tick__")}function hE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function tA(n="zone.js",e){return n==="noop"?new bu:n==="zone.js"?new _e(e):n}function rA(){return ms(vt(),de())}function ms(n,e){return new yt(pn(n,e))}function iA(n){return n instanceof yt?n.nativeElement:n}function oA(){return this._results[Symbol.iterator]()}function pE(n){return(n.flags&128)===128}function aA(){return sA++}function cA(n){gE.set(n[Bu],n)}function Fg(n){gE.delete(n[Bu])}function li(n,e){oi(e)?(n[Ab]=e[Bu],cA(e)):n[Ab]=e}function mE(n){return yE(n[Ea])}function vE(n){return yE(n[Rn])}function yE(n){for(;n!==null&&!xr(n);)n=n[Rn];return n}function _E(n){Lg=n}function CE(){if(Lg!==void 0)return Lg;if(typeof document<"u")return document;throw new I(210,!1)}function Rm(n,e,t=!1){return fA(n,e,t)}function pA(){if(Kl===void 0&&(Kl=null,mt.trustedTypes))try{Kl=mt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kl}function Ju(n){return pA()?.createHTML(n)||n}function wE(){if(Yl===void 0&&(Yl=null,mt.trustedTypes))try{Yl=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yl}function Nb(n){return wE()?.createHTML(n)||n}function kb(n){return wE()?.createScriptURL(n)||n}function lo(n){return n instanceof wu?n.changingThisBreaksApplicationSecurity:n}function Xu(n,e){let t=gA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${nw})`)}return t===e}function gA(n){return n instanceof wu&&n.getTypeName()||null}function mA(n){let e=new jg(n);return vA()?new Vg(e):e}function vA(){try{return!!new window.DOMParser().parseFromString(Ju(""),"text/html")}catch{return!1}}function Fm(n){return n=String(n),n.match(yA)?n:"unsafe:"+n}function Pr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Oa(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}function SA(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function IA(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw IE(e);return e}function xA(n){let e=n.firstChild;if(e&&SA(n,e))throw IE(e);return e}function Fb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function IE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}function Lb(n){return n.replace(/&/g,"&amp;").replace(OA,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(TA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xE(n,e){let t=null;try{Ql=Ql||mA(n);let r=e?String(e):"";t=Ql.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Ql.getInertBodyElement(r)}while(r!==o);let a=new Ug().sanitizeChildren(Vb(t)||t);return Ju(a)}finally{if(t){let r=Vb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Vb(n){return"content"in n&&PA(n)?n.content:null}function PA(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function ed(n){let e=Lm();return e?Nb(e.sanitize(Ta.HTML,n)||""):Xu(n,"HTML")?Nb(lo(n)):xE(CE(),Ia(n))}function Ve(n){let e=Lm();return e?e.sanitize(Ta.URL,n)||"":Xu(n,"URL")?lo(n):Fm(Ia(n))}function AA(n){let e=Lm();if(e)return kb(e.sanitize(Ta.RESOURCE_URL,n)||"");if(Xu(n,"ResourceURL"))return kb(lo(n));throw new I(904,!1)}function NA(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?AA:Ve}function OE(n,e,t){return NA(e,t)(n)}function Lm(){let n=de();return n&&n[sr].sanitizer}function LA(n){return n.replace(kA,e=>e.replace(RA,FA))}function TE(n){return n instanceof Function?n():n}function VA(n){return(n??y(et)).get(Yt)==="browser"}function Vm(n,e){return jA(n,e)}function es(n,e,t,r,i){if(r!=null){let o,s=!1;xr(r)?o=r:oi(r)&&(s=!0,r=r[Ir]);let a=cr(r);n===0&&t!==null?i==null?RE(e,t,a):Eu(e,t,a,i||null,!0):n===1&&t!==null?Eu(e,t,a,i||null,!0):n===2?tN(e,a,s):n===3&&e.destroyNode(a),o!=null&&rN(e,n,o,t,i)}}function UA(n,e){return n.createText(e)}function BA(n,e,t){n.setValue(e,t)}function $A(n,e){return n.createComment(LA(e))}function PE(n,e,t){return n.createElement(e,t)}function HA(n,e){AE(n,e),e[Ir]=null,e[Ln]=null}function zA(n,e,t,r,i,o){r[Ir]=i,r[Ln]=e,nd(n,r,t,1,i,o)}function AE(n,e){e[sr].changeDetectionScheduler?.notify(9),nd(n,e,e[Ke],2,null,null)}function qA(n){let e=n[Ea];if(!e)return lg(n[ie],n);for(;e;){let t=null;if(oi(e))t=e[Ea];else{let r=e[Kt];r&&(t=r)}if(!t){for(;e&&!e[Rn]&&e!==n;)oi(e)&&lg(e[ie],e),e=e[Mt];e===null&&(e=n),oi(e)&&lg(e[ie],e),t=e&&e[Rn]}e=t}}function WA(n,e,t,r){let i=Kt+r,o=t.length;r>0&&(t[i-1][Rn]=e),r<o-Kt?(e[Rn]=t[i],fw(t,Kt+r,e)):(t.push(e),e[Rn]=null),e[Mt]=t;let s=e[Zi];s!==null&&t!==s&&NE(s,e);let a=e[Er];a!==null&&a.insertView(n),Sg(e),e[Q]|=128}function NE(n,e){let t=n[cs],r=e[Mt];if(oi(r))n[Q]|=pu.HasTransplantedViews;else{let i=r[Mt][ar];e[ar]!==i&&(n[Q]|=pu.HasTransplantedViews)}t===null?n[cs]=[e]:t.push(e)}function jm(n,e){let t=n[cs],r=t.indexOf(e);t.splice(r,1)}function Bg(n,e){if(n.length<=Kt)return;let t=Kt+e,r=n[t];if(r){let i=r[Zi];i!==null&&i!==n&&jm(i,r),e>0&&(n[t-1][Rn]=r[Rn]);let o=cu(n,Kt+e);HA(r[ie],r);let s=o[Er];s!==null&&s.detachView(o[ie]),r[Mt]=null,r[Rn]=null,r[Q]&=-129}return r}function kE(n,e){if(!(e[Q]&256)){let t=e[Ke];t.destroyNode&&nd(n,e,t,3,null,null),qA(e)}}function lg(n,e){if(e[Q]&256)return;let t=ye(null);try{e[Q]&=-129,e[Q]|=256,e[un]&&rp(e[un]),KA(n,e),GA(n,e),e[ie].type===1&&e[Ke].destroy();let r=e[Zi];if(r!==null&&xr(e[Mt])){r!==e[Mt]&&jm(r,e);let i=e[Er];i!==null&&i.detachView(n)}Fg(e)}finally{ye(t)}}function GA(n,e){let t=n.cleanup,r=e[fu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[fu]=null);let i=e[ii];if(i!==null){e[ii]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function KA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof to)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];rr(4,a,c);try{c.call(a)}finally{rr(5,a,c)}}else{rr(4,i,o);try{o.call(i)}finally{rr(5,i,o)}}}}}function YA(n,e,t){return QA(n,e.parent,t)}function QA(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ir];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===or.None||o===or.Emulated)return null}return pn(r,t)}}function Eu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function RE(n,e,t){n.appendChild(e,t)}function jb(n,e,t,r,i){r!==null?Eu(n,e,t,r,i):RE(n,e,t)}function FE(n,e){return n.parentNode(e)}function ZA(n,e){return n.nextSibling(e)}function JA(n,e,t){return eN(n,e,t)}function XA(n,e,t){return n.type&40?pn(n,t):null}function td(n,e,t,r){let i=YA(n,r,e),o=e[Ke],s=r.parent||e[Ln],a=JA(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)jb(o,i,t[c],a,!1);else jb(o,i,t,a,!1);Ub!==void 0&&Ub(o,r,e,t,i)}function va(n,e){if(e!==null){let t=e.type;if(t&3)return pn(e,n);if(t&4)return $g(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return va(n,r);{let i=n[e.index];return xr(i)?$g(-1,i):cr(i)}}else{if(t&128)return va(n,e.next);if(t&32)return Vm(e,n)()||cr(n[e.index]);{let r=LE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xi(n[ar]);return va(i,r)}else return va(n,e.next)}}}return null}function LE(n,e){if(e!==null){let r=n[ar][Ln],i=e.projection;return r.projection[i]}return null}function $g(n,e){let t=Kt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return va(r,i)}return e[Ji]}function tN(n,e,t){n.removeChild(null,e,t)}function Um(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&li(cr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Um(n,e,t.child,r,i,o,!1),es(e,n,i,a,o);else if(c&32){let l=Vm(t,r),u;for(;u=l();)es(e,n,i,u,o);es(e,n,i,a,o)}else c&16?nN(n,e,r,t,i,o):es(e,n,i,a,o);t=s?t.projectionNext:t.next}}function nd(n,e,t,r,i,o){Um(t,r,n.firstChild,e,i,o,!1)}function nN(n,e,t,r,i,o){let s=t[ar],c=s[Ln].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];es(e,n,i,u,o)}else{let l=c,u=s[Mt];pE(r)&&(l.flags|=128),Um(n,e,l,u,i,o,!0)}}function rN(n,e,t,r,i){let o=t[Ji],s=cr(t);o!==s&&es(e,n,r,o,i);for(let a=Kt;a<t.length;a++){let c=t[a];nd(c[ie],c,n,e,r,o)}}function iN(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Mr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mr.Important),n.setStyle(t,r,i,o))}}function oN(n,e,t){n.setAttribute(e,"style",t)}function VE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Cg(n,e,r),i!==null&&VE(n,e,i),o!==null&&oN(n,e,o)}function v(n=1){UE(tt(),de(),co()+n,!1)}function UE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&nu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ru(e,o,0,t)}eo(t)}function M(n,e=ae.Default){let t=de();if(t===null)return A(n,e);let r=vt();return aE(r,t,Pt(n),e)}function BE(){let n="invalid";throw new Error(n)}function $E(n,e,t,r,i,o){let s=ye(null);try{let a=null;i&si.SignalBased&&(a=e[r][_r]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&si.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):Pw(e,a,r,o)}finally{ye(s)}}function sN(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)eo(~i);else{let o=i,s=t[++r],a=t[++r];S1(s,o);let c=e[o];a(2,c)}}}finally{eo(-1)}}function rd(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Ir]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),Vw(d),d[Mt]=d[gs]=n,d[Fn]=t,d[sr]=s||n&&n[sr],d[Ke]=a||n&&n[Ke],d[as]=c||n&&n[as]||null,d[Ln]=o,d[Bu]=aA(),d[du]=u,d[Ow]=l,d[ar]=e.type==2?n[ar]:d,d}function Pa(n,e,t,r,i){let o=n.data[e];if(o===null)o=aN(n,e,t,r,i),M1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=w1();o.injectorIndex=s===null?-1:s.injectorIndex}return ao(o,!0),o}function aN(n,e,t,r,i){let o=Hw(),s=Em(),a=s?o:o&&o.parent,c=n.data[e]=hN(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function HE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zE(n,e,t,r,i){let o=co(),s=r&2;try{eo(-1),s&&e.length>dn&&UE(n,e,dn,!1),rr(s?2:0,i),t(r,i)}finally{eo(o),rr(s?3:1,i)}}function Bm(n,e,t){if(bm(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ye(r)}}}function $m(n,e,t){$w()&&(_N(n,e,t,pn(t,e)),(t.flags&64)===64&&KE(n,e,t))}function Hm(n,e,t=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function qE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=zm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function zm(n,e,t,r,i,o,s,a,c,l,u){let d=dn+r,m=d+i,g=cN(d,m),_=typeof l=="function"?l():l;return g[ie]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}function cN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:lr);return t}function lN(n,e,t,r){let o=r.get(hA,bE)||t===or.ShadowDom,s=n.selectRootElement(e,o);return uN(s),s}function uN(n){dN(n)}function fN(n,e,t,r){let i=ZE(e);i.push(t),n.firstCreatePass&&JE(n).push(r,i.length-1)}function hN(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=si.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?$b(r,t,l,a,c):$b(r,t,l,a)}return r}function $b(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function pN(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],m=t?t.get(d):null,g=m?m.inputs:null,_=m?m.outputs:null;c=Bb(0,d.inputs,u,c,g),l=Bb(1,d.outputs,u,l,_);let w=c!==null&&s!==null&&!vm(e)?TN(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function gN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function WE(n,e,t,r,i,o,s,a){let c=pn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Wm(n,t,u,r,i),$u(e)&&mN(t,e.index)):e.type&3?(r=gN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function mN(n,e){let t=fi(e,n);t[Q]&16||(t[Q]|=64)}function qm(n,e,t,r){if($w()){let i=r===null?null:{"":-1},o=bN(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&GE(n,e,t,s,i,a),i&&wN(t,r,i)}t.mergedAttrs=ba(t.mergedAttrs,t.attrs)}function GE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Tg(yu(t,e),n,r[l].type);DN(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=HE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=ba(t.mergedAttrs,u.hostAttrs),MN(n,t,e,c,u),EN(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}pN(n,t,o)}function vN(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yN(s)!=a&&s.push(a),s.push(t,r,o)}}function yN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _N(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;$u(t)&&SN(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||yu(t,e),li(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=no(e,n,a,t);if(li(l,e),s!==null&&ON(e,a-i,l,c,t,s),ci(c)){let u=fi(t.index,e);u[Fn]=no(e,n,a,t)}}}function KE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=I1();try{eo(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Ig(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&CN(c,l)}}finally{eo(-1),Ig(s)}}function CN(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function bN(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(jP(e,s.selectors,!1))if(r||(r=[]),ci(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Hg(n,e,c)}else r.unshift(s),Hg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Hg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function wN(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function EN(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ci(e)&&(t[""]=n)}}function DN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function MN(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Qi(i.type,!0)),s=new to(o,ci(i),M);n.blueprint[r]=s,t[r]=s,vN(n,e,r,HE(n,t,i.hostVars,lr),i)}function SN(n,e,t){let r=pn(e,n),i=qE(t),o=n[sr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=id(n,rd(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function IN(n,e,t,r,i,o){let s=pn(n,e);xN(e[Ke],s,o,n.value,t,r,i)}function xN(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ia(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function ON(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];$E(r,t,c,l,u,d)}}function TN(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function YE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function QE(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Dm(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function id(n,e){return n[Ea]?n[wb][Rn]=e:n[Ea]=e,n[wb]=e,e}function zg(n,e,t){Dm(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function ZE(n){return n[fu]??=[]}function JE(n){return n.cleanup??=[]}function XE(n,e){let t=n[as],r=t?t.get(Dr,null):null;r&&r.handleError(e)}function Wm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];$E(u,l,r,a,c,i)}}function PN(n,e,t){let r=Rw(e,n);BA(n[Ke],r,t)}function AN(n,e){let t=fi(e,n),r=t[ie];NN(r,t);let i=t[Ir];i!==null&&t[du]===null&&(t[du]=Rm(i,t[as])),Gm(r,t,t[Fn])}function NN(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Gm(n,e,t){Mm(e);try{let r=n.viewQuery;r!==null&&zg(1,r,t);let i=n.template;i!==null&&zE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Er]?.finishViewCreation(n),n.staticContentQueries&&QE(n,e),n.staticViewQueries&&zg(2,n.viewQuery,t);let o=n.components;o!==null&&kN(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Sm()}}function kN(n,e){for(let t=0;t<e.length;t++)AN(n,e[t])}function RN(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=rd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Zi]=l;let u=n[Er];return u!==null&&(c[Er]=u.createEmbeddedView(o)),Gm(o,c,t),c}finally{ye(i)}}function Hb(n,e){return!e||e.firstChild===null||pE(n)}function FN(n,e,t,r=!0){let i=e[ie];if(WA(i,e,n,t),r){let s=$g(t,n),a=e[Ke],c=FE(a,n[Ji]);c!==null&&zA(i,n[Ln],a,e,c,s)}let o=e[du];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Du(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(cr(o)),xr(o)&&LN(o,r);let s=t.type;if(s&8)Du(n,e,t.child,r);else if(s&32){let a=Vm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=LE(e,t);if(Array.isArray(a))r.push(...a);else{let c=Xi(e[ar]);Du(c[ie],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function LN(n,e){for(let t=Kt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&Du(r[ie],r,i,e)}n[Ji]!==n[Ir]&&e.push(n[Ji])}function VN(n){return n[un]??jN(n)}function jN(n){let e=eD.pop()??Object.create(BN);return e.lView=n,e}function UN(n){n.lView[un]!==n&&(n.lView=null,eD.push(n))}function $N(n){let e=n[un]??Object.create(HN);return e.lView=n,e}function tD(n){return n.type!==2}function nD(n,e=!0,t=0){let r=n[sr],i=r.rendererFactory,o=!1;o||i.begin?.();try{qN(n,t)}catch(s){throw e&&XE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function qN(n,e){let t=qw();try{Db(!0),qg(n,e);let r=0;for(;zu(n);){if(r===zN)throw new I(103,!1);r++,qg(n,1)}}finally{Db(t)}}function WN(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[sr].inlineEffectRunner?.flush(),Mm(e);let a=!0,c=null,l=null;o||(tD(n)?(l=VN(e),c=ol(l)):R0()===null?(a=!1,l=$N(e),c=ol(l)):e[un]&&(rp(e[un]),e[un]=null));try{Vw(e),D1(n.bindingStartIndex),t!==null&&zE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&nu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&ru(e,g,0,null),og(e,0)}if(s||GN(e),rD(e,0),n.contentQueries!==null&&QE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&nu(e,g)}else{let g=n.contentHooks;g!==null&&ru(e,g,1),og(e,1)}sN(n,e);let d=n.components;d!==null&&oD(e,d,0);let m=n.viewQuery;if(m!==null&&zg(2,m,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&nu(e,g)}else{let g=n.viewHooks;g!==null&&ru(e,g,2),og(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ig]){for(let g of e[ig])g();e[ig]=null}o||(e[Q]&=-73)}catch(u){throw o||qu(e),u}finally{l!==null&&(tp(l,c),a&&UN(l)),Sm()}}function rD(n,e){for(let t=mE(n);t!==null;t=vE(t))for(let r=Kt;r<t.length;r++){let i=t[r];iD(i,e)}}function GN(n){for(let e=mE(n);e!==null;e=vE(e)){if(!(e[Q]&pu.HasTransplantedViews))continue;let t=e[cs];for(let r=0;r<t.length;r++){let i=t[r];jw(i)}}}function KN(n,e,t){let r=fi(e,n);iD(r,t)}function iD(n,e){wm(n)&&qg(n,e)}function qg(n,e){let r=n[ie],i=n[Q],o=n[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&np(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)WN(r,n,r.template,n[Fn]);else if(i&8192){rD(n,1);let a=r.components;a!==null&&oD(n,a,1)}}function oD(n,e,t){for(let r=0;r<e.length;r++)KN(n,e[r],t)}function Km(n,e){let t=qw()?64:1088;for(n[sr].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Xi(n);if(Dg(n)&&!r)return n;n=r}return null}function ZN(){return od(vt(),de())}function od(n,e){return n.type&4?new QN(e,n,ms(n,e)):null}function zb(n,e){return JN(n,e)}function XN(n){let e=Error(`No component factory found for ${At(n)}.`);return e[ek]=n,e}function tk(){let n=de(),e=vt(),t=fi(e.index,n);return(oi(t)?t:n)[Ke]}function Su(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mg(i,a);else if(o==2){let c=a,l=e[++s];r=mg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function qb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:si.None;e?t.push({propName:s,templateName:r,isSignal:(a&si.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function rk(n){let e=n.toLowerCase();return e==="svg"?u1:e==="math"?d1:null}function ik(n,e){let t=n[ie],r=dn;return n[r]=e,Pa(t,r,2,"#host",null)}function ok(n,e,t,r,i,o,s){let a=i[ie];sk(r,n,e,s);let c=null;e!==null&&(c=Rm(e,i[as]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=rd(i,qE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Hg(a,n,r.length-1),id(i,d),i[n.index]=d}function sk(n,e,t,r){for(let i of n)e.mergedAttrs=ba(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Su(e,e.mergedAttrs,!0),t!==null&&jE(r,t,e))}function ak(n,e,t,r,i,o){let s=vt(),a=i[ie],c=pn(s,i);GE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,m=no(i,a,d,s);li(m,i)}KE(a,i,s),c&&li(c,i);let l=no(i,a,s.directiveStart+s.componentOffset,s);if(n[Fn]=i[Fn]=l,o!==null)for(let u of o)u(l,e);return Bm(a,s,i),l}function ck(n,e,t,r){if(r)Cg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=zP(e.selectors[0]);i&&Cg(n,t,i),o&&o.length>0&&VE(n,t,o.join(" "))}}function lk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function uk(){let n=vt();Qu(de()[ie],n)}function dk(){let n=vt();return lD(n,de())}function Wb(n){return n[hu]}function ug(n){return n[hu]||(n[hu]=[])}function lD(n,e){let t,r=e[n.index];return xr(r)?t=r:(t=YE(r,e,null,n),e[n.index]=t,id(e,t)),pk(t,e,n,r),new cD(t,n,e)}function hk(n,e){let t=n[Ke],r=t.createComment(""),i=pn(e,n),o=FE(t,i);return Eu(t,o,r,ZA(t,i),!1),r}function mk(n,e,t){return gk(n,e,t)}function vk(n,e,t,r){if(n[Ji])return;let i;t.type&8?i=cr(r):i=hk(e,t),n[Ji]=i}function yk(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function _k(n,e){return n.type&11?ms(n,e):n.type&4?od(n,e):null}function Ck(n,e,t,r){return t===-1?_k(e,n):t===-2?bk(n,e,r):no(n,n[ie],t,e)}function bk(n,e,t){if(t===yt)return ms(e,n);if(t===io)return od(e,n);if(t===hi)return lD(e,n)}function uD(n,e,t,r){let i=e[Er].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(Ck(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Xg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=uD(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Kt;d<u.length;d++){let m=u[d];m[Zi]===m[Mt]&&Xg(m[ie],m,l,r)}if(u[cs]!==null){let d=u[cs];for(let m=0;m<d.length;m++){let g=d[m];Xg(g[ie],g,l,r)}}}}}return r}function wk(n,e){return n[Er].queries[e].queryList}function dD(n,e,t){let r=new Rg((t&4)===4);return fN(n,e,r,r.destroy),(e[Er]??=new Qg).queries.push(new Yg(r))-1}function Ek(n,e,t){let r=tt();return r.firstCreatePass&&(fD(r,new xu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),dD(r,de(),e)}function Dk(n,e,t,r){let i=tt();if(i.firstCreatePass){let o=vt();fD(i,new xu(e,t,r),o.index),Sk(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return dD(i,de(),t)}function Mk(n){return n.split(",").map(e=>e.trim())}function fD(n,e,t){n.queries===null&&(n.queries=new Zg),n.queries.track(new Jg(e,t))}function Sk(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Qm(n,e){return n.queries.getByIndex(e)}function Ik(n,e){let t=n[ie],r=Qm(t,e);return r.crossesNgTemplate?Xg(t,n,e,[]):uD(t,n,r,e)}function uo(n){Gb.has(n)||(Gb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function xk(n){return typeof n=="function"&&n[_r]!==void 0}function fo(n,e){uo("NgSignals");let t=W0(n),r=t[_r];return e?.equal&&(r.equal=e.equal),t.set=i=>ip(r,i),t.update=i=>G0(r,i),t.asReadonly=Ok.bind(t),t}function Ok(){let n=this[_r];if(n.readonlyFn===void 0){let e=()=>this();e[_r]=n,n.readonlyFn=e}return n.readonlyFn}function hD(n){return xk(n)&&typeof n.set=="function"}function Tk(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(kk))}return o}return Ou.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,m)=>{a.push(""),s.push(r(d).then(g=>{a[l+m]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>Rk(o));e.push(c)}),Ak(),Promise.all(e).then(()=>{})}function Ak(){let n=Ou;return Ou=new Map,n}function Nk(){return Ou.size===0}function kk(n){return typeof n=="string"?n:n.text()}function Rk(n){Pk.delete(n)}function Fk(n){return Object.getPrototypeOf(n.prototype).constructor}function Bt(n){let e=Fk(n.type),t=!0,r=[n];for(;e;){let i;if(ci(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Zl(n.inputs),s.inputTransforms=Zl(n.inputTransforms),s.declaredInputs=Zl(n.declaredInputs),s.outputs=Zl(n.outputs);let a=i.hostBindings;a&&Bk(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&jk(n,c),l&&Uk(n,l),Lk(n,i),uP(n.outputs,i.outputs),ci(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Bt&&(t=!1)}}e=Object.getPrototypeOf(e)}Vk(r)}function Lk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Vk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ba(i.hostAttrs,t=ba(t,i.hostAttrs))}}function Zl(n){return n===is?{}:n===Ut?[]:n}function jk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Uk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Bk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Zm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function $k(n,e,t){return new Tu(n,e,t,!1)}function sd(n,e,t=null){return new em({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function pD(n){return zk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Hk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function zk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Jm(n,e,t){return n[e]=t}function qk(n,e){return n[e]}function Sr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Wk(n,e,t,r){let i=Sr(n,e,t);return Sr(n,e+1,r)||i}function Gk(n){return(n.flags&32)===32}function Kk(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Pa(e,n,4,s||null,a||null);qm(e,t,u,ls(l,c)),Qu(e,u);let d=u.tView=zm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Yk(n,e,t,r,i,o,s,a,c,l){let u=t+dn,d=e.firstCreatePass?Kk(u,e,n,r,i,o,s,a,c):e.data[u];ao(d,!1);let m=Qk(e,n,d,t);Ku()&&td(e,n,m,d),li(m,n);let g=YE(m,n,m,d);return n[u]=g,id(n,g),mk(g,d,n),Hu(d)&&$m(e,n,d),c!=null&&Hm(n,d,l),d}function N(n,e,t,r,i,o,s,a){let c=de(),l=tt(),u=ls(l.consts,o);return Yk(c,l,n,e,t,r,i,u,s,a),N}function Zk(n,e,t,r){return Yu(!0),e[Ke].createComment("")}function Xm(n,e){!e?.injector&&Cm(Xm);let t=e?.injector??y(et);return VA(t)?(uo("NgAfterNextRender"),Xk(n,t,e,!0)):eR}function Jk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Xk(n,e,t,r){let i=e.get(gD);i.impl??=e.get(tm);let o=t?.phase??ts.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(kt):null,a=new nm(i.impl,Jk(n,o),r,s);return i.impl.register(a),a}function vs(n,e,t,r){let i=de(),o=Gu();if(Sr(i,o,e)){let s=tt(),a=Im();IN(a,i,n,e,t,r)}return vs}function mD(n,e,t,r){return Sr(n,Gu(),t)?e+Ia(t)+r:lr}function Jl(n,e){return n<<17|e<<2}function oo(n){return n>>17&32767}function tR(n){return(n&2)==2}function nR(n,e){return n&131071|e<<17}function rm(n){return n|2}function hs(n){return(n&131068)>>2}function dg(n,e){return n&-131069|e<<2}function rR(n){return(n&1)===1}function im(n){return n|1}function iR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=oo(s),c=hs(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||xa(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let m=oo(n[a+1]);n[r+1]=Jl(m,a),m!==0&&(n[m+1]=dg(n[m+1],r)),n[a+1]=nR(n[a+1],r)}else n[r+1]=Jl(a,0),a!==0&&(n[a+1]=dg(n[a+1],r)),a=r;else n[r+1]=Jl(c,0),a===0?a=r:n[c+1]=dg(n[c+1],r),c=r;l&&(n[r+1]=rm(n[r+1])),Kb(n,u,r,!0),Kb(n,u,r,!1),oR(e,u,n,r,o),s=Jl(a,c),o?e.classBindings=s:e.styleBindings=s}function oR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&xa(o,e)>=0&&(t[r+1]=im(t[r+1]))}function Kb(n,e,t,r){let i=n[t+1],o=e===null,s=r?oo(i):hs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];sR(c,e)&&(a=!0,n[s+1]=r?im(l):rm(l)),s=r?oo(l):hs(l)}a&&(n[t+1]=r?rm(i):im(i))}function sR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xa(n,e)>=0:!1}function aR(n){return n.substring(kn.key,kn.keyEnd)}function cR(n){return lR(n),vD(n,yD(n,0,kn.textEnd))}function vD(n,e){let t=kn.textEnd;return t===e?-1:(e=kn.keyEnd=uR(n,kn.key=e,t),yD(n,e,t))}function lR(n){kn.key=0,kn.keyEnd=0,kn.value=0,kn.valueEnd=0,kn.textEnd=n.length}function yD(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function uR(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function b(n,e,t){let r=de(),i=Gu();if(Sr(r,i,e)){let o=tt(),s=Im();WE(o,s,r,n,e,r[Ke],t,!1)}return b}function om(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Wm(n,t,o[s],s,r)}function pi(n,e){return fR(n,e,null,!0),pi}function dR(n,e){for(let t=cR(e);t>=0;t=vD(e,t))mm(n,aR(e),!0)}function fR(n,e,t,r){let i=de(),o=tt(),s=Ww(2);if(o.firstUpdatePass&&CD(o,n,s,r),e!==lr&&Sr(i,s,e)){let a=o.data[co()];bD(o,a,i,i[Ke],n,i[s+1]=CR(e,t),r,s)}}function hR(n,e,t,r){let i=tt(),o=Ww(2);i.firstUpdatePass&&CD(i,null,o,r);let s=de();if(t!==lr&&Sr(s,o,t)){let a=i.data[co()];if(wD(a,r)&&!_D(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=mg(c,t||"")),om(i,a,s,t,r)}else _R(i,a,s,s[Ke],s[o+1],s[o+1]=yR(n,e,t),r,o)}}function _D(n,e){return e>=n.expandoStartIndex}function CD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[co()],s=_D(n,t);wD(o,r)&&e===null&&!s&&(e=!1),e=pR(i,o,e,r),iR(i,o,e,t,s,r)}}function pR(n,e,t,r){let i=x1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=fg(null,n,e,t,r),t=Ma(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=fg(i,n,e,t,r),o===null){let c=gR(n,e,r);c!==void 0&&Array.isArray(c)&&(c=fg(null,n,e,c[1],r),c=Ma(c,e.attrs,r),mR(n,e,r,c))}else o=vR(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function gR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(hs(r)!==0)return n[oo(r)]}function mR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[oo(i)]=r}function vR(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ma(r,s,t)}return Ma(r,e.attrs,t)}function fg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ma(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ma(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),mm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function yR(n,e,t){if(t==null||t==="")return Ut;let r=[],i=lo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function _R(n,e,t,r,i,o,s,a){i===lr&&(i=Ut);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let m=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,_=null,w;u===d?(c+=2,l+=2,m!==g&&(_=d,w=g)):d===null||u!==null&&u<d?(c+=2,_=u):(l+=2,_=d,w=g),_!==null&&bD(n,e,t,r,_,w,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function bD(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=rR(l)?Yb(c,e,t,i,hs(l),s):void 0;if(!Au(u)){Au(o)||tR(l)&&(o=Yb(c,null,t,i,a,s));let d=Rw(co(),t);iN(r,s,d,i,o)}}function Yb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,m=t[i+1];m===lr&&(m=d?Ut:void 0);let g=d?ng(m,r):u===r?m:void 0;if(l&&!Au(g)&&(g=ng(c,r)),Au(g)&&(a=g,s))return a;let _=n[i+1];i=s?oo(_):hs(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ng(c,r))}return a}function Au(n){return n!==void 0}function CR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=At(lo(n)))),n}function wD(n,e){return(n.flags&(e?8:16))!==0}function ED(n,e,t){let r=de(),i=mD(r,n,e,t);hR(mm,dR,i,!0)}function bR(n,e,t,r,i,o){let s=e.consts,a=ls(s,i),c=Pa(e,n,2,r,a);return qm(e,t,c,ls(s,o)),c.attrs!==null&&Su(c,c.attrs,!1),c.mergedAttrs!==null&&Su(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function h(n,e,t,r){let i=de(),o=tt(),s=dn+n,a=i[Ke],c=o.firstCreatePass?bR(s,o,i,e,t,r):o.data[s],l=wR(o,i,c,a,e,n);i[s]=l;let u=Hu(c);return ao(c,!0),jE(a,l,c),!Gk(c)&&Ku()&&td(o,i,l,c),m1()===0&&li(l,i),v1(),u&&($m(o,i,c),Bm(o,c,i)),r!==null&&Hm(i,c),h}function f(){let n=vt();Em()?zw():(n=n.parent,ao(n,!1));let e=n;C1(e)&&b1(),y1();let t=tt();return t.firstCreatePass&&(Qu(t,n),bm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&R1(e)&&om(t,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&F1(e)&&om(t,e,de(),e.stylesWithoutHost,!1),f}function k(n,e,t,r){return h(n,e,t,r),f(),k}function ER(n,e,t,r,i){let o=e.consts,s=ls(o,r),a=Pa(e,n,8,"ng-container",s);s!==null&&Su(a,s,!0);let c=ls(o,i);return qm(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function $t(n,e,t){let r=de(),i=tt(),o=n+dn,s=i.firstCreatePass?ER(o,i,r,e,t):i.data[o];ao(s,!0);let a=DR(i,r,s,n);return r[o]=a,Ku()&&td(i,r,a,s),li(a,r),Hu(s)&&($m(i,r,s),Bm(i,s,r)),t!=null&&Hm(r,s),$t}function Ht(){let n=vt(),e=tt();return Em()?zw():(n=n.parent,ao(n,!1)),e.firstCreatePass&&(Qu(e,n),bm(n)&&e.queries.elementEnd(n)),Ht}function G(){return de()}function MR(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function gn(n){let e=IR(n),t=Qb(e);if(t)return t;let r=e.split("-")[0];if(t=Qb(r),t)return t;if(r==="en")return SR;throw new I(701,!1)}function Qb(n){return n in hg||(hg[n]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[n]),hg[n]}function IR(n){return n.toLowerCase().replace(/_/g,"-")}function OR(n){typeof n=="string"&&(xR=n.toLowerCase().replace(/_/g,"-"))}function S(n,e,t,r){let i=de(),o=tt(),s=vt();return DD(o,i,i[Ke],s,n,e,r),S}function PR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fu],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function DD(n,e,t,r,i,o,s){let a=Hu(r),l=n.firstCreatePass&&JE(n),u=e[Fn],d=ZE(e),m=!0;if(r.type&3||s){let w=pn(r,e),P=s?s(w):w,$=d.length,se=s?he=>s(cr(he[r.index])):r.index,Y=null;if(!s&&a&&(Y=PR(n,e,i,r.index)),Y!==null){let he=Y.__ngLastListenerFn__||Y;he.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,m=!1}else{o=Jb(r,e,u,o),TR(w,i,o);let he=t.listen(P,i,o);d.push(o,he),l&&l.push(i,se,$,$+1)}}else o=Jb(r,e,u,o);let g=r.outputs,_;if(m&&g!==null&&(_=g[i])){let w=_.length;if(w)for(let P=0;P<w;P+=2){let $=_[P],se=_[P+1],We=e[$][se].subscribe(o),Se=d.length;d.push(o,We),l&&l.push(i,r.index,Se,-(Se+1))}}}function Zb(n,e,t,r){let i=ye(null);try{return rr(6,e,t),t(r)!==!1}catch(o){return XE(n,o),!1}finally{rr(7,e,t),ye(i)}}function Jb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?fi(n.index,e):e;Km(s,5);let a=Zb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Zb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function E(n=1){return T1(n)}function MD(n,e,t,r){Dk(n,e,t,r)}function ad(n,e,t){Ek(n,e,t)}function ys(n){let e=de(),t=tt(),r=Gw();Dm(r+1);let i=Qm(t,r);if(n.dirty&&f1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Ik(e,r);n.reset(o,iA),n.notifyOnChanges()}return!0}return!1}function _s(){return wk(de(),Gw())}function AR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function _t(n){let e=E1();return Lw(e,dn+n)}function C(n,e=""){let t=de(),r=tt(),i=n+dn,o=r.firstCreatePass?Pa(r,i,1,e,null):r.data[i],s=NR(r,t,o,e,n);t[i]=s,Ku()&&td(r,t,s,o),ao(o,!1)}function St(n){return Oe("",n,""),St}function Oe(n,e,t){let r=de(),i=mD(r,n,e,t);return i!==lr&&PN(r,co(),i),Oe}function mn(n,e,t){hD(e)&&(e=e());let r=de(),i=Gu();if(Sr(r,i,e)){let o=tt(),s=Im();WE(o,s,r,n,e,r[Ke],t,!1)}return mn}function Un(n,e){let t=hD(n);return t&&n.set(e),t}function vn(n,e){let t=de(),r=tt(),i=vt();return DD(r,t,t[Ke],i,n,e),vn}function kR(n,e,t){let r=tt();if(r.firstCreatePass){let i=ci(n);sm(t,r.data,r.blueprint,i,!0),sm(e,r.data,r.blueprint,i,!1)}}function sm(n,e,t,r,i){if(n=Pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)sm(n[o],e,t,r,i);else{let o=tt(),s=de(),a=vt(),c=ss(n)?n:Pt(n.provide),l=Iw(n),u=a.providerIndexes&1048575,d=a.directiveStart,m=a.providerIndexes>>20;if(ss(n)||!n.multi){let g=new to(l,i,M),_=gg(c,e,i?u:u+m,d);_===-1?(Tg(yu(a,s),o,c),pg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[_]=g,s[_]=g)}else{let g=gg(c,e,u+m,d),_=gg(c,e,u,u+m),w=g>=0&&t[g],P=_>=0&&t[_];if(i&&!P||!i&&!w){Tg(yu(a,s),o,c);let $=LR(i?FR:RR,t.length,i,r,l);!i&&P&&(t[_].providerFactory=$),pg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push($),s.push($)}else{let $=SD(t[i?_:g],l,!i&&r);pg(o,n,g>-1?g:_,$)}!i&&r&&P&&t[_].componentProviders++}}}function pg(n,e,t,r){let i=ss(e),o=JP(e);if(i||o){let c=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function SD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function RR(n,e,t,r){return am(this.multi,[])}function FR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=no(t,t[ie],this.providerFactory.index,r);o=a.slice(0,s),am(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],am(i,o);return o}function am(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function LR(n,e,t,r,i){let o=new to(n,t,M);return o.multi=[],o.index=e,o.componentProviders=0,SD(o,i,r&&!t),o}function nt(n,e=[]){return t=>{t.providersResolver=(r,i)=>kR(r,i?i(n):n,e)}}function ID(n){uo("NgStandalone"),n.getStandaloneInjector=e=>e.get(VR).getOrCreateStandaloneInjector(n)}function xD(n,e,t){let r=n.\u0275cmp;r.directiveDefs=uu(e,!1),r.pipeDefs=uu(t,!0)}function Cs(n,e,t){let r=Wu()+n,i=de();return i[r]===lr?Jm(i,r,t?e.call(t):e()):qk(i,r)}function Aa(n,e,t,r){return TD(de(),Wu(),n,e,t,r)}function yn(n,e,t,r,i){return jR(de(),Wu(),n,e,t,r,i)}function OD(n,e){let t=n[e];return t===lr?void 0:t}function TD(n,e,t,r,i,o){let s=e+t;return Sr(n,s,i)?Jm(n,s+1,o?r.call(o,i):r(i)):OD(n,s+1)}function jR(n,e,t,r,i,o,s){let a=e+t;return Wk(n,a,i,o)?Jm(n,a+2,s?r.call(s,i,o):r(i,o)):OD(n,a+2)}function Ct(n,e){let t=tt(),r,i=n+dn;t.firstCreatePass?(r=UR(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Qi(r.type,!0)),s,a=jt(M);try{let c=vu(!1),l=o();return vu(c),AR(t,de(),i,l),l}finally{jt(a)}}function UR(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function bt(n,e,t){let r=n+dn,i=de(),o=Lw(i,r);return BR(i,r)?TD(i,Wu(),e,o.transform,t,o):o.transform(t)}function BR(n,e){return n[ie].data[e].pure}function Bn(n,e){return od(n,e)}function $R(n){Xl!==null&&(n.defaultEncapsulation!==Xl.defaultEncapsulation||n.preserveWhitespaces!==Xl.preserveWhitespaces)||(Xl=n)}function HR(n){tv=n}function gi(n){return!!n&&typeof n.then=="function"}function nv(n){return!!n&&typeof n.subscribe=="function"}function zR(){q0(()=>{throw new I(600,!1)})}function qR(n){return n.isBoundToModule}function GR(n,e,t){try{let r=t();return gi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function AD(n,e){return Array.isArray(e)?e.reduce(AD,n):D(D({},n),e)}function ou(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KR(n,e,t,r){if(!t&&!zu(n))return;nD(n,e,t&&!r?0:1)}function QR(n,e,t){let r=new Pu(t);return Promise.resolve(r)}function Xb(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function JR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(B(D({},ND()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:os,multi:!0,useFactory:()=>{let r=y(ZR,{optional:!0});return()=>r.initialize()}},{provide:os,multi:!0,useFactory:()=>{let r=y(XR);return()=>{r.initialize()}}},e===!0?{provide:sD,useValue:!0}:[],{provide:aD,useValue:t??dE}]}function ND(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function tF(){return typeof $localize<"u"&&$localize.locale||Nu}function eu(n){return!n.moduleRef}function nF(n){let e=eu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{eu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Dr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),eu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ku);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ku);s.add(o),n.moduleRef.onDestroy(()=>{ou(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return GR(r,t,()=>{let o=e.get(PD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(hd,Nu);if(OR(s||Nu),eu(n)){let a=e.get(_n);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return rF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function rF(n,e){let t=n.injector.get(_n);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new I(-403,!1);e.push(n)}function iF(n){if(_a&&!_a.get(RD,!1))throw new I(400,!1);zR(),_a=n;let e=n.get(kD);return aF(n),e}function rv(n,e,t=[]){let r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=FD();if(!s||s.injector.get(RD,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):iF(oF(a,r))}return sF(i)}}function oF(n=[],e){return et.create({name:e,providers:[{provide:Uu,useValue:"platform"},{provide:ku,useValue:new Set([()=>_a=null])},...n]})}function sF(n){let e=FD();if(!e)throw new I(401,!1);return e}function FD(){return _a?.get(kD)??null}function aF(n){n.get(Am,null)?.forEach(t=>t())}function cF(n){return lF(vt(),de(),(n&16)===16)}function lF(n,e,t){if($u(n)&&!t){let r=fi(n.index,e);return new ro(r,r)}else if(n.type&175){let r=e[ar];return new ro(r,e)}return null}function ew(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function tw(){return new iv([new lm])}function mi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ho(n,e){uo("NgSignals");let t=$0(n);return e?.equal&&(t[_r].equal=e.equal),t}function Qt(n){let e=ye(null);try{return n()}finally{ye(e)}}function jD(n){let e=ai(n);if(!e)return null;let t=new fs(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var nw,I,Gl,mt,dP,sw,mb,aw,hP,L,pP,gP,mP,vP,su,ya,vb,ae,vg,CP,Ca,yg,au,bP,wP,EP,yb,ns,ju,pm,is,Ut,os,hw,pw,lu,gw,or,si,vw,YP,Uu,tu,XP,rg,Nt,wa,Ir,ie,Q,Mt,Rn,Ln,du,fu,Fn,as,sr,Ke,Ea,wb,gs,ar,Zi,Xo,Er,Bu,Ow,ii,ig,un,dn,Tw,Ji,hu,cs,Kt,pu,Mg,Nw,Eb,rr,u1,d1,ce,Bw,Jw,Xw,rs,to,sg,xg,Og,V1,nE,rE,j1,ir,Yi,et,W1,G1,dE,kt,Ag,Tr,Ng,X,Tm,Cu,Y1,_e,Q1,bu,Dr,nA,yt,Rg,gE,sA,Ab,Lg,Zu,lA,Am,Yt,Nm,km,uA,dA,fA,bE,hA,Kl,Yl,wu,Vg,jg,yA,EE,DE,ME,_A,CA,bA,Rb,SE,wA,EA,DA,MA,Ug,OA,TA,Ql,Ta,kA,RA,FA,Mr,jA,eN,Ub,lr,dN,eD,BN,HN,zN,ro,io,YN,QN,m9,JN,us,Ym,sD,aD,Wg,Mu,ek,Gg,ds,ui,jn,nk,Iu,fs,Kg,hi,fk,cD,pk,gk,Yg,Qg,xu,Zg,Jg,Gb,Ou,Pk,di,Da,Tu,Pu,em,Qk,ts,gD,tm,nm,eR,kn,wR,DR,Ki,SR,hg,Ze,Nu,xR,TR,NR,VR,Xl,cd,ev,Na,ld,ud,tv,bs,PD,dd,WR,_n,cm,fd,YR,ZR,XR,eF,hd,ku,kD,_a,RD,$n,lm,uF,um,dm,fm,Ru,iv,LD,VD,T=p(()=>{"use strict";Y0();we();ni();nw="https://g.co/ng/security#xss",I=class extends Error{constructor(e,t){super(Fu(e,t)),this.code=e}};Gl="__parameters__";mt=globalThis;dP=Pe({__forward_ref__:Pe});sw=Pe({\u0275prov:Pe}),mb=Pe({\u0275inj:Pe}),aw=Pe({ngInjectableDef:Pe}),hP=Pe({ngInjectorDef:Pe}),L=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=x({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};pP=Pe({\u0275cmp:Pe}),gP=Pe({\u0275dir:Pe}),mP=Pe({\u0275pipe:Pe}),vP=Pe({\u0275mod:Pe}),su=Pe({\u0275fac:Pe}),ya=Pe({__NG_ELEMENT_ID__:Pe}),vb=Pe({__NG_ENV_ID__:Pe});ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{});CP={},Ca=CP,yg="__NG_DI_FLAG__",au="ngTempTokenPath",bP="ngTokenPath",wP=/\n/gm,EP="\u0275",yb="__source";ju=dw(rw("Optional"),8),pm=dw(rw("SkipSelf"),4);is={},Ut=[],os=new L(""),hw=new L("",-1),pw=new L(""),lu=class{get(e,t=Ca){if(t===Ca){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return t}},gw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gw||{}),or=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(or||{}),si=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(si||{});vw="ng-template";YP=Pe({provide:String,useValue:Pe});Uu=new L(""),tu={},XP={};Nt=class{},wa=class extends Nt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Eg(e,s=>this.processProvider(s)),this.records.set(hw,Jo(void 0,this)),i.has("environment")&&this.records.set(Nt,Jo(void 0,this));let o=this.records.get(Uu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pw,Ut,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ri(this),r=jt(void 0),i;try{return e()}finally{ri(t),jt(r)}}get(e,t=Ca,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vb))return e[vb](this);r=Vu(r);let i,o=ri(this),s=jt(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=i1(e)&&Lu(e);l&&this.injectableDefInScope(l)?c=Jo(wg(e),tu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?_m():this.parent;return t=r&ae.Optional&&t===Ca?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[au]=a[au]||[]).unshift(At(e)),o)throw a;return IP(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(s),ri(o)}}resolveInjectorInitializers(){let e=ye(null),t=ri(this),r=jt(void 0),i;try{let o=this.get(os,Ut,ae.Self);for(let s of o)s()}finally{ri(t),jt(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=Pt(e);let t=ss(e)?e:Pt(e&&e.provide),r=t1(e);if(!ss(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Jo(void 0,tu,!0),i.factory=()=>_g(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===tu&&(t.value=XP,t.value=t.factory()),typeof t.value=="object"&&t.value&&r1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Ir=0,ie=1,Q=2,Mt=3,Rn=4,Ln=5,du=6,fu=7,Fn=8,as=9,sr=10,Ke=11,Ea=12,wb=13,gs=14,ar=15,Zi=16,Xo=17,Er=18,Bu=19,Ow=20,ii=21,ig=22,un=23,dn=25,Tw=1,Ji=7,hu=8,cs=9,Kt=10,pu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(pu||{});Mg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};Vn.ngInherit=!0;Nw="__ngSimpleChanges__";Eb=null,rr=function(n,e,t){Eb?.(n,e,t)},u1="svg",d1="math";ce={lFrame:Qw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Bw=!1;Jw=Zw;Xw=!0;rs=-1,to=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};sg={},xg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Vu(r);let i=this.injector.get(e,sg,r);return i!==sg||t===sg?i:this.parentInjector.get(e,t,r)}};Og=!0;V1=256,nE=V1-1,rE=5,j1=0,ir={};Yi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aE(this._tNode,this._lView,e,Vu(r),t)}};et=class n{static{this.THROW_IF_NOT_FOUND=Ca}static{this.NULL=new lu}static create(e,t){if(Array.isArray(e))return xb({name:""},t,e,"");{let r=e.name??"";return xb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=x({token:n,providedIn:"any",factory:()=>A(hw)})}static{this.__NG_ELEMENT_ID__=-1}};W1=new L("");W1.__NG_ELEMENT_ID__=n=>{let e=vt();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new I(204,!1)};G1="ngOriginalError";dE=!0,kt=(()=>{class n{static{this.__NG_ELEMENT_ID__=K1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Ag=class extends kt{constructor(e){super(),this._lView=e}onDestroy(e){return Uw(this._lView,e),()=>g1(this._lView,e)}};Tr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=x({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Ng=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,xw()&&(this.destroyRef=y(kt,{optional:!0})??void 0,this.pendingTasks=y(Tr,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},X=Ng;Tm="isAngularZone",Cu=Tm+"_ID",Y1=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dE}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,J1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Q1,_u,_u);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Q1={};bu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};Dr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cg(e);for(;t&&cg(t);)t=cg(t);return t||null}},nA=new L("",{providedIn:"root",factory:()=>{let n=y(_e),e=y(Dr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});yt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=rA}}return n})();Rg=class n{get changes(){return this._changes??=new X}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=oA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=TP(e);(this._changesDetected=!OP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};gE=new Map,sA=0;Ab="__ngContext__";Zu=new L("",{providedIn:"root",factory:()=>lA}),lA="ng",Am=new L(""),Yt=new L("",{providedIn:"platform",factory:()=>"unknown"}),Nm=new L(""),km=new L("",{providedIn:"root",factory:()=>CE().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),uA="h",dA="b",fA=()=>null;bE=!1,hA=new L("",{providedIn:"root",factory:()=>bE});wu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nw})`}};Vg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Ju(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},jg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Ju(e),t}};yA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;EE=Pr("area,br,col,hr,img,wbr"),DE=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ME=Pr("rp,rt"),_A=Oa(ME,DE),CA=Oa(DE,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bA=Oa(ME,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rb=Oa(EE,CA,bA,_A),SE=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wA=Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),EA=Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),DA=Oa(SE,wA,EA),MA=Pr("script,style,template"),Ug=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=xA(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=IA(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Fb(e).toLowerCase();if(!Rb.hasOwnProperty(t))return this.sanitizedSomething=!0,!MA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!DA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;SE[a]&&(c=Fm(c)),this.buf.push(" ",s,'="',Lb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Fb(e).toLowerCase();Rb.hasOwnProperty(t)&&!EE.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Lb(e))}};OA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TA=/([^\#-~ |!])/g;Ta=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ta||{});kA=/^>|^->|<!--|-->|--!>|<!-$/g,RA=/(<|>)/g,FA="\u200B$1\u200B";Mr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mr||{});eN=XA;lr={};dN=()=>null;eD=[];BN=B(D({},aa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{qu(n.lView)},consumerOnSignalRead(){this.lView[un]=this}});HN=B(D({},aa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Xi(n.lView);for(;e&&!tD(e[ie]);)e=Xi(e);e&&jw(e)},consumerOnSignalRead(){this.lView[un]=this}});zN=100;ro=class{get rootNodes(){let e=this._lView,t=e[ie];return Du(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(e){this._lView[Fn]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Mt];if(xr(e)){let t=e[hu],r=t?t.indexOf(this):-1;r>-1&&(Bg(e,r),cu(t,r))}this._attachedToViewContainer=!1}kE(this._lView[ie],this._lView)}onDestroy(e){Uw(this._lView,e)}markForCheck(){Km(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Sg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,nD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Dg(this._lView),t=this._lView[Zi];t!==null&&!e&&jm(t,this._lView),AE(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let t=Dg(this._lView),r=this._lView[Zi];r!==null&&!t&&NE(r,this._lView),Sg(this._lView)}},io=(()=>{class n{static{this.__NG_ELEMENT_ID__=ZN}}return n})(),YN=io,QN=class extends YN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=RN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ro(i)}};m9=new RegExp(`^(\\d+)*(${dA}|${uA})*(.*)`),JN=()=>null;us=class{},Ym=new L("",{providedIn:"root",factory:()=>!1}),sD=new L(""),aD=new L(""),Wg=class{},Mu=class{};ek="ngComponent",Gg=class{resolveComponentFactory(e){throw XN(e)}},ds=class{static{this.NULL=new Gg}},ui=class{},jn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>tk()}}return n})();nk=(()=>{class n{static{this.\u0275prov=x({token:n,providedIn:"root",factory:()=>null})}}return n})();Iu=class extends ds{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ai(e);return new fs(t,this.ngModule)}};fs=class extends Mu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=qb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return qb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=HP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new xg(e,s):e,c=a.get(ui,null);if(c===null)throw new I(407,!1);let l=a.get(nk,null),u=a.get(us,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?lN(m,r,this.componentDef.encapsulation,a):PE(m,g,rk(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let P=null;_!==null&&(P=Rm(_,a,!0));let $=zm(0,null,null,1,0,null,null,null,null,null,null),se=rd(null,$,null,w,null,null,d,m,a,null,P);Mm(se);let Y,he,We=null;try{let Se=this.componentDef,Le,ct=null;Se.findHostDirectiveDefs?(Le=[],ct=new Map,Se.findHostDirectiveDefs(Se,Le,ct),Le.push(Se)):Le=[Se];let yr=ik(se,_);We=ok(yr,_,Se,Le,se,d,m),he=Fw($,dn),_&&ck(m,Se,_,r),t!==void 0&&lk(he,this.ngContentSelectors,t),Y=ak(We,Se,Le,ct,se,[uk]),Gm($,se,null)}catch(Se){throw We!==null&&Fg(We),Fg(se),Se}finally{Sm()}return new Kg(this.componentType,Y,ms(he,se),se,he)}finally{ye(o)}}},Kg=class extends Wg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ro(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Wm(o[ie],o,i,e,t),this.previousInputValues.set(e,t);let s=fi(this._tNode.index,o);Km(s,1)}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};hi=(()=>{class n{static{this.__NG_ELEMENT_ID__=dk}}return n})();fk=hi,cD=class extends fk{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ms(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=xm(this._hostTNode,this._hostLView);if(tE(e)){let t=mu(e,this._hostLView),r=gu(e),i=t[ie].data[r+8];return new Yi(i,t)}else return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Wb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Hb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!s1(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new fs(ai(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Nt,null);w&&(o=w)}let u=ai(c.componentType??{}),d=zb(this._lContainer,u?.id??null),m=d?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,Hb(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(h1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Mt],l=new cD(c,c[Ln],c[Mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return FN(s,i,o,r),e.attachToViewContainerRef(),fw(ug(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Wb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Bg(this._lContainer,t);r&&(cu(ug(this._lContainer),t),kE(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Bg(this._lContainer,t);return r&&cu(ug(this._lContainer),t)!=null?new ro(r):null}_adjustIndex(e,t=0){return e??this.length+t}};pk=vk,gk=()=>!1;Yg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Qg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Qm(e,t).matches!==null&&this.queries[t].setDirty()}},xu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Mk(e):this.predicate=e}},Zg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,yk(t,o)),this.matchTNodeWithReadOption(e,t,iu(t,e,o,!1,!1))}else r===io?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,iu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yt||i===hi||i===io&&t.type&4)this.addMatch(t.index,-2);else{let o=iu(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};Gb=new Set;Ou=new Map,Pk=new Set;di=class{},Da=class{},Tu=class extends di{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iu(this);let o=bw(e);this._bootstrapComponents=TE(o.bootstrap),this._r3Injector=uE(e,t,[{provide:di,useValue:this},{provide:ds,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Pu=class extends Da{constructor(e){super(),this.moduleType=e}create(e){return new Tu(this.moduleType,e,[])}};em=class extends di{constructor(e){super(),this.componentFactoryResolver=new Iu(this),this.instance=null;let t=new wa([...e.providers,{provide:di,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],e.parent||_m(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};Qk=Zk;ts=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ts||{}),gD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=x({token:n,providedIn:"root",factory:()=>new n})}}return n})(),tm=class n{constructor(){this.ngZone=y(_e),this.scheduler=y(us),this.errorHandler=y(Dr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ts.EarlyRead,ts.Write,ts.MixedReadWrite,ts.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=x({token:n,providedIn:"root",factory:()=>new n})}},nm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};eR={destroy(){}};kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};wR=(n,e,t,r,i,o)=>(Yu(!0),PE(r,i,P1()));DR=(n,e,t,r)=>(Yu(!0),$A(e[Ke],""));Ki=void 0;SR=["en",[["a","p"],["AM","PM"],Ki],[["AM","PM"],Ki,Ki],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ki,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ki,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ki,"{1} 'at' {0}",Ki],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",MR],hg={};Ze=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ze||{});Nu="en-US",xR=Nu;TR=(n,e,t)=>{};NR=(n,e,t,r,i)=>(Yu(!0),UA(e[Ke],r));VR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Dw(!1,t.type),i=r.length>0?sd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=x({token:n,providedIn:"environment",factory:()=>new n(A(Nt))})}}return n})();Xl=null;cd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),ev=new L(""),Na=new L(""),ld=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,tv||(HR(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(A(_e),A(ud),A(Na))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),ud=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return tv?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();bs=new L(""),PD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=y(bs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(gi(o))t.push(o);else if(nv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dd=new L("");WR=10;_n=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(nA),this.afterRenderManager=y(gD),this.zonelessEnabled=y(Ym),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=y(Tr).hasPendingTasks.pipe(j(t=>!t)),this._injector=y(Nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Mu;if(!this._injector.get(PD).done){let m=!i&&Cw(t),g=!1;throw new I(405,g)}let s;i?s=t:s=this._injector.get(ds).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=qR(s)?void 0:this._injector.get(di),c=r||s.selector,l=s.create(et.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(ev,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ou(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ui,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<WR;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)KR(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>zu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ou(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(dd,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ou(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();cm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},fd=(()=>{class n{compileModuleSync(t){return new Pu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=bw(t),o=TE(i.declarations).reduce((s,a)=>{let c=ai(a);return c&&s.push(new fs(c)),s},[]);return new cm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YR=new L("");ZR=(()=>{class n{constructor(){this.zone=y(_e),this.changeDetectionScheduler=y(us),this.applicationRef=y(_n)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();XR=(()=>{class n{constructor(){this.subscription=new je,this.initialized=!1,this.zone=y(_e),this.pendingTasks=y(Tr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eF=(()=>{class n{constructor(){this.appRef=y(_n),this.taskService=y(Tr),this.ngZone=y(_e),this.zonelessEnabled=y(Ym),this.disableScheduling=y(sD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new je,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(aD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ob:fE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ob(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();hd=new L("",{providedIn:"root",factory:()=>y(hd,ae.Optional|ae.SkipSelf)||tF()}),ku=new L("");kD=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>tA(r?.ngZone,B(D({},ND({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[JR({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:us,useExisting:eF}],c=$k(t.moduleType,this.injector,a);return nF({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=AD({},r);return QR(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(ku,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(A(et))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),_a=null,RD=new L("");$n=(()=>{class n{static{this.__NG_ELEMENT_ID__=cF}}return n})();lm=class{constructor(){}supports(e){return pD(e)}create(e){return new um(e)}},uF=(n,e)=>e,um=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ew(r,i,o)?t:r,a=ew(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;u<=_&&_<l&&(o[m]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!pD(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Hk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new dm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ru),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ru),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},fm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ru=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new fm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};iv=(()=>{class n{static{this.\u0275prov=x({token:n,providedIn:"root",factory:tw})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tw()),deps:[[n,new pm,new ju]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new I(901,!1)}}return n})(),LD=rv(null,"core",[]),VD=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(A(_n))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})()});function ur(){return WD}function GD(n){WD??=n}function vv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function UD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Nr(n){return n&&n[0]!=="?"?"?"+n:n}function hF(){return new Es(A(Rr))}function pF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function BD(n){return n.replace(/\/index.html$/,"")}function gF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function mF(n){return gn(n)[Ze.LocaleId]}function vF(n,e,t){let r=gn(n),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],o=Cn(i,e);return Cn(o,t)}function yF(n,e,t){let r=gn(n),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],o=Cn(i,e);return Cn(o,t)}function _F(n,e,t){let r=gn(n),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],o=Cn(i,e);return Cn(o,t)}function CF(n,e){let r=gn(n)[Ze.Eras];return Cn(r,e)}function pd(n,e){let t=gn(n);return Cn(t[Ze.DateFormat],e)}function gd(n,e){let t=gn(n);return Cn(t[Ze.TimeFormat],e)}function md(n,e){let r=gn(n)[Ze.DateTimeFormat];return Cn(r,e)}function Dd(n,e){let t=gn(n),r=t[Ze.NumberSymbols][e];if(typeof r>"u"){if(e===vi.CurrencyDecimal)return t[Ze.NumberSymbols][vi.Decimal];if(e===vi.CurrencyGroup)return t[Ze.NumberSymbols][vi.Group]}return r}function ZD(n){if(!n[Ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bF(n){let e=gn(n);return ZD(e),(e[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?ov(r):[ov(r[0]),ov(r[1])])}function wF(n,e,t){let r=gn(n);ZD(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],o=Cn(i,e)||[];return Cn(o,t)||[]}function Cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function ov(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function MF(n,e,t,r){let i=kF(n);e=Ar(t,e)||e;let s=[],a;for(;e;)if(a=DF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=XD(r,c),i=NF(i,r,!0));let l="";return s.forEach(u=>{let d=PF(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ed(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ar(n,e){let t=mF(n);if(vd[t]??={},vd[t][e])return vd[t][e];let r="";switch(e){case"shortDate":r=pd(n,Zt.Short);break;case"mediumDate":r=pd(n,Zt.Medium);break;case"longDate":r=pd(n,Zt.Long);break;case"fullDate":r=pd(n,Zt.Full);break;case"shortTime":r=gd(n,Zt.Short);break;case"mediumTime":r=gd(n,Zt.Medium);break;case"longTime":r=gd(n,Zt.Long);break;case"fullTime":r=gd(n,Zt.Full);break;case"short":let i=Ar(n,"shortTime"),o=Ar(n,"shortDate");r=yd(md(n,Zt.Short),[i,o]);break;case"medium":let s=Ar(n,"mediumTime"),a=Ar(n,"mediumDate");r=yd(md(n,Zt.Medium),[s,a]);break;case"long":let c=Ar(n,"longTime"),l=Ar(n,"longDate");r=yd(md(n,Zt.Long),[c,l]);break;case"full":let u=Ar(n,"fullTime"),d=Ar(n,"fullDate");r=yd(md(n,Zt.Full),[u,d]);break}return r&&(vd[t][e]=r),r}function yd(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Hn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function SF(n,e){return Hn(n,3).substring(0,e)}function rt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=IF(n,o);if((t>0||a>-t)&&(a+=t),n===De.Hours)a===0&&t===-12&&(a=12);else if(n===De.FractionalSeconds)return SF(a,e);let c=Dd(s,vi.MinusSign);return Hn(a,e,c,r,i)}}function IF(n,e){switch(n){case De.FullYear:return e.getFullYear();case De.Month:return e.getMonth();case De.Date:return e.getDate();case De.Hours:return e.getHours();case De.Minutes:return e.getMinutes();case De.Seconds:return e.getSeconds();case De.FractionalSeconds:return e.getMilliseconds();case De.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Re(n,e,t=Rt.Format,r=!1){return function(i,o){return xF(i,o,n,e,t,r)}}function xF(n,e,t,r,i,o){switch(t){case Ee.Months:return _F(e,i,r)[n.getMonth()];case Ee.Days:return yF(e,i,r)[n.getDay()];case Ee.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=bF(e),u=wF(e,i,r),d=l.findIndex(m=>{if(Array.isArray(m)){let[g,_]=m,w=s>=g.hours&&a>=g.minutes,P=s<_.hours||s===_.hours&&a<_.minutes;if(g.hours<_.hours){if(w&&P)return!0}else if(w||P)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return vF(e,i,r)[s<12?0:1];case Ee.Eras:return CF(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function _d(n){return function(e,t,r){let i=-1*r,o=Dd(t,vi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case kr.Short:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case kr.ShortGMT:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case kr.Long:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case kr.Extended:return r===0?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function TF(n){let e=Ed(n,OF,1).getDay();return Ed(n,0,1+(e<=bd?bd:bd+7)-e)}function JD(n){let e=n.getDay(),t=e===0?-3:bd-e;return Ed(n.getFullYear(),n.getMonth(),n.getDate()+t)}function sv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=JD(t),s=TF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,n,Dd(r,vi.MinusSign))}}function Cd(n,e=!1){return function(t,r){let o=JD(t).getFullYear();return Hn(o,n,Dd(r,vi.MinusSign),e)}}function PF(n){if(av[n])return av[n];let e;switch(n){case"G":case"GG":case"GGG":e=Re(Ee.Eras,Ae.Abbreviated);break;case"GGGG":e=Re(Ee.Eras,Ae.Wide);break;case"GGGGG":e=Re(Ee.Eras,Ae.Narrow);break;case"y":e=rt(De.FullYear,1,0,!1,!0);break;case"yy":e=rt(De.FullYear,2,0,!0,!0);break;case"yyy":e=rt(De.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(De.FullYear,4,0,!1,!0);break;case"Y":e=Cd(1);break;case"YY":e=Cd(2,!0);break;case"YYY":e=Cd(3);break;case"YYYY":e=Cd(4);break;case"M":case"L":e=rt(De.Month,1,1);break;case"MM":case"LL":e=rt(De.Month,2,1);break;case"MMM":e=Re(Ee.Months,Ae.Abbreviated);break;case"MMMM":e=Re(Ee.Months,Ae.Wide);break;case"MMMMM":e=Re(Ee.Months,Ae.Narrow);break;case"LLL":e=Re(Ee.Months,Ae.Abbreviated,Rt.Standalone);break;case"LLLL":e=Re(Ee.Months,Ae.Wide,Rt.Standalone);break;case"LLLLL":e=Re(Ee.Months,Ae.Narrow,Rt.Standalone);break;case"w":e=sv(1);break;case"ww":e=sv(2);break;case"W":e=sv(1,!0);break;case"d":e=rt(De.Date,1);break;case"dd":e=rt(De.Date,2);break;case"c":case"cc":e=rt(De.Day,1);break;case"ccc":e=Re(Ee.Days,Ae.Abbreviated,Rt.Standalone);break;case"cccc":e=Re(Ee.Days,Ae.Wide,Rt.Standalone);break;case"ccccc":e=Re(Ee.Days,Ae.Narrow,Rt.Standalone);break;case"cccccc":e=Re(Ee.Days,Ae.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=Re(Ee.Days,Ae.Abbreviated);break;case"EEEE":e=Re(Ee.Days,Ae.Wide);break;case"EEEEE":e=Re(Ee.Days,Ae.Narrow);break;case"EEEEEE":e=Re(Ee.Days,Ae.Short);break;case"a":case"aa":case"aaa":e=Re(Ee.DayPeriods,Ae.Abbreviated);break;case"aaaa":e=Re(Ee.DayPeriods,Ae.Wide);break;case"aaaaa":e=Re(Ee.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":e=Re(Ee.DayPeriods,Ae.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=Re(Ee.DayPeriods,Ae.Wide,Rt.Standalone,!0);break;case"bbbbb":e=Re(Ee.DayPeriods,Ae.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(Ee.DayPeriods,Ae.Abbreviated,Rt.Format,!0);break;case"BBBB":e=Re(Ee.DayPeriods,Ae.Wide,Rt.Format,!0);break;case"BBBBB":e=Re(Ee.DayPeriods,Ae.Narrow,Rt.Format,!0);break;case"h":e=rt(De.Hours,1,-12);break;case"hh":e=rt(De.Hours,2,-12);break;case"H":e=rt(De.Hours,1);break;case"HH":e=rt(De.Hours,2);break;case"m":e=rt(De.Minutes,1);break;case"mm":e=rt(De.Minutes,2);break;case"s":e=rt(De.Seconds,1);break;case"ss":e=rt(De.Seconds,2);break;case"S":e=rt(De.FractionalSeconds,1);break;case"SS":e=rt(De.FractionalSeconds,2);break;case"SSS":e=rt(De.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=_d(kr.Short);break;case"ZZZZZ":e=_d(kr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_d(kr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=_d(kr.Long);break;default:return null}return av[n]=e,e}function XD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function AF(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function NF(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=XD(e,i);return AF(n,r*(o-i))}function kF(n){if($D(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Ed(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(EF))return RF(r)}let e=new Date(n);if(!$D(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function RF(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function $D(n){return n instanceof Date&&!isNaN(n.valueOf())}function Md(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function zD(n,e){n.context.$implicit=e.item}function qD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${At(e)}'.`)}function eM(n,e){return new I(2100,!1)}function Id(n){return n===_v}function xd(n){return n===BF}function $F(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var WD,wd,dt,mv,KD,fF,Rr,YD,yv,QD,Es,Rt,Ae,Zt,vi,EF,vd,DF,kr,De,Ee,OF,bd,av,cv,HD,dr,lv,fr,me,uv,dv,fv,FF,LF,zt,VF,jF,UF,Sd,tM,_v,BF,nM,hv,pv,ws,Me=p(()=>{"use strict";T();T();WD=null;wd=class{},dt=new L(""),mv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>y(fF),providedIn:"platform"})}}return n})(),KD=new L(""),fF=(()=>{class n extends mv{constructor(){super(),this._doc=y(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Rr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>y(yv),providedIn:"root"})}}return n})(),YD=new L(""),yv=(()=>{class n extends Rr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(mv),A(YD,8))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QD=(()=>{class n extends Rr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=vv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(A(mv),A(YD,8))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),Es=(()=>{class n{constructor(t){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=gF(UD(BD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Nr(r))}normalize(t){return n.stripTrailingSlash(pF(this._basePath,BD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Nr}static{this.joinWithSlash=vv}static{this.stripTrailingSlash=UD}static{this.\u0275fac=function(r){return new(r||n)(A(Rr))}}static{this.\u0275prov=x({token:n,factory:()=>hF(),providedIn:"root"})}}return n})();Rt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Rt||{}),Ae=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ae||{}),Zt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Zt||{}),vi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};EF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vd={},DF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,kr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(kr||{}),De=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(De||{}),Ee=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ee||{});OF=0,bd=4;av={};cv=/\s+/,HD=[],dr=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=HD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(cv):HD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(cv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(cv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(M(yt),M(jn))}}static{this.\u0275dir=le({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),lv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new lv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),zD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);zD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(M(hi),M(io),M(iv))}}static{this.\u0275dir=le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();me=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new uv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(M(hi),M(io))}}static{this.\u0275dir=le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),uv=class{constructor(){this.$implicit=null,this.ngIf=null}};dv=class{createSubscription(e,t){return Qt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Qt(()=>e.unsubscribe())}},fv=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},FF=new fv,LF=new dv,zt=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(gi(t))return FF;if(nv(t))return LF;throw eM(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(M($n,16))}}static{this.\u0275pipe=so({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),VF="mediumDate",jF=new L(""),UF=new L(""),Sd=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??VF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return MF(t,s,o||this.locale,a)}catch(s){throw eM(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(M(hd,16),M(jF,24),M(UF,24))}}static{this.\u0275pipe=so({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),tM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),_v="browser",BF="server";nM=(()=>{class n{static{this.\u0275prov=x({token:n,providedIn:"root",factory:()=>Id(y(Yt))?new hv(y(dt),window):new pv})}}return n})(),hv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=$F(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};pv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ws=class{}});function HF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function rM(n){return encodeURIComponent(n).replace(zF,(e,t)=>qF[t]??e)}function Od(n){return`${n}`}function WF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function iM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oM(n){return typeof Blob<"u"&&n instanceof Blob}function sM(n){return typeof FormData<"u"&&n instanceof FormData}function GF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function Cv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function aM(n){if(n.url)return n.url;let e=QF.toLocaleLowerCase();return n.headers.get(e)}function Dv(){}function JF(n){n.then(Dv,Dv)}function fM(n,e){return e(n)}function XF(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function eL(n,e,t){return(r,i)=>hn(t,()=>e(r,o=>n(o,i)))}function rL(){let n=null;return(e,t)=>{n===null&&(n=(y(tL,{optional:!0})??[]).reduceRight(XF,fM));let r=y(Tr);if(y(hM)){let o=r.add();return n(e,t).pipe(Gt(()=>r.remove(o)))}else return n(e,t)}}function oL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function dL(n,e){let t=n.url.toLowerCase();if(!y(pM)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=y(Ad).getToken(),i=y(lL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function fL(n,e){return{\u0275kind:n,\u0275providers:e}}function hL(...n){let e=[po,lM,cM,{provide:Ra,useExisting:cM},{provide:Td,useFactory:()=>y(ZF,{optional:!0})??y(lM)},{provide:Mv,useValue:dL,multi:!0},{provide:pM,useValue:!0},{provide:Ad,useClass:uL}];for(let t of n)e.push(...t.\u0275providers);return ps(e)}function pL(){return fL(gM.LegacyInterceptors,[{provide:uM,useFactory:rL},{provide:Mv,useExisting:uM,multi:!0}])}var Ra,Td,Fr,bv,zF,qF,_i,wv,ka,Ci,Fa,Pd,La,yi,dM,KF,po,YF,QF,ZF,Ev,tL,Mv,nL,hM,cM,iL,lM,pM,sL,aL,cL,lL,Ad,uL,gM,uM,mM,Va=p(()=>{"use strict";T();T();we();ni();Me();Me();Ra=class{},Td=class{},Fr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},bv=class{encodeKey(e){return rM(e)}encodeValue(e){return rM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};zF=/%(\d[a-f0-9])/gi,qF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};_i=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=HF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Od):[Od(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Od(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Od(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},wv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};ka=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(WF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Fr,this.context??=new wv,!this.params)this.params=new _i,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||iM(this.body)||oM(this.body)||sM(this.body)||GF(this.body)?this.body:this.body instanceof _i?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||sM(this.body)?null:oM(this.body)?this.body.type||null:iM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof _i?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Ci=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ci||{}),Fa=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Fr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pd=class n extends Fa{constructor(e={}){super(e),this.type=Ci.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},La=class n extends Fa{constructor(e={}){super(e),this.type=Ci.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},yi=class extends Fa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dM=200,KF=204;po=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ka)o=t;else{let c;i.headers instanceof Fr?c=i.headers:c=new Fr(i.headers);let l;i.params&&(i.params instanceof _i?l=i.params:l=new _i({fromObject:i.params})),o=new ka(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=V(o).pipe(an(c=>this.handler.handle(c)));if(t instanceof ka||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof La));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new _i().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Cv(i,r))}post(t,r,i={}){return this.request("POST",t,Cv(i,r))}put(t,r,i={}){return this.request("PUT",t,Cv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(A(Ra))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),YF=/^\)\]\}',?\n/,QF="X-Request-URL";ZF=(()=>{class n{constructor(){this.fetchImpl=y(Ev,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=y(_e)}handle(t){return new ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Dv,o=>r.error(new yi({error:o}))),()=>i.abort()})}doRequest(t,r,i){return O(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,D({signal:r},o)));JF(g),i.next({type:Ci.Sent}),s=yield g}catch(g){i.error(new yi({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Fr(s.headers),c=s.statusText,l=aM(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new Pd({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),_=[],w=s.body.getReader(),P=0,$,se,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>O(this,null,function*(){for(;;){let{done:We,value:Se}=yield w.read();if(We)break;if(_.push(Se),P+=Se.length,t.reportProgress){se=t.responseType==="text"?(se??"")+($??=new TextDecoder).decode(Se,{stream:!0}):void 0;let Le=()=>i.next({type:Ci.DownloadProgress,total:g?+g:void 0,loaded:P,partialText:se});Y?Y.run(Le):Le()}}}));let he=this.concatChunks(_,P);try{let We=s.headers.get("Content-Type")??"";d=this.parseBody(t,he,We)}catch(We){i.error(new yi({error:We,headers:new Fr(s.headers),status:s.status,statusText:s.statusText,url:aM(s)??t.urlWithParams}));return}}u===0&&(u=d?dM:0),u>=200&&u<300?(i.next(new La({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new yi({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(YF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),Ev=class{};tL=new L(""),Mv=new L(""),nL=new L(""),hM=new L("",{providedIn:"root",factory:()=>!0});cM=(()=>{class n extends Ra{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=y(Tr),this.contributeToStability=y(hM)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Mv),...this.injector.get(nL,[])]));this.chain=r.reduceRight((i,o)=>eL(i,o,this.injector),fM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Gt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(A(Td),A(Nt))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),iL=/^\)\]\}',?\n/;lM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new I(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?W(r.\u0275loadImpl()):V(null)).pipe(ke(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,P)=>s.setRequestHeader(w,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let w=s.statusText||"OK",P=new Fr(s.getAllResponseHeaders()),$=oL(s)||t.url;return c=new Pd({headers:P,status:s.status,statusText:w,url:$}),c},u=()=>{let{headers:w,status:P,statusText:$,url:se}=l(),Y=null;P!==KF&&(Y=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=Y?dM:0);let he=P>=200&&P<300;if(t.responseType==="json"&&typeof Y=="string"){let We=Y;Y=Y.replace(iL,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Se){Y=We,he&&(he=!1,Y={error:Se,text:Y})}}he?(o.next(new La({body:Y,headers:w,status:P,statusText:$,url:se||void 0})),o.complete()):o.error(new yi({error:Y,headers:w,status:P,statusText:$,url:se||void 0}))},d=w=>{let{url:P}=l(),$=new yi({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error($)},m=!1,g=w=>{m||(o.next(l()),m=!0);let P={type:Ci.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},_=w=>{let P={type:Ci.UploadProgress,loaded:w.loaded};w.lengthComputable&&(P.total=w.total),o.next(P)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Ci.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(A(ws))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),pM=new L(""),sL="XSRF-TOKEN",aL=new L("",{providedIn:"root",factory:()=>sL}),cL="X-XSRF-TOKEN",lL=new L("",{providedIn:"root",factory:()=>cL}),Ad=class{},uL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Md(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Yt),A(aL))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})();gM=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(gM||{});uM=new L("");mM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[hL(pL())]})}}return n})()});function gL(){return ja=ja||document.querySelector("base"),ja?ja.getAttribute("href"):null}function mL(n){return new URL(n,document.baseURI).pathname}function wL(n){return _L.replace(kv,n)}function EL(n){return yL.replace(kv,n)}function wM(n,e){return e.map(t=>t.replace(kv,n))}function vM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function xL(){Tv.makeCurrent()}function OL(){return new Dr}function TL(){return _E(document),document}var Ov,Tv,ja,Pv,vL,Av,_M,Nd,Iv,CM,xv,kv,bM,yL,_L,CL,bL,kd,Ua,Nv,Ba,Rd,DL,yM,ML,SL,IL,PL,EM,AL,NL,kL,Fd,DM,$a=p(()=>{"use strict";Me();T();T();Ov=class extends wd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tv=class n extends Ov{static makeCurrent(){GD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=gL();return t==null?null:mL(t)}resetBaseElement(){ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Md(document.cookie,e)}},ja=null;Pv=class{addToWindow(e){mt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new I(5103,!1);return o},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=mt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?ur().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},vL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),Av=new L(""),_M=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(A(Av),A(_e))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),Nd=class{constructor(e){this._doc=e}},Iv="ng-app-id",CM=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Iv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Iv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Iv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(Zu),A(km,8),A(Yt))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),xv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kv=/%COMP%/g,bM="%COMP%",yL=`_nghost-${bM}`,_L=`_ngcontent-${bM}`,CL=!0,bL=new L("",{providedIn:"root",factory:()=>CL});kd=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=xd(a),this.defaultRenderer=new Ua(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===or.ShadowDom&&(r=B(D({},r),{encapsulation:or.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Rd?i.applyToHost(t):i instanceof Ba&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case or.Emulated:o=new Rd(c,l,r,this.appId,u,s,a,d);break;case or.ShadowDom:return new Nv(c,l,t,r,s,a,this.nonce,d);default:o=new Ba(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(A(_M),A(CM),A(Zu),A(bL),A(dt),A(Yt),A(_e),A(km))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),Ua=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(xv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=xv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=xv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mr.DashCase|Mr.Important)?e.style.setProperty(t,r,i&Mr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};Nv=class extends Ua{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=wM(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends Ua{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?wM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rd=class extends Ba{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=wL(l),this.hostAttr=EL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},DL=(()=>{class n extends Nd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),yM=["alt","control","meta","shift"],ML={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},IL=(()=>{class n extends Nd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yM.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=ML[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yM.forEach(s=>{if(s!==i){let a=SL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})();PL=[{provide:Yt,useValue:_v},{provide:Am,useValue:xL,multi:!0},{provide:dt,useFactory:TL,deps:[]}],EM=rv(LD,"browser",PL),AL=new L(""),NL=[{provide:Na,useClass:Pv,deps:[]},{provide:ev,useClass:ld,deps:[_e,ud,Na]},{provide:ld,useClass:ld,deps:[_e,ud,Na]}],kL=[{provide:Uu,useValue:"root"},{provide:Dr,useFactory:OL,deps:[]},{provide:Av,useClass:DL,multi:!0,deps:[dt,_e,Yt]},{provide:Av,useClass:IL,multi:!0,deps:[dt]},kd,CM,_M,{provide:ui,useExisting:kd},{provide:ws,useClass:vL,deps:[]},[]],Fd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Zu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(A(AL,12))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[...kL,...NL],imports:[tM,VD]})}}return n})(),DM=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(A(dt))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function Os(n){return new jv(n)}function RL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function FL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hr(n[t],e[t]))return!1;return!0}function hr(n,e){let t=n?Uv(n):void 0,r=e?Uv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!FM(n[i],e[i]))return!1;return!0}function Uv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function LM(n){return n.length>0?n[n.length-1]:null}function Ei(n){return Ap(n)?n:gi(n)?W(Promise.resolve(n)):V(n)}function SM(n,e,t){return LL[t.paths](n.root,e.root,t.matrixParams)&&VM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function VL(n,e){return hr(n,e)}function jM(n,e,t){if(!mo(n.segments,e.segments)||!jd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!jM(n.children[r],e.children[r],t))return!1;return!0}function jL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>FM(n[t],e[t]))}function UM(n,e,t){return BM(n,e,e.segments,t)}function BM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!mo(i,t)||e.hasChildren()||!jd(i,t,r))}else if(n.segments.length===t.length){if(!mo(n.segments,t)||!jd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!UM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!mo(n.segments,i)||!jd(n.segments,i,r)||!n.children[oe]?!1:BM(n.children[oe],e,o,r)}}function jd(n,e,t){return e.every((r,i)=>VM[t](n[i].parameters,r.parameters))}function UL(n,e){return mo(n,e)&&n.every((t,r)=>hr(t.parameters,e[r].parameters))}function mo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function BL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}function Ud(n){return n.segments.map(e=>HM(e)).join("/")}function Ha(n,e){if(!n.hasChildren())return Ud(n);if(e){let t=n.children[oe]?Ha(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Ha(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=BL(n,(r,i)=>i===oe?[Ha(n.children[oe],!1)]:[`${i}:${Ha(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Ud(n)}/${t[0]}`:`${Ud(n)}/(${t.join("//")})`}}function $M(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ld(n){return $M(n).replace(/%3B/gi,";")}function HL(n){return encodeURI(n)}function Bv(n){return $M(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bd(n){return decodeURIComponent(n)}function IM(n){return Bd(n.replace(/\+/g,"%20"))}function HM(n){return`${Bv(n.path)}${zL(n.parameters)}`}function zL(n){return Object.entries(n).map(([e,t])=>`;${Bv(e)}=${Bv(t)}`).join("")}function qL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ld(t)}=${Ld(i)}`).join("&"):`${Ld(t)}=${Ld(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function Rv(n){let e=n.match(WL);return e?e[0]:""}function KL(n){let e=n.match(GL);return e?e[0]:""}function QL(n){let e=n.match(YL);return e?e[0]:""}function JL(n){let e=n.match(ZL);return e?e[0]:""}function zM(n){return n.segments.length>0?new xe([],{[oe]:n}):n}function qM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=qM(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return XL(t)}function XL(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new xe(n.segments.concat(e.segments),e.children)}return n}function vo(n){return n instanceof Vr}function e2(n,e,t=null,r=null){let i=WM(n);return GM(i,e,t,r)}function WM(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=zM(r);return e??i}function GM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Fv(i,i,i,t,r);let o=t2(e);if(o.toRoot())return Fv(i,i,new xe([],{}),t,r);let s=n2(o,i,n),a=s.processChildren?Wa(s.segmentGroup,s.index,o.commands):YM(s.segmentGroup,s.index,o.commands);return Fv(i,s.segmentGroup,a,t,r)}function $d(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ya(n){return typeof n=="object"&&n!=null&&n.outlets}function Fv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=KM(n,e,t);let a=zM(qM(s));return new Vr(a,o,i)}function KM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=KM(o,e,t)}),new xe(n.segments,r)}function t2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Hd(t,e,r)}function n2(n,e,t){if(n.isAbsolute)return new Ss(e,!0,0);if(!t)return new Ss(e,!1,NaN);if(t.parent===null)return new Ss(t,!0,0);let r=$d(n.commands[0])?0:1,i=t.segments.length-1+r;return r2(t,i,n.numberOfDoubleDots)}function r2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Ss(r,!1,i-o)}function i2(n){return Ya(n[0])?n[0].outlets:{[oe]:n}}function YM(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return Wa(n,e,t);let r=o2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new xe(n.segments.slice(r.pathIndex),n.children),Wa(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?Hv(n,e,t):r.match?Wa(n,0,i):Hv(n,e,t)}function Wa(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=i2(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=Wa(n.children[oe],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=YM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function o2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ya(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!OM(c,l,s))return o;r+=2}else{if(!OM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ya(o)){let c=s2(o.outlets);return new xe(r,c)}if(i===0&&$d(t[0])){let c=n.segments[e];r.push(new go(c.path,xM(t[0]))),i++;continue}let s=Ya(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&$d(a)?(r.push(new go(s,xM(a))),i+=2):(r.push(new go(s,{})),i++)}return new xe(r,{})}function s2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Hv(new xe([],{}),0,r))}),e}function xM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function OM(n,e,t){return n==t.path&&hr(e,t.parameters)}function a2(n,e){return n.providers&&!n._injector&&(n._injector=sd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zn(n){return n.outlet||oe}function c2(n,e){let t=n.filter(r=>zn(r)===e);return t.push(...n.filter(r=>zn(r)!==e)),t}function ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function ty(n,e){if(n===e.value)return e;for(let t of e.children){let r=ty(n,t);if(r)return r}return null}function ny(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ny(n,t);if(r.length)return r.unshift(e),r}return[]}function Ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function QM(n){let e=l2(n),t=new fe([new go("",{})]),r=new fe({}),i=new fe({}),o=new fe({}),s=new fe(""),a=new Ft(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new Kd(new Jt(a,[]),e)}function l2(n){let e={},t={},r={},i="",o=new Is([],e,r,i,t,oe,n,null,{});return new Qd("",new Jt(o,[]))}function Yd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),n.params),data:D(D({},e.data),n.data),resolve:D(D(D(D({},n.data),e.data),i?.data),n._resolvedData)}:r={params:D({},n.params),data:D({},n.data),resolve:D(D({},n.data),n._resolvedData??{})},i&&JM(i)&&(r.resolve[nc]=i.title),r}function dy(n,e){e.value._routerState=n,e.children.forEach(t=>dy(n,t))}function ZM(n){let e=n.children.length>0?` { ${n.children.map(ZM).join(", ")} } `:"";return`${n.value}${e}`}function Lv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hr(e.params,t.params)||n.paramsSubject.next(t.params),FL(e.url,t.url)||n.urlSubject.next(t.url),hr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ry(n,e){let t=hr(n.params,e.params)&&UL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ry(n.parent,e.parent))}function JM(n){return typeof n.title=="string"||n.title===null}function u2(n,e,t){let r=Ja(n,e._root,t?t._root:void 0);return new Kd(r,e)}function Ja(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=d2(n,e,t);return new Jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ja(n,a)),s}}let r=f2(e.value),i=e.children.map(o=>Ja(n,o));return new Jt(r,i)}}function d2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ja(n,r,i);return Ja(n,r)})}function f2(n){return new Ft(new fe(n.url),new fe(n.params),new fe(n.queryParams),new fe(n.fragment),new fe(n.data),n.outlet,n.component,n)}function Zd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eS(!1,Xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function eS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[XM]=!0,t.cancellationCode=e,t}function h2(n){return tS(n)&&vo(n.url)}function tS(n){return!!n&&n[XM]}function g2(n,e,t){let r=n._root,i=e?e._root:null;return za(r,i,t,[r.value])}function m2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ns(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!ow(n)?n:e.get(n):r}function za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ms(e);return n.children.forEach(s=>{v2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ka(a,t.getContext(s),i)),i}function v2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=y2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?za(n,e,a?a.children:null,r,i):za(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xs(a.outlet.component,s))}else s&&Ka(e,a,i),i.canActivateChecks.push(new Jd(r)),o.component?za(n,null,a?a.children:null,r,i):za(n,null,t,r,i);return i}function y2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!mo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mo(n.url,e.url)||!hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ry(n,e)||!hr(n.queryParams,e.queryParams);case"paramsChange":default:return!ry(n,e)}}function Ka(n,e,t){let r=Ms(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ka(s,e.children.getContext(o),t):Ka(s,null,t):Ka(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new xs(e.outlet.component,i)):t.canDeactivateChecks.push(new xs(null,i)):t.canDeactivateChecks.push(new xs(null,i))}function sc(n){return typeof n=="function"}function _2(n){return typeof n=="boolean"}function C2(n){return n&&sc(n.canLoad)}function b2(n){return n&&sc(n.canActivate)}function w2(n){return n&&sc(n.canActivateChild)}function E2(n){return n&&sc(n.canDeactivate)}function D2(n){return n&&sc(n.canMatch)}function nS(n){return n instanceof An||n?.name==="EmptyError"}function As(){return ke(n=>pa(n.map(e=>e.pipe(be(1),Jp(Vd)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Vd)return Vd;if(t===!1||M2(t))return t}return!0}),Ne(e=>e!==Vd),be(1)))}function M2(n){return vo(n)||n instanceof Xa}function S2(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?V(B(D({},t),{guardsResult:!0})):I2(s,r,i,n).pipe(Be(a=>a&&_2(a)?x2(r,o,n,e):V(a)),j(a=>B(D({},t),{guardsResult:a})))})}function I2(n,e,t,r){return W(n).pipe(Be(i=>N2(i.component,i.route,t,e,r)),nr(i=>i!==!0,!0))}function x2(n,e,t,r){return W(e).pipe(an(i=>tr(T2(i.route.parent,r),O2(i.route,r),A2(n,i.path,t),P2(n,i.route,t))),nr(i=>i!==!0,!0))}function O2(n,e){return n!==null&&e&&e(new Jv(n)),V(!0)}function T2(n,e){return n!==null&&e&&e(new Qv(n)),V(!0)}function P2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(o=>Wi(()=>{let s=ic(e)??t,a=Ns(o,s),c=b2(a)?a.canActivate(e,n):hn(s,()=>a(e,n));return Ei(c).pipe(nr())}));return V(i).pipe(As())}function A2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>m2(s)).filter(s=>s!==null).map(s=>Wi(()=>{let a=s.guards.map(c=>{let l=ic(s.node)??t,u=Ns(c,l),d=w2(u)?u.canActivateChild(r,n):hn(l,()=>u(r,n));return Ei(d).pipe(nr())});return V(a).pipe(As())}));return V(o).pipe(As())}function N2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return V(!0);let s=o.map(a=>{let c=ic(e)??i,l=Ns(a,c),u=E2(l)?l.canDeactivate(n,e,t,r):hn(c,()=>l(n,e,t,r));return Ei(u).pipe(nr())});return V(s).pipe(As())}function k2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let o=i.map(s=>{let a=Ns(s,n),c=C2(a)?a.canLoad(e,t):hn(n,()=>a(e,t));return Ei(c)});return V(o).pipe(As(),rS(r))}function rS(n){return fp(ne(e=>{if(typeof e!="boolean")throw Zd(n,e)}),j(e=>e===!0))}function R2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let o=i.map(s=>{let a=Ns(s,n),c=D2(a)?a.canMatch(e,t):hn(n,()=>a(e,t));return Ei(c)});return V(o).pipe(As(),rS(r))}function Ds(n){return Xe(new ec(n))}function F2(n){return Xe(new I(4e3,!1))}function L2(n){return Xe(eS(!1,Xt.GuardRejected))}function V2(n,e,t,r,i){let o=iS(n,e,t);return o.matched?(r=a2(e,r),R2(r,e,t,i).pipe(j(s=>s===!0?o:D({},ay)))):V(o)}function iS(n,e,t){if(e.path==="**")return j2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?D({},ay):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||RL)(t,n,e);if(!i)return D({},ay);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function j2(n){return{matched:!0,parameters:n.length>0?LM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function PM(n,e,t,r){return t.length>0&&$2(n,t,r)?{segmentGroup:new xe(e,B2(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&H2(n,t,r)?{segmentGroup:new xe(n.segments,U2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function U2(n,e,t,r){let i={};for(let o of t)if(nf(n,e,o)&&!r[zn(o)]){let s=new xe([],{});i[zn(o)]=s}return D(D({},r),i)}function B2(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&zn(r)!==oe){let i=new xe([],{});t[zn(r)]=i}return t}function $2(n,e,t){return t.some(r=>nf(n,e,r)&&zn(r)!==oe)}function H2(n,e,t){return t.some(r=>nf(n,e,r))}function nf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function z2(n,e,t){return e.length===0&&!n.children[t]}function q2(n,e,t,r,i,o,s="emptyOnly"){return new ly(n,e,t,r,i,s,o).recognize()}function G2(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function K2(n){let e=n.value.routeConfig;return e&&e.path===""}function oS(n){let e=[],t=new Set;for(let r of n){if(!K2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=oS(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!t.has(r))}function AM(n){return n.data||{}}function NM(n){return n.resolve||{}}function Y2(n,e,t,r,i,o){return Be(s=>q2(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>B(D({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Q2(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of sS(c))s.add(l);let a=0;return W(s).pipe(an(c=>o.has(c)?Z2(c,r,n,e):(c.data=Yd(c,c.parent,n).resolve,V(void 0))),ne(()=>a++),Zo(1),Be(c=>a===s.size?V(t):Tt))})}function sS(n){let e=n.children.map(t=>sS(t)).flat();return[n,...e]}function Z2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!JM(i)&&(o[nc]=i.title),J2(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=Yd(n,n.parent,t).resolve,null)))}function J2(n,e,t,r){let i=Uv(n);if(i.length===0)return V({});let o={};return W(i).pipe(Be(s=>X2(n[s],e,t,r).pipe(nr(),ne(a=>{if(a instanceof Xa)throw Zd(new Ts,a);o[s]=a}))),Zo(1),ma(o),ue(s=>nS(s)?Tt:Xe(s)))}function X2(n,e,t,r){let i=ic(e)??r,o=Ns(n,i),s=o.resolve?o.resolve(e,t):hn(i,()=>o(e,t));return Ei(s)}function Vv(n){return ke(e=>{let t=n(e);return t?W(t).pipe(j(()=>e)):V(e)})}function fy(n){let e=n.children&&n.children.map(fy),t=e?B(D({},n),{children:e}):D({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=tV),t}function nV(n,e,t,r){return Ei(n.loadChildren()).pipe(j(cS),Be(i=>i instanceof Da||Array.isArray(i)?V(i):W(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Xd,[],{optional:!0,self:!0}).flat()),{routes:s.map(fy),injector:o}}))}function rV(n){return n&&typeof n=="object"&&"default"in n}function cS(n){return rV(n)?n.default:n}function oV(n,e,t){let r=n.get(uS),i=n.get(dt);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),sV(n))),{onViewTransitionCreated:c}=r;return c&&hn(n,()=>c({transition:a,from:e,to:t})),s})}function sV(n){return new Promise(e=>{Xm({read:()=>setTimeout(e)},{injector:n})})}function cV(n){return n!==Ga}function fS(n,e){n.events.pipe(Ne(t=>t instanceof en||t instanceof Lr||t instanceof Qa||t instanceof wi),j(t=>t instanceof en||t instanceof wi?qa.COMPLETE:(t instanceof Lr?t.code===Xt.Redirect||t.code===Xt.SupersededByNewNavigation:!1)?qa.REDIRECTING:qa.FAILED),Ne(t=>t!==qa.REDIRECTING),be(1)).subscribe(()=>{e()})}function fV(n){throw n}function gV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new I(4008,!1)}function mV(n){return!(n instanceof Za)&&!(n instanceof Ps)}function vV(n){return!!n.paths}function CV(n){return n.routerState.root}function cc(n,e){return{\u0275kind:n,\u0275providers:e}}function bV(){let n=y(et);return e=>{let t=n.get(_n);if(e!==t.components[0])return;let r=n.get(Te),i=n.get(gS);n.get(my)===1&&r.initialNavigation(),n.get(mS,null,ae.Optional)?.setUpPreloading(),n.get(pS,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function wV(){return cc(2,[{provide:my,useValue:0},{provide:bs,multi:!0,deps:[et],useFactory:e=>{let t=e.get(KD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(gS);fS(i,()=>{r(!0)}),e.get(gy).afterPreactivation=()=>(r(!0),o.closed?V(void 0):o),i.initialNavigation()}))}}])}function EV(){return cc(3,[{provide:bs,multi:!0,useFactory:()=>{let e=y(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:my,useValue:2}])}function DV(n){return cc(0,[{provide:mS,useExisting:yV},{provide:ef,useExisting:n}])}function MV(){return cc(8,[TM,{provide:tf,useExisting:TM}])}function SV(n){let e=[{provide:lS,useValue:oV},{provide:uS,useValue:D({skipNextTransition:!!n?.skipInitialTransition},n)}];return cc(9,e)}function xV(){return{provide:pS,useFactory:()=>{let n=y(nM),e=y(_e),t=y(ac),r=y(gy),i=y(rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new _V(i,r,n,e,t)}}}function OV(){return{provide:Rr,useClass:QD}}function TV(){return{provide:Rr,useClass:yv}}function PV(n){return"guarded"}function AV(n){return[n.initialNavigation==="disabled"?EV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?wV().\u0275providers:[]]}function NV(){return[{provide:RM,useFactory:bV},{provide:dd,multi:!0,useExisting:RM}]}var oe,nc,jv,LL,VM,Vr,xe,go,rc,Ts,$L,WL,GL,YL,ZL,$v,Hd,Ss,Ga,ft,bn,bi,en,Xt,zd,Lr,wi,Qa,qd,zv,qv,Wv,Gv,Kv,Yv,Qv,Zv,Jv,Xv,Wd,Za,Ps,ey,oc,Gd,Jt,Kd,Ft,Is,Qd,qn,iy,tf,TM,Xa,XM,p2,oy,Jd,xs,Vd,ec,tc,sy,ay,cy,W2,ly,aS,eV,ac,tV,Xd,hy,py,iV,lS,uS,aV,gy,lV,uy,uV,dS,dV,qa,hV,pV,Te,wn,hS,ef,yV,pS,_V,gS,my,mS,kM,IV,vy,RM,at=p(()=>{"use strict";T();T();we();Me();Me();ni();$a();oe="primary",nc=Symbol("RouteTitle"),jv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};LL={exact:jM,subset:UM},VM={exact:VL,subset:jL,ignored:()=>!0};Vr=class{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Os(this.queryParams),this._queryParamMap}toString(){return $L.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ud(this)}},go=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Os(this.parameters),this._parameterMap}toString(){return HM(this)}};rc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>new Ts,providedIn:"root"})}}return n})(),Ts=class{parse(e){let t=new $v(e);return new Vr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ha(e.root,!0)}`,r=qL(e.queryParams),i=typeof e.fragment=="string"?`#${HL(e.fragment)}`:"";return`${t}${r}${i}`}},$L=new Ts;WL=/^[^\/()?;#]+/;GL=/^[^\/()?;=#]+/;YL=/^[^=?&#]+/;ZL=/^[^&#]+/;$v=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new xe(e,t)),r}parseSegment(){let e=Rv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new go(Bd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=KL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Rv(this.remaining);i&&(r=i,this.capture(r))}e[Bd(t)]=Bd(r)}parseQueryParam(e){let t=QL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=JL(this.remaining);s&&(r=s,this.capture(r))}let i=IM(t),o=IM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};Hd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$d(r[0]))throw new I(4003,!1);let i=r.find(Ya);if(i&&i!==LM(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Ss=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};Ga="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),bn=class{constructor(e,t){this.id=e,this.url=t}},bi=class extends bn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends bn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),zd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zd||{}),Lr=class extends bn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wi=class extends bn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},Qa=class extends bn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qd=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zv=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class extends bn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wv=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class extends bn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Za=class{},Ps=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};ey=class{get injector(){return ic(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new oc(this.rootInjector),this.attachRef=null}},oc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ey(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(A(Nt))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ty(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ty(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ny(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ny(e,this._root).map(t=>t.value)}};Jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Kd=class extends Gd{constructor(e,t){super(e),this.snapshot=t,dy(this,e)}toString(){return this.snapshot.toString()}};Ft=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[nc]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>Os(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>Os(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};Is=class{get title(){return this.data?.[nc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Os(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Os(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Qd=class extends Gd{constructor(e,t){super(t),this.url=e,dy(this,t)}toString(){return ZM(this._root)}};qn=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=y(oc),this.location=y(hi),this.changeDetector=y($n),this.inputBinder=y(tf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new iy(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vn]})}}return n})(),iy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ft?this.route:e===oc?this.childContexts:this.parent.get(e,t)}},tf=new L(""),TM=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=pa([r.queryParams,r.params,r.data]).pipe(ke(([o,s,a],c)=>(a=D(D(D({},o),s),a),c===0?V(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=jD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})();Xa=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},XM="ngNavigationCancelingError";p2=(n,e,t,r)=>j(i=>(new oy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),oy=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Lv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ms(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ms(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Lv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xs=class{constructor(e,t){this.component=e,this.route=t}};Vd=Symbol("INITIAL_VALUE");ec=class{constructor(e){this.segmentGroup=e||null}},tc=class extends Error{constructor(e){super(),this.urlTree=e}};sy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[oe])return F2(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,params:g,data:_,title:w}=i,P=hn(o,()=>a({params:g,data:_,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:m,title:w}));if(P instanceof Vr)throw new tc(P);t=P}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new tc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Vr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},ay={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};cy=class{};W2=31,ly=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=PM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new Jt(r,t),o=new Qd("",i),s=e2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Is([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(j(r=>({children:r,rootSnapshot:t})),ue(r=>{if(r instanceof tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ec?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof Jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return W(o).pipe(an(s=>{let a=r.children[s],c=c2(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Qp((s,a)=>(s.push(...a),s)),ti(null),Gp(),Be(s=>{if(s===null)return Ds(r);let a=oS(s);return G2(a),V(a)}))}processSegment(e,t,r,i,o,s,a){return W(t).pipe(an(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ue(l=>{if(l instanceof ec)return V(null);throw l}))),nr(c=>!!c),ue(c=>{if(nS(c))return z2(r,i,o)?V(new cy):Ds(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return zn(r)!==s&&(s===oe||!nf(i,o,r))?Ds(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ds(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:m}=iS(t,i,o);if(!c)return Ds(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>W2&&(this.allowRedirects=!1));let g=new Is(o,l,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,AM(i),zn(i),i.component??i._loadedComponent??null,i,NM(i)),_=Yd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let w=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(Be(P=>this.processSegment(e,r,t,P.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=V2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ke(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ke(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:m,remainingSegments:g}=c,_=new Is(m,d,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,AM(r),zn(r),r.component??r._loadedComponent??null,r,NM(r)),w=Yd(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(w.params),_.data=Object.freeze(w.data);let{segmentGroup:P,slicedSegments:$}=PM(t,m,g,l);if($.length===0&&P.hasChildren())return this.processChildren(u,l,P,_).pipe(j(Y=>new Jt(_,Y)));if(l.length===0&&$.length===0)return V(new Jt(_,[]));let se=zn(r)===o;return this.processSegment(u,l,P,$,se?oe:o,!0,_).pipe(j(Y=>new Jt(_,Y instanceof Jt?[Y]:[])))}))):Ds(t)))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?V({routes:t._loadedRoutes,injector:t._loadedInjector}):k2(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):L2(t))):V({routes:[],injector:e})}};aS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[nc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>y(eV),providedIn:"root"})}}return n})(),eV=(()=>{class n extends aS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(A(DM))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ac=new L("",{providedIn:"root",factory:()=>({})}),tV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],standalone:!0,features:[ID],decls:1,vars:0,template:function(r,i){r&1&&k(0,"router-outlet")},dependencies:[qn],encapsulation:2})}}return n})();Xd=new L(""),hy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(fd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ei(t.loadComponent()).pipe(j(cS),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Gt(()=>{this.componentLoaders.delete(t)})),i=new ei(r,()=>new ge).pipe(Uo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=nV(r,this.compiler,t,this.onLoadEndListener).pipe(Gt(()=>{this.childrenLoaders.delete(r)})),s=new ei(o,()=>new ge).pipe(Uo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();py=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>y(iV),providedIn:"root"})}}return n})(),iV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lS=new L(""),uS=new L("");aV=new L(""),gy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=y(hy),this.environmentInjector=y(Nt),this.urlSerializer=y(rc),this.rootContexts=y(oc),this.location=y(Es),this.inputBindingEnabled=y(tf,{optional:!0})!==null,this.titleStrategy=y(aS),this.options=y(ac,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(py),this.createViewTransition=y(lS,{optional:!0}),this.navigationErrorHandler=y(aV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Kv(i)),r=i=>this.events.next(new Yv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(B(D(D({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new fe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ga,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),j(o=>B(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ke(o=>{let s=!1,a=!1;return V(o).pipe(ke(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?B(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new wi(c.id,this.urlSerializer.serialize(c.rawUrl),d,zd.IgnoredSameUrlNavigation)),c.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(ke(d=>{let m=this.transitions?.getValue();return this.events.next(new bi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?Tt:Promise.resolve(d)}),Y2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=B(D({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new qd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:g,restoredState:_,extras:w}=c,P=new bi(d,this.urlSerializer.serialize(m),g,_);this.events.next(P);let $=QM(this.rootComponentType).snapshot;return this.currentTransition=o=B(D({},c),{targetSnapshot:$,urlAfterRedirects:m,extras:B(D({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,V(o)}else{let d="";return this.events.next(new wi(c.id,this.urlSerializer.serialize(c.extractedUrl),d,zd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Tt}}),ne(c=>{let l=new zv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=B(D({},c),{guards:g2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),S2(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Zd(this.urlSerializer,c.guardsResult);let l=new qv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Xt.GuardRejected),!1)),Vv(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(ne(l=>{let u=new Wv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ke(l=>{let u=!1;return V(l).pipe(Q2(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),ne(l=>{let u=new Gv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Vv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(m=>{u.component=m}),j(()=>{})));for(let m of u.children)d.push(...l(m));return d};return pa(l(c.targetSnapshot.root)).pipe(ti(null),be(1))}),Vv(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?W(u).pipe(j(()=>o)):V(o)}),j(c=>{let l=u2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=B(D({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new Za)}),p2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),be(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ln(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),Gt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ue(c=>{if(a=!0,tS(c))this.events.next(new Lr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),h2(c)?this.events.next(new Ps(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Qa(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=hn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Xa){let{message:d,cancellationCode:m}=Zd(this.urlSerializer,u);this.events.next(new Lr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,m)),this.events.next(new Ps(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new Lr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();lV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>y(uV),providedIn:"root"})}}return n})(),uy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},uV=(()=>{class n extends uy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:()=>y(dV),providedIn:"root"})}}return n})(),dV=(()=>{class n extends dS{constructor(){super(...arguments),this.location=y(Es),this.urlSerializer=y(rc),this.options=y(ac,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(py),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=QM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof bi)this.stateMemento=this.createStateMemento();else if(t instanceof wi)this.rawUrlTree=r.initialUrl;else if(t instanceof qd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Za?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Lr&&(t.code===Xt.GuardRejected||t.code===Xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Qa?this.restoreHistory(r,!0):t instanceof en&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Vr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=D(D({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=D(D({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qa||{});hV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(cd),this.stateManager=y(dS),this.options=y(ac,{optional:!0})||{},this.pendingTasks=y(Tr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(gy),this.urlSerializer=y(rc),this.location=y(Es),this.urlHandlingStrategy=y(py),this._events=new ge,this.errorHandler=this.options.errorHandler||fV,this.navigated=!1,this.routeReuseStrategy=y(lV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Xd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(tf,{optional:!0}),this.eventsSubscription=new je,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Lr&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof en)this.navigated=!0;else if(r instanceof Ps){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=D({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cV(i.source)},s);this.scheduleNavigation(a,Ga,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ga,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=D({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(fy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let m=i?i.snapshot:this.routerState.snapshot.root;d=WM(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return GM(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=vo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ga,null,r)}navigate(t,r={skipLocationChange:!1}){return gV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=D({},hV):r===!1?i=D({},pV):i=r,vo(t))return SM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return SM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,m)=>{a=d,c=m});let u=this.pendingTasks.add();return fS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();wn=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof en&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:OE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:vo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(M(Te),M(Ft),Om("tabindex"),M(jn),M(yt),M(Rr))}}static{this.\u0275dir=le({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&S("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mi],replaceUrl:[2,"replaceUrl","replaceUrl",mi],routerLink:"routerLink"},standalone:!0,features:[Zm,Vn]})}}return n})(),hS=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new X,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof en&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(er()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=W(t).pipe(er()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=vV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(M(Te),M(yt),M(jn),M($n),M(wn,8))}}static{this.\u0275dir=le({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&MD(o,wn,5),r&2){let s;ys(s=_s())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Vn]})}}return n})();ef=class{},yV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof en),an(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=sd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return W(i).pipe(er())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=V(null);let o=i.pipe(Be(s=>s===null?V(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return W([o,s]).pipe(er())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(A(Te),A(fd),A(Nt),A(ef),A(hy))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pS=new L(""),_V=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof en?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wi&&t.code===zd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){BE()}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})();gS=new L("",{factory:()=>new ge}),my=new L("",{providedIn:"root",factory:()=>1});mS=new L("");kM=new L("ROUTER_FORROOT_GUARD"),IV=[Es,{provide:rc,useClass:Ts},Te,oc,{provide:Ft,useFactory:CV,deps:[Te]},hy,[]],vy=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[IV,[],{provide:Xd,multi:!0,useValue:t},{provide:kM,useFactory:PV,deps:[[Te,new ju,new pm]]},{provide:ac,useValue:r||{}},r?.useHash?OV():TV(),xV(),r?.preloadingStrategy?DV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?AV(r):[],r?.bindToComponentInputs?MV().\u0275providers:[],r?.enableViewTransitions?SV().\u0275providers:[],NV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Xd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(A(kM,8))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})();RM=new L("")});var rf,vS=p(()=>{"use strict";ni();we();T();Va();rf=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(st(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(st(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}static \u0275fac=function(t){return new(t||n)(A(po))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var kV,RV,ht,lc=p(()=>{"use strict";kV=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],RV=!kV.includes(window.location.hostname),ht={baseURL:RV?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function uc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var yS=p(()=>{"use strict"});function fc(n,e=200){return O(this,null,function*(){if(dc){let t=uc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function FV(n,e){return O(this,null,function*(){if(dc){let t=yield fetch(`${ht.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield fc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function LV(n,e){return O(this,null,function*(){let t=`${ht.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function VV(n,e,t){return O(this,null,function*(){if(dc){let r=t?`${ht.baseURL}/${t}`:`${ht.baseURL}/${n}`,i={"Content-Type":"application/json"},o=uc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=B(D({},e),{_id:BV()}),i=yield fc(n);return i.push(r),yy(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function jV(n,e){return O(this,null,function*(){if(dc){let t=`${ht.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=uc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield fc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),yy(n,t),e}})}function UV(n,e){return O(this,null,function*(){if(dc){let t=uc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${ht.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield fc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),yy(n,t)}})}function yy(n,e){localStorage.setItem(n,JSON.stringify(e))}function BV(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var it,dc,_y=p(()=>{"use strict";lc();yS();it={post:VV,get:FV,put:jV,remove:UV,query:fc,login:LV},dc=!0});var _S,$V,of,CS=p(()=>{"use strict";_S="dzqnyehxn",$V="fuhrsp2z",of={CLOUD_NAME:_S,UPLOAD_PRESET:$V,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${_S}/${n}/upload`}});var pr,hc=p(()=>{"use strict";CS();we();T();pr=class n{cloudName=of.CLOUD_NAME;uploadPreset=of.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=of.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),W(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Gn,pc,gc,sf=p(()=>{"use strict";Gn=Object.create(null);Gn.open="0";Gn.close="1";Gn.ping="2";Gn.pong="3";Gn.message="4";Gn.upgrade="5";Gn.noop="6";pc=Object.create(null);Object.keys(Gn).forEach(n=>{pc[Gn[n]]=n});gc={type:"error",data:"parser error"}});function wS(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function SS(n,e){if(ES&&n.data instanceof Blob)return n.data.arrayBuffer().then(wS).then(e);if(DS&&(n.data instanceof ArrayBuffer||MS(n.data)))return e(wS(n.data));mc(n,!1,t=>{by||(by=new TextEncoder),e(by.encode(t))})}var ES,DS,MS,mc,bS,by,IS=p(()=>{"use strict";sf();ES=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",DS=typeof ArrayBuffer=="function",MS=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,mc=({type:n,data:e},t,r)=>ES&&e instanceof Blob?t?r(e):bS(e,r):DS&&(e instanceof ArrayBuffer||MS(e))?t?r(e):bS(new Blob([e]),r):r(Gn[n]+(e||"")),bS=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var xS,vc,OS,TS=p(()=>{"use strict";xS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<xS.length;n++)vc[xS.charCodeAt(n)]=n;OS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=vc[n.charCodeAt(r)],s=vc[n.charCodeAt(r+1)],a=vc[n.charCodeAt(r+2)],c=vc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var HV,yc,zV,PS,AS=p(()=>{"use strict";sf();TS();HV=typeof ArrayBuffer=="function",yc=(n,e)=>{if(typeof n!="string")return{type:"message",data:PS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:zV(n.substring(1),e)}:pc[t]?n.length>1?{type:pc[t],data:n.substring(1)}:{type:pc[t]}:gc},zV=(n,e)=>{if(HV){let t=OS(n);return PS(t,e)}else return{base64:!0,data:n}},PS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function FS(){return new TransformStream({transform(n,e){SS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function af(n){return n.reduce((e,t)=>e+t.length,0)}function cf(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function LS(n,e){wy||(wy=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(af(t)<1)break;let c=cf(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(af(t)<2)break;let c=cf(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(af(t)<8)break;let c=cf(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(gc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(af(t)<i)break;let c=cf(t,i);a.enqueue(yc(o?c:wy.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(gc);break}}}})}var NS,kS,RS,wy,Ey,ks=p(()=>{"use strict";IS();AS();sf();NS="",kS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{mc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(NS))})})},RS=(n,e)=>{let t=n.split(NS),r=[];for(let i=0;i<t.length;i++){let o=yc(t[i],e);if(r.push(o),o.type==="error")break}return r};Ey=4});function Fe(n){if(n)return qV(n)}function qV(n){for(var e in Fe.prototype)n[e]=Fe.prototype[e];return n}var yo=p(()=>{"use strict";Fe.prototype.on=Fe.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Fe.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Fe.prototype.off=Fe.prototype.removeListener=Fe.prototype.removeAllListeners=Fe.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Fe.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Fe.prototype.emitReserved=Fe.prototype.emit;Fe.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Fe.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var jr,Lt,VS,_o=p(()=>{"use strict";jr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Lt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),VS="arraybuffer"});function lf(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function Ur(n,e){e.useNativeTimers?(n.setTimeoutFn=WV.bind(Lt),n.clearTimeoutFn=GV.bind(Lt)):(n.setTimeoutFn=Lt.setTimeout.bind(Lt),n.clearTimeoutFn=Lt.clearTimeout.bind(Lt))}function jS(n){return typeof n=="string"?YV(n):Math.ceil((n.byteLength||n.size)*KV)}function YV(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function uf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var WV,GV,KV,Co=p(()=>{"use strict";_o();WV=Lt.setTimeout,GV=Lt.clearTimeout;KV=1.33});function US(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function BS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Dy=p(()=>{"use strict"});var df,Br,_c=p(()=>{"use strict";ks();yo();Co();Dy();df=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},Br=class extends Fe{constructor(e){super(),this.writable=!1,Ur(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new df(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=yc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=US(e);return t.length?"?"+t:""}}});var Cc,My=p(()=>{"use strict";_c();Co();ks();Cc=class extends Br{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};RS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,kS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=uf()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var $S,HS,zS=p(()=>{"use strict";$S=!1;try{$S=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}HS=$S});function QV(){}function qS(){for(let n in ff.requests)ff.requests.hasOwnProperty(n)&&ff.requests[n].abort()}function WS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||HS))return new XMLHttpRequest}catch{}if(!e)try{return new Lt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Sy,ff,ZV,Di,hf=p(()=>{"use strict";My();yo();Co();_o();zS();Sy=class extends Cc{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},ff=(()=>{class n extends Fe{constructor(t,r,i){super(),this.createRequest=t,Ur(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=lf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=QV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qS);else if(typeof addEventListener=="function"){let n="onpagehide"in Lt?"pagehide":"unload";addEventListener(n,qS,!1)}}ZV=function(){let n=WS({xdomain:!1});return n&&n.responseType!==null}(),Di=class extends Sy{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=ZV&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ff(WS,this.uri(),e)}}});var GS,xy,Iy,Mi,pf=p(()=>{"use strict";_c();Co();ks();_o();GS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",xy=class extends Br{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=GS?{}:lf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;mc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&jr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=uf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Iy=Lt.WebSocket||Lt.MozWebSocket,Mi=class extends xy{createSocket(e,t,r){return GS?new Iy(e,t,r):t?new Iy(e,t):new Iy(e)}doWrite(e,t){this.ws.send(t)}}});var Rs,Oy=p(()=>{"use strict";_c();_o();ks();Rs=class extends Br{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=LS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=FS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&jr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var Ty,Py=p(()=>{"use strict";hf();pf();Oy();Ty={websocket:Mi,webtransport:Rs,polling:Di}});function Fs(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=JV.exec(n||""),o={},s=14;for(;s--;)o[XV[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=ej(o,o.path),o.queryKey=tj(o,o.query),o}function ej(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function tj(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var JV,XV,Ay=p(()=>{"use strict";JV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,XV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Ny,gf,mf,vf,Ls,ky=p(()=>{"use strict";Py();Co();Dy();Ay();yo();ks();_o();Ny=typeof addEventListener=="function"&&typeof removeEventListener=="function",gf=[];Ny&&addEventListener("offline",()=>{gf.forEach(n=>n())},!1);mf=(()=>{class n extends Fe{constructor(t,r){if(super(),this.binaryType=VS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Fs(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Fs(r.host).host);Ur(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=BS(this.opts.query)),Ny&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},gf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=Ey,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=jS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,jr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ny&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=gf.indexOf(this._offlineEventListener);i!==-1&&gf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=Ey,n})(),vf=class extends mf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;mf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;mf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let m=new Error("probe error: "+d);m.transport=t.name,o(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Ls=class extends vf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Ty[i]).filter(i=>!!i)),super(e,r)}}});var KS=p(()=>{"use strict";My()});var XY,yf=p(()=>{"use strict";ky();ky();_c();Py();Co();Ay();_o();KS();hf();hf();pf();pf();Oy();XY=Ls.protocol});function YS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Fs(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var QS=p(()=>{"use strict";yf()});function wc(n){return rj&&(n instanceof ArrayBuffer||ij(n))||oj&&n instanceof Blob||sj&&n instanceof File}function bc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(bc(n[t]))return!0;return!1}if(wc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return bc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&bc(n[t]))return!0;return!1}var rj,ij,ZS,oj,sj,Ry=p(()=>{"use strict";rj=typeof ArrayBuffer=="function",ij=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,ZS=Object.prototype.toString,oj=typeof Blob=="function"||typeof Blob<"u"&&ZS.call(Blob)==="[object BlobConstructor]",sj=typeof File=="function"||typeof File<"u"&&ZS.call(File)==="[object FileConstructor]"});function JS(n){let e=[],t=n.data,r=n;return r.data=Fy(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Fy(n,e){if(!n)return n;if(wc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Fy(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Fy(n[r],e));return t}return n}function XS(n,e){return n.data=Ly(n.data,e),delete n.attachments,n}function Ly(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Ly(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Ly(n[t],e));return n}var eI=p(()=>{"use strict";Ry()});var By={};IT(By,{Decoder:()=>jy,Encoder:()=>Vy,PacketType:()=>pe,protocol:()=>nI});function tI(n){return Object.prototype.toString.call(n)==="[object Object]"}var aj,nI,pe,Vy,jy,Uy,_f=p(()=>{"use strict";yo();eI();Ry();aj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],nI=5,pe=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(pe||{}),Vy=class{constructor(e){this.replacer=e}encode(e){return(e.type===pe.EVENT||e.type===pe.ACK)&&bc(e)?this.encodeAsBinary({type:e.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===pe.BINARY_EVENT||e.type===pe.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=JS(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};jy=class n extends Fe{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===pe.BINARY_EVENT;r||t.type===pe.BINARY_ACK?(t.type=r?pe.EVENT:pe.ACK,this.reconstructor=new Uy(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(wc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(pe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===pe.BINARY_EVENT||r.type===pe.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case pe.CONNECT:return tI(t);case pe.DISCONNECT:return t===void 0;case pe.CONNECT_ERROR:return typeof t=="string"||tI(t);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&aj.indexOf(t[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Uy=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=XS(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function tn(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var $y=p(()=>{"use strict"});var cj,Vs,Hy=p(()=>{"use strict";_f();$y();yo();cj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Vs=class extends Fe{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[tn(e,"open",this.onopen.bind(this)),tn(e,"packet",this.onpacket.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(cj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:pe.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(e);break;case pe.ACK:case pe.BINARY_ACK:this.onack(e);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:pe.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function bo(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var rI=p(()=>{"use strict";bo.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};bo.prototype.reset=function(){this.attempts=0};bo.prototype.setMin=function(n){this.ms=n};bo.prototype.setMax=function(n){this.max=n};bo.prototype.setJitter=function(n){this.jitter=n}});var js,iI=p(()=>{"use strict";yf();Hy();_f();$y();rI();yo();js=class extends Fe{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Ur(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new bo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||By;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ls(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=tn(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=tn(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(tn(e,"ping",this.onping.bind(this)),tn(e,"data",this.ondata.bind(this)),tn(e,"error",this.onerror.bind(this)),tn(e,"close",this.onclose.bind(this)),tn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){jr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Vs(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function Dc(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=YS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=Ec[i]&&o in Ec[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new js(r,e):(Ec[i]||(Ec[i]=new js(r,e)),c=Ec[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var Ec,oI=p(()=>{"use strict";QS();iI();Hy();_f();yf();Ec={};Object.assign(Dc,{Manager:js,Socket:Vs,io:Dc,connect:Dc})});var Us,zy=p(()=>{"use strict";T();Us=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function aI(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var $Q,lj,uj,dj,fj,hj,pj,gj,En,Bs=p(()=>{"use strict";oI();It();T();zy();$Q=aI(),lj="chat-add-msg",uj="chat-add-private-msg",dj="chat-send-msg",fj="chat-set-topic",hj="chat-send-private-msg",pj="set-user-socket",gj="unset-user-socket",En=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=aI(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=Dc(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(fj,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(dj,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i){this.socket||this.setup();let o=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",o),!o||!e||!t.trim()&&!r&&!i){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:o,toUserId:e,msg:t,imageUrl:r,videoUrl:i});return}let s={sender:o._id,senderName:o.username,text:t||"",imageUrl:r||void 0,videoUrl:i||void 0,toUserId:e};this.addToBuffer(B(D({},s),{senderName:"Me"})),console.log("\u2705 Sending private message:",s),this.socket?.emit(hj,{toUserId:e,text:t,imageUrl:r,videoUrl:i,sender:o._id,senderName:o.username})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(pj,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(lj,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(uj,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=B(D({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id});this.privateMessagesBuffer.some(i=>i.text===r.text&&i.sender===r.sender)||this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(gj)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(A(et),A(Us))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Mc,Si,cI,lI,Ii,Ce,It=p(()=>{"use strict";we();_y();lc();T();hc();Bs();Mc="user",Si="loggedInUser",cI="facebookId",lI="facebookAccessToken",Ii="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(Si)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new fe([]);users$=this._users$.asObservable();_filterBy$=new fe("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new fe(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){W(it.query(Mc)).pipe(ne(e=>{this._users$.next(this._sort(e))}),ue(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(Si)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(Si)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(Si,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Ii,e),sessionStorage.setItem(Ii,e),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"SAVE_LOGIN_TOKEN",token:e}),console.log("\u{1F4BE} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC-Service Worker \u05DC\u05E9\u05DE\u05D9\u05E8\u05EA token \u05D1\u05BEIndexedDB"))}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ii)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ii)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ii)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ii)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Ii)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${ht.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={username:e,password:t};return W(it.login("auth/login",r)).pipe(ne(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(Si,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),ue(this._handleError))}loginWithFacebook(e){return W(it.login("auth/facebook",e)).pipe(ne(t=>{let r=t.user,i=t.loginToken;this._loggedInUser$.next(r),localStorage.setItem(Si,JSON.stringify(r)),localStorage.setItem(cI,e.facebookId),localStorage.setItem(lI,e.accessToken),this.socketService.login(r._id),this._saveLoginToken(i)}),j(t=>t.user),ue(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(Si),localStorage.removeItem(cI),localStorage.removeItem(lI),localStorage.removeItem(Ii),this.socketService.logout()}loadUsers(){return W(it.query(Mc)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),ne(e=>this._users$.next(e)),st(3),ue(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(be(1)).subscribe()}deleteUser(e){return W(it.remove(Mc,e)).pipe(ne(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),st(2),ue(this._handleError))}getUserById(e){return W(it.get(Mc,e)).pipe(st(3),ue(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=B(D({},e),{_id:this._getRandomId()});return W(it.post("auth/signup",t)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),st(3),ue(this._handleError))}_updateUser(e){return W(it.put(Mc,e)).pipe(ne(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),st(3),ue(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),Xe(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?W(it.put("user/updateProfile",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(Si,JSON.stringify(t))}),ue(this._handleError)):Xe(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(ke(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return Xe(()=>new Error("No logged-in user found. Please log in."));let i=B(D({},r),{img:t});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),ue(t=>(console.error("Error updating user image:",t.message||t),Xe(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(A(pr),A(En))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Cf(n,e){return{type:re.Trigger,name:n,definitions:e,options:{}}}function xc(n,e=null){return{type:re.Animate,styles:e,timings:n}}function uI(n,e=null){return{type:re.Sequence,steps:n,options:e}}function Kn(n){return{type:re.Style,styles:n,offset:null}}function Wy(n,e,t){return{type:re.State,name:n,styles:e,options:t}}function Oc(n,e,t=null){return{type:re.Transition,expr:n,animation:e,options:t}}var re,gr,xi,Ic,bf,wf=p(()=>{"use strict";re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(re||{}),gr="*";xi=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ic=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},bf="!"});var Tc,wt,$r=p(()=>{"use strict";we();_y();T();Tc="contact",wt=class n{_contacts$=new fe([]);contacts$=this._contacts$.asObservable();_allContacts$=new fe([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new fe({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){W(it.query(Tc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),W(it.query("contact/All")).pipe(ne(e=>{this._allContacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(D({},r),{img:t});return W(it.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),ue(o=>this._handleError(o)))}updateContactVideo(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(D({},r),{video:t});return W(it.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),ue(o=>this._handleError(o)))}loadContacts(){return W(it.query(Tc)).pipe(ne(e=>{let t=this._filterBy$.value;e=e.map(r=>B(D({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),st(1),ue(this._handleError))}deleteContact(e){return W(it.remove(Tc,e)).pipe(ne(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),st(1),ue(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(be(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return W(it.get(Tc,e)).pipe(st(1),ue(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),W(it.put("contact/edit",e)).pipe(ne(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),st(1),ue(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),W(it.post(Tc,e)).pipe(ne(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),st(1),ue(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),Xe(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var $s,Gy=p(()=>{"use strict";T();$s=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function qt(n){n||(Cm(qt),n=y(kt));let e=new ee(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(ln(e))}var Hs=p(()=>{"use strict";T();we();ni();});var xt,Oi=p(()=>{"use strict";T();we();Hs();T();xt=class n{destroyRef=y(kt);_msg=new fe(null);msg$=this._msg.asObservable().pipe(wr());_msgQueue$=new ge;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(an(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?V(null):(this._currentMsg=e,V(e).pipe(ne(()=>this._msg.next(e)),cn(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(qt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var pt,Hr=p(()=>{"use strict";T();pt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&S("click",function(o){return r.onClick(o)})}})}});function vj(n,e){if(n&1&&($t(0),h(1,"h1"),C(2),f(),k(3,"img",3),Ht()),n&2){let t=E();v(2),Oe("Hello: ",t.logdinUser.username,"!"),v(),b("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Ve)}}function yj(n,e){if(n&1){let t=G();h(0,"h1"),C(1," Welcome!"),k(2,"br"),C(3," Please login or sign up"),k(4,"br"),h(5,"span",4),k(6,"img",5),f()(),h(7,"section",6)(8,"a",7),C(9,"Login"),f(),h(10,"a",8),C(11,"Sign Up"),f(),h(12,"button",9),S("click",function(){R(t);let i=E();return F(i.loginWithFacebook())}),k(13,"img",10),h(14,"span",11),C(15,"Login with Facebook"),f()()()}}var Ef,fI=p(()=>{"use strict";T();vS();we();It();wf();$r();T();Gy();Oi();at();Me();Hr();Ef=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=y(rf);userService=y(Ce);logdinUser=this.userService.getLoggedInUser();contactService=y(wt);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(be(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(M($s),M(xt),M(Te))};static \u0275cmp=Z({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(h(0,"section",1),N(1,vj,4,2,"ng-container",2)(2,yj,16,0,"ng-template",null,0,Bn),f()),t&2){let i=_t(3);v(),b("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[me,wn,pt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;max-height:40vh;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;max-height:40vh;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[Cf("bounceArrow",[Wy("up",Kn({transform:"translateY(-10px)"})),Wy("down",Kn({transform:"translateY(10px)"})),Oc("up <=> down",[xc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var Dn,qs=p(()=>{"use strict";T();T();Dn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new X;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(M(yt))};static \u0275dir=le({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function _j(n,e){if(n&1){let t=G();h(0,"div",1)(1,"div",2),S("clickOutsideCapture",function(){R(t);let i=E();return F(i.cancel())}),h(2,"p"),C(3),f(),h(4,"div",3)(5,"button",4),S("click",function(){R(t);let i=E();return F(i.confirm())}),C(6,"Yes"),f(),h(7,"button",4),S("click",function(){R(t);let i=E();return F(i.cancel())}),C(8,"No"),f()()()()}if(n&2){let t=E();v(3),St(t.message)}}var Ws,Ky=p(()=>{"use strict";T();T();Me();Hr();qs();Ws=class n{isVisible=!1;message="";confirmed=new X;canceled=new X;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&N(0,_j,9,1,"div",0),t&2&&b("ngIf",r.isVisible)},dependencies:[me,pt,Dn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var Cj,bj,wj,Mf,pI=p(()=>{"use strict";T();T();at();Oi();Gy();Me();Ky();Hr();Cj=(n,e)=>[n,e],bj=n=>({"long-name":n}),wj=n=>["/contact/edit",n],Mf=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new X;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(M(Te),M(xt),M($s))};static \u0275cmp=Z({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:14,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(h(0,"article",0),S("click",function(){return r.onPreviewClick()}),k(1,"img",1),h(2,"div",2)(3,"h1",3),C(4),f()(),h(5,"div",4)(6,"button",5),S("click",function(){return r.onDeleteClick()}),k(7,"img",6),f(),h(8,"button",7),S("click",function(){return r.onEditClick()}),k(9,"img",8),f(),h(10,"button",9),S("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),k(11,"img",10),f()()(),h(12,"app-modal",11),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),k(13,"router-outlet")),t&2&&(v(),b("src",r.contact.img?r.contact.img:"../../../assets/images/picture.png",Ve)("ngClass",yn(7,Cj,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),v(2),b("ngClass",Aa(10,bj,r.isLongName)),v(),Oe(" ",r.contact.name," "),v(4),b("routerLink",Aa(12,wj,r.contact._id)),v(4),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[dr,qn,wn,Ws,pt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;width:22em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;height:17em;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1c284e;font-weight:700;text-align:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:10px;margin-top:.5rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:1.125rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{gap:8px}}']})}});function Dj(n,e){if(n&1){let t=G();h(0,"contact-preview",2),S("remove",function(){let i=R(t).$implicit,o=E();return F(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;b("contact",t)}}var Sf,gI=p(()=>{"use strict";T();at();we();T();at();Me();pI();Sf=class n{constructor(e){this.router=e}contacts;remove=new X;destroy$=new ge;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof en)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(M(Te))};static \u0275cmp=Z({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(h(0,"section",0),N(1,Dj,1,1,"contact-preview",1),f()),t&2&&(v(),b("ngForOf",r.contacts))},dependencies:[fr,Mf],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function Ij(){let n=ur()?ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Ti(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function SI(n){return n!=null&&typeof n.length=="number"}function Tj(n){return e=>{if(Ti(e.value)||Ti(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Pj(n){return e=>{if(Ti(e.value)||Ti(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function II(n){return Ti(n.value)?{required:!0}:null}function Aj(n){return n.value===!0?null:{required:!0}}function Nj(n){return Ti(n.value)||Oj.test(n.value)?null:{email:!0}}function xI(n){return e=>Ti(e.value)||!SI(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function kj(n){return e=>SI(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Rj(n){if(!n)return xf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ti(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function xf(n){return null}function OI(n){return n!=null}function TI(n){return gi(n)?W(n):n}function PI(n){let e={};return n.forEach(t=>{e=t!=null?D(D({},e),t):e}),Object.keys(e).length===0?null:e}function AI(n,e){return e.map(t=>t(n))}function Fj(n){return!n.validate}function NI(n){return n.map(e=>Fj(e)?e:t=>e.validate(t))}function kI(n){if(!n)return null;let e=n.filter(OI);return e.length==0?null:function(t){return PI(AI(t,e))}}function t_(n){return n!=null?kI(NI(n)):null}function RI(n){if(!n)return null;let e=n.filter(OI);return e.length==0?null:function(t){let r=AI(t,e).map(TI);return Rp(r).pipe(j(PI))}}function n_(n){return n!=null?RI(NI(n)):null}function mI(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function FI(n){return n._rawValidators}function LI(n){return n._rawAsyncValidators}function Yy(n){return n?Array.isArray(n)?n:[n]:[]}function Of(n,e){return Array.isArray(n)?n.includes(e):n===e}function vI(n,e){let t=Yy(e);return Yy(n).forEach(i=>{Of(t,i)||t.push(i)}),t}function yI(n,e){return Yy(e).filter(t=>!Of(n,t))}function r_(n){return(Lf(n)?n.validators:n)||null}function Vj(n){return Array.isArray(n)?t_(n):n||null}function i_(n,e){return(Lf(e)?e.asyncValidators:n)||null}function jj(n){return Array.isArray(n)?n_(n):n||null}function Lf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function VI(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[t])throw new I(1001,"")}function jI(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new I(1002,"")})}function UI(n,e){return[...e.path,n]}function Nf(n,e,t=Vf){o_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Bj(n,e),Hj(n,e),$j(n,e),Uj(n,e)}function _I(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Uj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function o_(n,e){let t=FI(n);e.validator!==null?n.setValidators(mI(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=LI(n);e.asyncValidator!==null?n.setAsyncValidators(mI(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();kf(e._rawValidators,i),kf(e._rawAsyncValidators,i)}function Rf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=FI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=LI(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return kf(e._rawValidators,r),kf(e._rawAsyncValidators,r),t}function Bj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&BI(n,e)})}function $j(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&BI(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function BI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Hj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function $I(n,e){n==null,o_(n,e)}function zj(n,e){return Rf(n,e)}function HI(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function qj(n){return Object.getPrototypeOf(n.constructor)===e_}function zI(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qI(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Mn?t=o:qj(o)?r=o:i=o}),i||r||t||null}function Wj(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function CI(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bI(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function GI(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Xj(n){return n.split(":")[0]}function EI(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function tU(n){return n.split(":")[0]}function nU(n){return typeof n=="number"?n:parseInt(n,10)}function DI(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var MI,e_,Lc,Sj,xj,Mn,Sn,Zs,Oj,Pi,Tf,zr,Eo,Pf,Lj,dJ,mr,Ff,Pc,If,Gs,Ac,Ai,Af,kc,Rc,Ks,Qy,Zy,Ys,Qs,Jy,Vc,Vf,Gj,Nc,s_,Fc,Kj,Yj,wI,qr,jf,WI,Qj,a_,Zj,c_,Jj,Uf,KI,eU,YI,QI,ZI,rU,l_,iU,u_,JI,Xy,XI,ex,tx,In=p(()=>{"use strict";T();T();Me();we();ni();MI=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(M(jn),M(yt))}}static{this.\u0275dir=le({type:n})}}return n})(),e_=(()=>{class n extends MI{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,features:[Bt]})}}return n})(),Lc=new L(""),Sj={provide:Lc,useExisting:fn(()=>Mn),multi:!0};xj=new L(""),Mn=(()=>{class n extends MI{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ij())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(M(jn),M(yt),M(xj,8))}}static{this.\u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[nt([Sj]),Bt]})}}return n})();Sn=new L(""),Zs=new L(""),Oj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pi=class{static min(e){return Tj(e)}static max(e){return Pj(e)}static required(e){return II(e)}static requiredTrue(e){return Aj(e)}static email(e){return Nj(e)}static minLength(e){return xI(e)}static maxLength(e){return kj(e)}static pattern(e){return Rj(e)}static nullValidator(e){return xf(e)}static compose(e){return kI(e)}static composeAsync(e){return RI(e)}};Tf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=t_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=n_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},zr=class extends Tf{get formDirective(){return null}get path(){return null}},Eo=class extends Tf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Lj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dJ=B(D({},Lj),{"[class.ng-submitted]":"isSubmitted"}),mr=(()=>{class n extends Pf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(M(Eo,2))}}static{this.\u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&pi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Bt]})}}return n})(),Ff=(()=>{class n extends Pf{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(M(zr,10))}}static{this.\u0275dir=le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&pi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Bt]})}}return n})(),Pc="VALID",If="INVALID",Gs="PENDING",Ac="DISABLED",Ai=class{},Af=class extends Ai{constructor(e,t){super(),this.value=e,this.source=t}},kc=class extends Ai{constructor(e,t){super(),this.pristine=e,this.source=t}},Rc=class extends Ai{constructor(e,t){super(),this.touched=e,this.source=t}},Ks=class extends Ai{constructor(e,t){super(),this.status=e,this.source=t}},Qy=class extends Ai{constructor(e){super(),this.source=e}},Zy=class extends Ai{constructor(e){super(),this.source=e}};Ys=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ho(()=>this.statusReactive()),this.statusReactive=fo(void 0),this._pristine=ho(()=>this.pristineReactive()),this.pristineReactive=fo(!0),this._touched=ho(()=>this.touchedReactive()),this.touchedReactive=fo(!1),this._events=new ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qt(this.statusReactive)}set status(e){Qt(()=>this.statusReactive.set(e))}get valid(){return this.status===Pc}get invalid(){return this.status===If}get pending(){return this.status==Gs}get disabled(){return this.status===Ac}get enabled(){return this.status!==Ac}get pristine(){return Qt(this.pristineReactive)}set pristine(e){Qt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qt(this.touchedReactive)}set touched(e){Qt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yI(e,this._rawAsyncValidators))}hasValidator(e){return Of(this._rawValidators,e)}hasAsyncValidator(e){return Of(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(D({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Rc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Rc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(D({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new kc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new kc(!0,r))}markAsPending(e={}){this.status=Gs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ks(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(D({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ac,this.errors=null,this._forEachChild(i=>{i.disable(B(D({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Af(this.value,r)),this._events.next(new Ks(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(D({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this._forEachChild(r=>{r.enable(B(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(D({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pc||this.status===Gs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Af(this.value,t)),this._events.next(new Ks(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(D({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ac:Pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Gs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=TI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ks(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Ac:this.errors?If:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gs)?Gs:this._anyControlsHaveStatus(If)?If:Pc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new kc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Rc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Vj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jj(this._rawAsyncValidators)}},Qs=class extends Ys{constructor(e,t,r){super(r_(t),i_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){jI(this,!0,e),Object.keys(e).forEach(r=>{VI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Jy=class extends Qs{},Vc=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Vf}),Vf="always";Gj={provide:zr,useExisting:fn(()=>s_)},Nc=Promise.resolve(),s_=(()=>{class n extends zr{get submitted(){return Qt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ho(()=>this.submittedReactive()),this.submittedReactive=fo(!1),this._directives=new Set,this.ngSubmit=new X,this.form=new Qs({},t_(t),n_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Nf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nc.then(()=>{let r=this._findContainer(t.path),i=new Qs({});$I(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Nc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),zI(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(M(Sn,10),M(Zs,10),M(Vc,8))}}static{this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Gj]),Bt]})}}return n})();Fc=class extends Ys{constructor(e=null,t,r){super(r_(t),i_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(bI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){bI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Kj=n=>n instanceof Fc,Yj={provide:Eo,useExisting:fn(()=>qr)},wI=Promise.resolve(),qr=(()=>{class n extends Eo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Fc,this._registered=!1,this.name="",this.update=new X,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qI(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),HI(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){wI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&mi(r);wI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?UI(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(M(zr,9),M(Sn,10),M(Zs,10),M(Lc,10),M($n,8),M(Vc,8))}}static{this.\u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nt([Yj]),Bt,Vn]})}}return n})(),jf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),WI=new L(""),Qj={provide:zr,useExisting:fn(()=>a_)},a_=(()=>{class n extends zr{get submitted(){return Qt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ho(()=>this._submittedReactive()),this._submittedReactive=fo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Nf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){_I(t.control||null,t,!1),Wj(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),zI(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Qy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Zy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(_I(r||null,t),Kj(i)&&(Nf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);$I(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&zj(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){o_(this.form,this),this._oldForm&&Rf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(M(Sn,10),M(Zs,10),M(Vc,8))}}static{this.\u0275dir=le({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Qj]),Bt,Vn]})}}return n})(),Zj={provide:Eo,useExisting:fn(()=>c_)},c_=(()=>{class n extends Eo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qI(this,o)}ngOnChanges(t){this._added||this._setUpControl(),HI(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return UI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(M(zr,13),M(Sn,10),M(Zs,10),M(Lc,10),M(WI,8))}}static{this.\u0275dir=le({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([Zj]),Bt,Vn]})}}return n})(),Jj={provide:Lc,useExisting:fn(()=>Uf),multi:!0};Uf=(()=>{class n extends e_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=GI(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Xj(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Jj]),Bt]})}}return n})(),KI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(GI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(M(yt),M(jn),M(Uf,9))}}static{this.\u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),eU={provide:Lc,useExisting:fn(()=>YI),multi:!0};YI=(()=>{class n extends e_{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=tU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([eU]),Bt]})}}return n})(),QI=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(EI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(EI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(M(yt),M(jn),M(YI,9))}}static{this.\u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();ZI=(()=>{class n{constructor(){this._validator=xf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=le({type:n,features:[Vn]})}}return n})(),rU={provide:Sn,useExisting:fn(()=>l_),multi:!0},l_=(()=>{class n extends ZI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=mi,this.createValidator=t=>II}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&vs("required",i._enabled?"":null)},inputs:{required:"required"},features:[nt([rU]),Bt]})}}return n})(),iU={provide:Sn,useExisting:fn(()=>u_),multi:!0},u_=(()=>{class n extends ZI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>nU(t),this.createValidator=t=>xI(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Or(n)))(i||n)}})()}static{this.\u0275dir=le({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&vs("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[nt([iU]),Bt]})}}return n})(),JI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),Xy=class extends Ys{constructor(e,t,r){super(r_(t),i_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){jI(this,!1,e),e.forEach((r,i)=>{VI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};XI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return DI(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Qs(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Jy(i,r)}control(t,r,i){let o={};return this.useNonNullable?(DI(r)?o=r:(o.validators=r,o.asyncValidators=i),new Fc(t,B(D({},o),{nonNullable:!0}))):new Fc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Xy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Fc)return t;if(t instanceof Ys)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ex=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vc,useValue:t.callSetDisabledState??Vf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[JI]})}}return n})(),tx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WI,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Vc,useValue:t.callSetDisabledState??Vf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[JI]})}}return n})()});function oU(n,e){if(n&1){let t=G();h(0,"button",4),S("click",function(){R(t);let i=E();return F(i.onClearFilter())}),C(1," \u2716 "),f()}}var Bf,nx=p(()=>{"use strict";T();we();Hs();$r();T();Me();In();Bf=class n{contactService=y(wt);filterBy;filterSubject$=new ge;destroyRef=y(kt);ngOnInit(){this.contactService.filterBy$.pipe(qt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(wr(),qt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),vn("ngModelChange",function(o){return Un(r.filterBy.name,o)||(r.filterBy.name=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,oU,2,0,"button",3),f()()),t&2&&(v(2),mn("ngModel",r.filterBy.name),v(),b("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[me,Mn,mr,qr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var $f,rx=p(()=>{"use strict";T();Hs();$r();T();at();gI();nx();Me();$f=class n{contactService=y(wt);contacts$;destroyRef=y(kt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(qt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/add-contact.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"contact-filter"),k(2,"input",1),f(),h(3,"button",2),k(4,"img",3),h(5,"span"),C(6,"Add Contact"),f()(),h(7,"contact-list",4),Ct(8,"async"),S("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(v(7),b("contacts",bt(8,1,r.contacts$)))},dependencies:[wn,Sf,Bf,zt],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;text-transform:uppercase;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});var Hf,ix=p(()=>{"use strict";T();Hf=class n{transform(e){if(!e)return"";let t=/(https?:\/\/)?(www\.)?([^\/.]+)\.co/,r=e.match(t);if(r){let i=r[3];return`<a href="${e}" target="_blank" rel="noopener noreferrer">${i}</a>`}return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=so({name:"extractDomain",type:n,pure:!0})}});function cU(n,e){if(n&1&&(h(0,"div",11),k(1,"img",12),f()),n&2){let t=E().ngIf;v(),b("src",t.img?t.img:"../../../assets/images/picture.png",Ve)("ngClass",yn(2,ox,t.imageSize||"medium",t.imageShape||"circle"))}}function lU(n,e){if(n&1&&(h(0,"div",13)(1,"video",14),C(2," Your browser does not support the video tag. "),f()()),n&2){let t=E().ngIf;v(),b("src",t.video,Ve)("ngClass",yn(2,ox,t.imageSize||"medium",t.imageShape||"circle"))}}function uU(n,e){if(n&1&&(h(0,"p")(1,"strong"),C(2,"Dscription:"),f(),C(3),f()),n&2){let t=E().ngIf;v(3),Oe(" ",t.lastName,"")}}function dU(n,e){if(n&1&&(h(0,"p")(1,"strong"),C(2,"Info:"),f(),k(3,"span",15),Ct(4,"extractDomain"),f()),n&2){let t=E().ngIf;v(3),b("innerHTML",bt(4,1,t.additionalInfo),ed)}}function fU(n,e){if(n&1){let t=G();h(0,"section",2),S("clickOutsideCapture",function(){R(t);let i=E();return F(i.onBack())}),h(1,"section",3)(2,"button",4),S("click",function(){R(t);let i=E();return F(i.onBack())}),k(3,"img",5),f(),h(4,"h1"),C(5,"Contact Details"),f()(),h(6,"div",6),N(7,cU,2,5,"div",7)(8,lU,3,5,"div",8),f(),h(9,"div",9)(10,"p")(11,"strong"),C(12,"Name:"),f(),C(13),f(),N(14,uU,4,1,"p",10)(15,dU,5,3,"p",10),f()()}if(n&2){let t=e.ngIf;v(7),b("ngIf",t.img),v(),b("ngIf",t.video),v(5),Oe(" ",t.name,""),v(),b("ngIf",t.lastName),v(),b("ngIf",t.additionalInfo)}}var ox,zf,sx=p(()=>{"use strict";T();we();at();T();Me();at();Hr();qs();ix();ox=(n,e)=>[n,e];zf=class n{router=y(Te);route=y(Ft);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&B(D({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"media-row"],["class","contact-image-container",4,"ngIf"],["class","contact-video-container",4,"ngIf"],[1,"contact-fields"],[4,"ngIf"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-video-container"],["width","220","height","140","controls","",3,"src","ngClass"],[3,"innerHTML"]],template:function(t,r){t&1&&(k(0,"div",0),N(1,fU,16,5,"section",1),Ct(2,"async"),k(3,"router-outlet")),t&2&&(v(),b("ngIf",bt(2,1,r.contact$)))},dependencies:[dr,me,qn,pt,Dn,zt,Hf],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:350px;height:200px}@media (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:310px!important;height:200px!important;border:1px solid}}"]})}});var xn,Js=p(()=>{"use strict";we();T();xn=class n{isLoadingSubject=new fe(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var f_,ax=p(()=>{"use strict";T();$r();we();Js();f_=(n,e)=>{let t=n.params.id,r=y(xn),i=y(wt);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getById(t).pipe(cn(250),ue(o=>(console.error("Error fetching contact:",o),V(null))),Gt(()=>r.hide()))}});function hU(n,e){if(n&1&&(h(0,"div",4),k(1,"img",5),f()),n&2){let t=E();v(),b("src",t.uploadedImageUrl,Ve)}}var Xs,h_=p(()=>{"use strict";T();T();hc();Js();Me();Xs=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}imageUploaded=new X;uploadError=new X;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadImage(r)}}uploadImage(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded image URL:",t),this.imageUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the image:",t),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(M(pr),M(xn))};static \u0275cmp=Z({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"image-upload"],["class","contact-image-container",4,"ngIf"],["for","fileInput"],["type","file","id","fileInput",3,"change","disabled"],[1,"contact-image-container"],["alt","Uploaded Image",1,"contact-image",3,"src"]],template:function(t,r){t&1&&(h(0,"div",0),N(1,hU,2,1,"div",1),h(2,"label",2),C(3,"\u05D1\u05D7\u05E8 \u05EA\u05DE\u05D5\u05E0\u05D4 \u{1F4F7}"),f(),h(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(v(),b("ngIf",r.uploadedImageUrl),v(),pi("hidden",r.uploadedImageUrl),v(2),b("disabled",r.isLoading))},dependencies:[me],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;background-color:transparent;box-shadow:none;max-width:200px;text-align:center}.image-upload[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #ddd;display:flex;justify-content:center;align-items:center}.image-upload[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;width:7em;height:1em;background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003;margin-top:.5rem;visibility:visible}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.image-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8rem;color:#555;max-width:150px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});function pU(n,e){if(n&1&&(h(0,"div",4),k(1,"video",5),f()),n&2){let t=E();v(),b("src",t.uploadedVideoUrl,Ve)}}var qf,lx=p(()=>{"use strict";T();T();hc();Js();Me();qf=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}videoUploaded=new X;uploadError=new X;selectedFile=null;uploadedVideoUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadVideo(r)}}uploadVideo(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded video URL:",t),this.videoUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the video:",t),this.uploadError.emit("Failed to upload the video"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(M(pr),M(xn))};static \u0275cmp=Z({type:n,selectors:[["video-upload"]],outputs:{videoUploaded:"videoUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"video-upload"],["class","video-container",4,"ngIf"],["for","videoFileInput"],["type","file","id","videoFileInput","accept","video/*",3,"change","disabled"],[1,"video-container"],["width","220","height","140","controls","",3,"src"]],template:function(t,r){t&1&&(h(0,"div",0),N(1,pU,2,1,"div",1),h(2,"label",2),C(3,"\u05D1\u05D7\u05E8 \u05D5\u05D9\u05D3\u05D0\u05D5 \u{1F3A5}"),f(),h(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(v(),b("ngIf",r.uploadedVideoUrl),v(),pi("hidden",r.uploadedVideoUrl),v(2),b("disabled",r.isLoading))},dependencies:[me],styles:[".video-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.video-upload[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{width:220px;height:140px;border:2px solid #ddd;border-radius:8px;overflow:hidden}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;padding:.2rem .6rem;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.video-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.video-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});var Wf,ux=p(()=>{"use strict";T();Wf=class n{transform(e){if(!e)return e;let t=/(https?:\/\/[^\s]+)/g;return e.replace(t,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>')}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=so({name:"linkify",type:n,pure:!0})}});function vU(n,e){if(n&1){let t=G();h(0,"button",39),S("click",function(){R(t);let i=E(2);return F(i.onDeleteClick())}),k(1,"img",40),f()}}function yU(n,e){if(n&1){let t=G();h(0,"img",41),S("click",function(){R(t);let i=E(2);return F(i.toggleImageUpload())}),f()}if(n&2){let t=E(2);b("src",t.contact.img,Ve)("ngClass",yn(2,Gf,t.selectedImageSize,t.selectedImageShape))}}function _U(n,e){if(n&1){let t=G();h(0,"div",43),S("click",function(){R(t);let i=E(3);return F(i.toggleImageUpload())}),C(1),f()}if(n&2){let t,r=E(3);b("ngClass",yn(2,Gf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),v(),Oe(" ",r.getInitials(r.contact.name)," ")}}function CU(n,e){if(n&1){let t=G();h(0,"img",44),S("click",function(){R(t);let i=E(3);return F(i.toggleImageUpload())}),f()}if(n&2){let t,r=E(3);b("ngClass",yn(1,Gf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function bU(n,e){if(n&1&&N(0,_U,2,5,"div",42)(1,CU,1,4,"ng-template",null,2,Bn),n&2){let t=_t(2),r=E(2);b("ngIf",r.contact.name)("ngIfElse",t)}}function wU(n,e){if(n&1){let t=G();h(0,"div",45)(1,"image-upload",46),S("imageUploaded",function(i){R(t);let o=E(2);return F(o.onImageUploaded(i))})("uploadError",function(i){R(t);let o=E(2);return F(o.onUploadError(i))}),f()()}}function EU(n,e){if(n&1&&(h(0,"video",47),k(1,"source",48),C(2," Your browser does not support the video tag. "),f()),n&2){let t=E(2);v(),b("src",t.contact.video,Ve)}}function DU(n,e){if(n&1){let t=G();h(0,"div",49),S("click",function(){R(t);let i=E(2);return F(i.toggleVideoUpload())}),k(1,"img",50),f()}if(n&2){let t=E(2);b("ngClass",yn(1,Gf,t.selectedImageSize,t.selectedImageShape))}}function MU(n,e){if(n&1){let t=G();h(0,"div",51)(1,"video-upload",52),S("videoUploaded",function(i){R(t);let o=E(2);return F(o.onVideoUploaded(i))})("uploadError",function(i){R(t);let o=E(2);return F(o.onUploadVideoError(i))}),f()()}}function SU(n,e){if(n&1&&(h(0,"option",53),C(1),f()),n&2){let t=e.$implicit;b("value",t.value),v(),Oe("",t.label," ")}}function IU(n,e){if(n&1&&(h(0,"option",53),C(1),f()),n&2){let t=e.$implicit;b("value",t.value),v(),Oe("",t.label," ")}}function xU(n,e){n&1&&(h(0,"span"),C(1,"Name is required!"),f())}function OU(n,e){n&1&&(h(0,"span"),C(1,"Name must be at least 3 characters long!"),f())}function TU(n,e){if(n&1&&(h(0,"p",55),N(1,xU,2,0,"span",30)(2,OU,2,0,"span",30),f()),n&2){let t=E().ngIf;v(),b("ngIf",t.errors.required),v(),b("ngIf",t.errors.minlength)}}function PU(n,e){if(n&1&&($t(0),N(1,TU,3,2,"p",54),Ht()),n&2){let t=e.ngIf;v(),b("ngIf",t.errors&&t.touched)}}function AU(n,e){n&1&&(h(0,"div",56)(1,"label",57),C(2,"Description"),f(),k(3,"textarea",58),f())}function NU(n,e){n&1&&(h(0,"span"),C(1,"Description must be at least 3 characters long!"),f())}function kU(n,e){if(n&1&&(h(0,"p",55),N(1,NU,2,0,"span",30),f()),n&2){let t=E().ngIf;v(),b("ngIf",t.errors.minlength)}}function RU(n,e){if(n&1&&($t(0),N(1,kU,2,1,"p",54),Ht()),n&2){let t=e.ngIf;v(),b("ngIf",t.errors&&t.touched)}}function FU(n,e){if(n&1&&(k(0,"p",59),Ct(1,"linkify")),n&2){let t=E(2);b("innerHTML",bt(1,1,t.form.controls.additionalInfo.value),ed)}}function LU(n,e){n&1&&(h(0,"span"),C(1,"Additional Info must be at least 3 characters long!"),f())}function VU(n,e){if(n&1&&(h(0,"p",55),N(1,LU,2,0,"span",30),f()),n&2){let t=E().ngIf;v(),b("ngIf",t.errors.minlength)}}function jU(n,e){if(n&1&&($t(0),N(1,VU,2,1,"p",54),Ht()),n&2){let t=e.ngIf;v(),b("ngIf",t.errors&&t.touched)}}function UU(n,e){if(n&1){let t=G();h(0,"div",60)(1,"label",61)(2,"input",62),S("change",function(i){R(t);let o=E(2);return F(o.onToggleLastName(i))}),f(),k(3,"span",63),f(),h(4,"span",64),C(5,"Add Description"),f()()}if(n&2){let t=E(2);v(2),b("checked",t.IsLastName||t.contact.lastName)}}function BU(n,e){if(n&1){let t=G();h(0,"div",5)(1,"section",6),S("clickOutsideCapture",function(){R(t);let i=E();return F(i.onBack())}),h(2,"section",7)(3,"a",8),k(4,"img",9),f(),h(5,"h2"),C(6),f(),N(7,vU,2,0,"button",10),f(),h(8,"form",11),S("ngSubmit",function(){R(t);let i=E();return F(i.onSaveContact())}),h(9,"div",12)(10,"div",13),N(11,yU,1,5,"img",14)(12,bU,3,2,"ng-template",null,0,Bn)(14,wU,2,0,"div",15),f(),h(15,"div",16)(16,"div",17),S("click",function(){R(t);let i=E();return F(i.toggleVideoUpload())}),N(17,EU,3,1,"video",18),f(),N(18,DU,2,4,"ng-template",null,1,Bn)(20,MU,2,0,"div",19),f()(),h(21,"div",20)(22,"label",21),C(23,"Size:"),f(),h(24,"select",22),S("change",function(i){R(t);let o=E();return F(o.onImageSizeChange(i))}),N(25,SU,2,2,"option",23),f(),h(26,"label",24),C(27,"Shape:"),f(),h(28,"select",25),S("change",function(i){R(t);let o=E();return F(o.onImageShapeChange(i))}),N(29,IU,2,2,"option",23),f()(),h(30,"div",26)(31,"div",27)(32,"label",28),C(33,"Name"),f(),k(34,"input",29),f(),N(35,PU,2,1,"ng-container",30)(36,AU,4,0,"div",31)(37,RU,2,1,"ng-container",30),h(38,"div",32)(39,"label",33),C(40,"Additional Info"),f(),k(41,"textarea",34),f(),N(42,FU,2,3,"p",35)(43,jU,2,1,"ng-container",30),h(44,"div",36),N(45,UU,6,1,"div",37),h(46,"button",38),C(47," Save "),f()()()()()()}if(n&2){let t=_t(13),r=_t(19),i=E();v(6),Oe("",i.contact._id?"Edit":"Add"," Contact"),v(),b("ngIf",i.contact._id),v(),b("formGroup",i.form),v(3),b("ngIf",i.contact.img)("ngIfElse",t),v(3),b("ngIf",i.showImageUpload),v(3),b("ngIf",i.contact.video)("ngIfElse",r),v(3),b("ngIf",i.showVideoUpload),v(5),b("ngForOf",i.imageSizeOptions)("ngForTrackBy",i.trackByFn),v(4),b("ngForOf",i.imageShapeOptions)("ngForTrackBy",i.trackByFn),v(6),b("ngIf",i.form.controls.name),v(),b("ngIf",i.IsLastName||i.contact.lastName),v(),b("ngIf",i.form.controls.lastName),v(5),b("ngIf",i.form.controls.additionalInfo.value),v(),b("ngIf",i.form.controls.additionalInfo),v(2),b("ngIf",!i.contact.lastName),v(),b("disabled",i.form.invalid)}}var Gf,Uc,dx=p(()=>{"use strict";T();$r();at();we();In();Me();T();In();Me();Oi();at();Ky();Hr();qs();h_();lx();ux();Gf=(n,e)=>[n,e];Uc=class n{constructor(e,t,r,i){this.fb=e;this.datePipe=t;this.msgService=r;this.cd=i}IsLastName=!1;showImageUpload=!1;showVideoUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new ge;contactService=y(wt);contact=this.contactService.getEmptyContact();router=y(Te);route=y(Ft);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Pi.required,Pi.minLength(3)]],lastName:[e?this.contact.lastName:"",[Pi.minLength(3)]],additionalInfo:[e?this.contact.additionalInfo:""],phone:[e?this.contact.phone:"",[Pi.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Pi.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date)],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],video:[e?this.contact.video:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(ln(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(ln(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Ne(t=>!!t),ln(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue(B(D({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle",video:t.video||""})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(ln(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=D({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(ln(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.patchValue({img:e}),this.showImageUpload=!1,this.cd.detectChanges(),this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}onVideoUploaded(e){console.log("Video uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.video=e,this.form.patchValue({video:e}),this.showVideoUpload=!1,this.contact._id?this.contactService.updateContactVideo(this.contact._id,e).subscribe({next:t=>{console.log("Contact video updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact video updated successfully!")},error:t=>{console.error("Failed to update contact video:",t),this.msgService.setErrorMsg("Failed to update contact video.")}}):console.log("Contact does not have an ID yet. Video update will be saved with the form submission.")}onUploadVideoError(e){console.error("Video upload error:",e),this.msgService.setErrorMsg(e)}toggleVideoUpload(){this.showVideoUpload=!this.showVideoUpload}static \u0275fac=function(t){return new(t||n)(M(XI),M(Sd),M(xt),M($n))};static \u0275cmp=Z({type:n,selectors:[["contact-edit"]],features:[nt([Sd])],decls:3,vars:3,consts:[["fallback",""],["videoFallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"media-row"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"contact-video-container"],[1,"video-wrapper",3,"click"],["width","220","height","140","controls","",4,"ngIf","ngIfElse"],["class","video-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","desc form-input",4,"ngIf"],[1,"form-input","desc"],["for","additionalInfo"],["formControlName","additionalInfo","placeholder","Enter text, links, or anything...","id","additionalInfo",1,"lastName"],["class","formatted-text",3,"innerHTML",4,"ngIf"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"click","src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/picture.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["width","220","height","140","controls",""],["type","video/mp4",3,"src"],[1,"default-video-avatar",3,"click","ngClass"],["src","../../../assets/images/video.png","alt","Default Video Placeholder"],[1,"video-upload-section"],[3,"videoUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],[1,"desc","form-input"],["for","lastName"],["formControlName","lastName","placeholder","Enter description...","id","description"],[1,"formatted-text",3,"innerHTML"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(N(0,BU,48,20,"div",3),h(1,"section")(2,"app-modal",4),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(b("ngIf",r.contact),v(2),b("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[dr,fr,me,wn,jf,KI,QI,Mn,Uf,mr,Ff,a_,c_,Ws,pt,Dn,Xs,qf,Wf],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:30em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:8px;font-size:16px;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;background-color:#fff;resize:vertical;font-family:Roboto,sans-serif}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none;box-shadow:0 0 5px #f1c40f80}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:3em;height:1em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:.6em;width:1em;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:7em;font-size:13px;margin-right:.7em}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;margin-top:1rem;display:flex;flex-direction:column;align-items:center}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #ccc;border-radius:8px;object-fit:cover;width:220px;height:140px;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .video-upload-section[_ngcontent-%COMP%]{margin-top:.5rem}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#eee;width:160px!important;height:100px!important;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;opacity:.6}@media screen and (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0!important}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{width:200px!important;height:120px!important;border:1px solid;background:beige}.contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.default-avatar[_ngcontent-%COMP%], .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px!important;height:100px!important}}.upload-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.upload-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.upload-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.video-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.video-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000}']})}});function fx(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function hx(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(Up(200),wr(),ke(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function px(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var Kf=p(()=>{"use strict";we();$r()});var Yf,gx=p(()=>{"use strict";In();Kf();T();Yf=class n{validate(e){return fx()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appEmailValidator",""]],features:[nt([{provide:Sn,useExisting:n,multi:!0}])]})}});var Qf,mx=p(()=>{"use strict";In();Kf();T();It();Qf=class n{constructor(e){this.userService=e}validate(e){return hx(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(M(Ce))};static \u0275dir=le({type:n,selectors:[["","appEmailTaken",""]],features:[nt([{provide:Zs,useExisting:n,multi:!0}])]})}});var Zf,vx=p(()=>{"use strict";In();Kf();T();Zf=class n{validate(e){return px()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appPasswordValidator",""]],features:[nt([{provide:Sn,useExisting:n,multi:!0}])]})}});var Jf,yx=p(()=>{"use strict";In();T();Jf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=le({type:n,selectors:[["","appFullNameValidator",""]],features:[nt([{provide:Sn,useExisting:n,multi:!0}])]})}});function GU(n,e){n&1&&(h(0,"span"),C(1,"Username is required."),f())}function KU(n,e){n&1&&(h(0,"span"),C(1," Username must be at least 3 characters long. "),f())}function YU(n,e){if(n&1&&(h(0,"div",14),N(1,GU,2,0,"span",11)(2,KU,2,0,"span",11),h(3,"span"),C(4,"Enter your full name (first name and last name)."),f()()),n&2){E();let t=_t(8);v(),b("ngIf",t.errors==null?null:t.errors.required),v(),b("ngIf",t.errors==null?null:t.errors.minlength)}}function QU(n,e){n&1&&(h(0,"span"),C(1,"Password is required."),f())}function ZU(n,e){n&1&&(h(0,"span"),C(1,"Password must be at least 6 characters long."),f())}function JU(n,e){n&1&&(h(0,"span"),C(1,"Password must contain at least one capital letter."),f())}function XU(n,e){n&1&&(h(0,"span"),C(1,"Password must contain at least one special character."),f())}function eB(n,e){if(n&1&&(h(0,"div",14),N(1,QU,2,0,"span",11)(2,ZU,2,0,"span",11)(3,JU,2,0,"span",11)(4,XU,2,0,"span",11),f()),n&2){E();let t=_t(14);v(),b("ngIf",t.errors==null?null:t.errors.required),v(),b("ngIf",t.errors==null?null:t.errors.minlength),v(),b("ngIf",t.errors==null?null:t.errors.noCapitalLetter),v(),b("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function tB(n,e){n&1&&(h(0,"span"),C(1,"Email is required."),f())}function nB(n,e){n&1&&(h(0,"span"),C(1,"Please enter a valid email address."),f())}function rB(n,e){n&1&&(h(0,"span"),C(1,"This email is already registered."),f())}function iB(n,e){if(n&1&&(h(0,"div",14),N(1,tB,2,0,"span",11)(2,nB,2,0,"span",11)(3,rB,2,0,"span",11),f()),n&2){E();let t=_t(4);v(),b("ngIf",t.errors==null?null:t.errors.required),v(),b("ngIf",t.errors==null?null:t.errors.email),v(),b("ngIf",t.errors==null?null:t.errors.emailTaken)}}function oB(n,e){n&1&&(h(0,"div",18),C(1," Checking email availability... "),f())}function sB(n,e){if(n&1){let t=G();$t(0),h(1,"label",15),C(2,"Email:"),f(),h(3,"input",16,3),vn("ngModelChange",function(i){R(t);let o=E();return Un(o.user.email,i)||(o.user.email=i),F(i)}),f(),N(5,iB,4,3,"div",8)(6,oB,2,0,"div",17),k(7,"br"),Ht()}if(n&2){let t=_t(4),r=E();v(3),mn("ngModel",r.user.email),b("ngModelOptions",Cs(5,WU))("ngModel",r.user.email),v(2),b("ngIf",t.touched&&t.invalid),v(),b("ngIf",t.pending)}}function aB(n,e){if(n&1&&(h(0,"p",14),C(1),f()),n&2){let t=E();v(),St(t.errorMessage)}}var WU,Bc,_x=p(()=>{"use strict";T();It();at();Oi();Me();In();gx();mx();vx();yx();WU=()=>({updateOn:"change"});Bc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=B(D({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.username,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.username,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(M(Ce),M(Te),M(xt),M(Ft))};static \u0275cmp=Z({type:n,selectors:[["login-sign-up"]],decls:26,vars:11,consts:[["form","ngForm"],["username","ngModel"],["password","ngModel"],["email","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],[1,"error-message"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel","ngModelOptions","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=G();h(0,"div",4)(1,"h4"),C(2),f(),h(3,"form",5,0),S("ngSubmit",function(){return R(i),F(r.onSubmit())}),h(5,"label",6),C(6,"Username:"),f(),h(7,"input",7,1),vn("ngModelChange",function(s){return R(i),Un(r.user.username,s)||(r.user.username=s),F(s)}),f(),N(9,YU,5,2,"div",8),k(10,"br"),h(11,"label",9),C(12,"Password:"),f(),h(13,"input",10,2),vn("ngModelChange",function(s){return R(i),Un(r.user.password,s)||(r.user.password=s),F(s)}),f(),N(15,eB,5,4,"div",8),k(16,"br"),N(17,sB,8,6,"ng-container",11),h(18,"button",12),C(19),f(),h(20,"p"),C(21),h(22,"a",13),S("click",function(s){return R(i),r.toggleMode(),F(s.preventDefault())}),C(23),f()(),k(24,"br"),f(),N(25,aB,2,1,"p",8),f()}if(t&2){let i=_t(4),o=_t(8),s=_t(14);v(2),St(r.isSignupMode?"Create an Account":"Sign In"),v(5),mn("ngModel",r.user.username),v(2),b("ngIf",o.touched&&o.invalid),v(4),mn("ngModel",r.user.password),v(2),b("ngIf",s.touched&&s.invalid),v(2),b("ngIf",r.isSignupMode),v(),b("disabled",i.invalid),v(),Oe(" ",r.isSignupMode?"Sign Up":"Log In"," "),v(2),Oe(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),v(2),Oe(" ",r.isSignupMode?"Sign in here":"Create an account"," "),v(2),b("ngIf",r.errorMessage)}},dependencies:[me,jf,Mn,mr,Ff,l_,u_,qr,s_,Yf,Qf,Zf,Jf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var Do,Cx=p(()=>{"use strict";T();at();It();we();Oi();Do=(n,e)=>{let t=y(Ce),r=y(Te),i=y(xt);return t.loggedInUser$.pipe(cn(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var Xf,bx=p(()=>{"use strict";T();Xf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(h(0,"html",0)(1,"head"),k(2,"meta",1)(3,"meta",2),h(4,"title"),C(5,"Privacy Policy - My Accounts App"),f(),k(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),h(13,"body")(14,"div",10)(15,"h1"),C(16,"Privacy Policy for My Accounts App"),f(),h(17,"p")(18,"strong"),C(19,"Effective Date:"),f(),C(20," 07/02/2025"),f(),h(21,"p"),C(22,"Welcome to "),h(23,"strong"),C(24,"My Accounts App"),f(),C(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),h(26,"h2"),C(27,"1. Information We Collect"),f(),h(28,"ul")(29,"li")(30,"strong"),C(31,"Personal Information:"),f(),C(32," Name, email address, phone number, and other details provided during registration."),f(),h(33,"li")(34,"strong"),C(35,"Usage Data:"),f(),C(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),h(37,"li")(38,"strong"),C(39,"Device Information:"),f(),C(40," IP address, browser type, and operating system."),f()(),h(41,"h2"),C(42,"2. How We Use Your Information"),f(),h(43,"ul")(44,"li"),C(45,"Provide, operate, and improve our app and services."),f(),h(46,"li"),C(47,"Personalize your experience."),f(),h(48,"li"),C(49,"Ensure security and prevent fraudulent activities."),f(),h(50,"li"),C(51,"Comply with legal requirements."),f()(),h(52,"h2"),C(53,"3. Sharing of Information"),f(),h(54,"ul")(55,"li"),C(56,"We do not sell or rent your personal information."),f(),h(57,"li")(58,"strong"),C(59,"Service Providers:"),f(),C(60," Third-party vendors that help us operate our app."),f(),h(61,"li")(62,"strong"),C(63,"Legal Authorities:"),f(),C(64," When required by law or to protect our rights."),f()(),h(65,"h2"),C(66,"4. Data Retention & Security"),f(),h(67,"p"),C(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),h(69,"h2"),C(70,"5. Your Rights"),f(),h(71,"ul")(72,"li"),C(73,"Access and review your personal data."),f(),h(74,"li"),C(75,"Request correction or deletion of your information."),f(),h(76,"li"),C(77,"Opt-out of marketing communications."),f()(),h(78,"h2"),C(79,"6. Third-Party Links"),f(),h(80,"p"),C(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),h(82,"h2"),C(83,"7. Changes to This Policy"),f(),h(84,"p"),C(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),h(86,"h2"),C(87,"8. Contact Us"),f(),h(88,"p"),C(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),h(90,"p"),C(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f;padding:7px}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}"]})}});function lB(n,e){if(n&1){let t=G();h(0,"user-list",6),S("remove",function(i){R(t);let o=E();return F(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;b("users",(t=r)!==null&&t!==void 0?t:Cs(1,cB))}}function uB(n,e){if(n&1){let t=G();h(0,"div",7),S("clickOutsideCapture",function(){R(t);let i=E();return F(i.closeChat("group"))}),h(1,"div",8)(2,"span",9),S("click",function(){R(t);let i=E();return F(i.closeChat("group"))}),C(3,"\xD7"),f(),h(4,"app-chat",10),S("closeChat",function(){R(t);let i=E();return F(i.closeChat("group"))}),f()()()}n&2&&(v(4),b("chatType","group"))}var cB,Ni,eh=p(()=>{"use strict";T();Hs();we();It();Bs();T();cB=()=>[];Ni=class n{userService=y(Ce);socketService=y(En);users$;destroyRef=y(kt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new fe(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(qt(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new fe(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(qt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-index"]],decls:7,vars:4,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/social_cvhg3i.png","alt","group-chat",1,"send-btn"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType"]],template:function(t,r){t&1&&(h(0,"section",0),k(1,"user-filter",1),N(2,lB,1,2,"user-list",2),Ct(3,"async"),f(),h(4,"button",3),S("click",function(){return r.openChat("group")}),k(5,"img",4),f(),N(6,uB,5,1,"div",5)),t&2&&(v(2),b("ngIf",bt(3,2,r.users$)),v(4),b("ngIf",r.isGroupChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background:linear-gradient(90deg,#34495e,#2c3e50)}.send-btn[_ngcontent-%COMP%]{max-width:4em}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px;bottom:15em}.group-chat-btn[_ngcontent-%COMP%]{right:1em!important}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function fB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=E().ngIf;v(),St(t.username)}}function hB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=E().ngIf;v(),Oe("",t.username.substring(0,15),"...")}}function pB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=E().ngIf;v(),St(t.email)}}function gB(n,e){if(n&1&&(h(0,"span"),C(1),f()),n&2){let t=E().ngIf;v(),Oe("",t.email.substring(0,20),"...")}}function mB(n,e){if(n&1){let t=G();h(0,"section",2)(1,"section",3)(2,"button",4),S("click",function(){R(t);let i=E();return F(i.onBack())}),k(3,"img",5),f(),h(4,"h1"),C(5,"User Details"),f()(),h(6,"div",6),k(7,"img",7),f(),h(8,"div",8)(9,"p")(10,"strong"),C(11,"Username:"),f(),N(12,fB,2,1,"span",9)(13,hB,2,1,"span",9),f(),h(14,"p")(15,"strong"),C(16,"Email:"),f(),N(17,pB,2,1,"span",9)(18,gB,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=E();v(7),b("src",t.img?t.img:"../../../assets/images/contact.png",Ve),v(5),b("ngIf",!r.isLongField(t.username,15)),v(),b("ngIf",r.isLongField(t.username,15)),v(4),b("ngIf",!r.isLongField(t.email,20)),v(),b("ngIf",r.isLongField(t.email,20))}}var th,wx=p(()=>{"use strict";T();we();at();It();T();Me();at();th=class n{router=y(Te);route=y(Ft);subscription;userService=y(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(h(0,"div",0),S("click",function(){return r.onBack()}),f(),N(1,mB,19,5,"section",1),Ct(2,"async"),k(3,"router-outlet")),t&2&&(v(),b("ngIf",bt(2,1,r.user$)))},dependencies:[me,qn,zt],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var Ex,Dx=p(()=>{"use strict";T();It();we();Js();Ex=(n,e)=>{let t=n.params.id,r=y(xn),i=y(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getUserById(t).pipe(cn(250),ue(o=>(console.error("Error fetching user:",o),V(null))),Gt(()=>r.hide()))}});var vB,nh,Mx=p(()=>{"use strict";at();fI();rx();sx();ax();dx();_x();Cx();bx();eh();wx();Dx();T();vB=[{path:"contact",component:$f,canActivate:[Do],children:[{path:"edit",component:Uc,canActivate:[Do]},{path:"edit/:id",component:Uc,resolve:{contact:f_},canActivate:[Do]}]},{path:"contact/:id",component:zf,outlet:"modal",resolve:{contact:f_},canActivate:[Do]},{path:"login",component:Bc},{path:"signup",component:Bc},{path:"privacy-policy",component:Xf},{path:"users",component:Ni,canActivate:[Do]},{path:"user/:id",component:th,outlet:"modal",resolve:{user:Ex},canActivate:[Do]},{path:"",component:Ef}],nh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n});static \u0275inj=Ye({imports:[vy.forRoot(vB,{useHash:!1}),vy]})}});function CB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function ih(){try{return typeof indexedDB=="object"}catch{return!1}}function oh(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function Tx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function SB(n,e){return n.replace(IB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function sh(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Sx(o)&&Sx(s)){if(!sh(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Sx(n){return n!==null&&typeof n=="object"}function ah(n){return n&&n._delegate?n._delegate:n}var Ix,yB,xx,p_,_B,g_,Ox,bB,wB,EB,DB,m_,rh,MB,Wr,Gr,IB,Tee,ea=p(()=>{"use strict";Ix=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},yB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[u],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ix(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new p_;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let _=l<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},p_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_B=function(n){let e=Ix(n);return xx.encodeByteArray(e,!0)},g_=function(n){return _B(n).replace(/\./g,"")},Ox=function(n){try{return xx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};bB=()=>CB().__FIREBASE_DEFAULTS__,wB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ox(n[1]);return e&&JSON.parse(e)},DB=()=>{try{return bB()||wB()||EB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m_=()=>{var n;return(n=DB())===null||n===void 0?void 0:n.config};rh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};MB="FirebaseError",Wr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=MB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gr.prototype.create)}},Gr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?SB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wr(i,a,r)}};IB=/\{\$([^}]+)}/g;Tee=4*60*60*1e3;});function xB(n){return n===Mo?void 0:n}function OB(n){return n.instantiationMode==="EAGER"}var nn,Mo,v_,ch,lh=p(()=>{"use strict";ea();nn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};Mo="[DEFAULT]";v_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new rh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OB(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return O(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new v_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var TB,$e,PB,AB,NB,kB,uh,Px=p(()=>{"use strict";TB=[],$e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}($e||{}),PB={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},AB=$e.INFO,NB={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},kB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=NB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},uh=class{constructor(e){this.name=e,this._logLevel=AB,this._logHandler=kB,this._userLogHandler=null,TB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}});function LB(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VB(){return Nx||(Nx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function jB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&kx.set(t,n)}).catch(()=>{}),b_.set(e,n),e}function UB(n){if(__.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});__.set(n,e)}function Fx(n){C_=n(C_)}function BB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(dh(this),e,...t);return Rx.set(r,e.sort?e.sort():[e]),Yn(r)}:VB().includes(n)?function(...e){return n.apply(dh(this),e),Yn(kx.get(this))}:function(...e){return Yn(n.apply(dh(this),e))}}function $B(n){return typeof n=="function"?BB(n):(n instanceof IDBTransaction&&UB(n),RB(n,LB())?new Proxy(n,C_):n)}function Yn(n){if(n instanceof IDBRequest)return jB(n);if(y_.has(n))return y_.get(n);let e=$B(n);return e!==n&&(y_.set(n,e),b_.set(e,n)),e}var RB,Ax,Nx,kx,__,Rx,y_,b_,C_,dh,w_=p(()=>{"use strict";RB=(n,e)=>e.some(t=>n instanceof t);kx=new WeakMap,__=new WeakMap,Rx=new WeakMap,y_=new WeakMap,b_=new WeakMap;C_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return __.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Rx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};dh=n=>b_.get(n)});function So(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Yn(s.result),c.oldVersion,c.newVersion,Yn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function fh(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Yn(t).then(()=>{})}function Lx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(E_.get(e))return E_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=zB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HB.includes(t)))return;let o=function(s,...a){return O(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return E_.set(e,o),o}var HB,zB,E_,hh=p(()=>{"use strict";w_();w_();HB=["get","getKey","getAll","getAllKeys","count"],zB=["put","add","delete","clear"],E_=new Map;Fx(n=>B(D({},n),{get:(e,t,r)=>Lx(e,t)||n.get(e,t,r),has:(e,t)=>!!Lx(e,t)||n.has(e,t)}))});function qB(n){let e=n.getComponent();return e?.type==="VERSION"}function jx(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yr(n){let e=n.name;if(x_.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,n);for(let t of ph.values())jx(t,n);for(let t of _3.values())jx(t,n);return!0}function Hc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function A_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:I_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(t||(t=m_()),!t)throw ki.create("no-options");let o=ph.get(i);if(o){if(sh(t,o.options)&&sh(r,o.config))return o;throw ki.create("duplicate-app",{appName:i})}let s=new ch(i);for(let c of x_.values())s.addComponent(c);let a=new O_(t,r,s);return ph.set(i,a),a}function N_(n=I_){let e=ph.get(n);if(!e&&n===I_&&m_())return A_();if(!e)throw ki.create("no-app",{appName:n});return e}function Qn(n,e,t){var r;let i=(r=y3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}Yr(new nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Hx(){return D_||(D_=So(b3,w3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($c)}catch(t){console.warn(t)}}}}).catch(n=>{throw ki.create("idb-open",{originalErrorMessage:n.message})})),D_}function E3(n){return O(this,null,function*(){try{let t=(yield Hx()).transaction($c),r=yield t.objectStore($c).get(zx(n));return yield t.done,r}catch(e){if(e instanceof Wr)Kr.warn(e.message);else{let t=ki.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}})}function Ux(n,e){return O(this,null,function*(){try{let r=(yield Hx()).transaction($c,"readwrite");yield r.objectStore($c).put(e,zx(n)),yield r.done}catch(t){if(t instanceof Wr)Kr.warn(t.message);else{let r=ki.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(r.message)}}})}function zx(n){return`${n.name}!${n.options.appId}`}function Bx(){return new Date().toISOString().substring(0,10)}function S3(n,e=D3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$x(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$x(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function $x(n){return g_(JSON.stringify({version:2,heartbeats:n})).length}function I3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function x3(n){Yr(new nn("platform-logger",e=>new M_(e),"PRIVATE")),Yr(new nn("heartbeat",e=>new T_(e),"PRIVATE")),Qn(S_,Vx,n),Qn(S_,Vx,"esm2017"),Qn("fire-js","")}var M_,S_,Vx,Kr,WB,GB,KB,YB,QB,ZB,JB,XB,e3,t3,n3,r3,i3,o3,s3,a3,c3,l3,u3,d3,f3,h3,p3,g3,m3,v3,I_,y3,ph,_3,x_,C3,ki,O_,b3,w3,$c,D_,D3,M3,T_,P_,zc=p(()=>{"use strict";lh();Px();ea();ea();hh();M_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};S_="@firebase/app",Vx="0.11.0";Kr=new uh("@firebase/app"),WB="@firebase/app-compat",GB="@firebase/analytics-compat",KB="@firebase/analytics",YB="@firebase/app-check-compat",QB="@firebase/app-check",ZB="@firebase/auth",JB="@firebase/auth-compat",XB="@firebase/database",e3="@firebase/data-connect",t3="@firebase/database-compat",n3="@firebase/functions",r3="@firebase/functions-compat",i3="@firebase/installations",o3="@firebase/installations-compat",s3="@firebase/messaging",a3="@firebase/messaging-compat",c3="@firebase/performance",l3="@firebase/performance-compat",u3="@firebase/remote-config",d3="@firebase/remote-config-compat",f3="@firebase/storage",h3="@firebase/storage-compat",p3="@firebase/firestore",g3="@firebase/vertexai",m3="@firebase/firestore-compat",v3="firebase";I_="[DEFAULT]",y3={[S_]:"fire-core",[WB]:"fire-core-compat",[KB]:"fire-analytics",[GB]:"fire-analytics-compat",[QB]:"fire-app-check",[YB]:"fire-app-check-compat",[ZB]:"fire-auth",[JB]:"fire-auth-compat",[XB]:"fire-rtdb",[e3]:"fire-data-connect",[t3]:"fire-rtdb-compat",[n3]:"fire-fn",[r3]:"fire-fn-compat",[i3]:"fire-iid",[o3]:"fire-iid-compat",[s3]:"fire-fcm",[a3]:"fire-fcm-compat",[c3]:"fire-perf",[l3]:"fire-perf-compat",[u3]:"fire-rc",[d3]:"fire-rc-compat",[f3]:"fire-gcs",[h3]:"fire-gcs-compat",[p3]:"fire-fst",[m3]:"fire-fst-compat",[g3]:"fire-vertex","fire-js":"fire-js",[v3]:"fire-js-all"};ph=new Map,_3=new Map,x_=new Map;C3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new Gr("app","Firebase",C3);O_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}};b3="firebase-heartbeat-database",w3=1,$c="firebase-heartbeat-store",D_=null;D3=1024,M3=30,T_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new P_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return O(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Bx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>M3){let s=I3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kr.warn(r)}})}getHeartbeatsHeader(){return O(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Bx(),{heartbeatsToSend:r,unsentEntries:i}=S3(this._heartbeatsCache.heartbeats),o=g_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Kr.warn(t),""}})}};P_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(this,null,function*(){return ih()?oh().then(()=>!0).catch(()=>!1):!1})}read(){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield E3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return O(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ux(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return O(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ux(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};x3("")});var O3,T3,qx=p(()=>{"use strict";zc();zc();O3="firebase",T3="11.3.0";Qn(O3,T3,"app")});function Jx(n){return n instanceof Wr&&n.code.includes("request-failed")}function Xx({projectId:n}){return`${P3}/projects/${n}/installations`}function eO(n){return{token:n.token,requestStatus:2,expiresIn:L3(n.expiresIn),creationTime:Date.now()}}function tO(n,e){return O(this,null,function*(){let r=(yield e.json()).error;return xo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function nO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function F3(n,{refreshToken:e}){let t=nO(n);return t.append("Authorization",V3(e)),t}function rO(n){return O(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function L3(n){return Number(n.replace("s","000"))}function V3(n){return`${Zx} ${n}`}function j3(r,i){return O(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=Xx(n),s=nO(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:Zx,appId:n.appId,sdkVersion:Qx},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield rO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:eO(d.authToken)}}else throw yield tO("Create Installation",u)})}function iO(n){return new Promise(e=>{setTimeout(e,n)})}function U3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function $3(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=H3(n);return B3.test(t)?t:F_}catch{return F_}}function H3(n){return U3(n).substr(0,22)}function mh(n){return`${n.appName}!${n.appId}`}function sO(n,e){let t=mh(n);aO(t,e),z3(t,e)}function aO(n,e){let t=oO.get(n);if(t)for(let r of t)r(e)}function z3(n,e){let t=q3();t&&t.postMessage({key:n,fid:e}),W3()}function q3(){return!Io&&"BroadcastChannel"in self&&(Io=new BroadcastChannel("[Firebase] FID Change"),Io.onmessage=n=>{aO(n.data.key,n.data.fid)}),Io}function W3(){oO.size===0&&Io&&(Io.close(),Io=null)}function V_(){return k_||(k_=So(G3,K3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Oo)}}})),k_}function gh(n,e){return O(this,null,function*(){let t=mh(n),i=(yield V_()).transaction(Oo,"readwrite"),o=i.objectStore(Oo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&sO(n,e.fid),e})}function cO(n){return O(this,null,function*(){let e=mh(n),r=(yield V_()).transaction(Oo,"readwrite");yield r.objectStore(Oo).delete(e),yield r.done})}function vh(n,e){return O(this,null,function*(){let t=mh(n),i=(yield V_()).transaction(Oo,"readwrite"),o=i.objectStore(Oo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&sO(n,a.fid),a})}function j_(n){return O(this,null,function*(){let e,t=yield vh(n.appConfig,r=>{let i=Y3(r),o=Q3(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===F_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Y3(n){let e=n||{fid:$3(),registrationStatus:0};return lO(e)}function Q3(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(xo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Z3(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:J3(n)}:{installationEntry:e}}function Z3(n,e){return O(this,null,function*(){try{let t=yield j3(n,e);return gh(n.appConfig,t)}catch(t){throw Jx(t)&&t.customData.serverCode===409?yield cO(n.appConfig):yield gh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function J3(n){return O(this,null,function*(){let e=yield Wx(n.appConfig);for(;e.registrationStatus===1;)yield iO(100),e=yield Wx(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield j_(n);return r||t}return e})}function Wx(n){return vh(n,e=>{if(!e)throw xo.create("installation-not-found");return lO(e)})}function lO(n){return X3(n)?{fid:n.fid,registrationStatus:0}:n}function X3(n){return n.registrationStatus===1&&n.registrationTime+Yx<Date.now()}function e$(r,i){return O(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=t$(n,t),s=F3(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:Qx,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield rO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return eO(d)}else throw yield tO("Generate Auth Token",u)})}function t$(n,{fid:e}){return`${Xx(n)}/${e}/authTokens:generate`}function U_(n,e=!1){return O(this,null,function*(){let t,r=yield vh(n.appConfig,o=>{if(!uO(o))throw xo.create("not-registered");let s=o.authToken;if(!e&&i$(s))return o;if(s.requestStatus===1)return t=n$(n,e),o;{if(!navigator.onLine)throw xo.create("app-offline");let a=s$(o);return t=r$(n,a),a}});return t?yield t:r.authToken})}function n$(n,e){return O(this,null,function*(){let t=yield Gx(n.appConfig);for(;t.authToken.requestStatus===1;)yield iO(100),t=yield Gx(n.appConfig);let r=t.authToken;return r.requestStatus===0?U_(n,e):r})}function Gx(n){return vh(n,e=>{if(!uO(e))throw xo.create("not-registered");let t=e.authToken;return a$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function r$(n,e){return O(this,null,function*(){try{let t=yield e$(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield gh(n.appConfig,r),t}catch(t){if(Jx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield cO(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gh(n.appConfig,r)}throw t}})}function uO(n){return n!==void 0&&n.registrationStatus===2}function i$(n){return n.requestStatus===2&&!o$(n)}function o$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+A3}function s$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function a$(n){return n.requestStatus===1&&n.requestTime+Yx<Date.now()}function c$(n){return O(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield j_(e);return r?r.catch(console.error):U_(e).catch(console.error),t.fid})}function l$(n,e=!1){return O(this,null,function*(){let t=n;return yield u$(t),(yield U_(t,e)).token})}function u$(n){return O(this,null,function*(){let{registrationPromise:e}=yield j_(n);e&&(yield e)})}function d$(n){if(!n||!n.options)throw R_("App Configuration");if(!n.name)throw R_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw R_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function R_(n){return xo.create("missing-app-config-values",{valueName:n})}function g$(){Yr(new nn(dO,h$,"PUBLIC")),Yr(new nn(f$,p$,"PRIVATE"))}var Kx,L_,Yx,Qx,Zx,P3,A3,N3,k3,R3,xo,B3,F_,oO,Io,G3,K3,Oo,k_,dO,f$,h$,p$,fO=p(()=>{"use strict";zc();lh();ea();hh();Kx="@firebase/installations",L_="0.6.12";Yx=1e4,Qx=`w:${L_}`,Zx="FIS_v2",P3="https://firebaseinstallations.googleapis.com/v1",A3=60*60*1e3,N3="installations",k3="Installations";R3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xo=new Gr(N3,k3,R3);B3=/^[cdef][\w-]{21}$/,F_="";oO=new Map;Io=null;G3="firebase-installations-database",K3=1,Oo="firebase-installations-store",k_=null;dO="installations",f$="installations-internal",h$=n=>{let e=n.getProvider("app").getImmediate(),t=d$(e),r=Hc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},p$=n=>{let e=n.getProvider("app").getImmediate(),t=Hc(e,dO).getImmediate();return{getId:()=>c$(t),getToken:i=>l$(t,i)}};g$();Qn(Kx,L_);Qn(Kx,L_,"esm2017")});function Qr(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function w$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function D$(n){return O(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(B_))return null;let e=null;return(yield So(B_,E$,{upgrade:(r,i,o,s)=>O(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(pO))return;let c=s.objectStore(pO),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Qr(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Qr(u.auth),p256dh:Qr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Qr(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Qr(u.auth),p256dh:Qr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Qr(u.vapidKey)}}}}})})).close(),yield fh(B_),yield fh("fcm_vapid_details_db"),yield fh("undefined"),M$(e)?e:null})}function M$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function bO(){return $_||($_=So(S$,I$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(qc)}}})),$_}function x$(n){return O(this,null,function*(){let e=wO(n),r=yield(yield bO()).transaction(qc).objectStore(qc).get(e);if(r)return r;{let i=yield D$(n.appConfig.senderId);if(i)return yield q_(n,i),i}})}function q_(n,e){return O(this,null,function*(){let t=wO(n),i=(yield bO()).transaction(qc,"readwrite");return yield i.objectStore(qc).put(e,t),yield i.done,e})}function wO({appConfig:n}){return n.appId}function T$(n,e){return O(this,null,function*(){let t=yield G_(n),r=EO(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(W_(n.appConfig),i)).json()}catch(s){throw Ot.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Ot.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Ot.create("token-subscribe-no-token");return o.token})}function P$(n,e){return O(this,null,function*(){let t=yield G_(n),r=EO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${W_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Ot.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Ot.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Ot.create("token-update-no-token");return o.token})}function A$(n,e){return O(this,null,function*(){let r={method:"DELETE",headers:yield G_(n)};try{let o=yield(yield fetch(`${W_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw Ot.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Ot.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function W_({projectId:n}){return`${y$}/projects/${n}/registrations`}function G_(t){return O(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function EO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==_O&&(i.web.applicationPubKey=r),i}function k$(n){return O(this,null,function*(){let e=yield F$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Qr(e.getKey("auth")),p256dh:Qr(e.getKey("p256dh"))},r=yield x$(n.firebaseDependencies);if(r){if(L$(r.subscriptionOptions,t))return Date.now()>=r.createTime+N$?R$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield A$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return gO(n.firebaseDependencies,t)}else return gO(n.firebaseDependencies,t)})}function R$(n,e){return O(this,null,function*(){try{let t=yield P$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield q_(n.firebaseDependencies,r),t}catch(t){throw t}})}function gO(n,e){return O(this,null,function*(){let r={token:yield T$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield q_(n,r),r.token})}function F$(n,e){return O(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:w$(e)})})}function L$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function mO(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return V$(e,n),j$(e,n),U$(e,n),e}function V$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function j$(n,e){e.data&&(n.data=e.data)}function U$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function B$(n){return typeof n=="object"&&!!n&&CO in n}function $$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function H$(n){if(!n||!n.options)throw H_("App Configuration Object");if(!n.name)throw H_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw H_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function H_(n){return Ot.create("missing-app-config-values",{valueName:n})}function z$(n){return O(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(m$,{scope:v$}),n.swRegistration.update().catch(()=>{}),yield q$(n.swRegistration)}catch(e){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function q$(n){return O(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${hO} ms`)),hO),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function W$(n,e){return O(this,null,function*(){if(!e&&!n.swRegistration&&(yield z$(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");n.swRegistration=e}})}function G$(n,e){return O(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=_O)})}function DO(n,e){return O(this,null,function*(){if(!navigator)throw Ot.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Ot.create("permission-blocked");return yield G$(n,e?.vapidKey),yield W$(n,e?.serviceWorkerRegistration),k$(n)})}function K$(n,e,t){return O(this,null,function*(){let r=Y$(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[CO],message_name:t[_$],message_time:t[C$],message_device_time:Math.floor(Date.now()/1e3)})})}function Y$(n){switch(n){case yh.NOTIFICATION_CLICKED:return"notification_open";case yh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Q$(n,e){return O(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===yh.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(mO(t)):n.onMessageHandler.next(mO(t)));let r=t.data;B$(r)&&r[b$]==="1"&&(yield K$(n,t.messageType,r))})}function X$(){Yr(new nn("messaging",Z$,"PUBLIC")),Yr(new nn("messaging-internal",J$,"PRIVATE")),Qn(vO,yO),Qn(vO,yO,"esm2017")}function e5(){return O(this,null,function*(){try{yield oh()}catch{return!1}return typeof window<"u"&&ih()&&Tx()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function t5(n,e){if(!navigator)throw Ot.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function MO(n=N_()){return e5().then(e=>{if(!e)throw Ot.create("unsupported-browser")},e=>{throw Ot.create("indexed-db-unsupported")}),Hc(ah(n),"messaging").getImmediate()}function SO(n,e){return O(this,null,function*(){return n=ah(n),DO(n,e)})}function IO(n,e){return n=ah(n),t5(n,e)}var m$,v$,_O,y$,CO,_$,C$,b$,hO,yh,B_,E$,pO,S$,I$,qc,$_,O$,Ot,N$,z_,vO,yO,Z$,J$,xO=p(()=>{"use strict";fO();lh();hh();ea();zc();m$="/firebase-messaging-sw.js",v$="/firebase-cloud-messaging-push-scope",_O="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",y$="https://fcmregistrations.googleapis.com/v1",CO="google.c.a.c_id",_$="google.c.a.c_l",C$="google.c.a.ts",b$="google.c.a.e",hO=1e4;yh=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(yh||{});B_="fcm_token_details_db",E$=5,pO="fcm_token_object_Store";S$="firebase-messaging-database",I$=1,qc="firebase-messaging-store",$_=null;O$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ot=new Gr("messaging","Messaging",O$);N$=7*24*60*60*1e3;$$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");z_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=H$(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};vO="@firebase/messaging",yO="0.12.16";Z$=n=>{let e=new z_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>Q$(e,t)),e},J$=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>DO(e,r)}};X$()});var OO=p(()=>{"use strict";xO()});function n5(n){return Wi(()=>Xe(new Error(n)))}function r5(n,e,t,r){return()=>{if(!(Id(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(_e),o=n.get(_n);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=V(null);break;case"registerWithDelay":s=PO(+c[0]||0);break;case"registerWhenStable":let l=W(n.get(_n).whenStable());s=c[0]?Hl(l,PO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function PO(n){return V(null).pipe(cn(n))}function i5(n,e){return new ta(Id(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function o5(n,e={}){return ps([_h,Ch,{provide:TO,useValue:n},{provide:Wc,useValue:e},{provide:ta,useFactory:i5,deps:[Wc,Yt]},{provide:bs,useFactory:r5,deps:[et,TO,Wc,Yt],multi:!0}])}var Gc,ta,_h,Ch,TO,Wc,AO,K_=p(()=>{"use strict";T();T();Me();we();ni();Gc="Service workers are disabled or not supported by this browser";ta=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=n5(Gc);else{let r=Yo(e,"controllerchange").pipe(j(()=>e.controller)),i=Wi(()=>V(e.controller)),o=tr(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(ke(()=>e.getRegistration()));let l=Yo(e,"message").pipe(j(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(Kp());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(be(1),ne(r=>{r.postMessage(D({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),be(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},_h=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ge,!t.isEnabled){this.messages=Gi,this.notificationClicks=Gi,this.subscription=Gi;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(ke(i=>i.getSubscription()));this.subscription=Hl(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Gc));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(ke(s=>s.subscribe(r)),be(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Gc));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),ke(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(A(ta))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),Ch=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Gi,this.unrecoverable=Gi;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Gc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Gc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(A(ta))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})();TO=new L("");Wc=class{};AO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[o5(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[_h,Ch]})}}return n})()});var Ri,bh=p(()=>{"use strict";we();lc();T();K_();Va();na();Ri=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return O(this,null,function*(){try{let e=yield qi(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return O(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield qi(this.http.post(`${ht.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return O(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",e);try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Payload before sending to server:",JSON.stringify({title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},null,2)),console.log("\u{1F4E1} Sending notification to server");let r=yield qi(this.http.post(`${ht.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return O(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return O(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield qi(this.http.get(`${ht.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return O(this,null,function*(){try{let e=yield qi(this.http.get(`${ht.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}startKeepAliveNotifications(){setInterval(()=>O(this,null,function*(){console.log("\u{1F504} Sending keep-alive notification...");try{yield this.sendNotification({title:"\u{1F504} Keep Alive",body:"Ensuring the app stays awake...",wakeUpApp:!0,silent:!0,vibrate:[],autoDismiss:!0,type:"keep-alive"}),console.log("\u2705 Keep-alive notification sent.")}catch(e){console.error("\u274C Failed to send keep-alive notification",e)}}),3e4)}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(A(_h),A(po),A(Ch),A(On))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var c5,On,na=p(()=>{"use strict";T();qx();OO();we();bh();It();T();c5={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},On=class n{messaging;fcmToken={};tokenSubject=new fe(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=y(et);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=A_(c5);this.messaging=MO(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(Ri)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return O(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return O(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return O(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield SO(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){IO(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return O(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var wh,kO=p(()=>{"use strict";T();wh=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Eh,RO=p(()=>{"use strict";T();na();Eh=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return O(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>O(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(A(On))};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function u5(n,e){n&1&&($t(0),h(1,"a",15),C(2,"Login"),f(),h(3,"a",16),C(4,"Sign Up"),f(),Ht())}function d5(n,e){if(n&1&&($t(0),k(1,"img",19),Ht()),n&2){let t=E(2);v(),b("src",t.loggedInUser==null?null:t.loggedInUser.img,Ve)}}function f5(n,e){if(n&1&&C(0),n&2){let t=E(2);Oe(" ",t.getUserInitial()," ")}}function h5(n,e){if(n&1){let t=G();h(0,"div",17),S("click",function(){R(t);let i=E();return F(i.toggleUpload=!i.toggleUpload)}),N(1,d5,2,1,"ng-container",13)(2,f5,1,1,"ng-template",null,1,Bn),f(),h(4,"button",18),S("click",function(){R(t);let i=E();return F(i.onLogout())}),C(5,"Logout"),f()}if(n&2){let t=_t(3),r=E();v(),b("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function p5(n,e){if(n&1){let t=G();h(0,"div")(1,"image-upload",20),S("imageUploaded",function(i){R(t);let o=E();return F(o.onImageUploaded(i))}),f()()}}var l5,Dh,FO=p(()=>{"use strict";T();It();at();Oi();Me();h_();l5=()=>({exact:!0});Dh=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=B(D({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(M(Ce),M(Te),M(xt))};static \u0275cmp=Z({type:n,selectors:[["app-header"]],decls:17,vars:5,consts:[["loggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"nav-wrapper"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["src","../../../assets/images/home.png","alt","Home"],["routerLink","/contact","routerLinkActive","active"],["src","../../../assets/images/account.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["routerLink","/login"],["routerLink","/signup"],[1,"user-avatar",3,"click"],[3,"click"],["alt","User Image",3,"src"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(h(0,"header")(1,"div",2),k(2,"img",3),f(),h(3,"div",4)(4,"nav")(5,"a",5),k(6,"img",6),f(),h(7,"a",7),k(8,"img",8),f(),h(9,"a",9),k(10,"img",10),f()()(),h(11,"div",11)(12,"div",12),N(13,u5,5,0,"ng-container",13)(14,h5,6,2,"ng-template",null,0,Bn),f()(),N(16,p5,2,0,"div",14),f()),t&2){let i=_t(15);v(5),b("routerLinkActiveOptions",Cs(4,l5)),v(8),b("ngIf",!r.loggedInUser)("ngIfElse",i),v(3),b("ngIf",r.toggleUpload)}},dependencies:[me,wn,hS,Xs],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}"]})}});function m5(n,e){n&1&&(h(0,"div",1),k(1,"div",2),f())}var Mh,LO=p(()=>{"use strict";T();Js();Me();Mh=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(M(xn))};static \u0275cmp=Z({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(N(0,m5,2,0,"div",0),Ct(1,"async")),t&2&&b("ngIf",bt(1,1,r.isLoading))},dependencies:[me,zt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function y5(n,e){if(n&1){let t=G();h(0,"section")(1,"h4"),C(2),f(),h(3,"button",1),S("click",function(){R(t);let i=E();return F(i.onCloseMsg())}),C(4,"X"),f()()}if(n&2){let t=e.ngIf;ED("msg ",t.type,""),b("@toggleMsg",void 0),v(2),St(t.txt)}}var Sh,VO=p(()=>{"use strict";we();wf();T();Oi();Me();Sh=class n{constructor(e){this.msgService=e}msg$=V(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(M(xt))};static \u0275cmp=Z({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(N(0,y5,5,5,"section",0),Ct(1,"async")),t&2&&b("ngIf",bt(1,1,r.msg$))},dependencies:[me,zt],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[Cf("toggleMsg",[Oc(":enter",[Kn({transform:"translateY(-100%)"}),xc("0.3s ease-in-out",Kn({transform:"translateY(0%)"}))]),Oc(":leave",[Kn({transform:"translateY(0%)"}),xc("0.3s ease-in-out",Kn({transform:"translateY(-100%)"}))])])]}})}});function C5(n,e){if(n&1){let t=G();h(0,"button",4),S("click",function(){R(t);let i=E();return F(i.installPWA())}),C(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}var Ih,jO=p(()=>{"use strict";T();we();$r();na();kO();bh();RO();It();Bs();T();Me();at();FO();LO();VO();Ih=class n{title="MyAccounts";contactService=y(wt);firebaseService=y(On);pwaService=y(wh);notificationMobileService=y(Eh);notificationService=y(Ri);userService=y(Ce);socketService=y(En);subscription;idleTimer;idleTime=0;idleMaxTime=600;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){this.notificationService.startKeepAliveNotifications(),this.keepScreenAwake(),this.subscription=this.contactService.loadContacts().pipe(be(1)).subscribe({error:e=>console.log("err:",e)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>O(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let e=yield this.firebaseService.getFCMToken();e?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",e):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",e=>{e.data&&e.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",e.data.token),this.userService.restoreLoginToken(e.data.token)),e.data&&e.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let e=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-e<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(e=>{e&&console.log("\u{1F511} FCM Token received (on init):",e)}),this.firebaseService.getTokenObservable().subscribe(e=>{e&&console.log("\u{1F511} FCM Token received:",e)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}keepScreenAwake(){return O(this,null,function*(){if("wakeLock"in navigator)try{let e=yield navigator.wakeLock.request("screen");console.log("\u2705 Wake Lock enabled"),e.addEventListener("release",()=>{console.log("\u26A0\uFE0F Wake Lock was released")})}catch(e){console.error("\u274C Wake Lock failed:",e)}else console.warn("\u26A0\uFE0F Wake Lock API not supported")})}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(h(0,"main",0),k(1,"app-header"),h(2,"div",1),N(3,C5,2,0,"button",2),f(),k(4,"router-outlet")(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),k(8,"msg")),t&2&&(v(3),b("ngIf",r.showInstallButton))},dependencies:[me,qn,Dh,Mh,Sh],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:.5em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function UO(n){return new I(3e3,!1)}function b5(){return new I(3100,!1)}function w5(){return new I(3101,!1)}function E5(n){return new I(3001,!1)}function D5(n){return new I(3003,!1)}function M5(n){return new I(3004,!1)}function S5(n,e){return new I(3005,!1)}function I5(){return new I(3006,!1)}function x5(){return new I(3007,!1)}function O5(n,e){return new I(3008,!1)}function T5(n){return new I(3002,!1)}function P5(n,e,t,r,i){return new I(3010,!1)}function A5(){return new I(3011,!1)}function N5(){return new I(3012,!1)}function k5(){return new I(3200,!1)}function R5(){return new I(3202,!1)}function F5(){return new I(3013,!1)}function L5(n){return new I(3014,!1)}function V5(n){return new I(3015,!1)}function j5(n){return new I(3016,!1)}function U5(n,e){return new I(3404,!1)}function B5(n){return new I(3502,!1)}function $5(n){return new I(3503,!1)}function H5(){return new I(3300,!1)}function z5(n){return new I(3504,!1)}function q5(n){return new I(3301,!1)}function W5(n,e){return new I(3302,!1)}function G5(n){return new I(3303,!1)}function K5(n,e){return new I(3400,!1)}function Y5(n){return new I(3401,!1)}function Q5(n){return new I(3402,!1)}function Z5(n,e){return new I(3505,!1)}function Fi(n){switch(n.length){case 0:return new xi;case 1:return n[0];default:return new Ic(n)}}function eT(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((m,g)=>{let _=g,w=m;if(g!=="offset")switch(_=n.normalizePropertyName(_,i),w){case bf:w=t.get(g);break;case gr:w=r.get(g);break;default:w=n.normalizeStyleValue(g,_,w,i);break}d.set(_,w)}),u||o.push(d),a=d,s=l}),i.length)throw B5(i);return o}function v0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Y_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Y_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Y_(t,"destroy",n)));break}}function Y_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=y0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function y0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function on(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function BO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function _0(n){let e=n.parentNode||n.host||null;return e===J5?null:e}function X5(n){return n.substring(1,6)=="ebkit"}function e4(n){To||(To=t4()||{},$O=To.style?"WebkitAppearance"in To.style:!1);let e=!0;return To.style&&!X5(n)&&(e=n in To.style,!e&&$O&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in To.style)),e}function t4(){return typeof document<"u"?document.body:null}function tT(n,e){for(;e;){if(e===n)return!0;e=_0(e)}return!1}function nT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Zr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:r0(parseFloat(e[1]),e[2])}function r0(n,e){switch(e){case"s":return n*n4;default:return n}}function kh(n,e,t){return n.hasOwnProperty("duration")?n:i4(n,e,t)}function i4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(UO(n)),{duration:0,delay:0,easing:""};i=r0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=r0(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(b5()),a=!0),o<0&&(e.push(w5()),a=!0),a&&e.splice(c,0,UO(n))}return{duration:i,delay:o,easing:s}}function o4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function vr(n,e,t){e.forEach((r,i)=>{let o=b0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Ao(n,e){e.forEach((t,r)=>{let i=b0(r);n.style[i]=""})}function Kc(n){return Array.isArray(n)?n.length==1?n[0]:uI(n):n}function s4(n,e,t){let r=e.params||{},i=oT(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(E5(o))})}function oT(n){let e=[];if(typeof n=="string"){let t;for(;t=i0.exec(n);)e.push(t[1]);i0.lastIndex=0}return e}function Qc(n,e,t){let r=`${n}`,i=r.replace(i0,(o,s)=>{let a=e[s];return a==null&&(t.push(D5(s)),a=""),a.toString()});return i==r?n:i}function b0(n){return n.replace(a4,(...e)=>e[1].toUpperCase())}function c4(n,e){return n===0||e===0}function l4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,w0(n,a)))}}return e}function rn(n,e,t){switch(e.type){case re.Trigger:return n.visitTrigger(e,t);case re.State:return n.visitState(e,t);case re.Transition:return n.visitTransition(e,t);case re.Sequence:return n.visitSequence(e,t);case re.Group:return n.visitGroup(e,t);case re.Animate:return n.visitAnimate(e,t);case re.Keyframes:return n.visitKeyframes(e,t);case re.Style:return n.visitStyle(e,t);case re.Reference:return n.visitReference(e,t);case re.AnimateChild:return n.visitAnimateChild(e,t);case re.AnimateRef:return n.visitAnimateRef(e,t);case re.Query:return n.visitQuery(e,t);case re.Stagger:return n.visitStagger(e,t);default:throw M5(e.type)}}function w0(n,e){return window.getComputedStyle(n)[e]}function d4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>f4(r,t,e)):t.push(n),t}function f4(n,e,t){if(n[0]==":"){let c=h4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(V5(n)),e;let i=r[1],o=r[2],s=r[3];e.push(zO(i,s));let a=i==Fh&&s==Fh;o[0]=="<"&&!a&&e.push(zO(s,i))}function h4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(j5(n)),"* => *"}}function zO(n,e){let t=Oh.has(n)||Th.has(n),r=Oh.has(e)||Th.has(e);return(i,o)=>{let s=n==Fh||n==i,a=e==Fh||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Oh.has(n):Th.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Oh.has(e):Th.has(e)),s&&a}}function aT(n,e,t,r){return new o0(n).build(e,t,r)}function g4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==sT);return e&&(n=n.replace(p4,"")),n=n.replace(/@\*/g,Nh).replace(/@\w+/g,t=>Nh+"-"+t.slice(1)).replace(/:animating/g,n0),[n,e]}function m4(n){return n?D({},n):null}function v4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function y4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=kh(n,e).duration;return Q_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Q_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=kh(t,e);return Q_(i.duration,i.delay,i.easing)}function Po(n){return n?(n=D({},n),n.params&&(n.params=m4(n.params))):n={},n}function Q_(n,e,t){return{duration:n,delay:e,easing:t}}function E0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function cT(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new a0().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function WO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function D4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,gr)}else for(let[o,s]of i)t.set(o,s)}),t}function GO(n,e,t,r,i,o,s,a,c,l,u,d,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:m}}function M4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function lT(n,e){let t=D({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function S4(n,e,t){return new d0(n,e,t)}function I4(n,e,t){let r=[(s,a)=>!0],i={type:re.Sequence,steps:[],options:null},o={type:re.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new jh(n,o,e)}function KO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function R4(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function F4(n){return n??null}function Ph(n){return n&&n.nodeType===1}function L4(n){return n=="start"||n=="done"}function QO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function ZO(n,e,t,r,i){let o=[];t.forEach(c=>o.push(QO(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let m=e.computeStyle(l,d,i);u.set(d,m),(!m||m.length==0)&&(l[Zn]=k4,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>QO(c,o[a++])),s}function JO(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Tn(n,e){n.classList?.add(e)}function ra(n,e){n.classList?.remove(e)}function V4(n,e,t){Fi(t).onDone(()=>n.processLeaveNode(e))}function j4(n){let e=[];return dT(n,e),e}function dT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Ic?dT(r.players,e):e.push(r)}}function U4(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function XO(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function B4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=e0(e[0]),e.length>1&&(r=e0(e[e.length-1]))):e instanceof Map&&(t=e0(e)),t||r?new g0(n,t,r):null}function e0(n){let e=null;return n.forEach((t,r)=>{$4(r)&&(e=e||new Map,e.set(r,t))}),e}function $4(n){return n==="display"||n==="position"}function H4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function z4(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var J5,To,$O,C0,No,ko,n4,rT,r4,iT,t0,xh,Nh,HO,n0,i0,a4,u4,Rh,Fh,Oh,Th,sT,p4,qO,o0,s0,Zc,_4,C4,b4,w4,E4,a0,Lh,c0,Vh,l0,Z_,jh,u0,d0,x4,f0,YO,O4,J_,T4,P4,A4,N4,uT,k4,Zn,Jc,Yc,X_,h0,p0,Xc,ia,g0,Uh,Bh,Ah,fT,$h,m0,Hh,D0=p(()=>{"use strict";wf();T();T();J5=typeof document>"u"?null:document.documentElement;To=null,$O=!1;C0=(()=>{class n{validateStyleProperty(t){return e4(t)}containsElement(t,r){return tT(t,r)}getParentElement(t){return _0(t)}query(t,r,i){return nT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new xi(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})(),No=class{static{this.NOOP=new C0}},ko=class{},n4=1e3,rT="{{",r4="}}",iT="ng-enter",t0="ng-leave",xh="ng-trigger",Nh=".ng-trigger",HO="ng-animating",n0=".ng-animating";i0=new RegExp(`${rT}\\s*(.+?)\\s*${r4}`,"g");a4=/-+([a-z0-9])/g;u4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Rh=class extends ko{normalizePropertyName(e,t){return b0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(u4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(S5(e,r))}return s+o}},Fh="*";Oh=new Set(["true","1"]),Th=new Set(["false","0"]);sT=":self",p4=new RegExp(`s*${sT}s*,?`,"g");qO="",o0=class{constructor(e){this._driver=e}build(e,t,r){let i=new s0(t);return this._resetContextStyleTimingState(i),rn(this,Kc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=qO,e.collectedStyles=new Map,e.collectedStyles.set(qO,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(I5()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==re.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==re.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(x5())}),{type:re.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{oT(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(O5(e.name,[...o.values()]))}return{type:re.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=rn(this,Kc(e.animation),t),i=d4(e.expr,t.errors);return{type:re.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Po(e.options)}}visitSequence(e,t){return{type:re.Sequence,steps:e.steps.map(r=>rn(this,r,t)),options:Po(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=rn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:re.Group,steps:o,options:Po(e.options)}}visitAnimate(e,t){let r=y4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Kn({});if(o.type==re.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Kn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:re.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===gr?r.push(a):t.errors.push(T5(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(rT)>=0){o=!0;break}}}),{type:re.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(P5(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&s4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:re.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(A5()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map($=>{let se=this._makeStyleAst($,t),Y=se.offset!=null?se.offset:v4(se.styles),he=0;return Y!=null&&(o++,he=se.offset=Y),c=c||he<0||he>1,a=a||he<l,l=he,s.push(he),se});c&&t.errors.push(N5()),a&&t.errors.push(k5());let d=e.steps.length,m=0;o>0&&o<d?t.errors.push(R5()):o==0&&(m=i/(d-1));let g=d-1,_=t.currentTime,w=t.currentAnimateTimings,P=w.duration;return u.forEach(($,se)=>{let Y=m>0?se==g?1:m*se:s[se],he=Y*P;t.currentTime=_+w.delay+he,w.duration=he,this._validateStyleAst($,t),$.offset=Y,r.styles.push($)}),r}visitReference(e,t){return{type:re.Reference,animation:rn(this,Kc(e.animation),t),options:Po(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:re.AnimateChild,options:Po(e.options)}}visitAnimateRef(e,t){return{type:re.AnimateRef,animation:this.visitReference(e.animation,t),options:Po(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=g4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,on(t.collectedStyles,t.currentQuerySelector,new Map);let a=rn(this,Kc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:re.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Po(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(F5());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:kh(e.timings,t.errors,!0);return{type:re.Stagger,animation:rn(this,Kc(e.animation),t),timings:r,options:null}}};s0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};Zc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},_4=1,C4=":enter",b4=new RegExp(C4,"g"),w4=":leave",E4=new RegExp(w4,"g");a0=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Zc;let d=new c0(e,t,l,i,o,u,[]);d.options=c;let m=c.delay?Zr(c.delay):0;d.currentTimeline.delayNextStep(m),d.currentTimeline.setStyles([s],null,d.errors,c),rn(this,r,d);let g=d.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let w=g.length-1;w>=0;w--){let P=g[w];if(P.element===t){_=P;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,d.errors,c)}return g.length?g.map(_=>_.buildKeyframes()):[E0(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Zr(Qc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Zr(r.duration):null,a=r.delay!=null?Zr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),rn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==re.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Lh);let s=Zr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>rn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Zr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),rn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Qc(r,t.params,t.errors):r;return kh(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==re.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Zr(i.delay):0;o&&(t.previousNode.type===re.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Lh);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),rn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let m=d.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;rn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Lh={},c0=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Vh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Zr(r.duration)),r.delay!=null&&(i.delay=Zr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Qc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Lh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new l0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(b4,"."+this._enterClassName),e=e.replace(E4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(L5(t)),a}},Vh=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=_4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||gr),this._currentKeyframe.set(t,gr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=D4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Qc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??gr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===bf?e.add(d):u===gr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return E0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},l0=class extends Vh{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",WO(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let m=new Map(e[d]),g=m.get("offset"),_=t+g*r;m.set("offset",WO(_/s)),o.push(m)}r=s,t=0,i="",e=o}return E0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};Z_={},jh=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return M4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],m=this.ast.options&&this.ast.options.params||Z_,g=a&&a.params||Z_,_=this.buildStyles(r,g,d),w=c&&c.params||Z_,P=this.buildStyles(i,w,d),$=new Set,se=new Map,Y=new Map,he=i==="void",We={params:lT(w,m),delay:this.ast.options?.delay},Se=u?[]:cT(e,t,this.ast.animation,o,s,_,P,We,l,d),Le=0;return Se.forEach(ct=>{Le=Math.max(ct.duration+ct.delay,Le)}),d.length?GO(t,this._triggerName,r,i,he,_,P,[],[],se,Y,Le,d):(Se.forEach(ct=>{let yr=ct.element,Ro=on(se,yr,new Set);ct.preStyleProps.forEach(Li=>Ro.add(Li));let S0=on(Y,yr,new Set);ct.postStyleProps.forEach(Li=>S0.add(Li)),yr!==t&&$.add(yr)}),GO(t,this._triggerName,r,i,he,_,P,Se,[...$.values()],se,Y,Le))}};u0=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=lT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Qc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};d0=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new u0(i.style,o,r))}),KO(this.states,"true","1"),KO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new jh(e,i,this.states))}),this.fallbackTransition=I4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};x4=new Zc,f0=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=aT(this._driver,t,r,i);if(r.length)throw $5(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=eT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=cT(this._driver,t,o,iT,t0,new Map,new Map,r,x4,i),s.forEach(u=>{let d=on(a,u.element,new Map);u.postStyleProps.forEach(m=>d.set(m,null))})):(i.push(H5()),s=[]),i.length)throw z5(i);a.forEach((u,d)=>{u.forEach((m,g)=>{u.set(g,this._driver.computeStyle(d,g,gr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Fi(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw q5(e);return t}listen(e,t,r,i){let o=y0(t,"","","");return v0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},YO="ng-animate-queued",O4=".ng-animate-queued",J_="ng-animate-disabled",T4=".ng-animate-disabled",P4="ng-star-inserted",A4=".ng-star-inserted",N4=[],uT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},k4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zn="__ng_removed",Jc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=F4(i),r){let o=e,{value:s}=o,a=Zh(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Yc="void",X_=new Jc(Yc),h0=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Tn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw W5(r,t);if(r==null||r.length==0)throw G5(t);if(!L4(r))throw K5(r,t);let o=on(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=on(this._engine.statesByElement,e,new Map);return a.has(t)||(Tn(e,xh),Tn(e,xh+"-"+t),a.set(t,X_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Y5(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Xc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Tn(e,xh),Tn(e,xh+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Jc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=X_),!(l.value===Yc)&&c.value===l.value){if(!U4(c.params,l.params)){let w=[],P=o.matchStyles(c.value,c.params,w),$=o.matchStyles(l.value,l.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Ao(e,P),vr(e,$)})}return}let m=on(this._engine.playersByElement,e,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(Tn(e,YO),s.onStart(()=>{ra(e,YO)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let P=this._engine.playersByElement.get(e);if(P){let $=P.indexOf(s);$>=0&&P.splice($,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Nh,!0);r.forEach(i=>{if(i[Zn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Yc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Fi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||X_,u=new Jc(Yc),d=new Xc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Zn];(!o||o===uT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Tn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=y0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,v0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},p0=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new h0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Ph(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ph(t))return;let o=t[Zn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Tn(e,J_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ra(e,J_))}removeNode(e,t,r){if(Ph(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Zn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ph(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Nh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,n0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Zn];if(t&&t.setForRemoval){if(e[Zn]=uT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(J_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,T4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Tn(i,P4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Fi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Q5(e)}_flushAnimations(e,t){let r=new Zc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let q=this.driver.query(U,O4,!0);for(let K=0;K<q.length;K++)u.add(q[K])});let d=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=JO(m,this.collectedEnterElements),_=new Map,w=0;g.forEach((U,q)=>{let K=iT+w++;_.set(q,K),U.forEach(ve=>Tn(ve,K))});let P=[],$=new Set,se=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let q=this.collectedLeaveElements[U],K=q[Zn];K&&K.setForRemoval&&(P.push(q),$.add(q),K.hasAnimation?this.driver.query(q,A4,!0).forEach(ve=>$.add(ve)):se.add(q))}let Y=new Map,he=JO(m,Array.from($));he.forEach((U,q)=>{let K=t0+w++;Y.set(q,K),U.forEach(ve=>Tn(ve,K))}),e.push(()=>{g.forEach((U,q)=>{let K=_.get(q);U.forEach(ve=>ra(ve,K))}),he.forEach((U,q)=>{let K=Y.get(q);U.forEach(ve=>ra(ve,K))}),P.forEach(U=>{this.processLeaveNode(U)})});let We=[],Se=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(K=>{let ve=K.player,lt=K.element;if(We.push(ve),this.collectedEnterElements.length){let Et=lt[Zn];if(Et&&Et.setForMove){if(Et.previousTriggersValues&&Et.previousTriggersValues.has(K.triggerName)){let Vi=Et.previousTriggersValues.get(K.triggerName),sn=this.statesByElement.get(K.element);if(sn&&sn.has(K.triggerName)){let el=sn.get(K.triggerName);el.value=Vi,sn.set(K.triggerName,el)}}ve.destroy();return}}let Jn=!d||!this.driver.containsElement(d,lt),Wt=Y.get(lt),Jr=_.get(lt),He=this._buildInstruction(K,r,Jr,Wt,Jn);if(He.errors&&He.errors.length){Se.push(He);return}if(Jn){ve.onStart(()=>Ao(lt,He.fromStyles)),ve.onDestroy(()=>vr(lt,He.toStyles)),i.push(ve);return}if(K.isFallbackTransition){ve.onStart(()=>Ao(lt,He.fromStyles)),ve.onDestroy(()=>vr(lt,He.toStyles)),i.push(ve);return}let O0=[];He.timelines.forEach(Et=>{Et.stretchStartingKeyframe=!0,this.disabledNodes.has(Et.element)||O0.push(Et)}),He.timelines=O0,r.append(lt,He.timelines);let ET={instruction:He,player:ve,element:lt};s.push(ET),He.queriedElements.forEach(Et=>on(a,Et,[]).push(ve)),He.preStyleProps.forEach((Et,Vi)=>{if(Et.size){let sn=c.get(Vi);sn||c.set(Vi,sn=new Set),Et.forEach((el,Qh)=>sn.add(Qh))}}),He.postStyleProps.forEach((Et,Vi)=>{let sn=l.get(Vi);sn||l.set(Vi,sn=new Set),Et.forEach((el,Qh)=>sn.add(Qh))})});if(Se.length){let U=[];Se.forEach(q=>{U.push(Z5(q.triggerName,q.errors))}),We.forEach(q=>q.destroy()),this.reportError(U)}let Le=new Map,ct=new Map;s.forEach(U=>{let q=U.element;r.has(q)&&(ct.set(q,q),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Le))}),i.forEach(U=>{let q=U.element;this._getPreviousPlayers(q,!1,U.namespaceId,U.triggerName,null).forEach(ve=>{on(Le,q,[]).push(ve),ve.destroy()})});let yr=P.filter(U=>XO(U,c,l)),Ro=new Map;ZO(Ro,this.driver,se,l,gr).forEach(U=>{XO(U,c,l)&&yr.push(U)});let Li=new Map;g.forEach((U,q)=>{ZO(Li,this.driver,new Set(U),c,bf)}),yr.forEach(U=>{let q=Ro.get(U),K=Li.get(U);Ro.set(U,new Map([...q?.entries()??[],...K?.entries()??[]]))});let Yh=[],I0=[],x0={};s.forEach(U=>{let{element:q,player:K,instruction:ve}=U;if(r.has(q)){if(u.has(q)){K.onDestroy(()=>vr(q,ve.toStyles)),K.disabled=!0,K.overrideTotalTime(ve.totalTime),i.push(K);return}let lt=x0;if(ct.size>1){let Wt=q,Jr=[];for(;Wt=Wt.parentNode;){let He=ct.get(Wt);if(He){lt=He;break}Jr.push(Wt)}Jr.forEach(He=>ct.set(He,lt))}let Jn=this._buildAnimation(K.namespaceId,ve,Le,o,Li,Ro);if(K.setRealPlayer(Jn),lt===x0)Yh.push(K);else{let Wt=this.playersByElement.get(lt);Wt&&Wt.length&&(K.parentPlayer=Fi(Wt)),i.push(K)}}else Ao(q,ve.fromStyles),K.onDestroy(()=>vr(q,ve.toStyles)),I0.push(K),u.has(q)&&i.push(K)}),I0.forEach(U=>{let q=o.get(U.element);if(q&&q.length){let K=Fi(q);U.setRealPlayer(K)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<P.length;U++){let q=P[U],K=q[Zn];if(ra(q,t0),K&&K.hasAnimation)continue;let ve=[];if(a.size){let Jn=a.get(q);Jn&&Jn.length&&ve.push(...Jn);let Wt=this.driver.query(q,n0,!0);for(let Jr=0;Jr<Wt.length;Jr++){let He=a.get(Wt[Jr]);He&&He.length&&ve.push(...He)}}let lt=ve.filter(Jn=>!Jn.destroyed);lt.length?V4(this,q,lt):this.processLeaveNode(q)}return P.length=0,Yh.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let q=this.players.indexOf(U);this.players.splice(q,1)}),U.play()}),Yh}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Yc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=on(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),d.push(g)})}Ao(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,m=t.timelines.map(_=>{let w=_.element;u.add(w);let P=w[Zn];if(P&&P.removedBeforeQueried)return new xi(_.duration,_.delay);let $=w!==c,se=j4((r.get(w)||N4).map(Le=>Le.getRealPlayer())).filter(Le=>{let ct=Le;return ct.element?ct.element===w:!1}),Y=o.get(w),he=s.get(w),We=eT(this._normalizer,_.keyframes,Y,he),Se=this._buildPlayer(_,We,se);if(_.subTimeline&&i&&d.add(w),$){let Le=new Xc(e,a,w);Le.setRealPlayer(Se),l.push(Le)}return Se});l.forEach(_=>{on(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>R4(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>Tn(_,HO));let g=Fi(m);return g.onDestroy(()=>{u.forEach(_=>ra(_,HO)),vr(c,t.toStyles)}),d.forEach(_=>{on(i,_,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new xi(e.duration,e.delay)}},Xc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new xi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>v0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){on(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};ia=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new p0(e.body,t,r),this._timelineEngine=new f0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=aT(this._driver,o,c,l);if(c.length)throw U5(i,c);l.length&&void 0,a=S4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=BO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=BO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};g0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vr(this._element,this._initialStyles),this._endStyles&&(vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ao(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ao(this._element,this._endStyles),this._endStyles=null),vr(this._element,this._initialStyles),this._state=3)}};Uh=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:w0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Bh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return tT(e,t)}getParentElement(e){return _0(e)}query(e,t,r){return nT(e,t,r)}computeStyle(e,t,r){return w0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof Uh);c4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((_,w)=>l.set(w,_))});let d=o4(t).map(g=>new Map(g));d=l4(e,d,l);let m=B4(e,d);return new Uh(e,d,c,m)}},Ah="@",fT="@.disabled",$h=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Ah&&t==fT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},m0=class extends $h{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Ah?t.charAt(1)=="."&&t==fT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==Ah){let i=H4(e),o=t.slice(1),s="";return o.charAt(0)!=Ah&&([o,s]=z4(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};Hh=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new $h(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new m0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function G4(){return new Rh}function K4(n,e,t){return new Hh(n,e,t)}var W4,pT,hT,Y4,gT,mT=p(()=>{"use strict";T();T();$a();D0();D0();Me();W4=(()=>{class n extends ia{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(A(dt),A(No),A(ko))}}static{this.\u0275prov=x({token:n,factory:n.\u0275fac})}}return n})();pT=[{provide:ko,useFactory:G4},{provide:ia,useClass:W4},{provide:ui,useFactory:K4,deps:[kd,ia,_e]}],hT=[{provide:No,useFactory:()=>new Bh},{provide:Nm,useValue:"BrowserAnimations"},...pT],Y4=[{provide:No,useClass:C0},{provide:Nm,useValue:"NoopAnimations"},...pT],gT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Y4:hT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:hT,imports:[Fd]})}}return n})()});var zh,vT=p(()=>{"use strict";T();zh=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=x({token:n,factory:n.\u0275fac,providedIn:"root"})}});function tH(n,e){if(n&1){let t=G();h(0,"div",21)(1,"input",22,3),vn("ngModelChange",function(i){R(t);let o=E();return Un(o.room,i)||(o.room=i),F(i)}),f(),h(3,"button",23),S("click",function(){R(t);let i=E();return i.joinRoom(),F(i.isRoomJoined=!0)}),k(4,"img",24),f()()}if(n&2){let t=E();v(),mn("ngModel",t.room)}}function nH(n,e){if(n&1&&(h(0,"div"),C(1),f()),n&2){let t=E().$implicit;v(),St(t.text)}}function rH(n,e){if(n&1){let t=G();h(0,"div",31)(1,"img",32),S("error",function(){R(t);let i=E().$implicit,o=E();return F(o.handleImageError(i.imageUrl))}),f(),h(2,"button",33),S("click",function(){R(t);let i=E().$implicit,o=E();return F(o.openImageModal(i.imageUrl))}),C(3,"\u{1F50D}"),f()()}if(n&2){let t=E().$implicit;v(),b("src",t.imageUrl,Ve)}}function iH(n,e){if(n&1){let t=G();h(0,"video",34),S("error",function(){R(t);let i=E().$implicit,o=E();return F(o.handleVideoError(i.videoUrl))}),C(1," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f()}if(n&2){let t=E().$implicit;b("src",t.videoUrl,Ve)}}function oH(n,e){if(n&1&&(h(0,"div",25)(1,"span",26),C(2),f(),h(3,"div",27),N(4,nH,2,1,"div",28)(5,rH,4,1,"div",29)(6,iH,2,1,"video",30),f()()),n&2){let t=e.$implicit;b("ngClass",yn(5,eH,t.senderName==="Me",t.senderName!=="Me")),v(2),St(t.senderName),v(2),b("ngIf",t.text),v(),b("ngIf",t.imageUrl),v(),b("ngIf",t.videoUrl)}}function sH(n,e){n&1&&(h(0,"span"),C(1,"\u2328\uFE0F"),f())}function aH(n,e){n&1&&(h(0,"span"),C(1,"\u2328\uFE0F"),f())}function cH(n,e){n&1&&(h(0,"span"),C(1,"\u{1F5BC}\uFE0F"),f())}function lH(n,e){n&1&&(h(0,"span"),C(1,"\u{1F3AC}"),f())}function uH(n,e){if(n&1&&(h(0,"div",35)(1,"div",36),N(2,sH,2,0,"span",28)(3,aH,2,0,"span",28)(4,cH,2,0,"span",28)(5,lH,2,0,"span",28),f()()),n&2){let t=E();v(2),b("ngIf",t.typingMessage==="Typing..."),v(),b("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),v(),b("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),v(),b("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function dH(n,e){if(n&1&&(h(0,"div",37),k(1,"div",38),h(2,"p"),C(3),f()()),n&2){let t=E();v(3),Oe("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function fH(n,e){if(n&1){let t=G();h(0,"button",39),S("click",function(i){R(t);let o=E();return F(o.sendMessage(i))}),k(1,"img",40),f()}}function hH(n,e){if(n&1){let t=G();h(0,"button",39),S("click",function(i){R(t);let o=E();return F(o.sendPrivateMessage(i))}),k(1,"img",40),f()}}function pH(n,e){if(n&1){let t=G();h(0,"div",41),S("click",function(){R(t);let i=E();return F(i.closeImageModal())}),h(1,"div",42),S("click",function(){R(t);let i=E();return F(i.closeImageModal())}),k(2,"img",43),f()()}if(n&2){let t=E();v(2),b("src",t.selectedImageUrl,Ve)}}var Z4,J4,X4,eH,oa,M0=p(()=>{"use strict";T();we();lc();na();hc();T();Bs();It();zy();vT();bh();Va();Me();In();Hr();Z4=["roomInput"],J4=["chatInput"],X4=["messagesContainer"],eH=(n,e)=>({"my-message":n,"other-message":e});oa=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;closeChat=new X;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;selectedImageUrl=null;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=y(On);cloudinaryService=y(pr);typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new je,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketSubscription.add(this.socketService.on("chat-add-msg",e=>O(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}})))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>O(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>O(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return O(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return O(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return O(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(ht.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>B(D({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>O(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=B(D({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender});if(this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let s={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(s)}catch(s){this.errorLogger.log("Error handling incoming message notification",s)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return O(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinRoom(){this.room.trim()&&(this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.chatType==="private"?r.type.startsWith("image/")?this.sendPrivateImageMessage(a):r.type.startsWith("video/")&&this.sendPrivateVideoMessage(a):r.type.startsWith("image/")?this.sendImageMessage(a):r.type.startsWith("video/")&&this.sendVideoMessage(a)},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}triggerCloseChat(){this.closeChat.emit()}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),this.messages.push(t),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",e),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"","",e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.messages.push(t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return O(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}openImageModal(e){this.selectedImageUrl=e}closeImageModal(){this.selectedImageUrl=null}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(M(En),M(Ce),M(Us),M(zh),M(Ri),M(po))};static \u0275cmp=Z({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(ad(Z4,5),ad(J4,5),ad(X4,5)),t&2){let i;ys(i=_s())&&(r.roomInput=i.first),ys(i=_s())&&(r.chatInput=i.first),ys(i=_s())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},outputs:{closeChat:"closeChat"},decls:24,vars:9,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],[1,"chat-header"],[1,"close-dropdown",3,"click"],["src","../../../assets/images/backB.png","alt","go back",1,"close-chat"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740638820/application_xnlu1o.png","alt","go back",1,"send-btn"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],[4,"ngIf"],["class","image-container",4,"ngIf"],["class","chat-video","controls","","preload","metadata",3,"src","error",4,"ngIf"],[1,"image-container"],["alt","Image",1,"chat-image",3,"error","src"],[1,"enlarge-button",3,"click"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn"],[1,"image-modal",3,"click"],["evStop","",1,"modal-content",3,"click"],["alt","Enlarged Image",1,"enlarged-image",3,"src"]],template:function(t,r){if(t&1){let i=G();h(0,"div",4)(1,"div",5)(2,"button",6),S("click",function(){return R(i),F(r.triggerCloseChat())}),k(3,"img",7),f(),h(4,"h2"),C(5),f()(),N(6,tH,5,1,"div",8),h(7,"div",9)(8,"div",10,0),N(10,oH,7,8,"div",11),f(),h(11,"div",12)(12,"div",13)(13,"label",14),C(14,"\u{1F4CE}"),f(),h(15,"textarea",15,1),vn("ngModelChange",function(s){return R(i),Un(r.newMessage,s)||(r.newMessage=s),F(s)}),S("keyup",function(){return R(i),F(r.onTyping())})("blur",function(){return R(i),F(r.onStopTyping())}),f(),h(17,"input",16,2),S("change",function(s){return R(i),F(r.onFileSelected(s))}),f(),N(19,uH,6,4,"div",17),f(),N(20,dH,4,1,"div",18)(21,fH,2,0,"button",19)(22,hH,2,0,"button",19),f()()(),N(23,pH,3,1,"div",20)}t&2&&(v(5),Oe(" ",r.chatType==="group"?r.room:r.targetUsername," "),v(),b("ngIf",r.chatType==="group"&&!r.isRoomJoined),v(4),b("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),v(5),mn("ngModel",r.newMessage),v(4),b("ngIf",r.isTyping),v(),b("ngIf",r.isUploading),v(),b("ngIf",r.chatType==="group"),v(),b("ngIf",r.chatType==="private"),v(),b("ngIf",r.selectedImageUrl))},dependencies:[dr,fr,me,Mn,mr,qr,pt],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;height:90vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;padding:.5rem}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;margin-right:.5rem}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]   .close-chat[_ngcontent-%COMP%]{width:2.5em;height:2.5em}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1;text-align:center;margin:0;font-size:2em}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none;margin-right:1em}.join-button[_ngcontent-%COMP%]{max-width:5em;padding:5px 10px;color:#fff;border:none;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:60px;height:60px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.send-btn[_ngcontent-%COMP%]{max-width:100%;padding:.2em;position:relative;right:.3em}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1;max-width:90%}.send-button[_ngcontent-%COMP%]{position:absolute}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}.close-dropdown[_ngcontent-%COMP%]:hover{color:red}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.enlarge-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:#00000080;border:none;color:#fff;padding:5px;cursor:pointer;border-radius:50%}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-content[_ngcontent-%COMP%]{position:relative}.enlarged-image[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100;overflow:auto}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;padding:10px}.enlarged-image[_ngcontent-%COMP%]{max-width:50%;max-height:95%;display:block;margin:auto;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:0;right:15em;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}@media (max-width: 600px){.enlarged-image[_ngcontent-%COMP%]{max-width:70%;max-height:95%;border-radius:0}.close-modal[_ngcontent-%COMP%]{top:0;right:5em;padding:4px 8px;font-size:16px}}']})}});function vH(n,e){if(n&1&&(h(0,"span",18),C(1),f()),n&2){let t=E().ngIf;v(),St(t)}}function yH(n,e){if(n&1&&($t(0),N(1,vH,2,1,"span",17),Ht()),n&2){let t=e.ngIf,r=E();v(),b("ngIf",t>0&&!r.isPrivateChatOpen)}}function _H(n,e){if(n&1){let t=G();h(0,"li",22),S("click",function(){let i=R(t).$implicit,o=E(2);return F(o.navigateToContact(i._id))}),C(1),f()}if(n&2){let t=e.$implicit;v(),Oe(" ",t.name," ")}}function CH(n,e){if(n&1){let t=G();h(0,"div",19)(1,"button",20),S("click",function(){R(t);let i=E();return F(i.closeContactsDropdown())}),C(2,"\xD7"),f(),h(3,"ul"),N(4,_H,2,1,"li",21),f()()}if(n&2){let t=E();v(4),b("ngForOf",t.contacts)}}function bH(n,e){if(n&1){let t=G();h(0,"div",23),S("clickOutsideCapture",function(){R(t);let i=E();return F(i.closePrivateChat())}),h(1,"div",24)(2,"span",25),S("click",function(){R(t);let i=E();return F(i.closePrivateChat())}),C(3,"\xD7"),f(),h(4,"app-chat",26),S("closeChat",function(){R(t);let i=E();return F(i.closePrivateChat())}),f()()()}if(n&2){let t=E();v(4),b("chatType","private")("targetUserId",t.user._id)}}var mH,qh,yT=p(()=>{"use strict";T();at();we();It();T();at();Bs();eh();$r();Me();Hr();qs();M0();mH=n=>({"long-field":n});qh=class n{constructor(e,t,r,i){this.router=e;this.socketService=t;this.userIndex=r;this.contactService=i}user;remove=new X;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=y(Ce).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new fe(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof bi&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(be(1),ke(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),V(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(Zp(1),be(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(M(Te),M(En),M(Ni),M(wt))};static \u0275cmp=Z({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType","targetUserId"]],template:function(t,r){t&1&&(h(0,"article",0)(1,"div",1),S("click",function(){return r.onPreviewClick()}),k(2,"img",2),f(),h(3,"div",3)(4,"h1",4),C(5),f()(),h(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),S("click",function(o){return r.openPrivateChat(o)}),k(10,"img",9),N(11,yH,2,1,"ng-container",10),Ct(12,"async"),f()(),h(13,"button",11),S("click",function(o){return r.openFacebookProfile(o,r.user)}),k(14,"img",12),f()(),h(15,"div",6)(16,"button",11),S("click",function(o){return r.openInstagramProfile(o,r.user)}),k(17,"img",13),f(),h(18,"button",11),S("click",function(){return r.toggleContactsDropdown()}),k(19,"img",14),f(),N(20,CH,5,1,"div",15),f()()(),N(21,bH,5,2,"div",16),k(22,"router-outlet")),t&2&&(v(2),b("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Ve),v(2),b("title",r.user.username)("ngClass",Aa(9,mH,r.isLongField(r.user.username,15))),v(),Oe(" ",r.user.username," "),v(6),b("ngIf",bt(12,7,r.unreadMessagesCount$)),v(9),b("ngIf",r.showContactsDropdown),v(),b("ngIf",r.isPrivateChatOpen))},dependencies:[dr,fr,me,qn,pt,Dn,oa,zt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%!important;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function EH(n,e){if(n&1){let t=G();h(0,"user-preview",3),S("remove",function(){let i=R(t).$implicit,o=E();return F(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;b("user",t)}}function DH(n,e){n&1&&(h(0,"p"),C(1,"No users found."),f())}var Wh,_T=p(()=>{"use strict";T();T();It();Me();yT();Wh=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new X;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(M(Ce))};static \u0275cmp=Z({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(h(0,"section",1),N(1,EH,1,1,"user-preview",2)(2,DH,2,0,"ng-template",null,0,Bn),f()),t&2&&(v(),b("ngForOf",r.users))},dependencies:[fr,qh],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:.5em;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function MH(n,e){if(n&1){let t=G();h(0,"button",4),S("click",function(){R(t);let i=E();return F(i.onClearFilter())}),C(1,"\u2716"),f()}}var Gh,CT=p(()=>{"use strict";T();we();Hs();It();T();Me();In();Gh=class n{userService=y(Ce);filterBy="";filterSubject$=new ge;destroyRef=y(kt);ngOnInit(){this.userService.filterBy$.pipe(qt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(wr(),qt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(h(0,"section",0)(1,"div",1)(2,"input",2),vn("ngModelChange",function(o){return Un(r.filterBy,o)||(r.filterBy=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),N(3,MH,2,0,"button",3),f()()),t&2&&(v(2),mn("ngModel",r.filterBy),v(),b("ngIf",r.filterBy))},dependencies:[me,Mn,mr,qr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:.13em auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Kh,bT=p(()=>{"use strict";$a();Mx();jO();Va();In();mT();Hr();qs();eh();_T();CT();M0();K_();T();Me();Kh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n,bootstrap:[Ih]});static \u0275inj=Ye({imports:[Fd,nh,mM,ex,tx,gT,AO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};xD(Ni,function(){return[me,pt,Dn,Wh,Gh,oa]},function(){return[zt]})});var SH=ST(wT=>{$a();bT();na();T();EM().bootstrapModule(Kh).then(()=>{let n=y(On);"serviceWorker"in navigator&&window.addEventListener("load",()=>O(wT,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default SH();
