import{d as u,g as s,j as i,k as d}from"./chunk-EZ2AII26.js";var c,l=u(()=>{d();c=class extends i{initialize(e){return s(this,null,function*(){let n={version:"v17.0"};return yield this.loadScript(e.locale),FB.init(Object.assign(Object.assign({},n),e))})}loadScript(e){if(typeof document>"u")return Promise.reject("document global not found");let n="fb";if(document.getElementById(n))return Promise.resolve();let o=document.getElementsByTagName("head")[0],t=document.createElement("script");return new Promise(a=>{t.onload=()=>a(),t.defer=!0,t.async=!0,t.id=n,t.src=`https://connect.facebook.net/${e??"en_US"}/sdk.js`,o.appendChild(t)})}login(e){return s(this,null,function*(){return new Promise((n,r)=>{FB.login(o=>{o.status==="connected"?n({accessToken:{token:o.authResponse.accessToken}}):r({accessToken:{token:null}})},{scope:e.permissions.join(",")})})})}logout(){return s(this,null,function*(){return new Promise(e=>FB.logout(()=>e()))})}reauthorize(){return s(this,null,function*(){return new Promise(e=>FB.reauthorize(n=>e(n)))})}getCurrentAccessToken(){return s(this,null,function*(){return new Promise((e,n)=>{FB.getLoginStatus(r=>{if(r.status==="connected"){let o={accessToken:{applicationId:void 0,declinedPermissions:[],expires:void 0,isExpired:void 0,lastRefresh:void 0,permissions:[],token:r.authResponse.accessToken,userId:r.authResponse.userID}};e(o)}else n({accessToken:{token:null}})})})})}getProfile(e){return s(this,null,function*(){let n=e.fields.join(",");return new Promise((r,o)=>{FB.api("/me",{fields:n},t=>{if(t.error){o(t.error.message);return}r(t)})})})}logEvent(){return s(this,null,function*(){return Promise.resolve()})}setAutoLogAppEventsEnabled(){return s(this,null,function*(){return Promise.resolve()})}setAdvertiserTrackingEnabled(){return s(this,null,function*(){return Promise.resolve()})}setAdvertiserIDCollectionEnabled(){return s(this,null,function*(){return Promise.resolve()})}}});l();export{c as FacebookLoginWeb};
