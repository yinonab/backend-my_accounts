var T0=Object.defineProperty,ST=Object.defineProperties;var xT=Object.getOwnPropertyDescriptors;var el=Object.getOwnPropertySymbols;var P0=Object.prototype.hasOwnProperty,A0=Object.prototype.propertyIsEnumerable;var O0=(n,e,t)=>e in n?T0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||={})P0.call(e,t)&&O0(n,t,e[t]);if(el)for(var t of el(e))A0.call(e,t)&&O0(n,t,e[t]);return n},B=(n,e)=>ST(n,xT(e));var Kp=(n,e)=>{var t={};for(var r in n)P0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&el)for(var r of el(n))e.indexOf(r)<0&&A0.call(n,r)&&(t[r]=n[r]);return t};var h=(n,e)=>()=>(n&&(e=n(n=0)),e);var IT=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),OT=(n,e)=>{for(var t in e)T0(n,t,{get:e[t],enumerable:!0})};var P=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function k0(n,e){return Object.is(n,e)}function ye(n){let e=ot;return ot=n,e}function N0(){return ot}function Zp(n){if(tl)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(n);let e=ot.nextProducerIndex++;if(sl(ot),e<ot.producerNode.length&&ot.producerNode[e]!==n&&ia(ot)){let t=ot.producerNode[e];ol(t,ot.producerIndexOfThis[e])}ot.producerNode[e]!==n&&(ot.producerNode[e]=n,ot.producerIndexOfThis[e]=ia(ot)?V0(n,ot,e):0),ot.producerLastReadVersion[e]=n.version}function TT(){nl++}function R0(n){if(!(ia(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===nl)){if(!n.producerMustRecompute(n)&&!Xp(n)){n.dirty=!1,n.lastCleanEpoch=nl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=nl}}function F0(n){if(n.liveConsumerNode===void 0)return;let e=tl;tl=!0;try{for(let t of n.liveConsumerNode)t.dirty||PT(t)}finally{tl=e}}function L0(){return ot?.consumerAllowSignalWrites!==!1}function PT(n){n.dirty=!0,F0(n),n.consumerMarkedDirty?.(n)}function il(n){return n&&(n.nextProducerIndex=0),ye(n)}function Jp(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ia(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ol(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Xp(n){sl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(R0(t),r!==t.version))return!0}return!1}function eh(n){if(sl(n),ia(n))for(let e=0;e<n.producerNode.length;e++)ol(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function V0(n,e,t){if(j0(n),n.liveConsumerNode.length===0&&U0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=V0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ol(n,e){if(j0(n),n.liveConsumerNode.length===1&&U0(n))for(let r=0;r<n.producerNode.length;r++)ol(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];sl(i),i.producerIndexOfThis[r]=e}}function ia(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function sl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function j0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function U0(n){return n.producerNode!==void 0}function B0(n){let e=Object.create(AT);e.computation=n;let t=()=>{if(R0(e),Zp(e),e.value===rl)throw e.error;return e.value};return t[Cr]=e,t}function kT(){throw new Error}function z0(){$0()}function H0(n){$0=n}function q0(n){let e=Object.create(G0);e.value=n;let t=()=>(Zp(e),e.value);return t[Cr]=e,t}function th(n,e){L0()||z0(),n.equal(n.value,e)||(n.value=e,RT(n))}function W0(n,e){L0()||z0(),th(n,e(n.value))}function RT(n){n.version++,TT(),F0(n),NT?.()}var ot,tl,nl,Cr,oa,Yp,Qp,rl,AT,$0,NT,G0,K0=h(()=>{"use strict";ot=null,tl=!1,nl=1,Cr=Symbol("SIGNAL");oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Yp=Symbol("UNSET"),Qp=Symbol("COMPUTING"),rl=Symbol("ERRORED"),AT=B(M({},oa),{value:Yp,dirty:!0,error:null,equal:k0,producerMustRecompute(n){return n.value===Yp||n.value===Qp},producerRecomputeValue(n){if(n.value===Qp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Qp;let t=il(n),r;try{r=n.computation()}catch(i){r=rl,n.error=i}finally{Jp(n,t)}if(e!==Yp&&e!==rl&&r!==rl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});$0=kT;NT=null;G0=B(M({},oa),{equal:k0,value:void 0})});function H(n){return typeof n=="function"}var Ge=h(()=>{"use strict"});function Ro(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var al=h(()=>{"use strict"});var cl,Y0=h(()=>{"use strict";al();cl=Ro(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t})});function Ui(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ll=h(()=>{"use strict"});function ul(n){return n instanceof je||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function Q0(n){H(n)?n():n.unsubscribe()}var je,nh,Bi=h(()=>{"use strict";Ge();Y0();ll();je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){e=o instanceof cl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Q0(o)}catch(s){e=e??[],s instanceof cl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Q0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ui(t,e)}remove(e){let{_finalizers:t}=this;t&&Ui(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();nh=je.EMPTY});var An,sa=h(()=>{"use strict";An={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Fo,rh=h(()=>{"use strict";Fo={setTimeout(n,e,...t){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0}});function dl(n){Fo.setTimeout(()=>{let{onUnhandledError:e}=An;if(e)e(n);else throw n})}var ih=h(()=>{"use strict";sa();rh()});function br(){}var aa=h(()=>{"use strict"});function J0(n){return oh("E",void 0,n)}function X0(n){return oh("N",n,void 0)}function oh(n,e,t){return{kind:n,value:e,error:t}}var Z0,eC=h(()=>{"use strict";Z0=oh("C",void 0,void 0)});function Lo(n){if(An.useDeprecatedSynchronousErrorHandling){let e=!$i;if(e&&($i={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=$i;if($i=null,t)throw r}}else n()}function tC(n){An.useDeprecatedSynchronousErrorHandling&&$i&&($i.errorThrown=!0,$i.error=n)}var $i,fl=h(()=>{"use strict";sa();$i=null});function sh(n,e){return FT.call(n,e)}function pl(n){An.useDeprecatedSynchronousErrorHandling?tC(n):dl(n)}function LT(n){throw n}function ah(n,e){let{onStoppedNotification:t}=An;t&&Fo.setTimeout(()=>t(n,e))}var zi,FT,ch,ti,VT,hl=h(()=>{"use strict";Ge();Bi();sa();ih();aa();eC();rh();fl();zi=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ul(e)&&e.add(this)):this.destination=VT}static create(e,t,r){return new ti(e,t,r)}next(e){this.isStopped?ah(X0(e),this):this._next(e)}error(e){this.isStopped?ah(J0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ah(Z0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FT=Function.prototype.bind;ch=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pl(t)}}},ti=class extends zi{constructor(e,t,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&An.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sh(e.next,o),error:e.error&&sh(e.error,o),complete:e.complete&&sh(e.complete,o)}):i=e}this.destination=new ch(i)}};VT={closed:!0,next:br,error:LT,complete:br}});var Vo,gl=h(()=>{"use strict";Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function vt(n){return n}var wr=h(()=>{"use strict"});function lh(...n){return uh(n)}function uh(n){return n.length===0?vt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var dh=h(()=>{"use strict";wr()});function nC(n){var e;return(e=n??An.Promise)!==null&&e!==void 0?e:Promise}function jT(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function UT(n){return n&&n instanceof zi||jT(n)&&ul(n)}var ee,dt=h(()=>{"use strict";hl();Bi();gl();dh();sa();Ge();fl();ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=UT(t)?t:new ti(t,r,i);return Lo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=nC(r),new r((i,o)=>{let s=new ti({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Vo](){return this}pipe(...t){return uh(t)(this)}toPromise(t){return t=nC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})()});function fh(n){return H(n?.lift)}function te(n){return e=>{if(fh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ue=h(()=>{"use strict";Ge()});function J(n,e,t,r,i){return new ph(n,e,t,r,i)}var ph,qe=h(()=>{"use strict";hl();ph=class extends zi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});function jo(){return te((n,e)=>{let t=null;n._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var hh=h(()=>{"use strict";Ue();qe()});var ni,gh=h(()=>{"use strict";dt();Bi();hh();qe();Ue();ni=class extends ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(J(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return jo()(this)}}});var rC,iC=h(()=>{"use strict";al();rC=Ro(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var ge,ml,ca=h(()=>{"use strict";dt();Bi();iC();ll();fl();ge=(()=>{class n extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ml(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new rC}next(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?nh:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,Ui(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return n.create=(e,t)=>new ml(e,t),n})(),ml=class extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:nh}}});var fe,oC=h(()=>{"use strict";ca();fe=class extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}});var mh,sC=h(()=>{"use strict";mh={now(){return(mh.delegate||Date).now()},delegate:void 0}});var vl,aC=h(()=>{"use strict";Bi();vl=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}}});var la,cC=h(()=>{"use strict";la={setInterval(n,e,...t){let{delegate:r}=la;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=la;return(e?.clearInterval||clearInterval)(n)},delegate:void 0}});var yl,lC=h(()=>{"use strict";aC();cC();ll();yl=class extends vl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return la.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&la.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ui(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}});var Uo,uC=h(()=>{"use strict";sC();Uo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Uo.now=mh.now});var _l,dC=h(()=>{"use strict";uC();_l=class extends Uo{constructor(e,t=Uo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}});var ua,fC,Cl=h(()=>{"use strict";lC();dC();ua=new _l(yl),fC=ua});var Tt,da=h(()=>{"use strict";dt();Tt=new ee(n=>n.complete())});function bl(n){return n&&H(n.schedule)}var vh=h(()=>{"use strict";Ge()});function yh(n){return n[n.length-1]}function wl(n){return H(yh(n))?n.pop():void 0}function er(n){return bl(yh(n))?n.pop():void 0}function pC(n,e){return typeof yh(n)=="number"?n.pop():e}var Hi=h(()=>{"use strict";Ge();vh()});function gC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function hC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qi(n){return this instanceof qi?(this.v=n,this):new qi(n)}function mC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(b){return Promise.resolve(b).then(g,d)}}function a(g,b){r[g]&&(i[g]=function(E){return new Promise(function(R,$){o.push([g,E,R,$])>1||c(g,E)})},b&&(i[g]=b(i[g])))}function c(g,b){try{l(r[g](b))}catch(E){v(o[0][3],E)}}function l(g){g.value instanceof qi?Promise.resolve(g.value.v).then(u,d):v(o[0][2],g)}function u(g){c("next",g)}function d(g){c("throw",g)}function v(g,b){g(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function vC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof hC=="function"?hC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var _h=h(()=>{"use strict"});var Bo,El=h(()=>{"use strict";Bo=n=>n&&typeof n.length=="number"&&typeof n!="function"});function Ml(n){return H(n?.then)}var Ch=h(()=>{"use strict";Ge()});function Dl(n){return H(n[Vo])}var bh=h(()=>{"use strict";gl();Ge()});function Sl(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}var wh=h(()=>{"use strict";Ge()});function xl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var Eh=h(()=>{"use strict"});function BT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Il,Mh=h(()=>{"use strict";Il=BT()});function Ol(n){return H(n?.[Il])}var Dh=h(()=>{"use strict";Mh();Ge()});function Tl(n){return mC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield qi(t.read());if(i)return yield qi(void 0);yield yield qi(r)}}finally{t.releaseLock()}})}function Pl(n){return H(n?.getReader)}var Al=h(()=>{"use strict";_h();Ge()});function xe(n){if(n instanceof ee)return n;if(n!=null){if(Dl(n))return $T(n);if(Bo(n))return zT(n);if(Ml(n))return HT(n);if(Sl(n))return yC(n);if(Ol(n))return qT(n);if(Pl(n))return WT(n)}throw xl(n)}function $T(n){return new ee(e=>{let t=n[Vo]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zT(n){return new ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function HT(n){return new ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,dl)})}function qT(n){return new ee(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function yC(n){return new ee(e=>{GT(n,e).catch(t=>e.error(t))})}function WT(n){return yC(Tl(n))}function GT(n,e){var t,r,i,o;return gC(this,void 0,void 0,function*(){try{for(t=vC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}var Dt=h(()=>{"use strict";_h();El();Ch();dt();bh();wh();Eh();Dh();Al();Ge();ih();gl()});function $t(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}var $o=h(()=>{"use strict"});function kl(n,e=0){return te((t,r)=>{t.subscribe(J(r,i=>$t(r,n,()=>r.next(i),e),()=>$t(r,n,()=>r.complete(),e),i=>$t(r,n,()=>r.error(i),e)))})}var Sh=h(()=>{"use strict";$o();Ue();qe()});function Nl(n,e=0){return te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}var xh=h(()=>{"use strict";Ue()});function _C(n,e){return xe(n).pipe(Nl(e),kl(e))}var CC=h(()=>{"use strict";Dt();Sh();xh()});function bC(n,e){return xe(n).pipe(Nl(e),kl(e))}var wC=h(()=>{"use strict";Dt();Sh();xh()});function EC(n,e){return new ee(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}var MC=h(()=>{"use strict";dt()});function DC(n,e){return new ee(t=>{let r;return $t(t,e,()=>{r=n[Il](),$t(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}var SC=h(()=>{"use strict";dt();Mh();Ge();$o()});function Rl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ee(t=>{$t(t,e,()=>{let r=n[Symbol.asyncIterator]();$t(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}var Ih=h(()=>{"use strict";dt();$o()});function xC(n,e){return Rl(Tl(n),e)}var IC=h(()=>{"use strict";Ih();Al()});function OC(n,e){if(n!=null){if(Dl(n))return _C(n,e);if(Bo(n))return EC(n,e);if(Ml(n))return bC(n,e);if(Sl(n))return Rl(n,e);if(Ol(n))return DC(n,e);if(Pl(n))return xC(n,e)}throw xl(n)}var TC=h(()=>{"use strict";CC();wC();MC();SC();Ih();bh();Ch();El();Dh();wh();Eh();Al();IC()});function G(n,e){return e?OC(n,e):xe(n)}var zo=h(()=>{"use strict";TC();Dt()});function V(...n){let e=er(n);return G(n,e)}var PC=h(()=>{"use strict";Hi();zo()});function Xe(n,e){let t=H(n)?n:()=>n,r=i=>i.error(t());return new ee(e?i=>e.schedule(r,0,i):r)}var AC=h(()=>{"use strict";dt();Ge()});function Oh(n){return!!n&&(n instanceof ee||H(n.lift)&&H(n.subscribe))}var kC=h(()=>{"use strict";dt();Ge()});var kn,Ho=h(()=>{"use strict";al();kn=Ro(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"})});function Wi(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new ti({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new kn)}});n.subscribe(o)})}var NC=h(()=>{"use strict";Ho();hl()});function RC(n){return n instanceof Date&&!isNaN(n)}var FC=h(()=>{"use strict"});function j(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>{r.next(n.call(e,o,i++))}))})}var qo=h(()=>{"use strict";Ue();qe()});function YT(n,e){return KT(e)?n(...e):n(e)}function Wo(n){return j(e=>YT(n,e))}var KT,Fl=h(()=>{"use strict";qo();({isArray:KT}=Array)});function Ll(n){if(n.length===1){let e=n[0];if(QT(e))return{args:e,keys:null};if(eP(e)){let t=XT(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function eP(n){return n&&typeof n=="object"&&ZT(n)===JT}var QT,ZT,JT,XT,Th=h(()=>{"use strict";({isArray:QT}=Array),{getPrototypeOf:ZT,prototype:JT,keys:XT}=Object});function Vl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Ph=h(()=>{"use strict"});function fa(...n){let e=er(n),t=wl(n),{args:r,keys:i}=Ll(n);if(r.length===0)return G([],e);let o=new ee(tP(r,e,i?s=>Vl(i,s):vt));return t?o.pipe(Wo(t)):o}function tP(n,e,t=vt){return r=>{LC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)LC(e,()=>{let l=G(n[c],e),u=!1;l.subscribe(J(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function LC(n,e,t){n?$t(t,n,e):e()}var VC=h(()=>{"use strict";dt();Th();zo();wr();Fl();Hi();Ph();qe();$o()});function jC(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,v=()=>{d&&!c.length&&!l&&e.complete()},g=E=>l<r?b(E):c.push(E),b=E=>{o&&e.next(E),l++;let R=!1;xe(t(E,u++)).subscribe(J(e,$=>{i?.($),o?g($):e.next($)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let $=c.shift();s?$t(e,s,()=>b($)):b($)}v()}catch($){e.error($)}}))};return n.subscribe(J(e,g,()=>{d=!0,v()})),()=>{a?.()}}var UC=h(()=>{"use strict";Dt();$o();qe()});function Be(n,e,t=1/0){return H(e)?Be((r,i)=>j((o,s)=>e(r,o,i,s))(xe(n(r,i))),t):(typeof e=="number"&&(t=e),te((r,i)=>jC(r,i,n,t)))}var Go=h(()=>{"use strict";qo();Dt();Ue();UC();Ge()});function tr(n=1/0){return Be(vt,n)}var jl=h(()=>{"use strict";Go();wr()});function BC(){return tr(1)}var $C=h(()=>{"use strict";jl()});function nr(...n){return BC()(G(n,er(n)))}var Ul=h(()=>{"use strict";$C();Hi();zo()});function Gi(n){return new ee(e=>{xe(n()).subscribe(e)})}var zC=h(()=>{"use strict";dt();Dt()});function Ah(...n){let e=wl(n),{args:t,keys:r}=Ll(n),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;xe(t[u]).subscribe(J(o,v=>{d||(d=!0,l--),a[u]=v},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Vl(r,a):a),o.complete())}))}});return e?i.pipe(Wo(e)):i}var HC=h(()=>{"use strict";dt();Th();Dt();Hi();qe();Fl();Ph()});function Ko(n,e,t,r){if(H(t)&&(r=t,t=void 0),r)return Ko(n,e,t).pipe(Wo(r));let[i,o]=aP(n)?rP.map(s=>a=>n[s](e,a,t)):oP(n)?nP.map(qC(n,e)):sP(n)?iP.map(qC(n,e)):[];if(!i&&Bo(n))return Be(s=>Ko(s,e,t))(xe(n));if(!i)throw new TypeError("Invalid event target");return new ee(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function qC(n,e){return t=>r=>n[t](e,r)}function oP(n){return H(n.addListener)&&H(n.removeListener)}function sP(n){return H(n.on)&&H(n.off)}function aP(n){return H(n.addEventListener)&&H(n.removeEventListener)}var nP,rP,iP,WC=h(()=>{"use strict";Dt();dt();Go();El();Ge();Fl();nP=["addListener","removeListener"],rP=["addEventListener","removeEventListener"],iP=["on","off"]});function Bl(n=0,e,t=fC){let r=-1;return e!=null&&(bl(e)?t=e:r=e),new ee(i=>{let o=RC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}var kh=h(()=>{"use strict";dt();Cl();vh();FC()});function $l(...n){let e=er(n),t=pC(n,1/0),r=n;return r.length?r.length===1?xe(r[0]):tr(t)(G(r,e)):Tt}var GC=h(()=>{"use strict";jl();Dt();da();Hi();zo()});var Ki,KC=h(()=>{"use strict";dt();aa();Ki=new ee(br)});function Ne(n,e){return te((t,r)=>{let i=0;t.subscribe(J(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Yo=h(()=>{"use strict";Ue();qe()});var YC=h(()=>{"use strict"});function ue(n){return te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(J(t,void 0,void 0,s=>{o=xe(n(s,ue(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var Nh=h(()=>{"use strict";Dt();qe();Ue()});function QC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(J(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}var ZC=h(()=>{"use strict";qe()});function un(n,e){return H(e)?Be(n,e,1):Be(n,1)}var Rh=h(()=>{"use strict";Go();Ge()});function JC(n){return new ee(e=>n.subscribe(e))}var XC=h(()=>{"use strict";dt()});function zl(n,e=cP){let{connector:t}=e;return te((r,i)=>{let o=t();xe(n(JC(o))).subscribe(i),i.add(r.subscribe(o))})}var cP,Fh=h(()=>{"use strict";ca();Dt();Ue();XC();cP={connector:()=>new ge}});function Lh(n,e=ua){return te((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}t.subscribe(J(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var eb=h(()=>{"use strict";Cl();Ue();qe()});function ri(n){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}var Hl=h(()=>{"use strict";Ue();qe()});function be(n){return n<=0?()=>Tt:te((e,t)=>{let r=0;e.subscribe(J(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}var pa=h(()=>{"use strict";da();Ue();qe()});function tb(){return te((n,e)=>{n.subscribe(J(e,br))})}var nb=h(()=>{"use strict";Ue();qe();aa()});function ha(n){return j(()=>n)}var Vh=h(()=>{"use strict";qo()});function jh(n,e){return e?t=>nr(e.pipe(be(1),tb()),t.pipe(jh(n))):Be((t,r)=>xe(n(t,r)).pipe(be(1),ha(t)))}var rb=h(()=>{"use strict";Ul();pa();nb();Vh();Go();Dt()});function dn(n,e=ua){let t=Bl(n,e);return jh(()=>t)}var Uh=h(()=>{"use strict";Cl();rb();kh()});function Er(n,e=vt){return n=n??lP,te((t,r)=>{let i,o=!0;t.subscribe(J(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function lP(n,e){return n===e}var ib=h(()=>{"use strict";wr();Ue();qe()});function ql(n=uP){return te((e,t)=>{let r=!1;e.subscribe(J(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function uP(){return new kn}var Bh=h(()=>{"use strict";Ho();Ue();qe()});function Qt(n){return te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var $h=h(()=>{"use strict";Ue()});function rr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):vt,be(1),t?ri(e):ql(()=>new kn))}var ob=h(()=>{"use strict";Ho();Yo();pa();Hl();Bh();wr()});function Qo(n){return n<=0?()=>Tt:te((e,t)=>{let r=[];e.subscribe(J(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var zh=h(()=>{"use strict";da();Ue();qe()});function Hh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ne((i,o)=>n(i,o,r)):vt,Qo(1),t?ri(e):ql(()=>new kn))}var sb=h(()=>{"use strict";Ho();Yo();zh();Bh();Hl();wr()});function ab(n,e){let t=H(n)?n:()=>n;return H(e)?zl(e,{connector:t}):r=>new ni(r,t)}var cb=h(()=>{"use strict";gh();Ge();Fh()});function qh(n){return n?e=>zl(n)(e):e=>ab(new ge)(e)}var lb=h(()=>{"use strict";ca();cb();Fh()});function st(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?vt:te((o,s)=>{let a=0,c,l=()=>{let u=!1;c=o.subscribe(J(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let v=()=>{c?(c.unsubscribe(),c=null,l()):u=!0};if(r!=null){let g=typeof r=="number"?Bl(r):xe(r(d,a)),b=J(s,()=>{b.unsubscribe(),v()},()=>{s.complete()});g.subscribe(b)}else v()}else s.error(d)})),u&&(c.unsubscribe(),c=null,l())};l()})}var Wh=h(()=>{"use strict";Ue();qe();wr();kh();Dt()});function Gh(n,e){return te(QC(n,e,arguments.length>=2,!0))}var ub=h(()=>{"use strict";Ue();ZC()});function Kh(n){return Ne((e,t)=>n<=t)}var db=h(()=>{"use strict";Yo()});function Yh(...n){let e=er(n);return te((t,r)=>{(e?nr(n,t,e):nr(n,t)).subscribe(r)})}var fb=h(()=>{"use strict";Ul();Hi();Ue()});function Re(n,e){return te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(J(r,c=>{i?.unsubscribe();let l=0,u=o++;xe(n(c,u)).subscribe(i=J(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}var Qh=h(()=>{"use strict";Dt();Ue();qe()});function fn(n){return te((e,t)=>{xe(n).subscribe(J(t,()=>t.complete(),br)),!t.closed&&e.subscribe(t)})}var Zh=h(()=>{"use strict";Ue();qe();Dt();aa()});function ne(n,e,t){let r=H(n)||e||t?{next:n,error:e,complete:t}:n;return r?te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(J(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vt}var Jh=h(()=>{"use strict";Ge();Ue();qe();wr()});var we=h(()=>{"use strict";dt();gh();ca();oC();Bi();dh();kC();NC();Ho();VC();Ul();zC();HC();zo();WC();GC();PC();AC();da();KC();YC();Nh();Rh();eb();Uh();ib();Yo();$h();qo();Wh();db();Qh();pa();Zh();Jh()});var ii=h(()=>{"use strict";Nh();Rh();Hl();Uh();Yo();$h();ob();sb();qo();Vh();jl();Go();lb();Wh();hh();ub();fb();Qh();pa();zh();Zh();Jh()});function Ru(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ma(n){return{toString:n}.toString()}function dP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function nw(n,e,t){return Ma(()=>{let r=dP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Wl)?c[Wl]:Object.defineProperty(c,Wl,{value:[]})[Wl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function fP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function At(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(At).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function pg(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}function gn(n){return n.__forward_ref__=gn,n.toString=function(){return At(this())},n}function Pt(n){return rw(n)?n():n}function rw(n){return typeof n=="function"&&n.hasOwnProperty(pP)&&n.__forward_ref__===gn}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fu(n){return pb(n,ow)||pb(n,sw)}function iw(n){return Fu(n)!==null}function pb(n,e){return n.hasOwnProperty(e)?n[e]:null}function hP(n){let e=n&&(n[ow]||n[sw]);return e||null}function hb(n){return n&&(n.hasOwnProperty(gb)||n.hasOwnProperty(gP))?n[gb]:null}function aw(n){return n&&!!n.\u0275providers}function Da(n){return typeof n=="string"?n:n==null?"":String(n)}function CP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Da(n)}function bP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,n)}function um(n,e){throw new x(-201,!1)}function cw(){return hg}function zt(n){let e=hg;return hg=n,e}function lw(n,e,t){let r=Fu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;um(n,"Injector")}function SP(){return ts}function oi(n){let e=ts;return ts=n,e}function xP(n,e=ce.Default){if(ts===void 0)throw new x(-203,!1);return ts===null?lw(n,void 0,e):ts.get(n,e&ce.Optional?null:void 0,e)}function F(n,e=ce.Default){return(cw()||xP)(Pt(n),e)}function _(n,e=ce.Default){return F(n,Lu(e))}function Lu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mg(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=IP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function uw(n,e){return n[gg]=e,n.prototype[gg]=e,n}function IP(n){return n[gg]}function OP(n,e,t,r){let i=n[su];throw e[vb]&&i.unshift(e[vb]),n.message=TP(`
`+n.message,i,t,r),n[EP]=i,n[su]=null,n}function TP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==DP?n.slice(2):n;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(MP,`
  `)}`}function Zi(n,e){let t=n.hasOwnProperty(ou);return t?n[ou]:null}function PP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function AP(n){return n.flat(Number.POSITIVE_INFINITY)}function fm(n,e){n.forEach(t=>Array.isArray(t)?fm(t,e):e(t))}function dw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function au(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function pm(n,e,t){let r=Sa(n,e);return r>=0?n[r|1]=t:(r=~r,kP(n,r,e,t)),r}function Xh(n,e){let t=Sa(n,e);if(t>=0)return n[t|1]}function Sa(n,e){return NP(n,e,1)}function NP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}function RP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function vg(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];FP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function gw(n){return n===3||n===4||n===6}function FP(n){return n.charCodeAt(0)===64}function _a(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?yb(n,t,i,null,e[++r]):yb(n,t,i,null,null))}}return n}function yb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}function LP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(hm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function hm(n){return n.type===4&&n.value!==mw}function VP(n,e,t){let r=n.type===4&&!t?mw:n.value;return e===r}function jP(n,e,t){let r=4,i=n.attrs,o=i!==null?$P(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Nn(r)&&!Nn(c))return!1;if(s&&Nn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!VP(n,c,t)||c===""&&e.length===1){if(Nn(r))return!1;s=!0}}else if(r&8){if(i===null||!LP(n,i,c,t)){if(Nn(r))return!1;s=!0}}else{let l=e[++a],u=UP(c,i,hm(n),t);if(u===-1){if(Nn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Nn(r))return!1;s=!0}}}}return Nn(r)||s}function Nn(n){return(n&1)===0}function UP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zP(e,n)}function BP(n,e,t=!1){for(let r=0;r<e.length;r++)if(jP(n,e[r],t))return!0;return!1}function $P(n){for(let e=0;e<n.length;e++){let t=n[e];if(gw(t))return e}return n.length}function zP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _b(n,e){return n?":not("+e.trim()+")":e}function HP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Nn(s)&&(e+=_b(o,i),i=""),r=s,o=o||!Nn(r);t++}return i!==""&&(e+=_b(o,i)),e}function qP(n){return n.map(HP).join(",")}function WP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Nn(i))break;i=o}r++}return{attrs:e,classes:t}}function Z(n){return Ma(()=>{let e=bw(n),t=B(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||Ht,_:null,schemas:n.schemas||null,tView:null,id:""});ww(t);let r=n.dependencies;return t.directiveDefs=lu(r,!1),t.pipeDefs=lu(r,!0),t.id=YP(t),t})}function GP(n){return li(n)||vw(n)}function KP(n){return n!==null}function Qe(n){return Ma(()=>({type:n.type,bootstrap:n.bootstrap||Ht,declarations:n.declarations||Ht,imports:n.imports||Ht,exports:n.exports||Ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cb(n,e){if(n==null)return rs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ci.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ci.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ae(n){return Ma(()=>{let e=bw(n);return ww(e),e})}function xa(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function li(n){return n[mP]||null}function vw(n){return n[vP]||null}function yw(n){return n[yP]||null}function _w(n){let e=li(n)||vw(n)||yw(n);return e!==null?e.standalone:!1}function Cw(n,e){let t=n[_P]||null;if(!t&&e===!0)throw new Error(`Type ${At(n)} does not have '\u0275mod' property.`);return t}function bw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||rs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cb(n.inputs,e),outputs:Cb(n.outputs),debugInfo:null}}function ww(n){n.features?.forEach(e=>e(n))}function lu(n,e){if(!n)return null;let t=e?yw:GP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(KP)}function YP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ps(n){return{\u0275providers:n}}function QP(...n){return{\u0275providers:Ew(!0,n),\u0275fromNgModule:!0}}function Ew(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return fm(e,s=>{let a=s;yg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Mw(i,o),t}function Mw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];gm(i,o=>{e(o,r)})}}function yg(n,e,t,r){if(n=Pt(n),!n)return!1;let i=null,o=hb(n),s=!o&&li(n);if(!o&&!s){let c=n.ngModule;if(o=hb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)yg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fm(o.imports,u=>{yg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Mw(l,e)}if(!a){let l=Zi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:pw,useValue:i,multi:!0},i),e({provide:is,useValue:()=>F(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;gm(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function gm(n,e){for(let t of n)aw(t)&&(t=t.\u0275providers),Array.isArray(t)?gm(t,e):e(t)}function Dw(n){return n!==null&&typeof n=="object"&&ZP in n}function JP(n){return!!(n&&n.useExisting)}function XP(n){return!!(n&&n.useFactory)}function os(n){return typeof n=="function"}function e1(n){return!!n.useClass}function mm(){return eg===void 0&&(eg=new cu),eg}function _g(n){let e=Fu(n),t=e!==null?e.factory:Zi(n);if(t!==null)return t;if(n instanceof L)throw new x(204,!1);if(n instanceof Function)return n1(n);throw new x(204,!1)}function n1(n){if(n.length>0)throw new x(204,!1);let t=hP(n);return t!==null?()=>t.factory(n):()=>new n}function r1(n){if(Dw(n))return Zo(void 0,n.useValue);{let e=Sw(n);return Zo(e,eu)}}function Sw(n,e,t){let r;if(os(n)){let i=Pt(n);return Zi(i)||_g(i)}else if(Dw(n))r=()=>Pt(n.useValue);else if(XP(n))r=()=>n.useFactory(...mg(n.deps||[]));else if(JP(n))r=()=>F(Pt(n.useExisting));else{let i=Pt(n&&(n.useClass||n.provide));if(i1(n))r=()=>new i(...mg(n.deps));else return Zi(i)||_g(i)}return r}function Zo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function i1(n){return!!n.deps}function o1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function s1(n){return typeof n=="function"||typeof n=="object"&&n instanceof L}function Cg(n,e){for(let t of n)Array.isArray(t)?Cg(t,e):t&&aw(t)?Cg(t.\u0275providers,e):e(t)}function mn(n,e){n instanceof Ca&&n.assertNotDestroyed();let t,r=oi(n),i=zt(void 0);try{return e()}finally{oi(r),zt(i)}}function xw(){return cw()!==void 0||SP()!=null}function vm(n){if(!xw())throw new x(-203,!1)}function a1(n){let e=yt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function c1(n){return typeof n=="function"}function ai(n){return Array.isArray(n)&&typeof n[Ow]=="object"}function Or(n){return Array.isArray(n)&&n[Ow]===!0}function ym(n){return(n.flags&4)!==0}function Bu(n){return n.componentOffset>-1}function $u(n){return(n.flags&1)===1}function ui(n){return!!n.template}function bg(n){return(n[Q]&512)!==0}function Tw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function jn(){return Pw}function Pw(n){return n.type.prototype.ngOnChanges&&(n.setInput=u1),l1}function l1(){let n=kw(this),e=n?.current;if(e){let t=n.previous;if(t===rs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function u1(n,e,t,r,i){let o=this.declaredInputs[r],s=kw(n)||d1(n,{previous:rs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new wg(l&&l.currentValue,t,c===rs),Tw(n,e,i,t)}function kw(n){return n[Aw]||null}function d1(n,e){return n[Aw]=e}function lr(n){for(;Array.isArray(n);)n=n[Ir];return n}function Nw(n,e){return lr(e[n])}function vn(n,e){return lr(e[n.index])}function Rw(n,e){return n.data[e]}function Fw(n,e){return n[e]}function gi(n,e){let t=e[n];return ai(t)?t:t[Ir]}function h1(n){return(n[Q]&4)===4}function _m(n){return(n[Q]&128)===128}function g1(n){return Or(n[St])}function cs(n,e){return e==null?null:n[e]}function Lw(n){n[Jo]=0}function Vw(n){n[Q]&1024||(n[Q]|=1024,_m(n)&&Hu(n))}function m1(n,e){for(;n>0;)e=e[hs],n--;return e}function zu(n){return!!(n[Q]&9216||n[pn]?.dirty)}function Eg(n){n[ar].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),zu(n)&&Hu(n)}function Hu(n){n[ar].changeDetectionScheduler?.notify(0);let e=eo(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!_m(e)));)e=eo(e)}function jw(n,e){if((n[Q]&256)===256)throw new x(911,!1);n[si]===null&&(n[si]=[]),n[si].push(e)}function v1(n,e){if(n[si]===null)return;let t=n[si].indexOf(e);t!==-1&&n[si].splice(t,1)}function eo(n){let e=n[St];return Or(e)?e[St]:e}function y1(){return le.lFrame.elementDepthCount}function _1(){le.lFrame.elementDepthCount++}function C1(){le.lFrame.elementDepthCount--}function Bw(){return le.bindingsEnabled}function b1(){return le.skipHydrationRootTNode!==null}function w1(n){return le.skipHydrationRootTNode===n}function E1(){le.skipHydrationRootTNode=null}function de(){return le.lFrame.lView}function tt(){return le.lFrame.tView}function O(n){return le.lFrame.contextLView=n,n[Ln]}function T(n){return le.lFrame.contextLView=null,n}function _t(){let n=$w();for(;n!==null&&n.type===64;)n=n.parent;return n}function $w(){return le.lFrame.currentTNode}function M1(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function so(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Cm(){return le.lFrame.isParent}function zw(){le.lFrame.isParent=!1}function D1(){return le.lFrame.contextLView}function Hw(){return Uw}function Eb(n){Uw=n}function qu(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function S1(n){return le.lFrame.bindingIndex=n}function Wu(){return le.lFrame.bindingIndex++}function qw(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function x1(){return le.lFrame.inI18n}function I1(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mg(e)}function O1(){return le.lFrame.currentDirectiveIndex}function Mg(n){le.lFrame.currentDirectiveIndex=n}function T1(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ww(){return le.lFrame.currentQueryIndex}function bm(n){le.lFrame.currentQueryIndex=n}function P1(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[Vn]:null}function Gw(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=P1(o),i===null||(o=o[hs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=Kw();return r.currentTNode=e,r.lView=n,!0}function wm(n){let e=Kw(),t=n[ie];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Kw(){let n=le.lFrame,e=n===null?null:n.child;return e===null?Yw(n):e}function Yw(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Qw(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}function Em(){let n=Qw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function A1(n){return(le.lFrame.contextLView=m1(n,le.lFrame.contextLView))[Ln]}function ao(){return le.lFrame.selectedIndex}function to(n){le.lFrame.selectedIndex=n}function Mm(){let n=le.lFrame;return Rw(n.tView,n.selectedIndex)}function k1(){return le.lFrame.currentNamespace}function Gu(){return Jw}function Ku(n){Jw=n}function N1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Pw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Yu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function tu(n,e,t){Xw(n,e,3,t)}function nu(n,e,t,r){(n[Q]&3)===t&&Xw(n,e,t,r)}function ng(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function Xw(n,e,t,r){let i=r!==void 0?n[Jo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Jo]+=65536),(a<o||o==-1)&&(R1(n,t,e,c),n[Jo]=(n[Jo]&4294901760)+c+2),c++}function Mb(n,e){ir(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),ir(5,n,e)}}function R1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[Jo]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,Mb(a,o)):Mb(a,o)}function F1(n){return n instanceof no}function L1(n){return(n.flags&8)!==0}function V1(n){return(n.flags&16)!==0}function eE(n){return n!==ns}function hu(n){return n&32767}function j1(n){return n>>16}function gu(n,e){let t=j1(n),r=e;for(;t>0;)r=r[hs],t--;return r}function mu(n){let e=Sg;return Sg=n,e}function $1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ma)&&(r=t[ma]),r==null&&(r=t[ma]=B1++);let i=r&tE,o=1<<i;e.data[n+(i>>nE)]|=o}function vu(n,e){let t=rE(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,ig(r.data,n),ig(e,null),ig(r.blueprint,null));let i=Dm(n,e),o=n.injectorIndex;if(eE(i)){let s=hu(i),a=gu(i,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ig(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Dm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=cE(i),r===null)return ns;if(t++,i=i[hs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ns}function xg(n,e,t){$1(n,e,t)}function z1(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(gw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function iE(n,e,t){if(t&ce.Optional||n!==void 0)return n;um(e,"NodeInjector")}function oE(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[ss],o=zt(void 0);try{return i?i.get(e,r,t&ce.Optional):lw(e,r,t&ce.Optional)}finally{zt(o)}}return iE(r,e,t)}function sE(n,e,t,r=ce.Default,i){if(n!==null){if(e[Q]&2048&&!(r&ce.Self)){let s=G1(n,e,t,r,or);if(s!==or)return s}let o=aE(n,e,t,r,or);if(o!==or)return o}return oE(e,t,r,i)}function aE(n,e,t,r,i){let o=q1(t);if(typeof o=="function"){if(!Gw(e,n,r))return r&ce.Host?iE(i,t,r):oE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))um(t);else return s}finally{Zw()}}else if(typeof o=="number"){let s=null,a=rE(n,e),c=ns,l=r&ce.Host?e[cr][Vn]:null;for((a===-1||r&ce.SkipSelf)&&(c=a===-1?Dm(n,e):e[a+8],c===ns||!Sb(r,!1)?a=-1:(s=e[ie],a=hu(c),e=gu(c,e)));a!==-1;){let u=e[ie];if(Db(o,a,u.data)){let d=H1(a,e,t,s,r,l);if(d!==or)return d}c=e[a+8],c!==ns&&Sb(r,e[ie].data[a+8]===l)&&Db(o,a,e)?(s=u,a=hu(c),e=gu(c,e)):a=-1}}return i}function H1(n,e,t,r,i,o){let s=e[ie],a=s.data[n+8],c=r==null?Bu(a)&&Sg:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,u=ru(a,s,t,c,l);return u!==null?ro(e,s,u,a):or}function ru(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,v=i?a+u:l;for(let g=d;g<v;g++){let b=s[g];if(g<c&&t===b||g>=c&&b.type===t)return g}if(i){let g=s[c];if(g&&ui(g)&&g.type===t)return c}return null}function ro(n,e,t,r){let i=n[t],o=e.data;if(F1(i)){let s=i;s.resolving&&bP(CP(o[t]));let a=mu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?zt(s.injectImpl):null,u=Gw(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&N1(t,o[t],e)}finally{l!==null&&zt(l),mu(a),s.resolving=!1,Zw()}}return i}function q1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ma)?n[ma]:void 0;return typeof e=="number"?e>=0?e&tE:W1:e}function Db(n,e,t){let r=1<<n;return!!(t[e+(n>>nE)]&r)}function Sb(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}function W1(){return new Qi(_t(),de())}function Tr(n){return Ma(()=>{let e=n.prototype.constructor,t=e[ou]||Ig(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ou]||Ig(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ig(n){return rw(n)?()=>{let e=Ig(Pt(n));return e&&e()}:Zi(n)}function G1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=aE(o,s,t,r|ce.Self,or);if(a!==or)return a;let c=o.parent;if(!c){let l=s[Iw];if(l){let u=l.get(t,or,r);if(u!==or)return u}c=cE(s),s=s[hs]}o=c}return i}function cE(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[Vn]:null}function Sm(n){return z1(_t(),n)}function xb(n,e=null,t=null,r){let i=lE(n,e,t,r);return i.resolveInjectorInitializers(),i}function lE(n,e=null,t=null,r,i=new Set){let o=[t||Ht,QP(n)];return r=r||(typeof n=="object"?void 0:At(n)),new Ca(o,e||mm(),r||null,i)}function og(n){return n[Y1]}function Q1(){return new Og(de())}function yu(...n){}function dE(n){let e,t;function r(){n=yu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Ib(n){return queueMicrotask(()=>n()),()=>{n=yu}}function Im(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function X1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){dE(()=>{n.callbackScheduled=!1,Pg(n),n.isCheckStableRunning=!0,Im(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pg(n)}function eA(n){let e=()=>{X1(n)},t=Z1++;n._inner=n._inner.fork({name:"angular",properties:{[xm]:!0,[_u]:t,[_u+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(tA(c))return r.invokeTask(o,s,a,c);try{return Ob(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Tb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Ob(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!nA(c)&&e(),Tb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pg(n),Im(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Ob(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Tb(n){n._nesting--,Im(n)}function tA(n){return fE(n,"__ignore_ng_zone__")}function nA(n){return fE(n,"__scheduler_tick__")}function fE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function rA(n="zone.js",e){return n==="noop"?new Cu:n==="zone.js"?new _e(e):n}function oA(){return gs(_t(),de())}function gs(n,e){return new Ct(vn(n,e))}function sA(n){return n instanceof Ct?n.nativeElement:n}function aA(){return this._results[Symbol.iterator]()}function pE(n){return(n.flags&128)===128}function lA(){return cA++}function uA(n){hE.set(n[Uu],n)}function kg(n){hE.delete(n[Uu])}function di(n,e){ai(e)?(n[Pb]=e[Uu],uA(e)):n[Pb]=e}function gE(n){return vE(n[ba])}function mE(n){return vE(n[Fn])}function vE(n){for(;n!==null&&!Or(n);)n=n[Fn];return n}function yE(n){Ng=n}function _E(){if(Ng!==void 0)return Ng;if(typeof document<"u")return document;throw new x(210,!1)}function Am(n,e,t=!1){return hA(n,e,t)}function mA(){if(Gl===void 0&&(Gl=null,yt.trustedTypes))try{Gl=yt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gl}function Zu(n){return mA()?.createHTML(n)||n}function bE(){if(Kl===void 0&&(Kl=null,yt.trustedTypes))try{Kl=yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kl}function Ab(n){return bE()?.createHTML(n)||n}function kb(n){return bE()?.createScriptURL(n)||n}function co(n){return n instanceof bu?n.changingThisBreaksApplicationSecurity:n}function Ju(n,e){let t=vA(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tw})`)}return t===e}function vA(n){return n instanceof bu&&n.getTypeName()||null}function yA(n){let e=new Fg(n);return _A()?new Rg(e):e}function _A(){try{return!!new window.DOMParser().parseFromString(Zu(""),"text/html")}catch{return!1}}function km(n){return n=String(n),n.match(CA)?n:"unsafe:"+n}function Ar(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ia(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}function IA(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function OA(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw SE(e);return e}function TA(n){let e=n.firstChild;if(e&&IA(n,e))throw SE(e);return e}function Rb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function SE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}function Fb(n){return n.replace(/&/g,"&amp;").replace(PA,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(AA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xE(n,e){let t=null;try{Yl=Yl||yA(n);let r=e?String(e):"";t=Yl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Yl.getInertBodyElement(r)}while(r!==o);let a=new Lg().sanitizeChildren(Lb(t)||t);return Zu(a)}finally{if(t){let r=Lb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Lb(n){return"content"in n&&kA(n)?n.content:null}function kA(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function IE(n){let e=Nm();return e?Ab(e.sanitize(Oa.HTML,n)||""):Ju(n,"HTML")?Ab(co(n)):xE(_E(),Da(n))}function Ie(n){let e=Nm();return e?e.sanitize(Oa.URL,n)||"":Ju(n,"URL")?co(n):km(Da(n))}function NA(n){let e=Nm();if(e)return kb(e.sanitize(Oa.RESOURCE_URL,n)||"");if(Ju(n,"ResourceURL"))return kb(co(n));throw new x(904,!1)}function RA(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?NA:Ie}function OE(n,e,t){return RA(e,t)(n)}function Nm(){let n=de();return n&&n[ar].sanitizer}function jA(n){return n.replace(FA,e=>e.replace(LA,VA))}function TE(n){return n instanceof Function?n():n}function UA(n){return(n??_(et)).get(Jt)==="browser"}function Rm(n,e){return BA(n,e)}function Xo(n,e,t,r,i){if(r!=null){let o,s=!1;Or(r)?o=r:ai(r)&&(s=!0,r=r[Ir]);let a=lr(r);n===0&&t!==null?i==null?RE(e,t,a):wu(e,t,a,i||null,!0):n===1&&t!==null?wu(e,t,a,i||null,!0):n===2?rk(e,a,s):n===3&&e.destroyNode(a),o!=null&&ok(e,n,o,t,i)}}function $A(n,e){return n.createText(e)}function zA(n,e,t){n.setValue(e,t)}function HA(n,e){return n.createComment(jA(e))}function PE(n,e,t){return n.createElement(e,t)}function qA(n,e){AE(n,e),e[Ir]=null,e[Vn]=null}function WA(n,e,t,r,i,o){r[Ir]=i,r[Vn]=e,ed(n,r,t,1,i,o)}function AE(n,e){e[ar].changeDetectionScheduler?.notify(9),ed(n,e,e[Ke],2,null,null)}function GA(n){let e=n[ba];if(!e)return sg(n[ie],n);for(;e;){let t=null;if(ai(e))t=e[ba];else{let r=e[Zt];r&&(t=r)}if(!t){for(;e&&!e[Fn]&&e!==n;)ai(e)&&sg(e[ie],e),e=e[St];e===null&&(e=n),ai(e)&&sg(e[ie],e),t=e&&e[Fn]}e=t}}function KA(n,e,t,r){let i=Zt+r,o=t.length;r>0&&(t[i-1][Fn]=e),r<o-Zt?(e[Fn]=t[i],dw(t,Zt+r,e)):(t.push(e),e[Fn]=null),e[St]=t;let s=e[Ji];s!==null&&t!==s&&kE(s,e);let a=e[Mr];a!==null&&a.insertView(n),Eg(e),e[Q]|=128}function kE(n,e){let t=n[as],r=e[St];if(ai(r))n[Q]|=pu.HasTransplantedViews;else{let i=r[St][cr];e[cr]!==i&&(n[Q]|=pu.HasTransplantedViews)}t===null?n[as]=[e]:t.push(e)}function Fm(n,e){let t=n[as],r=t.indexOf(e);t.splice(r,1)}function Vg(n,e){if(n.length<=Zt)return;let t=Zt+e,r=n[t];if(r){let i=r[Ji];i!==null&&i!==n&&Fm(i,r),e>0&&(n[t-1][Fn]=r[Fn]);let o=au(n,Zt+e);qA(r[ie],r);let s=o[Mr];s!==null&&s.detachView(o[ie]),r[St]=null,r[Fn]=null,r[Q]&=-129}return r}function NE(n,e){if(!(e[Q]&256)){let t=e[Ke];t.destroyNode&&ed(n,e,t,3,null,null),GA(e)}}function sg(n,e){if(e[Q]&256)return;let t=ye(null);try{e[Q]&=-129,e[Q]|=256,e[pn]&&eh(e[pn]),QA(n,e),YA(n,e),e[ie].type===1&&e[Ke].destroy();let r=e[Ji];if(r!==null&&Or(e[St])){r!==e[St]&&Fm(r,e);let i=e[Mr];i!==null&&i.detachView(n)}kg(e)}finally{ye(t)}}function YA(n,e){let t=n.cleanup,r=e[du];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[du]=null);let i=e[si];if(i!==null){e[si]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function QA(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof no)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,i,o);try{o.call(i)}finally{ir(5,i,o)}}}}}function ZA(n,e,t){return JA(n,e.parent,t)}function JA(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ir];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===sr.None||o===sr.Emulated)return null}return vn(r,t)}}function wu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function RE(n,e,t){n.appendChild(e,t)}function Vb(n,e,t,r,i){r!==null?wu(n,e,t,r,i):RE(n,e,t)}function FE(n,e){return n.parentNode(e)}function XA(n,e){return n.nextSibling(e)}function ek(n,e,t){return nk(n,e,t)}function tk(n,e,t){return n.type&40?vn(n,t):null}function Xu(n,e,t,r){let i=ZA(n,r,e),o=e[Ke],s=r.parent||e[Vn],a=ek(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Vb(o,i,t[c],a,!1);else Vb(o,i,t,a,!1);jb!==void 0&&jb(o,r,e,t,i)}function ga(n,e){if(e!==null){let t=e.type;if(t&3)return vn(e,n);if(t&4)return jg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ga(n,r);{let i=n[e.index];return Or(i)?jg(-1,i):lr(i)}}else{if(t&128)return ga(n,e.next);if(t&32)return Rm(e,n)()||lr(n[e.index]);{let r=LE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=eo(n[cr]);return ga(i,r)}else return ga(n,e.next)}}}return null}function LE(n,e){if(e!==null){let r=n[cr][Vn],i=e.projection;return r.projection[i]}return null}function jg(n,e){let t=Zt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return ga(r,i)}return e[Xi]}function rk(n,e,t){n.removeChild(null,e,t)}function Lm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&di(lr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Lm(n,e,t.child,r,i,o,!1),Xo(e,n,i,a,o);else if(c&32){let l=Rm(t,r),u;for(;u=l();)Xo(e,n,i,u,o);Xo(e,n,i,a,o)}else c&16?ik(n,e,r,t,i,o):Xo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ed(n,e,t,r,i,o){Lm(t,r,n.firstChild,e,i,o,!1)}function ik(n,e,t,r,i,o){let s=t[cr],c=s[Vn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Xo(e,n,i,u,o)}else{let l=c,u=s[St];pE(r)&&(l.flags|=128),Lm(n,e,l,u,i,o,!0)}}function ok(n,e,t,r,i){let o=t[Xi],s=lr(t);o!==s&&Xo(e,n,r,o,i);for(let a=Zt;a<t.length;a++){let c=t[a];ed(c[ie],c,n,e,r,o)}}function sk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Sr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sr.Important),n.setStyle(t,r,i,o))}}function ak(n,e,t){n.setAttribute(e,"style",t)}function VE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function jE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&vg(n,e,r),i!==null&&VE(n,e,i),o!==null&&ak(n,e,o)}function m(n=1){UE(tt(),de(),ao()+n,!1)}function UE(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&tu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nu(e,o,0,t)}to(t)}function D(n,e=ce.Default){let t=de();if(t===null)return F(n,e);let r=_t();return sE(r,t,Pt(n),e)}function BE(){let n="invalid";throw new Error(n)}function $E(n,e,t,r,i,o){let s=ye(null);try{let a=null;i&ci.SignalBased&&(a=e[r][Cr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ci.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):Tw(e,a,r,o)}finally{ye(s)}}function ck(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)to(~i);else{let o=i,s=t[++r],a=t[++r];I1(s,o);let c=e[o];a(2,c)}}}finally{to(-1)}}function td(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Ir]=i,d[Q]=r|4|128|8|64,(l!==null||n&&n[Q]&2048)&&(d[Q]|=2048),Lw(d),d[St]=d[hs]=n,d[Ln]=t,d[ar]=s||n&&n[ar],d[Ke]=a||n&&n[Ke],d[ss]=c||n&&n[ss]||null,d[Vn]=o,d[Uu]=lA(),d[uu]=u,d[Iw]=l,d[cr]=e.type==2?n[cr]:d,d}function Ta(n,e,t,r,i){let o=n.data[e];if(o===null)o=lk(n,e,t,r,i),x1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=M1();o.injectorIndex=s===null?-1:s.injectorIndex}return so(o,!0),o}function lk(n,e,t,r,i){let o=$w(),s=Cm(),a=s?o:o&&o.parent,c=n.data[e]=gk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function zE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function HE(n,e,t,r,i){let o=ao(),s=r&2;try{to(-1),s&&e.length>hn&&UE(n,e,hn,!1),ir(s?2:0,i),t(r,i)}finally{to(o),ir(s?3:1,i)}}function Vm(n,e,t){if(ym(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ye(r)}}}function jm(n,e,t){Bw()&&(bk(n,e,t,vn(t,e)),(t.flags&64)===64&&KE(n,e,t))}function Um(n,e,t=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function qE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Bm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Bm(n,e,t,r,i,o,s,a,c,l,u){let d=hn+r,v=d+i,g=uk(d,v),b=typeof l=="function"?l():l;return g[ie]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}function uk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ur);return t}function dk(n,e,t,r){let o=r.get(gA,CE)||t===sr.ShadowDom,s=n.selectRootElement(e,o);return fk(s),s}function fk(n){pk(n)}function hk(n,e,t,r){let i=ZE(e);i.push(t),n.firstCreatePass&&JE(n).push(r,i.length-1)}function gk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return b1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ub(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ci.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?Bb(r,t,l,a,c):Bb(r,t,l,a)}return r}function Bb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function mk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],v=t?t.get(d):null,g=v?v.inputs:null,b=v?v.outputs:null;c=Ub(0,d.inputs,u,c,g),l=Ub(1,d.outputs,u,l,b);let E=c!==null&&s!==null&&!hm(e)?Ak(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function vk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function WE(n,e,t,r,i,o,s,a){let c=vn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(zm(n,t,u,r,i),Bu(e)&&yk(t,e.index)):e.type&3?(r=vk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function yk(n,e){let t=gi(e,n);t[Q]&16||(t[Q]|=64)}function $m(n,e,t,r){if(Bw()){let i=r===null?null:{"":-1},o=Ek(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&GE(n,e,t,s,i,a),i&&Mk(t,r,i)}t.mergedAttrs=_a(t.mergedAttrs,t.attrs)}function GE(n,e,t,r,i,o){for(let l=0;l<r.length;l++)xg(vu(t,e),n,r[l].type);Sk(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=zE(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=_a(t.mergedAttrs,u.hostAttrs),xk(n,t,e,c,u),Dk(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}mk(n,t,o)}function _k(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Ck(s)!=a&&s.push(a),s.push(t,r,o)}}function Ck(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function bk(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Bu(t)&&Ik(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||vu(t,e),di(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=ro(e,n,a,t);if(di(l,e),s!==null&&Pk(e,a-i,l,c,t,s),ui(c)){let u=gi(t.index,e);u[Ln]=ro(e,n,a,t)}}}function KE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=O1();try{to(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Mg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wk(c,l)}}finally{to(-1),Mg(s)}}function wk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ek(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(BP(e,s.selectors,!1))if(r||(r=[]),ui(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Ug(n,e,c)}else r.unshift(s),Ug(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ug(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Mk(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}}function Dk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ui(e)&&(t[""]=n)}}function Sk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Zi(i.type,!0)),s=new no(o,ui(i),D);n.blueprint[r]=s,t[r]=s,_k(n,e,r,zE(n,t,i.hostVars,ur),i)}function Ik(n,e,t){let r=vn(e,n),i=qE(t),o=n[ar].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=nd(n,td(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function Ok(n,e,t,r,i,o){let s=vn(n,e);Tk(e[Ke],s,o,n.value,t,r,i)}function Tk(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Da(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Pk(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];$E(r,t,c,l,u,d)}}function Ak(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function YE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function QE(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];bm(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function nd(n,e){return n[ba]?n[bb][Fn]=e:n[ba]=e,n[bb]=e,e}function Bg(n,e,t){bm(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function ZE(n){return n[du]??=[]}function JE(n){return n.cleanup??=[]}function XE(n,e){let t=n[ss],r=t?t.get(Dr,null):null;r&&r.handleError(e)}function zm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];$E(u,l,r,a,c,i)}}function kk(n,e,t){let r=Nw(e,n);zA(n[Ke],r,t)}function Nk(n,e){let t=gi(e,n),r=t[ie];Rk(r,t);let i=t[Ir];i!==null&&t[uu]===null&&(t[uu]=Am(i,t[ss])),Hm(r,t,t[Ln])}function Rk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Hm(n,e,t){wm(e);try{let r=n.viewQuery;r!==null&&Bg(1,r,t);let i=n.template;i!==null&&HE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Mr]?.finishViewCreation(n),n.staticContentQueries&&QE(n,e),n.staticViewQueries&&Bg(2,n.viewQuery,t);let o=n.components;o!==null&&Fk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Em()}}function Fk(n,e){for(let t=0;t<e.length;t++)Nk(n,e[t])}function Lk(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[Q]&4096?4096:16,c=td(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ji]=l;let u=n[Mr];return u!==null&&(c[Mr]=u.createEmbeddedView(o)),Hm(o,c,t),c}finally{ye(i)}}function $b(n,e){return!e||e.firstChild===null||pE(n)}function Vk(n,e,t,r=!0){let i=e[ie];if(KA(i,e,n,t),r){let s=jg(t,n),a=e[Ke],c=FE(a,n[Xi]);c!==null&&WA(i,n[Vn],a,e,c,s)}let o=e[uu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Eu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(lr(o)),Or(o)&&jk(o,r);let s=t.type;if(s&8)Eu(n,e,t.child,r);else if(s&32){let a=Rm(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=LE(e,t);if(Array.isArray(a))r.push(...a);else{let c=eo(e[cr]);Eu(c[ie],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function jk(n,e){for(let t=Zt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&Eu(r[ie],r,i,e)}n[Xi]!==n[Ir]&&e.push(n[Xi])}function Uk(n){return n[pn]??Bk(n)}function Bk(n){let e=eM.pop()??Object.create(zk);return e.lView=n,e}function $k(n){n.lView[pn]!==n&&(n.lView=null,eM.push(n))}function Hk(n){let e=n[pn]??Object.create(qk);return e.lView=n,e}function tM(n){return n.type!==2}function nM(n,e=!0,t=0){let r=n[ar],i=r.rendererFactory,o=!1;o||i.begin?.();try{Gk(n,t)}catch(s){throw e&&XE(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Gk(n,e){let t=Hw();try{Eb(!0),$g(n,e);let r=0;for(;zu(n);){if(r===Wk)throw new x(103,!1);r++,$g(n,1)}}finally{Eb(t)}}function Kk(n,e,t,r){let i=e[Q];if((i&256)===256)return;let o=!1,s=!1;!o&&e[ar].inlineEffectRunner?.flush(),wm(e);let a=!0,c=null,l=null;o||(tM(n)?(l=Uk(e),c=il(l)):N0()===null?(a=!1,l=Hk(e),c=il(l)):e[pn]&&(eh(e[pn]),e[pn]=null));try{Lw(e),S1(n.bindingStartIndex),t!==null&&HE(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&tu(e,g,null)}else{let g=n.preOrderHooks;g!==null&&nu(e,g,0,null),ng(e,0)}if(s||Yk(e),rM(e,0),n.contentQueries!==null&&QE(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&tu(e,g)}else{let g=n.contentHooks;g!==null&&nu(e,g,1),ng(e,1)}ck(n,e);let d=n.components;d!==null&&oM(e,d,0);let v=n.viewQuery;if(v!==null&&Bg(2,v,r),!o)if(u){let g=n.viewCheckHooks;g!==null&&tu(e,g)}else{let g=n.viewHooks;g!==null&&nu(e,g,2),ng(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[tg]){for(let g of e[tg])g();e[tg]=null}o||(e[Q]&=-73)}catch(u){throw o||Hu(e),u}finally{l!==null&&(Jp(l,c),a&&$k(l)),Em()}}function rM(n,e){for(let t=gE(n);t!==null;t=mE(t))for(let r=Zt;r<t.length;r++){let i=t[r];iM(i,e)}}function Yk(n){for(let e=gE(n);e!==null;e=mE(e)){if(!(e[Q]&pu.HasTransplantedViews))continue;let t=e[as];for(let r=0;r<t.length;r++){let i=t[r];Vw(i)}}}function Qk(n,e,t){let r=gi(e,n);iM(r,t)}function iM(n,e){_m(n)&&$g(n,e)}function $g(n,e){let r=n[ie],i=n[Q],o=n[pn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xp(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)Kk(r,n,r.template,n[Ln]);else if(i&8192){rM(n,1);let a=r.components;a!==null&&oM(n,a,1)}}function oM(n,e,t){for(let r=0;r<e.length;r++)Qk(n,e[r],t)}function qm(n,e){let t=Hw()?64:1088;for(n[ar].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=eo(n);if(bg(n)&&!r)return n;n=r}return null}function Xk(){return rd(_t(),de())}function rd(n,e){return n.type&4?new Jk(e,n,gs(n,e)):null}function zb(n,e){return eN(n,e)}function tN(n){let e=Error(`No component factory found for ${At(n)}.`);return e[nN]=n,e}function rN(){let n=de(),e=_t(),t=gi(e.index,n);return(ai(t)?t:n)[Ke]}function Du(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pg(i,a);else if(o==2){let c=a,l=e[++s];r=pg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Hb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ci.None;e?t.push({propName:s,templateName:r,isSignal:(a&ci.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function oN(n){let e=n.toLowerCase();return e==="svg"?f1:e==="math"?p1:null}function sN(n,e){let t=n[ie],r=hn;return n[r]=e,Ta(t,r,2,"#host",null)}function aN(n,e,t,r,i,o,s){let a=i[ie];cN(r,n,e,s);let c=null;e!==null&&(c=Am(e,i[ss]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=td(i,qE(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Ug(a,n,r.length-1),nd(i,d),i[n.index]=d}function cN(n,e,t,r){for(let i of n)e.mergedAttrs=_a(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Du(e,e.mergedAttrs,!0),t!==null&&jE(r,t,e))}function lN(n,e,t,r,i,o){let s=_t(),a=i[ie],c=vn(s,i);GE(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,v=ro(i,a,d,s);di(v,i)}KE(a,i,s),c&&di(c,i);let l=ro(i,a,s.directiveStart+s.componentOffset,s);if(n[Ln]=i[Ln]=l,o!==null)for(let u of o)u(l,e);return Vm(a,s,i),l}function uN(n,e,t,r){if(r)vg(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=WP(e.selectors[0]);i&&vg(n,t,i),o&&o.length>0&&VE(n,t,o.join(" "))}}function dN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function fN(){let n=_t();Yu(de()[ie],n)}function pN(){let n=_t();return lM(n,de())}function qb(n){return n[fu]}function ag(n){return n[fu]||(n[fu]=[])}function lM(n,e){let t,r=e[n.index];return Or(r)?t=r:(t=YE(r,e,null,n),e[n.index]=t,nd(e,t)),mN(t,e,n,r),new cM(t,n,e)}function gN(n,e){let t=n[Ke],r=t.createComment(""),i=vn(e,n),o=FE(t,i);return wu(t,o,r,XA(t,i),!1),r}function yN(n,e,t){return vN(n,e,t)}function _N(n,e,t,r){if(n[Xi])return;let i;t.type&8?i=lr(r):i=gN(e,t),n[Xi]=i}function CN(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function bN(n,e){return n.type&11?gs(n,e):n.type&4?rd(n,e):null}function wN(n,e,t,r){return t===-1?bN(e,n):t===-2?EN(n,e,r):ro(n,n[ie],t,e)}function EN(n,e,t){if(t===Ct)return gs(e,n);if(t===fi)return rd(e,n);if(t===kr)return lM(e,n)}function uM(n,e,t,r){let i=e[Mr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(wN(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Qg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=uM(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Zt;d<u.length;d++){let v=u[d];v[Ji]===v[St]&&Qg(v[ie],v,l,r)}if(u[as]!==null){let d=u[as];for(let v=0;v<d.length;v++){let g=d[v];Qg(g[ie],g,l,r)}}}}}return r}function MN(n,e){return n[Mr].queries[e].queryList}function dM(n,e,t){let r=new Ag((t&4)===4);return hk(n,e,r,r.destroy),(e[Mr]??=new Gg).queries.push(new Wg(r))-1}function DN(n,e,t){let r=tt();return r.firstCreatePass&&(fM(r,new xu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),dM(r,de(),e)}function SN(n,e,t,r){let i=tt();if(i.firstCreatePass){let o=_t();fM(i,new xu(e,t,r),o.index),IN(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return dM(i,de(),t)}function xN(n){return n.split(",").map(e=>e.trim())}function fM(n,e,t){n.queries===null&&(n.queries=new Kg),n.queries.track(new Yg(e,t))}function IN(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Gm(n,e){return n.queries.getByIndex(e)}function ON(n,e){let t=n[ie],r=Gm(t,e);return r.crossesNgTemplate?Qg(t,n,e,[]):uM(t,n,r,e)}function lo(n){Wb.has(n)||(Wb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function TN(n){return typeof n=="function"&&n[Cr]!==void 0}function uo(n,e){lo("NgSignals");let t=q0(n),r=t[Cr];return e?.equal&&(r.equal=e.equal),t.set=i=>th(r,i),t.update=i=>W0(r,i),t.asReadonly=PN.bind(t),t}function PN(){let n=this[Cr];if(n.readonlyFn===void 0){let e=()=>this();e[Cr]=n,n.readonlyFn=e}return n.readonlyFn}function pM(n){return TN(n)&&typeof n.set=="function"}function AN(n){let e=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=n(i);t.set(i,o=s.then(FN))}return o}return Iu.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,v)=>{a.push(""),s.push(r(d).then(g=>{a[l+v]=g,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>LN(o));e.push(c)}),NN(),Promise.all(e).then(()=>{})}function NN(){let n=Iu;return Iu=new Map,n}function RN(){return Iu.size===0}function FN(n){return typeof n=="string"?n:n.text()}function LN(n){kN.delete(n)}function VN(n){return Object.getPrototypeOf(n.prototype).constructor}function qt(n){let e=VN(n.type),t=!0,r=[n];for(;e;){let i;if(ui(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ql(n.inputs),s.inputTransforms=Ql(n.inputTransforms),s.declaredInputs=Ql(n.declaredInputs),s.outputs=Ql(n.outputs);let a=i.hostBindings;a&&zN(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&BN(n,c),l&&$N(n,l),jN(n,i),fP(n.outputs,i.outputs),ui(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===qt&&(t=!1)}}e=Object.getPrototypeOf(e)}UN(r)}function jN(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function UN(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_a(i.hostAttrs,t=_a(t,i.hostAttrs))}}function Ql(n){return n===rs?{}:n===Ht?[]:n}function BN(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function $N(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function zN(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Km(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}function HN(n,e,t){return new Ou(n,e,t,!1)}function id(n,e,t=null){return new Zg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function hM(n){return WN(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function qN(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function WN(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ym(n,e,t){return n[e]=t}function GN(n,e){return n[e]}function xr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function KN(n,e,t,r){let i=xr(n,e,t);return xr(n,e+1,r)||i}function YN(n){return(n.flags&32)===32}function QN(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Ta(e,n,4,s||null,a||null);$m(e,t,u,cs(l,c)),Yu(e,u);let d=u.tView=Bm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function ZN(n,e,t,r,i,o,s,a,c,l){let u=t+hn,d=e.firstCreatePass?QN(u,e,n,r,i,o,s,a,c):e.data[u];so(d,!1);let v=JN(e,n,d,t);Gu()&&Xu(e,n,v,d),di(v,n);let g=YE(v,n,v,d);return n[u]=g,nd(n,g),yN(g,d,n),$u(d)&&jm(e,n,d),c!=null&&Um(n,d,l),d}function k(n,e,t,r,i,o,s,a){let c=de(),l=tt(),u=cs(l.consts,o);return ZN(c,l,n,e,t,r,i,u,s,a),k}function XN(n,e,t,r){return Ku(!0),e[Ke].createComment("")}function Qm(n,e){!e?.injector&&vm(Qm);let t=e?.injector??_(et);return UA(t)?(lo("NgAfterNextRender"),tR(n,t,e,!0)):nR}function eR(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function tR(n,e,t,r){let i=e.get(gM);i.impl??=e.get(Jg);let o=t?.phase??es.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Nt):null,a=new Xg(i.impl,eR(n,o),r,s);return i.impl.register(a),a}function ms(n,e,t,r){let i=de(),o=Wu();if(xr(i,o,e)){let s=tt(),a=Mm();Ok(a,i,n,e,t,r)}return ms}function mM(n,e,t,r){return xr(n,Wu(),t)?e+Da(t)+r:ur}function Zl(n,e){return n<<17|e<<2}function oo(n){return n>>17&32767}function rR(n){return(n&2)==2}function iR(n,e){return n&131071|e<<17}function em(n){return n|2}function fs(n){return(n&131068)>>2}function cg(n,e){return n&-131069|e<<2}function oR(n){return(n&1)===1}function tm(n){return n|1}function sR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=oo(s),c=fs(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Sa(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let v=oo(n[a+1]);n[r+1]=Zl(v,a),v!==0&&(n[v+1]=cg(n[v+1],r)),n[a+1]=iR(n[a+1],r)}else n[r+1]=Zl(a,0),a!==0&&(n[a+1]=cg(n[a+1],r)),a=r;else n[r+1]=Zl(c,0),a===0?a=r:n[c+1]=cg(n[c+1],r),c=r;l&&(n[r+1]=em(n[r+1])),Gb(n,u,r,!0),Gb(n,u,r,!1),aR(e,u,n,r,o),s=Zl(a,c),o?e.classBindings=s:e.styleBindings=s}function aR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Sa(o,e)>=0&&(t[r+1]=tm(t[r+1]))}function Gb(n,e,t,r){let i=n[t+1],o=e===null,s=r?oo(i):fs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];cR(c,e)&&(a=!0,n[s+1]=r?tm(l):em(l)),s=r?oo(l):fs(l)}a&&(n[t+1]=r?em(i):tm(i))}function cR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Sa(n,e)>=0:!1}function lR(n){return n.substring(Rn.key,Rn.keyEnd)}function uR(n){return dR(n),vM(n,yM(n,0,Rn.textEnd))}function vM(n,e){let t=Rn.textEnd;return t===e?-1:(e=Rn.keyEnd=fR(n,Rn.key=e,t),yM(n,e,t))}function dR(n){Rn.key=0,Rn.keyEnd=0,Rn.value=0,Rn.valueEnd=0,Rn.textEnd=n.length}function yM(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function fR(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function y(n,e,t){let r=de(),i=Wu();if(xr(r,i,e)){let o=tt(),s=Mm();WE(o,s,r,n,e,r[Ke],t,!1)}return y}function nm(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";zm(n,t,o[s],s,r)}function Bn(n,e){return hR(n,e,null,!0),Bn}function pR(n,e){for(let t=uR(e);t>=0;t=vM(e,t))pm(n,lR(e),!0)}function hR(n,e,t,r){let i=de(),o=tt(),s=qw(2);if(o.firstUpdatePass&&CM(o,n,s,r),e!==ur&&xr(i,s,e)){let a=o.data[ao()];bM(o,a,i,i[Ke],n,i[s+1]=wR(e,t),r,s)}}function gR(n,e,t,r){let i=tt(),o=qw(2);i.firstUpdatePass&&CM(i,null,o,r);let s=de();if(t!==ur&&xr(s,o,t)){let a=i.data[ao()];if(wM(a,r)&&!_M(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=pg(c,t||"")),nm(i,a,s,t,r)}else bR(i,a,s,s[Ke],s[o+1],s[o+1]=CR(n,e,t),r,o)}}function _M(n,e){return e>=n.expandoStartIndex}function CM(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ao()],s=_M(n,t);wM(o,r)&&e===null&&!s&&(e=!1),e=mR(i,o,e,r),sR(i,o,e,t,s,r)}}function mR(n,e,t,r){let i=T1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=lg(null,n,e,t,r),t=Ea(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=lg(i,n,e,t,r),o===null){let c=vR(n,e,r);c!==void 0&&Array.isArray(c)&&(c=lg(null,n,e,c[1],r),c=Ea(c,e.attrs,r),yR(n,e,r,c))}else o=_R(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function vR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(fs(r)!==0)return n[oo(r)]}function yR(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[oo(i)]=r}function _R(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ea(r,s,t)}return Ea(r,e.attrs,t)}function lg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ea(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ea(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),pm(n,s,t?!0:e[++o]))}return n===void 0?null:n}function CR(n,e,t){if(t==null||t==="")return Ht;let r=[],i=co(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function bR(n,e,t,r,i,o,s,a){i===ur&&(i=Ht);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let v=c<i.length?i[c+1]:void 0,g=l<o.length?o[l+1]:void 0,b=null,E;u===d?(c+=2,l+=2,v!==g&&(b=d,E=g)):d===null||u!==null&&u<d?(c+=2,b=u):(l+=2,b=d,E=g),b!==null&&bM(n,e,t,r,b,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function bM(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=oR(l)?Kb(c,e,t,i,fs(l),s):void 0;if(!Pu(u)){Pu(o)||rR(l)&&(o=Kb(c,null,t,i,a,s));let d=Nw(ao(),t);sk(r,s,d,i,o)}}function Kb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,v=t[i+1];v===ur&&(v=d?Ht:void 0);let g=d?Xh(v,r):u===r?v:void 0;if(l&&!Pu(g)&&(g=Xh(c,r)),Pu(g)&&(a=g,s))return a;let b=n[i+1];i=s?oo(b):fs(b)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Xh(c,r))}return a}function Pu(n){return n!==void 0}function wR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=At(co(n)))),n}function wM(n,e){return(n.flags&(e?8:16))!==0}function EM(n,e,t){let r=de(),i=mM(r,n,e,t);gR(pm,pR,i,!0)}function ER(n,e,t,r,i,o){let s=e.consts,a=cs(s,i),c=Ta(e,n,2,r,a);return $m(e,t,c,cs(s,o)),c.attrs!==null&&Du(c,c.attrs,!1),c.mergedAttrs!==null&&Du(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function p(n,e,t,r){let i=de(),o=tt(),s=hn+n,a=i[Ke],c=o.firstCreatePass?ER(s,o,i,e,t,r):o.data[s],l=MR(o,i,c,a,e,n);i[s]=l;let u=$u(c);return so(c,!0),jE(a,l,c),!YN(c)&&Gu()&&Xu(o,i,l,c),y1()===0&&di(l,i),_1(),u&&(jm(o,i,c),Vm(o,c,i)),r!==null&&Um(i,c),p}function f(){let n=_t();Cm()?zw():(n=n.parent,so(n,!1));let e=n;w1(e)&&E1(),C1();let t=tt();return t.firstCreatePass&&(Yu(t,n),ym(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&L1(e)&&nm(t,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&V1(e)&&nm(t,e,de(),e.stylesWithoutHost,!1),f}function A(n,e,t,r){return p(n,e,t,r),f(),A}function DR(n,e,t,r,i){let o=e.consts,s=cs(o,r),a=Ta(e,n,8,"ng-container",s);s!==null&&Du(a,s,!0);let c=cs(o,i);return $m(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function bt(n,e,t){let r=de(),i=tt(),o=n+hn,s=i.firstCreatePass?DR(o,i,r,e,t):i.data[o];so(s,!0);let a=SR(i,r,s,n);return r[o]=a,Gu()&&Xu(i,r,a,s),di(a,r),$u(s)&&(jm(i,r,s),Vm(i,s,r)),t!=null&&Um(r,s),bt}function wt(){let n=_t(),e=tt();return Cm()?zw():(n=n.parent,so(n,!1)),e.firstCreatePass&&(Yu(e,n),ym(n)&&e.queries.elementEnd(n)),wt}function z(){return de()}function xR(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}function yn(n){let e=OR(n),t=Yb(e);if(t)return t;let r=e.split("-")[0];if(t=Yb(r),t)return t;if(r==="en")return IR;throw new x(701,!1)}function Yb(n){return n in ug||(ug[n]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[n]),ug[n]}function OR(n){return n.toLowerCase().replace(/_/g,"-")}function PR(n){typeof n=="string"&&(TR=n.toLowerCase().replace(/_/g,"-"))}function S(n,e,t,r){let i=de(),o=tt(),s=_t();return MM(o,i,i[Ke],s,n,e,r),S}function kR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[du],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function MM(n,e,t,r,i,o,s){let a=$u(r),l=n.firstCreatePass&&JE(n),u=e[Ln],d=ZE(e),v=!0;if(r.type&3||s){let E=vn(r,e),R=s?s(E):E,$=d.length,se=s?pe=>s(lr(pe[r.index])):r.index,Y=null;if(!s&&a&&(Y=kR(n,e,i,r.index)),Y!==null){let pe=Y.__ngLastListenerFn__||Y;pe.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,v=!1}else{o=Zb(r,e,u,o),AR(E,i,o);let pe=t.listen(R,i,o);d.push(o,pe),l&&l.push(i,se,$,$+1)}}else o=Zb(r,e,u,o);let g=r.outputs,b;if(v&&g!==null&&(b=g[i])){let E=b.length;if(E)for(let R=0;R<E;R+=2){let $=b[R],se=b[R+1],We=e[$][se].subscribe(o),Se=d.length;d.push(o,We),l&&l.push(i,r.index,Se,-(Se+1))}}}function Qb(n,e,t,r){let i=ye(null);try{return ir(6,e,t),t(r)!==!1}catch(o){return XE(n,o),!1}finally{ir(7,e,t),ye(i)}}function Zb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?gi(n.index,e):e;qm(s,5);let a=Qb(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Qb(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function w(n=1){return A1(n)}function DM(n,e,t,r){SN(n,e,t,r)}function od(n,e,t){DN(n,e,t)}function vs(n){let e=de(),t=tt(),r=Ww();bm(r+1);let i=Gm(t,r);if(n.dirty&&h1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=ON(e,r);n.reset(o,sA),n.notifyOnChanges()}return!0}return!1}function ys(){return MN(de(),Ww())}function NR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function at(n){let e=D1();return Fw(e,hn+n)}function C(n,e=""){let t=de(),r=tt(),i=n+hn,o=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],s=RR(r,t,o,e,n);t[i]=s,Gu()&&Xu(r,t,s,o),so(o,!1)}function ft(n){return Pe("",n,""),ft}function Pe(n,e,t){let r=de(),i=mM(r,n,e,t);return i!==ur&&kk(r,ao(),i),Pe}function Rt(n,e,t){pM(e)&&(e=e());let r=de(),i=Wu();if(xr(r,i,e)){let o=tt(),s=Mm();WE(o,s,r,n,e,r[Ke],t,!1)}return Rt}function Wt(n,e){let t=pM(n);return t&&n.set(e),t}function Ft(n,e){let t=de(),r=tt(),i=_t();return MM(r,t,t[Ke],i,n,e),Ft}function FR(n,e,t){let r=tt();if(r.firstCreatePass){let i=ui(n);rm(t,r.data,r.blueprint,i,!0),rm(e,r.data,r.blueprint,i,!1)}}function rm(n,e,t,r,i){if(n=Pt(n),Array.isArray(n))for(let o=0;o<n.length;o++)rm(n[o],e,t,r,i);else{let o=tt(),s=de(),a=_t(),c=os(n)?n:Pt(n.provide),l=Sw(n),u=a.providerIndexes&1048575,d=a.directiveStart,v=a.providerIndexes>>20;if(os(n)||!n.multi){let g=new no(l,i,D),b=fg(c,e,i?u:u+v,d);b===-1?(xg(vu(a,s),o,c),dg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[b]=g,s[b]=g)}else{let g=fg(c,e,u+v,d),b=fg(c,e,u,u+v),E=g>=0&&t[g],R=b>=0&&t[b];if(i&&!R||!i&&!E){xg(vu(a,s),o,c);let $=jR(i?VR:LR,t.length,i,r,l);!i&&R&&(t[b].providerFactory=$),dg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push($),s.push($)}else{let $=SM(t[i?b:g],l,!i&&r);dg(o,n,g>-1?g:b,$)}!i&&r&&R&&t[b].componentProviders++}}}function dg(n,e,t,r){let i=os(e),o=e1(e);if(i||o){let c=(o?Pt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function SM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function LR(n,e,t,r){return im(this.multi,[])}function VR(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ro(t,t[ie],this.providerFactory.index,r);o=a.slice(0,s),im(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],im(i,o);return o}function im(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function jR(n,e,t,r,i){let o=new no(n,t,D);return o.multi=[],o.index=e,o.componentProviders=0,SM(o,i,r&&!t),o}function nt(n,e=[]){return t=>{t.providersResolver=(r,i)=>FR(r,i?i(n):n,e)}}function xM(n){lo("NgStandalone"),n.getStandaloneInjector=e=>e.get(UR).getOrCreateStandaloneInjector(n)}function IM(n,e,t){let r=n.\u0275cmp;r.directiveDefs=lu(e,!1),r.pipeDefs=lu(t,!0)}function OM(n,e,t){let r=qu()+n,i=de();return i[r]===ur?Ym(i,r,t?e.call(t):e()):GN(i,r)}function Pa(n,e,t,r){return PM(de(),qu(),n,e,t,r)}function _n(n,e,t,r,i){return BR(de(),qu(),n,e,t,r,i)}function TM(n,e){let t=n[e];return t===ur?void 0:t}function PM(n,e,t,r,i,o){let s=e+t;return xr(n,s,i)?Ym(n,s+1,o?r.call(o,i):r(i)):TM(n,s+1)}function BR(n,e,t,r,i,o,s){let a=e+t;return KN(n,a,i,o)?Ym(n,a+2,s?r.call(s,i,o):r(i,o)):TM(n,a+2)}function Lt(n,e){let t=tt(),r,i=n+hn;t.firstCreatePass?(r=$R(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Zi(r.type,!0)),s,a=zt(D);try{let c=mu(!1),l=o();return mu(c),NR(t,de(),i,l),l}finally{zt(a)}}function $R(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Vt(n,e,t){let r=n+hn,i=de(),o=Fw(i,r);return zR(i,r)?PM(i,qu(),e,o.transform,t,o):o.transform(t)}function zR(n,e){return n[ie].data[e].pure}function $n(n,e){return rd(n,e)}function HR(n){Jl!==null&&(n.defaultEncapsulation!==Jl.defaultEncapsulation||n.preserveWhitespaces!==Jl.preserveWhitespaces)||(Jl=n)}function qR(n){Jm=n}function mi(n){return!!n&&typeof n.then=="function"}function Xm(n){return!!n&&typeof n.subscribe=="function"}function WR(){H0(()=>{throw new x(600,!1)})}function GR(n){return n.isBoundToModule}function YR(n,e,t){try{let r=t();return mi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function kM(n,e){return Array.isArray(e)?e.reduce(kM,n):M(M({},n),e)}function iu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function QR(n,e,t,r){if(!t&&!zu(n))return;nM(n,e,t&&!r?0:1)}function JR(n,e,t){let r=new Tu(t);return Promise.resolve(r)}function Jb(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}function eF({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(B(M({},NM()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:is,multi:!0,useFactory:()=>{let r=_(XR,{optional:!0});return()=>r.initialize()}},{provide:is,multi:!0,useFactory:()=>{let r=_(tF);return()=>{r.initialize()}}},e===!0?{provide:sM,useValue:!0}:[],{provide:aM,useValue:t??uE}]}function NM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}function rF(){return typeof $localize<"u"&&$localize.locale||Au}function Xl(n){return!n.moduleRef}function iF(n){let e=Xl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Xl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Dr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Xl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ku);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ku);s.add(o),n.moduleRef.onDestroy(()=>{iu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return YR(r,t,()=>{let o=e.get(AM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(dd,Au);if(PR(s||Au),Xl(n)){let a=e.get(Cn);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return oF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function oF(n,e){let t=n.injector.get(Cn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new x(-403,!1);e.push(n)}function sF(n){if(va&&!va.get(FM,!1))throw new x(400,!1);WR(),va=n;let e=n.get(RM);return lF(n),e}function ev(n,e,t=[]){let r=`Platform: ${e}`,i=new L(r);return(o=[])=>{let s=LM();if(!s||s.injector.get(FM,!1)){let a=[...t,...o,{provide:i,useValue:!0}];n?n(a):sF(aF(a,r))}return cF(i)}}function aF(n=[],e){return et.create({name:e,providers:[{provide:ju,useValue:"platform"},{provide:ku,useValue:new Set([()=>va=null])},...n]})}function cF(n){let e=LM();if(!e)throw new x(401,!1);return e}function LM(){return va?.get(RM)??null}function lF(n){n.get(Om,null)?.forEach(t=>t())}function uF(n){return dF(_t(),de(),(n&16)===16)}function dF(n,e,t){if(Bu(n)&&!t){let r=gi(n.index,e);return new io(r,r)}else if(n.type&175){let r=e[cr];return new io(r,e)}return null}function Xb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function ew(){return new tv([new sm])}function vi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function fo(n,e){lo("NgSignals");let t=B0(n);return e?.equal&&(t[Cr].equal=e.equal),t}function Xt(n){let e=ye(null);try{return n()}finally{ye(e)}}function UM(n){let e=li(n);if(!e)return null;let t=new ds(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tw,x,Wl,yt,pP,ow,gb,sw,gP,L,mP,vP,yP,_P,ou,ma,mb,ce,hg,wP,ya,gg,su,EP,MP,DP,vb,ts,Vu,dm,rs,Ht,is,fw,pw,cu,hw,sr,ci,mw,ZP,ju,eu,t1,eg,kt,Ca,Ir,ie,Q,St,Fn,Vn,uu,du,Ln,ss,ar,Ke,ba,bb,hs,cr,Ji,Jo,Mr,Uu,Iw,si,tg,pn,hn,Ow,Xi,fu,as,Zt,pu,wg,Aw,wb,ir,f1,p1,le,Uw,Zw,Jw,ns,no,rg,Dg,Sg,U1,tE,nE,B1,or,Qi,et,K1,Y1,uE,Nt,Og,Pr,Tg,X,xm,_u,Z1,_e,J1,Cu,Dr,iA,Ct,Ag,hE,cA,Pb,Ng,Qu,dA,Om,Jt,Tm,Pm,fA,pA,hA,CE,gA,Gl,Kl,bu,Rg,Fg,CA,wE,EE,ME,bA,wA,EA,Nb,DE,MA,DA,SA,xA,Lg,PA,AA,Yl,Oa,FA,LA,VA,Sr,BA,nk,jb,ur,pk,eM,zk,qk,Wk,io,fi,Zk,Jk,P9,eN,ls,Wm,sM,aM,zg,Mu,nN,Hg,us,pi,Un,iN,Su,ds,qg,kr,hN,cM,mN,vN,Wg,Gg,xu,Kg,Yg,Wb,Iu,kN,hi,wa,Ou,Tu,Zg,JN,es,gM,Jg,Xg,nR,Rn,MR,SR,Yi,IR,ug,Ze,Au,TR,AR,RR,UR,Jl,sd,Zm,Aa,ad,cd,Jm,_s,AM,ld,KR,Cn,om,ud,ZR,XR,tF,nF,dd,ku,RM,va,FM,zn,sm,fF,am,cm,lm,Nu,tv,VM,jM,N=h(()=>{"use strict";K0();we();ii();tw="https://g.co/ng/security#xss",x=class extends Error{constructor(e,t){super(Ru(e,t)),this.code=e}};Wl="__parameters__";yt=globalThis;pP=Ae({__forward_ref__:Ae});ow=Ae({\u0275prov:Ae}),gb=Ae({\u0275inj:Ae}),sw=Ae({ngInjectableDef:Ae}),gP=Ae({ngInjectorDef:Ae}),L=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};mP=Ae({\u0275cmp:Ae}),vP=Ae({\u0275dir:Ae}),yP=Ae({\u0275pipe:Ae}),_P=Ae({\u0275mod:Ae}),ou=Ae({\u0275fac:Ae}),ma=Ae({__NG_ELEMENT_ID__:Ae}),mb=Ae({__NG_ENV_ID__:Ae});ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{});wP={},ya=wP,gg="__NG_DI_FLAG__",su="ngTempTokenPath",EP="ngTokenPath",MP=/\n/gm,DP="\u0275",vb="__source";Vu=uw(nw("Optional"),8),dm=uw(nw("SkipSelf"),4);rs={},Ht=[],is=new L(""),fw=new L("",-1),pw=new L(""),cu=class{get(e,t=ya){if(t===ya){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return t}},hw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(hw||{}),sr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(sr||{}),ci=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ci||{});mw="ng-template";ZP=Ae({provide:String,useValue:Ae});ju=new L(""),eu={},t1={};kt=class{},Ca=class extends kt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cg(e,s=>this.processProvider(s)),this.records.set(fw,Zo(void 0,this)),i.has("environment")&&this.records.set(kt,Zo(void 0,this));let o=this.records.get(ju);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pw,Ht,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=oi(this),r=zt(void 0),i;try{return e()}finally{oi(t),zt(r)}}get(e,t=ya,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mb))return e[mb](this);r=Lu(r);let i,o=oi(this),s=zt(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=s1(e)&&Fu(e);l&&this.injectableDefInScope(l)?c=Zo(_g(e),eu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ce.Self?mm():this.parent;return t=r&ce.Optional&&t===ya?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[su]=a[su]||[]).unshift(At(e)),o)throw a;return OP(a,e,"R3InjectorError",this.source)}else throw a}finally{zt(s),oi(o)}}resolveInjectorInitializers(){let e=ye(null),t=oi(this),r=zt(void 0),i;try{let o=this.get(is,Ht,ce.Self);for(let s of o)s()}finally{oi(t),zt(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=Pt(e);let t=os(e)?e:Pt(e&&e.provide),r=r1(e);if(!os(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Zo(void 0,eu,!0),i.factory=()=>mg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===eu&&(t.value=t1,t.value=t.factory()),typeof t.value=="object"&&t.value&&o1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};Ir=0,ie=1,Q=2,St=3,Fn=4,Vn=5,uu=6,du=7,Ln=8,ss=9,ar=10,Ke=11,ba=12,bb=13,hs=14,cr=15,Ji=16,Jo=17,Mr=18,Uu=19,Iw=20,si=21,tg=22,pn=23,hn=25,Ow=1,Xi=7,fu=8,as=9,Zt=10,pu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(pu||{});wg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};jn.ngInherit=!0;Aw="__ngSimpleChanges__";wb=null,ir=function(n,e,t){wb?.(n,e,t)},f1="svg",p1="math";le={lFrame:Yw(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Uw=!1;Zw=Qw;Jw=!0;ns=-1,no=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};rg={},Dg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Lu(r);let i=this.injector.get(e,rg,r);return i!==rg||t===rg?i:this.parentInjector.get(e,t,r)}};Sg=!0;U1=256,tE=U1-1,nE=5,B1=0,or={};Qi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return sE(this._tNode,this._lView,e,Lu(r),t)}};et=class n{static{this.THROW_IF_NOT_FOUND=ya}static{this.NULL=new cu}static create(e,t){if(Array.isArray(e))return xb({name:""},t,e,"");{let r=e.name??"";return xb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=I({token:n,providedIn:"any",factory:()=>F(fw)})}static{this.__NG_ELEMENT_ID__=-1}};K1=new L("");K1.__NG_ELEMENT_ID__=n=>{let e=_t();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new x(204,!1)};Y1="ngOriginalError";uE=!0,Nt=(()=>{class n{static{this.__NG_ELEMENT_ID__=Q1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Og=class extends Nt{constructor(e){super(),this._lView=e}onDestroy(e){return jw(this._lView,e),()=>v1(this._lView,e)}};Pr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Tg=class extends ge{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,xw()&&(this.destroyRef=_(Nt,{optional:!0})??void 0,this.pendingTasks=_(Pr,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},X=Tg;xm="isAngularZone",_u=xm+"_ID",Z1=0,_e=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new X(!1),this.onMicrotaskEmpty=new X(!1),this.onStable=new X(!1),this.onError=new X(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=uE}=e;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,J1,yu,yu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},J1={};Cu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new X,this.onMicrotaskEmpty=new X,this.onStable=new X,this.onError=new X}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};Dr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&og(e);for(;t&&og(t);)t=og(t);return t||null}},iA=new L("",{providedIn:"root",factory:()=>{let n=_(_e),e=_(Dr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});Ct=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=oA}}return n})();Ag=class n{get changes(){return this._changes??=new X}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=aA)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=AP(e);(this._changesDetected=!PP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};hE=new Map,cA=0;Pb="__ngContext__";Qu=new L("",{providedIn:"root",factory:()=>dA}),dA="ng",Om=new L(""),Jt=new L("",{providedIn:"platform",factory:()=>"unknown"}),Tm=new L(""),Pm=new L("",{providedIn:"root",factory:()=>_E().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),fA="h",pA="b",hA=()=>null;CE=!1,gA=new L("",{providedIn:"root",factory:()=>CE});bu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tw})`}};Rg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Zu(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Fg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Zu(e),t}};CA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;wE=Ar("area,br,col,hr,img,wbr"),EE=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ME=Ar("rp,rt"),bA=Ia(ME,EE),wA=Ia(EE,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),EA=Ia(ME,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nb=Ia(wE,wA,EA,bA),DE=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MA=Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),DA=Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),SA=Ia(DE,MA,DA),xA=Ar("script,style,template"),Lg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=TA(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=OA(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Rb(e).toLowerCase();if(!Nb.hasOwnProperty(t))return this.sanitizedSomething=!0,!xA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!SA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;DE[a]&&(c=km(c)),this.buf.push(" ",s,'="',Fb(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=Rb(e).toLowerCase();Nb.hasOwnProperty(t)&&!wE.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Fb(e))}};PA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AA=/([^\#-~ |!])/g;Oa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Oa||{});FA=/^>|^->|<!--|-->|--!>|<!-$/g,LA=/(<|>)/g,VA="\u200B$1\u200B";Sr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Sr||{});nk=tk;ur={};pk=()=>null;eM=[];zk=B(M({},oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Hu(n.lView)},consumerOnSignalRead(){this.lView[pn]=this}});qk=B(M({},oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=eo(n.lView);for(;e&&!tM(e[ie]);)e=eo(e);e&&Vw(e)},consumerOnSignalRead(){this.lView[pn]=this}});Wk=100;io=class{get rootNodes(){let e=this._lView,t=e[ie];return Eu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(e){this._lView[Ln]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(Or(e)){let t=e[fu],r=t?t.indexOf(this):-1;r>-1&&(Vg(e,r),au(t,r))}this._attachedToViewContainer=!1}NE(this._lView[ie],this._lView)}onDestroy(e){jw(this._lView,e)}markForCheck(){qm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){Eg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,nM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bg(this._lView),t=this._lView[Ji];t!==null&&!e&&Fm(t,this._lView),AE(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let t=bg(this._lView),r=this._lView[Ji];r!==null&&!t&&kE(r,this._lView),Eg(this._lView)}},fi=(()=>{class n{static{this.__NG_ELEMENT_ID__=Xk}}return n})(),Zk=fi,Jk=class extends Zk{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Lk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new io(i)}};P9=new RegExp(`^(\\d+)*(${pA}|${fA})*(.*)`),eN=()=>null;ls=class{},Wm=new L("",{providedIn:"root",factory:()=>!1}),sM=new L(""),aM=new L(""),zg=class{},Mu=class{};nN="ngComponent",Hg=class{resolveComponentFactory(e){throw tN(e)}},us=class{static{this.NULL=new Hg}},pi=class{},Un=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>rN()}}return n})();iN=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>null})}}return n})();Su=class extends us{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=li(e);return new ds(t,this.ngModule)}};ds=class extends Mu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Hb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Hb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=qP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof kt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Dg(e,s):e,c=a.get(pi,null);if(c===null)throw new x(407,!1);let l=a.get(iN,null),u=a.get(ls,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},v=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?dk(v,r,this.componentDef.encapsulation,a):PE(v,g,oN(g)),E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let R=null;b!==null&&(R=Am(b,a,!0));let $=Bm(0,null,null,1,0,null,null,null,null,null,null),se=td(null,$,null,E,null,null,d,v,a,null,R);wm(se);let Y,pe,We=null;try{let Se=this.componentDef,Ve,lt=null;Se.findHostDirectiveDefs?(Ve=[],lt=new Map,Se.findHostDirectiveDefs(Se,Ve,lt),Ve.push(Se)):Ve=[Se];let _r=sN(se,b);We=aN(_r,b,Se,Ve,se,d,v),pe=Rw($,hn),b&&uN(v,Se,b,r),t!==void 0&&dN(pe,this.ngContentSelectors,t),Y=lN(We,Se,Ve,lt,se,[fN]),Hm($,se,null)}catch(Se){throw We!==null&&kg(We),kg(se),Se}finally{Em()}return new qg(this.componentType,Y,gs(pe,se),se,pe)}finally{ye(o)}}},qg=class extends zg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new io(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;zm(o[ie],o,i,e,t),this.previousInputValues.set(e,t);let s=gi(this._tNode.index,o);qm(s,1)}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};kr=(()=>{class n{static{this.__NG_ELEMENT_ID__=pN}}return n})();hN=kr,cM=class extends hN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return gs(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dm(this._hostTNode,this._hostLView);if(eE(e)){let t=gu(e,this._hostLView),r=hu(e),i=t[ie].data[r+8];return new Qi(i,t)}else return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=qb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,$b(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!c1(e),a;if(s)a=t;else{let b=t||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let c=s?e:new ds(li(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(kt,null);E&&(o=E)}let u=li(c.componentType??{}),d=zb(this._lContainer,u?.id??null),v=d?.firstChild??null,g=c.create(l,i,v,o);return this.insertImpl(g.hostView,a,$b(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(g1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[St],l=new cM(c,c[Vn],c[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Vk(s,i,o,r),e.attachToViewContainerRef(),dw(ag(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=qb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);r&&(au(ag(this._lContainer),t),NE(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Vg(this._lContainer,t);return r&&au(ag(this._lContainer),t)!=null?new io(r):null}_adjustIndex(e,t=0){return e??this.length+t}};mN=_N,vN=()=>!1;Wg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Gg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Gm(e,t).matches!==null&&this.queries[t].setDirty()}},xu=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=xN(e):this.predicate=e}},Kg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Yg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,CN(t,o)),this.matchTNodeWithReadOption(e,t,ru(t,e,o,!1,!1))}else r===fi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ru(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ct||i===kr||i===fi&&t.type&4)this.addMatch(t.index,-2);else{let o=ru(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};Wb=new Set;Iu=new Map,kN=new Set;hi=class{},wa=class{},Ou=class extends hi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Su(this);let o=Cw(e);this._bootstrapComponents=TE(o.bootstrap),this._r3Injector=lE(e,t,[{provide:hi,useValue:this},{provide:us,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tu=class extends wa{constructor(e){super(),this.moduleType=e}create(e){return new Ou(this.moduleType,e,[])}};Zg=class extends hi{constructor(e){super(),this.componentFactoryResolver=new Su(this),this.instance=null;let t=new Ca([...e.providers,{provide:hi,useValue:this},{provide:us,useValue:this.componentFactoryResolver}],e.parent||mm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};JN=XN;es=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(es||{}),gM=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Jg=class n{constructor(){this.ngZone=_(_e),this.scheduler=_(ls),this.errorHandler=_(Dr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[es.EarlyRead,es.Write,es.MixedReadWrite,es.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}},Xg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};nR={destroy(){}};Rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};MR=(n,e,t,r,i,o)=>(Ku(!0),PE(r,i,k1()));SR=(n,e,t,r)=>(Ku(!0),HA(e[Ke],""));Yi=void 0;IR=["en",[["a","p"],["AM","PM"],Yi],[["AM","PM"],Yi,Yi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yi,"{1} 'at' {0}",Yi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xR],ug={};Ze=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ze||{});Au="en-US",TR=Au;AR=(n,e,t)=>{};RR=(n,e,t,r,i)=>(Ku(!0),$A(e[Ke],r));UR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ew(!1,t.type),i=r.length>0?id([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(F(kt))})}}return n})();Jl=null;sd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Zm=new L(""),Aa=new L(""),ad=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Jm||(qR(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(F(_e),F(cd),F(Aa))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),cd=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Jm?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();_s=new L(""),AM=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=_(_s,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(mi(o))t.push(o);else if(Xm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ld=new L("");KR=10;Cn=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(iA),this.afterRenderManager=_(gM),this.zonelessEnabled=_(Wm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ge,this.afterTick=new ge,this.componentTypes=[],this.components=[],this.isStable=_(Pr).hasPendingTasks.pipe(j(t=>!t)),this._injector=_(kt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Mu;if(!this._injector.get(AM).done){let v=!i&&_w(t),g=!1;throw new x(405,g)}let s;i?s=t:s=this._injector.get(us).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=GR(s)?void 0:this._injector.get(hi),c=r||s.selector,l=s.create(et.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Zm,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),iu(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new x(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(pi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<KR;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)QR(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>zu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;iu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(ld,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>iu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();om=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ud=(()=>{class n{compileModuleSync(t){return new Tu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Cw(t),o=TE(i.declarations).reduce((s,a)=>{let c=li(a);return c&&s.push(new ds(c)),s},[]);return new om(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZR=new L("");XR=(()=>{class n{constructor(){this.zone=_(_e),this.changeDetectionScheduler=_(ls),this.applicationRef=_(Cn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();tF=(()=>{class n{constructor(){this.subscription=new je,this.initialized=!1,this.zone=_(_e),this.pendingTasks=_(Pr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nF=(()=>{class n{constructor(){this.appRef=_(Cn),this.taskService=_(Pr),this.ngZone=_(_e),this.zonelessEnabled=_(Wm),this.disableScheduling=_(sM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new je,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_u):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(aM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ib:dE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_u+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ib(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();dd=new L("",{providedIn:"root",factory:()=>_(dd,ce.Optional|ce.SkipSelf)||rF()}),ku=new L("");RM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>rA(r?.ngZone,B(M({},NM({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,a=[eF({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:ls,useExisting:nF}],c=HN(t.moduleType,this.injector,a);return iF({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=kM({},r);return JR(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(ku,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(F(et))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),va=null,FM=new L("");zn=(()=>{class n{static{this.__NG_ELEMENT_ID__=uF}}return n})();sm=class{constructor(){}supports(e){return hM(e)}create(e){return new am(e)}},fF=(n,e)=>e,am=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Xb(r,i,o)?t:r,a=Xb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let v=0;v<l;v++){let g=v<o.length?o[v]:o[v]=0,b=g+v;u<=b&&b<l&&(o[v]=g+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hM(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,qN(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new cm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Nu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new lm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};tv=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:ew})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ew()),deps:[[n,new dm,new Vu]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new x(901,!1)}}return n})(),VM=ev(null,"core",[]),jM=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(F(Cn))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})()});function dr(){return GM}function KM(n){GM??=n}function gv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function BM(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Rr(n){return n&&n[0]!=="?"?"?"+n:n}function gF(){return new bs(F(Lr))}function mF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function $M(n){return n.replace(/\/index.html$/,"")}function vF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function yF(n){return yn(n)[Ze.LocaleId]}function _F(n,e,t){let r=yn(n),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],o=bn(i,e);return bn(o,t)}function CF(n,e,t){let r=yn(n),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],o=bn(i,e);return bn(o,t)}function bF(n,e,t){let r=yn(n),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],o=bn(i,e);return bn(o,t)}function wF(n,e){let r=yn(n)[Ze.Eras];return bn(r,e)}function fd(n,e){let t=yn(n);return bn(t[Ze.DateFormat],e)}function pd(n,e){let t=yn(n);return bn(t[Ze.TimeFormat],e)}function hd(n,e){let r=yn(n)[Ze.DateTimeFormat];return bn(r,e)}function wd(n,e){let t=yn(n),r=t[Ze.NumberSymbols][e];if(typeof r>"u"){if(e===yi.CurrencyDecimal)return t[Ze.NumberSymbols][yi.Decimal];if(e===yi.CurrencyGroup)return t[Ze.NumberSymbols][yi.Group]}return r}function JM(n){if(!n[Ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function EF(n){let e=yn(n);return JM(e),(e[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?nv(r):[nv(r[0]),nv(r[1])])}function MF(n,e,t){let r=yn(n);JM(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],o=bn(i,e)||[];return bn(o,t)||[]}function bn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function nv(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function xF(n,e,t,r){let i=FF(n);e=Nr(t,e)||e;let s=[],a;for(;e;)if(a=SF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=eD(r,c),i=RF(i,r,!0));let l="";return s.forEach(u=>{let d=kF(u);l+=d?d(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function bd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Nr(n,e){let t=yF(n);if(gd[t]??={},gd[t][e])return gd[t][e];let r="";switch(e){case"shortDate":r=fd(n,en.Short);break;case"mediumDate":r=fd(n,en.Medium);break;case"longDate":r=fd(n,en.Long);break;case"fullDate":r=fd(n,en.Full);break;case"shortTime":r=pd(n,en.Short);break;case"mediumTime":r=pd(n,en.Medium);break;case"longTime":r=pd(n,en.Long);break;case"fullTime":r=pd(n,en.Full);break;case"short":let i=Nr(n,"shortTime"),o=Nr(n,"shortDate");r=md(hd(n,en.Short),[i,o]);break;case"medium":let s=Nr(n,"mediumTime"),a=Nr(n,"mediumDate");r=md(hd(n,en.Medium),[s,a]);break;case"long":let c=Nr(n,"longTime"),l=Nr(n,"longDate");r=md(hd(n,en.Long),[c,l]);break;case"full":let u=Nr(n,"fullTime"),d=Nr(n,"fullDate");r=md(hd(n,en.Full),[u,d]);break}return r&&(gd[t][e]=r),r}function md(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Hn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function IF(n,e){return Hn(n,3).substring(0,e)}function rt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=OF(n,o);if((t>0||a>-t)&&(a+=t),n===Me.Hours)a===0&&t===-12&&(a=12);else if(n===Me.FractionalSeconds)return IF(a,e);let c=wd(s,yi.MinusSign);return Hn(a,e,c,r,i)}}function OF(n,e){switch(n){case Me.FullYear:return e.getFullYear();case Me.Month:return e.getMonth();case Me.Date:return e.getDate();case Me.Hours:return e.getHours();case Me.Minutes:return e.getMinutes();case Me.Seconds:return e.getSeconds();case Me.FractionalSeconds:return e.getMilliseconds();case Me.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Fe(n,e,t=jt.Format,r=!1){return function(i,o){return TF(i,o,n,e,t,r)}}function TF(n,e,t,r,i,o){switch(t){case Ee.Months:return bF(e,i,r)[n.getMonth()];case Ee.Days:return CF(e,i,r)[n.getDay()];case Ee.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let l=EF(e),u=MF(e,i,r),d=l.findIndex(v=>{if(Array.isArray(v)){let[g,b]=v,E=s>=g.hours&&a>=g.minutes,R=s<b.hours||s===b.hours&&a<b.minutes;if(g.hours<b.hours){if(E&&R)return!0}else if(E||R)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return _F(e,i,r)[s<12?0:1];case Ee.Eras:return wF(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function vd(n){return function(e,t,r){let i=-1*r,o=wd(t,yi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Fr.Short:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case Fr.ShortGMT:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case Fr.Long:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case Fr.Extended:return r===0?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function AF(n){let e=bd(n,PF,1).getDay();return bd(n,0,1+(e<=_d?_d:_d+7)-e)}function XM(n){let e=n.getDay(),t=e===0?-3:_d-e;return bd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function rv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=XM(t),s=AF(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,n,wd(r,yi.MinusSign))}}function yd(n,e=!1){return function(t,r){let o=XM(t).getFullYear();return Hn(o,n,wd(r,yi.MinusSign),e)}}function kF(n){if(iv[n])return iv[n];let e;switch(n){case"G":case"GG":case"GGG":e=Fe(Ee.Eras,ke.Abbreviated);break;case"GGGG":e=Fe(Ee.Eras,ke.Wide);break;case"GGGGG":e=Fe(Ee.Eras,ke.Narrow);break;case"y":e=rt(Me.FullYear,1,0,!1,!0);break;case"yy":e=rt(Me.FullYear,2,0,!0,!0);break;case"yyy":e=rt(Me.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(Me.FullYear,4,0,!1,!0);break;case"Y":e=yd(1);break;case"YY":e=yd(2,!0);break;case"YYY":e=yd(3);break;case"YYYY":e=yd(4);break;case"M":case"L":e=rt(Me.Month,1,1);break;case"MM":case"LL":e=rt(Me.Month,2,1);break;case"MMM":e=Fe(Ee.Months,ke.Abbreviated);break;case"MMMM":e=Fe(Ee.Months,ke.Wide);break;case"MMMMM":e=Fe(Ee.Months,ke.Narrow);break;case"LLL":e=Fe(Ee.Months,ke.Abbreviated,jt.Standalone);break;case"LLLL":e=Fe(Ee.Months,ke.Wide,jt.Standalone);break;case"LLLLL":e=Fe(Ee.Months,ke.Narrow,jt.Standalone);break;case"w":e=rv(1);break;case"ww":e=rv(2);break;case"W":e=rv(1,!0);break;case"d":e=rt(Me.Date,1);break;case"dd":e=rt(Me.Date,2);break;case"c":case"cc":e=rt(Me.Day,1);break;case"ccc":e=Fe(Ee.Days,ke.Abbreviated,jt.Standalone);break;case"cccc":e=Fe(Ee.Days,ke.Wide,jt.Standalone);break;case"ccccc":e=Fe(Ee.Days,ke.Narrow,jt.Standalone);break;case"cccccc":e=Fe(Ee.Days,ke.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=Fe(Ee.Days,ke.Abbreviated);break;case"EEEE":e=Fe(Ee.Days,ke.Wide);break;case"EEEEE":e=Fe(Ee.Days,ke.Narrow);break;case"EEEEEE":e=Fe(Ee.Days,ke.Short);break;case"a":case"aa":case"aaa":e=Fe(Ee.DayPeriods,ke.Abbreviated);break;case"aaaa":e=Fe(Ee.DayPeriods,ke.Wide);break;case"aaaaa":e=Fe(Ee.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":e=Fe(Ee.DayPeriods,ke.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=Fe(Ee.DayPeriods,ke.Wide,jt.Standalone,!0);break;case"bbbbb":e=Fe(Ee.DayPeriods,ke.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(Ee.DayPeriods,ke.Abbreviated,jt.Format,!0);break;case"BBBB":e=Fe(Ee.DayPeriods,ke.Wide,jt.Format,!0);break;case"BBBBB":e=Fe(Ee.DayPeriods,ke.Narrow,jt.Format,!0);break;case"h":e=rt(Me.Hours,1,-12);break;case"hh":e=rt(Me.Hours,2,-12);break;case"H":e=rt(Me.Hours,1);break;case"HH":e=rt(Me.Hours,2);break;case"m":e=rt(Me.Minutes,1);break;case"mm":e=rt(Me.Minutes,2);break;case"s":e=rt(Me.Seconds,1);break;case"ss":e=rt(Me.Seconds,2);break;case"S":e=rt(Me.FractionalSeconds,1);break;case"SS":e=rt(Me.FractionalSeconds,2);break;case"SSS":e=rt(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=vd(Fr.Short);break;case"ZZZZZ":e=vd(Fr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=vd(Fr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=vd(Fr.Long);break;default:return null}return iv[n]=e,e}function eD(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function NF(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function RF(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=eD(e,i);return NF(n,r*(o-i))}function FF(n){if(zM(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return bd(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(DF))return LF(r)}let e=new Date(n);if(!zM(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function LF(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function zM(n){return n instanceof Date&&!isNaN(n.valueOf())}function Ed(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}function qM(n,e){n.context.$implicit=e.item}function WM(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${At(e)}'.`)}function nD(n,e){return new x(2100,!1)}function Dd(n){return n===yv}function Sd(n){return n===zF}function HF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var GM,Cd,pt,hv,YM,hF,Lr,QM,mv,ZM,bs,jt,ke,en,yi,DF,gd,SF,Fr,Me,Ee,PF,_d,iv,ov,HM,fr,sv,pr,me,av,cv,vv,tD,lv,uv,VF,jF,Gt,UF,BF,$F,Md,rD,yv,zF,iD,dv,fv,Cs,De=h(()=>{"use strict";N();N();GM=null;Cd=class{},pt=new L(""),hv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(hF),providedIn:"platform"})}}return n})(),YM=new L(""),hF=(()=>{class n extends hv{constructor(){super(),this._doc=_(pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dr().getBaseHref(this._doc)}onPopState(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();Lr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(mv),providedIn:"root"})}}return n})(),QM=new L(""),mv=(()=>{class n extends Lr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Rr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(hv),F(QM,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZM=(()=>{class n extends Lr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=gv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Rr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(F(hv),F(QM,8))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),bs=(()=>{class n{constructor(t){this._subject=new X,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=vF(BM($M(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Rr(r))}normalize(t){return n.stripTrailingSlash(mF(this._basePath,$M(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Rr}static{this.joinWithSlash=gv}static{this.stripTrailingSlash=BM}static{this.\u0275fac=function(r){return new(r||n)(F(Lr))}}static{this.\u0275prov=I({token:n,factory:()=>gF(),providedIn:"root"})}}return n})();jt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(jt||{}),ke=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ke||{}),en=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(en||{}),yi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};DF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gd={},SF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Fr||{}),Me=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Me||{}),Ee=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ee||{});PF=0,_d=4;iv={};ov=/\s+/,HM=[],fr=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=HM,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(ov):HM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ov):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ov).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(D(Ct),D(Un))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})(),sv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new sv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),qM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);qM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(kr),D(fi),D(tv))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();me=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new av,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(D(kr),D(fi))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),av=class{constructor(){this.$implicit=null,this.ngIf=null}};cv=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},vv=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return n})(),tD=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new cv(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(r){return new(r||n)(D(kr),D(fi),D(vv,9))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return n})();lv=class{createSubscription(e,t){return Xt(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Xt(()=>e.unsubscribe())}},uv=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},VF=new uv,jF=new lv,Gt=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(mi(t))return VF;if(Xm(t))return jF;throw nD(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(D(zn,16))}}static{this.\u0275pipe=xa({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),UF="mediumDate",BF=new L(""),$F=new L(""),Md=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??UF,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return xF(t,s,o||this.locale,a)}catch(s){throw nD(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(D(dd,16),D(BF,24),D($F,24))}}static{this.\u0275pipe=xa({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),rD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),yv="browser",zF="server";iD=(()=>{class n{static{this.\u0275prov=I({token:n,providedIn:"root",factory:()=>Dd(_(Jt))?new dv(_(pt),window):new fv})}}return n})(),dv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=HF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};fv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Cs=class{}});function qF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}function oD(n){return encodeURIComponent(n).replace(WF,(e,t)=>GF[t]??e)}function xd(n){return`${n}`}function KF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aD(n){return typeof Blob<"u"&&n instanceof Blob}function cD(n){return typeof FormData<"u"&&n instanceof FormData}function YF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}function _v(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}function lD(n){if(n.url)return n.url;let e=JF.toLocaleLowerCase();return n.headers.get(e)}function Ev(){}function eL(n){n.then(Ev,Ev)}function hD(n,e){return e(n)}function tL(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function nL(n,e,t){return(r,i)=>mn(t,()=>e(r,o=>n(o,i)))}function oL(){let n=null;return(e,t)=>{n===null&&(n=(_(rL,{optional:!0})??[]).reduceRight(tL,hD));let r=_(Pr);if(_(gD)){let o=r.add();return n(e,t).pipe(Qt(()=>r.remove(o)))}else return n(e,t)}}function aL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}function pL(n,e){let t=n.url.toLowerCase();if(!_(mD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=_(Td).getToken(),i=_(dL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function hL(n,e){return{\u0275kind:n,\u0275providers:e}}function gL(...n){let e=[po,dD,uD,{provide:Na,useExisting:uD},{provide:Id,useFactory:()=>_(XF,{optional:!0})??_(dD)},{provide:Mv,useValue:pL,multi:!0},{provide:mD,useValue:!0},{provide:Td,useClass:fL}];for(let t of n)e.push(...t.\u0275providers);return ps(e)}function mL(){return hL(vD.LegacyInterceptors,[{provide:fD,useFactory:oL},{provide:Mv,useExisting:fD,multi:!0}])}var Na,Id,Vr,Cv,WF,GF,Ci,bv,ka,bi,Ra,Od,Fa,_i,pD,QF,po,ZF,JF,XF,wv,rL,Mv,iL,gD,uD,sL,dD,mD,cL,lL,uL,dL,Td,fL,vD,fD,yD,La=h(()=>{"use strict";N();N();we();ii();De();De();Na=class{},Id=class{},Vr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}},Cv=class{encodeKey(e){return oD(e)}encodeValue(e){return oD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};WF=/%(\d[a-f0-9])/gi,GF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};Ci=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(xd):[xd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(xd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(xd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},bv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};ka=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Vr,this.context??=new bv,!this.params)this.params=new Ci,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sD(this.body)||aD(this.body)||cD(this.body)||YF(this.body)?this.body:this.body instanceof Ci?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cD(this.body)?null:aD(this.body)?this.body.type||null:sD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ci?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((v,g)=>v.set(g,e.setHeaders[g]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((v,g)=>v.set(g,e.setParams[g]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},bi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(bi||{}),Ra=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Vr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Od=class n extends Ra{constructor(e={}){super(e),this.type=bi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fa=class n extends Ra{constructor(e={}){super(e),this.type=bi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_i=class extends Ra{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},pD=200,QF=204;po=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ka)o=t;else{let c;i.headers instanceof Vr?c=i.headers:c=new Vr(i.headers);let l;i.params&&(i.params instanceof Ci?l=i.params:l=new Ci({fromObject:i.params})),o=new ka(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=V(o).pipe(un(c=>this.handler.handle(c)));if(t instanceof ka||i.observe==="events")return s;let a=s.pipe(Ne(c=>c instanceof Fa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(j(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ci().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_v(i,r))}post(t,r,i={}){return this.request("POST",t,_v(i,r))}put(t,r,i={}){return this.request("PUT",t,_v(i,r))}static{this.\u0275fac=function(r){return new(r||n)(F(Na))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ZF=/^\)\]\}',?\n/,JF="X-Request-URL";XF=(()=>{class n{constructor(){this.fetchImpl=_(wv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=_(_e)}handle(t){return new ee(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Ev,o=>r.error(new _i({error:o}))),()=>i.abort()})}doRequest(t,r,i){return P(this,null,function*(){let o=this.createRequestInit(t),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,M({signal:r},o)));eL(g),i.next({type:bi.Sent}),s=yield g}catch(g){i.error(new _i({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let a=new Vr(s.headers),c=s.statusText,l=lD(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new Od({headers:a,status:u,statusText:c,url:l})),s.body){let g=s.headers.get("content-length"),b=[],E=s.body.getReader(),R=0,$,se,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>P(this,null,function*(){for(;;){let{done:We,value:Se}=yield E.read();if(We)break;if(b.push(Se),R+=Se.length,t.reportProgress){se=t.responseType==="text"?(se??"")+($??=new TextDecoder).decode(Se,{stream:!0}):void 0;let Ve=()=>i.next({type:bi.DownloadProgress,total:g?+g:void 0,loaded:R,partialText:se});Y?Y.run(Ve):Ve()}}}));let pe=this.concatChunks(b,R);try{let We=s.headers.get("Content-Type")??"";d=this.parseBody(t,pe,We)}catch(We){i.error(new _i({error:We,headers:new Vr(s.headers),status:s.status,statusText:s.statusText,url:lD(s)??t.urlWithParams}));return}}u===0&&(u=d?pD:0),u>=200&&u<300?(i.next(new Fa({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new _i({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(ZF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),wv=class{};rL=new L(""),Mv=new L(""),iL=new L(""),gD=new L("",{providedIn:"root",factory:()=>!0});uD=(()=>{class n extends Na{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=_(Pr),this.contributeToStability=_(gD)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Mv),...this.injector.get(iL,[])]));this.chain=r.reduceRight((i,o)=>nL(i,o,this.injector),hD)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(F(Id),F(kt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),sL=/^\)\]\}',?\n/;dD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?G(r.\u0275loadImpl()):V(null)).pipe(Re(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((E,R)=>s.setRequestHeader(E,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let E=t.detectContentTypeHeader();E!==null&&s.setRequestHeader("Content-Type",E)}if(t.responseType){let E=t.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let E=s.statusText||"OK",R=new Vr(s.getAllResponseHeaders()),$=aL(s)||t.url;return c=new Od({headers:R,status:s.status,statusText:E,url:$}),c},u=()=>{let{headers:E,status:R,statusText:$,url:se}=l(),Y=null;R!==QF&&(Y=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=Y?pD:0);let pe=R>=200&&R<300;if(t.responseType==="json"&&typeof Y=="string"){let We=Y;Y=Y.replace(sL,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Se){Y=We,pe&&(pe=!1,Y={error:Se,text:Y})}}pe?(o.next(new Fa({body:Y,headers:E,status:R,statusText:$,url:se||void 0})),o.complete()):o.error(new _i({error:Y,headers:E,status:R,statusText:$,url:se||void 0}))},d=E=>{let{url:R}=l(),$=new _i({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error($)},v=!1,g=E=>{v||(o.next(l()),v=!0);let R={type:bi.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(R.total=E.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},b=E=>{let R={type:bi.UploadProgress,loaded:E.loaded};E.lengthComputable&&(R.total=E.total),o.next(R)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:bi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(F(Cs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),mD=new L(""),cL="XSRF-TOKEN",lL=new L("",{providedIn:"root",factory:()=>cL}),uL="X-XSRF-TOKEN",dL=new L("",{providedIn:"root",factory:()=>uL}),Td=class{},fL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ed(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(F(pt),F(Jt),F(lL))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();vD=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(vD||{});fD=new L("");yD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[gL(mL())]})}}return n})()});function vL(){return Va=Va||document.querySelector("base"),Va?Va.getAttribute("href"):null}function yL(n){return new URL(n,document.baseURI).pathname}function ML(n){return bL.replace(kv,n)}function DL(n){return CL.replace(kv,n)}function MD(n,e){return e.map(t=>t.replace(kv,n))}function _D(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}function TL(){Ov.makeCurrent()}function PL(){return new Dr}function AL(){return yE(document),document}var Iv,Ov,Va,Tv,_L,Pv,bD,Pd,Sv,wD,xv,kv,ED,CL,bL,wL,EL,Ad,ja,Av,Ua,kd,SL,CD,xL,IL,OL,kL,DD,NL,RL,FL,Nd,SD,Ba=h(()=>{"use strict";De();N();N();Iv=class extends Cd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ov=class n extends Iv{static makeCurrent(){KM(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=vL();return t==null?null:yL(t)}resetBaseElement(){Va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ed(document.cookie,e)}},Va=null;Tv=class{addToWindow(e){yt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new x(5103,!1);return o},yt.getAllAngularTestabilities=()=>e.getAllTestabilities(),yt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=yt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};yt.frameworkStabilizers||(yt.frameworkStabilizers=[]),yt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?dr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},_L=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Pv=new L(""),bD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(F(Pv),F(_e))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Pd=class{constructor(e){this._doc=e}},Sv="ng-app-id",wD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Sv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Sv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Sv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(F(pt),F(Qu),F(Pm,8),F(Jt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),xv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kv=/%COMP%/g,ED="%COMP%",CL=`_nghost-${ED}`,bL=`_ngcontent-${ED}`,wL=!0,EL=new L("",{providedIn:"root",factory:()=>wL});Ad=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Sd(a),this.defaultRenderer=new ja(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sr.ShadowDom&&(r=B(M({},r),{encapsulation:sr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof kd?i.applyToHost(t):i instanceof Ua&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case sr.Emulated:o=new kd(c,l,r,this.appId,u,s,a,d);break;case sr.ShadowDom:return new Av(c,l,t,r,s,a,this.nonce,d);default:o=new Ua(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(F(bD),F(wD),F(Qu),F(EL),F(pt),F(Jt),F(_e),F(Pm))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),ja=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(xv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_D(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_D(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=xv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=xv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sr.DashCase|Sr.Important)?e.style.setProperty(t,r,i&Sr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=dr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};Av=class extends ja{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=MD(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ua=class extends ja{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?MD(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kd=class extends Ua{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=ML(l),this.hostAttr=DL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},SL=(()=>{class n extends Pd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(F(pt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),CD=["alt","control","meta","shift"],xL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},OL=(()=>{class n extends Pd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),CD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=xL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),CD.forEach(s=>{if(s!==i){let a=IL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(F(pt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();kL=[{provide:Jt,useValue:yv},{provide:Om,useValue:TL,multi:!0},{provide:pt,useFactory:AL,deps:[]}],DD=ev(VM,"browser",kL),NL=new L(""),RL=[{provide:Aa,useClass:Tv,deps:[]},{provide:Zm,useClass:ad,deps:[_e,cd,Aa]},{provide:ad,useClass:ad,deps:[_e,cd,Aa]}],FL=[{provide:ju,useValue:"root"},{provide:Dr,useFactory:PL,deps:[]},{provide:Pv,useClass:SL,multi:!0,deps:[pt,_e,Jt]},{provide:Pv,useClass:OL,multi:!0,deps:[pt]},Ad,wD,bD,{provide:pi,useExisting:Ad},{provide:Cs,useClass:_L,deps:[]},[]],Nd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Qu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(F(NL,12))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[...FL,...RL],imports:[rD,jM]})}}return n})(),SD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(F(pt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()});function xs(n){return new Vv(n)}function LL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function VL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hr(n[t],e[t]))return!1;return!0}function hr(n,e){let t=n?jv(n):void 0,r=e?jv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!VD(n[i],e[i]))return!1;return!0}function jv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function VD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function jD(n){return n.length>0?n[n.length-1]:null}function Mi(n){return Oh(n)?n:mi(n)?G(Promise.resolve(n)):V(n)}function ID(n,e,t){return jL[t.paths](n.root,e.root,t.matrixParams)&&UD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function UL(n,e){return hr(n,e)}function BD(n,e,t){if(!go(n.segments,e.segments)||!Ld(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!BD(n.children[r],e.children[r],t))return!1;return!0}function BL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>VD(n[t],e[t]))}function $D(n,e,t){return zD(n,e,e.segments,t)}function zD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!go(i,t)||e.hasChildren()||!Ld(i,t,r))}else if(n.segments.length===t.length){if(!go(n.segments,t)||!Ld(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!$D(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!go(n.segments,i)||!Ld(n.segments,i,r)||!n.children[oe]?!1:zD(n.children[oe],e,o,r)}}function Ld(n,e,t){return e.every((r,i)=>UD[t](n[i].parameters,r.parameters))}function $L(n,e){return go(n,e)&&n.every((t,r)=>hr(t.parameters,e[r].parameters))}function go(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function zL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}function Vd(n){return n.segments.map(e=>qD(e)).join("/")}function $a(n,e){if(!n.hasChildren())return Vd(n);if(e){let t=n.children[oe]?$a(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${$a(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=zL(n,(r,i)=>i===oe?[$a(n.children[oe],!1)]:[`${i}:${$a(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Vd(n)}/${t[0]}`:`${Vd(n)}/(${t.join("//")})`}}function HD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(n){return HD(n).replace(/%3B/gi,";")}function qL(n){return encodeURI(n)}function Uv(n){return HD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jd(n){return decodeURIComponent(n)}function OD(n){return jd(n.replace(/\+/g,"%20"))}function qD(n){return`${Uv(n.path)}${WL(n.parameters)}`}function WL(n){return Object.entries(n).map(([e,t])=>`;${Uv(e)}=${Uv(t)}`).join("")}function GL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Rd(t)}=${Rd(i)}`).join("&"):`${Rd(t)}=${Rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}function Nv(n){let e=n.match(KL);return e?e[0]:""}function QL(n){let e=n.match(YL);return e?e[0]:""}function JL(n){let e=n.match(ZL);return e?e[0]:""}function e2(n){let e=n.match(XL);return e?e[0]:""}function WD(n){return n.segments.length>0?new Oe([],{[oe]:n}):n}function GD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=GD(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Oe(n.segments,e);return t2(t)}function t2(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Oe(n.segments.concat(e.segments),e.children)}return n}function mo(n){return n instanceof Ur}function n2(n,e,t=null,r=null){let i=KD(n);return YD(i,e,t,r)}function KD(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Oe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=WD(r);return e??i}function YD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Rv(i,i,i,t,r);let o=r2(e);if(o.toRoot())return Rv(i,i,new Oe([],{}),t,r);let s=i2(o,i,n),a=s.processChildren?qa(s.segmentGroup,s.index,o.commands):ZD(s.segmentGroup,s.index,o.commands);return Rv(i,s.segmentGroup,a,t,r)}function Ud(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ka(n){return typeof n=="object"&&n!=null&&n.outlets}function Rv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=QD(n,e,t);let a=WD(GD(s));return new Ur(a,o,i)}function QD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=QD(o,e,t)}),new Oe(n.segments,r)}function r2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bd(t,e,r)}function i2(n,e,t){if(n.isAbsolute)return new Ms(e,!0,0);if(!t)return new Ms(e,!1,NaN);if(t.parent===null)return new Ms(t,!0,0);let r=Ud(n.commands[0])?0:1,i=t.segments.length-1+r;return o2(t,i,n.numberOfDoubleDots)}function o2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Ms(r,!1,i-o)}function s2(n){return Ka(n[0])?n[0].outlets:{[oe]:n}}function ZD(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return qa(n,e,t);let r=a2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Oe(n.segments.slice(r.pathIndex),n.children),qa(o,0,i)}else return r.match&&i.length===0?new Oe(n.segments,{}):r.match&&!n.hasChildren()?$v(n,e,t):r.match?qa(n,0,i):$v(n,e,t)}function qa(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let r=s2(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=qa(n.children[oe],e,t);return new Oe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ZD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(n.segments,i)}}function a2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ka(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!PD(c,l,s))return o;r+=2}else{if(!PD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $v(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ka(o)){let c=c2(o.outlets);return new Oe(r,c)}if(i===0&&Ud(t[0])){let c=n.segments[e];r.push(new ho(c.path,TD(t[0]))),i++;continue}let s=Ka(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ud(a)?(r.push(new ho(s,TD(a))),i+=2):(r.push(new ho(s,{})),i++)}return new Oe(r,{})}function c2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=$v(new Oe([],{}),0,r))}),e}function TD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function PD(n,e,t){return n==t.path&&hr(e,t.parameters)}function l2(n,e){return n.providers&&!n._injector&&(n._injector=id(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qn(n){return n.outlet||oe}function u2(n,e){let t=n.filter(r=>qn(r)===e);return t.push(...n.filter(r=>qn(r)!==e)),t}function rc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}function ey(n,e){if(n===e.value)return e;for(let t of e.children){let r=ey(n,t);if(r)return r}return null}function ty(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ty(n,t);if(r.length)return r.unshift(e),r}return[]}function Es(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}function JD(n){let e=d2(n),t=new fe([new ho("",{})]),r=new fe({}),i=new fe({}),o=new fe({}),s=new fe(""),a=new Ut(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new Wd(new tn(a,[]),e)}function d2(n){let e={},t={},r={},i="",o=new Ds([],e,r,i,t,oe,n,null,{});return new Kd("",new tn(o,[]))}function Gd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&eS(i)&&(r.resolve[tc]=i.title),r}function uy(n,e){e.value._routerState=n,e.children.forEach(t=>uy(n,t))}function XD(n){let e=n.children.length>0?` { ${n.children.map(XD).join(", ")} } `:"";return`${n.value}${e}`}function Fv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hr(e.params,t.params)||n.paramsSubject.next(t.params),VL(e.url,t.url)||n.urlSubject.next(t.url),hr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ny(n,e){let t=hr(n.params,e.params)&&$L(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ny(n.parent,e.parent))}function eS(n){return typeof n.title=="string"||n.title===null}function f2(n,e,t){let r=Za(n,e._root,t?t._root:void 0);return new Wd(r,e)}function Za(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=p2(n,e,t);return new tn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Za(n,a)),s}}let r=h2(e.value),i=e.children.map(o=>Za(n,o));return new tn(r,i)}}function p2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Za(n,r,i);return Za(n,r)})}function h2(n){return new Ut(new fe(n.url),new fe(n.params),new fe(n.queryParams),new fe(n.fragment),new fe(n.data),n.outlet,n.component,n)}function Yd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nS(!1,nn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function nS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[tS]=!0,t.cancellationCode=e,t}function g2(n){return rS(n)&&mo(n.url)}function rS(n){return!!n&&n[tS]}function v2(n,e,t){let r=n._root,i=e?e._root:null;return za(r,i,t,[r.value])}function y2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ps(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!iw(n)?n:e.get(n):r}function za(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Es(e);return n.children.forEach(s=>{_2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ga(a,t.getContext(s),i)),i}function _2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=C2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?za(n,e,a?a.children:null,r,i):za(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ss(a.outlet.component,s))}else s&&Ga(e,a,i),i.canActivateChecks.push(new Qd(r)),o.component?za(n,null,a?a.children:null,r,i):za(n,null,t,r,i);return i}function C2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!go(n.url,e.url);case"pathParamsOrQueryParamsChange":return!go(n.url,e.url)||!hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ny(n,e)||!hr(n.queryParams,e.queryParams);case"paramsChange":default:return!ny(n,e)}}function Ga(n,e,t){let r=Es(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ga(s,e.children.getContext(o),t):Ga(s,null,t):Ga(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ss(e.outlet.component,i)):t.canDeactivateChecks.push(new Ss(null,i)):t.canDeactivateChecks.push(new Ss(null,i))}function oc(n){return typeof n=="function"}function b2(n){return typeof n=="boolean"}function w2(n){return n&&oc(n.canLoad)}function E2(n){return n&&oc(n.canActivate)}function M2(n){return n&&oc(n.canActivateChild)}function D2(n){return n&&oc(n.canDeactivate)}function S2(n){return n&&oc(n.canMatch)}function iS(n){return n instanceof kn||n?.name==="EmptyError"}function Ts(){return Re(n=>fa(n.map(e=>e.pipe(be(1),Yh(Fd)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Fd)return Fd;if(t===!1||x2(t))return t}return!0}),Ne(e=>e!==Fd),be(1)))}function x2(n){return mo(n)||n instanceof Ja}function I2(n,e){return Be(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?V(B(M({},t),{guardsResult:!0})):O2(s,r,i,n).pipe(Be(a=>a&&b2(a)?T2(r,o,n,e):V(a)),j(a=>B(M({},t),{guardsResult:a})))})}function O2(n,e,t,r){return G(n).pipe(Be(i=>R2(i.component,i.route,t,e,r)),rr(i=>i!==!0,!0))}function T2(n,e,t,r){return G(e).pipe(un(i=>nr(A2(i.route.parent,r),P2(i.route,r),N2(n,i.path,t),k2(n,i.route,t))),rr(i=>i!==!0,!0))}function P2(n,e){return n!==null&&e&&e(new Zv(n)),V(!0)}function A2(n,e){return n!==null&&e&&e(new Yv(n)),V(!0)}function k2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(o=>Gi(()=>{let s=rc(e)??t,a=Ps(o,s),c=E2(a)?a.canActivate(e,n):mn(s,()=>a(e,n));return Mi(c).pipe(rr())}));return V(i).pipe(Ts())}function N2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>y2(s)).filter(s=>s!==null).map(s=>Gi(()=>{let a=s.guards.map(c=>{let l=rc(s.node)??t,u=Ps(c,l),d=M2(u)?u.canActivateChild(r,n):mn(l,()=>u(r,n));return Mi(d).pipe(rr())});return V(a).pipe(Ts())}));return V(o).pipe(Ts())}function R2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return V(!0);let s=o.map(a=>{let c=rc(e)??i,l=Ps(a,c),u=D2(l)?l.canDeactivate(n,e,t,r):mn(c,()=>l(n,e,t,r));return Mi(u).pipe(rr())});return V(s).pipe(Ts())}function F2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let o=i.map(s=>{let a=Ps(s,n),c=w2(a)?a.canLoad(e,t):mn(n,()=>a(e,t));return Mi(c)});return V(o).pipe(Ts(),oS(r))}function oS(n){return lh(ne(e=>{if(typeof e!="boolean")throw Yd(n,e)}),j(e=>e===!0))}function L2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let o=i.map(s=>{let a=Ps(s,n),c=S2(a)?a.canMatch(e,t):mn(n,()=>a(e,t));return Mi(c)});return V(o).pipe(Ts(),oS(r))}function ws(n){return Xe(new Xa(n))}function V2(n){return Xe(new x(4e3,!1))}function j2(n){return Xe(nS(!1,nn.GuardRejected))}function U2(n,e,t,r,i){let o=sS(n,e,t);return o.matched?(r=l2(e,r),L2(r,e,t,i).pipe(j(s=>s===!0?o:M({},sy)))):V(o)}function sS(n,e,t){if(e.path==="**")return B2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},sy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||LL)(t,n,e);if(!i)return M({},sy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function B2(n){return{matched:!0,parameters:n.length>0?jD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function kD(n,e,t,r){return t.length>0&&H2(n,t,r)?{segmentGroup:new Oe(e,z2(r,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&q2(n,t,r)?{segmentGroup:new Oe(n.segments,$2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function $2(n,e,t,r){let i={};for(let o of t)if(ef(n,e,o)&&!r[qn(o)]){let s=new Oe([],{});i[qn(o)]=s}return M(M({},r),i)}function z2(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&qn(r)!==oe){let i=new Oe([],{});t[qn(r)]=i}return t}function H2(n,e,t){return t.some(r=>ef(n,e,r)&&qn(r)!==oe)}function q2(n,e,t){return t.some(r=>ef(n,e,r))}function ef(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function W2(n,e,t){return e.length===0&&!n.children[t]}function G2(n,e,t,r,i,o,s="emptyOnly"){return new cy(n,e,t,r,i,s,o).recognize()}function Y2(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function Q2(n){let e=n.value.routeConfig;return e&&e.path===""}function aS(n){let e=[],t=new Set;for(let r of n){if(!Q2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=aS(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!t.has(r))}function ND(n){return n.data||{}}function RD(n){return n.resolve||{}}function Z2(n,e,t,r,i,o){return Be(s=>G2(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>B(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function J2(n,e){return Be(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of cS(c))s.add(l);let a=0;return G(s).pipe(un(c=>o.has(c)?X2(c,r,n,e):(c.data=Gd(c,c.parent,n).resolve,V(void 0))),ne(()=>a++),Qo(1),Be(c=>a===s.size?V(t):Tt))})}function cS(n){let e=n.children.map(t=>cS(t)).flat();return[n,...e]}function X2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!eS(i)&&(o[tc]=i.title),eV(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=Gd(n,n.parent,t).resolve,null)))}function eV(n,e,t,r){let i=jv(n);if(i.length===0)return V({});let o={};return G(i).pipe(Be(s=>tV(n[s],e,t,r).pipe(rr(),ne(a=>{if(a instanceof Ja)throw Yd(new Is,a);o[s]=a}))),Qo(1),ha(o),ue(s=>iS(s)?Tt:Xe(s)))}function tV(n,e,t,r){let i=rc(e)??r,o=Ps(n,i),s=o.resolve?o.resolve(e,t):mn(i,()=>o(e,t));return Mi(s)}function Lv(n){return Re(e=>{let t=n(e);return t?G(t).pipe(j(()=>e)):V(e)})}function dy(n){let e=n.children&&n.children.map(dy),t=e?B(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=rV),t}function iV(n,e,t,r){return Mi(n.loadChildren()).pipe(j(uS),Be(i=>i instanceof wa||Array.isArray(i)?V(i):G(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Zd,[],{optional:!0,self:!0}).flat()),{routes:s.map(dy),injector:o}}))}function oV(n){return n&&typeof n=="object"&&"default"in n}function uS(n){return oV(n)?n.default:n}function aV(n,e,t){let r=n.get(fS),i=n.get(pt);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),cV(n))),{onViewTransitionCreated:c}=r;return c&&mn(n,()=>c({transition:a,from:e,to:t})),s})}function cV(n){return new Promise(e=>{Qm({read:()=>setTimeout(e)},{injector:n})})}function uV(n){return n!==Wa}function hS(n,e){n.events.pipe(Ne(t=>t instanceof rn||t instanceof jr||t instanceof Ya||t instanceof Ei),j(t=>t instanceof rn||t instanceof Ei?Ha.COMPLETE:(t instanceof jr?t.code===nn.Redirect||t.code===nn.SupersededByNewNavigation:!1)?Ha.REDIRECTING:Ha.FAILED),Ne(t=>t!==Ha.REDIRECTING),be(1)).subscribe(()=>{e()})}function hV(n){throw n}function vV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new x(4008,!1)}function yV(n){return!(n instanceof Qa)&&!(n instanceof Os)}function _V(n){return!!n.paths}function wV(n){return n.routerState.root}function ac(n,e){return{\u0275kind:n,\u0275providers:e}}function EV(){let n=_(et);return e=>{let t=n.get(Cn);if(e!==t.components[0])return;let r=n.get(Te),i=n.get(vS);n.get(gy)===1&&r.initialNavigation(),n.get(yS,null,ce.Optional)?.setUpPreloading(),n.get(mS,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}function MV(){return ac(2,[{provide:gy,useValue:0},{provide:_s,multi:!0,deps:[et],useFactory:e=>{let t=e.get(YM,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Te),o=e.get(vS);hS(i,()=>{r(!0)}),e.get(hy).afterPreactivation=()=>(r(!0),o.closed?V(void 0):o),i.initialNavigation()}))}}])}function DV(){return ac(3,[{provide:_s,multi:!0,useFactory:()=>{let e=_(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:gy,useValue:2}])}function SV(n){return ac(0,[{provide:yS,useExisting:CV},{provide:Jd,useExisting:n}])}function xV(){return ac(8,[AD,{provide:Xd,useExisting:AD}])}function IV(n){let e=[{provide:dS,useValue:aV},{provide:fS,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return ac(9,e)}function TV(){return{provide:mS,useFactory:()=>{let n=_(iD),e=_(_e),t=_(sc),r=_(hy),i=_(nc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new bV(i,r,n,e,t)}}}function PV(){return{provide:Lr,useClass:ZM}}function AV(){return{provide:Lr,useClass:mv}}function kV(n){return"guarded"}function NV(n){return[n.initialNavigation==="disabled"?DV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?MV().\u0275providers:[]]}function RV(){return[{provide:LD,useFactory:EV},{provide:ld,multi:!0,useExisting:LD}]}var oe,tc,Vv,jL,UD,Ur,Oe,ho,nc,Is,HL,KL,YL,ZL,XL,Bv,Bd,Ms,Wa,ht,wn,wi,rn,nn,$d,jr,Ei,Ya,zd,zv,Hv,qv,Wv,Gv,Kv,Yv,Qv,Zv,Jv,Hd,Qa,Os,Xv,ic,qd,tn,Wd,Ut,Ds,Kd,Wn,ry,Xd,AD,Ja,tS,m2,iy,Qd,Ss,Fd,Xa,ec,oy,sy,ay,K2,cy,lS,nV,sc,rV,Zd,fy,py,sV,dS,fS,lV,hy,dV,ly,fV,pS,pV,Ha,gV,mV,Te,En,gS,Jd,CV,mS,bV,vS,gy,yS,FD,OV,my,LD,ct=h(()=>{"use strict";N();N();we();De();De();ii();Ba();oe="primary",tc=Symbol("RouteTitle"),Vv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};jL={exact:BD,subset:$D},UD={exact:UL,subset:BL,ignored:()=>!0};Ur=class{constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xs(this.queryParams),this._queryParamMap}toString(){return HL.serialize(this)}},Oe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vd(this)}},ho=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=xs(this.parameters),this._parameterMap}toString(){return qD(this)}};nc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>new Is,providedIn:"root"})}}return n})(),Is=class{parse(e){let t=new Bv(e);return new Ur(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${$a(e.root,!0)}`,r=GL(e.queryParams),i=typeof e.fragment=="string"?`#${qL(e.fragment)}`:"";return`${t}${r}${i}`}},HL=new Is;KL=/^[^\/()?;#]+/;YL=/^[^\/()?;=#]+/;ZL=/^[^=?&#]+/;XL=/^[^&#]+/;Bv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new Oe(e,t)),r}parseSegment(){let e=Nv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new ho(jd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=QL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Nv(this.remaining);i&&(r=i,this.capture(r))}e[jd(t)]=jd(r)}parseQueryParam(e){let t=JL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=e2(this.remaining);s&&(r=s,this.capture(r))}let i=OD(t),o=OD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Nv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};Bd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ud(r[0]))throw new x(4003,!1);let i=r.find(Ka);if(i&&i!==jD(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};Ms=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};Wa="imperative",ht=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ht||{}),wn=class{constructor(e,t){this.id=e,this.url=t}},wi=class extends wn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends wn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(nn||{}),$d=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}($d||{}),jr=class extends wn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ei=class extends wn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ht.NavigationSkipped}},Ya=class extends wn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zd=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zv=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hv=class extends wn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qv=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wv=class extends wn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kv=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yv=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qv=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jv=class{constructor(e){this.snapshot=e,this.type=ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ht.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Qa=class{},Os=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};Xv=class{get injector(){return rc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ic(this.rootInjector),this.attachRef=null}},ic=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Xv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(F(kt))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ey(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ey(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ty(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ty(e,this._root).map(t=>t.value)}};tn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};Wd=class extends qd{constructor(e,t){super(e),this.snapshot=t,uy(this,e)}toString(){return this.snapshot.toString()}};Ut=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[tc]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>xs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>xs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};Ds=class{get title(){return this.data?.[tc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Kd=class extends qd{constructor(e,t){super(t),this.url=e,uy(this,t)}toString(){return XD(this._root)}};Wn=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new X,this.deactivateEvents=new X,this.attachEvents=new X,this.detachEvents=new X,this.parentContexts=_(ic),this.location=_(kr),this.changeDetector=_(zn),this.inputBinder=_(Xd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ry(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]})}}return n})(),ry=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ut?this.route:e===ic?this.childContexts:this.parent.get(e,t)}},Xd=new L(""),AD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=fa([r.queryParams,r.params,r.data]).pipe(Re(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?V(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=UM(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();Ja=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},tS="ngNavigationCancelingError";m2=(n,e,t,r)=>j(i=>(new iy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),iy=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Fv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Es(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Es(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Fv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Qd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ss=class{constructor(e,t){this.component=e,this.route=t}};Fd=Symbol("INITIAL_VALUE");Xa=class{constructor(e){this.segmentGroup=e||null}},ec=class extends Error{constructor(e){super(),this.urlTree=e}};oy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[oe])return V2(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:v,params:g,data:b,title:E}=i,R=mn(o,()=>a({params:g,data:b,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:v,title:E}));if(R instanceof Ur)throw new ec(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ec(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ur(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Oe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},sy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};ay=class{};K2=31,cy=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new oy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=kD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new tn(r,t),o=new Kd("",i),s=n2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ds([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(j(r=>({children:r,rootSnapshot:t})),ue(r=>{if(r instanceof ec)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Xa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof tn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return G(o).pipe(un(s=>{let a=r.children[s],c=u2(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Gh((s,a)=>(s.push(...a),s)),ri(null),Hh(),Be(s=>{if(s===null)return ws(r);let a=aS(s);return Y2(a),V(a)}))}processSegment(e,t,r,i,o,s,a){return G(t).pipe(un(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(ue(l=>{if(l instanceof Xa)return V(null);throw l}))),rr(c=>!!c),ue(c=>{if(iS(c))return W2(r,i,o)?V(new ay):ws(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return qn(r)!==s&&(s===oe||!ef(i,o,r))?ws(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ws(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:v}=sS(t,i,o);if(!c)return ws(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>K2&&(this.allowRedirects=!1));let g=new Ds(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,ND(i),qn(i),i.component??i._loadedComponent??null,i,RD(i)),b=Gd(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let E=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(Be(R=>this.processSegment(e,r,t,R.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=U2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Re(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Re(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:v,remainingSegments:g}=c,b=new Ds(v,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,ND(r),qn(r),r.component??r._loadedComponent??null,r,RD(r)),E=Gd(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(E.params),b.data=Object.freeze(E.data);let{segmentGroup:R,slicedSegments:$}=kD(t,v,g,l);if($.length===0&&R.hasChildren())return this.processChildren(u,l,R,b).pipe(j(Y=>new tn(b,Y)));if(l.length===0&&$.length===0)return V(new tn(b,[]));let se=qn(r)===o;return this.processSegment(u,l,R,$,se?oe:o,!0,b).pipe(j(Y=>new tn(b,Y instanceof tn?[Y]:[])))}))):ws(t)))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?V({routes:t._loadedRoutes,injector:t._loadedInjector}):F2(e,t,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):j2(t))):V({routes:[],injector:e})}};lS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[tc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(nV),providedIn:"root"})}}return n})(),nV=(()=>{class n extends lS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(F(SD))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sc=new L("",{providedIn:"root",factory:()=>({})}),rV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],standalone:!0,features:[xM],decls:1,vars:0,template:function(r,i){r&1&&A(0,"router-outlet")},dependencies:[Wn],encapsulation:2})}}return n})();Zd=new L(""),fy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(ud)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Mi(t.loadComponent()).pipe(j(uS),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qt(()=>{this.componentLoaders.delete(t)})),i=new ni(r,()=>new ge).pipe(jo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=iV(r,this.compiler,t,this.onLoadEndListener).pipe(Qt(()=>{this.childrenLoaders.delete(r)})),s=new ni(o,()=>new ge).pipe(jo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();py=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(sV),providedIn:"root"})}}return n})(),sV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dS=new L(""),fS=new L("");lV=new L(""),hy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=_(fy),this.environmentInjector=_(kt),this.urlSerializer=_(nc),this.rootContexts=_(ic),this.location=_(bs),this.inputBindingEnabled=_(Xd,{optional:!0})!==null,this.titleStrategy=_(lS),this.options=_(sc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(py),this.createViewTransition=_(dS,{optional:!0}),this.navigationErrorHandler=_(lV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Gv(i)),r=i=>this.events.next(new Kv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(B(M(M({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new fe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ne(o=>o.id!==0),j(o=>B(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Re(o=>{let s=!1,a=!1;return V(o).pipe(Re(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?B(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Ei(c.id,this.urlSerializer.serialize(c.rawUrl),d,$d.IgnoredSameUrlNavigation)),c.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Re(d=>{let v=this.transitions?.getValue();return this.events.next(new wi(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),v!==this.transitions?.getValue()?Tt:Promise.resolve(d)}),Z2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=B(M({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let v=new zd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:v,source:g,restoredState:b,extras:E}=c,R=new wi(d,this.urlSerializer.serialize(v),g,b);this.events.next(R);let $=JD(this.rootComponentType).snapshot;return this.currentTransition=o=B(M({},c),{targetSnapshot:$,urlAfterRedirects:v,extras:B(M({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,V(o)}else{let d="";return this.events.next(new Ei(c.id,this.urlSerializer.serialize(c.extractedUrl),d,$d.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Tt}}),ne(c=>{let l=new zv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),j(c=>(this.currentTransition=o=B(M({},c),{guards:v2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),I2(this.environmentInjector,c=>this.events.next(c)),ne(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Yd(this.urlSerializer,c.guardsResult);let l=new Hv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ne(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",nn.GuardRejected),!1)),Lv(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(ne(l=>{let u=new qv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Re(l=>{let u=!1;return V(l).pipe(J2(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",nn.NoDataFromResolver)}}))}),ne(l=>{let u=new Wv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Lv(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ne(v=>{u.component=v}),j(()=>{})));for(let v of u.children)d.push(...l(v));return d};return fa(l(c.targetSnapshot.root)).pipe(ri(null),be(1))}),Lv(()=>this.afterPreactivation()),Re(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?G(u).pipe(j(()=>o)):V(o)}),j(c=>{let l=f2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=B(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ne(()=>{this.events.next(new Qa)}),m2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),be(1),ne({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),fn(this.transitionAbortSubject.pipe(ne(c=>{throw c}))),Qt(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ue(c=>{if(a=!0,rS(c))this.events.next(new jr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),g2(c)?this.events.next(new Os(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ya(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=mn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ja){let{message:d,cancellationCode:v}=Yd(this.urlSerializer,u);this.events.next(new jr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,v)),this.events.next(new Os(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new jr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();dV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(fV),providedIn:"root"})}}return n})(),ly=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},fV=(()=>{class n extends ly{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:()=>_(pV),providedIn:"root"})}}return n})(),pV=(()=>{class n extends pS{constructor(){super(...arguments),this.location=_(bs),this.urlSerializer=_(nc),this.options=_(sc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(py),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ur,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof wi)this.stateMemento=this.createStateMemento();else if(t instanceof Ei)this.rawUrlTree=r.initialUrl;else if(t instanceof zd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Qa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof jr&&(t.code===nn.GuardRejected||t.code===nn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ya?this.restoreHistory(r,!0):t instanceof rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ur?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=M(M({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ha=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ha||{});gV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Te=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(sd),this.stateManager=_(pS),this.options=_(sc,{optional:!0})||{},this.pendingTasks=_(Pr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(hy),this.urlSerializer=_(nc),this.location=_(bs),this.urlHandlingStrategy=_(py),this._events=new ge,this.errorHandler=this.options.errorHandler||hV,this.navigated=!1,this.routeReuseStrategy=_(dV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(Zd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Xd,{optional:!0}),this.eventsSubscription=new je,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jr&&r.code!==nn.Redirect&&r.code!==nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rn)this.navigated=!0;else if(r instanceof Os){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uV(i.source)},s);this.scheduleNavigation(a,Wa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=M({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let v=i?i.snapshot:this.routerState.snapshot.root;d=KD(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return YD(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=mo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wa,null,r)}navigate(t,r={skipLocationChange:!1}){return vV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},gV):r===!1?i=M({},mV):i=r,mo(t))return ID(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ID(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,v)=>{a=d,c=v});let u=this.pendingTasks.add();return hS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();En=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ge,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(mo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:OE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:mo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Ut),Sm("tabindex"),D(Un),D(Ct),D(Lr))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&S("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ms("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vi],replaceUrl:[2,"replaceUrl","replaceUrl",vi],routerLink:"routerLink"},standalone:!0,features:[Km,jn]})}}return n})(),gS=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new X,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof rn&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(tr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=G(t).pipe(tr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=_V(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Te),D(Ct),D(Un),D(zn),D(En,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&DM(o,En,5),r&2){let s;vs(s=ys())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[jn]})}}return n})();Jd=class{},CV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ne(t=>t instanceof rn),un(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=id(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return G(i).pipe(tr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=V(null);let o=i.pipe(Be(s=>s===null?V(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return G([o,s]).pipe(tr())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(F(Te),F(ud),F(kt),F(Jd),F(fy))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mS=new L(""),bV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ei&&t.code===$d.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Hd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){BE()}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();vS=new L("",{factory:()=>new ge}),gy=new L("",{providedIn:"root",factory:()=>1});yS=new L("");FD=new L("ROUTER_FORROOT_GUARD"),OV=[bs,{provide:nc,useClass:Is},Te,ic,{provide:Ut,useFactory:wV,deps:[Te]},fy,[]],my=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[OV,[],{provide:Zd,multi:!0,useValue:t},{provide:FD,useFactory:kV,deps:[[Te,new Vu,new dm]]},{provide:sc,useValue:r||{}},r?.useHash?PV():AV(),TV(),r?.preloadingStrategy?SV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?NV(r):[],r?.bindToComponentInputs?xV().\u0275providers:[],r?.enableViewTransitions?IV().\u0275providers:[],RV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Zd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(F(FD,8))}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})();LD=new L("")});var tf,_S=h(()=>{"use strict";ii();we();N();La();tf=class n{constructor(e){this.http=e}getBitCoinRate(){return this.http.get("https://blockchain.info/tobtc?currency=USD&value=1").pipe(st(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}getMarketPlace(){return this.http.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true").pipe(st(1),ue(e=>(console.log("err:",e),Xe(()=>e))))}static \u0275fac=function(t){return new(t||n)(F(po))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var FV,LV,gt,cc=h(()=>{"use strict";FV=["localhost","192.168.1.88","192.168.1.63","10.0.2.2","10.100.102.9"],LV=!FV.includes(window.location.hostname),gt={baseURL:LV?"https://backend-my-accounts.onrender.com/api":`http://${window.location.hostname}:3030/api`,notifications:{vapidPublicKey:"BKY_C-R9bVYH6-BWh2E2STfmB37ANCt_v3_IpAWWpNGCJG3EmUOBzn6W0ZzJaKl8xoPxMUOS2aYFqjyCFHtwZ9Y"}}});function lc(){let e=document.cookie.split("; ").find(t=>t.startsWith("loginToken="));return e?e.split("=")[1]:null}var CS=h(()=>{"use strict"});function dc(n,e=200){return P(this,null,function*(){if(uc){let t=lc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${gt.baseURL}/${n}`,o=yield fetch(i,{method:"GET",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to query entities from ${n}: ${o.statusText}`);return o.json()}else{let t=JSON.parse(localStorage.getItem(n))||[];return new Promise(r=>setTimeout(()=>r(t),e))}})}function VV(n,e){return P(this,null,function*(){if(uc){let t=yield fetch(`${gt.baseURL}/${n}/${e}`);if(!t.ok)throw new Error(`Failed to get entity with id ${e}: ${t.statusText}`);return t.json()}else{let r=(yield dc(n)).find(i=>i._id===e);if(!r)throw new Error(`Get failed, cannot find entity with id: ${e} in: ${n}`);return r}})}function jV(n,e){return P(this,null,function*(){let t=`${gt.baseURL}/${n}`,r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(!r.ok)throw new Error(`Failed to login: ${r.statusText}`);return r.json()})}function UV(n,e,t){return P(this,null,function*(){if(uc){let r=t?`${gt.baseURL}/${t}`:`${gt.baseURL}/${n}`,i={"Content-Type":"application/json"},o=lc();console.log("loginToken:",o),o&&(i.Authorization=`Bearer ${o}`);let s=yield fetch(r,{method:"POST",headers:i,body:JSON.stringify(e),credentials:"include"});if(!s.ok)throw new Error(`Failed to save entity: ${s.statusText}`);return s.json()}else{if("_id"in e){let r=B(M({},e),{_id:zV()}),i=yield dc(n);return i.push(r),vy(n,i),r}throw new Error("Local storage operations require `_id` field.")}})}function BV(n,e){return P(this,null,function*(){if(uc){let t=`${gt.baseURL}/${n}/${e._id}`,r={"Content-Type":"application/json"},i=lc();console.log("loginToken:",i),i&&(r.Authorization=`Bearer ${i}`);let o=yield fetch(t,{method:"PUT",headers:r,body:JSON.stringify(e),credentials:"include"});if(!o.ok)throw new Error(`Failed to update entity with id ${e._id}: ${o.statusText}`);return o.json()}else{e=JSON.parse(JSON.stringify(e));let t=yield dc(n),r=t.findIndex(i=>i._id===e._id);if(r<0)throw new Error(`Update failed, cannot find entity with id: ${e._id} in: ${n}`);return t.splice(r,1,e),vy(n,t),e}})}function $V(n,e){return P(this,null,function*(){if(uc){let t=lc();console.log("loginToken:",t);let r={"Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);let i=`${gt.baseURL}/${n}/${e}`,o=yield fetch(i,{method:"DELETE",headers:r,credentials:"include"});if(!o.ok)throw new Error(`Failed to remove entity with id ${e}: ${o.statusText}`)}else{let t=yield dc(n),r=t.findIndex(i=>i._id===e);if(r<0)throw new Error(`Remove failed, cannot find entity with id: ${e} in: ${n}`);t.splice(r,1),vy(n,t)}})}function vy(n,e){localStorage.setItem(n,JSON.stringify(e))}function zV(n=5){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<n;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var it,uc,yy=h(()=>{"use strict";cc();CS();it={post:UV,get:VV,put:BV,remove:$V,query:dc,login:jV},uc=!0});var bS,HV,nf,wS=h(()=>{"use strict";bS="dzqnyehxn",HV="fuhrsp2z",nf={CLOUD_NAME:bS,UPLOAD_PRESET:HV,getUploadUrl:n=>`https://api.cloudinary.com/v1_1/${bS}/${n}/upload`}});var gr,fc=h(()=>{"use strict";wS();we();N();gr=class n{cloudName=nf.CLOUD_NAME;uploadPreset=nf.UPLOAD_PRESET;constructor(){}uploadImage(e){let t=e.type.startsWith("video/")?"video":"image",r=nf.getUploadUrl(t),i=Date.now();console.log(`\u{1F4C2} [UPLOAD START] ${t.toUpperCase()} - ${e.name}`),console.log(`\u{1F4CF} File size: ${e.size} bytes`),console.log(`\u{1F4DD} MIME type: ${e.type}`),console.log(`\u{1F680} Uploading to: ${r}`),console.log(`\u23F3 Upload started at: ${new Date(i).toISOString()}`);let o=new FormData;return o.append("file",e),o.append("upload_preset",this.uploadPreset),G(fetch(r,{method:"POST",body:o,mode:"cors"}).then(s=>{if(console.log(`\u{1F504} [UPLOAD IN PROGRESS] Server responded with status: ${s.status}`),!s.ok)throw console.error(`\u274C [UPLOAD ERROR] ${t.toUpperCase()} upload failed: ${s.status} - ${s.statusText}`),new Error(`${t} upload failed: ${s.statusText}`);return s.json()}).then(s=>{let c=(Date.now()-i)/1e3;if(s.secure_url)return console.log(`\u2705 [UPLOAD SUCCESS] ${t.toUpperCase()} uploaded successfully!`),console.log(`\u{1F517} URL: ${s.secure_url}`),console.log(`\u23F3 Upload duration: ${c} seconds`),console.log("\u{1F4E6} Full response:",s),s.secure_url;throw console.error("\u26A0\uFE0F [UPLOAD WARNING] Response missing 'secure_url':",s),new Error("Upload response did not include a secure_url.")}).catch(s=>(console.error(`\u{1F6A8} [UPLOAD FAILURE] ${t.toUpperCase()} upload encountered an error: ${s.message}`),Promise.reject(s))))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Kn,pc,hc,rf=h(()=>{"use strict";Kn=Object.create(null);Kn.open="0";Kn.close="1";Kn.ping="2";Kn.pong="3";Kn.message="4";Kn.upgrade="5";Kn.noop="6";pc=Object.create(null);Object.keys(Kn).forEach(n=>{pc[Kn[n]]=n});hc={type:"error",data:"parser error"}});function MS(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}function IS(n,e){if(DS&&n.data instanceof Blob)return n.data.arrayBuffer().then(MS).then(e);if(SS&&(n.data instanceof ArrayBuffer||xS(n.data)))return e(MS(n.data));gc(n,!1,t=>{Cy||(Cy=new TextEncoder),e(Cy.encode(t))})}var DS,SS,xS,gc,ES,Cy,OS=h(()=>{"use strict";rf();DS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",SS=typeof ArrayBuffer=="function",xS=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,gc=({type:n,data:e},t,r)=>DS&&e instanceof Blob?t?r(e):ES(e,r):SS&&(e instanceof ArrayBuffer||xS(e))?t?r(e):ES(new Blob([e]),r):r(Kn[n]+(e||"")),ES=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)}});var TS,mc,PS,AS=h(()=>{"use strict";TS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<TS.length;n++)mc[TS.charCodeAt(n)]=n;PS=n=>{let e=n.length*.75,t=n.length,r,i=0,o,s,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<t;r+=4)o=mc[n.charCodeAt(r)],s=mc[n.charCodeAt(r+1)],a=mc[n.charCodeAt(r+2)],c=mc[n.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l}});var qV,vc,WV,kS,NS=h(()=>{"use strict";rf();AS();qV=typeof ArrayBuffer=="function",vc=(n,e)=>{if(typeof n!="string")return{type:"message",data:kS(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:WV(n.substring(1),e)}:pc[t]?n.length>1?{type:pc[t],data:n.substring(1)}:{type:pc[t]}:hc},WV=(n,e)=>{if(qV){let t=PS(n);return kS(t,e)}else return{base64:!0,data:n}},kS=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}}});function VS(){return new TransformStream({transform(n,e){IS(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}function of(n){return n.reduce((e,t)=>e+t.length,0)}function sf(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function jS(n,e){by||(by=new TextDecoder);let t=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(t.push(s);;){if(r===0){if(of(t)<1)break;let c=sf(t,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(of(t)<2)break;let c=sf(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(of(t)<8)break;let c=sf(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(hc);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(of(t)<i)break;let c=sf(t,i);a.enqueue(vc(o?c:by.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(hc);break}}}})}var RS,FS,LS,by,wy,As=h(()=>{"use strict";OS();NS();rf();RS="",FS=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((o,s)=>{gc(o,!1,a=>{r[s]=a,++i===t&&e(r.join(RS))})})},LS=(n,e)=>{let t=n.split(RS),r=[];for(let i=0;i<t.length;i++){let o=vc(t[i],e);if(r.push(o),o.type==="error")break}return r};wy=4});function Le(n){if(n)return GV(n)}function GV(n){for(var e in Le.prototype)n[e]=Le.prototype[e];return n}var vo=h(()=>{"use strict";Le.prototype.on=Le.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Le.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Le.prototype.off=Le.prototype.removeListener=Le.prototype.removeAllListeners=Le.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Le.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};Le.prototype.emitReserved=Le.prototype.emit;Le.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Le.prototype.hasListeners=function(n){return!!this.listeners(n).length}});var Br,Bt,US,yo=h(()=>{"use strict";Br=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Bt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),US="arraybuffer"});function af(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function $r(n,e){e.useNativeTimers?(n.setTimeoutFn=KV.bind(Bt),n.clearTimeoutFn=YV.bind(Bt)):(n.setTimeoutFn=Bt.setTimeout.bind(Bt),n.clearTimeoutFn=Bt.clearTimeout.bind(Bt))}function BS(n){return typeof n=="string"?ZV(n):Math.ceil((n.byteLength||n.size)*QV)}function ZV(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function cf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var KV,YV,QV,_o=h(()=>{"use strict";yo();KV=Bt.setTimeout,YV=Bt.clearTimeout;QV=1.33});function $S(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function zS(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let o=t[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var Ey=h(()=>{"use strict"});var lf,zr,yc=h(()=>{"use strict";As();vo();_o();Ey();lf=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},zr=class extends Le{constructor(e){super(),this.writable=!1,$r(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new lf(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=vc(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=$S(e);return t.length?"?"+t:""}}});var _c,My=h(()=>{"use strict";yc();_o();As();_c=class extends zr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};LS(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,FS(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=cf()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}});var HS,qS,WS=h(()=>{"use strict";HS=!1;try{HS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}qS=HS});function JV(){}function GS(){for(let n in uf.requests)uf.requests.hasOwnProperty(n)&&uf.requests[n].abort()}function KS(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||qS))return new XMLHttpRequest}catch{}if(!e)try{return new Bt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Dy,uf,XV,Di,df=h(()=>{"use strict";My();vo();_o();yo();WS();Dy=class extends _c{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},uf=(()=>{class n extends Le{constructor(t,r,i){super(),this.createRequest=t,$r(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let r=af(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=JV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",GS);else if(typeof addEventListener=="function"){let n="onpagehide"in Bt?"pagehide":"unload";addEventListener(n,GS,!1)}}XV=function(){let n=KS({xdomain:!1});return n&&n.responseType!==null}(),Di=class extends Dy{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=XV&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new uf(KS,this.uri(),e)}}});var YS,xy,Sy,Si,ff=h(()=>{"use strict";yc();_o();As();yo();YS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",xy=class extends zr{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,r=YS?{}:af(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;gc(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&Br(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=cf()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Sy=Bt.WebSocket||Bt.MozWebSocket,Si=class extends xy{createSocket(e,t,r){return YS?new Sy(e,t,r):t?new Sy(e,t):new Sy(e)}doWrite(e,t){this.ws.send(t)}}});var ks,Iy=h(()=>{"use strict";yc();yo();As();ks=class extends zr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=jS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=VS();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&Br(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}});var Oy,Ty=h(()=>{"use strict";df();ff();Iy();Oy={websocket:Si,webtransport:ks,polling:Di}});function Ns(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=ej.exec(n||""),o={},s=14;for(;s--;)o[tj[s]]=i[s]||"";return t!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=nj(o,o.path),o.queryKey=rj(o,o.query),o}function nj(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function rj(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(t[i]=o)}),t}var ej,tj,Py=h(()=>{"use strict";ej=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tj=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Ay,pf,hf,gf,Rs,ky=h(()=>{"use strict";Ty();_o();Ey();Py();vo();As();yo();Ay=typeof addEventListener=="function"&&typeof removeEventListener=="function",pf=[];Ay&&addEventListener("offline",()=>{pf.forEach(n=>n())},!1);hf=(()=>{class n extends Le{constructor(t,r){if(super(),this.binaryType=US,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){let i=Ns(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Ns(r.host).host);$r(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=zS(this.opts.query)),Ay&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=wy,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=BS(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Br(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ay&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=pf.indexOf(this._offlineEventListener);i!==-1&&pf.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=wy,n})(),gf=class extends hf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;hf.priorWebsocketSuccess=!1;let i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;hf.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,u(),t.close(),t=null)}let s=d=>{let v=new Error("probe error: "+d);v.transport=t.name,o(),this.emitReserved("upgradeError",v)};function a(){s("transport closed")}function c(){s("socket closed")}function l(d){t&&d.name!==t.name&&o()}let u=()=>{t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}},Rs=class extends gf{constructor(e,t={}){let r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Oy[i]).filter(i=>!!i)),super(e,r)}}});var QS=h(()=>{"use strict";My()});var hQ,mf=h(()=>{"use strict";ky();ky();yc();Ty();_o();Py();yo();QS();df();df();ff();ff();Iy();hQ=Rs.protocol});function ZS(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Ns(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}var JS=h(()=>{"use strict";mf()});function bc(n){return oj&&(n instanceof ArrayBuffer||sj(n))||aj&&n instanceof Blob||cj&&n instanceof File}function Cc(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(Cc(n[t]))return!0;return!1}if(bc(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return Cc(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Cc(n[t]))return!0;return!1}var oj,sj,XS,aj,cj,Ny=h(()=>{"use strict";oj=typeof ArrayBuffer=="function",sj=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,XS=Object.prototype.toString,aj=typeof Blob=="function"||typeof Blob<"u"&&XS.call(Blob)==="[object BlobConstructor]",cj=typeof File=="function"||typeof File<"u"&&XS.call(File)==="[object FileConstructor]"});function ex(n){let e=[],t=n.data,r=n;return r.data=Ry(t,e),r.attachments=e.length,{packet:r,buffers:e}}function Ry(n,e){if(!n)return n;if(bc(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=Ry(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=Ry(n[r],e));return t}return n}function tx(n,e){return n.data=Fy(n.data,e),delete n.attachments,n}function Fy(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Fy(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Fy(n[t],e));return n}var nx=h(()=>{"use strict";Ny()});var Uy={};OT(Uy,{Decoder:()=>Vy,Encoder:()=>Ly,PacketType:()=>he,protocol:()=>ix});function rx(n){return Object.prototype.toString.call(n)==="[object Object]"}var lj,ix,he,Ly,Vy,jy,vf=h(()=>{"use strict";vo();nx();Ny();lj=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ix=5,he=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(he||{}),Ly=class{constructor(e){this.replacer=e}encode(e){return(e.type===he.EVENT||e.type===he.ACK)&&Cc(e)?this.encodeAsBinary({type:e.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===he.BINARY_EVENT||e.type===he.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=ex(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}};Vy=class n extends Le{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===he.BINARY_EVENT;r||t.type===he.BINARY_ACK?(t.type=r?he.EVENT:he.ACK,this.reconstructor=new jy(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(bc(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(he[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===he.BINARY_EVENT||r.type===he.BINARY_ACK){let o=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(o,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(t+1)==="/"){let o=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(o,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let o=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}r.id=Number(e.substring(o,t+1))}if(e.charAt(++t)){let o=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case he.CONNECT:return rx(t);case he.DISCONNECT:return t===void 0;case he.CONNECT_ERROR:return typeof t=="string"||rx(t);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&lj.indexOf(t[0])===-1);case he.ACK:case he.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},jy=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=tx(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function on(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var By=h(()=>{"use strict"});var uj,Fs,$y=h(()=>{"use strict";vf();By();vo();uj=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Fs=class extends Le{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[on(e,"open",this.onopen.bind(this)),on(e,"packet",this.onpacket.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,o;if(uj.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:he.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,d=t.pop();this._registerAckCallback(u,d),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),t.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,t.push(o),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:he.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case he.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(e);break;case he.ACK:case he.BINARY_ACK:this.onack(e);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:he.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}}});function Co(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}var ox=h(()=>{"use strict";Co.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};Co.prototype.reset=function(){this.attempts=0};Co.prototype.setMin=function(n){this.ms=n};Co.prototype.setMax=function(n){this.max=n};Co.prototype.setJitter=function(n){this.jitter=n}});var Ls,sx=h(()=>{"use strict";mf();$y();vf();By();ox();vo();Ls=class extends Le{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,$r(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Co({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||Uy;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Rs(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=on(t,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=on(t,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(on(e,"ping",this.onping.bind(this)),on(e,"data",this.ondata.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Br(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Fs(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});function Ec(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=ZS(n,e.path||"/socket.io"),r=t.source,i=t.id,o=t.path,s=wc[i]&&o in wc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Ls(r,e):(wc[i]||(wc[i]=new Ls(r,e)),c=wc[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}var wc,ax=h(()=>{"use strict";JS();sx();$y();vf();mf();wc={};Object.assign(Ec,{Manager:Ls,Socket:Fs,io:Ec,connect:Ec})});var Vs,zy=h(()=>{"use strict";N();Vs=class n{logs=[];log(e,t){let r=`${new Date().toISOString()} - ${e} ${t?JSON.stringify(t):""}`;this.logs.push(r),console.log(r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function ux(){let n=window.env?.NODE_ENV||"development",t=!["localhost","192.168.1.63","192.168.1.88","10.0.2.2","10.100.102.9"].includes(window.location.hostname);return console.log(`Socket environment: ${n}`),t?"https://backend-my-accounts.onrender.com":`http://${window.location.hostname}:3030`}var rZ,lx,dj,fj,pj,hj,gj,mj,Mn,js=h(()=>{"use strict";ax();xt();N();zy();rZ=ux(),lx="chat-add-msg",dj="chat-add-private-msg",fj="chat-send-msg",pj="chat-set-topic",hj="chat-send-private-msg",gj="set-user-socket",mj="unset-user-socket",Mn=class n{constructor(e,t){this.errorLogger=t;this.injector=e}socket=null;injector;privateMessagesBuffer=[];heartbeatInterval=null;heartbeatWorker=null;chatAddMsgCallbacks=[];isChatAddMsgListenerRegistered=!1;get userService(){return this.injector.get(Ce)}setup(){if(console.log("\u{1F4F1} SocketService.setup() \u05D4\u05D5\u05E4\u05E2\u05DC\u05D4"),this.errorLogger.log("SocketService setup() called"),this.socket){this.errorLogger.log("Socket already initialized");return}if(console.log("SocketService setup() called"),this.socket){console.log("Socket already initialized");return}let e=ux(),t={transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3};this.errorLogger.log("Attempting socket connection",{url:e,options:t});try{this.socket=Ec(e,t),console.log(`Connecting to Socket at: ${e}`),this.socket.on("connect",()=>{this.errorLogger.log("Socket connected successfully",{socketId:this.socket?.id}),console.log("\u{1F50C} Socket connected:",this.socket?.id),this.initializeSocketConnection(),this.keepSocketAlive()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("\u{1F4F1} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05E2\u05D5\u05DC, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup())}),this.socket.on("connect_error",r=>{this.errorLogger.log("Socket connection error",{error:r.message}),console.error("Socket connection error:",r)}),this.socket.on("connect_timeout",()=>{this.errorLogger.log("Socket connection timeout"),console.error("Socket connection timeout")}),this.socket.on("disconnect",r=>{this.errorLogger.log("Socket disconnected",{reason:r}),console.log("Socket disconnected:",r),setTimeout(()=>{console.log("\u{1F504} \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.setup()},5e3)})}catch(r){this.errorLogger.log("Error in setup",{error:r})}}initializeSocketConnection(){console.log("\u{1F504} Initializing socket connection...");let e=this.userService.getLoggedInUser();e&&e._id?(console.log(`\u{1F513} Re-authenticating socket with userId: ${e._id}`),this.login(e._id)):console.warn("\u26A0\uFE0F No logged-in user found, skipping socket authentication.")}subscribeToChatAddMsg(e){this.chatAddMsgCallbacks.push(e),this.isChatAddMsgListenerRegistered||(this.socket||this.setup(),this.socket?.on(lx,t=>{this.chatAddMsgCallbacks.forEach(r=>r(t))}),this.isChatAddMsgListenerRegistered=!0)}on(e,t){this.socket?.on(e,t)}off(e,t){this.socket&&(t?this.socket.off(e,t):this.socket.removeAllListeners(e))}emit(e,t){this.socket?.emit(e,t)}joinRoom(e){this.socket||this.setup(),this.socket?.emit(pj,e)}sendMessage(e,t,r){console.log("asdfasdasdasd"),this.socket||this.setup();let i=this.userService?.getLoggedInUser();if(console.log(`user: ${i}`),!i)return;let o={sender:i._id,senderName:i.username,text:e||"",imageUrl:t||void 0,videoUrl:r||void 0};this.socket?.emit(fj,o),console.log(`user: ${i}`),console.log(`message: ${o}`)}sendPrivateMessage(e,t,r,i,o){this.socket||this.setup();let s=this.userService?.getLoggedInUser();if(this.errorLogger.log("user:",s),!s||!e||!t.trim()&&!i&&!o){console.warn("\u26A0\uFE0F Missing required data for private message:",{user:s,toUserId:e,msg:t,imageUrl:i,videoUrl:o});return}let a={sender:s._id,senderName:s.username,text:t||"",imageUrl:i||void 0,videoUrl:o||void 0,toUserId:e};this.addToBuffer(B(M({},a),{senderName:"Me"})),console.log("\u2705 Sending private message:",a),this.socket?.emit(hj,{toUserId:e,text:t,imageUrl:i,videoUrl:o,sender:s._id,senderName:s.username,tempId:r})}addToBuffer(e){this.privateMessagesBuffer.some(t=>t.text===e.text&&t.sender===e.sender&&t.toUserId===e.toUserId)||this.privateMessagesBuffer.push(e)}keepSocketAlive(){this.socket&&(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")},3e4),typeof Worker<"u"?(this.heartbeatWorker&&this.heartbeatWorker.terminate(),this.heartbeatWorker=new Worker(new URL("worker-YK2NRHEU.js",import.meta.url),{type:"module"}),this.heartbeatWorker.postMessage("start"),this.heartbeatWorker.onmessage=e=>{console.log("\u{1F4E9} Received message from worker:",e.data),e.data==="ping"?(console.log("\u{1F504} (Worker) \u05E9\u05D5\u05DC\u05D7 Keep-Alive \u05DC-Socket..."),this.socket?.emit("ping")):e.data==="wake-up"&&(console.log("\u{1F4F2} \u05DE\u05EA\u05E2\u05D5\u05E8\u05E8 \u05DB\u05DC 30 \u05E9\u05E0\u05D9\u05D5\u05EA ..."),this.setup())}):console.warn("\u26A0\uFE0F Web Worker \u05DC\u05D0 \u05E0\u05EA\u05DE\u05DA \u05D1\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4."))}isConnected(){return this.socket?.connected??!1}login(e){console.log("SocketService login() called with userId:",e),this.socket||this.setup();let t=this.userService.getLoggedInUser();this.socket?.emit(gj,{userId:e,username:t?.username||"Anonymous"})}onMessage(e){this.socket||this.setup(),this.socket?.on(lx,e)}onPrivateMessage(e){this.socket||(this.errorLogger.log("Setting up socket for private messages"),this.setup()),this.socket?.on(dj,t=>{this.errorLogger.log("Private message received",t),console.log("\u{1F4E9} Private message received:",t);let r=B(M({},t),{toUserId:t.toUserId||this.userService.getLoggedInUser()?._id}),i=this.privateMessagesBuffer.findIndex(o=>o.tempId!==void 0&&r.tempId!==void 0&&o.tempId===r.tempId);i!==-1?this.privateMessagesBuffer[i]=M(M({},this.privateMessagesBuffer[i]),r):this.privateMessagesBuffer.push(r),this.addToBuffer(r),e(r)})}getPrivateMessages(){return console.log("New message received:"),this.errorLogger.log("Getting private messages",{count:this.privateMessagesBuffer.length}),[...this.privateMessagesBuffer]}logout(){this.socket?.emit(mj)}terminate(){this.socket?.disconnect(),this.socket=null}static \u0275fac=function(t){return new(t||n)(F(et),F(Vs))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Mc,xi,dx,fx,Ii,Ce,xt=h(()=>{"use strict";we();yy();cc();N();fc();js();Mc="user",xi="loggedInUser",dx="facebookId",fx="facebookAccessToken",Ii="loginTokenBackup",Ce=class n{constructor(e,t){this.cloudinaryService=e;this.socketService=t;this._restoreLoginToken(),this._loadUsersFromDB(),this._loadLoggedInUser(),this.setupTokenRecoveryListener();let r=JSON.parse(localStorage.getItem(xi)||"null");r&&r._id&&(this._loggedInUser$.next(r),this.socketService.setup())}_users$=new fe([]);users$=this._users$.asObservable();_filterBy$=new fe("");filterBy$=this._filterBy$.asObservable();_loggedInUser$=new fe(null);loggedInUser$=this._loggedInUser$.asObservable();_loadUsersFromDB(){G(it.query(Mc)).pipe(ne(e=>{this._users$.next(this._sort(e))}),ue(this._handleError)).subscribe()}_loadLoggedInUser(){let e=JSON.parse(localStorage.getItem(xi)||"null");e&&e._id&&(this._loggedInUser$.next(e),this.socketService.setup())}getLoggedInUser(){return JSON.parse(localStorage.getItem(xi)||"null")}setLoggedInUser(e,t){this._loggedInUser$.next(e),localStorage.setItem(xi,JSON.stringify(e)),this._saveLoginToken(t),this.socketService.login(e._id)}_saveLoginToken(e){document.cookie=`loginToken=${e}; path=/; Secure; SameSite=Lax; max-age=${30*24*60*60}`,localStorage.setItem(Ii,e),sessionStorage.setItem(Ii,e),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"SAVE_LOGIN_TOKEN",token:e}),console.log("\u{1F4BE} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC-Service Worker \u05DC\u05E9\u05DE\u05D9\u05E8\u05EA token \u05D1\u05BEIndexedDB"))}_restoreLoginToken(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ii)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ii)||localStorage.getItem("loginTokenBackup");if(!e){console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA `loginToken` \u05DE\u05DE\u05E7\u05D5\u05E8 \u05D6\u05DE\u05D9\u05DF:",e),this._saveLoginToken(e),console.log("\u{1F464} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DE\u05D7\u05D5\u05D1\u05E8 \u05DB\u05E8\u05D2\u05E2:",this._loggedInUser$.value)}setupTokenRecoveryListener(){document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 `loginToken`..."),this.refreshLoginTokenIfNeeded())})}getCookie(e){let t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}refreshLoginTokenIfNeeded(){let e=this.getCookie("loginToken")||sessionStorage.getItem(Ii)||sessionStorage.getItem("loginTokenBackup")||localStorage.getItem(Ii)||localStorage.getItem("loginTokenBackup");console.log("\u{1F50D} \u05E0\u05D1\u05D3\u05E7\u05D5 \u05DE\u05E7\u05D5\u05E8\u05D5\u05EA \u05D4\u05D8\u05D5\u05E7\u05DF:"),console.log("\u{1F36A} \u05E7\u05D5\u05E7\u05D9:",this.getCookie("loginToken")),console.log("\u{1F4E6} SessionStorage:",sessionStorage.getItem("loginToken")),console.log("\u{1F4E6} SessionStorage (Backup):",sessionStorage.getItem("loginTokenBackup")),console.log("\u{1F4BE} LocalStorage:",localStorage.getItem(Ii)),console.log("\u{1F4BE} LocalStorage (Backup):",localStorage.getItem("loginTokenBackup")),e?console.log("\u2705 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4:",e):console.warn("\u274C \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8 \u2013 \u05D9\u05E9 \u05DC\u05D4\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9")}restoreLoginToken(e){if(!e){console.warn("\u274C \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token \u05DC\u05E9\u05D7\u05D6\u05D5\u05E8");return}console.log("\u{1F504} \u05DE\u05E9\u05D7\u05D6\u05E8 \u05D0\u05EA \u05D4-Token:",e),this._saveLoginToken(e)}keepSessionAlive(){fetch(`${gt.baseURL}/auth/ping`,{method:"GET",credentials:"include"}).then(e=>console.log("\u2705 Keep-Alive Ping \u05D4\u05E6\u05DC\u05D9\u05D7")).catch(e=>console.warn("\u26A0\uFE0F Keep-Alive Ping \u05E0\u05DB\u05E9\u05DC",e))}login(e,t){let r={email:e,password:t};return G(it.login("auth/login",r)).pipe(ne(i=>{let o=i.user,s=i.loginToken;this._loggedInUser$.next(o),localStorage.setItem(xi,JSON.stringify(o)),this.socketService.login(o._id),this._saveLoginToken(s)}),j(i=>i.user),ue(this._handleError))}loginWithFacebook(e){return G(it.login("auth/facebook",e)).pipe(ne(t=>{let r=t.user,i=t.loginToken;this._loggedInUser$.next(r),localStorage.setItem(xi,JSON.stringify(r)),localStorage.setItem(dx,e.facebookId),localStorage.setItem(fx,e.accessToken),this.socketService.login(r._id),this._saveLoginToken(i)}),j(t=>t.user),ue(this._handleError))}logout(){this._loggedInUser$.next(null),localStorage.removeItem(xi),localStorage.removeItem(dx),localStorage.removeItem(fx),localStorage.removeItem(Ii),this.socketService.logout()}loadUsers(){return G(it.query(Mc)).pipe(j(e=>{let t=this._filterBy$.value.toLowerCase();return e.filter(r=>r.username.toLowerCase().includes(t))}),ne(e=>this._users$.next(e)),st(3),ue(this._handleError))}saveUser(e){return e._id?this._updateUser(e):this._addUser(e)}setFilterBy(e){this._filterBy$.next(e),this.loadUsers().pipe(be(1)).subscribe()}deleteUser(e){return G(it.remove(Mc,e)).pipe(ne(()=>{let t=this._users$.value.filter(r=>r._id!==e);this._users$.next(t)}),st(2),ue(this._handleError))}getUserById(e){return G(it.get(Mc,e)).pipe(st(3),ue(this._handleError))}getEmptyUser(){return{_id:"",username:"",password:"",email:"",createdAt:new Date,img:"",isAdmin:!1}}_createDemoUsers(){return[{_id:this._getRandomId(),username:"john_doe",password:"12345",email:"john.doe@example.com",createdAt:new Date("2020-01-01"),img:"",isAdmin:!1},{_id:this._getRandomId(),username:"jane_smith",password:"password",email:"jane.smith@example.com",createdAt:new Date("2021-01-01"),img:"",isAdmin:!1}]}_sort(e){return e.sort((t,r)=>t.username.localeCompare(r.username))}_addUser(e){let t=B(M({},e),{_id:this._getRandomId()});return G(it.post("auth/signup",t)).pipe(ne(r=>{let i=this._users$.value;this._users$.next([...i,r])}),st(3),ue(this._handleError))}_updateUser(e){return G(it.put(Mc,e)).pipe(ne(t=>{let r=this._users$.value.map(i=>i._id===t._id?t:i);this._users$.next(r)}),st(3),ue(this._handleError))}_getRandomId(e=8){let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}_handleError(e){return console.error("An error occurred:",e),Xe(()=>new Error(e))}syncLoggedInUser(){let e=this.getLoggedInUser();return e?G(it.put("user/updateProfile",e)).pipe(ne(t=>{this._loggedInUser$.next(t),localStorage.setItem(xi,JSON.stringify(t))}),ue(this._handleError)):Xe(()=>new Error("No logged-in user found in local storage"))}updateUserImage(e){return this.cloudinaryService.uploadImage(e).pipe(Re(t=>{console.log("Image URL from Cloudinary:",t);let r=this.getLoggedInUser();if(!r)return Xe(()=>new Error("No logged-in user found. Please log in."));let i=B(M({},r),{img:t});return this.saveUser(i).pipe(ne(o=>{console.log("Updated user sent to the server:",o),this.setLoggedInUser(o,this.getCookie("loginToken")||"")}))}),ue(t=>(console.error("Error updating user image:",t.message||t),Xe(()=>new Error("Failed to update user image. Please try again later.")))))}static \u0275fac=function(t){return new(t||n)(F(gr),F(Mn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function yf(n,e){return{type:re.Trigger,name:n,definitions:e,options:{}}}function xc(n,e=null){return{type:re.Animate,styles:e,timings:n}}function px(n,e=null){return{type:re.Sequence,steps:n,options:e}}function Yn(n){return{type:re.Style,styles:n,offset:null}}function qy(n,e,t){return{type:re.State,name:n,styles:e,options:t}}function Ic(n,e,t=null){return{type:re.Transition,expr:n,animation:e,options:t}}var re,mr,Oi,Sc,_f,Cf=h(()=>{"use strict";re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(re||{}),mr="*";Oi=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Sc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},_f="!"});var Oc,Et,Hr=h(()=>{"use strict";we();yy();N();Oc="contact",Et=class n{_contacts$=new fe([]);contacts$=this._contacts$.asObservable();_allContacts$=new fe([]);allContacts$=this._allContacts$.asObservable();_filterBy$=new fe({name:""});filterBy$=this._filterBy$.asObservable();constructor(){this._loadContactsFromDB()}_loadContactsFromDB(){G(it.query(Oc)).pipe(ne(e=>{this._contacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}loadAllContactsFromDB(){console.log("\u{1F504} Resetting filter and fetching ALL contacts from DB..."),this._filterBy$.next({name:""}),G(it.query("contact/All")).pipe(ne(e=>{this._allContacts$.next(this._sort(e))}),ue(this._handleError)).subscribe()}updateContactImage(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(M({},r),{img:t});return G(it.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),ue(o=>this._handleError(o)))}updateContactVideo(e,t){let r=this._contacts$.value.find(o=>o._id===e);if(!r)return Xe(()=>new Error("Contact not found"));let i=B(M({},r),{video:t});return G(it.put("contact/edit",i)).pipe(ne(o=>{let s=this._contacts$.value.map(a=>a._id===o._id?o:a);this._contacts$.next(s)}),st(1),ue(o=>this._handleError(o)))}loadContacts(){return G(it.query(Oc)).pipe(ne(e=>{let t=this._filterBy$.value;e=e.map(r=>B(M({},r),{lastName:r.lastName||"",birthday:r.birthday||""})),t&&t.name&&(e=this._filter(e,t.name)),e=e.filter(r=>r.name.toLowerCase().includes(t.name.toLowerCase())),this._contacts$.next(this._sort(e))}),st(1),ue(this._handleError))}deleteContact(e){return G(it.remove(Oc,e)).pipe(ne(()=>{let t=this._contacts$.value;t=t.filter(r=>r._id!==e),this._contacts$.next(t)}),st(1),ue(this._handleError))}saveContact(e){let t=this._contacts$.value.find(r=>r._id===e._id);return t&&!e.img&&(e.img=t.img),e._id?this._updateContact(e):this._addContact(e)}setFilterBy(e){this._filterBy$.next(e),this.loadContacts().pipe(be(1)).subscribe()}getEmptyContact(){return{name:"",lastName:"",email:"",phone:"",owner:""}}getById(e){return G(it.get(Oc,e)).pipe(st(1),ue(this._handleError))}_updateContact(e){return console.log("Updating contact:",e),G(it.put("contact/edit",e)).pipe(ne(t=>{let r=this._contacts$.value;this._contacts$.next([...r.map(i=>i._id===t._id?t:i)])}),st(1),ue(this._handleError))}_addContact(e){return console.log("Adding new contact:",e),G(it.post(Oc,e)).pipe(ne(t=>{console.log("New contact added successfully:",t);let r=this._contacts$.value;this._contacts$.next([...r,t])}),st(1),ue(this._handleError))}_sort(e){return e.sort((t,r)=>t.name.toLocaleLowerCase()<r.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>r.name.toLocaleLowerCase()?1:0)}_filter(e,t){return t=t.toLocaleLowerCase(),e.filter(r=>r.name.toLocaleLowerCase().includes(t)||r.phone.toLocaleLowerCase().includes(t)||r.email.toLocaleLowerCase().includes(t))}_createContacts(){return[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824",birthday:"1980-03-15",facebookToken:"EAAIUDS5ZCyWoBOy0VhAuRgq8SQ2OUHkhP9ZAxCqXk2PRoclUni48ayN8v5Rt7hzQd9dm8HTZARv03zL7QurEDZA7Ra9lrfQJwxXfsZAFLA04n5KOqxZBsUYJ3q8N39rYI44srl8vOO1t5DEQaq8s3VnoG2i8WqUbjOwu1s78ZAvfntedTP79ZCQDr7TP3MIsPCjQMhVJfeEt0FOsAOK7wwB0CJgFcZCc2iLBNRZCukrGeZCzmlZCxf37YgYjalWfLWwWbNhik0kY8OAZD"}]}_handleError(e){return console.log("err:",e),Xe(()=>e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Us,Wy=h(()=>{"use strict";N();Us=class n{constructor(){this.initFacebookSDK()}initFacebookSDK(){window.fbAsyncInit=function(){FB.init({appId:"2280747752304909",cookie:!0,xfbml:!0,version:"v21.0"}),FB.AppEvents.logPageView()},function(e,t,r){let i=e.createElement(t),o=e.getElementsByTagName(t)[0];e.getElementById(r)||(i.id=r,i.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode?.insertBefore(i,o))}(document,"script","facebook-jssdk")}login(e="email,public_profile"){return new Promise((t,r)=>{if(typeof FB>"u")return r("Facebook SDK not loaded.");FB.login(i=>{i.authResponse?t(i.authResponse):r("User cancelled login or did not authorize.")},{scope:e})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function Kt(n){n||(vm(Kt),n=_(Nt));let e=new ee(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(fn(e))}var Bs=h(()=>{"use strict";N();we();ii();});var It,Ti=h(()=>{"use strict";N();we();Bs();N();It=class n{destroyRef=_(Nt);_msg=new fe(null);msg$=this._msg.asObservable().pipe(Er());_msgQueue$=new ge;_currentMsg=null;_msgQueueTimeout$=this._msgQueue$.pipe(un(e=>this._currentMsg?.txt===e.txt&&this._currentMsg?.type===e.type?V(null):(this._currentMsg=e,V(e).pipe(ne(()=>this._msg.next(e)),dn(1100),ne(()=>{this._msg.next(null),this._currentMsg=null})))));constructor(){this._msgQueueTimeout$.pipe(Kt()).subscribe()}_setMsg(e){this._msgQueue$.next(e)}setSuccessMsg(e){this._setMsg({txt:e,type:"success"})}setErrorMsg(e){this._setMsg({txt:e,type:"error"})}closeMsg(){this._msg.next(null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var mt,qr=h(()=>{"use strict";N();mt=class n{onClick(e){console.log("evStop clicked, stopping propagation"),e.stopPropagation()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","evStop",""]],hostBindings:function(t,r){t&1&&S("click",function(o){return r.onClick(o)})}})}});function yj(n,e){if(n&1&&(bt(0),p(1,"h1"),C(2),f(),A(3,"img",3),wt()),n&2){let t=w();m(2),Pe("Hello: ",t.logdinUser.username,"!"),m(),y("src",t.logdinUser.img?t.logdinUser.img:"../../../assets/images/contact.png",Ie)}}function _j(n,e){if(n&1){let t=z();p(0,"h1"),C(1," Welcome!"),A(2,"br"),C(3," Please login or sign up"),A(4,"br"),p(5,"span",4),A(6,"img",5),f()(),p(7,"section",6)(8,"a",7),C(9,"Login"),f(),p(10,"a",8),C(11,"Sign Up"),f(),p(12,"button",9),S("click",function(){O(t);let i=w();return T(i.loginWithFacebook())}),A(13,"img",10),p(14,"span",11),C(15,"Login with Facebook"),f()()()}}var bf,gx=h(()=>{"use strict";N();_S();we();xt();Cf();Hr();N();Wy();Ti();ct();De();qr();bf=class n{constructor(e,t,r){this.facebookService=e;this.msgService=t;this.router=r;this.user=this.userService.getEmptyUser(),this.getBitcoinRate()}user;bitCoinService=_(tf);userService=_(Ce);logdinUser=this.userService.getLoggedInUser();contactService=_(Et);contacts$;errorMessage="";BitCoinRate;subscription;arrowState="up";animationInterval;ngOnInit(){this.startArrowAnimation()}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebook(){this.facebookService.login().then(e=>{let t=e.accessToken;FB.api("/me",{fields:"id,name,email"},r=>{if(!r||r.error){console.error("Failed to fetch user info from Facebook:",r?.error),this.errorMessage="Failed to fetch Facebook user info.";return}console.log("Fetched user info:",r);let i={facebookId:r.id,name:r.name,email:r.email,accessToken:t};this.userService.loginWithFacebook(i).subscribe({next:o=>{console.log("User logged in via Facebook:",o),this.msgService.setSuccessMsg(`Login successful!!! ${o.username} is now logged in.`),this.router.navigate(["/contact"])},error:o=>{console.error("Failed to log in with Facebook on the backend:",o),this.errorMessage=o.message||"Facebook login failed.",this.msgService.setErrorMsg(this.errorMessage)}})})},e=>{console.error("Facebook login failed:",e),this.errorMessage="Facebook login popup was closed or did not authorize.",this.msgService.setErrorMsg(this.errorMessage)})}startArrowAnimation(){this.animationInterval=setInterval(()=>{this.arrowState=this.arrowState==="up"?"down":"up"},1e3)}onAnimationDone(){}getBitcoinRate(){this.subscription=this.bitCoinService.getBitCoinRate().pipe(be(1)).subscribe(e=>{this.BitCoinRate=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.animationInterval&&clearInterval(this.animationInterval)}static \u0275fac=function(t){return new(t||n)(D(Us),D(It),D(Te))};static \u0275cmp=Z({type:n,selectors:[["home-page"]],decls:4,vars:2,consts:[["welcomeMessage",""],[1,"home-page"],[4,"ngIf","ngIfElse"],["alt","user-image",1,"imgprofile",3,"src"],[1,"arrow"],["src","../../../assets/images/arrow-down1.png","alt","arrow down",1,"arrow"],[1,"auth-buttons"],["routerLink","/login",1,"login-btn"],["routerLink","/signup",1,"signup-btn"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","Facebook login",1,"fb-img"],[1,"facebook-text"]],template:function(t,r){if(t&1&&(p(0,"section",1),k(1,yj,4,2,"ng-container",2)(2,_j,16,0,"ng-template",null,0,$n),f()),t&2){let i=at(3);m(),y("ngIf",r.logdinUser)("ngIfElse",i)}},dependencies:[me,En,mt],styles:["body[_ngcontent-%COMP%]{background:url(/assets/images/keith-misner-h0Vxgz5tyXA-unsplash.jpg) no-repeat center center fixed!important;background-size:cover!important;margin:0!important;min-height:100vh!important;font-family:Arial,sans-serif!important}.home-page[_ngcontent-%COMP%]{max-width:40vw;margin:0 auto;min-height:max-content;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#ffd7b5e6,#ffa585e6);border-radius:16px;box-shadow:0 6px 25px #0003;font-family:Arial,sans-serif}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4e342e;font-size:2rem;text-align:center;margin-bottom:24px}.home-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;margin-top:10px;width:30px;height:30px;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px;width:100%;max-width:350px;align-items:center}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:8px;font-size:1rem;font-weight:700;text-align:center;text-decoration:none;transition:transform .2s ease,background-color .3s ease;cursor:pointer;background-color:#ffffffd9;color:#4e342e;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4e342e;color:#fff;transform:translateY(-2px)}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover, .home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:hover{background-color:#6b4226}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#1877f2;color:#fff;gap:10px;border:2px solid #4E342E}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   .fb-img[_ngcontent-%COMP%]{width:20px;height:20px}.home-page[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{background-color:#0b5fcc;transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.home-page[_ngcontent-%COMP%]{max-width:90%;min-height:max-content;padding:20px;margin-bottom:30px}h1[_ngcontent-%COMP%]{font-size:1.25rem}.auth-buttons[_ngcontent-%COMP%]{gap:16px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:12px 20px}}@media (max-width: 480px){.home-page[_ngcontent-%COMP%]{max-width:85%;min-height:max-content;padding:15px;margin-bottom:20px}h1[_ngcontent-%COMP%]{font-size:1.125rem}.auth-buttons[_ngcontent-%COMP%]{gap:12px}.auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;padding:10px 15px}}.imgprofile[_ngcontent-%COMP%]{width:5em;height:5em;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}"],data:{animation:[yf("bounceArrow",[qy("up",Yn({transform:"translateY(-10px)"})),qy("down",Yn({transform:"translateY(10px)"})),Ic("up <=> down",[xc("1s cubic-bezier(0.4, 0, 0.2, 1)")])])]}})}});var Dn,zs=h(()=>{"use strict";N();N();Dn=class n{constructor(e){this.elementRef=e;this.hostEl=this.elementRef.nativeElement}clickOutsideCapture=new X;hostEl;documentClickListener=null;ngOnInit(){this.documentClickListener=e=>{let t=e.target;!this.hostEl.contains(t)&&this.clickOutsideCapture.emit()},document.addEventListener("mousedown",this.documentClickListener,!0)}ngOnDestroy(){this.documentClickListener&&document.removeEventListener("mousedown",this.documentClickListener,!0)}static \u0275fac=function(t){return new(t||n)(D(Ct))};static \u0275dir=ae({type:n,selectors:[["","clickOutsideCapture",""]],outputs:{clickOutsideCapture:"clickOutsideCapture"}})}});function Cj(n,e){if(n&1){let t=z();p(0,"div",1)(1,"div",2),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.cancel())}),p(2,"p"),C(3),f(),p(4,"div",3)(5,"button",4),S("click",function(){O(t);let i=w();return T(i.confirm())}),C(6,"Yes"),f(),p(7,"button",4),S("click",function(){O(t);let i=w();return T(i.cancel())}),C(8,"No"),f()()()()}if(n&2){let t=w();m(3),ft(t.message)}}var Hs,Gy=h(()=>{"use strict";N();N();De();qr();zs();Hs=class n{isVisible=!1;message="";confirmed=new X;canceled=new X;confirm(){this.confirmed.emit()}cancel(){this.canceled.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-modal"]],inputs:{isVisible:"isVisible",message:"message"},outputs:{confirmed:"confirmed",canceled:"canceled"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],["clickOutsideCapture","","evStop","",1,"modal-content",3,"clickOutsideCapture"],[1,"modal-actions"],["evStop","",3,"click"]],template:function(t,r){t&1&&k(0,Cj,9,1,"div",0),t&2&&y("ngIf",r.isVisible)},dependencies:[me,mt,Dn],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;text-align:center;box-shadow:0 4px 6px #0003,0 1px 3px #0000001a;max-width:400px;width:90%}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:20px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;cursor:pointer}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}});var bj,wj,Ej,Ef,vx=h(()=>{"use strict";N();N();ct();Ti();Wy();De();Gy();qr();bj=(n,e)=>[n,e],wj=n=>({"long-name":n}),Ej=n=>["/contact/edit",n],Ef=class n{constructor(e,t,r){this.router=e;this.msgService=t;this.facebookService=r}contact;remove=new X;showDeleteModal=!1;ngOnInit(){}onPreviewClick(){console.log("Preview clicked:",this.contact.name),this.router.navigate([{outlets:{modal:["contact",this.contact._id]}}])}getFacebookToken(e){return e.facebookToken?e.facebookToken:(console.error("Token not available for this contact:",e.name),null)}loginWithFacebookOrRedirect(e){let t=localStorage.getItem("facebookToken");if(t){this.redirectToFacebookPage(t);return}this.facebookService.login().then(r=>{let i=r.accessToken;localStorage.setItem("facebookToken",i),e.facebookToken=i,this.redirectToFacebookPage(i)},r=>{console.error("Facebook login failed:",r),this.msgService.setErrorMsg("Facebook login failed. Please try again.")})}redirectToFacebookPage(e){let t=`https://facebook.com/me?access_token=${e}`;window.open(t,"_blank")}onDeleteClick(){this.showDeleteModal=!0}confirmDelete(){console.log(this.contact.name+" - was deleted"),this.remove.emit(this.contact._id),this.msgService.setSuccessMsg(`Delete Contact ${this.contact.name} successful!`),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onEditClick(){console.log("Edit clicked:",this.contact.name)}get isLongName(){return this.contact.name.length>10}static \u0275fac=function(t){return new(t||n)(D(Te),D(It),D(Us))};static \u0275cmp=Z({type:n,selectors:[["contact-preview"]],inputs:{contact:"contact"},outputs:{remove:"remove"},decls:14,vars:14,consts:[[1,"contact-preview",3,"click"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-info"],[1,"contact-name",3,"ngClass"],[1,"button-container"],["evStop","",1,"delete-button",3,"click"],["src","../../../assets/images/delete1.png","alt","delete image"],["evStop","",1,"edit-button",3,"click","routerLink"],["src","../../../assets/images/edit2.png","alt","edit contact"],["evStop","",1,"facebook-login-button",3,"click"],["src","../../../assets/images/fb2.png","alt","delete image",1,"fb-img"],["evStop","",3,"confirmed","canceled","isVisible","message"]],template:function(t,r){t&1&&(p(0,"article",0),S("click",function(){return r.onPreviewClick()}),A(1,"img",1),p(2,"div",2)(3,"h1",3),C(4),f()(),p(5,"div",4)(6,"button",5),S("click",function(){return r.onDeleteClick()}),A(7,"img",6),f(),p(8,"button",7),S("click",function(){return r.onEditClick()}),A(9,"img",8),f(),p(10,"button",9),S("click",function(){return r.loginWithFacebookOrRedirect(r.contact)}),A(11,"img",10),f()()(),p(12,"app-modal",11),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f(),A(13,"router-outlet")),t&2&&(m(),y("src",r.contact.img?r.contact.img:"../../../assets/images/picture.png",Ie)("ngClass",_n(7,bj,r.contact.imageSize||"medium",r.contact.imageShape||"circle")),m(2),y("ngClass",Pa(10,wj,r.isLongName)),m(),Pe(" ",r.contact.name," "),m(4),y("routerLink",Pa(12,Ej,r.contact._id)),m(4),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[fr,Wn,En,Hs,mt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;width:22em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:400px;height:17em;border-radius:20px;padding:15px;gap:10px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0000004d}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:fill}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#1c284e;font-weight:700;text-align:center}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   .contact-name.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.2;word-break:break-word}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:10px;margin-top:.5rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:2.5em;width:2.5em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 4px 6px #00000026;transition:transform .3s ease,background-color .3s ease}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8em;width:1.8em}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .facebook-login-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 3px 5px #0003}@media (max-width: 600px){[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-size:1.125rem}[_nghost-%COMP%]   .contact-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{gap:8px}}']})}});function Dj(n,e){if(n&1){let t=z();p(0,"contact-preview",2),S("remove",function(){let i=O(t).$implicit,o=w();return T(o.remove.emit(i._id))}),f()}if(n&2){let t=e.$implicit;y("contact",t)}}var Mf,yx=h(()=>{"use strict";N();ct();we();N();ct();De();vx();Mf=class n{constructor(e){this.router=e}contacts;remove=new X;destroy$=new ge;showDeleteModal=!1;ngOnInit(){console.log("ContactListComponent initialized. Contacts:",this.contacts),this.router.events.pipe(Ne(e=>e instanceof rn)).subscribe(e=>{e.url==="/contact"&&(console.log("Navigating to /contact. Resetting modal state."),this.resetModalState())})}resetModalState(){console.log("Resetting modal state in ContactListComponent."),this.showDeleteModal=!1}removeContact(e){console.log("Removing contact with ID:",e),this.remove.emit(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=Z({type:n,selectors:[["contact-list"]],inputs:{contacts:"contacts"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"contact-list"],[3,"contact","remove",4,"ngFor","ngForOf"],[3,"remove","contact"]],template:function(t,r){t&1&&(p(0,"section",0),k(1,Dj,1,1,"contact-preview",1),f()),t&2&&(m(),y("ngForOf",r.contacts))},dependencies:[pr,Ef],styles:["[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{display:grid;gap:20px;grid-template-columns:repeat(5,1fr)}@media (max-width: 1440px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 1200px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 576px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 375px){[_nghost-%COMP%]   .contact-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:auto;display:flex;background-color:#3d6d77;box-shadow:0 4px 6px #0000001a,0 1px 3px #00000014;width:300px;height:70px;border-radius:50px;align-items:center;font-family:monospace;font-weight:700;font-size:1.25rem;cursor:pointer;color:#fff}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:30px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;margin-inline-end:10px}[_nghost-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#a8c5cf;color:#1c284e}"]})}});function Ij(){let n=dr()?dr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}function Pi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Ox(n){return n!=null&&typeof n.length=="number"}function Pj(n){return e=>{if(Pi(e.value)||Pi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Aj(n){return e=>{if(Pi(e.value)||Pi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Tx(n){return Pi(n.value)?{required:!0}:null}function kj(n){return n.value===!0?null:{required:!0}}function Nj(n){return Pi(n.value)||Tj.test(n.value)?null:{email:!0}}function Px(n){return e=>Pi(e.value)||!Ox(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Rj(n){return e=>Ox(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Fj(n){if(!n)return Sf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Sf(n){return null}function Ax(n){return n!=null}function kx(n){return mi(n)?G(n):n}function Nx(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function Rx(n,e){return e.map(t=>t(n))}function Lj(n){return!n.validate}function Fx(n){return n.map(e=>Lj(e)?e:t=>e.validate(t))}function Lx(n){if(!n)return null;let e=n.filter(Ax);return e.length==0?null:function(t){return Nx(Rx(t,e))}}function e_(n){return n!=null?Lx(Fx(n)):null}function Vx(n){if(!n)return null;let e=n.filter(Ax);return e.length==0?null:function(t){let r=Rx(t,e).map(kx);return Ah(r).pipe(j(Nx))}}function t_(n){return n!=null?Vx(Fx(n)):null}function _x(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jx(n){return n._rawValidators}function Ux(n){return n._rawAsyncValidators}function Ky(n){return n?Array.isArray(n)?n:[n]:[]}function xf(n,e){return Array.isArray(n)?n.includes(e):n===e}function Cx(n,e){let t=Ky(e);return Ky(n).forEach(i=>{xf(t,i)||t.push(i)}),t}function bx(n,e){return Ky(e).filter(t=>!xf(n,t))}function n_(n){return(Rf(n)?n.validators:n)||null}function jj(n){return Array.isArray(n)?e_(n):n||null}function r_(n,e){return(Rf(e)?e.asyncValidators:n)||null}function Uj(n){return Array.isArray(n)?t_(n):n||null}function Rf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Bx(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[t])throw new x(1001,"")}function $x(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new x(1002,"")})}function zx(n,e){return[...e.path,n]}function Pf(n,e,t=Ff){i_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),$j(n,e),Hj(n,e),zj(n,e),Bj(n,e)}function wx(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Af(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Bj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function i_(n,e){let t=jx(n);e.validator!==null?n.setValidators(_x(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Ux(n);e.asyncValidator!==null?n.setAsyncValidators(_x(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Af(e._rawValidators,i),Af(e._rawAsyncValidators,i)}function kf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=jx(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=Ux(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Af(e._rawValidators,r),Af(e._rawAsyncValidators,r),t}function $j(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Hx(n,e)})}function zj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Hx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Hx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Hj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function qx(n,e){n==null,i_(n,e)}function qj(n,e){return kf(n,e)}function Wx(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Wj(n){return Object.getPrototypeOf(n.constructor)===Xy}function Gx(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Kx(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Sn?t=o:Wj(o)?r=o:i=o}),i||r||t||null}function Gj(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ex(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}function Qx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function eU(n){return n.split(":")[0]}function Sx(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function nU(n){return n.split(":")[0]}function rU(n){return typeof n=="number"?n:parseInt(n,10)}function xx(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ix,Xy,Fc,xj,Oj,Sn,xn,Ys,Tj,Ai,If,Wr,wo,Of,Vj,SJ,vr,Nf,Tc,Df,qs,Pc,ki,Tf,kc,Nc,Ws,Yy,Qy,Gs,Ks,Zy,Lc,Ff,Kj,Ac,o_,Rc,Yj,Qj,Dx,Gr,Lf,Yx,Zj,s_,Jj,a_,Xj,Vf,Zx,tU,Jx,Xx,eI,iU,c_,oU,l_,tI,Jy,nI,rI,iI,In=h(()=>{"use strict";N();N();De();we();ii();Ix=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(D(Un),D(Ct))}}static{this.\u0275dir=ae({type:n})}}return n})(),Xy=(()=>{class n extends Ix{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,features:[qt]})}}return n})(),Fc=new L(""),xj={provide:Fc,useExisting:gn(()=>Sn),multi:!0};Oj=new L(""),Sn=(()=>{class n extends Ix{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ij())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Un),D(Ct),D(Oj,8))}}static{this.\u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&S("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[nt([xj]),qt]})}}return n})();xn=new L(""),Ys=new L(""),Tj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ai=class{static min(e){return Pj(e)}static max(e){return Aj(e)}static required(e){return Tx(e)}static requiredTrue(e){return kj(e)}static email(e){return Nj(e)}static minLength(e){return Px(e)}static maxLength(e){return Rj(e)}static pattern(e){return Fj(e)}static nullValidator(e){return Sf(e)}static compose(e){return Lx(e)}static composeAsync(e){return Vx(e)}};If=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=e_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=t_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Wr=class extends If{get formDirective(){return null}get path(){return null}},wo=class extends If{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Of=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Vj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},SJ=B(M({},Vj),{"[class.ng-submitted]":"isSubmitted"}),vr=(()=>{class n extends Of{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(wo,2))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qt]})}}return n})(),Nf=(()=>{class n extends Of{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(D(Wr,10))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qt]})}}return n})(),Tc="VALID",Df="INVALID",qs="PENDING",Pc="DISABLED",ki=class{},Tf=class extends ki{constructor(e,t){super(),this.value=e,this.source=t}},kc=class extends ki{constructor(e,t){super(),this.pristine=e,this.source=t}},Nc=class extends ki{constructor(e,t){super(),this.touched=e,this.source=t}},Ws=class extends ki{constructor(e,t){super(),this.status=e,this.source=t}},Yy=class extends ki{constructor(e){super(),this.source=e}},Qy=class extends ki{constructor(e){super(),this.source=e}};Gs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=fo(()=>this.statusReactive()),this.statusReactive=uo(void 0),this._pristine=fo(()=>this.pristineReactive()),this.pristineReactive=uo(!0),this._touched=fo(()=>this.touchedReactive()),this.touchedReactive=uo(!1),this._events=new ge,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xt(this.statusReactive)}set status(e){Xt(()=>this.statusReactive.set(e))}get valid(){return this.status===Tc}get invalid(){return this.status===Df}get pending(){return this.status==qs}get disabled(){return this.status===Pc}get enabled(){return this.status!==Pc}get pristine(){return Xt(this.pristineReactive)}set pristine(e){Xt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Xt(this.touchedReactive)}set touched(e){Xt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Cx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Cx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bx(e,this._rawAsyncValidators))}hasValidator(e){return xf(this._rawValidators,e)}hasAsyncValidator(e){return xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(B(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(B(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new kc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new kc(!0,r))}markAsPending(e={}){this.status=qs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ws(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(B(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this.errors=null,this._forEachChild(i=>{i.disable(B(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tf(this.value,r)),this._events.next(new Ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this._forEachChild(r=>{r.enable(B(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(B(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tc||this.status===qs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tf(this.value,t)),this._events.next(new Ws(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(B(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pc:Tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=kx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ws(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Pc:this.errors?Df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(Df)?Df:Tc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new kc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Uj(this._rawAsyncValidators)}},Ks=class extends Gs{constructor(e,t,r){super(n_(t),r_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$x(this,!0,e),Object.keys(e).forEach(r=>{Bx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Zy=class extends Ks{},Lc=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Ff}),Ff="always";Kj={provide:Wr,useExisting:gn(()=>o_)},Ac=Promise.resolve(),o_=(()=>{class n extends Wr{get submitted(){return Xt(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=fo(()=>this.submittedReactive()),this.submittedReactive=uo(!1),this._directives=new Set,this.ngSubmit=new X,this.form=new Ks({},e_(t),t_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ac.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Pf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ac.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ac.then(()=>{let r=this._findContainer(t.path),i=new Ks({});qx(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ac.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ac.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Gx(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(D(xn,10),D(Ys,10),D(Lc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Kj]),qt]})}}return n})();Rc=class extends Gs{constructor(e=null,t,r){super(n_(t),r_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Mx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ex(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ex(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Mx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Yj=n=>n instanceof Rc,Qj={provide:wo,useExisting:gn(()=>Gr)},Dx=Promise.resolve(),Gr=(()=>{class n extends wo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Rc,this._registered=!1,this.name="",this.update=new X,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Kx(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Wx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Pf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Dx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&vi(r);Dx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?zx(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(D(Wr,9),D(xn,10),D(Ys,10),D(Fc,10),D(zn,8),D(Lc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nt([Qj]),qt,jn]})}}return n})(),Lf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Yx=new L(""),Zj={provide:Wr,useExisting:gn(()=>s_)},s_=(()=>{class n extends Wr{get submitted(){return Xt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=fo(()=>this._submittedReactive()),this._submittedReactive=uo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Pf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){wx(t.control||null,t,!1),Gj(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Gx(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Yy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Qy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(wx(r||null,t),Yj(i)&&(Pf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);qx(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&qj(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){i_(this.form,this),this._oldForm&&kf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(D(xn,10),D(Ys,10),D(Lc,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&S("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Zj]),qt,jn]})}}return n})(),Jj={provide:wo,useExisting:gn(()=>a_)},a_=(()=>{class n extends wo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Kx(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Wx(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return zx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(D(Wr,13),D(xn,10),D(Ys,10),D(Fc,10),D(Yx,8))}}static{this.\u0275dir=ae({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([Jj]),qt,jn]})}}return n})(),Xj={provide:Fc,useExisting:gn(()=>Vf),multi:!0};Vf=(()=>{class n extends Xy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Qx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=eU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([Xj]),qt]})}}return n})(),Zx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Qx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(Ct),D(Un),D(Vf,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),tU={provide:Fc,useExisting:gn(()=>Jx),multi:!0};Jx=(()=>{class n extends Xy{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=nU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&S("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[nt([tU]),qt]})}}return n})(),Xx=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Sx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Sx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(D(Ct),D(Un),D(Jx,9))}}static{this.\u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();eI=(()=>{class n{constructor(){this._validator=Sf}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Sf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ae({type:n,features:[jn]})}}return n})(),iU={provide:xn,useExisting:gn(()=>c_),multi:!0},c_=(()=>{class n extends eI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=vi,this.createValidator=t=>Tx}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ms("required",i._enabled?"":null)},inputs:{required:"required"},features:[nt([iU]),qt]})}}return n})(),oU={provide:xn,useExisting:gn(()=>l_),multi:!0},l_=(()=>{class n extends eI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>rU(t),this.createValidator=t=>Px(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(n)))(i||n)}})()}static{this.\u0275dir=ae({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ms("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[nt([oU]),qt]})}}return n})(),tI=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({})}}return n})(),Jy=class extends Gs{constructor(e,t,r){super(n_(t),r_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$x(this,!1,e),e.forEach((r,i)=>{Bx(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};nI=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return xx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ks(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Zy(i,r)}control(t,r,i){let o={};return this.useNonNullable?(xx(r)?o=r:(o.validators=r,o.asyncValidators=i),new Rc(t,B(M({},o),{nonNullable:!0}))):new Rc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Jy(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Rc)return t;if(t instanceof Gs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lc,useValue:t.callSetDisabledState??Ff}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[tI]})}}return n})(),iI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Lc,useValue:t.callSetDisabledState??Ff}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({imports:[tI]})}}return n})()});function sU(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.onClearFilter())}),C(1," \u2716 "),f()}}var jf,oI=h(()=>{"use strict";N();we();Bs();Hr();N();De();In();jf=class n{contactService=_(Et);filterBy;filterSubject$=new ge;destroyRef=_(Nt);ngOnInit(){this.contactService.filterBy$.pipe(Kt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Er(),Kt(this.destroyRef)).subscribe(()=>{this.contactService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy.name="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-filter"]],decls:4,vars:2,consts:[[1,"contact-filter"],[1,"input-wrapper"],["type","text","placeholder","Search contact",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),Ft("ngModelChange",function(o){return Wt(r.filterBy.name,o)||(r.filterBy.name=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),k(3,sU,2,0,"button",3),f()()),t&2&&(m(2),Rt("ngModel",r.filterBy.name),m(),y("ngIf",r.filterBy==null?null:r.filterBy.name))},dependencies:[me,Sn,vr,Gr],styles:[".contact-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:10px auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var Uf,sI=h(()=>{"use strict";N();Bs();Hr();N();ct();yx();oI();De();Uf=class n{contactService=_(Et);contacts$;destroyRef=_(Nt);ngOnInit(){this.loadContacts()}loadContacts(){this.contactService.loadContacts().subscribe({error:e=>console.error("Failed to load contacts:",e)}),this.contacts$=this.contactService.contacts$.pipe(Kt(this.destroyRef))}onRemoveContact(e){this.contactService.deleteContact(e).subscribe({next:()=>this.loadContacts(),error:t=>console.error("Failed to delete contact:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-index"]],decls:9,vars:3,consts:[[1,"contact-index"],["type","text","placeholder","Search contact..."],["routerLink","/contact/edit",1,"add-contact-btn"],["src","../../../../assets/images/expansion.png","alt","Add contact image"],[3,"remove","contacts"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"contact-filter"),A(2,"input",1),f(),p(3,"button",2),A(4,"img",3),p(5,"span"),C(6,"New Content"),f()(),p(7,"contact-list",4),Lt(8,"async"),S("remove",function(o){return r.onRemoveContact(o)}),f()()),t&2&&(m(7),y("contacts",Vt(8,1,r.contacts$)))},dependencies:[En,Mf,jf,Gt],styles:['@charset "UTF-8";.contact-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{padding:0;border:none;margin:10px 0 40px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:320px;height:80px;border-radius:50px;font-weight:700;font-size:1.25rem;color:#fff;cursor:pointer;transition:transform .3s ease,background-color .3s ease}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-inline-end:20px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;margin-inline-end:10px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#a8c5cf;color:#1c284e}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 4px 10px #0000004d}@media (max-width: 768px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 16px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:250px;height:60px;font-size:1.125rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}}@media (max-width: 480px){.contact-index[_ngcontent-%COMP%]   contact-filter[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 12px}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]{width:200px;height:50px;font-size:1rem}.contact-index[_ngcontent-%COMP%]   .add-contact-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}}']})}});var Bf,aI=h(()=>{"use strict";N();Bf=class n{transform(e){if(!e)return"";let t=/(https?:\/\/)?(www\.)?([^\/.]+)\.co/,r=e.match(t);if(r){let i=r[3];return`<a href="${e}" target="_blank" rel="noopener noreferrer">${i}</a>`}return e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=xa({name:"extractDomain",type:n,pure:!0})}});function lU(n,e){if(n&1&&(p(0,"div",11),A(1,"img",12),f()),n&2){let t=w().ngIf;m(),y("src",t.img?t.img:"../../../assets/images/picture.png",Ie)("ngClass",_n(2,cI,t.imageSize||"medium",t.imageShape||"circle"))}}function uU(n,e){if(n&1&&(p(0,"div",13)(1,"video",14),C(2," Your browser does not support the video tag. "),f()()),n&2){let t=w().ngIf;m(),y("src",t.video,Ie)("ngClass",_n(2,cI,t.imageSize||"medium",t.imageShape||"circle"))}}function dU(n,e){if(n&1&&(p(0,"p")(1,"strong"),C(2,"Dscription:"),f(),C(3),f()),n&2){let t=w().ngIf;m(3),Pe(" ",t.lastName,"")}}function fU(n,e){if(n&1&&(p(0,"p")(1,"strong"),C(2,"Info:"),f(),A(3,"span",15),Lt(4,"extractDomain"),f()),n&2){let t=w().ngIf;m(3),y("innerHTML",Vt(4,1,t.additionalInfo),IE)}}function pU(n,e){if(n&1){let t=z();p(0,"section",2),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.onBack())}),p(1,"section",3)(2,"button",4),S("click",function(){O(t);let i=w();return T(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),C(5,"Content Details"),f()(),p(6,"div",6),k(7,lU,2,5,"div",7)(8,uU,3,5,"div",8),f(),p(9,"div",9)(10,"p")(11,"strong"),C(12,"Name:"),f(),C(13),f(),k(14,dU,4,1,"p",10)(15,fU,5,3,"p",10),f()()}if(n&2){let t=e.ngIf;m(7),y("ngIf",t.img),m(),y("ngIf",t.video),m(5),Pe(" ",t.name,""),m(),y("ngIf",t.lastName),m(),y("ngIf",t.additionalInfo)}}var cI,$f,lI=h(()=>{"use strict";N();we();ct();N();De();ct();qr();zs();aI();cI=(n,e)=>[n,e];$f=class n{router=_(Te);route=_(Ut);subscription;contact$;ngOnInit(){this.contact$=this.route.data.pipe(j(e=>{let t=e.contact;return t&&B(M({},t),{lastName:t.lastName,birthday:t.birth,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle"})}))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["contact-details"]],decls:4,vars:3,consts:[[1,"backdrop"],["class","contact-details","evStop","",3,"clickOutsideCapture",4,"ngIf"],["evStop","",1,"contact-details",3,"clickOutsideCapture"],[1,"contact-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"media-row"],["class","contact-image-container",4,"ngIf"],["class","contact-video-container",4,"ngIf"],[1,"contact-fields"],[4,"ngIf"],[1,"contact-image-container"],["alt","contact-image",1,"contact-image",3,"src","ngClass"],[1,"contact-video-container"],["width","220","height","140","controls","",3,"src","ngClass"],[3,"innerHTML"]],template:function(t,r){t&1&&(A(0,"div",0),k(1,pU,16,5,"section",1),Lt(2,"async"),A(3,"router-outlet")),t&2&&(m(),y("ngIf",Vt(2,1,r.contact$)))},dependencies:[fr,me,Wn,mt,Dn,Gt,Bf],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.contact-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.contact-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.contact-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.contact-details[_ngcontent-%COMP%]{width:90%;padding:15px}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:350px;height:200px}@media (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:310px!important;height:200px!important;border:1px solid}}"]})}});var On,Qs=h(()=>{"use strict";we();N();On=class n{isLoadingSubject=new fe(!1);isLoading$=this.isLoadingSubject.asObservable();show(){this.isLoadingSubject.next(!0)}hide(){this.isLoadingSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var d_,uI=h(()=>{"use strict";N();Hr();we();Qs();d_=(n,e)=>{let t=n.params.id,r=_(On),i=_(Et);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getById(t).pipe(dn(250),ue(o=>(console.error("Error fetching contact:",o),V(null))),Qt(()=>r.hide()))}});function hU(n,e){if(n&1&&(p(0,"div",4),A(1,"img",5),f()),n&2){let t=w();m(),y("src",t.uploadedImageUrl,Ie)}}var Zs,f_=h(()=>{"use strict";N();N();fc();Qs();De();Zs=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}imageUploaded=new X;uploadError=new X;selectedFile=null;uploadedImageUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadImage(r)}}uploadImage(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded image URL:",t),this.imageUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the image:",t),this.uploadError.emit("Failed to upload the image"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(gr),D(On))};static \u0275cmp=Z({type:n,selectors:[["image-upload"]],outputs:{imageUploaded:"imageUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"image-upload"],["class","contact-image-container",4,"ngIf"],["for","fileInput"],["type","file","id","fileInput",3,"change","disabled"],[1,"contact-image-container"],["alt","Uploaded Image",1,"contact-image",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),k(1,hU,2,1,"div",1),p(2,"label",2),C(3,"\u05D1\u05D7\u05E8 \u05EA\u05DE\u05D5\u05E0\u05D4 \u{1F4F7}"),f(),p(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(m(),y("ngIf",r.uploadedImageUrl),m(),Bn("hidden",r.uploadedImageUrl),m(2),y("disabled",r.isLoading))},dependencies:[me],styles:[".image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem;border-radius:8px;background-color:transparent;box-shadow:none;max-width:200px;text-align:center}.image-upload[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;border:2px solid #ddd;display:flex;justify-content:center;align-items:center}.image-upload[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;width:7em;height:1em;background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003;margin-top:.5rem;visibility:visible}.image-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.image-upload[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.8rem;color:#555;max-width:150px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.image-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});function gU(n,e){if(n&1&&(p(0,"div",4),A(1,"video",5),f()),n&2){let t=w();m(),y("src",t.uploadedVideoUrl,Ie)}}var zf,fI=h(()=>{"use strict";N();N();fc();Qs();De();zf=class n{constructor(e,t){this.cloudinaryService=e;this.loaderService=t}videoUploaded=new X;uploadError=new X;selectedFile=null;uploadedVideoUrl=null;isLoading=!1;onFileSelect(e){let t=e.target;if(t.files&&t.files.length>0){let r=t.files[0];this.uploadVideo(r)}}uploadVideo(e){this.isLoading=!0,this.loaderService.show(),this.cloudinaryService.uploadImage(e).subscribe({next:t=>{console.log("Uploaded video URL:",t),this.videoUploaded.emit(t),this.isLoading=!1,this.loaderService.hide()},error:t=>{console.error("Error uploading the video:",t),this.uploadError.emit("Failed to upload the video"),this.isLoading=!1,this.loaderService.hide()}})}static \u0275fac=function(t){return new(t||n)(D(gr),D(On))};static \u0275cmp=Z({type:n,selectors:[["video-upload"]],outputs:{videoUploaded:"videoUploaded",uploadError:"uploadError"},decls:5,vars:4,consts:[[1,"video-upload"],["class","video-container",4,"ngIf"],["for","videoFileInput"],["type","file","id","videoFileInput","accept","video/*",3,"change","disabled"],[1,"video-container"],["width","220","height","140","controls","",3,"src"]],template:function(t,r){t&1&&(p(0,"div",0),k(1,gU,2,1,"div",1),p(2,"label",2),C(3,"\u05D1\u05D7\u05E8 \u05D5\u05D9\u05D3\u05D0\u05D5 \u{1F3A5}"),f(),p(4,"input",3),S("change",function(o){return r.onFileSelect(o)}),f()()),t&2&&(m(),y("ngIf",r.uploadedVideoUrl),m(),Bn("hidden",r.uploadedVideoUrl),m(2),y("disabled",r.isLoading))},dependencies:[me],styles:[".video-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.video-upload[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{width:220px;height:140px;border:2px solid #ddd;border-radius:8px;overflow:hidden}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-size:.9rem;font-weight:700;border-radius:20px;padding:.2rem .6rem;cursor:pointer;transition:all .3s;box-shadow:0 2px 4px #0003}.video-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.video-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.video-upload[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}"]})}});function vU(n,e){if(n&1){let t=z();p(0,"button",38),S("click",function(){O(t);let i=w(2);return T(i.onDeleteClick())}),A(1,"img",39),f()}}function yU(n,e){if(n&1){let t=z();p(0,"img",40),S("click",function(){O(t);let i=w(2);return T(i.toggleImageUpload())}),f()}if(n&2){let t=w(2);y("src",t.contact.img,Ie)("ngClass",_n(2,Hf,t.selectedImageSize,t.selectedImageShape))}}function _U(n,e){if(n&1){let t=z();p(0,"div",42),S("click",function(){O(t);let i=w(3);return T(i.toggleImageUpload())}),C(1),f()}if(n&2){let t,r=w(3);y("ngClass",_n(2,Hf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle")),m(),Pe(" ",r.getInitials(r.contact.name)," ")}}function CU(n,e){if(n&1){let t=z();p(0,"img",43),S("click",function(){O(t);let i=w(3);return T(i.toggleImageUpload())}),f()}if(n&2){let t,r=w(3);y("ngClass",_n(1,Hf,((t=r.form.get("imageSize"))==null?null:t.value)||"medium",((t=r.form.get("imageShape"))==null?null:t.value)||"circle"))}}function bU(n,e){if(n&1&&k(0,_U,2,5,"div",41)(1,CU,1,4,"ng-template",null,2,$n),n&2){let t=at(2),r=w(2);y("ngIf",r.contact.name)("ngIfElse",t)}}function wU(n,e){if(n&1){let t=z();p(0,"div",44)(1,"image-upload",45),S("imageUploaded",function(i){O(t);let o=w(2);return T(o.onImageUploaded(i))})("uploadError",function(i){O(t);let o=w(2);return T(o.onUploadError(i))}),f()()}}function EU(n,e){if(n&1&&(p(0,"video",46),A(1,"source",47),C(2," Your browser does not support the video tag. "),f()),n&2){let t=w(2);m(),y("src",t.contact.video,Ie)}}function MU(n,e){if(n&1){let t=z();p(0,"div",48),S("click",function(){O(t);let i=w(2);return T(i.toggleVideoUpload())}),A(1,"img",49),f()}if(n&2){let t=w(2);y("ngClass",_n(1,Hf,t.selectedImageSize,t.selectedImageShape))}}function DU(n,e){if(n&1){let t=z();p(0,"div",50)(1,"video-upload",51),S("videoUploaded",function(i){O(t);let o=w(2);return T(o.onVideoUploaded(i))})("uploadError",function(i){O(t);let o=w(2);return T(o.onUploadVideoError(i))}),f()()}}function SU(n,e){if(n&1&&(p(0,"option",52),C(1),f()),n&2){let t=e.$implicit;y("value",t.value),m(),Pe("",t.label," ")}}function xU(n,e){if(n&1&&(p(0,"option",52),C(1),f()),n&2){let t=e.$implicit;y("value",t.value),m(),Pe("",t.label," ")}}function IU(n,e){n&1&&(p(0,"span"),C(1,"Name is required!"),f())}function OU(n,e){n&1&&(p(0,"span"),C(1,"Name must be at least 3 characters long!"),f())}function TU(n,e){if(n&1&&(p(0,"p",54),k(1,IU,2,0,"span",30)(2,OU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.required),m(),y("ngIf",t.errors.minlength)}}function PU(n,e){if(n&1&&(bt(0),k(1,TU,3,2,"p",53),wt()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function AU(n,e){n&1&&(p(0,"div",55)(1,"label",56),C(2,"Description"),f(),A(3,"textarea",57),f())}function kU(n,e){n&1&&(p(0,"span"),C(1,"Description must be at least 3 characters long!"),f())}function NU(n,e){if(n&1&&(p(0,"p",54),k(1,kU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.minlength)}}function RU(n,e){if(n&1&&(bt(0),k(1,NU,2,1,"p",53),wt()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function FU(n,e){n&1&&(p(0,"span"),C(1,"Additional Info must be at least 3 characters long!"),f())}function LU(n,e){if(n&1&&(p(0,"p",54),k(1,FU,2,0,"span",30),f()),n&2){let t=w().ngIf;m(),y("ngIf",t.errors.minlength)}}function VU(n,e){if(n&1&&(bt(0),k(1,LU,2,1,"p",53),wt()),n&2){let t=e.ngIf;m(),y("ngIf",t.errors&&t.touched)}}function jU(n,e){if(n&1){let t=z();p(0,"div",58)(1,"label",59)(2,"input",60),S("change",function(i){O(t);let o=w(2);return T(o.onToggleLastName(i))}),f(),A(3,"span",61),f(),p(4,"span",62),C(5,"Add Description"),f()()}if(n&2){let t=w(2);m(2),y("checked",t.IsLastName||t.contact.lastName)}}function UU(n,e){if(n&1){let t=z();p(0,"div",5)(1,"section",6),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.onBack())}),p(2,"section",7)(3,"a",8),A(4,"img",9),f(),p(5,"h2"),C(6),f(),k(7,vU,2,0,"button",10),f(),p(8,"form",11),S("ngSubmit",function(){O(t);let i=w();return T(i.onSaveContact())}),p(9,"div",12)(10,"div",13),k(11,yU,1,5,"img",14)(12,bU,3,2,"ng-template",null,0,$n)(14,wU,2,0,"div",15),f(),p(15,"div",16)(16,"div",17),S("click",function(){O(t);let i=w();return T(i.toggleVideoUpload())}),k(17,EU,3,1,"video",18),f(),k(18,MU,2,4,"ng-template",null,1,$n)(20,DU,2,0,"div",19),f()(),p(21,"div",20)(22,"label",21),C(23,"Size:"),f(),p(24,"select",22),S("change",function(i){O(t);let o=w();return T(o.onImageSizeChange(i))}),k(25,SU,2,2,"option",23),f(),p(26,"label",24),C(27,"Shape:"),f(),p(28,"select",25),S("change",function(i){O(t);let o=w();return T(o.onImageShapeChange(i))}),k(29,xU,2,2,"option",23),f()(),p(30,"div",26)(31,"div",27)(32,"label",28),C(33,"Name"),f(),A(34,"input",29),f(),k(35,PU,2,1,"ng-container",30)(36,AU,4,0,"div",31)(37,RU,2,1,"ng-container",30),p(38,"div",32)(39,"label",33),C(40,"Add Info/ Links/ etc"),f(),A(41,"textarea",34),f(),k(42,VU,2,1,"ng-container",30),p(43,"div",35),k(44,jU,6,1,"div",36),p(45,"button",37),C(46," Save "),f()()()()()()}if(n&2){let t=at(13),r=at(19),i=w();m(6),Pe("",i.contact._id?"Edit":"Add"," Content"),m(),y("ngIf",i.contact._id),m(),y("formGroup",i.form),m(3),y("ngIf",i.contact.img)("ngIfElse",t),m(3),y("ngIf",i.showImageUpload),m(3),y("ngIf",i.contact.video)("ngIfElse",r),m(3),y("ngIf",i.showVideoUpload),m(5),y("ngForOf",i.imageSizeOptions)("ngForTrackBy",i.trackByFn),m(4),y("ngForOf",i.imageShapeOptions)("ngForTrackBy",i.trackByFn),m(6),y("ngIf",i.form.controls.name),m(),y("ngIf",i.IsLastName||i.contact.lastName),m(),y("ngIf",i.form.controls.lastName),m(5),y("ngIf",i.form.controls.additionalInfo),m(2),y("ngIf",!i.contact.lastName),m(),y("disabled",i.form.invalid)}}var Hf,jc,pI=h(()=>{"use strict";N();Hr();ct();we();In();De();N();In();De();Ti();ct();Gy();qr();zs();f_();fI();Hf=(n,e)=>[n,e];jc=class n{constructor(e,t,r,i){this.fb=e;this.datePipe=t;this.msgService=r;this.cd=i}IsLastName=!1;showImageUpload=!1;showVideoUpload=!1;form;imageSizeOptions=[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}];imageShapeOptions=[{label:"Circle",value:"circle"},{label:"Ellipse",value:"ellipse"},{label:"Square",value:"square"},{label:"Horizontal Rectangle",value:"rectangle-horizontal"},{label:"Vertical Rectangle",value:"rectangle-vertical"}];selectedImageSize="medium";selectedImageShape="circle";showDeleteModal=!1;destroySubject$=new ge;contactService=_(Et);contact=this.contactService.getEmptyContact();router=_(Te);route=_(Ut);formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")||""}ngOnInit(){let e=!!this.contact&&this.contact._id;this.form=this.fb.group({name:[e?this.contact.name:"",[Ai.required,Ai.minLength(3)]],lastName:[e?this.contact.lastName:"",[Ai.minLength(3)]],additionalInfo:[e?this.contact.additionalInfo:""],phone:[e?this.contact.phone:"",[Ai.pattern(/^\d{10,}$/)]],email:[e?this.contact.email:"",[Ai.email]],birth:[e&&this.contact.birthday?this.formatDate(new Date(this.contact.birthday)):this.formatDate(new Date)],imageSize:[e&&this.contact.imageSize?this.contact.imageSize:"medium"],imageShape:[e&&this.contact.imageShape?this.contact.imageShape:"circle"],img:[e?this.contact.img:""],video:[e?this.contact.video:""],_id:[e?this.contact._id:null]}),this.selectedImageSize=this.form.get("imageSize")?.value,this.selectedImageShape=this.form.get("imageShape")?.value,this.form.get("imageSize")?.valueChanges.pipe(fn(this.destroySubject$)).subscribe(t=>{this.selectedImageSize=t}),this.form.get("imageShape")?.valueChanges.pipe(fn(this.destroySubject$)).subscribe(t=>{this.selectedImageShape=t}),this.route.data.pipe(j(t=>t.contact),Ne(t=>!!t),fn(this.destroySubject$)).subscribe(t=>{this.contact=t;let r=t.birthday?this.formatDate(new Date(t.birthday)):this.formatDate(new Date);this.form.patchValue(B(M({},t),{birth:r,imageSize:t.imageSize||"medium",imageShape:t.imageShape||"circle",video:t.video||""})),this.selectedImageSize=t.imageSize||"medium",this.selectedImageShape=t.imageShape||"circle"})}onImageSizeChange(e){let t=e.target;this.selectedImageSize!==t.value&&(this.selectedImageSize=t.value,this.form.get("imageSize")?.setValue(t.value),console.log("Selected Image Size:",this.selectedImageSize))}onImageShapeChange(e){let t=e.target;this.selectedImageShape!==t.value&&(this.selectedImageShape=t.value,this.form.get("imageShape")?.setValue(t.value),console.log("Selected Image Shape:",this.selectedImageShape))}ngAfterViewChecked(){}trackByFn(e,t){return t.value}onDeleteClick(){this.showDeleteModal=!0}onToggleLastName(e){let t=e.target;this.IsLastName=t.checked}confirmDelete(){this.contact._id&&this.contactService.deleteContact(this.contact._id).pipe(fn(this.destroySubject$)).subscribe({next:()=>this.onBack(),error:e=>console.error("Error deleting contact:",e)}),this.showDeleteModal=!1}cancelDelete(){this.showDeleteModal=!1}onSaveContact(){if(this.form.invalid){this.form.markAllAsTouched(),console.log("Form is invalid, please correct the errors.");return}let e=M({},this.form.value);e.birth=new Date(e.birth).getTime(),!e.img&&this.contact.img&&(e.img=this.contact.img),console.log("Form values before saving:",e),console.log("Data being sent to saveContact:",e),e.imageSize=this.selectedImageSize,e.imageShape=this.selectedImageShape,console.log("Saving Contact:",e),console.log("Saving Contact Data:",this.form.value),this.contactService.saveContact(e).pipe(fn(this.destroySubject$)).subscribe({next:()=>{this.msgService.setSuccessMsg(`Contact ${this.contact.name} saved successfully.`),console.log("Contact saved successfully."),this.onBack()},error:t=>{console.log("Error saving contact:",t)}})}onBack=()=>{console.log("Navigating back to /contact"),this.contact=this.contactService.getEmptyContact(),this.router.navigateByUrl("/contact")};ngOnDestroy(){this.destroySubject$.next(),this.destroySubject$.complete(),this.contact=this.contactService.getEmptyContact()}onImageUploaded(e){console.log("Image uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.img=e,this.form.patchValue({img:e}),this.showImageUpload=!1,this.cd.detectChanges(),this.form.contains("img")?this.form.patchValue({img:e}):console.warn('The form does not contain an "img" control.'),this.contact._id?this.contactService.updateContactImage(this.contact._id,e).subscribe({next:t=>{console.log("Contact image updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact picture updated successfully!")},error:t=>{console.error("Failed to update contact image:",t),this.msgService.setErrorMsg("Failed to update contact picture.")}}):console.log("Contact does not have an ID yet. Image update will be saved with the form submission.")}onUploadError(e){console.error("Image upload error:",e),this.msgService.setErrorMsg(e)}toggleImageUpload(){this.showImageUpload=!this.showImageUpload}getInitials(e){return!e||!e.trim()?"":e.charAt(0).toUpperCase()}onVideoUploaded(e){console.log("Video uploaded successfully, URL:",e),this.contact||(console.warn("No contact object available. Initializing a new contact."),this.contact=this.contactService.getEmptyContact()),this.contact.video=e,this.form.patchValue({video:e}),this.showVideoUpload=!1,this.contact._id?this.contactService.updateContactVideo(this.contact._id,e).subscribe({next:t=>{console.log("Contact video updated successfully:",t),this.contact=t,this.msgService.setSuccessMsg("Contact video updated successfully!")},error:t=>{console.error("Failed to update contact video:",t),this.msgService.setErrorMsg("Failed to update contact video.")}}):console.log("Contact does not have an ID yet. Video update will be saved with the form submission.")}onUploadVideoError(e){console.error("Video upload error:",e),this.msgService.setErrorMsg(e)}toggleVideoUpload(){this.showVideoUpload=!this.showVideoUpload}static \u0275fac=function(t){return new(t||n)(D(nI),D(Md),D(It),D(zn))};static \u0275cmp=Z({type:n,selectors:[["contact-edit"]],features:[nt([Md])],decls:3,vars:3,consts:[["fallback",""],["videoFallback",""],["defaultAvatar",""],["class","contact-edit-container",4,"ngIf"],["evStop","",3,"confirmed","canceled","isVisible","message"],[1,"contact-edit-container"],[1,"flex","column","contact-edit",3,"clickOutsideCapture"],[1,"contact-actions"],["routerLink","/contact"],["src","../../../assets/images/back.png","alt","go back"],[3,"click",4,"ngIf"],[1,"flex","column",3,"ngSubmit","formGroup"],[1,"media-row"],[1,"contact-image-container"],["class","contact-image",3,"src","ngClass","click",4,"ngIf","ngIfElse"],["class","image-upload-section",4,"ngIf"],[1,"contact-video-container"],[1,"video-wrapper",3,"click"],["width","220","height","140","controls","",4,"ngIf","ngIfElse"],["class","video-upload-section",4,"ngIf"],[1,"image-settings"],["for","imageSize"],["id","imageSize","formControlName","imageSize",3,"change"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","imageShape"],["id","imageShape","formControlName","imageShape",3,"change"],[1,"flex","column"],[1,"form-input"],["for","name"],["formControlName","name","placeholder","Contact name","id","name"],[4,"ngIf"],["class","desc form-input",4,"ngIf"],[1,"form-input","desc"],["for","additionalInfo"],["formControlName","additionalInfo","placeholder","Enter text, links, or anything...","id","additionalInfo",1,"lastName"],[1,"form-actions"],["class","switch-container",4,"ngIf"],["type","submit",1,"save-btn",3,"disabled"],[3,"click"],["src","../../../assets/images/delete1.png","alt","delete image",1,"delete-img"],[1,"contact-image",3,"click","src","ngClass"],["class","default-avatar",3,"ngClass","click",4,"ngIf","ngIfElse"],[1,"default-avatar",3,"click","ngClass"],["src","../../../assets/images/picture.png","alt","Default Contact Image",1,"contact-image",3,"click","ngClass"],[1,"image-upload-section"],[3,"imageUploaded","uploadError"],["width","220","height","140","controls",""],["type","video/mp4",3,"src"],[1,"default-video-avatar",3,"click","ngClass"],["src","../../../assets/images/video.png","alt","Default Video Placeholder"],[1,"video-upload-section"],[3,"videoUploaded","uploadError"],[3,"value"],["class","errors",4,"ngIf"],[1,"errors"],[1,"desc","form-input"],["for","lastName"],["formControlName","lastName","placeholder","Enter description...","id","description"],[1,"switch-container"],[1,"switch"],["type","checkbox",3,"change","checked"],[1,"slider","round"],[1,"switch-label"]],template:function(t,r){t&1&&(k(0,UU,47,19,"div",3),p(1,"section")(2,"app-modal",4),S("confirmed",function(){return r.confirmDelete()})("canceled",function(){return r.cancelDelete()}),f()()),t&2&&(y("ngIf",r.contact),m(2),y("isVisible",r.showDeleteModal)("message","Are you sure you want to delete this contact?"))},dependencies:[fr,pr,me,En,Lf,Zx,Xx,Sn,Vf,vr,Nf,s_,a_,Hs,mt,Dn,Zs,zf],styles:['@charset "UTF-8";.contact-edit-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#0006;z-index:1000}.contact-edit[_ngcontent-%COMP%]{width:30em;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;padding:20px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);display:flex;flex-direction:column;border-radius:12px;z-index:1001}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;cursor:pointer;background:none;border:none;display:flex;justify-content:center;align-items:center}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;margin-bottom:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#bdc3c7;font-size:48px;font-weight:700;color:#34495e;cursor:pointer;transition:transform .3s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;display:flex;align-items:center;justify-content:center;width:36px;height:36px;background-color:#f1c40f;border-radius:50%;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]:hover{background-color:#34495e;transform:scale(1.1)}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-block-end:30px;font-weight:700;font-size:1.5rem;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-block-end:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1.125rem;color:#34495e;margin-bottom:5px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:1rem;width:100%;border:1px solid #bdc3c7;border-radius:6px;color:#34495e}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:80px;padding:8px;font-size:16px;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;background-color:#fff;resize:vertical;font-family:Roboto,sans-serif}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none;box-shadow:0 0 5px #f1c40f80}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .desc.form-input[_ngcontent-%COMP%]   textarea.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:20px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;transition:background-color .2s ease,transform .2s ease}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:disabled, .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:10px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:3em;height:1.3em}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#f1c40f}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#bdc3c7;transition:.4s;border-radius:34px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:1em;width:1em;left:4px;bottom:2.5px;background-color:#fff;transition:.4s;border-radius:50%}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]   .switch-label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e}@media (max-width: 768px){.contact-edit[_ngcontent-%COMP%]{width:90%;padding:15px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px;height:100px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:36px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:30px;height:30px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.875rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{gap:15px}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.875rem;width:100%}.contact-edit[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}}@media (max-width: 480px){.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{font-size:.75rem}.contact-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{gap:3px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:80px;height:80px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:28px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]{width:25px;height:25px}.contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .image-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}}.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease}.contact-image.small[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .small.default-avatar[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .medium.default-avatar[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .large.default-avatar[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .circle.default-avatar[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .ellipse.default-avatar[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .square.default-avatar[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-horizontal.default-avatar[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   .rectangle-vertical.default-avatar[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}.image-settings[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:15px;font-weight:700;color:#34495e}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:5px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:130px;padding:5px;border-radius:6px;border:1px solid #ccc;background-color:#fff;text-align:center;font-size:14px;font-weight:500;transition:all .3s ease-in-out;cursor:pointer}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#f39c12;box-shadow:0 0 5px #f39c1280}@media (max-width: 480px){.image-settings[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:8px}.image-settings[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.image-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:7em;font-size:13px;margin-right:.7em}}.media-row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;gap:2rem;margin-bottom:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0;margin-top:1rem;display:flex;flex-direction:column;align-items:center}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #ccc;border-radius:8px;object-fit:cover;width:220px;height:140px;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .video-upload-section[_ngcontent-%COMP%]{margin-top:.5rem}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#eee;width:160px!important;height:100px!important;border:1px solid;background:beige}.contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;opacity:.6}@media screen and (max-width: 768px){.media-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:1rem}.contact-video-container[_ngcontent-%COMP%]{margin-top:0!important}.contact-video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], .contact-video-container[_ngcontent-%COMP%]   .default-video-avatar[_ngcontent-%COMP%]{width:200px!important;height:120px!important;border:1px solid;background:beige}.contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.contact-image[_ngcontent-%COMP%], .contact-edit[_ngcontent-%COMP%]   .contact-image-container[_ngcontent-%COMP%]   img.default-avatar[_ngcontent-%COMP%], .contact-image-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100px!important;height:100px!important}}.upload-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.upload-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.upload-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#333}.video-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.video-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000}']})}});function hI(){let n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return e=>{let t=e.value;return t?n.test(t)?null:{email:!0}:null}}function gI(n){return e=>e.value?new Promise(t=>{e.valueChanges.pipe(Lh(200),Er(),Re(r=>n.loadUsers())).subscribe({next:r=>{let i=r.some(o=>o.email.toLowerCase()===e.value.toLowerCase());t(i?{emailTaken:!0}:null)},error:()=>{t(null)}})}):Promise.resolve(null)}function mI(){return n=>{let e=n.value;if(!e)return null;let t=6,r=/[A-Z]/.test(e),i=/[!@#$%^&*(),.?":{}|<>]/.test(e),o={};return e.length<t&&(o.minlength={requiredLength:t,actualLength:e.length}),r||(o.noCapitalLetter=!0),i||(o.noSpecialChar=!0),Object.keys(o).length===0?null:o}}var qf=h(()=>{"use strict";we();Hr()});var Wf,vI=h(()=>{"use strict";In();qf();N();Wf=class n{validate(e){return hI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appEmailValidator",""]],features:[nt([{provide:xn,useExisting:n,multi:!0}])]})}});var Gf,yI=h(()=>{"use strict";In();qf();N();xt();Gf=class n{constructor(e){this.userService=e}validate(e){return gI(this.userService)(e)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275dir=ae({type:n,selectors:[["","appEmailTaken",""]],features:[nt([{provide:Ys,useExisting:n,multi:!0}])]})}});var Kf,_I=h(()=>{"use strict";In();qf();N();Kf=class n{validate(e){return mI()(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appPasswordValidator",""]],features:[nt([{provide:xn,useExisting:n,multi:!0}])]})}});var Yf,CI=h(()=>{"use strict";In();N();Yf=class n{validate(e){return e.value&&e.value.trim().split(/\s+/).length<2?{fullName:"Username must include first name and last name."}:null}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ae({type:n,selectors:[["","appFullNameValidator",""]],features:[nt([{provide:xn,useExisting:n,multi:!0}])]})}});function qU(n,e){n&1&&(p(0,"span"),C(1,"Email is required."),f())}function WU(n,e){n&1&&(p(0,"span"),C(1,"Please enter a valid email address."),f())}function GU(n,e){if(n&1&&(p(0,"div",14),k(1,qU,2,0,"span",6)(2,WU,2,0,"span",6),f()),n&2){w();let t=at(4);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.email)}}function KU(n,e){if(n&1){let t=z();bt(0),p(1,"label",12),C(2,"Email:"),f(),p(3,"input",13,2),Ft("ngModelChange",function(i){O(t);let o=w();return Wt(o.user.email,i)||(o.user.email=i),T(i)}),f(),k(5,GU,3,2,"div",9),A(6,"br"),wt()}if(n&2){let t=at(4),r=w();m(3),Rt("ngModel",r.user.email),m(2),y("ngIf",t.touched&&t.invalid)}}function YU(n,e){n&1&&(p(0,"span"),C(1,"Full name is required."),f())}function QU(n,e){n&1&&(p(0,"span"),C(1," Full name must be at least 3 characters long. "),f())}function ZU(n,e){if(n&1&&(p(0,"div",14),k(1,YU,2,0,"span",6)(2,QU,2,0,"span",6),f()),n&2){w();let t=at(4);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.minlength)}}function JU(n,e){n&1&&(p(0,"span"),C(1,"Email is required."),f())}function XU(n,e){n&1&&(p(0,"span"),C(1,"Please enter a valid email address."),f())}function eB(n,e){n&1&&(p(0,"span"),C(1,"This email is already registered."),f())}function tB(n,e){if(n&1&&(p(0,"div",14),k(1,JU,2,0,"span",6)(2,XU,2,0,"span",6)(3,eB,2,0,"span",6),f()),n&2){w();let t=at(10);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.email),m(),y("ngIf",t.errors==null?null:t.errors.emailTaken)}}function nB(n,e){n&1&&(p(0,"div",19),C(1," Checking email availability... "),f())}function rB(n,e){if(n&1){let t=z();bt(0),p(1,"label",15),C(2,"Full Name:"),f(),p(3,"input",16,3),Ft("ngModelChange",function(i){O(t);let o=w();return Wt(o.user.username,i)||(o.user.username=i),T(i)}),f(),k(5,ZU,3,2,"div",9),A(6,"br"),p(7,"label",12),C(8,"Email:"),f(),p(9,"input",17,2),Ft("ngModelChange",function(i){O(t);let o=w();return Wt(o.user.email,i)||(o.user.email=i),T(i)}),f(),k(11,tB,4,3,"div",9)(12,nB,2,0,"div",18),A(13,"br"),wt()}if(n&2){let t=at(4),r=at(10),i=w();m(3),Rt("ngModel",i.user.username),m(2),y("ngIf",t.touched&&t.invalid),m(4),Rt("ngModel",i.user.email),m(2),y("ngIf",r.touched&&r.invalid),m(),y("ngIf",r.pending)}}function iB(n,e){n&1&&(p(0,"span"),C(1,"Password is required."),f())}function oB(n,e){n&1&&(p(0,"span"),C(1,"Password must be at least 6 characters long."),f())}function sB(n,e){n&1&&(p(0,"span"),C(1,"Password must contain at least one capital letter."),f())}function aB(n,e){n&1&&(p(0,"span"),C(1,"Password must contain at least one special character."),f())}function cB(n,e){if(n&1&&(p(0,"div",14),k(1,iB,2,0,"span",6)(2,oB,2,0,"span",6)(3,sB,2,0,"span",6)(4,aB,2,0,"span",6),f()),n&2){w();let t=at(10);m(),y("ngIf",t.errors==null?null:t.errors.required),m(),y("ngIf",t.errors==null?null:t.errors.minlength),m(),y("ngIf",t.errors==null?null:t.errors.noCapitalLetter),m(),y("ngIf",t.errors==null?null:t.errors.noSpecialChar)}}function lB(n,e){if(n&1&&(p(0,"p",14),C(1),f()),n&2){let t=w();m(),ft(t.errorMessage)}}var Uc,bI=h(()=>{"use strict";N();xt();ct();Ti();De();In();vI();yI();_I();CI();Uc=class n{constructor(e,t,r,i){this.userService=e;this.router=t;this.msgService=r;this.route=i;this.user=this.userService.getEmptyUser()}user;isSignupMode=!1;errorMessage="";ngOnInit(){this.route.url.subscribe(e=>{this.isSignupMode=e[0]?.path==="signup"})}handleInputChange(e,t){this.user=B(M({},this.user),{[e]:t})}toggleMode(){this.isSignupMode=!this.isSignupMode,this.errorMessage="";let e=this.isSignupMode?"/signup":"/login";this.router.navigate([e]).then(()=>{this.isSignupMode=e==="/signup"})}onSubmit(){this.errorMessage="",this.isSignupMode?this.userService.saveUser(this.user).subscribe({next:()=>{this.userService.login(this.user.email,this.user.password).subscribe({next:()=>{this.msgService.setSuccessMsg(`Signup successful! ${this.user.username} is now logged in.`),this.router.navigate(["/contact"])},error:()=>{this.errorMessage="Signup successful, but login failed. Please log in manually."}})},error:()=>{this.errorMessage="Signup failed. Please try again."}}):this.userService.login(this.user.email,this.user.password).subscribe({next:e=>{this.msgService.setSuccessMsg(`Login successful!!! ${e.username} is now logged in.`),this.router.navigate(["/contact"])},error:e=>{this.errorMessage=e.message||"Invalid username or password.",this.msgService.setErrorMsg(this.errorMessage)}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(It),D(Ut))};static \u0275cmp=Z({type:n,selectors:[["login-sign-up"]],decls:21,vars:10,consts:[["form","ngForm"],["password","ngModel"],["email","ngModel"],["username","ngModel"],[1,"login-signup-container"],[3,"ngSubmit"],[4,"ngIf"],["for","password"],["id","password","type","password","name","password","required","","appPasswordValidator","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit",3,"disabled"],["href","#",3,"click"],["for","email"],["id","email","type","text","name","email","required","","appEmailValidator","",3,"ngModelChange","ngModel"],[1,"error-message"],["for","username"],["id","username","type","text","name","username","required","","minlength","3","appFullNameValidator","",3,"ngModelChange","ngModel"],["id","email","type","text","name","email","required","","appEmailValidator","","appEmailTaken","",3,"ngModelChange","ngModel"],["class","validation-pending",4,"ngIf"],[1,"validation-pending"]],template:function(t,r){if(t&1){let i=z();p(0,"div",4)(1,"h4"),C(2),f(),p(3,"form",5,0),S("ngSubmit",function(){return O(i),T(r.onSubmit())}),k(5,KU,7,2,"ng-container",6)(6,rB,14,5,"ng-container",6),p(7,"label",7),C(8,"Password:"),f(),p(9,"input",8,1),Ft("ngModelChange",function(s){return O(i),Wt(r.user.password,s)||(r.user.password=s),T(s)}),f(),k(11,cB,5,4,"div",9),A(12,"br"),p(13,"button",10),C(14),f(),p(15,"p"),C(16),p(17,"a",11),S("click",function(s){return O(i),r.toggleMode(),T(s.preventDefault())}),C(18),f()(),A(19,"br"),f(),k(20,lB,2,1,"p",9),f()}if(t&2){let i=at(4),o=at(10);m(2),ft(r.isSignupMode?"Create an Account":"Sign In"),m(3),y("ngIf",!r.isSignupMode),m(),y("ngIf",r.isSignupMode),m(3),Rt("ngModel",r.user.password),m(2),y("ngIf",o.touched&&o.invalid),m(2),y("disabled",i.invalid),m(),Pe(" ",r.isSignupMode?"Sign Up":"Log In"," "),m(2),Pe(" ",r.isSignupMode?"Already have an account?":"Don\u2019t have an account?"," "),m(2),Pe(" ",r.isSignupMode?"Sign in here":"Create an account"," "),m(2),y("ngIf",r.errorMessage)}},dependencies:[me,Lf,Sn,vr,Nf,c_,l_,Gr,o_,Wf,Gf,Kf,Yf],styles:['.login-signup-container[_ngcontent-%COMP%]{width:25em;margin:0 auto;padding:20px;border-radius:12px;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:30px;font-weight:700;font-size:1.5rem;color:#34495e;text-align:center}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:#34495e;margin-bottom:5px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border:1px solid #bdc3c7;border-radius:6px;color:#34495e;transition:border-color .3s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bdc3c7}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#f1c40f;outline:none}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-valid[_ngcontent-%COMP%]{border-color:green;background-color:#f6fff6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border-color:red;background-color:#fff6f6}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-weight:600;font-size:1rem;background-color:#f1c40f;color:#2c3e50;border:none;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff;transform:scale(1.05)}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-top:15px}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f1c40f;text-decoration:none;font-weight:600}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin:-4px 0 12px}.login-signup-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:4px 0}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic;margin:-4px 0 12px;display:flex;align-items:center;gap:6px}.login-signup-container[_ngcontent-%COMP%]   .validation-pending[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:12px;height:12px;border:2px solid #007bff;border-radius:50%;border-right-color:transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.login-signup-container[_ngcontent-%COMP%]{width:90%;padding:15px}.login-signup-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem}.login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-signup-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px}}.hint-message[_ngcontent-%COMP%]{font-size:.9em;color:#dc3545;margin-top:5px}']})}});var Eo,wI=h(()=>{"use strict";N();ct();xt();we();Ti();Eo=(n,e)=>{let t=_(Ce),r=_(Te),i=_(It);return t.loggedInUser$.pipe(dn(100),j(o=>o?!0:(i.setErrorMsg("Please login to access this page"),r.createUrlTree(["/login"]))))}});var Qf,EI=h(()=>{"use strict";N();Qf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["privacy-policy"]],decls:92,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["property","og:title","content","Privacy Policy - My Accounts App"],["property","og:description","content","Read our privacy policy to understand how we handle your data."],["property","og:image","content","https://res.cloudinary.com/dzqnyehxn/image/upload/v1738934484/global-security_ck7dkn.png"],["property","og:image:width","content","1200"],["property","og:image:height","content","630"],["property","og:url","content","https://backend-my-accounts.onrender.com/privacy-policy"],["property","og:type","content","website"],[1,"container"]],template:function(t,r){t&1&&(p(0,"html",0)(1,"head"),A(2,"meta",1)(3,"meta",2),p(4,"title"),C(5,"Privacy Policy - My Accounts App"),f(),A(6,"meta",3)(7,"meta",4)(8,"meta",5)(9,"meta",6)(10,"meta",7)(11,"meta",8)(12,"meta",9),f(),p(13,"body")(14,"div",10)(15,"h1"),C(16,"Privacy Policy for My Accounts App"),f(),p(17,"p")(18,"strong"),C(19,"Effective Date:"),f(),C(20," 07/02/2025"),f(),p(21,"p"),C(22,"Welcome to "),p(23,"strong"),C(24,"My Accounts App"),f(),C(25,". Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your personal information when you use our app and services."),f(),p(26,"h2"),C(27,"1. Information We Collect"),f(),p(28,"ul")(29,"li")(30,"strong"),C(31,"Personal Information:"),f(),C(32," Name, email address, phone number, and other details provided during registration."),f(),p(33,"li")(34,"strong"),C(35,"Usage Data:"),f(),C(36," Information about your interactions with our app, such as login timestamps, pages viewed, and actions taken."),f(),p(37,"li")(38,"strong"),C(39,"Device Information:"),f(),C(40," IP address, browser type, and operating system."),f()(),p(41,"h2"),C(42,"2. How We Use Your Information"),f(),p(43,"ul")(44,"li"),C(45,"Provide, operate, and improve our app and services."),f(),p(46,"li"),C(47,"Personalize your experience."),f(),p(48,"li"),C(49,"Ensure security and prevent fraudulent activities."),f(),p(50,"li"),C(51,"Comply with legal requirements."),f()(),p(52,"h2"),C(53,"3. Sharing of Information"),f(),p(54,"ul")(55,"li"),C(56,"We do not sell or rent your personal information."),f(),p(57,"li")(58,"strong"),C(59,"Service Providers:"),f(),C(60," Third-party vendors that help us operate our app."),f(),p(61,"li")(62,"strong"),C(63,"Legal Authorities:"),f(),C(64," When required by law or to protect our rights."),f()(),p(65,"h2"),C(66,"4. Data Retention & Security"),f(),p(67,"p"),C(68,"We store your data only as long as necessary to provide our services. We implement security measures to protect your personal information, but no method of transmission over the internet is 100% secure."),f(),p(69,"h2"),C(70,"5. Your Rights"),f(),p(71,"ul")(72,"li"),C(73,"Access and review your personal data."),f(),p(74,"li"),C(75,"Request correction or deletion of your information."),f(),p(76,"li"),C(77,"Opt-out of marketing communications."),f()(),p(78,"h2"),C(79,"6. Third-Party Links"),f(),p(80,"p"),C(81,"Our app may contain links to external websites. We are not responsible for the privacy practices of these third parties."),f(),p(82,"h2"),C(83,"7. Changes to This Policy"),f(),p(84,"p"),C(85,"We may update this Privacy Policy from time to time. Any changes will be posted on this page with the updated effective date."),f(),p(86,"h2"),C(87,"8. Contact Us"),f(),p(88,"p"),C(89,"If you have any questions about this Privacy Policy, you can contact us at:"),f(),p(90,"p"),C(91,"\u{1F4E7} luzifere@gmail.com"),f()()()())},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;max-width:800px;margin:auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 0 10px #0000001a;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#2c3e50}ul[_ngcontent-%COMP%]{margin-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}","body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%], body[_ngcontent-%COMP%]:has(.click-outside)   .click-outside[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:all}body[_ngcontent-%COMP%]:has(.click-outside)   [_ngcontent-%COMP%]:not(.click-outside, .click-outside[_ngcontent-%COMP%]   *)[_ngcontent-%COMP%]{pointer-events:none}.contact-image[_ngcontent-%COMP%], .default-avatar[_ngcontent-%COMP%]{object-fit:cover;transition:all .3s ease;border:3px solid #f1c40f;padding:7px}.contact-image.small[_ngcontent-%COMP%], .default-avatar.small[_ngcontent-%COMP%]{width:80px!important;height:80px!important;min-width:80px!important;min-height:80px!important}.contact-image.medium[_ngcontent-%COMP%], .default-avatar.medium[_ngcontent-%COMP%]{width:120px!important;height:120px!important;min-width:120px!important;min-height:120px!important}.contact-image.large[_ngcontent-%COMP%], .default-avatar.large[_ngcontent-%COMP%]{width:160px!important;height:160px!important;min-width:160px!important;min-height:160px!important}.contact-image.circle[_ngcontent-%COMP%], .default-avatar.circle[_ngcontent-%COMP%]{border-radius:50%!important}.contact-image.ellipse[_ngcontent-%COMP%], .default-avatar.ellipse[_ngcontent-%COMP%]{border-radius:50%/30%!important}.contact-image.square[_ngcontent-%COMP%], .default-avatar.square[_ngcontent-%COMP%]{border-radius:0!important}.contact-image.rectangle-horizontal[_ngcontent-%COMP%], .default-avatar.rectangle-horizontal[_ngcontent-%COMP%]{width:300px!important;height:200px!important;border-radius:5px!important}.contact-image.rectangle-vertical[_ngcontent-%COMP%], .default-avatar.rectangle-vertical[_ngcontent-%COMP%]{width:100px!important;height:200px!important;border-radius:5px!important}"]})}});function dB(n,e){if(n&1){let t=z();p(0,"user-list",6),S("remove",function(i){O(t);let o=w();return T(o.onRemoveUser(i))}),f()}if(n&2){let t,r=e.ngIf;y("users",(t=r)!==null&&t!==void 0?t:OM(1,uB))}}function fB(n,e){if(n&1){let t=z();p(0,"div",7),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.closeChat("group"))}),p(1,"div",8)(2,"span",9),S("click",function(){O(t);let i=w();return T(i.closeChat("group"))}),C(3,"\xD7"),f(),p(4,"app-chat",10),S("closeChat",function(){O(t);let i=w();return T(i.closeChat("group"))}),f()()()}n&2&&(m(4),y("chatType","group"))}var uB,Ni,Zf=h(()=>{"use strict";N();Bs();we();xt();js();N();uB=()=>[];Ni=class n{userService=_(Ce);socketService=_(Mn);users$;destroyRef=_(Nt);isGroupChatOpen=!1;isPrivateChatOpen=!1;unreadPrivateMessagesCount=0;unreadMessagesMap=new Map;unreadMessagesTimestamps=new Map;ngOnInit(){this.loadUsers(),this.socketService.onPrivateMessage(e=>{console.log("\u{1F4E9} New private message received:",e),this.unreadMessagesMap.has(e.sender)||this.unreadMessagesMap.set(e.sender,new fe(0));let t=this.unreadMessagesMap.get(e.sender);t&&t.next(t.value+1),this.unreadMessagesTimestamps.set(e.sender,Date.now()),this.sortUsersByLastMessage()})}sortUsersByLastMessage(){this.users$=this.userService.users$.pipe(Kt(this.destroyRef),j(e=>e.sort((t,r)=>{let i=this.unreadMessagesTimestamps.get(t._id)||0;return(this.unreadMessagesTimestamps.get(r._id)||0)-i})))}getUnreadMessagesCount(e){return this.unreadMessagesMap.has(e)||this.unreadMessagesMap.set(e,new fe(0)),this.unreadMessagesMap.get(e).asObservable()}resetUnreadMessages(e){this.unreadMessagesMap.has(e)&&this.unreadMessagesMap.get(e).next(0)}loadUsers(){this.userService.loadUsers().subscribe({error:e=>console.error("Failed to load users:",e)}),this.sortUsersByLastMessage(),this.users$=this.userService.users$.pipe(Kt(this.destroyRef))}openChat(e){e==="group"?this.isGroupChatOpen=!0:e==="private"&&(this.isPrivateChatOpen=!0,this.unreadPrivateMessagesCount=0,setTimeout(()=>{let t=document.querySelector("app-chat");t&&t.openChat&&t.openChat()},0))}closeChat(e){e==="group"?this.isGroupChatOpen=!1:e==="private"&&(this.isPrivateChatOpen=!1)}showNotification(e,t){"Notification"in window&&Notification.requestPermission().then(r=>{r==="granted"&&new Notification(e,{body:t})})}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.loadUsers(),error:t=>console.error("Failed to delete user:",t)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-index"]],decls:7,vars:4,consts:[[1,"user-index"],[1,"filter-container"],[3,"users","remove",4,"ngIf"],[1,"chat-button","group-chat-btn",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/social_cvhg3i.png","alt","group-chat",1,"send-btn"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],[3,"remove","users"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType"]],template:function(t,r){t&1&&(p(0,"section",0),A(1,"user-filter",1),k(2,dB,1,2,"user-list",2),Lt(3,"async"),f(),p(4,"button",3),S("click",function(){return r.openChat("group")}),A(5,"img",4),f(),k(6,fB,5,1,"div",5)),t&2&&(m(2),y("ngIf",Vt(3,2,r.users$)),m(4),y("ngIf",r.isGroupChatOpen))},styles:['@charset "UTF-8";.user-index[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;font-family:Roboto,sans-serif}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100%;max-width:600px;margin-bottom:10px}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.user-index[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.chat-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:50px;cursor:pointer;font-size:16px;margin-left:10px;transition:all .3s ease-in-out}.chat-button[_ngcontent-%COMP%]:hover{opacity:.8}.group-chat-btn[_ngcontent-%COMP%]{right:150px;background:linear-gradient(90deg,#34495e,#2c3e50)}.send-btn[_ngcontent-%COMP%]{max-width:4em}.private-chat-btn[_ngcontent-%COMP%]{right:20px;background-color:#28a745}.chat-modal[_ngcontent-%COMP%]{bottom:0;right:20px;width:1px;height:1px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;z-index:1000;display:flex;flex-direction:column}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:12px;border-radius:50%;padding:4px 8px;position:absolute;top:5px;right:5px}@media (max-width: 768px){.user-index[_ngcontent-%COMP%]{padding:10px}.filter-container[_ngcontent-%COMP%]{max-width:100%}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.875rem;padding:8px 15px}.chat-button[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px;bottom:15em}.group-chat-btn[_ngcontent-%COMP%]{right:1em!important}.private-chat-btn[_ngcontent-%COMP%]{right:10px}}@media (max-width: 480px){.user-index[_ngcontent-%COMP%]{padding:5px}.filter-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-size:.75rem;padding:6px 10px}.chat-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.group-chat-btn[_ngcontent-%COMP%]{right:70px}.private-chat-btn[_ngcontent-%COMP%]{right:5px}.chat-modal[_ngcontent-%COMP%]{width:90%;right:5%;height:auto;bottom:10px}}']})}});function hB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),ft(t.username)}}function gB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),Pe("",t.username.substring(0,15),"...")}}function mB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),ft(t.email)}}function vB(n,e){if(n&1&&(p(0,"span"),C(1),f()),n&2){let t=w().ngIf;m(),Pe("",t.email.substring(0,20),"...")}}function yB(n,e){if(n&1){let t=z();p(0,"section",2)(1,"section",3)(2,"button",4),S("click",function(){O(t);let i=w();return T(i.onBack())}),A(3,"img",5),f(),p(4,"h1"),C(5,"User Details"),f()(),p(6,"div",6),A(7,"img",7),f(),p(8,"div",8)(9,"p")(10,"strong"),C(11,"Username:"),f(),k(12,hB,2,1,"span",9)(13,gB,2,1,"span",9),f(),p(14,"p")(15,"strong"),C(16,"Email:"),f(),k(17,mB,2,1,"span",9)(18,vB,2,1,"span",9),f()()()}if(n&2){let t=e.ngIf,r=w();m(7),y("src",t.img?t.img:"../../../assets/images/contact.png",Ie),m(5),y("ngIf",!r.isLongField(t.username,15)),m(),y("ngIf",r.isLongField(t.username,15)),m(4),y("ngIf",!r.isLongField(t.email,20)),m(),y("ngIf",r.isLongField(t.email,20))}}var Jf,MI=h(()=>{"use strict";N();we();ct();xt();N();De();ct();Jf=class n{router=_(Te);route=_(Ut);subscription;userService=_(Ce);user$;ngOnInit(){this.user$=this.route.data.pipe(j(e=>e.user))}onBack(){this.router.navigate([{outlets:{modal:null}}])}ngOnDestroy(){this.subscription?.unsubscribe()}isLongField(e,t){return e?e.length>t:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-details"]],decls:4,vars:3,consts:[[1,"backdrop",3,"click"],["class","user-details",4,"ngIf"],[1,"user-details"],[1,"user-header"],[3,"click"],["src","../../../assets/images/back.png","alt","go back"],[1,"user-image-container"],["alt","user-image",3,"src"],[1,"user-fields"],[4,"ngIf"]],template:function(t,r){t&1&&(p(0,"div",0),S("click",function(){return r.onBack()}),f(),k(1,yB,19,5,"section",1),Lt(2,"async"),A(3,"router-outlet")),t&2&&(m(),y("ngIf",Vt(2,1,r.user$)))},dependencies:[me,Wn,Gt],styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999}.user-details[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:28em;background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);padding:25px;border-radius:12px;box-shadow:0 6px 15px #0000004d;font-family:Roboto,sans-serif;display:flex;flex-direction:column}.user-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #ddd}.user-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;flex-grow:1;margin:0;font-weight:600}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.user-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.user-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px 0}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:3px solid #f1c40f;object-fit:cover;transition:transform .3s ease}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.user-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left;font-size:1.1rem;padding:10px 20px}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;color:#34495e}.user-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}@media (max-width: 768px){.user-details[_ngcontent-%COMP%]{width:90%;padding:15px}.user-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}});var DI,SI=h(()=>{"use strict";N();xt();we();Qs();DI=(n,e)=>{let t=n.params.id,r=_(On),i=_(Ce);return r.show(),!t||t.trim()===""?(console.warn("Invalid or missing ID in route params"),r.hide(),V(null)):i.getUserById(t).pipe(dn(250),ue(o=>(console.error("Error fetching user:",o),V(null))),Qt(()=>r.hide()))}});var _B,Xf,xI=h(()=>{"use strict";ct();gx();sI();lI();uI();pI();bI();wI();EI();Zf();MI();SI();N();_B=[{path:"contact",component:Uf,canActivate:[Eo],children:[{path:"edit",component:jc,canActivate:[Eo]},{path:"edit/:id",component:jc,resolve:{contact:d_},canActivate:[Eo]}]},{path:"contact/:id",component:$f,outlet:"modal",resolve:{contact:d_},canActivate:[Eo]},{path:"login",component:Uc},{path:"signup",component:Uc},{path:"privacy-policy",component:Qf},{path:"users",component:Ni,canActivate:[Eo]},{path:"user/:id",component:Jf,outlet:"modal",resolve:{user:DI},canActivate:[Eo]},{path:"",component:bf}],Xf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n});static \u0275inj=Ye({imports:[my.forRoot(_B,{useHash:!1}),my]})}});function wB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}function tp(){try{return typeof indexedDB=="object"}catch{return!1}}function np(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function AI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}function IB(n,e){return n.replace(OB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}function rp(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(II(o)&&II(s)){if(!rp(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function II(n){return n!==null&&typeof n=="object"}function ip(n){return n&&n._delegate?n._delegate:n}var OI,CB,TI,p_,bB,h_,PI,EB,MB,DB,SB,g_,ep,xB,Kr,Yr,OB,qee,Js=h(()=>{"use strict";OI=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},TI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,v=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(v=64)),r.push(t[u],t[d],t[v],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new p_;let v=o<<2|a>>4;if(r.push(v),l!==64){let g=a<<4&240|l>>2;if(r.push(g),d!==64){let b=l<<6&192|d;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},p_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bB=function(n){let e=OI(n);return TI.encodeByteArray(e,!0)},h_=function(n){return bB(n).replace(/\./g,"")},PI=function(n){try{return TI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};EB=()=>wB().__FIREBASE_DEFAULTS__,MB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&PI(n[1]);return e&&JSON.parse(e)},SB=()=>{try{return EB()||MB()||DB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},g_=()=>{var n;return(n=SB())===null||n===void 0?void 0:n.config};ep=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};xB="FirebaseError",Kr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=xB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yr.prototype.create)}},Yr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?IB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kr(i,a,r)}};OB=/\{\$([^}]+)}/g;qee=4*60*60*1e3;});function TB(n){return n===Mo?void 0:n}function PB(n){return n.instantiationMode==="EAGER"}var sn,Mo,m_,op,sp=h(()=>{"use strict";Js();sn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};Mo="[DEFAULT]";m_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ep;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PB(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};op=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new m_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}});var AB,$e,kB,NB,RB,LB,ap,kI=h(()=>{"use strict";AB=[],$e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}($e||{}),kB={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},NB=$e.INFO,RB={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},LB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=RB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ap=class{constructor(e){this.name=e,this._logLevel=NB,this._logHandler=LB,this._userLogHandler=null,AB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}});function jB(){return NI||(NI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UB(){return RI||(RI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}function BB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Qn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&FI.set(t,n)}).catch(()=>{}),C_.set(e,n),e}function $B(n){if(y_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});y_.set(n,e)}function VI(n){__=n(__)}function zB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(cp(this),e,...t);return LI.set(r,e.sort?e.sort():[e]),Qn(r)}:UB().includes(n)?function(...e){return n.apply(cp(this),e),Qn(FI.get(this))}:function(...e){return Qn(n.apply(cp(this),e))}}function HB(n){return typeof n=="function"?zB(n):(n instanceof IDBTransaction&&$B(n),VB(n,jB())?new Proxy(n,__):n)}function Qn(n){if(n instanceof IDBRequest)return BB(n);if(v_.has(n))return v_.get(n);let e=HB(n);return e!==n&&(v_.set(n,e),C_.set(e,n)),e}var VB,NI,RI,FI,y_,LI,v_,C_,__,cp,b_=h(()=>{"use strict";VB=(n,e)=>e.some(t=>n instanceof t);FI=new WeakMap,y_=new WeakMap,LI=new WeakMap,v_=new WeakMap,C_=new WeakMap;__={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return y_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};cp=n=>C_.get(n)});function Do(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Qn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Qn(s.result),c.oldVersion,c.newVersion,Qn(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function lp(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Qn(t).then(()=>{})}function jI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w_.get(e))return w_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=WB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qB.includes(t)))return;let o=function(s,...a){return P(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return w_.set(e,o),o}var qB,WB,w_,up=h(()=>{"use strict";b_();b_();qB=["get","getKey","getAll","getAllKeys","count"],WB=["put","add","delete","clear"],w_=new Map;VI(n=>B(M({},n),{get:(e,t,r)=>jI(e,t)||n.get(e,t,r),has:(e,t)=>!!jI(e,t)||n.has(e,t)}))});function GB(n){let e=n.getComponent();return e?.type==="VERSION"}function BI(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zr(n){let e=n.name;if(x_.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,n);for(let t of dp.values())BI(t,n);for(let t of b3.values())BI(t,n);return!0}function $c(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function P_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:S_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(t||(t=g_()),!t)throw Ri.create("no-options");let o=dp.get(i);if(o){if(rp(t,o.options)&&rp(r,o.config))return o;throw Ri.create("duplicate-app",{appName:i})}let s=new op(i);for(let c of x_.values())s.addComponent(c);let a=new I_(t,r,s);return dp.set(i,a),a}function A_(n=S_){let e=dp.get(n);if(!e&&n===S_&&g_())return P_();if(!e)throw Ri.create("no-app",{appName:n});return e}function Zn(n,e,t){var r;let i=(r=C3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}Zr(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function qI(){return E_||(E_=Do(E3,M3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ri.create("idb-open",{originalErrorMessage:n.message})})),E_}function D3(n){return P(this,null,function*(){try{let t=(yield qI()).transaction(Bc),r=yield t.objectStore(Bc).get(WI(n));return yield t.done,r}catch(e){if(e instanceof Kr)Qr.warn(e.message);else{let t=Ri.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}})}function $I(n,e){return P(this,null,function*(){try{let r=(yield qI()).transaction(Bc,"readwrite");yield r.objectStore(Bc).put(e,WI(n)),yield r.done}catch(t){if(t instanceof Kr)Qr.warn(t.message);else{let r=Ri.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(r.message)}}})}function WI(n){return`${n.name}!${n.options.appId}`}function zI(){return new Date().toISOString().substring(0,10)}function I3(n,e=S3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),HI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}function HI(n){return h_(JSON.stringify({version:2,heartbeats:n})).length}function O3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function T3(n){Zr(new sn("platform-logger",e=>new M_(e),"PRIVATE")),Zr(new sn("heartbeat",e=>new O_(e),"PRIVATE")),Zn(D_,UI,n),Zn(D_,UI,"esm2017"),Zn("fire-js","")}var M_,D_,UI,Qr,KB,YB,QB,ZB,JB,XB,e3,t3,n3,r3,i3,o3,s3,a3,c3,l3,u3,d3,f3,p3,h3,g3,m3,v3,y3,_3,S_,C3,dp,b3,x_,w3,Ri,I_,E3,M3,Bc,E_,S3,x3,O_,T_,zc=h(()=>{"use strict";sp();kI();Js();Js();up();M_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};D_="@firebase/app",UI="0.11.0";Qr=new ap("@firebase/app"),KB="@firebase/app-compat",YB="@firebase/analytics-compat",QB="@firebase/analytics",ZB="@firebase/app-check-compat",JB="@firebase/app-check",XB="@firebase/auth",e3="@firebase/auth-compat",t3="@firebase/database",n3="@firebase/data-connect",r3="@firebase/database-compat",i3="@firebase/functions",o3="@firebase/functions-compat",s3="@firebase/installations",a3="@firebase/installations-compat",c3="@firebase/messaging",l3="@firebase/messaging-compat",u3="@firebase/performance",d3="@firebase/performance-compat",f3="@firebase/remote-config",p3="@firebase/remote-config-compat",h3="@firebase/storage",g3="@firebase/storage-compat",m3="@firebase/firestore",v3="@firebase/vertexai",y3="@firebase/firestore-compat",_3="firebase";S_="[DEFAULT]",C3={[D_]:"fire-core",[KB]:"fire-core-compat",[QB]:"fire-analytics",[YB]:"fire-analytics-compat",[JB]:"fire-app-check",[ZB]:"fire-app-check-compat",[XB]:"fire-auth",[e3]:"fire-auth-compat",[t3]:"fire-rtdb",[n3]:"fire-data-connect",[r3]:"fire-rtdb-compat",[i3]:"fire-fn",[o3]:"fire-fn-compat",[s3]:"fire-iid",[a3]:"fire-iid-compat",[c3]:"fire-fcm",[l3]:"fire-fcm-compat",[u3]:"fire-perf",[d3]:"fire-perf-compat",[f3]:"fire-rc",[p3]:"fire-rc-compat",[h3]:"fire-gcs",[g3]:"fire-gcs-compat",[m3]:"fire-fst",[y3]:"fire-fst-compat",[v3]:"fire-vertex","fire-js":"fire-js",[_3]:"fire-js-all"};dp=new Map,b3=new Map,x_=new Map;w3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Yr("app","Firebase",w3);I_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}};E3="firebase-heartbeat-database",M3=1,Bc="firebase-heartbeat-store",E_=null;S3=1024,x3=30,O_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new T_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>x3){let s=O3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=zI(),{heartbeatsToSend:r,unsentEntries:i}=I3(this._heartbeatsCache.heartbeats),o=h_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qr.warn(t),""}})}};T_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return tp()?np().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield D3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $I(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $I(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};T3("")});var P3,A3,GI=h(()=>{"use strict";zc();zc();P3="firebase",A3="11.3.0";Zn(P3,A3,"app")});function eO(n){return n instanceof Kr&&n.code.includes("request-failed")}function tO({projectId:n}){return`${k3}/projects/${n}/installations`}function nO(n){return{token:n.token,requestStatus:2,expiresIn:j3(n.expiresIn),creationTime:Date.now()}}function rO(n,e){return P(this,null,function*(){let r=(yield e.json()).error;return xo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function iO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function V3(n,{refreshToken:e}){let t=iO(n);return t.append("Authorization",U3(e)),t}function oO(n){return P(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function j3(n){return Number(n.replace("s","000"))}function U3(n){return`${XI} ${n}`}function B3(r,i){return P(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=tO(n),s=iO(n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:t,authVersion:XI,appId:n.appId,sdkVersion:JI},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield oO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:nO(d.authToken)}}else throw yield rO("Create Installation",u)})}function sO(n){return new Promise(e=>{setTimeout(e,n)})}function $3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}function H3(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=q3(n);return z3.test(t)?t:R_}catch{return R_}}function q3(n){return $3(n).substr(0,22)}function pp(n){return`${n.appName}!${n.appId}`}function cO(n,e){let t=pp(n);lO(t,e),W3(t,e)}function lO(n,e){let t=aO.get(n);if(t)for(let r of t)r(e)}function W3(n,e){let t=G3();t&&t.postMessage({key:n,fid:e}),K3()}function G3(){return!So&&"BroadcastChannel"in self&&(So=new BroadcastChannel("[Firebase] FID Change"),So.onmessage=n=>{lO(n.data.key,n.data.fid)}),So}function K3(){aO.size===0&&So&&(So.close(),So=null)}function L_(){return k_||(k_=Do(Y3,Q3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Io)}}})),k_}function fp(n,e){return P(this,null,function*(){let t=pp(n),i=(yield L_()).transaction(Io,"readwrite"),o=i.objectStore(Io),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&cO(n,e.fid),e})}function uO(n){return P(this,null,function*(){let e=pp(n),r=(yield L_()).transaction(Io,"readwrite");yield r.objectStore(Io).delete(e),yield r.done})}function hp(n,e){return P(this,null,function*(){let t=pp(n),i=(yield L_()).transaction(Io,"readwrite"),o=i.objectStore(Io),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&cO(n,a.fid),a})}function V_(n){return P(this,null,function*(){let e,t=yield hp(n.appConfig,r=>{let i=Z3(r),o=J3(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===R_?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Z3(n){let e=n||{fid:H3(),registrationStatus:0};return dO(e)}function J3(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(xo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=X3(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:e$(n)}:{installationEntry:e}}function X3(n,e){return P(this,null,function*(){try{let t=yield B3(n,e);return fp(n.appConfig,t)}catch(t){throw eO(t)&&t.customData.serverCode===409?yield uO(n.appConfig):yield fp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function e$(n){return P(this,null,function*(){let e=yield KI(n.appConfig);for(;e.registrationStatus===1;)yield sO(100),e=yield KI(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield V_(n);return r||t}return e})}function KI(n){return hp(n,e=>{if(!e)throw xo.create("installation-not-found");return dO(e)})}function dO(n){return t$(n)?{fid:n.fid,registrationStatus:0}:n}function t$(n){return n.registrationStatus===1&&n.registrationTime+ZI<Date.now()}function n$(r,i){return P(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=r$(n,t),s=V3(n,t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:JI,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield oO(()=>fetch(o,l));if(u.ok){let d=yield u.json();return nO(d)}else throw yield rO("Generate Auth Token",u)})}function r$(n,{fid:e}){return`${tO(n)}/${e}/authTokens:generate`}function j_(n,e=!1){return P(this,null,function*(){let t,r=yield hp(n.appConfig,o=>{if(!fO(o))throw xo.create("not-registered");let s=o.authToken;if(!e&&s$(s))return o;if(s.requestStatus===1)return t=i$(n,e),o;{if(!navigator.onLine)throw xo.create("app-offline");let a=c$(o);return t=o$(n,a),a}});return t?yield t:r.authToken})}function i$(n,e){return P(this,null,function*(){let t=yield YI(n.appConfig);for(;t.authToken.requestStatus===1;)yield sO(100),t=yield YI(n.appConfig);let r=t.authToken;return r.requestStatus===0?j_(n,e):r})}function YI(n){return hp(n,e=>{if(!fO(e))throw xo.create("not-registered");let t=e.authToken;return l$(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function o$(n,e){return P(this,null,function*(){try{let t=yield n$(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield fp(n.appConfig,r),t}catch(t){if(eO(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield uO(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield fp(n.appConfig,r)}throw t}})}function fO(n){return n!==void 0&&n.registrationStatus===2}function s$(n){return n.requestStatus===2&&!a$(n)}function a$(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+N3}function c$(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function l$(n){return n.requestStatus===1&&n.requestTime+ZI<Date.now()}function u$(n){return P(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield V_(e);return r?r.catch(console.error):j_(e).catch(console.error),t.fid})}function d$(n,e=!1){return P(this,null,function*(){let t=n;return yield f$(t),(yield j_(t,e)).token})}function f$(n){return P(this,null,function*(){let{registrationPromise:e}=yield V_(n);e&&(yield e)})}function p$(n){if(!n||!n.options)throw N_("App Configuration");if(!n.name)throw N_("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw N_(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function N_(n){return xo.create("missing-app-config-values",{valueName:n})}function v$(){Zr(new sn(pO,g$,"PUBLIC")),Zr(new sn(h$,m$,"PRIVATE"))}var QI,F_,ZI,JI,XI,k3,N3,R3,F3,L3,xo,z3,R_,aO,So,Y3,Q3,Io,k_,pO,h$,g$,m$,hO=h(()=>{"use strict";zc();sp();Js();up();QI="@firebase/installations",F_="0.6.12";ZI=1e4,JI=`w:${F_}`,XI="FIS_v2",k3="https://firebaseinstallations.googleapis.com/v1",N3=60*60*1e3,R3="installations",F3="Installations";L3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xo=new Yr(R3,F3,L3);z3=/^[cdef][\w-]{21}$/,R_="";aO=new Map;So=null;Y3="firebase-installations-database",Q3=1,Io="firebase-installations-store",k_=null;pO="installations",h$="installations-internal",g$=n=>{let e=n.getProvider("app").getImmediate(),t=p$(e),r=$c(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},m$=n=>{let e=n.getProvider("app").getImmediate(),t=$c(e,pO).getImmediate();return{getId:()=>u$(t),getToken:i=>d$(t,i)}};v$();Zn(QI,F_);Zn(QI,F_,"esm2017")});function Jr(n){let e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function M$(n){let e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function S$(n){return P(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(U_))return null;let e=null;return(yield Do(U_,D$,{upgrade:(r,i,o,s)=>P(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(mO))return;let c=s.objectStore(mO),l=yield c.index("fcmSenderId").get(n);if(yield c.clear(),!!l){if(i===2){let u=l;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Jr(u.vapidKey)}}}else if(i===3){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jr(u.auth),p256dh:Jr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jr(u.vapidKey)}}}else if(i===4){let u=l;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Jr(u.auth),p256dh:Jr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Jr(u.vapidKey)}}}}})})).close(),yield lp(U_),yield lp("fcm_vapid_details_db"),yield lp("undefined"),x$(e)?e:null})}function x$(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}function EO(){return B_||(B_=Do(I$,O$,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Hc)}}})),B_}function T$(n){return P(this,null,function*(){let e=MO(n),r=yield(yield EO()).transaction(Hc).objectStore(Hc).get(e);if(r)return r;{let i=yield S$(n.appConfig.senderId);if(i)return yield H_(n,i),i}})}function H_(n,e){return P(this,null,function*(){let t=MO(n),i=(yield EO()).transaction(Hc,"readwrite");return yield i.objectStore(Hc).put(e,t),yield i.done,e})}function MO({appConfig:n}){return n.appId}function A$(n,e){return P(this,null,function*(){let t=yield W_(n),r=DO(e),i={method:"POST",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(q_(n.appConfig),i)).json()}catch(s){throw Ot.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Ot.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Ot.create("token-subscribe-no-token");return o.token})}function k$(n,e){return P(this,null,function*(){let t=yield W_(n),r=DO(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)},o;try{o=yield(yield fetch(`${q_(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Ot.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Ot.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Ot.create("token-update-no-token");return o.token})}function N$(n,e){return P(this,null,function*(){let r={method:"DELETE",headers:yield W_(n)};try{let o=yield(yield fetch(`${q_(n.appConfig)}/${e}`,r)).json();if(o.error){let s=o.error.message;throw Ot.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Ot.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function q_({projectId:n}){return`${C$}/projects/${n}/registrations`}function W_(t){return P(this,arguments,function*({appConfig:n,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function DO({p256dh:n,auth:e,endpoint:t,vapidKey:r}){let i={web:{endpoint:t,auth:e,p256dh:n}};return r!==bO&&(i.web.applicationPubKey=r),i}function F$(n){return P(this,null,function*(){let e=yield V$(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Jr(e.getKey("auth")),p256dh:Jr(e.getKey("p256dh"))},r=yield T$(n.firebaseDependencies);if(r){if(j$(r.subscriptionOptions,t))return Date.now()>=r.createTime+R$?L$(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield N$(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return vO(n.firebaseDependencies,t)}else return vO(n.firebaseDependencies,t)})}function L$(n,e){return P(this,null,function*(){try{let t=yield k$(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield H_(n.firebaseDependencies,r),t}catch(t){throw t}})}function vO(n,e){return P(this,null,function*(){let r={token:yield A$(n,e),createTime:Date.now(),subscriptionOptions:e};return yield H_(n,r),r.token})}function V$(n,e){return P(this,null,function*(){let t=yield n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:M$(e)})})}function j$(n,e){let t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,i=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&i&&o}function yO(n){let e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return U$(e,n),B$(e,n),$$(e,n),e}function U$(n,e){if(!e.notification)return;n.notification={};let t=e.notification.title;t&&(n.notification.title=t);let r=e.notification.body;r&&(n.notification.body=r);let i=e.notification.image;i&&(n.notification.image=i);let o=e.notification.icon;o&&(n.notification.icon=o)}function B$(n,e){e.data&&(n.data=e.data)}function $$(n,e){var t,r,i,o,s;if(!e.fcmOptions&&!(!((t=e.notification)===null||t===void 0)&&t.click_action))return;n.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(n.fcmOptions.link=a);let c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}function z$(n){return typeof n=="object"&&!!n&&wO in n}function H$(n,e){let t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function q$(n){if(!n||!n.options)throw $_("App Configuration Object");if(!n.name)throw $_("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(let r of e)if(!t[r])throw $_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function $_(n){return Ot.create("missing-app-config-values",{valueName:n})}function W$(n){return P(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(y$,{scope:_$}),n.swRegistration.update().catch(()=>{}),yield G$(n.swRegistration)}catch(e){throw Ot.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function G$(n){return P(this,null,function*(){return new Promise((e,t)=>{let r=setTimeout(()=>t(new Error(`Service worker not registered after ${gO} ms`)),gO),i=n.installing||n.waiting;n.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})})}function K$(n,e){return P(this,null,function*(){if(!e&&!n.swRegistration&&(yield W$(n)),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ot.create("invalid-sw-registration");n.swRegistration=e}})}function Y$(n,e){return P(this,null,function*(){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=bO)})}function SO(n,e){return P(this,null,function*(){if(!navigator)throw Ot.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Ot.create("permission-blocked");return yield Y$(n,e?.vapidKey),yield K$(n,e?.serviceWorkerRegistration),F$(n)})}function Q$(n,e,t){return P(this,null,function*(){let r=Z$(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[wO],message_name:t[b$],message_time:t[w$],message_device_time:Math.floor(Date.now()/1e3)})})}function Z$(n){switch(n){case gp.NOTIFICATION_CLICKED:return"notification_open";case gp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function J$(n,e){return P(this,null,function*(){let t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===gp.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(yO(t)):n.onMessageHandler.next(yO(t)));let r=t.data;z$(r)&&r[E$]==="1"&&(yield Q$(n,t.messageType,r))})}function t5(){Zr(new sn("messaging",X$,"PUBLIC")),Zr(new sn("messaging-internal",e5,"PRIVATE")),Zn(_O,CO),Zn(_O,CO,"esm2017")}function n5(){return P(this,null,function*(){try{yield np()}catch{return!1}return typeof window<"u"&&tp()&&AI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function r5(n,e){if(!navigator)throw Ot.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function xO(n=A_()){return n5().then(e=>{if(!e)throw Ot.create("unsupported-browser")},e=>{throw Ot.create("indexed-db-unsupported")}),$c(ip(n),"messaging").getImmediate()}function IO(n,e){return P(this,null,function*(){return n=ip(n),SO(n,e)})}function OO(n,e){return n=ip(n),r5(n,e)}var y$,_$,bO,C$,wO,b$,w$,E$,gO,gp,U_,D$,mO,I$,O$,Hc,B_,P$,Ot,R$,z_,_O,CO,X$,e5,TO=h(()=>{"use strict";hO();sp();up();Js();zc();y$="/firebase-messaging-sw.js",_$="/firebase-cloud-messaging-push-scope",bO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",C$="https://fcmregistrations.googleapis.com/v1",wO="google.c.a.c_id",b$="google.c.a.c_l",w$="google.c.a.ts",E$="google.c.a.e",gO=1e4;gp=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(gp||{});U_="fcm_token_details_db",D$=5,mO="fcm_token_object_Store";I$="firebase-messaging-database",O$=1,Hc="firebase-messaging-store",B_=null;P$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ot=new Yr("messaging","Messaging",P$);R$=7*24*60*60*1e3;H$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");z_=class{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=q$(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}};_O="@firebase/messaging",CO="0.12.16";X$=n=>{let e=new z_(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>J$(e,t)),e},e5=n=>{let e=n.getProvider("messaging").getImmediate();return{getToken:r=>SO(e,r)}};t5()});var PO=h(()=>{"use strict";TO()});function i5(n){return Gi(()=>Xe(new Error(n)))}function o5(n,e,t,r){return()=>{if(!(Dd(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(_e),o=n.get(Cn);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[a,...c]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=V(null);break;case"registerWithDelay":s=kO(+c[0]||0);break;case"registerWhenStable":let l=G(n.get(Cn).whenStable());s=c[0]?$l(l,kO(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function kO(n){return V(null).pipe(dn(n))}function s5(n,e){return new Xs(Dd(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}function a5(n,e={}){return ps([mp,vp,{provide:AO,useValue:n},{provide:qc,useValue:e},{provide:Xs,useFactory:s5,deps:[qc,Jt]},{provide:_s,useFactory:o5,deps:[et,AO,qc,Jt],multi:!0}])}var Wc,Xs,mp,vp,AO,qc,NO,G_=h(()=>{"use strict";N();N();De();we();ii();Wc="Service workers are disabled or not supported by this browser";Xs=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=i5(Wc);else{let r=Ko(e,"controllerchange").pipe(j(()=>e.controller)),i=Gi(()=>V(e.controller)),o=nr(i,r);this.worker=o.pipe(Ne(u=>!!u)),this.registration=this.worker.pipe(Re(()=>e.getRegistration()));let l=Ko(e,"message").pipe(j(u=>u.data)).pipe(Ne(u=>u&&u.type)).pipe(qh());l.connect(),this.events=l}}postMessage(e,t){return this.worker.pipe(be(1),ne(r=>{r.postMessage(M({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ne(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ne(t=>t.nonce===e),be(1),j(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},mp=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ge,!t.isEnabled){this.messages=Ki,this.notificationClicks=Ki,this.subscription=Ki;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(i=>i.data)),this.pushManager=this.sw.registration.pipe(j(i=>i.pushManager));let r=this.pushManager.pipe(Re(i=>i.getSubscription()));this.subscription=$l(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Wc));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Re(s=>s.subscribe(r)),be(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wc));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),Re(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||n)(F(Xs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),vp=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Ki,this.unrecoverable=Ki;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wc));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||n)(F(Xs))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();AO=new L("");qc=class{};NO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[a5(t,r)]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:[mp,vp]})}}return n})()});var Fi,yp=h(()=>{"use strict";we();cc();N();G_();La();ea();Fi=class n{constructor(e,t,r,i){this.swPush=e;this.http=t;this.swUpdate=r;this.firebaseService=i;console.log("\u{1F680} NotificationService Initialized",{vapidPublicKey:this.VAPID_PUBLIC_KEY?"\u2705 Present":"\u274C Missing",serviceWorkerEnabled:e.isEnabled}),this.loadVapidPublicKey().then(()=>{console.log("\u2705 VAPID Key Loaded at startup:",this.VAPID_PUBLIC_KEY)}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(o=>{if(o.type==="VERSION_READY"){let s=o;console.log("\u{1F504} Service Worker Update Available",{currentVersion:s.currentVersion,latestVersion:s.latestVersion})}})}VAPID_PUBLIC_KEY="";isSubscriptionRequested=!1;getLatestSubscription(){return P(this,null,function*(){try{let e=yield Wi(this.http.get(`${gt.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e?.token?(console.log("\u2705 Subscription retrieved from server:",e.token),e.token):(console.warn("\u26A0\uFE0F No valid subscription found on server."),null)}catch(e){return console.error("\u274C Error retrieving subscription from server:",e),null}})}saveSubscription(e){return P(this,null,function*(){console.log("\u{1F4E9} Saving subscription to server:",e);try{yield Wi(this.http.post(`${gt.baseURL}/notification`,{token:e.token},{withCredentials:!0,headers:{"Content-Type":"application/json"}})),console.log("\u2705 Subscription saved successfully.")}catch(t){console.error("\u274C Error saving subscription:",t)}})}sendNotification(e){return P(this,null,function*(){console.log("\u{1F680} Preparing to send notification:",e);try{console.log("\u23F3 Checking existing FCM token...");let t=yield this.requestSubscription();if(t)console.log("\u2705 Found existing FCM token:",t);else{console.error("\u274C FCM token request failed, cannot send notification.");return}console.log("\u{1F4E1} Payload before sending to server:",JSON.stringify({title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},null,2)),console.log("\u{1F4E1} Sending notification to server");let r=yield Wi(this.http.post(`${gt.baseURL}/notification/send`,{title:e.title,body:e.body,wakeUpApp:!0,token:t,icon:e.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:e.vibrate||[200,100,200],tag:e.tag||"message",requireInteraction:e.requireInteraction??!0,type:e.type??"regular",silent:e.type==="keep-alive"},{withCredentials:!0,headers:{"Content-Type":"application/json"}}));console.log("\u2705 Notification sent successfully",{timestamp:new Date().toISOString()}),console.log("\u2705 Notification response",{response:r})}catch(t){throw console.error("\u274C Error sending notification:",t),t}})}requestSubscription(){return P(this,null,function*(){if(this.isSubscriptionRequested)return console.log("\u{1F504} Subscription \u05DB\u05D1\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D4. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05D4 \u05D7\u05D5\u05D6\u05E8\u05EA."),yield this.firebaseService.getFCMToken();this.isSubscriptionRequested=!0,console.log("\u{1F504} Checking existing subscription...");let e=yield this.firebaseService.getFCMToken();if(e)return console.log("\u2705 Found existing token:",e),e;console.log("\u{1F680} No valid token found. Requesting a new one...");try{return e=yield this.firebaseService.getFCMToken(),e?(console.log("\u{1F4E1} Token received:",e),yield this.saveSubscription({token:e}),e):(console.error("\u274C Failed to retrieve FCM token. Aborting subscription."),null)}catch(t){return console.error("\u274C Error requesting FCM token:",t),null}})}getExistingSubscription(){return P(this,null,function*(){console.log("\u{1F504} Fetching existing subscription from server...");try{let e=yield Wi(this.http.get(`${gt.baseURL}/notification/get-subscription`,{withCredentials:!0}));return e.subscription?(console.log("\u2705 Existing Subscription:",e.subscription),e.subscription):(console.warn("\u26A0\uFE0F No subscription found in DB"),null)}catch(e){return console.error("\u274C Failed to fetch existing subscription:",e),null}})}loadVapidPublicKey(){return P(this,null,function*(){try{let e=yield Wi(this.http.get(`${gt.baseURL}/notification/vapid-public-key`));this.VAPID_PUBLIC_KEY=e.vapidPublicKey,console.log("\u2705 Loaded VAPID Public Key from server:",this.VAPID_PUBLIC_KEY)}catch(e){console.error("\u274C Failed to load VAPID Public Key:",e)}})}urlBase64ToUint8Array(e){console.log("\u{1F511} Converting Base64 to Uint8Array",{inputLength:e.length});let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return console.log("\u2705 Conversion complete",{outputLength:o.length}),o}startKeepAliveNotifications(){setInterval(()=>P(this,null,function*(){console.log("\u{1F504} Sending keep-alive notification...");try{yield this.sendNotification({title:"\u{1F504} Keep Alive",body:"Ensuring the app stays awake...",wakeUpApp:!0,silent:!0,vibrate:[],autoDismiss:!0,type:"keep-alive"}),console.log("\u2705 Keep-alive notification sent.")}catch(e){console.error("\u274C Failed to send keep-alive notification",e)}}),3e4)}getMessages(){return console.log("\u{1F5B1}\uFE0F Listening to Notification Clicks",{timestamp:new Date().toISOString()}),this.swPush.messages}getNotificationClicks(){return this.swPush.notificationClicks}isPushEnabled(){return this.swPush.isEnabled}static \u0275fac=function(t){return new(t||n)(F(mp),F(po),F(vp),F(Tn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var u5,Tn,ea=h(()=>{"use strict";N();GI();PO();we();yp();xt();N();u5={apiKey:"AIzaSyD6YVTQRO_GtEp_LAZOIzRODS3jNHu-YgE",authDomain:"my-accounts-76d6e.firebaseapp.com",projectId:"my-accounts-76d6e",storageBucket:"my-accounts-76d6e.firebasestorage.app",messagingSenderId:"988437566016",appId:"1:988437566016:web:72f59ea673d54185fbc5a5",measurementId:"G-X1FLCYTWDM"},Tn=class n{messaging;fcmToken={};tokenSubject=new fe(null);vapidKey="BJ0eDoKaqa38VXNfTokyeUKpM0OA9RflAK0gMkjeA-ddZlCYvE02m5YZa7ESS8dujQL-4S_67puRZJVP5Y_CYuo";injector=_(et);_notificationService=null;_userService=null;lastNotificationTime=null;constructor(){console.log("\u{1F680} Firebase Service Initialized");let e=P_(u5);this.messaging=xO(e),this.registerServiceWorker(),this.requestNotificationPermission(),this.listenForMessages()}get notificationService(){return this._notificationService||(this._notificationService=this.injector.get(Fi)),this._notificationService}get userService(){return this._userService||(this._userService=this.injector.get(Ce)),this._userService}registerServiceWorker(){return P(this,null,function*(){if("serviceWorker"in navigator){if(navigator.serviceWorker.controller){console.log("\u{1F504} Service Worker \u05DB\u05D1\u05E8 \u05E8\u05E9\u05D5\u05DD. \u05DC\u05D0 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E9\u05D5\u05DD \u05E0\u05D5\u05E1\u05E3.");return}try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");console.log("\u2705 Service Worker Registered:",e)}catch(e){console.error("\u274C Service Worker Registration Failed:",e)}}})}getTokenObservable(){return this.tokenSubject.asObservable()}requestNotificationPermission(){return P(this,null,function*(){try{(yield Notification.requestPermission())==="granted"?(console.log("\u{1F514} Notification permission granted."),this.getFCMToken()):console.warn("\u274C Notification permission denied.")}catch(e){console.error("\u274C Error getting notification permission:",e)}})}getFCMToken(){return P(this,null,function*(){let e=this.userService.getLoggedInUser()?._id;if(console.log(` currentUser - ${e}:`),e&&this.fcmToken[e])return console.log(`\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1-Token \u05D4\u05E7\u05D9\u05D9\u05DD \u05E2\u05D1\u05D5\u05E8 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9: ${e}`,this.fcmToken[e]),this.fcmToken[e];try{let t=yield IO(this.messaging,{vapidKey:this.vapidKey});return console.log(` newToken - ${t}:`),t?(console.log(`\u2705 FCM Token \u05D7\u05D3\u05E9 \u05D4\u05EA\u05E7\u05D1\u05DC \u05E2\u05D1\u05D5\u05E8 ${e}:`,t),this.fcmToken[e]=t,yield this.notificationService.saveSubscription({token:t}),t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05D4\u05EA\u05E7\u05D1\u05DC Token."),null)}catch(t){return console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E2\u05EA \u05E7\u05D1\u05DC\u05EA FCM Token:",t),null}})}getLastNotificationTime(){return this.lastNotificationTime}listenForMessages(){OO(this.messaging,e=>{console.log("\u{1F4E9} Foreground notification received:",e),this.lastNotificationTime=Date.now();let t=e.data?.title||"\u{1F514} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",r={body:e.data?.body||"\u{1F4E9} \u05D9\u05E9 \u05DC\u05DA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4!",icon:e.data?.icon||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",badge:e.data?.badge||"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0};document.hidden?(console.log("\u{1F4F2} \u05DE\u05E6\u05D9\u05D2 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",t),new Notification(t,r)):console.log("\u{1F514} \u05D4\u05E6\u05D2\u05EA \u05D4\u05EA\u05E8\u05D0\u05D4 \u05D1\u05EA\u05D5\u05DA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4"),e.data?.wakeUpApp==="true"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),window.focus())})}sendTokenToServer(e){return P(this,null,function*(){try{(yield fetch("http://localhost:3030/api/notification/save-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?console.log("\u2705 FCM Token saved on server."):console.warn("\u26A0\uFE0F Failed to save FCM token on server.")}catch(t){console.error("\u274C Error sending token to server:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var _p,FO=h(()=>{"use strict";N();_p=class n{deferredPrompt=null;showInstallButton=!1;constructor(){window.addEventListener("beforeinstallprompt",e=>{console.log("\u{1F4F2} \u05D0\u05D9\u05E8\u05D5\u05E2 \u05D4\u05EA\u05E7\u05E0\u05D4 \u05E0\u05DC\u05DB\u05D3!"),e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0})}installPWA(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{e.outcome==="accepted"?console.log("\u2705 \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E7\u05E0\u05D4!"):console.log("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D1\u05D9\u05D8\u05DC \u05D4\u05EA\u05E7\u05E0\u05D4."),this.deferredPrompt=null,this.showInstallButton=!1}))}isRunningStandalone(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}isIOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});var Cp,LO=h(()=>{"use strict";N();ea();Cp=class n{constructor(e){this.firebaseService=e;this.notificationPermission=Notification.permission}notificationPermission="default";requestNotificationPermission(){return P(this,null,function*(){if(!("Notification"in window)||!("serviceWorker"in navigator)){console.warn("\u274C \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA.");return}let e=yield Notification.requestPermission();console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA:",e),e==="granted"?(console.log("\u2705 \u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4! \u05DE\u05E7\u05D1\u05DC\u05D9\u05DD FCM Token..."),this.firebaseService.getFCMToken()):e==="denied"?(console.warn("\u26A0\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4, \u05E0\u05D1\u05E7\u05E9 \u05DE\u05DE\u05E0\u05D5 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D9\u05D3\u05E0\u05D9\u05EA."),this.showManualEnableInstructions()):console.log("\u2139\uFE0F \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D1\u05D7\u05E8 \u05D4\u05E8\u05E9\u05D0\u05D4.")})}showManualEnableInstructions(){if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){let t="chrome://settings/content/notifications";alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA. \u05DC\u05D7\u05E5 \u05E2\u05DC '\u05D0\u05D9\u05E9\u05D5\u05E8' \u05DB\u05D3\u05D9 \u05DC\u05D2\u05E9\u05EA \u05D9\u05E9\u05D9\u05E8\u05D5\u05EA \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D5\u05DC\u05E4\u05E2\u05D5\u05DC \u05D0\u05D5\u05EA\u05DF."),window.open(t,"_blank")}else alert("\u{1F515} \u05E0\u05E8\u05D0\u05D4 \u05E9\u05D7\u05E1\u05DE\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0\u05EA\u05E8 \u05D6\u05D4. \u05DB\u05D3\u05D9 \u05DC\u05D4\u05E4\u05E2\u05D9\u05DC \u05D0\u05D5\u05EA\u05DF, \u05D2\u05E9 \u05DC\u05D4\u05D2\u05D3\u05E8\u05D5\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05D5\u05D4\u05E4\u05E2\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1\u05D0\u05D5\u05E4\u05DF \u05D9\u05D3\u05E0\u05D9.")}showNotificationPrompt(){if(localStorage.getItem("notificationsPrompted"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
        <div class="notification-alert">
          \u{1F514} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA, \u05D0\u05E4\u05E9\u05E8 \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA!
          <div class="notification-actions">
            <button id="allow-btn">\u{1F4E9} \u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
            <button id="dismiss-btn">\u274C \u05DC\u05D0 \u05E2\u05DB\u05E9\u05D9\u05D5</button>
          </div>
        </div>
        <style>
          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E7\u05D5\u05E4\u05E1\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          .notification-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.85);
            padding: 18px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-align: center;
            z-index: 999;
            max-width: 320px;
            width: 90%;
            font-size: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            animation: fadeIn 0.3s ease-in-out;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05D4\u05DB\u05D5\u05EA\u05E8\u05EA */
          .notification-alert {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
          }

          /* \u05E2\u05D9\u05E6\u05D5\u05D1 \u05DB\u05E4\u05EA\u05D5\u05E8\u05D9 \u05D4\u05E4\u05E2\u05D5\u05DC\u05D4 */
          .notification-actions {
            display: flex;
            gap: 10px;
            width: 100%;
            justify-content: space-around;
            margin-top: 12px;
          }

          .notification-actions button {
            flex: 1;
            padding: 10px 15px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease-in-out, transform 0.2s;
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D0\u05D9\u05E9\u05D5\u05E8 */
          #allow-btn {
            background: #4CAF50;
            color: white;
          }

          #allow-btn:hover {
            background: #45A049;
            transform: scale(1.05);
          }

          /* \u05DB\u05E4\u05EA\u05D5\u05E8 \u05D1\u05D9\u05D8\u05D5\u05DC */
          #dismiss-btn {
            background: #f44336;
            color: white;
          }

          #dismiss-btn:hover {
            background: #d32f2f;
            transform: scale(1.05);
          }

          /* \u05D0\u05E0\u05D9\u05DE\u05E6\u05D9\u05D4 \u05DC\u05D4\u05D5\u05E4\u05E2\u05EA \u05D4\u05D4\u05EA\u05E8\u05D0\u05D4 */
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateX(-50%) translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
            }
          }
        </style>
      `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>P(this,null,function*(){yield this.requestNotificationPermission(),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()}),localStorage.setItem("notificationsPrompted","true")}static \u0275fac=function(t){return new(t||n)(F(Tn))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function d5(n,e){if(n&1&&(bt(0),A(1,"img",19),wt()),n&2){let t=w(2);m(),y("src",t.loggedInUser.img,Ie)}}function f5(n,e){if(n&1&&(p(0,"span",20),C(1),f()),n&2){let t=w(2);m(),ft(t.getUserInitial())}}function p5(n,e){if(n&1){let t=z();bt(0),p(1,"div",8)(2,"a",9),A(3,"img",10),f(),p(4,"a",11),A(5,"img",12),f(),p(6,"div",13)(7,"a",14),k(8,d5,2,1,"ng-container",6)(9,f5,2,1,"ng-template",null,1,$n),f(),p(11,"div",15),S("click",function(){O(t);let i=w();return T(i.toggleUpload=!i.toggleUpload)}),A(12,"img",16),f()(),p(13,"button",17),S("click",function(){O(t);let i=w();return T(i.onLogout())}),A(14,"img",18),f()(),wt()}if(n&2){let t=at(10),r=w();m(8),y("ngIf",r.loggedInUser==null?null:r.loggedInUser.img)("ngIfElse",t)}}function h5(n,e){n&1&&(p(0,"a",21),A(1,"img",22),f(),p(2,"a",23),A(3,"img",24),f(),p(4,"a",25),A(5,"img",26),f())}function g5(n,e){if(n&1){let t=z();p(0,"div")(1,"image-upload",27),S("imageUploaded",function(i){O(t);let o=w();return T(o.onImageUploaded(i))}),f()()}}var bp,VO=h(()=>{"use strict";N();xt();ct();Ti();De();f_();bp=class n{constructor(e,t,r){this.userService=e;this.router=t;this.msgService=r}loggedInUser=null;toggleUpload=!1;ngOnInit(){this.userService.loggedInUser$.subscribe(e=>{this.loggedInUser=e})}getUserInitial(){return this.loggedInUser?.username&&this.loggedInUser.username[0]||""}onLogout(){console.log("Setting success message"),this.msgService.setSuccessMsg("Logout successful!!! You have been logged out."),setTimeout(()=>{this.userService.logout(),this.router.navigate(["/"])},600)}onImageUploaded(e){if(!this.loggedInUser)return;let t=B(M({},this.loggedInUser),{img:e});this.userService.saveUser(t).subscribe({next:r=>{console.log("User image updated successfully:",r),this.loggedInUser=r,this.userService.setLoggedInUser(r,this.userService.getCookie("loginToken")||""),this.msgService.setSuccessMsg("Profile picture updated successfully!"),this.toggleUpload=!1},error:r=>{console.error("Failed to update user image:",r),this.msgService.setErrorMsg("Failed to update profile picture.")}})}static \u0275fac=function(t){return new(t||n)(D(Ce),D(Te),D(It))};static \u0275cmp=Z({type:n,selectors:[["app-header"]],decls:9,vars:3,consts:[["notLoggedIn",""],["defaultAvatar",""],[1,"logo-wrapper"],["src","../../../assets/images/acc1.png","alt","bitcoin img",1,"logo"],[1,"auth-wrapper"],[1,"auth-links"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"profile-container"],["routerLink","/contact","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/content.png","alt","Contacts"],["routerLink","/users","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/teamwork.png","alt","Users"],[1,"user-profile-wrapper"],["routerLink","/",1,"profile-picture"],[1,"camera-icon",3,"click"],["src","../../../assets/images/camera.png","alt","Upload Image"],[1,"profile-picture",3,"click"],["src","../../../assets/images/logout2.png","alt","Logout",1,"logimg"],["alt","User Profile",3,"src"],[1,"default-avatar"],["routerLink","/","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/house.png","alt","Home",1,"logimg"],["routerLink","/login","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/login2.png","alt","Login",1,"logimg"],["routerLink","/signup","routerLinkActive","active",1,"profile-picture"],["src","../../../assets/images/sign-up.png","alt","Sign Up",1,"logimg"],[3,"imageUploaded"]],template:function(t,r){if(t&1&&(p(0,"header")(1,"div",2),A(2,"img",3),f(),p(3,"div",4)(4,"div",5),k(5,p5,15,2,"ng-container",6)(6,h5,6,0,"ng-template",null,0,$n),f()(),k(8,g5,2,0,"div",7),f()),t&2){let i=at(7);m(5),y("ngIf",r.loggedInUser)("ngIfElse",i),m(3),y("ngIf",r.toggleUpload)}},dependencies:[me,En,gS,Zs],styles:['@charset "UTF-8";[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background:linear-gradient(90deg,#34495e,#2c3e50);height:80px;display:flex;align-items:center;color:#fff;font-family:Roboto,sans-serif;margin-bottom:30px;padding:0 20px;box-shadow:0 4px 6px #0000001a}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{justify-content:flex-start}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:50px;width:auto}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:500;text-decoration:none;transition:transform .2s,color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f1c40f}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#f1c40f;font-weight:700}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #f1c40f;border-radius:50%;padding:5px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#f1c40f;color:#2c3e50;text-decoration:none;font-size:1em;font-weight:700;padding:.4em .8em;border:none;border-radius:20px;cursor:pointer;transition:background-color .3s,transform .2s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#fff;color:#34495e;transform:scale(1.05)}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background-color:#f1c40f;color:#2c3e50;display:flex;justify-content:center;align-items:center;font-size:1.2em;font-weight:700;cursor:pointer;position:relative}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background-color:#fff;color:#2c3e50;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000001a;z-index:1000}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1c40f;color:#2c3e50;padding:5px 10px;border-radius:5px;font-size:.9em;font-weight:700;transition:background-color .3s}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background-color:#34495e;color:#fff}@media (max-width: 768px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:10px;text-align:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .upload-container[_ngcontent-%COMP%]{top:50px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .6em}}@media (max-width: 480px){[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:none;justify-content:center}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:25px;height:25px}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.9em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .auth-wrapper[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8em;padding:.3em .5em}}.profile-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:15px}.user-profile-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50%;overflow:hidden;border:2px solid transparent;transition:border .3s;padding:.1px!important}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.user-profile-wrapper[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .user-profile-wrapper[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.user-profile-wrapper[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#f1c40f;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;cursor:pointer}.user-profile-wrapper[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border-radius:50%;overflow:hidden;border:2px solid transparent;transition:border .3s;padding:.1px!important}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]:hover{border-color:#f1c40f}.profile-container[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .profile-container[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#f1c40f;border-radius:50%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;cursor:pointer}.profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}@media (max-width: 768px){header[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{width:20px;height:20px}}@media (max-width: 480px){header[_ngcontent-%COMP%]   .profile-container[_ngcontent-%COMP%]   .camera-icon[_ngcontent-%COMP%]{width:17px;height:17px}}.logimg[_ngcontent-%COMP%]{width:50px;height:50px;padding:.1px}']})}});function v5(n,e){n&1&&(p(0,"div",1),A(1,"div",2),f())}var wp,jO=h(()=>{"use strict";N();Qs();De();wp=class n{constructor(e){this.loaderService=e}isLoading;ngOnInit(){this.isLoading=this.loaderService.isLoading$}static \u0275fac=function(t){return new(t||n)(D(On))};static \u0275cmp=Z({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],[1,"spinner"]],template:function(t,r){t&1&&(k(0,v5,2,0,"div",0),Lt(1,"async")),t&2&&y("ngIf",Vt(1,1,r.isLoading))},dependencies:[me,Gt],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-top:8px solid #007bff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}});function _5(n,e){if(n&1){let t=z();p(0,"section")(1,"h4"),C(2),f(),p(3,"button",1),S("click",function(){O(t);let i=w();return T(i.onCloseMsg())}),C(4,"X"),f()()}if(n&2){let t=e.ngIf;EM("msg ",t.type,""),y("@toggleMsg",void 0),m(2),ft(t.txt)}}var Ep,UO=h(()=>{"use strict";we();Cf();N();Ti();De();Ep=class n{constructor(e){this.msgService=e}msg$=V(null);ngOnInit(){this.msg$=this.msgService.msg$}onCloseMsg(){this.msgService.closeMsg()}static \u0275fac=function(t){return new(t||n)(D(It))};static \u0275cmp=Z({type:n,selectors:[["msg"]],decls:2,vars:3,consts:[[3,"class",4,"ngIf"],[1,"close-btn",3,"click"]],template:function(t,r){t&1&&(k(0,_5,5,5,"section",0),Lt(1,"async")),t&2&&y("ngIf",Vt(1,1,r.msg$))},dependencies:[me,Gt],styles:['@charset "UTF-8";.msg[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;display:flex;flex-direction:column;gap:.5rem;padding:1rem;margin:.5rem;border-radius:.75rem;background-color:#fffc;box-shadow:0 4px 10px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-in-out;font-family:Roboto,sans-serif;color:#34495e;border:1px solid #dcdde1;max-width:400px;z-index:9999}.msg.success[_ngcontent-%COMP%]{background-color:#27ae60e6;color:#fff;border:1px solid #27ae60}.msg.error[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border:1px solid #e74c3c}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;margin-bottom:.5rem;font-size:1.2rem;font-weight:700}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;line-height:1.5}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffffff59;border:none;cursor:pointer;font-size:1.2rem;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:inherit;border-radius:50%;transition:background-color .3s ease,transform .2s ease}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffff8c;transform:scale(1.1)}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #34495e;outline-offset:2px}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.msg[_ngcontent-%COMP%]{top:auto;bottom:1rem;right:.5rem;left:.5rem;max-width:none;padding:.75rem;font-size:.9rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;font-size:1rem}}@media (max-width: 480px){.msg[_ngcontent-%COMP%]{bottom:.5rem;padding:.5rem;border-radius:.5rem}.msg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem}.msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.9rem}}'],data:{animation:[yf("toggleMsg",[Ic(":enter",[Yn({transform:"translateY(-100%)"}),xc("0.3s ease-in-out",Yn({transform:"translateY(0%)"}))]),Ic(":leave",[Yn({transform:"translateY(0%)"}),xc("0.3s ease-in-out",Yn({transform:"translateY(-100%)"}))])])]}})}});function b5(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.installPWA())}),C(1," \u{1F4F2} \u05D4\u05EA\u05E7\u05DF \u05DB\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 "),f()}}function w5(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.disableBatteryOptimization())}),C(1," \u2622\uFE0F"),f()}}var Mp,BO=h(()=>{"use strict";N();we();Hr();ea();FO();yp();LO();xt();js();N();De();ct();VO();jO();UO();Mp=class n{title="MyAccounts";contactService=_(Et);firebaseService=_(Tn);pwaService=_(_p);notificationMobileService=_(Cp);notificationService=_(Fi);userService=_(Ce);socketService=_(Mn);subscription;idleTimer;idleTime=0;idleMaxTime=600;showBatteryOptimizationButton=!0;get showInstallButton(){return this.pwaService.showInstallButton}ngOnInit(){localStorage.getItem("batteryOptimizationDisabled")==="true"&&(this.showBatteryOptimizationButton=!1),this.notificationService.startKeepAliveNotifications(),this.keepScreenAwake(),this.subscription=this.contactService.loadContacts().pipe(be(1)).subscribe({error:t=>console.log("err:",t)}),console.log("\u{1F680} AppComponent Initialized"),this.userService.refreshLoginTokenIfNeeded(),document.addEventListener("visibilitychange",()=>P(this,null,function*(){if(document.hidden)console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05D1\u05E8\u05D4 \u05DC\u05E8\u05E7\u05E2, \u05E9\u05D5\u05DC\u05D7 \u05E4\u05D9\u05E0\u05D2 \u05DB\u05D3\u05D9 \u05DC\u05D5\u05D5\u05D3\u05D0 \u05E9\u05D4-Socket \u05DC\u05D0 \u05D9\u05EA\u05E0\u05EA\u05E7..."),this.socketService.emit("ping");else{console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1 \u2013 \u05D1\u05D5\u05D3\u05E7 \u05EA\u05D5\u05E7\u05E3 Token..."),this.userService.refreshLoginTokenIfNeeded(),console.log("\u{1F4F2} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05E4\u05D5\u05E7\u05D5\u05E1, \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-Socket \u05E2\u05D3\u05D9\u05D9\u05DF \u05DE\u05D7\u05D5\u05D1\u05E8..."),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()),console.log("\u{1F504} \u05D1\u05D5\u05D3\u05E7 \u05D0\u05DD \u05D4-FCM Token \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF...");let t=yield this.firebaseService.getFCMToken();t?console.log("\u2705 \u05D8\u05D5\u05E7\u05DF \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF:",t):(console.warn("\u26A0\uFE0F \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0 \u05D8\u05D5\u05E7\u05DF, \u05DE\u05D1\u05E6\u05E2 \u05D1\u05E7\u05E9\u05EA \u05D4\u05E8\u05E9\u05D0\u05D4 \u05DE\u05D7\u05D3\u05E9..."),this.firebaseService.requestNotificationPermission())}})),this.resetIdleTimer(),window.addEventListener("mousemove",()=>this.resetIdleTimer()),window.addEventListener("keydown",()=>this.resetIdleTimer()),navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="RESTORE_LOGIN_TOKEN"&&(console.log("\u{1F504} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 Token \u05DE\u05E9\u05D5\u05D7\u05D6\u05E8 \u05DE\u05D4-Service Worker:",t.data.token),this.userService.restoreLoginToken(t.data.token)),t.data&&t.data.type==="WAKE_UP"&&(console.log("\u{1F4F2} \u05E7\u05D9\u05D1\u05DC\u05E0\u05D5 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 - \u05DE\u05D1\u05E6\u05E2 \u05D4\u05EA\u05D7\u05D1\u05E8\u05D5\u05EA \u05DE\u05D7\u05D3\u05E9!"),document.hidden&&(console.log("\u{1F504} \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05E8\u05E7\u05E2, \u05DE\u05E0\u05E1\u05D4 \u05DC\u05D4\u05E2\u05D9\u05E8 \u05D0\u05D5\u05EA\u05D4..."),window.focus()),this.socketService.isConnected()||(console.log("\u{1F50C} \u05D4-Socket \u05E0\u05D5\u05EA\u05E7, \u05DE\u05EA\u05D7\u05D1\u05E8 \u05DE\u05D7\u05D3\u05E9..."),this.socketService.setup()))}),setInterval(()=>{console.log("\u{1F504} \u05E9\u05D5\u05DC\u05D7 Keep-Alive ping \u05DC\u05E9\u05E8\u05EA..."),this.userService.keepSessionAlive()},3*60*1e3),!this.pwaService.isRunningStandalone()&&this.pwaService.isIOS()&&alert("\u{1F4CC} \u05DB\u05D3\u05D9 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05D1-iOS, \u05D4\u05EA\u05E7\u05DF \u05D0\u05EA \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4 \u05DC\u05DE\u05E1\u05DA \u05D4\u05D1\u05D9\u05EA."),Notification.permission==="default"&&setTimeout(()=>{let t=this.firebaseService.getLastNotificationTime()??0;if(Date.now()-t<4e3){console.log("\u{1F515} \u05DC\u05D0 \u05DE\u05E6\u05D9\u05D2\u05D9\u05DD \u05D4\u05EA\u05E8\u05D0\u05D4 \u05DB\u05D9 FirebaseService \u05DB\u05D1\u05E8 \u05D4\u05E6\u05D9\u05D2 \u05D0\u05D7\u05EA \u05DC\u05D0\u05D7\u05E8\u05D5\u05E0\u05D4");return}if(Notification.permission==="granted"){console.log("\u2705 \u05D4\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DB\u05D1\u05E8 \u05D0\u05D5\u05E9\u05E8\u05D5, \u05DC\u05D0 \u05E6\u05E8\u05D9\u05DA \u05DC\u05D1\u05E7\u05E9 \u05E9\u05D5\u05D1");return}(Notification.permission==="default"||Notification.permission==="denied")&&this.notificationMobileService.showNotificationPrompt()},8e3),this.firebaseService.getFCMToken().then(t=>{t&&console.log("\u{1F511} FCM Token received (on init):",t)}),this.firebaseService.getTokenObservable().subscribe(t=>{t&&console.log("\u{1F511} FCM Token received:",t)})}installPWA(){this.pwaService.installPWA()}resetIdleTimer(){clearTimeout(this.idleTimer),this.idleTime=0,this.idleTimer=setInterval(()=>{this.idleTime++,this.idleTime>=this.idleMaxTime&&(console.log("\u{1F504} \u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC \u05D6\u05DE\u05DF \u05E8\u05D1 \u2013 \u05DE\u05D1\u05E6\u05E2 \u05E8\u05D9\u05E2\u05E0\u05D5\u05DF Token..."),this.userService.refreshLoginTokenIfNeeded())},1e3)}keepScreenAwake(){return P(this,null,function*(){if("wakeLock"in navigator)try{let e=yield navigator.wakeLock.request("screen");console.log("\u2705 Wake Lock enabled"),e.addEventListener("release",()=>{console.log("\u26A0\uFE0F Wake Lock was released")})}catch(e){console.error("\u274C Wake Lock failed:",e)}else console.warn("\u26A0\uFE0F Wake Lock API not supported")})}disableBatteryOptimization(){"requestWakeLock"in navigator?navigator.requestWakeLock("screen").then(()=>{console.log("\u2705 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 \u05D1\u05D5\u05D8\u05DC"),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1}).catch(e=>{console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D4\u05E8\u05E9\u05D0\u05EA Wake Lock:",e)}):(alert(`\u05DC\u05D1\u05D9\u05E6\u05D5\u05E2\u05D9\u05DD \u05D2\u05D1\u05D5\u05D4\u05D9\u05DD :
\u05DC\u05D7\u05E5 \u05DC\u05D7\u05D9\u05E6\u05D4 \u05D0\u05E8\u05D5\u05DB\u05D4 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E9\u05DC \u05D4\u05D0\u05E4\u05DC\u05D9\u05E7\u05E6\u05D9\u05D4,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D9\u05D9\u05E7\u05D5\u05DF \u05E2\u05DD \u05D4\u05E1\u05D9\u05DE\u05DF : (!) ,
\u05DC\u05D7\u05E5 \u05E2\u05DC \u05D4\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05D7\u05D9\u05E1\u05DB\u05D5\u05DF \u05D1\u05E1\u05D5\u05DC\u05DC\u05D4 / \u05E1\u05D5\u05DC\u05DC\u05D4,
\u05D1\u05D7\u05E8 \u05D1\u05D0\u05D5\u05E4\u05E6\u05D9\u05D4 \u05DC\u05DC\u05D0 \u05D4\u05D2\u05D1\u05DC\u05D4.`),localStorage.setItem("batteryOptimizationDisabled","true"),this.showBatteryOptimizationButton=!1)}ngOnDestroy(){this.subscription?.unsubscribe?.()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["app-root"]],decls:9,vars:2,consts:[[1,"main-layout"],[1,"app-container"],["class","install-button",3,"click",4,"ngIf"],["name","modal"],[1,"install-button",3,"click"]],template:function(t,r){t&1&&(p(0,"main",0),A(1,"app-header"),p(2,"div",1),k(3,b5,2,0,"button",2)(4,w5,2,0,"button",2),f(),A(5,"router-outlet")(6,"app-loader")(7,"router-outlet",3),f(),A(8,"msg")),t&2&&(m(3),y("ngIf",r.showInstallButton),m(),y("ngIf",r.showBatteryOptimizationButton))},dependencies:[me,Wn,bp,wp,Ep],styles:['@charset "UTF-8";.app-container[_ngcontent-%COMP%]{text-align:center;margin:.5em}.install-button[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border:none;padding:12px 18px;font-size:16px;cursor:pointer;border-radius:8px;margin-top:15px;transition:background .3s,transform .2s;display:flex;align-items:center;justify-content:center;gap:8px;box-shadow:0 4px 8px #0003}.install-button[_ngcontent-%COMP%]:hover{background:#1565c0;transform:scale(1.05)}@media (max-width: 768px){.install-button[_ngcontent-%COMP%]{font-size:14px;padding:.4em}}']})}});function $O(n){return new x(3e3,!1)}function E5(){return new x(3100,!1)}function M5(){return new x(3101,!1)}function D5(n){return new x(3001,!1)}function S5(n){return new x(3003,!1)}function x5(n){return new x(3004,!1)}function I5(n,e){return new x(3005,!1)}function O5(){return new x(3006,!1)}function T5(){return new x(3007,!1)}function P5(n,e){return new x(3008,!1)}function A5(n){return new x(3002,!1)}function k5(n,e,t,r,i){return new x(3010,!1)}function N5(){return new x(3011,!1)}function R5(){return new x(3012,!1)}function F5(){return new x(3200,!1)}function L5(){return new x(3202,!1)}function V5(){return new x(3013,!1)}function j5(n){return new x(3014,!1)}function U5(n){return new x(3015,!1)}function B5(n){return new x(3016,!1)}function $5(n,e){return new x(3404,!1)}function z5(n){return new x(3502,!1)}function H5(n){return new x(3503,!1)}function q5(){return new x(3300,!1)}function W5(n){return new x(3504,!1)}function G5(n){return new x(3301,!1)}function K5(n,e){return new x(3302,!1)}function Y5(n){return new x(3303,!1)}function Q5(n,e){return new x(3400,!1)}function Z5(n){return new x(3401,!1)}function J5(n){return new x(3402,!1)}function X5(n,e){return new x(3505,!1)}function Li(n){switch(n.length){case 0:return new Oi;case 1:return n[0];default:return new Sc(n)}}function nT(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((v,g)=>{let b=g,E=v;if(g!=="offset")switch(b=n.normalizePropertyName(b,i),E){case _f:E=t.get(g);break;case mr:E=r.get(g);break;default:E=n.normalizeStyleValue(g,b,E,i);break}d.set(b,E)}),u||o.push(d),a=d,s=l}),i.length)throw z5(i);return o}function m0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&K_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&K_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&K_(t,"destroy",n)));break}}function K_(n,e,t){let r=t.totalTime,i=!!t.disabled,o=v0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function v0(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function cn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function zO(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}function y0(n){let e=n.parentNode||n.host||null;return e===e4?null:e}function t4(n){return n.substring(1,6)=="ebkit"}function n4(n){Oo||(Oo=r4()||{},HO=Oo.style?"WebkitAppearance"in Oo.style:!1);let e=!0;return Oo.style&&!t4(n)&&(e=n in Oo.style,!e&&HO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Oo.style)),e}function r4(){return typeof document<"u"?document.body:null}function rT(n,e){for(;e;){if(e===n)return!0;e=y0(e)}return!1}function iT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}function Xr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:n0(parseFloat(e[1]),e[2])}function n0(n,e){switch(e){case"s":return n*i4;default:return n}}function Pp(n,e,t){return n.hasOwnProperty("duration")?n:s4(n,e,t)}function s4(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push($O(n)),{duration:0,delay:0,easing:""};i=n0(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=n0(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(E5()),a=!0),o<0&&(e.push(M5()),a=!0),a&&e.splice(c,0,$O(n))}return{duration:i,delay:o,easing:s}}function a4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function yr(n,e,t){e.forEach((r,i)=>{let o=C0(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Po(n,e){e.forEach((t,r)=>{let i=C0(r);n.style[i]=""})}function Gc(n){return Array.isArray(n)?n.length==1?n[0]:px(n):n}function c4(n,e,t){let r=e.params||{},i=aT(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(D5(o))})}function aT(n){let e=[];if(typeof n=="string"){let t;for(;t=r0.exec(n);)e.push(t[1]);r0.lastIndex=0}return e}function Yc(n,e,t){let r=`${n}`,i=r.replace(r0,(o,s)=>{let a=e[s];return a==null&&(t.push(S5(s)),a=""),a.toString()});return i==r?n:i}function C0(n){return n.replace(l4,(...e)=>e[1].toUpperCase())}function u4(n,e){return n===0||e===0}function d4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,b0(n,a)))}}return e}function an(n,e,t){switch(e.type){case re.Trigger:return n.visitTrigger(e,t);case re.State:return n.visitState(e,t);case re.Transition:return n.visitTransition(e,t);case re.Sequence:return n.visitSequence(e,t);case re.Group:return n.visitGroup(e,t);case re.Animate:return n.visitAnimate(e,t);case re.Keyframes:return n.visitKeyframes(e,t);case re.Style:return n.visitStyle(e,t);case re.Reference:return n.visitReference(e,t);case re.AnimateChild:return n.visitAnimateChild(e,t);case re.AnimateRef:return n.visitAnimateRef(e,t);case re.Query:return n.visitQuery(e,t);case re.Stagger:return n.visitStagger(e,t);default:throw x5(e.type)}}function b0(n,e){return window.getComputedStyle(n)[e]}function p4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>h4(r,t,e)):t.push(n),t}function h4(n,e,t){if(n[0]==":"){let c=g4(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(U5(n)),e;let i=r[1],o=r[2],s=r[3];e.push(WO(i,s));let a=i==kp&&s==kp;o[0]=="<"&&!a&&e.push(WO(s,i))}function g4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(B5(n)),"* => *"}}function WO(n,e){let t=Sp.has(n)||xp.has(n),r=Sp.has(e)||xp.has(e);return(i,o)=>{let s=n==kp||n==i,a=e==kp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Sp.has(n):xp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Sp.has(e):xp.has(e)),s&&a}}function lT(n,e,t,r){return new i0(n).build(e,t,r)}function v4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==cT);return e&&(n=n.replace(m4,"")),n=n.replace(/@\*/g,Tp).replace(/@\w+/g,t=>Tp+"-"+t.slice(1)).replace(/:animating/g,t0),[n,e]}function y4(n){return n?M({},n):null}function _4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function C4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Pp(n,e).duration;return Y_(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Y_(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Pp(t,e);return Y_(i.duration,i.delay,i.easing)}function To(n){return n?(n=M({},n),n.params&&(n.params=y4(n.params))):n={},n}function Y_(n,e,t){return{duration:n,delay:e,easing:t}}function w0(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}function uT(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new s0().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}function KO(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function S4(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,mr)}else for(let[o,s]of i)t.set(o,s)}),t}function YO(n,e,t,r,i,o,s,a,c,l,u,d,v){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:v}}function x4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function dT(n,e){let t=M({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}function I4(n,e,t){return new u0(n,e,t)}function O4(n,e,t){let r=[(s,a)=>!0],i={type:re.Sequence,steps:[],options:null},o={type:re.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Fp(n,o,e)}function QO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}function L4(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function V4(n){return n??null}function Ip(n){return n&&n.nodeType===1}function j4(n){return n=="start"||n=="done"}function JO(n,e){let t=n.style.display;return n.style.display=e??"none",t}function XO(n,e,t,r,i){let o=[];t.forEach(c=>o.push(JO(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let v=e.computeStyle(l,d,i);u.set(d,v),(!v||v.length==0)&&(l[Jn]=F4,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>JO(c,o[a++])),s}function eT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Pn(n,e){n.classList?.add(e)}function ta(n,e){n.classList?.remove(e)}function U4(n,e,t){Li(t).onDone(()=>n.processLeaveNode(e))}function B4(n){let e=[];return pT(n,e),e}function pT(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Sc?pT(r.players,e):e.push(r)}}function $4(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function tT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}function z4(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=X_(e[0]),e.length>1&&(r=X_(e[e.length-1]))):e instanceof Map&&(t=X_(e)),t||r?new h0(n,t,r):null}function X_(n){let e=null;return n.forEach((t,r)=>{H4(r)&&(e=e||new Map,e.set(r,t))}),e}function H4(n){return n==="display"||n==="position"}function q4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function W4(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var e4,Oo,HO,_0,Ao,ko,i4,oT,o4,sT,e0,Dp,Tp,qO,t0,r0,l4,f4,Ap,kp,Sp,xp,cT,m4,GO,i0,o0,Qc,b4,w4,E4,M4,D4,s0,Np,a0,Rp,c0,Q_,Fp,l0,u0,T4,d0,ZO,P4,Z_,A4,k4,N4,R4,fT,F4,Jn,Zc,Kc,J_,f0,p0,Jc,na,h0,Lp,Vp,Op,hT,jp,g0,Up,E0=h(()=>{"use strict";Cf();N();N();e4=typeof document>"u"?null:document.documentElement;Oo=null,HO=!1;_0=(()=>{class n{validateStyleProperty(t){return n4(t)}containsElement(t,r){return rT(t,r)}getParentElement(t){return y0(t)}query(t,r,i){return iT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Oi(i,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})(),Ao=class{static{this.NOOP=new _0}},ko=class{},i4=1e3,oT="{{",o4="}}",sT="ng-enter",e0="ng-leave",Dp="ng-trigger",Tp=".ng-trigger",qO="ng-animating",t0=".ng-animating";r0=new RegExp(`${oT}\\s*(.+?)\\s*${o4}`,"g");l4=/-+([a-z0-9])/g;f4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ap=class extends ko{normalizePropertyName(e,t){return C0(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(f4.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(I5(e,r))}return s+o}},kp="*";Sp=new Set(["true","1"]),xp=new Set(["false","0"]);cT=":self",m4=new RegExp(`s*${cT}s*,?`,"g");GO="",i0=class{constructor(e){this._driver=e}build(e,t,r){let i=new o0(t);return this._resetContextStyleTimingState(i),an(this,Gc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=GO,e.collectedStyles=new Map,e.collectedStyles.set(GO,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(O5()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==re.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==re.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(T5())}),{type:re.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{aT(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(P5(e.name,[...o.values()]))}return{type:re.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=an(this,Gc(e.animation),t),i=p4(e.expr,t.errors);return{type:re.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:To(e.options)}}visitSequence(e,t){return{type:re.Sequence,steps:e.steps.map(r=>an(this,r,t)),options:To(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=an(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:re.Group,steps:o,options:To(e.options)}}visitAnimate(e,t){let r=C4(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Yn({});if(o.type==re.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Yn(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:re.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===mr?r.push(a):t.errors.push(A5(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(oT)>=0){o=!0;break}}}),{type:re.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(k5(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&c4(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:re.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(N5()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map($=>{let se=this._makeStyleAst($,t),Y=se.offset!=null?se.offset:_4(se.styles),pe=0;return Y!=null&&(o++,pe=se.offset=Y),c=c||pe<0||pe>1,a=a||pe<l,l=pe,s.push(pe),se});c&&t.errors.push(R5()),a&&t.errors.push(F5());let d=e.steps.length,v=0;o>0&&o<d?t.errors.push(L5()):o==0&&(v=i/(d-1));let g=d-1,b=t.currentTime,E=t.currentAnimateTimings,R=E.duration;return u.forEach(($,se)=>{let Y=v>0?se==g?1:v*se:s[se],pe=Y*R;t.currentTime=b+E.delay+pe,E.duration=pe,this._validateStyleAst($,t),$.offset=Y,r.styles.push($)}),r}visitReference(e,t){return{type:re.Reference,animation:an(this,Gc(e.animation),t),options:To(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:re.AnimateChild,options:To(e.options)}}visitAnimateRef(e,t){return{type:re.AnimateRef,animation:this.visitReference(e.animation,t),options:To(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=v4(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,cn(t.collectedStyles,t.currentQuerySelector,new Map);let a=an(this,Gc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:re.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:To(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(V5());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Pp(e.timings,t.errors,!0);return{type:re.Stagger,animation:an(this,Gc(e.animation),t),timings:r,options:null}}};o0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};Qc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},b4=1,w4=":enter",E4=new RegExp(w4,"g"),M4=":leave",D4=new RegExp(M4,"g");s0=class{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Qc;let d=new a0(e,t,l,i,o,u,[]);d.options=c;let v=c.delay?Xr(c.delay):0;d.currentTimeline.delayNextStep(v),d.currentTimeline.setStyles([s],null,d.errors,c),an(this,r,d);let g=d.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let E=g.length-1;E>=0;E--){let R=g[E];if(R.element===t){b=R;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,d.errors,c)}return g.length?g.map(b=>b.buildKeyframes()):[w0(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Xr(Yc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Xr(r.duration):null,a=r.delay!=null?Xr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),an(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==re.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Np);let s=Xr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>an(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Xr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),an(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Yc(r,t.params,t.errors):r;return Pp(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==re.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Xr(i.delay):0;o&&(t.previousNode.type===re.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Np);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),an(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let v=d.currentTimeline.currentTime;s=Math.max(s,v)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=t.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;an(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Np={},a0=class n{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Np,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Rp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Xr(r.duration)),r.delay!=null&&(i.delay=Xr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Yc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Np,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new c0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(E4,"."+this._enterClassName),e=e.replace(D4,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(j5(t)),a}},Rp=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=b4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||mr),this._currentKeyframe.set(t,mr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=S4(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Yc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??mr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===_f?e.add(d):u===mr&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return w0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},c0=class extends Rp{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",KO(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let v=new Map(e[d]),g=v.get("offset"),b=t+g*r;v.set("offset",KO(b/s)),o.push(v)}r=s,t=0,i="",e=o}return w0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};Q_={},Fp=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return x4(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){let d=[],v=this.ast.options&&this.ast.options.params||Q_,g=a&&a.params||Q_,b=this.buildStyles(r,g,d),E=c&&c.params||Q_,R=this.buildStyles(i,E,d),$=new Set,se=new Map,Y=new Map,pe=i==="void",We={params:dT(E,v),delay:this.ast.options?.delay},Se=u?[]:uT(e,t,this.ast.animation,o,s,b,R,We,l,d),Ve=0;return Se.forEach(lt=>{Ve=Math.max(lt.duration+lt.delay,Ve)}),d.length?YO(t,this._triggerName,r,i,pe,b,R,[],[],se,Y,Ve,d):(Se.forEach(lt=>{let _r=lt.element,No=cn(se,_r,new Set);lt.preStyleProps.forEach(Vi=>No.add(Vi));let D0=cn(Y,_r,new Set);lt.postStyleProps.forEach(Vi=>D0.add(Vi)),_r!==t&&$.add(_r)}),YO(t,this._triggerName,r,i,pe,b,R,Se,[...$.values()],se,Y,Ve))}};l0=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=dT(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Yc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};u0=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new l0(i.style,o,r))}),QO(this.states,"true","1"),QO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Fp(e,i,this.states))}),this.fallbackTransition=O4(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};T4=new Qc,d0=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],o=lT(this._driver,t,r,i);if(r.length)throw H5(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=nT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=uT(this._driver,t,o,sT,e0,new Map,new Map,r,T4,i),s.forEach(u=>{let d=cn(a,u.element,new Map);u.postStyleProps.forEach(v=>d.set(v,null))})):(i.push(q5()),s=[]),i.length)throw W5(i);a.forEach((u,d)=>{u.forEach((v,g)=>{u.set(g,this._driver.computeStyle(d,g,mr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Li(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw G5(e);return t}listen(e,t,r,i){let o=v0(t,"","","");return m0(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},ZO="ng-animate-queued",P4=".ng-animate-queued",Z_="ng-animate-disabled",A4=".ng-animate-disabled",k4="ng-star-inserted",N4=".ng-star-inserted",R4=[],fT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},F4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jn="__ng_removed",Zc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=V4(i),r){let o=e,{value:s}=o,a=Kp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Kc="void",J_=new Zc(Kc),f0=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw K5(r,t);if(r==null||r.length==0)throw Y5(t);if(!j4(r))throw Q5(r,t);let o=cn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=cn(this._engine.statesByElement,e,new Map);return a.has(t)||(Pn(e,Dp),Pn(e,Dp+"-"+t),a.set(t,J_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Z5(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Jc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Pn(e,Dp),Pn(e,Dp+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Zc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=J_),!(l.value===Kc)&&c.value===l.value){if(!$4(c.params,l.params)){let E=[],R=o.matchStyles(c.value,c.params,E),$=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Po(e,R),yr(e,$)})}return}let v=cn(this._engine.playersByElement,e,[]);v.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),b=!1;if(!g){if(!i)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(Pn(e,ZO),s.onStart(()=>{ta(e,ZO)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let R=this._engine.playersByElement.get(e);if(R){let $=R.indexOf(s);$>=0&&R.splice($,1)}}),this.players.push(s),v.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Tp,!0);r.forEach(i=>{if(i[Jn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Kc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Li(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||J_,u=new Zc(Kc),d=new Jc(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Jn];(!o||o===fT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Pn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=v0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,m0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},p0=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new f0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Ip(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ip(t))return;let o=t[Jn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pn(e,Z_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ta(e,Z_))}removeNode(e,t,r){if(Ip(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Jn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ip(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Tp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,t0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Li(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Jn];if(t&&t.setForRemoval){if(e[Jn]=fT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Z_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,A4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Pn(i,k4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Li(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw J5(e)}_flushAnimations(e,t){let r=new Qc,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let q=this.driver.query(U,P4,!0);for(let K=0;K<q.length;K++)u.add(q[K])});let d=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=eT(v,this.collectedEnterElements),b=new Map,E=0;g.forEach((U,q)=>{let K=sT+E++;b.set(q,K),U.forEach(ve=>Pn(ve,K))});let R=[],$=new Set,se=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let q=this.collectedLeaveElements[U],K=q[Jn];K&&K.setForRemoval&&(R.push(q),$.add(q),K.hasAnimation?this.driver.query(q,N4,!0).forEach(ve=>$.add(ve)):se.add(q))}let Y=new Map,pe=eT(v,Array.from($));pe.forEach((U,q)=>{let K=e0+E++;Y.set(q,K),U.forEach(ve=>Pn(ve,K))}),e.push(()=>{g.forEach((U,q)=>{let K=b.get(q);U.forEach(ve=>ta(ve,K))}),pe.forEach((U,q)=>{let K=Y.get(q);U.forEach(ve=>ta(ve,K))}),R.forEach(U=>{this.processLeaveNode(U)})});let We=[],Se=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(K=>{let ve=K.player,ut=K.element;if(We.push(ve),this.collectedEnterElements.length){let Mt=ut[Jn];if(Mt&&Mt.setForMove){if(Mt.previousTriggersValues&&Mt.previousTriggersValues.has(K.triggerName)){let ji=Mt.previousTriggersValues.get(K.triggerName),ln=this.statesByElement.get(K.element);if(ln&&ln.has(K.triggerName)){let Xc=ln.get(K.triggerName);Xc.value=ji,ln.set(K.triggerName,Xc)}}ve.destroy();return}}let Xn=!d||!this.driver.containsElement(d,ut),Yt=Y.get(ut),ei=b.get(ut),ze=this._buildInstruction(K,r,ei,Yt,Xn);if(ze.errors&&ze.errors.length){Se.push(ze);return}if(Xn){ve.onStart(()=>Po(ut,ze.fromStyles)),ve.onDestroy(()=>yr(ut,ze.toStyles)),i.push(ve);return}if(K.isFallbackTransition){ve.onStart(()=>Po(ut,ze.fromStyles)),ve.onDestroy(()=>yr(ut,ze.toStyles)),i.push(ve);return}let I0=[];ze.timelines.forEach(Mt=>{Mt.stretchStartingKeyframe=!0,this.disabledNodes.has(Mt.element)||I0.push(Mt)}),ze.timelines=I0,r.append(ut,ze.timelines);let DT={instruction:ze,player:ve,element:ut};s.push(DT),ze.queriedElements.forEach(Mt=>cn(a,Mt,[]).push(ve)),ze.preStyleProps.forEach((Mt,ji)=>{if(Mt.size){let ln=c.get(ji);ln||c.set(ji,ln=new Set),Mt.forEach((Xc,Gp)=>ln.add(Gp))}}),ze.postStyleProps.forEach((Mt,ji)=>{let ln=l.get(ji);ln||l.set(ji,ln=new Set),Mt.forEach((Xc,Gp)=>ln.add(Gp))})});if(Se.length){let U=[];Se.forEach(q=>{U.push(X5(q.triggerName,q.errors))}),We.forEach(q=>q.destroy()),this.reportError(U)}let Ve=new Map,lt=new Map;s.forEach(U=>{let q=U.element;r.has(q)&&(lt.set(q,q),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,Ve))}),i.forEach(U=>{let q=U.element;this._getPreviousPlayers(q,!1,U.namespaceId,U.triggerName,null).forEach(ve=>{cn(Ve,q,[]).push(ve),ve.destroy()})});let _r=R.filter(U=>tT(U,c,l)),No=new Map;XO(No,this.driver,se,l,mr).forEach(U=>{tT(U,c,l)&&_r.push(U)});let Vi=new Map;g.forEach((U,q)=>{XO(Vi,this.driver,new Set(U),c,_f)}),_r.forEach(U=>{let q=No.get(U),K=Vi.get(U);No.set(U,new Map([...q?.entries()??[],...K?.entries()??[]]))});let Wp=[],S0=[],x0={};s.forEach(U=>{let{element:q,player:K,instruction:ve}=U;if(r.has(q)){if(u.has(q)){K.onDestroy(()=>yr(q,ve.toStyles)),K.disabled=!0,K.overrideTotalTime(ve.totalTime),i.push(K);return}let ut=x0;if(lt.size>1){let Yt=q,ei=[];for(;Yt=Yt.parentNode;){let ze=lt.get(Yt);if(ze){ut=ze;break}ei.push(Yt)}ei.forEach(ze=>lt.set(ze,ut))}let Xn=this._buildAnimation(K.namespaceId,ve,Ve,o,Vi,No);if(K.setRealPlayer(Xn),ut===x0)Wp.push(K);else{let Yt=this.playersByElement.get(ut);Yt&&Yt.length&&(K.parentPlayer=Li(Yt)),i.push(K)}}else Po(q,ve.fromStyles),K.onDestroy(()=>yr(q,ve.toStyles)),S0.push(K),u.has(q)&&i.push(K)}),S0.forEach(U=>{let q=o.get(U.element);if(q&&q.length){let K=Li(q);U.setRealPlayer(K)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<R.length;U++){let q=R[U],K=q[Jn];if(ta(q,e0),K&&K.hasAnimation)continue;let ve=[];if(a.size){let Xn=a.get(q);Xn&&Xn.length&&ve.push(...Xn);let Yt=this.driver.query(q,t0,!0);for(let ei=0;ei<Yt.length;ei++){let ze=a.get(Yt[ei]);ze&&ze.length&&ve.push(...ze)}}let ut=ve.filter(Xn=>!Xn.destroyed);ut.length?U4(this,q,ut):this.processLeaveNode(q)}return R.length=0,Wp.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let q=this.players.indexOf(U);this.players.splice(q,1)}),U.play()}),Wp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Kc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,u=l!==o,d=cn(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),d.push(g)})}Po(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,v=t.timelines.map(b=>{let E=b.element;u.add(E);let R=E[Jn];if(R&&R.removedBeforeQueried)return new Oi(b.duration,b.delay);let $=E!==c,se=B4((r.get(E)||R4).map(Ve=>Ve.getRealPlayer())).filter(Ve=>{let lt=Ve;return lt.element?lt.element===E:!1}),Y=o.get(E),pe=s.get(E),We=nT(this._normalizer,b.keyframes,Y,pe),Se=this._buildPlayer(b,We,se);if(b.subTimeline&&i&&d.add(E),$){let Ve=new Jc(e,a,E);Ve.setRealPlayer(Se),l.push(Ve)}return Se});l.forEach(b=>{cn(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>L4(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>Pn(b,qO));let g=Li(v);return g.onDestroy(()=>{u.forEach(b=>ta(b,qO)),yr(c,t.toStyles)}),d.forEach(b=>{cn(i,b,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Oi(e.duration,e.delay)}},Jc=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Oi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>m0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){cn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};na=class{constructor(e,t,r){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new p0(e.body,t,r),this._timelineEngine=new d0(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=lT(this._driver,o,c,l);if(c.length)throw $5(i,c);l.length&&void 0,a=I4(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=zO(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=zO(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};h0=class n{static{this.initialStylesByElement=new WeakMap}constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=n.initialStylesByElement.get(e);i||n.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&yr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yr(this._element,this._initialStyles),this._endStyles&&(yr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Po(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Po(this._element,this._endStyles),this._endStyles=null),yr(this._element,this._initialStyles),this._state=3)}};Lp=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:b0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Vp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return rT(e,t)}getParentElement(e){return y0(e)}query(e,t,r){return iT(e,t,r)}computeStyle(e,t,r){return b0(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(g=>g instanceof Lp);u4(r,i)&&u.forEach(g=>{g.currentSnapshot.forEach((b,E)=>l.set(E,b))});let d=a4(t).map(g=>new Map(g));d=d4(e,d,l);let v=z4(e,d);return new Lp(e,d,c,v)}},Op="@",hT="@.disabled",jp=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Op&&t==hT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},g0=class extends jp{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Op?t.charAt(1)=="."&&t==hT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==Op){let i=q4(e),o=t.slice(1),s="";return o.charAt(0)!=Op&&([o,s]=W4(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,t,r)}};Up=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new jp(r,i,this.engine,d),l.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new g0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}});function Y4(){return new Ap}function Q4(n,e,t){return new Up(n,e,t)}var K4,mT,gT,Z4,vT,yT=h(()=>{"use strict";N();N();Ba();E0();E0();De();K4=(()=>{class n extends na{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(F(pt),F(Ao),F(ko))}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac})}}return n})();mT=[{provide:ko,useFactory:Y4},{provide:na,useClass:K4},{provide:pi,useFactory:Q4,deps:[Ad,na,_e]}],gT=[{provide:Ao,useFactory:()=>new Vp},{provide:Tm,useValue:"BrowserAnimations"},...mT],Z4=[{provide:Ao,useClass:_0},{provide:Tm,useValue:"NoopAnimations"},...mT],vT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Z4:gT}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Ye({providers:gT,imports:[Nd]})}}return n})()});var Bp,_T=h(()=>{"use strict";N();Bp=class n{isMobile(){let e=navigator.userAgent.toLowerCase();return["android","webos","iphone","ipad","ipod","blackberry","windows phone","opera mini"].some(r=>e.includes(r))}isTablet(){let e=navigator.userAgent.toLowerCase();return/ipad|android(?!.*mobile)/i.test(e)}getDeviceType(){return this.isTablet()?"tablet":this.isMobile()?"mobile":"desktop"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}});function r8(n,e){if(n&1){let t=z();p(0,"div",30)(1,"span",31),S("click",function(){let i=O(t).$implicit,o=w(3);return T(o.joinSavedGroup(i))}),C(2),f(),p(3,"button",31),S("click",function(){let i=O(t).$implicit,o=w(3);return T(o.removeGroup(i))}),C(4,"X"),f()()}if(n&2){let t=e.$implicit;m(2),Pe(" ",t," ")}}function i8(n,e){if(n&1&&(p(0,"div",28),k(1,r8,5,1,"div",29),f()),n&2){let t=w(2);Bn("open",t.isSavedGroupsOpen),m(),y("ngForOf",t.savedGroups)}}function o8(n,e){if(n&1){let t=z();p(0,"div",23)(1,"div",24),S("click",function(){O(t);let i=w();return T(i.toggleSavedGroups())}),p(2,"span",25),C(3,"\u05D7\u05D3\u05E8\u05D9\u05DD \u05E9\u05DE\u05D5\u05E8\u05D9\u05DD"),f(),p(4,"span",26),C(5,"\u25BC"),f()(),k(6,i8,2,3,"div",27),f()}if(n&2){let t=w();m(4),Bn("open",t.isSavedGroupsOpen),m(2),y("ngIf",t.savedGroups.length>0)}}function s8(n,e){if(n&1){let t=z();p(0,"div",32)(1,"input",33,3),Ft("ngModelChange",function(i){O(t);let o=w();return Wt(o.room,i)||(o.room=i),T(i)}),f(),p(3,"button",34),S("click",function(){O(t);let i=w();return i.joinRoom(),T(i.isRoomJoined=!0)}),A(4,"img",35),f()()}if(n&2){let t=w();m(),Rt("ngModel",t.room)}}function a8(n,e){if(n&1){let t=z();p(0,"div",42)(1,"img",43),S("error",function(){O(t);let i=w().$implicit,o=w();return T(o.handleImageError(i.imageUrl))}),f(),p(2,"button",44),S("click",function(){O(t);let i=w().$implicit,o=w();return T(o.openMediaModal(i.imageUrl,"image"))}),A(3,"img",45),f()()}if(n&2){let t=w().$implicit;m(),y("src",t.imageUrl,Ie)}}function c8(n,e){if(n&1){let t=z();p(0,"div",46)(1,"video",47),S("error",function(){O(t);let i=w().$implicit,o=w();return T(o.handleVideoError(i.videoUrl))}),C(2," \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05D0 \u05EA\u05D5\u05DE\u05DA \u05D1\u05E0\u05D9\u05D2\u05D5\u05DF \u05D5\u05D9\u05D3\u05D0\u05D5. "),f(),p(3,"button",44),S("click",function(){O(t);let i=w().$implicit,o=w();return T(o.openMediaModal(i.videoUrl,"video"))}),A(4,"img",45),f()()}if(n&2){let t=w().$implicit;m(),y("src",t.videoUrl,Ie)}}function l8(n,e){if(n&1&&(p(0,"div"),C(1),f()),n&2){let t=w().$implicit;m(),ft(t.text)}}function u8(n,e){if(n&1&&(p(0,"div",36)(1,"span",37),C(2),f(),p(3,"div",38),k(4,a8,4,1,"div",39)(5,c8,5,1,"div",40)(6,l8,2,1,"div",41),f()()),n&2){let t=e.$implicit;y("ngClass",_n(5,n8,t.senderName==="Me",t.senderName!=="Me")),m(2),ft(t.senderName),m(2),y("ngIf",t.imageUrl),m(),y("ngIf",t.videoUrl),m(),y("ngIf",t.text)}}function d8(n,e){n&1&&(p(0,"span"),C(1,"\u2328\uFE0F"),f())}function f8(n,e){n&1&&(p(0,"span"),C(1,"\u2328\uFE0F"),f())}function p8(n,e){n&1&&(p(0,"span"),C(1,"\u{1F5BC}\uFE0F"),f())}function h8(n,e){n&1&&(p(0,"span"),C(1,"\u{1F3AC}"),f())}function g8(n,e){if(n&1&&(p(0,"div",48)(1,"div",49),k(2,d8,2,0,"span",41)(3,f8,2,0,"span",41)(4,p8,2,0,"span",41)(5,h8,2,0,"span",41),f()()),n&2){let t=w();m(2),y("ngIf",t.typingMessage==="Typing..."),m(),y("ngIf",t.typingMessage==="\u2328\uFE0F Sending a message..."),m(),y("ngIf",t.typingMessage==="\u{1F4F7} Sending an image..."),m(),y("ngIf",t.typingMessage==="\u{1F3A5} Sending a video...")}}function m8(n,e){if(n&1&&(p(0,"div",50),A(1,"div",51),p(2,"p"),C(3),f()()),n&2){let t=w();m(3),Pe("\u{1F504} \u05D4\u05E2\u05DC\u05D0\u05D4 \u05DE\u05EA\u05D1\u05E6\u05E2\u05EA... ",t.uploadProgress,"%")}}function v8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w();return T(o.sendMessage(i))}),A(1,"img",53),f()}}function y8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w();return T(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function _8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function C8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function b8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w(2);return T(o.sendMessage(i))}),A(1,"img",53),f()}}function w8(n,e){if(n&1){let t=z();p(0,"button",52),S("click",function(i){O(t);let o=w(2);return T(o.sendPrivateMessage(i))}),A(1,"img",53),f()}}function E8(n,e){if(n&1){let t=z();p(0,"div",54),S("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),p(1,"div",55),S("click",function(i){return O(t),T(i.stopPropagation())})("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),k(2,_8,1,1,"img",56)(3,C8,1,1,"video",57),p(4,"div",58)(5,"div",14)(6,"textarea",59,1),Ft("ngModelChange",function(i){O(t);let o=w();return Wt(o.newMessage,i)||(o.newMessage=i),T(i)}),S("keyup",function(){O(t);let i=w();return T(i.onTyping())})("blur",function(){O(t);let i=w();return T(i.onStopTyping())}),f()(),k(8,b8,2,0,"button",20)(9,w8,2,0,"button",20),f()()()}if(n&2){let t=w();m(2),y("ngIf",t.selectedMedia.type==="image"),m(),y("ngIf",t.selectedMedia.type==="video"),m(3),Rt("ngModel",t.newMessage),m(2),y("ngIf",t.chatType==="group"),m(),y("ngIf",t.chatType==="private")}}function M8(n,e){if(n&1&&A(0,"img",72),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Ie)}}function D8(n,e){if(n&1&&A(0,"video",73),n&2){let t=w(2);y("src",t.pendingMediaMessage.mediaUrl,Ie)}}function S8(n,e){if(n&1){let t=z();p(0,"div",62)(1,"div",63)(2,"h3"),C(3,"\u05E2\u05E8\u05D9\u05DB\u05EA \u05D4\u05D5\u05D3\u05E2\u05EA \u05DE\u05D3\u05D9\u05D4"),f(),bt(4,64),k(5,M8,1,1,"img",65)(6,D8,1,1,"video",66),wt(),p(7,"textarea",67),Ft("ngModelChange",function(i){O(t);let o=w();return Wt(o.pendingMediaMessage.text,i)||(o.pendingMediaMessage.text=i),T(i)}),S("keyup",function(){O(t);let i=w();return T(i.onTyping())})("blur",function(){O(t);let i=w();return T(i.onStopTyping())}),f(),p(8,"div",68)(9,"button",69),S("click",function(){O(t);let i=w();return T(i.sendPendingMediaMessage())}),A(10,"img",70),f(),p(11,"button",71),S("click",function(){O(t);let i=w();return T(i.cancelPendingMediaMessage())}),C(12,"\u2716\uFE0F"),f()()()()}if(n&2){let t=w();m(4),y("ngSwitch",t.pendingMediaMessage.mediaType),m(),y("ngSwitchCase","image"),m(),y("ngSwitchCase","video"),m(),Rt("ngModel",t.pendingMediaMessage.text)}}function x8(n,e){if(n&1&&A(0,"img",60),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function I8(n,e){if(n&1&&A(0,"video",61),n&2){let t=w(2);y("src",t.selectedMedia.url,Ie)}}function O8(n,e){if(n&1){let t=z();p(0,"div",54),S("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),p(1,"div",55),S("click",function(i){return O(t),T(i.stopPropagation())})("click",function(){O(t);let i=w();return T(i.closeMediaModal())}),k(2,x8,1,1,"img",56)(3,I8,1,1,"video",57),f()()}if(n&2){let t=w();m(2),y("ngIf",t.selectedMedia.type==="image"),m(),y("ngIf",t.selectedMedia.type==="video")}}var X4,e8,t8,n8,ra,M0=h(()=>{"use strict";N();we();cc();ea();fc();N();js();xt();zy();_T();yp();La();De();In();qr();X4=["roomInput"],e8=["chatInput"],t8=["messagesContainer"],n8=(n,e)=>({"my-message":n,"other-message":e});ra=class n{constructor(e,t,r,i,o,s){this.socketService=e;this.userService=t;this.errorLogger=r;this.deviceService=i;this.notificationService=o;this.http=s;this.currentUser=this.userService.getLoggedInUser(),this.isMobile=this.deviceService.isMobile()}isDevelopment=!0;closeChat=new X;chatType="group";targetUserId="";targetUsername="";roomInput;chatInput;notificationsEnabled=!1;Notification=Notification;notificationPermission="default";messagesContainer;isUploading=!1;uploadProgress=0;typingMessage="";isTyping=!1;typingDebounceTimer=null;selectedMedia=null;savedGroups=[];isSavedGroupsOpen=!1;room="";newMessage="";messages=[];privateMessages=[];socketSubscription;isPrivateMessageListenerActive=!1;userCache={};isRoomJoined=!1;currentUser;isMobile=!1;firebaseService=_(Tn);cloudinaryService=_(gr);processedMessageIds=new Set;pendingMediaMessage=null;typingTimeout=null;TYPING_DELAY=2e3;ngAfterViewInit(){this.chatType==="group"&&!this.isRoomJoined?this.roomInput.nativeElement.focus():this.chatInput.nativeElement.focus(),this.scrollToBottom()}showDebugInfo(){let e=this.errorLogger.getLogs(),t={currentUser:this.currentUser,chatType:this.chatType,targetUserId:this.targetUserId,messagesCount:this.privateMessages.length,logs:e};alert(JSON.stringify(t,null,2))}ngOnInit(){this.loadSavedGroups(),this.userService.getUserById(this.targetUserId).subscribe({next:e=>{console.log("Fetched target user:",e),this.targetUsername=e.username||"Unknown",this.errorLogger.log("Chat component initialized",{chatType:this.chatType,targetUserId:this.targetUserId,targetUsername:this.targetUsername})},error:e=>{console.error("Failed to load target user by ID",e),this.targetUsername="Unknown"}}),this.socketSubscription=new je,this.notificationPermission=Notification.permission,this.initializeNotifications(),this.firebaseService.getFCMToken().then(e=>{e&&(console.log("\u{1F511} FCM Token received:",e),this.notificationService.saveSubscription({token:e}))}),this.firebaseService.listenForMessages(),this.notificationPermission!=="granted"&&this.showNotificationPrompt(),this.chatType==="group"?(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.socketService.subscribeToChatAddMsg(e=>P(this,null,function*(){if(console.log("\u{1F4E9} \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4:",e),console.log("\u{1F5BC}\uFE0F \u05EA\u05DE\u05D5\u05E0\u05D4:",e.imageUrl),console.log("\u{1F3A5} \u05D5\u05D9\u05D3\u05D0\u05D5:",e.videoUrl),e.sender===this.currentUser._id?e.senderName="Me":e.senderName||(e.senderName=this.userCache[e.sender]||"User "+e.sender),this.messages.push(e),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&e.sender!==this.currentUser._id)try{let t={title:"\u{1F4E2} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05D1\u05E7\u05D1\u05D5\u05E6\u05D4",body:e.text?e.text:e.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":e.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:e.imageUrl?e.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:e.sender,chatType:"group"}};yield this.notificationService.sendNotification(t),console.log("\u2705 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E7\u05D1\u05D5\u05E6\u05EA\u05D9\u05EA:",e)}catch(t){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4:",t)}}))):this.chatType==="private"&&(this.socketSubscription.add(this.socketService.on("user-typing",e=>{console.log("\u270D\uFE0F Typing event received:",e),e.fromUserId!==this.currentUser._id&&this.showTypingIndicator(e.messageType)})),this.loadPrivateMessages()),this.socketSubscription.add(this.socketService.on("user-stop-typing",e=>{console.log("\u{1F6D1} stop-typing event received:",e),e.fromUserId!==this.currentUser?._id&&(this.isTyping=!1)}))}showTypingIndicator(e){this.isTyping=!0,e==="text"?this.typingMessage="Typing...":e==="image"?this.typingMessage="\u{1F4F7} Sending an image...":e==="video"?this.typingMessage="\u{1F3A5} Sending a video...":this.typingMessage="Typing..."}onTyping(){this.targetUserId&&(clearTimeout(this.typingDebounceTimer),this.typingDebounceTimer=setTimeout(()=>{this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:"text"})},5),clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.onStopTyping()},this.TYPING_DELAY))}onStopTyping(){this.targetUserId&&this.socketService.emit("stop-typing",{toUserId:this.targetUserId})}showNotificationPrompt(){if(document.querySelector(".notification-prompt"))return;let e=document.createElement("div");e.className="notification-prompt",e.innerHTML=`
      <div class="notification-alert">
        \u05D4\u05D0\u05DD \u05EA\u05E8\u05E6\u05D4 \u05DC\u05E7\u05D1\u05DC \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05E2\u05DC \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA \u05D7\u05D3\u05E9\u05D5\u05EA?
        <div class="notification-actions">
          <button id="allow-btn">\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA</button>
          <button id="dismiss-btn">\u05DC\u05D0 \u05EA\u05D5\u05D3\u05D4</button>
        </div>
      </div>
    `,document.body.appendChild(e),document.getElementById("allow-btn")?.addEventListener("click",()=>P(this,null,function*(){console.log("\u{1F7E2} \u05DC\u05D7\u05D9\u05E6\u05D4 \u05E2\u05DC '\u05D0\u05E4\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA'"),Notification.requestPermission().then(t=>P(this,null,function*(){console.log("\u{1F514} \u05D4\u05E8\u05E9\u05D0\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4:",t),t==="granted"?(yield this.requestNotificationPermission(),console.log("\u2705 \u05D4\u05D4\u05E8\u05E9\u05D0\u05D4 \u05D0\u05D5\u05E9\u05E8\u05D4 \u05D5\u05D4\u05D5\u05D2\u05D3\u05E8\u05D4")):console.warn("\u274C \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05DC\u05D0 \u05D0\u05D9\u05E9\u05E8 \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA")})),e.remove()})),document.getElementById("dismiss-btn")?.addEventListener("click",()=>{console.log("\u{1F515} \u05D4\u05DE\u05E9\u05EA\u05DE\u05E9 \u05D3\u05D7\u05D4 \u05D0\u05EA \u05D4\u05D1\u05E7\u05E9\u05D4"),e.remove()})}scrollToBottom(){setTimeout(()=>{this.messagesContainer?.nativeElement&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)},100)}sendTestNotification(){return P(this,null,function*(){console.log("\u{1F680} sendTestNotification called"),console.log("Starting test notification");try{let e={title:"\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4",body:"\u05D6\u05D5 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05D1\u05D3\u05D9\u05E7\u05EA\u05D9\u05EA",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",data:{userId:this.currentUser._id}};console.log("\u{1F4E1} Sending notification request to server:",e),yield this.notificationService.sendNotification(e),console.log("\u2705 \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4",this.currentUser._id)}catch(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}initializeNotifications(){return P(this,null,function*(){if(this.notificationsEnabled=this.notificationService.isPushEnabled(),this.notificationsEnabled)try{yield this.notificationService.requestSubscription(),this.errorLogger.log("Notification subscription successful"),this.notificationService.getMessages().subscribe(e=>{this.errorLogger.log("Push message received",e)}),this.notificationService.getNotificationClicks().subscribe(e=>{this.errorLogger.log("Notification clicked",e)})}catch(e){this.errorLogger.log("Notification subscription failed",e)}})}requestNotificationPermission(){return P(this,null,function*(){if(!("serviceWorker"in navigator)||!("PushManager"in window)){this.errorLogger.log("Push notifications not supported");return}try{let t=yield(yield navigator.serviceWorker.register("/ngsw-worker.js")).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(gt.notifications.vapidPublicKey)});yield this.notificationService.requestSubscription(),this.notificationsEnabled=!0,this.errorLogger.log("Push notification subscription successful:",t)}catch(e){this.errorLogger.log("Failed to request notification permission",e)}})}urlBase64ToUint8Array(e){let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(r),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}loadPrivateMessages(){console.log("\u{1F7E2} loadPrivateMessages() is being called");let e=this.socketService.getPrivateMessages(),t=this.userService.getLoggedInUser();this.scrollToBottom(),console.log("Current user:",t._id),console.log("Target user:",this.targetUserId),console.log("All messages:",e),this.privateMessages=e.filter(r=>{let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;return console.log("Message:",r),console.log("Is participant?",i),i}).map(r=>B(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender})),this.isPrivateMessageListenerActive||(this.socketService.onPrivateMessage(r=>P(this,null,function*(){console.log("New message received:",r),console.log("Preparing notification for message:",{sender:r.sender,text:r.text,imageUrl:r.imageUrl,videoUrl:r.videoUrl,currentUserId:this.currentUser._id});let i=r.sender===t._id&&r.toUserId===this.targetUserId||r.sender===this.targetUserId&&r.toUserId===t._id;if(console.log("Is message relevant?",i),i){console.log("New message received:",r);let o=B(M({},r),{senderName:r.sender===t._id?"Me":r.senderName||"User "+r.sender}),s=this.privateMessages.findIndex(a=>a.tempId!==void 0&&o.tempId!==void 0&&a.tempId===o.tempId);if(s!==-1?this.privateMessages[s]=M(M({},this.privateMessages[s]),o):this.privateMessages.push(o),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.notificationsEnabled&&r.sender!==t._id)try{let a={title:`\u{1F6A8} \u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4 \u05DE- ${o.senderName}`,body:r.text?r.text:r.imageUrl?"\u{1F4F7} \u05E0\u05E9\u05DC\u05D7\u05D4 \u05EA\u05DE\u05D5\u05E0\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA":r.videoUrl?"\u{1F3A5} \u05E0\u05E9\u05DC\u05D7 \u05E1\u05E8\u05D8\u05D5\u05DF \u05E4\u05E8\u05D8\u05D9":"\u{1F4E9} \u05E7\u05D9\u05D1\u05DC\u05EA \u05D4\u05D5\u05D3\u05E2\u05D4 \u05E4\u05E8\u05D8\u05D9\u05EA",icon:r.imageUrl?r.imageUrl:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],sound:"default",requireInteraction:!0,data:{senderId:r.sender,targetUserId:t._id,chatType:"private"}};yield this.notificationService.sendNotification(a)}catch(a){this.errorLogger.log("Error handling incoming message notification",a)}}})),this.isPrivateMessageListenerActive=!0)}testPushNotification(){return P(this,null,function*(){console.error("Starting testPushNotification");try{if(!("Notification"in window)){this.errorLogger.log("\u05D3\u05E4\u05D3\u05E4\u05DF \u05D6\u05D4 \u05D0\u05D9\u05E0\u05D5 \u05EA\u05D5\u05DE\u05DA \u05D1\u05D4\u05EA\u05E8\u05D0\u05D5\u05EA");return}if((yield Notification.requestPermission())!=="granted"){this.errorLogger.log("\u05D4\u05E8\u05E9\u05D0\u05EA \u05D4\u05EA\u05E8\u05D0\u05D5\u05EA \u05DC\u05D0 \u05D0\u05D5\u05E9\u05E8\u05D4");return}yield this.notificationService.sendNotification({title:"\u05D1\u05D3\u05D9\u05E7\u05EA \u05DE\u05E2\u05E8\u05DB\u05EA",body:"\u05D4\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D5\u05EA \u05E2\u05D5\u05D1\u05D3\u05D5\u05EA!",icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png"}),this.errorLogger.log("\u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D9\u05EA \u05D1\u05D3\u05D9\u05E7\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4")}catch(e){this.errorLogger.log("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05E0\u05D5\u05D8\u05D9\u05E4\u05D9\u05E7\u05E6\u05D9\u05D4",e)}})}joinSavedGroup(e){this.room=e,this.joinRoom(),this.isSavedGroupsOpen=!1}toggleSavedGroups(){this.isSavedGroupsOpen=!this.isSavedGroupsOpen}removeGroup(e){this.savedGroups=this.savedGroups.filter(t=>t!==e),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))}loadSavedGroups(){let e=localStorage.getItem("savedGroups");e&&(this.savedGroups=JSON.parse(e))}joinRoom(){this.room.trim()&&(this.savedGroups.includes(this.room)||(this.savedGroups.push(this.room),localStorage.setItem("savedGroups",JSON.stringify(this.savedGroups))),this.socketService.emit("chat-set-topic",this.room),this.isRoomJoined=!0,setTimeout(()=>{this.chatInput.nativeElement.focus()}))}onFileSelected(e){let t=e.target;if(t.files&&t.files[0]){let r=t.files[0];console.log(`\u{1F4C2} File selected: ${r.name}, size: ${r.size} bytes, type: ${r.type}`);let i=r.type.startsWith("video/"),o=r.type.startsWith("image/");(i||o)&&(this.chatType==="private"&&this.targetUserId?this.socketService.emit("typing",{toUserId:this.targetUserId,messageType:i?"video":"image"}):this.chatType==="group"&&this.socketService.emit("typing",{messageType:i?"video":"image"})),this.isUploading=!0,this.uploadProgress=5;let s=setInterval(()=>{this.uploadProgress<100&&(this.uploadProgress+=1)},100);this.cloudinaryService.uploadImage(r).subscribe({next:a=>{console.log(`\u2705 File uploaded successfully! URL: ${a}`),clearInterval(s),this.uploadProgress=100,setTimeout(()=>{this.isUploading=!1},10),this.pendingMediaMessage={mediaUrl:a,mediaType:i?"video":"image",text:""}},error:a=>{console.error(`\u274C Error uploading file: ${a.message}`,a),this.isUploading=!1}})}else console.warn("\u26A0\uFE0F No file selected or file input is empty.")}triggerCloseChat(){this.closeChat.emit()}sendPendingMediaMessage(){if(!this.pendingMediaMessage)return;let e={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.pendingMediaMessage.text,imageUrl:this.pendingMediaMessage.mediaType==="image"?this.pendingMediaMessage.mediaUrl:"",videoUrl:this.pendingMediaMessage.mediaType==="video"?this.pendingMediaMessage.mediaUrl:""};this.chatType==="private"?(this.socketService.sendPrivateMessage(this.targetUserId,e.text,e.tempId||void 0,e.imageUrl,e.videoUrl),this.privateMessages.push(e)):this.socketService.sendMessage(e.text,e.imageUrl,e.videoUrl),this.pendingMediaMessage=null,this.scrollToBottom(),this.onStopTyping()}cancelPendingMediaMessage(){this.pendingMediaMessage=null}sendVideoMessage(e){console.log(`\u{1F3AC} Preparing to send video message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:"",videoUrl:e,text:""};console.log("\u{1F4E1} Emitting video message via socket...",t),this.socketService.sendMessage("","",e),console.log("\u{1F4BE} Adding video message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending video..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}handleImageError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4:",e)}handleVideoError(e){console.error("\u274C \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D5\u05D9\u05D3\u05D0\u05D5:",e)}sendImageMessage(e){console.log(`\u{1F680} Preparing to send group image message: ${e}`);let t={sender:this.currentUser._id,senderName:"Me",imageUrl:e,text:""};console.log("\u{1F4E1} Emitting group image message via socket...",t),this.socketService.sendMessage("",e),console.log("\u{1F4BE} Adding image message to messages array..."),console.log("\u{1F4DC} Scrolling to bottom after sending image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateImageMessage(e,t){console.log(`\u{1F4E9} Preparing to send private image message to user ${this.targetUserId}: ${e}`);let r={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",imageUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private image message via socket...",r),this.socketService.sendPrivateMessage(this.targetUserId,"",r.tempId,e,void 0),console.log("\u{1F4BE} Adding private image message to privateMessages array..."),this.privateMessages.push(r),console.log("\u{1F4DC} Scrolling to bottom after sending private image..."),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},700),this.onStopTyping()}sendPrivateVideoMessage(e){console.log(`\u{1F3AC} Sending private video message to ${this.targetUserId}: ${e}`);let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",videoUrl:e,toUserId:this.targetUserId,text:""};console.log("\u{1F4E1} Emitting private video message via socket...",t),this.socketService.sendPrivateMessage(this.targetUserId,"",t.tempId,void 0,e),console.log("\u{1F4BE} Adding private video message to privateMessages array..."),this.privateMessages.push(t),setTimeout(()=>{requestAnimationFrame(()=>this.scrollToBottom())},1250),this.onStopTyping()}sendMessage(e){if(e&&e.preventDefault(),!this.newMessage.trim())return;let t={sender:this.currentUser._id,senderName:"Me",text:this.newMessage};this.socketService.emit("chat-send-msg",t),this.scrollToBottom();let r=this.chatInput?.nativeElement;r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),this.onStopTyping()}sendPrivateMessage(e){return P(this,null,function*(){if(e&&e.preventDefault(),this.errorLogger.log("Attempting to send private message",{to:this.targetUserId,text:this.newMessage}),!this.targetUserId.trim()||!this.newMessage.trim())return;let t={tempId:Date.now(),sender:this.currentUser._id,senderName:"Me",text:this.newMessage,toUserId:this.targetUserId};this.socketService.sendPrivateMessage(this.targetUserId,this.newMessage,t.tempId,void 0,void 0),this.privateMessages.push(t),this.scrollToBottom(),this.onStopTyping();let r=this.chatInput?.nativeElement;if(r.blur(),this.newMessage="",setTimeout(()=>{r.focus()},10),console.log("Message content:",this.newMessage),this.notificationsEnabled)try{let i={title:"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05D7\u05D3\u05E9\u05D4",body:t.text,icon:"https://res.cloudinary.com/dzqnyehxn/image/upload/v1739858070/belll_fes617.png",vibrate:[200,100,200],requireInteraction:!0,data:{senderId:this.currentUser._id,targetUserId:this.targetUserId,chatType:"private"}};yield this.notificationService.sendNotification(i)}catch(i){this.errorLogger.log("Error handling notification",i)}})}openMediaModal(e,t){this.selectedMedia={url:e,type:t}}closeMediaModal(){this.selectedMedia=null}ngOnDestroy(){this.socketSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(D(Mn),D(Ce),D(Vs),D(Bp),D(Fi),D(po))};static \u0275cmp=Z({type:n,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&(od(X4,5),od(e8,5),od(t8,5)),t&2){let i;vs(i=ys())&&(r.roomInput=i.first),vs(i=ys())&&(r.chatInput=i.first),vs(i=ys())&&(r.messagesContainer=i.first)}},inputs:{chatType:"chatType",targetUserId:"targetUserId"},outputs:{closeChat:"closeChat"},decls:27,vars:12,consts:[["messagesContainer",""],["chatInput",""],["fileInput",""],["roomInput",""],[1,"chat-container"],[1,"chat-header"],[1,"close-dropdown",3,"click"],["src","../../../assets/images/backB.png","alt","go back",1,"close-chat"],["class","saved-groups-container",4,"ngIf"],["class","room-selection",4,"ngIf"],[1,"chat-box"],[1,"messages"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["for","fileInput",1,"upload-icon"],["placeholder","Type a message...",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["type","file","id","fileInput","hidden","",3,"change"],["class","typing-indicator-inside",4,"ngIf"],["class","upload-loader",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],["class","image-modal",3,"click",4,"ngIf"],["class","pending-media-overlay",4,"ngIf"],[1,"saved-groups-container"],[1,"saved-groups-header",3,"click"],[1,"label"],[1,"arrow"],["class","saved-groups-dropdown",3,"open",4,"ngIf"],[1,"saved-groups-dropdown"],["class","saved-group-item",4,"ngFor","ngForOf"],[1,"saved-group-item"],[3,"click"],[1,"room-selection"],["placeholder","Enter room name",1,"room-input",3,"ngModelChange","ngModel"],[1,"join-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740638820/application_xnlu1o.png","alt","go back",1,"send-btn"],[1,"message",3,"ngClass"],[1,"sender"],[1,"message-content"],["class","image-container",4,"ngIf"],["class","video-container",4,"ngIf"],[4,"ngIf"],[1,"image-container"],["alt","Image",1,"chat-image",3,"error","src"],[1,"enlarge-button",3,"click"],["src","../../../assets/images/arrows.png","alt","go back",1,"zoom-chat"],[1,"video-container"],["controls","","preload","metadata",1,"chat-video",3,"error","src"],[1,"typing-indicator-inside"],[1,"blink-icon-wrapper"],[1,"upload-loader"],[1,"spinner"],[1,"send-button",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn"],[1,"image-modal",3,"click"],["evStop","",1,"modal-content",3,"click"],["alt","Enlarged Image","class","enlarged-image",3,"src",4,"ngIf"],["controls","","class","enlarged-video",3,"src",4,"ngIf"],[1,"chat-input",2,"margin-top","1em"],["placeholder","Type a message...","rows","1",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],["alt","Enlarged Image",1,"enlarged-image",3,"src"],["controls","",1,"enlarged-video",3,"src"],[1,"pending-media-overlay"],[1,"pending-media-message"],[3,"ngSwitch"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src",4,"ngSwitchCase"],["controls","","class","pending-media-video",3,"src",4,"ngSwitchCase"],["type","text","placeholder","\u05D4\u05D5\u05E1\u05D9\u05E4\u05D5 \u05D8\u05E7\u05E1\u05D8 \u05DC\u05DE\u05D3\u05D9\u05D4",1,"styled-input",3,"ngModelChange","keyup","blur","ngModel"],[1,"buttons-modal"],[1,"send-button-modal",3,"click"],["src","https://res.cloudinary.com/dzqnyehxn/image/upload/v1740631997/send_e12sar.png","alt","send",1,"send-btn-modal"],[1,"cancel-button-modal",3,"click"],["alt","\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05E9\u05DC \u05D4\u05EA\u05DE\u05D5\u05E0\u05D4",3,"src"],["controls","",1,"pending-media-video",3,"src"]],template:function(t,r){if(t&1){let i=z();p(0,"div",4)(1,"div",5)(2,"button",6),S("click",function(){return O(i),T(r.triggerCloseChat())}),A(3,"img",7),f(),p(4,"h2"),C(5),f(),k(6,o8,7,3,"div",8),f(),k(7,s8,5,1,"div",9),p(8,"div",10)(9,"div",11,0),k(11,u8,7,8,"div",12),f(),p(12,"div",13)(13,"div",14)(14,"label",15),C(15,"\u{1F4CE}"),f(),p(16,"textarea",16,1),Ft("ngModelChange",function(s){return O(i),Wt(r.newMessage,s)||(r.newMessage=s),T(s)}),S("keyup",function(){return O(i),T(r.onTyping())})("blur",function(){return O(i),T(r.onStopTyping())}),f(),p(18,"input",17,2),S("change",function(s){return O(i),T(r.onFileSelected(s))}),f(),k(20,g8,6,4,"div",18),f(),k(21,m8,4,1,"div",19)(22,v8,2,0,"button",20)(23,y8,2,0,"button",20),f()()(),k(24,E8,10,5,"div",21)(25,S8,13,4,"div",22)(26,O8,4,2,"div",21)}t&2&&(m(5),Pe(" ",r.chatType==="group"?r.room:r.targetUsername," "),m(),y("ngIf",r.chatType==="group"),m(),y("ngIf",r.chatType==="group"&&!r.isRoomJoined),m(4),y("ngForOf",r.chatType==="group"?r.messages:r.privateMessages),m(5),Rt("ngModel",r.newMessage),m(4),y("ngIf",r.isTyping),m(),y("ngIf",r.isUploading),m(),y("ngIf",r.chatType==="group"),m(),y("ngIf",r.chatType==="private"),m(),y("ngIf",r.selectedMedia),m(),y("ngIf",r.pendingMediaMessage),m(),y("ngIf",r.selectedMedia))},dependencies:[fr,pr,me,vv,tD,Sn,vr,Gr,mt],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;max-width:450px;height:90vh;padding:20px;border-radius:10px;background-color:#fff;box-shadow:0 4px 10px #0003;font-family:Arial,sans-serif;z-index:1000;display:flex;flex-direction:column}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;position:relative;padding:.5rem;background-color:#fafafa;border-bottom:1px solid #ddd}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;margin-right:.5rem}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]   .close-chat[_ngcontent-%COMP%]{width:2.5em;height:2.5em}.chat-container[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5em;text-align:center;flex:1}.upload-loader[_ngcontent-%COMP%]{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);background:#000000bf;color:#fff;padding:10px;border-radius:10px;text-align:center;display:flex;flex-direction:column;align-items:center;z-index:1100}.spinner[_ngcontent-%COMP%]{width:35px;height:35px;border:4px solid rgba(255,255,255,.3);border-top:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.room-selection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px}.room-input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ccc;border-radius:20px;font-size:14px;outline:none;margin-right:1em}.join-button[_ngcontent-%COMP%]{max-width:5em;color:#fff;border:black solid 1px;border-radius:20px;cursor:pointer;font-size:14px;transition:background-color .3s}.join-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.chat-box[_ngcontent-%COMP%]{background:#f0f0f0;border-radius:8px;padding:10px;overflow:hidden;flex-grow:1;display:flex;flex-direction:column;position:relative}.messages[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto;padding:10px;display:flex;flex-direction:column}.message[_ngcontent-%COMP%]{max-width:92%;padding:10px;border-radius:10px;margin-bottom:8px;word-wrap:break-word;display:flex;flex-direction:column}.my-message[_ngcontent-%COMP%]{align-self:flex-end;background:#dcf8c6;text-align:right}.other-message[_ngcontent-%COMP%]{align-self:flex-start;background:#e3f2fd}.sender[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#555}.message-content[_ngcontent-%COMP%]{font-size:14px;color:#333}.chat-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;border-radius:8px;margin-top:5px;cursor:pointer}.chat-video[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:8px;margin-top:5px;cursor:pointer;background:#000}.typing-indicator-inside[_ngcontent-%COMP%]{position:absolute;right:55px;top:50%;transform:translateY(-50%);animation:_ngcontent-%COMP%_blink 1.2s infinite}.typing-indicator-inside[_ngcontent-%COMP%]   .blink-icon-wrapper[_ngcontent-%COMP%]{font-size:20px;display:flex;align-items:center}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@media (max-width: 600px){.chat-video[_ngcontent-%COMP%]{max-width:200px;max-height:200px}}.chat-input[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;gap:8px;padding:10px;background-color:#fff;border-radius:20px}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}.styled-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px 12px 40px;border:1px solid #ccc;border-radius:20px;font-size:14px;background-color:#fff;outline:none;box-shadow:inset 0 2px 4px #0000001a}.upload-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:20px;cursor:pointer}.send-button[_ngcontent-%COMP%]{position:absolute;right:5px;width:60px;height:60px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.send-button[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.send-btn[_ngcontent-%COMP%]{max-width:100%;padding:.2em;position:relative;right:.3em}@media (max-width: 600px){.chat-container[_ngcontent-%COMP%]{width:95%;max-width:350px}.messages[_ngcontent-%COMP%]{max-height:55vh}.chat-input[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.styled-input[_ngcontent-%COMP%]{flex:1;max-width:90%}.send-button[_ngcontent-%COMP%]{position:absolute}}.notification-prompt[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:15px;box-shadow:0 4px 6px #0000001a;z-index:1100;text-align:center}.notification-alert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.notification-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.allow-btn[_ngcontent-%COMP%], .dismiss-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}.allow-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.dismiss-btn[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.debug-panel[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000}.debug-button[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#f0f0f0cc;border:1px solid #ddd;border-radius:50%;padding:0;font-size:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000001a;opacity:.6}.debug-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}.close-dropdown[_ngcontent-%COMP%]:hover{color:red}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.enlarge-button[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:#f4efef80;border:none;color:#fff;padding:5px;cursor:pointer;border-radius:50%;max-width:2em;max-height:2em}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-content[_ngcontent-%COMP%]{position:relative}.enlarged-image[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.image-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1100;overflow:auto}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;padding:10px}.enlarged-image[_ngcontent-%COMP%]{max-width:50%;max-height:95%;display:block;margin:auto;border-radius:8px}.enlarged-video[_ngcontent-%COMP%]{max-width:90%;max-height:90%;border-radius:8px}.close-modal[_ngcontent-%COMP%]{position:absolute;top:0;right:15em;background:#00000080;border:none;color:#fff;padding:5px 10px;cursor:pointer;border-radius:5px}.video-container[_ngcontent-%COMP%]{position:relative;display:inline-block}@media (max-width: 600px){.enlarged-image[_ngcontent-%COMP%]{max-width:70%;max-height:95%;border-radius:0}.close-modal[_ngcontent-%COMP%]{top:0;right:5em;padding:4px 8px;font-size:16px}}.saved-groups-container[_ngcontent-%COMP%]{margin-left:10px;width:7em;border:1px solid #ddd;border-radius:8px;background:#fff;box-shadow:0 2px 6px #0000000d;overflow:hidden}.saved-groups-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;cursor:pointer;background:linear-gradient(135deg,#fafafa,#f0f0f0)}.saved-groups-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f2f2f2,#e8e8e8)}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease;color:#444}.saved-groups-header[_ngcontent-%COMP%]   .arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.saved-groups-dropdown[_ngcontent-%COMP%]{max-height:0;transition:max-height .4s ease-in-out;overflow:hidden;border-top:1px solid #ddd}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:300px}.saved-group-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px solid #f0f0f0;transition:background-color .2s}.saved-group-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:14px;color:#333;cursor:pointer}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#ff4d4d;font-size:1.2em;cursor:pointer;transition:color .3s}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:red}@media (max-width: 600px){.saved-groups-header[_ngcontent-%COMP%]{padding:8px}.saved-groups-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px}.saved-groups-header[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:12px}.saved-groups-dropdown.open[_ngcontent-%COMP%]{max-height:200px}.saved-group-item[_ngcontent-%COMP%]{padding:6px 8px}.saved-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.saved-group-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1em}}.pending-media-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1200;display:flex;align-items:center;justify-content:center}.pending-media-message[_ngcontent-%COMP%]{position:relative;background:#fff;padding:20px;border-radius:10px;width:90%;max-width:500px;text-align:center;box-shadow:0 4px 10px #0003}.pending-media-message[_ngcontent-%COMP%]   .buttons-modal[_ngcontent-%COMP%]{display:flex;justify-content:center}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#25d366;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .send-button-modal[_ngcontent-%COMP%]:hover{background-color:#1ebd59}.pending-media-message[_ngcontent-%COMP%]   .send-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]{right:5px;width:50px;height:50px;border:none;background-color:#b30c17;color:#fff;border-radius:50%;font-size:18px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color .3s;box-shadow:0 2px 4px #00000026}.pending-media-message[_ngcontent-%COMP%]   .cancel-button-modal[_ngcontent-%COMP%]:hover{background-color:#ef9b9b}.pending-media-message[_ngcontent-%COMP%]   .cancel-btn-modal[_ngcontent-%COMP%]{max-width:100%;position:relative;right:.3em}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;font-size:1.2em;color:#333}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;margin:10px 0;font-size:14px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{background-color:#28a745;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type:hover{background-color:#218838}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{background-color:#dc3545;color:#fff}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type:hover{background-color:#c82333}@media (max-width: 600px){.pending-media-message[_ngcontent-%COMP%]{width:95%;padding:15px}.pending-media-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1em}.pending-media-message[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:8px;font-size:13px}.pending-media-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}}.pending-media-video[_ngcontent-%COMP%]{max-width:100%;max-height:300px;margin-bottom:1em;border-radius:8px;background:#000}']})}});function A8(n,e){if(n&1&&(p(0,"span",18),C(1),f()),n&2){let t=w().ngIf;m(),ft(t)}}function k8(n,e){if(n&1&&(bt(0),k(1,A8,2,1,"span",17),wt()),n&2){let t=e.ngIf,r=w();m(),y("ngIf",t>0&&!r.isPrivateChatOpen)}}function N8(n,e){if(n&1){let t=z();p(0,"li",22),S("click",function(){let i=O(t).$implicit,o=w(2);return T(o.navigateToContact(i._id))}),C(1),f()}if(n&2){let t=e.$implicit;m(),Pe(" ",t.name," ")}}function R8(n,e){if(n&1){let t=z();p(0,"div",19)(1,"button",20),S("click",function(){O(t);let i=w();return T(i.closeContactsDropdown())}),C(2,"\xD7"),f(),p(3,"ul"),k(4,N8,2,1,"li",21),f()()}if(n&2){let t=w();m(4),y("ngForOf",t.contacts)}}function F8(n,e){if(n&1){let t=z();p(0,"div",23),S("clickOutsideCapture",function(){O(t);let i=w();return T(i.closePrivateChat())}),p(1,"div",24)(2,"span",25),S("click",function(){O(t);let i=w();return T(i.closePrivateChat())}),C(3,"\xD7"),f(),p(4,"app-chat",26),S("closeChat",function(){O(t);let i=w();return T(i.closePrivateChat())}),f()()()}if(n&2){let t=w();m(4),y("chatType","private")("targetUserId",t.user._id)}}var P8,$p,CT=h(()=>{"use strict";N();ct();we();xt();N();ct();js();Zf();Hr();De();qr();zs();M0();P8=n=>({"long-field":n});$p=class n{constructor(e,t,r,i){this.router=e;this.socketService=t;this.userIndex=r;this.contactService=i}user;remove=new X;isPrivateChatOpen=!1;unreadMessagesCount=0;unreadMessagesCount$;userId=_(Ce).getLoggedInUser()._id;contacts=[];allContacts=[];showContactsDropdown=!1;static openDropdownIdSubject=new fe(null);static openDropdownId$=n.openDropdownIdSubject.asObservable();ngOnInit(){console.log("\u{1F680} UserPreviewComponent initialized"),n.openDropdownId$.subscribe(e=>{this.showContactsDropdown=e===this.user._id}),this.router.events.subscribe(e=>{e instanceof wi&&(console.log("\u{1F534} Navigation detected, closing dropdown..."),n.openDropdownIdSubject.next(null))}),document.addEventListener("visibilitychange",this.handleVisibilityChange),this.unreadMessagesCount$=this.userIndex.getUnreadMessagesCount(this.user._id),this.socketService.onPrivateMessage(e=>{e.toUserId===this.user._id&&(console.log(`\u{1F4E9} New private message received for ${this.user.username}:`,e),this.isPrivateChatOpen||this.unreadMessagesCount++)})}onPreviewClick(){console.log("Navigating to:",{modal:["user",this.user._id]}),this.router.navigate([{outlets:{modal:["user",this.user._id]}}])}openPrivateChat(e){e.stopPropagation(),console.log(`\u{1F7E2} Opening private chat with user: ${this.user._id}`),this.isPrivateChatOpen=!0,this.userIndex.resetUnreadMessages(this.user._id)}filterContactsByOwner(e){this.contacts=this.allContacts.filter(t=>{let r=t.owner;return(typeof r=="string"?r:r?._id)===e}),console.log("\u{1F50D} Contacts filtered for owner:",e),console.log("\u{1F4CB} Filtered Contacts:",this.contacts)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}handleVisibilityChange=()=>{document.hidden&&(console.log("\u{1F534} Tab switched or minimized, closing dropdown..."),n.openDropdownIdSubject.next(null))};toggleContactsDropdown(){if(console.log("\u{1F7E2} toggleContactsDropdown called for user:",this.user._id),this.showContactsDropdown){console.log("\u{1F534} Closing contacts dropdown for user:",this.user._id),n.openDropdownIdSubject.next(null);return}console.log("\u{1F504} Closing any other open dropdown..."),n.openDropdownIdSubject.next(this.user._id),this.contactService.allContacts$.pipe(be(1),Re(e=>e&&e.length>0?(console.log("\u{1F4E5} Contacts already available:",e),V(e)):(console.log("\u{1F4E5} No contacts found, fetching from server..."),this.contactService.loadAllContactsFromDB(),this.contactService.allContacts$.pipe(Kh(1),be(1))))).subscribe(e=>{if(!e||e.length===0){console.warn("\u26A0\uFE0F No contacts found after fetching.");return}this.setContactsAndShowDropdown(e)})}setContactsAndShowDropdown(e){this.allContacts=e,this.filterContactsByOwner(this.user._id),this.showContactsDropdown=!0,console.log("\u2705 Contacts dropdown is now open with:",this.contacts)}closeContactsDropdown(){console.log("\u{1F534} Closing contacts dropdown"),this.showContactsDropdown=!1}resetContacts(){this.contacts=[...this.allContacts]}navigateToContact(e){console.log(`\u{1F517} Navigating to contact: ${e}`),this.router.navigate([{outlets:{modal:["contact",e]}}]),this.showContactsDropdown=!1}closePrivateChat(){this.isPrivateChatOpen=!1,this.userIndex.resetUnreadMessages(this.user._id)}onDeleteClick(e,t){e.stopPropagation(),this.remove.emit(t)}isLongField(e,t){return e?e.length>t:!1}openFacebookProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Facebook");return}let r=`https://www.facebook.com/search/top?q=${encodeURIComponent(t.username)}`;window.open(r,"_blank")}openInstagramProfile(e,t){if(e.stopPropagation(),!t.username){console.error("Username is missing, cannot search on Instagram");return}let r=t.username.replace(/\s+/g,""),i=/[^a-zA-Z0-9._]/.test(r),o;i?o=`https://www.google.com/search?q=${encodeURIComponent(t.username+" site:instagram.com")}`:o=`https://www.instagram.com/${encodeURIComponent(r)}`,console.log("Opening URL:",o),window.open(o,"_blank")}static \u0275fac=function(t){return new(t||n)(D(Te),D(Mn),D(Ni),D(Et))};static \u0275cmp=Z({type:n,selectors:[["user-preview"]],inputs:{user:"user"},outputs:{remove:"remove"},decls:23,vars:11,consts:[[1,"user-preview"],[1,"image-container",3,"click"],["alt","user-image",1,"imgprofile",3,"src"],[1,"user-info"],[1,"user-name",3,"title","ngClass"],[1,"button-container"],[1,"button-row"],[1,"message-button-container"],[1,"message-button",3,"click"],["src","../../../assets/images/chat.png","alt","Send Private Message"],[4,"ngIf"],[1,"social-button",3,"click"],["src","assets/images/fb2.png","alt","Facebook Profile"],["src","assets/images/instagram.png","alt","Instagram Profile"],["src","assets/images/eye-contact.png","alt","Instagram Profile"],["class","contacts-dropdown",4,"ngIf"],["class","chat-modal","evStop","",3,"clickOutsideCapture",4,"ngIf"],["class","badge",4,"ngIf"],[1,"badge"],[1,"contacts-dropdown"],[1,"close-dropdown",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["evStop","",1,"chat-modal",3,"clickOutsideCapture"],[1,"chat-content"],[1,"close",3,"click"],[3,"closeChat","chatType","targetUserId"]],template:function(t,r){t&1&&(p(0,"article",0)(1,"div",1),S("click",function(){return r.onPreviewClick()}),A(2,"img",2),f(),p(3,"div",3)(4,"h1",4),C(5),f()(),p(6,"div",5)(7,"div",6)(8,"div",7)(9,"button",8),S("click",function(o){return r.openPrivateChat(o)}),A(10,"img",9),k(11,k8,2,1,"ng-container",10),Lt(12,"async"),f()(),p(13,"button",11),S("click",function(o){return r.openFacebookProfile(o,r.user)}),A(14,"img",12),f()(),p(15,"div",6)(16,"button",11),S("click",function(o){return r.openInstagramProfile(o,r.user)}),A(17,"img",13),f(),p(18,"button",11),S("click",function(){return r.toggleContactsDropdown()}),A(19,"img",14),f(),k(20,R8,5,1,"div",15),f()()(),k(21,F8,5,2,"div",16),A(22,"router-outlet")),t&2&&(m(2),y("src",r.user.img?r.user.img:"../../../assets/images/contact.png",Ie),m(2),y("title",r.user.username)("ngClass",Pa(9,P8,r.isLongField(r.user.username,15))),m(),Pe(" ",r.user.username," "),m(6),y("ngIf",Vt(12,7,r.unreadMessagesCount$)),m(9),y("ngIf",r.showContactsDropdown),m(),y("ngIf",r.isPrivateChatOpen))},dependencies:[fr,pr,me,Wn,mt,Dn,ra,Gt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background:linear-gradient(135deg,#3d6d77,#a8c5cf);box-shadow:0 6px 15px #0003;width:90%;max-width:25em;border-radius:15px;padding:12px;gap:8px;transition:transform .3s,box-shadow .3s}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .imgprofile[_ngcontent-%COMP%]{width:65px;height:65px;border-radius:50%;border:1.5px solid #1C284E;object-fit:cover}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%;text-align:center;font-size:1.125rem;color:#1c284e;font-weight:700;min-width:80px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .user-info.long-name[_ngcontent-%COMP%]{font-size:1rem;line-height:1}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-direction:row;flex-wrap:wrap;gap:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:red;color:#fff;font-size:10px;font-weight:700;border-radius:50%;padding:4px 6px;min-width:16px;text-align:center;box-shadow:0 0 5px #0000004d}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{background-color:#e1e7e7;height:3em;width:3em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid black;cursor:pointer;box-shadow:0 3px 6px #00000026;transition:transform .2s ease,background-color .2s ease}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2em;width:2em}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#a8c5cf}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .message-button[_ngcontent-%COMP%]:active, [_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:active{transform:scale(1.05);box-shadow:0 2px 4px #0003}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{flex:0 0 100%;display:flex;flex-direction:row;gap:1em;justify-content:center;margin-bottom:6px}[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 10px);right:50%;transform:translate(50%,-10px) scale(.95);background:#fffffff2;border-radius:12px;padding:12px;min-width:250px;box-shadow:0 10px 30px #00000026;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;right:50%;transform:translate(50%);border-width:6px;border-style:solid;border-color:transparent transparent rgba(255,255,255,.95) transparent}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:16px;color:#333;padding-bottom:8px;border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;font-weight:700;cursor:pointer;color:#666;transition:color .3s}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   .close-dropdown[_ngcontent-%COMP%]:hover{color:red}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:10px 0;max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;transition:background .3s;font-size:14px;color:#444;display:flex;align-items:center;gap:10px;border-radius:8px}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#0000000d}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4cc";font-size:14px;color:#ff5733}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translate(50%,-15px) scale(.9)}to{opacity:1;transform:translate(50%) scale(1)}}@media (max-width: 600px){[_nghost-%COMP%]   .user-preview[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:8px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:0 0 20%;max-width:20%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{flex:0 0 50%;max-width:45%!important;text-align:center;overflow:hidden}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%;display:flex;flex-wrap:wrap;gap:4px;justify-content:flex-end}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:.5em!important;justify-content:space-around;margin-bottom:4px}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .contacts-dropdown[_ngcontent-%COMP%]{min-width:17em;right:11.5em;transform:none}}[_nghost-%COMP%]   .long-field[_ngcontent-%COMP%]{font-size:.9em}']})}});function V8(n,e){if(n&1){let t=z();p(0,"user-preview",3),S("remove",function(){let i=O(t).$implicit,o=w();return T(o.onRemoveUser(i._id))}),f()}if(n&2){let t=e.$implicit;y("user",t)}}function j8(n,e){n&1&&(p(0,"p"),C(1,"No users found."),f())}var zp,bT=h(()=>{"use strict";N();N();xt();De();CT();zp=class n{constructor(e){this.userService=e}users$;filterBy="";users=[];remove=new X;ngOnInit(){this.users$=this.userService.users$,this.userService.loadUsers().subscribe()}onRemoveUser(e){this.userService.deleteUser(e).subscribe({next:()=>this.userService.loadUsers().subscribe(),error:t=>console.error("Failed to delete user:",t)})}onSetFilter(){this.userService.setFilterBy(this.filterBy)}static \u0275fac=function(t){return new(t||n)(D(Ce))};static \u0275cmp=Z({type:n,selectors:[["user-list"]],inputs:{users:"users"},outputs:{remove:"remove"},decls:4,vars:1,consts:[["noUsers",""],[1,"user-list"],[3,"user","remove",4,"ngFor","ngForOf"],[3,"remove","user"]],template:function(t,r){t&1&&(p(0,"section",1),k(1,V8,1,1,"user-preview",2)(2,j8,2,0,"ng-template",null,0,$n),f()),t&2&&(m(),y("ngForOf",r.users))},dependencies:[pr,$p],styles:[".user-list[_ngcontent-%COMP%]{display:grid;gap:.5em;grid-template-columns:repeat(4,1fr)}@media (max-width: 1200px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (max-width: 1024px){.user-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.user-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}});function U8(n,e){if(n&1){let t=z();p(0,"button",4),S("click",function(){O(t);let i=w();return T(i.onClearFilter())}),C(1,"\u2716"),f()}}var Hp,wT=h(()=>{"use strict";N();we();Bs();xt();N();De();In();Hp=class n{userService=_(Ce);filterBy="";filterSubject$=new ge;destroyRef=_(Nt);ngOnInit(){this.userService.filterBy$.pipe(Kt(this.destroyRef)).subscribe(e=>{this.filterBy=e}),this.filterSubject$.pipe(Er(),Kt(this.destroyRef)).subscribe(()=>{this.userService.setFilterBy(this.filterBy)})}onSetFilter(e){this.filterSubject$.next(e)}onClearFilter(){this.filterBy="",this.onSetFilter("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Z({type:n,selectors:[["user-filter"]],decls:4,vars:2,consts:[[1,"user-filter"],[1,"input-wrapper"],["type","text","placeholder","Search user",1,"filter-container",3,"ngModelChange","ngModel"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"]],template:function(t,r){t&1&&(p(0,"section",0)(1,"div",1)(2,"input",2),Ft("ngModelChange",function(o){return Wt(r.filterBy,o)||(r.filterBy=o),o}),S("ngModelChange",function(o){return r.onSetFilter(o)}),f(),k(3,U8,2,0,"button",3),f()()),t&2&&(m(2),Rt("ngModel",r.filterBy),m(),y("ngIf",r.filterBy))},dependencies:[me,Sn,vr,Gr],styles:[".user-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;max-width:600px;margin:.13em auto}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px}.filter-container[_ngcontent-%COMP%]{width:100%;padding:10px 40px 10px 15px;font-size:1rem;border:2px solid #1C284E;border-radius:30px;outline:none;transition:border-color .3s ease,box-shadow .3s ease}.filter-container[_ngcontent-%COMP%]::placeholder{color:#a8c5cf;font-style:italic}.filter-container[_ngcontent-%COMP%]:focus{border-color:#a8c5cf;box-shadow:0 0 8px #0003}.clear-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);height:20px;width:20px;font-size:18px;font-weight:700;border:none;background:none;color:#174d7c;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:color .3s ease}.clear-button[_ngcontent-%COMP%]:hover{color:#2782d2}.clear-button[_ngcontent-%COMP%]:focus{outline:none}"]})}});var qp,ET=h(()=>{"use strict";Ba();xI();BO();La();In();yT();qr();zs();Zf();bT();wT();M0();G_();N();De();qp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Qe({type:n,bootstrap:[Mp]});static \u0275inj=Ye({imports:[Nd,Xf,yD,rI,iI,vT,NO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})};IM(Ni,function(){return[me,mt,Dn,zp,Hp,ra]},function(){return[Gt]})});var B8=IT(MT=>{Ba();ET();ea();N();DD().bootstrapModule(qp).then(()=>{let n=_(Tn);"serviceWorker"in navigator&&window.addEventListener("load",()=>P(MT,null,function*(){try{let e=yield navigator.serviceWorker.register("/firebase-messaging-sw.js");if(console.log("\u2705 Firebase Service Worker Registered:",e),(yield Notification.requestPermission())!=="granted"){console.warn("\u26A0\uFE0F Notification permission denied.");return}let r=yield n.getFCMToken();r&&(console.log("\u{1F511} FCM Token received:",r),yield n.sendTokenToServer(r))}catch(e){console.error("\u274C Error during Service Worker registration or FCM setup:",e)}}))}).catch(n=>console.error("\u274C Bootstrap error:",n))});export default B8();
